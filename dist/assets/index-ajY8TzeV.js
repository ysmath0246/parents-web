(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function e(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=e(s);fetch(s.href,o)}})();(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function e(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=e(s);fetch(s.href,o)}})();function SE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var db={exports:{}},_l={};/**
* @license React
* react-jsx-runtime.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var pb;function kE(){if(pb)return _l;pb=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return _l.Fragment=e,_l.jsx=n,_l.jsxs=n,_l}var mb;function EE(){return mb||(mb=1,db.exports=kE()),db.exports}var _=EE(),gb={exports:{}},Ne={};/**
* @license React
* react.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var yb;function CE(){if(yb)return Ne;yb=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.iterator;function k(M){return M===null||typeof M!="object"?null:(M=S&&M[S]||M["@@iterator"],typeof M=="function"?M:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,L={};function U(M,te,oe){this.props=M,this.context=te,this.refs=L,this.updater=oe||O}U.prototype.isReactComponent={},U.prototype.setState=function(M,te){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,te,"setState")},U.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function H(){}H.prototype=U.prototype;function X(M,te,oe){this.props=M,this.context=te,this.refs=L,this.updater=oe||O}var ae=X.prototype=new H;ae.constructor=X,T(ae,U.prototype),ae.isPureReactComponent=!0;var ue=Array.isArray,ce={H:null,A:null,T:null,S:null,V:null},se=Object.prototype.hasOwnProperty;function R(M,te,oe,re,me,Te){return oe=Te.ref,{$$typeof:r,type:M,key:te,ref:oe!==void 0?oe:null,props:Te}}function x(M,te){return R(M.type,te,void 0,void 0,void 0,M.props)}function N(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function P(M){var te={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(oe){return te[oe]})}var A=/\/+/g;function z(M,te){return typeof M=="object"&&M!==null&&M.key!=null?P(""+M.key):te.toString(36)}function D(){}function Ye(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(D,D):(M.status="pending",M.then(function(te){M.status==="pending"&&(M.status="fulfilled",M.value=te)},function(te){M.status==="pending"&&(M.status="rejected",M.reason=te)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function et(M,te,oe,re,me){var Te=typeof M;(Te==="undefined"||Te==="boolean")&&(M=null);var ve=!1;if(M===null)ve=!0;else switch(Te){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(M.$$typeof){case r:case e:ve=!0;break;case v:return ve=M._init,et(ve(M._payload),te,oe,re,me)}}if(ve)return me=me(M),ve=re===""?"."+z(M,0):re,ue(me)?(oe="",ve!=null&&(oe=ve.replace(A,"$&/")+"/"),et(me,te,oe,"",function(vn){return vn})):me!=null&&(N(me)&&(me=x(me,oe+(me.key==null||M&&M.key===me.key?"":(""+me.key).replace(A,"$&/")+"/")+ve)),te.push(me)),1;ve=0;var ht=re===""?".":re+":";if(ue(M))for(var Le=0;Le<M.length;Le++)re=M[Le],Te=ht+z(re,Le),ve+=et(re,te,oe,Te,me);else if(Le=k(M),typeof Le=="function")for(M=Le.call(M),Le=0;!(re=M.next()).done;)re=re.value,Te=ht+z(re,Le++),ve+=et(re,te,oe,Te,me);else if(Te==="object"){if(typeof M.then=="function")return et(Ye(M),te,oe,re,me);throw te=String(M),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return ve}function G(M,te,oe){if(M==null)return M;var re=[],me=0;return et(M,re,"","",function(Te){return te.call(oe,Te,me++)}),re}function le(M){if(M._status===-1){var te=M._result;te=te(),te.then(function(oe){(M._status===0||M._status===-1)&&(M._status=1,M._result=oe)},function(oe){(M._status===0||M._status===-1)&&(M._status=2,M._result=oe)}),M._status===-1&&(M._status=0,M._result=te)}if(M._status===1)return M._result.default;throw M._result}var pe=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function be(){}return Ne.Children={map:G,forEach:function(M,te,oe){G(M,function(){te.apply(this,arguments)},oe)},count:function(M){var te=0;return G(M,function(){te++}),te},toArray:function(M){return G(M,function(te){return te})||[]},only:function(M){if(!N(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Ne.Component=U,Ne.Fragment=n,Ne.Profiler=o,Ne.PureComponent=X,Ne.StrictMode=s,Ne.Suspense=m,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ce,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(M){return ce.H.useMemoCache(M)}},Ne.cache=function(M){return function(){return M.apply(null,arguments)}},Ne.cloneElement=function(M,te,oe){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var re=T({},M.props),me=M.key,Te=void 0;if(te!=null)for(ve in te.ref!==void 0&&(Te=void 0),te.key!==void 0&&(me=""+te.key),te)!se.call(te,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&te.ref===void 0||(re[ve]=te[ve]);var ve=arguments.length-2;if(ve===1)re.children=oe;else if(1<ve){for(var ht=Array(ve),Le=0;Le<ve;Le++)ht[Le]=arguments[Le+2];re.children=ht}return R(M.type,me,void 0,void 0,Te,re)},Ne.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Ne.createElement=function(M,te,oe){var re,me={},Te=null;if(te!=null)for(re in te.key!==void 0&&(Te=""+te.key),te)se.call(te,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(me[re]=te[re]);var ve=arguments.length-2;if(ve===1)me.children=oe;else if(1<ve){for(var ht=Array(ve),Le=0;Le<ve;Le++)ht[Le]=arguments[Le+2];me.children=ht}if(M&&M.defaultProps)for(re in ve=M.defaultProps,ve)me[re]===void 0&&(me[re]=ve[re]);return R(M,Te,void 0,void 0,null,me)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(M){return{$$typeof:p,render:M}},Ne.isValidElement=N,Ne.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:le}},Ne.memo=function(M,te){return{$$typeof:g,type:M,compare:te===void 0?null:te}},Ne.startTransition=function(M){var te=ce.T,oe={};ce.T=oe;try{var re=M(),me=ce.S;me!==null&&me(oe,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(be,pe)}catch(Te){pe(Te)}finally{ce.T=te}},Ne.unstable_useCacheRefresh=function(){return ce.H.useCacheRefresh()},Ne.use=function(M){return ce.H.use(M)},Ne.useActionState=function(M,te,oe){return ce.H.useActionState(M,te,oe)},Ne.useCallback=function(M,te){return ce.H.useCallback(M,te)},Ne.useContext=function(M){return ce.H.useContext(M)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(M,te){return ce.H.useDeferredValue(M,te)},Ne.useEffect=function(M,te,oe){var re=ce.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return re.useEffect(M,te)},Ne.useId=function(){return ce.H.useId()},Ne.useImperativeHandle=function(M,te,oe){return ce.H.useImperativeHandle(M,te,oe)},Ne.useInsertionEffect=function(M,te){return ce.H.useInsertionEffect(M,te)},Ne.useLayoutEffect=function(M,te){return ce.H.useLayoutEffect(M,te)},Ne.useMemo=function(M,te){return ce.H.useMemo(M,te)},Ne.useOptimistic=function(M,te){return ce.H.useOptimistic(M,te)},Ne.useReducer=function(M,te,oe){return ce.H.useReducer(M,te,oe)},Ne.useRef=function(M){return ce.H.useRef(M)},Ne.useState=function(M){return ce.H.useState(M)},Ne.useSyncExternalStore=function(M,te,oe){return ce.H.useSyncExternalStore(M,te,oe)},Ne.useTransition=function(){return ce.H.useTransition()},Ne.version="19.1.0",Ne}var vb;function Yp(){return vb||(vb=1,gb.exports=CE()),gb.exports}var F=Yp(),Vd={exports:{}},Tl={},bb={exports:{}},wb={};/**
* @license React
* scheduler.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Sb;function xE(){return Sb||(Sb=1,function(r){function e(G,le){var pe=G.length;G.push(le);e:for(;0<pe;){var be=pe-1>>>1,M=G[be];if(0<o(M,le))G[be]=le,G[pe]=M,pe=be;else break e}}function n(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var le=G[0],pe=G.pop();if(pe!==le){G[0]=pe;e:for(var be=0,M=G.length,te=M>>>1;be<te;){var oe=2*(be+1)-1,re=G[oe],me=oe+1,Te=G[me];if(0>o(re,pe))me<M&&0>o(Te,re)?(G[be]=Te,G[me]=pe,be=me):(G[be]=re,G[oe]=pe,be=oe);else if(me<M&&0>o(Te,pe))G[be]=Te,G[me]=pe,be=me;else break e}}return le}function o(G,le){var pe=G.sortIndex-le.sortIndex;return pe!==0?pe:G.id-le.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,p=h.now();r.unstable_now=function(){return h.now()-p}}var m=[],g=[],v=1,S=null,k=3,O=!1,T=!1,L=!1,U=!1,H=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;function ue(G){for(var le=n(g);le!==null;){if(le.callback===null)s(g);else if(le.startTime<=G)s(g),le.sortIndex=le.expirationTime,e(m,le);else break;le=n(g)}}function ce(G){if(L=!1,ue(G),!T)if(n(m)!==null)T=!0,se||(se=!0,z());else{var le=n(g);le!==null&&et(ce,le.startTime-G)}}var se=!1,R=-1,x=5,N=-1;function P(){return U?!0:!(r.unstable_now()-N<x)}function A(){if(U=!1,se){var G=r.unstable_now();N=G;var le=!0;try{e:{T=!1,L&&(L=!1,X(R),R=-1),O=!0;var pe=k;try{t:{for(ue(G),S=n(m);S!==null&&!(S.expirationTime>G&&P());){var be=S.callback;if(typeof be=="function"){S.callback=null,k=S.priorityLevel;var M=be(S.expirationTime<=G);if(G=r.unstable_now(),typeof M=="function"){S.callback=M,ue(G),le=!0;break t}S===n(m)&&s(m),ue(G)}else s(m);S=n(m)}if(S!==null)le=!0;else{var te=n(g);te!==null&&et(ce,te.startTime-G),le=!1}}break e}finally{S=null,k=pe,O=!1}le=void 0}}finally{le?z():se=!1}}}var z;if(typeof ae=="function")z=function(){ae(A)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Ye=D.port2;D.port1.onmessage=A,z=function(){Ye.postMessage(null)}}else z=function(){H(A,0)};function et(G,le){R=H(function(){G(r.unstable_now())},le)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return k},r.unstable_next=function(G){switch(k){case 1:case 2:case 3:var le=3;break;default:le=k}var pe=k;k=le;try{return G()}finally{k=pe}},r.unstable_requestPaint=function(){U=!0},r.unstable_runWithPriority=function(G,le){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var pe=k;k=G;try{return le()}finally{k=pe}},r.unstable_scheduleCallback=function(G,le,pe){var be=r.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?be+pe:be):pe=be,G){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=pe+M,G={id:v++,callback:le,priorityLevel:G,startTime:pe,expirationTime:M,sortIndex:-1},pe>be?(G.sortIndex=pe,e(g,G),n(m)===null&&G===n(g)&&(L?(X(R),R=-1):L=!0,et(ce,pe-be))):(G.sortIndex=M,e(m,G),T||O||(T=!0,se||(se=!0,z()))),G},r.unstable_shouldYield=P,r.unstable_wrapCallback=function(G){var le=k;return function(){var pe=k;k=le;try{return G.apply(this,arguments)}finally{k=pe}}}}(wb)),wb}var kb;function _E(){return kb||(kb=1,bb.exports=xE()),bb.exports}var Bd={exports:{}},on={};/**
* @license React
* react-dom.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Eb;function TE(){if(Eb)return on;Eb=1;var r=Yp();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,g,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:m,containerInfo:g,implementation:v}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,on.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(m,g,null,v)},on.flushSync=function(m){var g=h.T,v=s.p;try{if(h.T=null,s.p=2,m)return m()}finally{h.T=g,s.p=v,s.d.f()}},on.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},on.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},on.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,S=p(v,g.crossOrigin),k=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:k,fetchPriority:O}):v==="script"&&s.d.X(m,{crossOrigin:S,integrity:k,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},on.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=p(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},on.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,S=p(v,g.crossOrigin);s.d.L(m,v,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},on.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=p(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},on.requestFormReset=function(m){s.d.r(m)},on.unstable_batchedUpdates=function(m,g){return m(g)},on.useFormState=function(m,g,v){return h.H.useFormState(m,g,v)},on.useFormStatus=function(){return h.H.useHostTransitionStatus()},on.version="19.1.0",on}var Cb;function NE(){if(Cb)return Bd.exports;Cb=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Bd.exports=TE(),Bd.exports}/**
* @license React
* react-dom-client.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var xb;function DE(){if(xb)return Tl;xb=1;var r=_E(),e=Yp(),n=NE();function s(t){var a="https://react.dev/errors/"+t;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)a+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var a=t,i=t;if(t.alternate)for(;a.return;)a=a.return;else{t=a;do a=t,(a.flags&4098)!==0&&(i=a.return),t=a.return;while(t)}return a.tag===3?i:null}function h(t){if(t.tag===13){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function m(t){var a=t.alternate;if(!a){if(a=u(t),a===null)throw Error(s(188));return a!==t?null:t}for(var i=t,l=a;;){var f=i.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){i=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===i)return p(f),t;if(d===l)return p(f),a;d=d.sibling}throw Error(s(188))}if(i.return!==l.return)i=f,l=d;else{for(var w=!1,E=f.child;E;){if(E===i){w=!0,i=f,l=d;break}if(E===l){w=!0,l=f,i=d;break}E=E.sibling}if(!w){for(E=d.child;E;){if(E===i){w=!0,i=d,l=f;break}if(E===l){w=!0,l=d,i=f;break}E=E.sibling}if(!w)throw Error(s(189))}}if(i.alternate!==l)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?t:a}function g(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t;for(t=t.child;t!==null;){if(a=g(t),a!==null)return a;t=t.sibling}return null}var v=Object.assign,S=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),X=Symbol.for("react.consumer"),ae=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),A=Symbol.iterator;function z(t){return t===null||typeof t!="object"?null:(t=A&&t[A]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function Ye(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case T:return"Fragment";case U:return"Profiler";case L:return"StrictMode";case ce:return"Suspense";case se:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case O:return"Portal";case ae:return(t.displayName||"Context")+".Provider";case X:return(t._context.displayName||"Context")+".Consumer";case ue:var a=t.render;return t=t.displayName,t||(t=a.displayName||a.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return a=t.displayName||null,a!==null?a:Ye(t.type)||"Memo";case x:a=t._payload,t=t._init;try{return Ye(t(a))}catch{}}return null}var et=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},be=[],M=-1;function te(t){return{current:t}}function oe(t){0>M||(t.current=be[M],be[M]=null,M--)}function re(t,a){M++,be[M]=t.current,t.current=a}var me=te(null),Te=te(null),ve=te(null),ht=te(null);function Le(t,a){switch(re(ve,a),re(Te,t),re(me,null),a.nodeType){case 9:case 11:t=(t=a.documentElement)&&(t=t.namespaceURI)?$v(t):0;break;default:if(t=a.tagName,a=a.namespaceURI)a=$v(a),t=Vv(a,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}oe(me),re(me,t)}function vn(){oe(me),oe(Te),oe(ve)}function jn(t){t.memoizedState!==null&&re(ht,t);var a=me.current,i=Vv(a,t.type);a!==i&&(re(Te,t),re(me,i))}function _n(t){Te.current===t&&(oe(me),oe(Te)),ht.current===t&&(oe(ht),Sl._currentValue=pe)}var zn=Object.prototype.hasOwnProperty,Un=r.unstable_scheduleCallback,st=r.unstable_cancelCallback,Et=r.unstable_shouldYield,jr=r.unstable_requestPaint,hn=r.unstable_now,ci=r.unstable_getCurrentPriorityLevel,ps=r.unstable_ImmediatePriority,wa=r.unstable_UserBlockingPriority,zr=r.unstable_NormalPriority,fi=r.unstable_LowPriority,Sa=r.unstable_IdlePriority,ms=r.log,hi=r.unstable_setDisableYieldValue,dt=null,We=null;function qt(t){if(typeof ms=="function"&&hi(t),We&&typeof We.setStrictMode=="function")try{We.setStrictMode(dt,t)}catch{}}var Ot=Math.clz32?Math.clz32:Fn,gs=Math.log,To=Math.LN2;function Fn(t){return t>>>=0,t===0?32:31-(gs(t)/To|0)|0}var pr=256,Ur=4194304;function bn(t){var a=t&42;if(a!==0)return a;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Fr(t,a,i){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,w=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~d,l!==0?f=bn(l):(w&=E,w!==0?f=bn(w):i||(i=E&~t,i!==0&&(f=bn(i))))):(E=l&~d,E!==0?f=bn(E):w!==0?f=bn(w):i||(i=l&~t,i!==0&&(f=bn(i)))),f===0?0:a!==0&&a!==f&&(a&d)===0&&(d=f&-f,i=a&-a,d>=i||d===32&&(i&4194048)!==0)?a:f}function rr(t,a){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&a)===0}function ys(t,a){switch(t){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ka(){var t=pr;return pr<<=1,(pr&4194048)===0&&(pr=256),t}function vs(){var t=Ur;return Ur<<=1,(Ur&62914560)===0&&(Ur=4194304),t}function $n(t){for(var a=[],i=0;31>i;i++)a.push(t);return a}function pt(t,a){t.pendingLanes|=a,a!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Tt(t,a,i,l,f,d){var w=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var E=t.entanglements,I=t.expirationTimes,W=t.hiddenUpdates;for(i=w&~i;0<i;){var Q=31-Ot(i),Z=1<<Q;E[Q]=0,I[Q]=-1;var q=W[Q];if(q!==null)for(W[Q]=null,Q=0;Q<q.length;Q++){var K=q[Q];K!==null&&(K.lane&=-536870913)}i&=~Z}l!==0&&dn(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(w&~a))}function dn(t,a,i){t.pendingLanes|=a,t.suspendedLanes&=~a;var l=31-Ot(a);t.entangledLanes|=a,t.entanglements[l]=t.entanglements[l]|1073741824|i&4194090}function Qe(t,a){var i=t.entangledLanes|=a;for(t=t.entanglements;i;){var l=31-Ot(i),f=1<<l;f&a|t[l]&a&&(t[l]|=a),i&=~f}}function Rt(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ea(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Vn(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:ob(t.type))}function bs(t,a){var i=le.p;try{return le.p=t,a()}finally{le.p=i}}var it=Math.random().toString(36).slice(2),vt="__reactFiber$"+it,ct="__reactProps$"+it,an="__reactContainer$"+it,$r="__reactEvents$"+it,ws="__reactListeners$"+it,mr="__reactHandles$"+it,Ca="__reactResources$"+it,gr="__reactMarker$"+it;function yr(t){delete t[vt],delete t[ct],delete t[$r],delete t[ws],delete t[mr]}function ar(t){var a=t[vt];if(a)return a;for(var i=t.parentNode;i;){if(a=i[an]||i[vt]){if(i=a.alternate,a.child!==null||i!==null&&i.child!==null)for(t=qv(t);t!==null;){if(i=t[vt])return i;t=qv(t)}return a}t=i,i=t.parentNode}return null}function Ee(t){if(t=t[vt]||t[an]){var a=t.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return t}return null}function Fe(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t.stateNode;throw Error(s(33))}function Pe(t){var a=t[Ca];return a||(a=t[Ca]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function $e(t){t[gr]=!0}var Kt=new Set,vr={};function Tn(t,a){sr(t,a),sr(t+"Capture",a)}function sr(t,a){for(vr[t]=a,t=0;t<a.length;t++)Kt.add(a[t])}var fu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hu={},Ss={};function du(t){return zn.call(Ss,t)?!0:zn.call(hu,t)?!1:fu.test(t)?Ss[t]=!0:(hu[t]=!0,!1)}function xa(t,a,i){if(du(a))if(i===null)t.removeAttribute(a);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(a);return;case"boolean":var l=a.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(a);return}}t.setAttribute(a,""+i)}}function br(t,a,i){if(i===null)t.removeAttribute(a);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttribute(a,""+i)}}function Gt(t,a,i,l){if(l===null)t.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(a,i,""+l)}}var ks,pu;function Vr(t){if(ks===void 0)try{throw Error()}catch(i){var a=i.stack.trim().match(/\n( *(at )?)/);ks=a&&a[1]||"",pu=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ks+t+pu}var di=!1;function pi(t,a){if(!t||di)return"";di=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(a){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(K){var q=K}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(K){q=K}t.call(Z.prototype)}}else{try{throw Error()}catch(K){q=K}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(K){if(K&&q&&typeof K.stack=="string")return[K.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),w=d[0],E=d[1];if(w&&E){var I=w.split(`
`),W=E.split(`
`);for(f=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;f<W.length&&!W[f].includes("DetermineComponentFrameRoot");)f++;if(l===I.length||f===W.length)for(l=I.length-1,f=W.length-1;1<=l&&0<=f&&I[l]!==W[f];)f--;for(;1<=l&&0<=f;l--,f--)if(I[l]!==W[f]){if(l!==1||f!==1)do if(l--,f--,0>f||I[l]!==W[f]){var Q=`
`+I[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=f);break}}}finally{di=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?Vr(i):""}function No(t){switch(t.tag){case 26:case 27:case 5:return Vr(t.type);case 16:return Vr("Lazy");case 13:return Vr("Suspense");case 19:return Vr("SuspenseList");case 0:case 15:return pi(t.type,!1);case 11:return pi(t.type.render,!1);case 1:return pi(t.type,!0);case 31:return Vr("Activity");default:return""}}function mi(t){try{var a="";do a+=No(t),t=t.return;while(t);return a}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function pn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Do(t){var a=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function qf(t){var a=Do(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,a),l=""+t[a];if(!t.hasOwnProperty(a)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var f=i.get,d=i.set;return Object.defineProperty(t,a,{configurable:!0,get:function(){return f.call(this)},set:function(w){l=""+w,d.call(this,w)}}),Object.defineProperty(t,a,{enumerable:i.enumerable}),{getValue:function(){return l},setValue:function(w){l=""+w},stopTracking:function(){t._valueTracker=null,delete t[a]}}}}function gi(t){t._valueTracker||(t._valueTracker=qf(t))}function Ao(t){if(!t)return!1;var a=t._valueTracker;if(!a)return!0;var i=a.getValue(),l="";return t&&(l=Do(t)?t.checked?"true":"false":t.value),t=l,t!==i?(a.setValue(t),!0):!1}function Es(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Kf=/[\n"\\]/g;function Pt(t){return t.replace(Kf,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Nn(t,a,i,l,f,d,w,E){t.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.type=w:t.removeAttribute("type"),a!=null?w==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+pn(a)):t.value!==""+pn(a)&&(t.value=""+pn(a)):w!=="submit"&&w!=="reset"||t.removeAttribute("value"),a!=null?_a(t,w,pn(a)):i!=null?_a(t,w,pn(i)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+pn(E):t.removeAttribute("name")}function Cs(t,a,i,l,f,d,w,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),a!=null||i!=null){if(!(d!=="submit"&&d!=="reset"||a!=null))return;i=i!=null?""+pn(i):"",a=a!=null?""+pn(a):i,E||a===t.value||(t.value=a),t.defaultValue=a}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(t.name=w)}function _a(t,a,i){a==="number"&&Es(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function Br(t,a,i,l){if(t=t.options,a){a={};for(var f=0;f<i.length;f++)a["$"+i[f]]=!0;for(i=0;i<t.length;i++)f=a.hasOwnProperty("$"+t[i].value),t[i].selected!==f&&(t[i].selected=f),f&&l&&(t[i].defaultSelected=!0)}else{for(i=""+pn(i),a=null,f=0;f<t.length;f++){if(t[f].value===i){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}a!==null||t[f].disabled||(a=t[f])}a!==null&&(a.selected=!0)}}function tt(t,a,i){if(a!=null&&(a=""+pn(a),a!==t.value&&(t.value=a),i==null)){t.defaultValue!==a&&(t.defaultValue=a);return}t.defaultValue=i!=null?""+pn(i):""}function xs(t,a,i,l){if(a==null){if(l!=null){if(i!=null)throw Error(s(92));if(et(l)){if(1<l.length)throw Error(s(93));l=l[0]}i=l}i==null&&(i=""),a=i}i=pn(a),t.defaultValue=i,l=t.textContent,l===i&&l!==""&&l!==null&&(t.value=l)}function Bn(t,a){if(a){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=a;return}}t.textContent=a}var _s=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mu(t,a,i){var l=a.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?l?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="":l?t.setProperty(a,i):typeof i!="number"||i===0||_s.has(a)?a==="float"?t.cssFloat=i:t[a]=(""+i).trim():t[a]=i+"px"}function Io(t,a,i){if(a!=null&&typeof a!="object")throw Error(s(62));if(t=t.style,i!=null){for(var l in i)!i.hasOwnProperty(l)||a!=null&&a.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in a)l=a[f],a.hasOwnProperty(f)&&i[f]!==l&&mu(t,f,l)}else for(var d in a)a.hasOwnProperty(d)&&mu(t,d,a[d])}function Oo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Yf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yi(t){return Yf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Wr=null;function Wn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hr=null,qr=null;function Ro(t){var a=Ee(t);if(a&&(t=a.stateNode)){var i=t[ct]||null;e:switch(t=a.stateNode,a.type){case"input":if(Nn(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),a=i.name,i.type==="radio"&&a!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Pt(""+a)+'"][type="radio"]'),a=0;a<i.length;a++){var l=i[a];if(l!==t&&l.form===t.form){var f=l[ct]||null;if(!f)throw Error(s(90));Nn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(a=0;a<i.length;a++)l=i[a],l.form===t.form&&Ao(l)}break e;case"textarea":tt(t,i.value,i.defaultValue);break e;case"select":a=i.value,a!=null&&Br(t,!!i.multiple,a,!1)}}}var wr=!1;function gu(t,a,i){if(wr)return t(a,i);wr=!0;try{var l=t(a);return l}finally{if(wr=!1,(Hr!==null||qr!==null)&&(uc(),Hr&&(a=Hr,t=qr,qr=Hr=null,Ro(a),t)))for(a=0;a<t.length;a++)Ro(t[a])}}function Ts(t,a){var i=t.stateNode;if(i===null)return null;var l=i[ct]||null;if(l===null)return null;i=l[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(s(231,a,typeof i));return i}var ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hn=!1;if(ir)try{var Ns={};Object.defineProperty(Ns,"passive",{get:function(){Hn=!0}}),window.addEventListener("test",Ns,Ns),window.removeEventListener("test",Ns,Ns)}catch{Hn=!1}var Sr=null,Ta=null,Kr=null;function Po(){if(Kr)return Kr;var t,a=Ta,i=a.length,l,f="value"in Sr?Sr.value:Sr.textContent,d=f.length;for(t=0;t<i&&a[t]===f[t];t++);var w=i-t;for(l=1;l<=w&&a[i-l]===f[d-l];l++);return Kr=f.slice(t,1<l?1-l:void 0)}function kr(t){var a=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&a===13&&(t=13)):t=a,t===10&&(t=13),32<=t||t===13?t:0}function Er(){return!0}function Mo(){return!1}function Ft(t){function a(i,l,f,d,w){this._reactName=i,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=w,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(i=t[E],this[E]=i?i(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Er:Mo,this.isPropagationStopped=Mo,this}return v(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Er)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Er)},persist:function(){},isPersistent:Er}),a}var Ke={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vi=Ft(Ke),Ds=v({},Ke,{view:0,detail:0}),yu=Ft(Ds),bi,wi,Cr,As=v({},Ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Cr&&(Cr&&t.type==="mousemove"?(bi=t.screenX-Cr.screenX,wi=t.screenY-Cr.screenY):wi=bi=0,Cr=t),bi)},movementY:function(t){return"movementY"in t?t.movementY:wi}}),qn=Ft(As),vu=v({},As,{dataTransfer:0}),Qf=Ft(vu),Is=v({},Ds,{relatedTarget:0}),Si=Ft(Is),Lo=v({},Ke,{animationName:0,elapsedTime:0,pseudoElement:0}),ki=Ft(Lo),bu=v({},Ke,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ei=Ft(bu),Jf=v({},Ke,{data:0}),jo=Ft(Jf),Os={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Su={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zo(t){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(t):(t=Su[t])?!!a[t]:!1}function Rs(){return zo}var ku=v({},Ds,{key:function(t){if(t.key){var a=Os[t.key]||t.key;if(a!=="Unidentified")return a}return t.type==="keypress"?(t=kr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rs,charCode:function(t){return t.type==="keypress"?kr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?kr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ci=Ft(ku),Eu=v({},As,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uo=Ft(Eu),Gr=v({},Ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rs}),Cu=Ft(Gr),xu=v({},Ke,{propertyName:0,elapsedTime:0,pseudoElement:0}),_u=Ft(xu),Tu=v({},As,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xi=Ft(Tu),mn=v({},Ke,{newState:0,oldState:0}),Nu=Ft(mn),Du=[9,13,27,32],xr=ir&&"CompositionEvent"in window,c=null;ir&&"documentMode"in document&&(c=document.documentMode);var y=ir&&"TextEvent"in window&&!c,b=ir&&(!xr||c&&8<c&&11>=c),C=" ",V=!1;function Y(t,a){switch(t){case"keyup":return Du.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ie(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ve=!1;function Mt(t,a){switch(t){case"compositionend":return ie(a);case"keypress":return a.which!==32?null:(V=!0,C);case"textInput":return t=a.data,t===C&&V?null:t;default:return null}}function He(t,a){if(Ve)return t==="compositionend"||!xr&&Y(t,a)?(t=Po(),Kr=Ta=Sr=null,Ve=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return b&&a.locale!=="ko"?null:a.data;default:return null}}var $t={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yt(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a==="input"?!!$t[t.type]:a==="textarea"}function Yr(t,a,i,l){Hr?qr?qr.push(l):qr=[l]:Hr=l,a=mc(a,"onChange"),0<a.length&&(i=new vi("onChange","change",null,i,l),t.push({event:i,listeners:a}))}var Qt=null,_r=null;function Fo(t){Lv(t,0)}function Au(t){var a=Fe(t);if(Ao(a))return t}function rg(t,a){if(t==="change")return a}var ag=!1;if(ir){var Xf;if(ir){var Zf="oninput"in document;if(!Zf){var sg=document.createElement("div");sg.setAttribute("oninput","return;"),Zf=typeof sg.oninput=="function"}Xf=Zf}else Xf=!1;ag=Xf&&(!document.documentMode||9<document.documentMode)}function ig(){Qt&&(Qt.detachEvent("onpropertychange",og),_r=Qt=null)}function og(t){if(t.propertyName==="value"&&Au(_r)){var a=[];Yr(a,_r,t,Wn(t)),gu(Fo,a)}}function J1(t,a,i){t==="focusin"?(ig(),Qt=a,_r=i,Qt.attachEvent("onpropertychange",og)):t==="focusout"&&ig()}function X1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Au(_r)}function Z1(t,a){if(t==="click")return Au(a)}function ek(t,a){if(t==="input"||t==="change")return Au(a)}function tk(t,a){return t===a&&(t!==0||1/t===1/a)||t!==t&&a!==a}var Dn=typeof Object.is=="function"?Object.is:tk;function $o(t,a){if(Dn(t,a))return!0;if(typeof t!="object"||t===null||typeof a!="object"||a===null)return!1;var i=Object.keys(t),l=Object.keys(a);if(i.length!==l.length)return!1;for(l=0;l<i.length;l++){var f=i[l];if(!zn.call(a,f)||!Dn(t[f],a[f]))return!1}return!0}function lg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ug(t,a){var i=lg(t);t=0;for(var l;i;){if(i.nodeType===3){if(l=t+i.textContent.length,t<=a&&l>=a)return{node:i,offset:a-t};t=l}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=lg(i)}}function cg(t,a){return t&&a?t===a?!0:t&&t.nodeType===3?!1:a&&a.nodeType===3?cg(t,a.parentNode):"contains"in t?t.contains(a):t.compareDocumentPosition?!!(t.compareDocumentPosition(a)&16):!1:!1}function fg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var a=Es(t.document);a instanceof t.HTMLIFrameElement;){try{var i=typeof a.contentWindow.location.href=="string"}catch{i=!1}if(i)t=a.contentWindow;else break;a=Es(t.document)}return a}function eh(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a&&(a==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||a==="textarea"||t.contentEditable==="true")}var nk=ir&&"documentMode"in document&&11>=document.documentMode,_i=null,th=null,Vo=null,nh=!1;function hg(t,a,i){var l=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;nh||_i==null||_i!==Es(l)||(l=_i,"selectionStart"in l&&eh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Vo&&$o(Vo,l)||(Vo=l,l=mc(th,"onSelect"),0<l.length&&(a=new vi("onSelect","select",null,a,i),t.push({event:a,listeners:l}),a.target=_i)))}function Ps(t,a){var i={};return i[t.toLowerCase()]=a.toLowerCase(),i["Webkit"+t]="webkit"+a,i["Moz"+t]="moz"+a,i}var Ti={animationend:Ps("Animation","AnimationEnd"),animationiteration:Ps("Animation","AnimationIteration"),animationstart:Ps("Animation","AnimationStart"),transitionrun:Ps("Transition","TransitionRun"),transitionstart:Ps("Transition","TransitionStart"),transitioncancel:Ps("Transition","TransitionCancel"),transitionend:Ps("Transition","TransitionEnd")},rh={},dg={};ir&&(dg=document.createElement("div").style,"AnimationEvent"in window||(delete Ti.animationend.animation,delete Ti.animationiteration.animation,delete Ti.animationstart.animation),"TransitionEvent"in window||delete Ti.transitionend.transition);function Ms(t){if(rh[t])return rh[t];if(!Ti[t])return t;var a=Ti[t],i;for(i in a)if(a.hasOwnProperty(i)&&i in dg)return rh[t]=a[i];return t}var pg=Ms("animationend"),mg=Ms("animationiteration"),gg=Ms("animationstart"),rk=Ms("transitionrun"),ak=Ms("transitionstart"),sk=Ms("transitioncancel"),yg=Ms("transitionend"),vg=new Map,ah="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ah.push("scrollEnd");function or(t,a){vg.set(t,a),Tn(a,[t])}var bg=new WeakMap;function Kn(t,a){if(typeof t=="object"&&t!==null){var i=bg.get(t);return i!==void 0?i:(a={value:t,source:a,stack:mi(a)},bg.set(t,a),a)}return{value:t,source:a,stack:mi(a)}}var Gn=[],Ni=0,sh=0;function Iu(){for(var t=Ni,a=sh=Ni=0;a<t;){var i=Gn[a];Gn[a++]=null;var l=Gn[a];Gn[a++]=null;var f=Gn[a];Gn[a++]=null;var d=Gn[a];if(Gn[a++]=null,l!==null&&f!==null){var w=l.pending;w===null?f.next=f:(f.next=w.next,w.next=f),l.pending=f}d!==0&&wg(i,f,d)}}function Ou(t,a,i,l){Gn[Ni++]=t,Gn[Ni++]=a,Gn[Ni++]=i,Gn[Ni++]=l,sh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function ih(t,a,i,l){return Ou(t,a,i,l),Ru(t)}function Di(t,a){return Ou(t,null,null,a),Ru(t)}function wg(t,a,i){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i);for(var f=!1,d=t.return;d!==null;)d.childLanes|=i,l=d.alternate,l!==null&&(l.childLanes|=i),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&a!==null&&(f=31-Ot(i),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[a]:l.push(a),a.lane=i|536870912),d):null}function Ru(t){if(50<dl)throw dl=0,hd=null,Error(s(185));for(var a=t.return;a!==null;)t=a,a=t.return;return t.tag===3?t.stateNode:null}var Ai={};function ik(t,a,i,l){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(t,a,i,l){return new ik(t,a,i,l)}function oh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Qr(t,a){var i=t.alternate;return i===null?(i=An(t.tag,a,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=a,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,a=t.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function Sg(t,a){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=a,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,a=i.dependencies,t.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),t}function Pu(t,a,i,l,f,d){var w=0;if(l=t,typeof t=="function")oh(t)&&(w=1);else if(typeof t=="string")w=lE(t,i,me.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=An(31,i,a,f),t.elementType=N,t.lanes=d,t;case T:return Ls(i.children,f,d,a);case L:w=8,f|=24;break;case U:return t=An(12,i,a,f|2),t.elementType=U,t.lanes=d,t;case ce:return t=An(13,i,a,f),t.elementType=ce,t.lanes=d,t;case se:return t=An(19,i,a,f),t.elementType=se,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case H:case ae:w=10;break e;case X:w=9;break e;case ue:w=11;break e;case R:w=14;break e;case x:w=16,l=null;break e}w=29,i=Error(s(130,t===null?"null":typeof t,"")),l=null}return a=An(w,i,a,f),a.elementType=t,a.type=l,a.lanes=d,a}function Ls(t,a,i,l){return t=An(7,t,l,a),t.lanes=i,t}function lh(t,a,i){return t=An(6,t,null,a),t.lanes=i,t}function uh(t,a,i){return a=An(4,t.children!==null?t.children:[],t.key,a),a.lanes=i,a.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},a}var Ii=[],Oi=0,Mu=null,Lu=0,Yn=[],Qn=0,js=null,Jr=1,Xr="";function zs(t,a){Ii[Oi++]=Lu,Ii[Oi++]=Mu,Mu=t,Lu=a}function kg(t,a,i){Yn[Qn++]=Jr,Yn[Qn++]=Xr,Yn[Qn++]=js,js=t;var l=Jr;t=Xr;var f=32-Ot(l)-1;l&=~(1<<f),i+=1;var d=32-Ot(a)+f;if(30<d){var w=f-f%5;d=(l&(1<<w)-1).toString(32),l>>=w,f-=w,Jr=1<<32-Ot(a)+f|i<<f|l,Xr=d+t}else Jr=1<<d|i<<f|l,Xr=t}function ch(t){t.return!==null&&(zs(t,1),kg(t,1,0))}function fh(t){for(;t===Mu;)Mu=Ii[--Oi],Ii[Oi]=null,Lu=Ii[--Oi],Ii[Oi]=null;for(;t===js;)js=Yn[--Qn],Yn[Qn]=null,Xr=Yn[--Qn],Yn[Qn]=null,Jr=Yn[--Qn],Yn[Qn]=null}var gn=null,St=null,qe=!1,Us=null,Tr=!1,hh=Error(s(519));function Fs(t){var a=Error(s(418,""));throw Ho(Kn(a,t)),hh}function Eg(t){var a=t.stateNode,i=t.type,l=t.memoizedProps;switch(a[vt]=t,a[ct]=l,i){case"dialog":Re("cancel",a),Re("close",a);break;case"iframe":case"object":case"embed":Re("load",a);break;case"video":case"audio":for(i=0;i<ml.length;i++)Re(ml[i],a);break;case"source":Re("error",a);break;case"img":case"image":case"link":Re("error",a),Re("load",a);break;case"details":Re("toggle",a);break;case"input":Re("invalid",a),Cs(a,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),gi(a);break;case"select":Re("invalid",a);break;case"textarea":Re("invalid",a),xs(a,l.value,l.defaultValue,l.children),gi(a)}i=l.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||a.textContent===""+i||l.suppressHydrationWarning===!0||Fv(a.textContent,i)?(l.popover!=null&&(Re("beforetoggle",a),Re("toggle",a)),l.onScroll!=null&&Re("scroll",a),l.onScrollEnd!=null&&Re("scrollend",a),l.onClick!=null&&(a.onclick=gc),a=!0):a=!1,a||Fs(t)}function Cg(t){for(gn=t.return;gn;)switch(gn.tag){case 5:case 13:Tr=!1;return;case 27:case 3:Tr=!0;return;default:gn=gn.return}}function Bo(t){if(t!==gn)return!1;if(!qe)return Cg(t),qe=!0,!1;var a=t.tag,i;if((i=a!==3&&a!==27)&&((i=a===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||Nd(t.type,t.memoizedProps)),i=!i),i&&St&&Fs(t),Cg(t),a===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,a=0;t;){if(t.nodeType===8)if(i=t.data,i==="/$"){if(a===0){St=ur(t.nextSibling);break e}a--}else i!=="$"&&i!=="$!"&&i!=="$?"||a++;t=t.nextSibling}St=null}}else a===27?(a=St,Ba(t.type)?(t=Od,Od=null,St=t):St=a):St=gn?ur(t.stateNode.nextSibling):null;return!0}function Wo(){St=gn=null,qe=!1}function xg(){var t=Us;return t!==null&&(kn===null?kn=t:kn.push.apply(kn,t),Us=null),t}function Ho(t){Us===null?Us=[t]:Us.push(t)}var dh=te(null),$s=null,Zr=null;function Na(t,a,i){re(dh,a._currentValue),a._currentValue=i}function ea(t){t._currentValue=dh.current,oe(dh)}function ph(t,a,i){for(;t!==null;){var l=t.alternate;if((t.childLanes&a)!==a?(t.childLanes|=a,l!==null&&(l.childLanes|=a)):l!==null&&(l.childLanes&a)!==a&&(l.childLanes|=a),t===i)break;t=t.return}}function mh(t,a,i,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var w=f.child;d=d.firstContext;e:for(;d!==null;){var E=d;d=f;for(var I=0;I<a.length;I++)if(E.context===a[I]){d.lanes|=i,E=d.alternate,E!==null&&(E.lanes|=i),ph(d.return,i,t),l||(w=null);break e}d=E.next}}else if(f.tag===18){if(w=f.return,w===null)throw Error(s(341));w.lanes|=i,d=w.alternate,d!==null&&(d.lanes|=i),ph(w,i,t),w=null}else w=f.child;if(w!==null)w.return=f;else for(w=f;w!==null;){if(w===t){w=null;break}if(f=w.sibling,f!==null){f.return=w.return,w=f;break}w=w.return}f=w}}function qo(t,a,i,l){t=null;for(var f=a,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var w=f.alternate;if(w===null)throw Error(s(387));if(w=w.memoizedProps,w!==null){var E=f.type;Dn(f.pendingProps.value,w.value)||(t!==null?t.push(E):t=[E])}}else if(f===ht.current){if(w=f.alternate,w===null)throw Error(s(387));w.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Sl):t=[Sl])}f=f.return}t!==null&&mh(a,t,i,l),a.flags|=262144}function ju(t){for(t=t.firstContext;t!==null;){if(!Dn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Vs(t){$s=t,Zr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function sn(t){return _g($s,t)}function zu(t,a){return $s===null&&Vs(t),_g(t,a)}function _g(t,a){var i=a._currentValue;if(a={context:a,memoizedValue:i,next:null},Zr===null){if(t===null)throw Error(s(308));Zr=a,t.dependencies={lanes:0,firstContext:a},t.flags|=524288}else Zr=Zr.next=a;return i}var ok=typeof AbortController<"u"?AbortController:function(){var t=[],a=this.signal={aborted:!1,addEventListener:function(i,l){t.push(l)}};this.abort=function(){a.aborted=!0,t.forEach(function(i){return i()})}},lk=r.unstable_scheduleCallback,uk=r.unstable_NormalPriority,Lt={$$typeof:ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gh(){return{controller:new ok,data:new Map,refCount:0}}function Ko(t){t.refCount--,t.refCount===0&&lk(uk,function(){t.controller.abort()})}var Go=null,yh=0,Ri=0,Pi=null;function ck(t,a){if(Go===null){var i=Go=[];yh=0,Ri=bd(),Pi={status:"pending",value:void 0,then:function(l){i.push(l)}}}return yh++,a.then(Tg,Tg),a}function Tg(){if(--yh===0&&Go!==null){Pi!==null&&(Pi.status="fulfilled");var t=Go;Go=null,Ri=0,Pi=null;for(var a=0;a<t.length;a++)(0,t[a])()}}function fk(t,a){var i=[],l={status:"pending",value:null,reason:null,then:function(f){i.push(f)}};return t.then(function(){l.status="fulfilled",l.value=a;for(var f=0;f<i.length;f++)(0,i[f])(a)},function(f){for(l.status="rejected",l.reason=f,f=0;f<i.length;f++)(0,i[f])(void 0)}),l}var Ng=G.S;G.S=function(t,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&ck(t,a),Ng!==null&&Ng(t,a)};var Bs=te(null);function vh(){var t=Bs.current;return t!==null?t:lt.pooledCache}function Uu(t,a){a===null?re(Bs,Bs.current):re(Bs,a.pool)}function Dg(){var t=vh();return t===null?null:{parent:Lt._currentValue,pool:t}}var Yo=Error(s(460)),Ag=Error(s(474)),Fu=Error(s(542)),bh={then:function(){}};function Ig(t){return t=t.status,t==="fulfilled"||t==="rejected"}function $u(){}function Og(t,a,i){switch(i=t[i],i===void 0?t.push(a):i!==a&&(a.then($u,$u),a=i),a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,Pg(t),t;default:if(typeof a.status=="string")a.then($u,$u);else{if(t=lt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=a,t.status="pending",t.then(function(l){if(a.status==="pending"){var f=a;f.status="fulfilled",f.value=l}},function(l){if(a.status==="pending"){var f=a;f.status="rejected",f.reason=l}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,Pg(t),t}throw Qo=a,Yo}}var Qo=null;function Rg(){if(Qo===null)throw Error(s(459));var t=Qo;return Qo=null,t}function Pg(t){if(t===Yo||t===Fu)throw Error(s(483))}var Da=!1;function wh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sh(t,a){t=t.updateQueue,a.updateQueue===t&&(a.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Aa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ia(t,a,i){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Je&2)!==0){var f=l.pending;return f===null?a.next=a:(a.next=f.next,f.next=a),l.pending=a,a=Ru(t),wg(t,null,i),a}return Ou(t,l,a,i),Ru(t)}function Jo(t,a,i){if(a=a.updateQueue,a!==null&&(a=a.shared,(i&4194048)!==0)){var l=a.lanes;l&=t.pendingLanes,i|=l,a.lanes=i,Qe(t,i)}}function kh(t,a){var i=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,i===l)){var f=null,d=null;if(i=i.firstBaseUpdate,i!==null){do{var w={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};d===null?f=d=w:d=d.next=w,i=i.next}while(i!==null);d===null?f=d=a:d=d.next=a}else f=d=a;i={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=a:t.next=a,i.lastBaseUpdate=a}var Eh=!1;function Xo(){if(Eh){var t=Pi;if(t!==null)throw t}}function Zo(t,a,i,l){Eh=!1;var f=t.updateQueue;Da=!1;var d=f.firstBaseUpdate,w=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var I=E,W=I.next;I.next=null,w===null?d=W:w.next=W,w=I;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==w&&(E===null?Q.firstBaseUpdate=W:E.next=W,Q.lastBaseUpdate=I))}if(d!==null){var Z=f.baseState;w=0,Q=W=I=null,E=d;do{var q=E.lane&-536870913,K=q!==E.lane;if(K?(je&q)===q:(l&q)===q){q!==0&&q===Ri&&(Eh=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ke=t,we=E;q=a;var at=i;switch(we.tag){case 1:if(ke=we.payload,typeof ke=="function"){Z=ke.call(at,Z,q);break e}Z=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=we.payload,q=typeof ke=="function"?ke.call(at,Z,q):ke,q==null)break e;Z=v({},Z,q);break e;case 2:Da=!0}}q=E.callback,q!==null&&(t.flags|=64,K&&(t.flags|=8192),K=f.callbacks,K===null?f.callbacks=[q]:K.push(q))}else K={lane:q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(W=Q=K,I=Z):Q=Q.next=K,w|=q;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;K=E,E=K.next,K.next=null,f.lastBaseUpdate=K,f.shared.pending=null}}while(!0);Q===null&&(I=Z),f.baseState=I,f.firstBaseUpdate=W,f.lastBaseUpdate=Q,d===null&&(f.shared.lanes=0),Ua|=w,t.lanes=w,t.memoizedState=Z}}function Mg(t,a){if(typeof t!="function")throw Error(s(191,t));t.call(a)}function Lg(t,a){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)Mg(i[t],a)}var Mi=te(null),Vu=te(0);function jg(t,a){t=la,re(Vu,t),re(Mi,a),la=t|a.baseLanes}function Ch(){re(Vu,la),re(Mi,Mi.current)}function xh(){la=Vu.current,oe(Mi),oe(Vu)}var Oa=0,De=null,nt=null,Nt=null,Bu=!1,Li=!1,Ws=!1,Wu=0,el=0,ji=null,hk=0;function Ct(){throw Error(s(321))}function _h(t,a){if(a===null)return!1;for(var i=0;i<a.length&&i<t.length;i++)if(!Dn(t[i],a[i]))return!1;return!0}function Th(t,a,i,l,f,d){return Oa=d,De=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,G.H=t===null||t.memoizedState===null?wy:Sy,Ws=!1,d=i(l,f),Ws=!1,Li&&(d=Ug(a,i,l,f)),zg(t),d}function zg(t){G.H=Qu;var a=nt!==null&&nt.next!==null;if(Oa=0,Nt=nt=De=null,Bu=!1,el=0,ji=null,a)throw Error(s(300));t===null||Vt||(t=t.dependencies,t!==null&&ju(t)&&(Vt=!0))}function Ug(t,a,i,l){De=t;var f=0;do{if(Li&&(ji=null),el=0,Li=!1,25<=f)throw Error(s(301));if(f+=1,Nt=nt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=bk,d=a(i,l)}while(Li);return d}function dk(){var t=G.H,a=t.useState()[0];return a=typeof a.then=="function"?tl(a):a,t=t.useState()[0],(nt!==null?nt.memoizedState:null)!==t&&(De.flags|=1024),a}function Nh(){var t=Wu!==0;return Wu=0,t}function Dh(t,a,i){a.updateQueue=t.updateQueue,a.flags&=-2053,t.lanes&=~i}function Ah(t){if(Bu){for(t=t.memoizedState;t!==null;){var a=t.queue;a!==null&&(a.pending=null),t=t.next}Bu=!1}Oa=0,Nt=nt=De=null,Li=!1,el=Wu=0,ji=null}function wn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?De.memoizedState=Nt=t:Nt=Nt.next=t,Nt}function Dt(){if(nt===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var a=Nt===null?De.memoizedState:Nt.next;if(a!==null)Nt=a,nt=t;else{if(t===null)throw De.alternate===null?Error(s(467)):Error(s(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},Nt===null?De.memoizedState=Nt=t:Nt=Nt.next=t}return Nt}function Ih(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tl(t){var a=el;return el+=1,ji===null&&(ji=[]),t=Og(ji,t,a),a=De,(Nt===null?a.memoizedState:Nt.next)===null&&(a=a.alternate,G.H=a===null||a.memoizedState===null?wy:Sy),t}function Hu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return tl(t);if(t.$$typeof===ae)return sn(t)}throw Error(s(438,String(t)))}function Oh(t){var a=null,i=De.updateQueue;if(i!==null&&(a=i.memoCache),a==null){var l=De.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(a={data:l.data.map(function(f){return f.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),i===null&&(i=Ih(),De.updateQueue=i),i.memoCache=a,i=a.data[a.index],i===void 0)for(i=a.data[a.index]=Array(t),l=0;l<t;l++)i[l]=P;return a.index++,i}function ta(t,a){return typeof a=="function"?a(t):a}function qu(t){var a=Dt();return Rh(a,nt,t)}function Rh(t,a,i){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=i;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var w=f.next;f.next=d.next,d.next=w}a.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{a=f.next;var E=w=null,I=null,W=a,Q=!1;do{var Z=W.lane&-536870913;if(Z!==W.lane?(je&Z)===Z:(Oa&Z)===Z){var q=W.revertLane;if(q===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),Z===Ri&&(Q=!0);else if((Oa&q)===q){W=W.next,q===Ri&&(Q=!0);continue}else Z={lane:0,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},I===null?(E=I=Z,w=d):I=I.next=Z,De.lanes|=q,Ua|=q;Z=W.action,Ws&&i(d,Z),d=W.hasEagerState?W.eagerState:i(d,Z)}else q={lane:Z,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},I===null?(E=I=q,w=d):I=I.next=q,De.lanes|=Z,Ua|=Z;W=W.next}while(W!==null&&W!==a);if(I===null?w=d:I.next=E,!Dn(d,t.memoizedState)&&(Vt=!0,Q&&(i=Pi,i!==null)))throw i;t.memoizedState=d,t.baseState=w,t.baseQueue=I,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Ph(t){var a=Dt(),i=a.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=t;var l=i.dispatch,f=i.pending,d=a.memoizedState;if(f!==null){i.pending=null;var w=f=f.next;do d=t(d,w.action),w=w.next;while(w!==f);Dn(d,a.memoizedState)||(Vt=!0),a.memoizedState=d,a.baseQueue===null&&(a.baseState=d),i.lastRenderedState=d}return[d,l]}function Fg(t,a,i){var l=De,f=Dt(),d=qe;if(d){if(i===void 0)throw Error(s(407));i=i()}else i=a();var w=!Dn((nt||f).memoizedState,i);w&&(f.memoizedState=i,Vt=!0),f=f.queue;var E=Bg.bind(null,l,f,t);if(nl(2048,8,E,[t]),f.getSnapshot!==a||w||Nt!==null&&Nt.memoizedState.tag&1){if(l.flags|=2048,zi(9,Ku(),Vg.bind(null,l,f,i,a),null),lt===null)throw Error(s(349));d||(Oa&124)!==0||$g(l,a,i)}return i}function $g(t,a,i){t.flags|=16384,t={getSnapshot:a,value:i},a=De.updateQueue,a===null?(a=Ih(),De.updateQueue=a,a.stores=[t]):(i=a.stores,i===null?a.stores=[t]:i.push(t))}function Vg(t,a,i,l){a.value=i,a.getSnapshot=l,Wg(a)&&Hg(t)}function Bg(t,a,i){return i(function(){Wg(a)&&Hg(t)})}function Wg(t){var a=t.getSnapshot;t=t.value;try{var i=a();return!Dn(t,i)}catch{return!0}}function Hg(t){var a=Di(t,2);a!==null&&Mn(a,t,2)}function Mh(t){var a=wn();if(typeof t=="function"){var i=t;if(t=i(),Ws){qt(!0);try{i()}finally{qt(!1)}}}return a.memoizedState=a.baseState=t,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:t},a}function qg(t,a,i,l){return t.baseState=i,Rh(t,nt,typeof l=="function"?l:ta)}function pk(t,a,i,l,f){if(Yu(t))throw Error(s(485));if(t=a.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){d.listeners.push(w)}};G.T!==null?i(!0):d.isTransition=!1,l(d),i=a.pending,i===null?(d.next=a.pending=d,Kg(a,d)):(d.next=i.next,a.pending=i.next=d)}}function Kg(t,a){var i=a.action,l=a.payload,f=t.state;if(a.isTransition){var d=G.T,w={};G.T=w;try{var E=i(f,l),I=G.S;I!==null&&I(w,E),Gg(t,a,E)}catch(W){Lh(t,a,W)}finally{G.T=d}}else try{d=i(f,l),Gg(t,a,d)}catch(W){Lh(t,a,W)}}function Gg(t,a,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(l){Yg(t,a,l)},function(l){return Lh(t,a,l)}):Yg(t,a,i)}function Yg(t,a,i){a.status="fulfilled",a.value=i,Qg(a),t.state=i,a=t.pending,a!==null&&(i=a.next,i===a?t.pending=null:(i=i.next,a.next=i,Kg(t,i)))}function Lh(t,a,i){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do a.status="rejected",a.reason=i,Qg(a),a=a.next;while(a!==l)}t.action=null}function Qg(t){t=t.listeners;for(var a=0;a<t.length;a++)(0,t[a])()}function Jg(t,a){return a}function Xg(t,a){if(qe){var i=lt.formState;if(i!==null){e:{var l=De;if(qe){if(St){t:{for(var f=St,d=Tr;f.nodeType!==8;){if(!d){f=null;break t}if(f=ur(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){St=ur(f.nextSibling),l=f.data==="F!";break e}}Fs(l)}l=!1}l&&(a=i[0])}}return i=wn(),i.memoizedState=i.baseState=a,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jg,lastRenderedState:a},i.queue=l,i=yy.bind(null,De,l),l.dispatch=i,l=Mh(!1),d=$h.bind(null,De,!1,l.queue),l=wn(),f={state:a,dispatch:null,action:t,pending:null},l.queue=f,i=pk.bind(null,De,f,d,i),f.dispatch=i,l.memoizedState=t,[a,i,!1]}function Zg(t){var a=Dt();return ey(a,nt,t)}function ey(t,a,i){if(a=Rh(t,a,Jg)[0],t=qu(ta)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var l=tl(a)}catch(w){throw w===Yo?Fu:w}else l=a;a=Dt();var f=a.queue,d=f.dispatch;return i!==a.memoizedState&&(De.flags|=2048,zi(9,Ku(),mk.bind(null,f,i),null)),[l,d,t]}function mk(t,a){t.action=a}function ty(t){var a=Dt(),i=nt;if(i!==null)return ey(a,i,t);Dt(),a=a.memoizedState,i=Dt();var l=i.queue.dispatch;return i.memoizedState=t,[a,l,!1]}function zi(t,a,i,l){return t={tag:t,create:i,deps:l,inst:a,next:null},a=De.updateQueue,a===null&&(a=Ih(),De.updateQueue=a),i=a.lastEffect,i===null?a.lastEffect=t.next=t:(l=i.next,i.next=t,t.next=l,a.lastEffect=t),t}function Ku(){return{destroy:void 0,resource:void 0}}function ny(){return Dt().memoizedState}function Gu(t,a,i,l){var f=wn();l=l===void 0?null:l,De.flags|=t,f.memoizedState=zi(1|a,Ku(),i,l)}function nl(t,a,i,l){var f=Dt();l=l===void 0?null:l;var d=f.memoizedState.inst;nt!==null&&l!==null&&_h(l,nt.memoizedState.deps)?f.memoizedState=zi(a,d,i,l):(De.flags|=t,f.memoizedState=zi(1|a,d,i,l))}function ry(t,a){Gu(8390656,8,t,a)}function ay(t,a){nl(2048,8,t,a)}function sy(t,a){return nl(4,2,t,a)}function iy(t,a){return nl(4,4,t,a)}function oy(t,a){if(typeof a=="function"){t=t();var i=a(t);return function(){typeof i=="function"?i():a(null)}}if(a!=null)return t=t(),a.current=t,function(){a.current=null}}function ly(t,a,i){i=i!=null?i.concat([t]):null,nl(4,4,oy.bind(null,a,t),i)}function jh(){}function uy(t,a){var i=Dt();a=a===void 0?null:a;var l=i.memoizedState;return a!==null&&_h(a,l[1])?l[0]:(i.memoizedState=[t,a],t)}function cy(t,a){var i=Dt();a=a===void 0?null:a;var l=i.memoizedState;if(a!==null&&_h(a,l[1]))return l[0];if(l=t(),Ws){qt(!0);try{t()}finally{qt(!1)}}return i.memoizedState=[l,a],l}function zh(t,a,i){return i===void 0||(Oa&1073741824)!==0?t.memoizedState=a:(t.memoizedState=i,t=dv(),De.lanes|=t,Ua|=t,i)}function fy(t,a,i,l){return Dn(i,a)?i:Mi.current!==null?(t=zh(t,i,l),Dn(t,a)||(Vt=!0),t):(Oa&42)===0?(Vt=!0,t.memoizedState=i):(t=dv(),De.lanes|=t,Ua|=t,a)}function hy(t,a,i,l,f){var d=le.p;le.p=d!==0&&8>d?d:8;var w=G.T,E={};G.T=E,$h(t,!1,a,i);try{var I=f(),W=G.S;if(W!==null&&W(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Q=fk(I,l);rl(t,a,Q,Pn(t))}else rl(t,a,l,Pn(t))}catch(Z){rl(t,a,{then:function(){},status:"rejected",reason:Z},Pn())}finally{le.p=d,G.T=w}}function gk(){}function Uh(t,a,i,l){if(t.tag!==5)throw Error(s(476));var f=dy(t).queue;hy(t,f,a,pe,i===null?gk:function(){return py(t),i(l)})}function dy(t){var a=t.memoizedState;if(a!==null)return a;a={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:pe},next:null};var i={};return a.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:i},next:null},t.memoizedState=a,t=t.alternate,t!==null&&(t.memoizedState=a),a}function py(t){var a=dy(t).next.queue;rl(t,a,{},Pn())}function Fh(){return sn(Sl)}function my(){return Dt().memoizedState}function gy(){return Dt().memoizedState}function yk(t){for(var a=t.return;a!==null;){switch(a.tag){case 24:case 3:var i=Pn();t=Aa(i);var l=Ia(a,t,i);l!==null&&(Mn(l,a,i),Jo(l,a,i)),a={cache:gh()},t.payload=a;return}a=a.return}}function vk(t,a,i){var l=Pn();i={lane:l,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},Yu(t)?vy(a,i):(i=ih(t,a,i,l),i!==null&&(Mn(i,t,l),by(i,a,l)))}function yy(t,a,i){var l=Pn();rl(t,a,i,l)}function rl(t,a,i,l){var f={lane:l,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(Yu(t))vy(a,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=a.lastRenderedReducer,d!==null))try{var w=a.lastRenderedState,E=d(w,i);if(f.hasEagerState=!0,f.eagerState=E,Dn(E,w))return Ou(t,a,f,0),lt===null&&Iu(),!1}catch{}finally{}if(i=ih(t,a,f,l),i!==null)return Mn(i,t,l),by(i,a,l),!0}return!1}function $h(t,a,i,l){if(l={lane:2,revertLane:bd(),action:l,hasEagerState:!1,eagerState:null,next:null},Yu(t)){if(a)throw Error(s(479))}else a=ih(t,i,l,2),a!==null&&Mn(a,t,2)}function Yu(t){var a=t.alternate;return t===De||a!==null&&a===De}function vy(t,a){Li=Bu=!0;var i=t.pending;i===null?a.next=a:(a.next=i.next,i.next=a),t.pending=a}function by(t,a,i){if((i&4194048)!==0){var l=a.lanes;l&=t.pendingLanes,i|=l,a.lanes=i,Qe(t,i)}}var Qu={readContext:sn,use:Hu,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct,useHostTransitionStatus:Ct,useFormState:Ct,useActionState:Ct,useOptimistic:Ct,useMemoCache:Ct,useCacheRefresh:Ct},wy={readContext:sn,use:Hu,useCallback:function(t,a){return wn().memoizedState=[t,a===void 0?null:a],t},useContext:sn,useEffect:ry,useImperativeHandle:function(t,a,i){i=i!=null?i.concat([t]):null,Gu(4194308,4,oy.bind(null,a,t),i)},useLayoutEffect:function(t,a){return Gu(4194308,4,t,a)},useInsertionEffect:function(t,a){Gu(4,2,t,a)},useMemo:function(t,a){var i=wn();a=a===void 0?null:a;var l=t();if(Ws){qt(!0);try{t()}finally{qt(!1)}}return i.memoizedState=[l,a],l},useReducer:function(t,a,i){var l=wn();if(i!==void 0){var f=i(a);if(Ws){qt(!0);try{i(a)}finally{qt(!1)}}}else f=a;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=vk.bind(null,De,t),[l.memoizedState,t]},useRef:function(t){var a=wn();return t={current:t},a.memoizedState=t},useState:function(t){t=Mh(t);var a=t.queue,i=yy.bind(null,De,a);return a.dispatch=i,[t.memoizedState,i]},useDebugValue:jh,useDeferredValue:function(t,a){var i=wn();return zh(i,t,a)},useTransition:function(){var t=Mh(!1);return t=hy.bind(null,De,t.queue,!0,!1),wn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,a,i){var l=De,f=wn();if(qe){if(i===void 0)throw Error(s(407));i=i()}else{if(i=a(),lt===null)throw Error(s(349));(je&124)!==0||$g(l,a,i)}f.memoizedState=i;var d={value:i,getSnapshot:a};return f.queue=d,ry(Bg.bind(null,l,d,t),[t]),l.flags|=2048,zi(9,Ku(),Vg.bind(null,l,d,i,a),null),i},useId:function(){var t=wn(),a=lt.identifierPrefix;if(qe){var i=Xr,l=Jr;i=(l&~(1<<32-Ot(l)-1)).toString(32)+i,a="«"+a+"R"+i,i=Wu++,0<i&&(a+="H"+i.toString(32)),a+="»"}else i=hk++,a="«"+a+"r"+i.toString(32)+"»";return t.memoizedState=a},useHostTransitionStatus:Fh,useFormState:Xg,useActionState:Xg,useOptimistic:function(t){var a=wn();a.memoizedState=a.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=i,a=$h.bind(null,De,!0,i),i.dispatch=a,[t,a]},useMemoCache:Oh,useCacheRefresh:function(){return wn().memoizedState=yk.bind(null,De)}},Sy={readContext:sn,use:Hu,useCallback:uy,useContext:sn,useEffect:ay,useImperativeHandle:ly,useInsertionEffect:sy,useLayoutEffect:iy,useMemo:cy,useReducer:qu,useRef:ny,useState:function(){return qu(ta)},useDebugValue:jh,useDeferredValue:function(t,a){var i=Dt();return fy(i,nt.memoizedState,t,a)},useTransition:function(){var t=qu(ta)[0],a=Dt().memoizedState;return[typeof t=="boolean"?t:tl(t),a]},useSyncExternalStore:Fg,useId:my,useHostTransitionStatus:Fh,useFormState:Zg,useActionState:Zg,useOptimistic:function(t,a){var i=Dt();return qg(i,nt,t,a)},useMemoCache:Oh,useCacheRefresh:gy},bk={readContext:sn,use:Hu,useCallback:uy,useContext:sn,useEffect:ay,useImperativeHandle:ly,useInsertionEffect:sy,useLayoutEffect:iy,useMemo:cy,useReducer:Ph,useRef:ny,useState:function(){return Ph(ta)},useDebugValue:jh,useDeferredValue:function(t,a){var i=Dt();return nt===null?zh(i,t,a):fy(i,nt.memoizedState,t,a)},useTransition:function(){var t=Ph(ta)[0],a=Dt().memoizedState;return[typeof t=="boolean"?t:tl(t),a]},useSyncExternalStore:Fg,useId:my,useHostTransitionStatus:Fh,useFormState:ty,useActionState:ty,useOptimistic:function(t,a){var i=Dt();return nt!==null?qg(i,nt,t,a):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:Oh,useCacheRefresh:gy},Ui=null,al=0;function Ju(t){var a=al;return al+=1,Ui===null&&(Ui=[]),Og(Ui,t,a)}function sl(t,a){a=a.props.ref,t.ref=a!==void 0?a:null}function Xu(t,a){throw a.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(a),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":t)))}function ky(t){var a=t._init;return a(t._payload)}function Ey(t){function a($,j){if(t){var B=$.deletions;B===null?($.deletions=[j],$.flags|=16):B.push(j)}}function i($,j){if(!t)return null;for(;j!==null;)a($,j),j=j.sibling;return null}function l($){for(var j=new Map;$!==null;)$.key!==null?j.set($.key,$):j.set($.index,$),$=$.sibling;return j}function f($,j){return $=Qr($,j),$.index=0,$.sibling=null,$}function d($,j,B){return $.index=B,t?(B=$.alternate,B!==null?(B=B.index,B<j?($.flags|=67108866,j):B):($.flags|=67108866,j)):($.flags|=1048576,j)}function w($){return t&&$.alternate===null&&($.flags|=67108866),$}function E($,j,B,J){return j===null||j.tag!==6?(j=lh(B,$.mode,J),j.return=$,j):(j=f(j,B),j.return=$,j)}function I($,j,B,J){var de=B.type;return de===T?Q($,j,B.props.children,J,B.key):j!==null&&(j.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===x&&ky(de)===j.type)?(j=f(j,B.props),sl(j,B),j.return=$,j):(j=Pu(B.type,B.key,B.props,null,$.mode,J),sl(j,B),j.return=$,j)}function W($,j,B,J){return j===null||j.tag!==4||j.stateNode.containerInfo!==B.containerInfo||j.stateNode.implementation!==B.implementation?(j=uh(B,$.mode,J),j.return=$,j):(j=f(j,B.children||[]),j.return=$,j)}function Q($,j,B,J,de){return j===null||j.tag!==7?(j=Ls(B,$.mode,J,de),j.return=$,j):(j=f(j,B),j.return=$,j)}function Z($,j,B){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=lh(""+j,$.mode,B),j.return=$,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case k:return B=Pu(j.type,j.key,j.props,null,$.mode,B),sl(B,j),B.return=$,B;case O:return j=uh(j,$.mode,B),j.return=$,j;case x:var J=j._init;return j=J(j._payload),Z($,j,B)}if(et(j)||z(j))return j=Ls(j,$.mode,B,null),j.return=$,j;if(typeof j.then=="function")return Z($,Ju(j),B);if(j.$$typeof===ae)return Z($,zu($,j),B);Xu($,j)}return null}function q($,j,B,J){var de=j!==null?j.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return de!==null?null:E($,j,""+B,J);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case k:return B.key===de?I($,j,B,J):null;case O:return B.key===de?W($,j,B,J):null;case x:return de=B._init,B=de(B._payload),q($,j,B,J)}if(et(B)||z(B))return de!==null?null:Q($,j,B,J,null);if(typeof B.then=="function")return q($,j,Ju(B),J);if(B.$$typeof===ae)return q($,j,zu($,B),J);Xu($,B)}return null}function K($,j,B,J,de){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return $=$.get(B)||null,E(j,$,""+J,de);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case k:return $=$.get(J.key===null?B:J.key)||null,I(j,$,J,de);case O:return $=$.get(J.key===null?B:J.key)||null,W(j,$,J,de);case x:var Ie=J._init;return J=Ie(J._payload),K($,j,B,J,de)}if(et(J)||z(J))return $=$.get(B)||null,Q(j,$,J,de,null);if(typeof J.then=="function")return K($,j,B,Ju(J),de);if(J.$$typeof===ae)return K($,j,B,zu(j,J),de);Xu(j,J)}return null}function ke($,j,B,J){for(var de=null,Ie=null,ge=j,Se=j=0,Wt=null;ge!==null&&Se<B.length;Se++){ge.index>Se?(Wt=ge,ge=null):Wt=ge.sibling;var Be=q($,ge,B[Se],J);if(Be===null){ge===null&&(ge=Wt);break}t&&ge&&Be.alternate===null&&a($,ge),j=d(Be,j,Se),Ie===null?de=Be:Ie.sibling=Be,Ie=Be,ge=Wt}if(Se===B.length)return i($,ge),qe&&zs($,Se),de;if(ge===null){for(;Se<B.length;Se++)ge=Z($,B[Se],J),ge!==null&&(j=d(ge,j,Se),Ie===null?de=ge:Ie.sibling=ge,Ie=ge);return qe&&zs($,Se),de}for(ge=l(ge);Se<B.length;Se++)Wt=K(ge,$,Se,B[Se],J),Wt!==null&&(t&&Wt.alternate!==null&&ge.delete(Wt.key===null?Se:Wt.key),j=d(Wt,j,Se),Ie===null?de=Wt:Ie.sibling=Wt,Ie=Wt);return t&&ge.forEach(function(Ga){return a($,Ga)}),qe&&zs($,Se),de}function we($,j,B,J){if(B==null)throw Error(s(151));for(var de=null,Ie=null,ge=j,Se=j=0,Wt=null,Be=B.next();ge!==null&&!Be.done;Se++,Be=B.next()){ge.index>Se?(Wt=ge,ge=null):Wt=ge.sibling;var Ga=q($,ge,Be.value,J);if(Ga===null){ge===null&&(ge=Wt);break}t&&ge&&Ga.alternate===null&&a($,ge),j=d(Ga,j,Se),Ie===null?de=Ga:Ie.sibling=Ga,Ie=Ga,ge=Wt}if(Be.done)return i($,ge),qe&&zs($,Se),de;if(ge===null){for(;!Be.done;Se++,Be=B.next())Be=Z($,Be.value,J),Be!==null&&(j=d(Be,j,Se),Ie===null?de=Be:Ie.sibling=Be,Ie=Be);return qe&&zs($,Se),de}for(ge=l(ge);!Be.done;Se++,Be=B.next())Be=K(ge,$,Se,Be.value,J),Be!==null&&(t&&Be.alternate!==null&&ge.delete(Be.key===null?Se:Be.key),j=d(Be,j,Se),Ie===null?de=Be:Ie.sibling=Be,Ie=Be);return t&&ge.forEach(function(wE){return a($,wE)}),qe&&zs($,Se),de}function at($,j,B,J){if(typeof B=="object"&&B!==null&&B.type===T&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case k:e:{for(var de=B.key;j!==null;){if(j.key===de){if(de=B.type,de===T){if(j.tag===7){i($,j.sibling),J=f(j,B.props.children),J.return=$,$=J;break e}}else if(j.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===x&&ky(de)===j.type){i($,j.sibling),J=f(j,B.props),sl(J,B),J.return=$,$=J;break e}i($,j);break}else a($,j);j=j.sibling}B.type===T?(J=Ls(B.props.children,$.mode,J,B.key),J.return=$,$=J):(J=Pu(B.type,B.key,B.props,null,$.mode,J),sl(J,B),J.return=$,$=J)}return w($);case O:e:{for(de=B.key;j!==null;){if(j.key===de)if(j.tag===4&&j.stateNode.containerInfo===B.containerInfo&&j.stateNode.implementation===B.implementation){i($,j.sibling),J=f(j,B.children||[]),J.return=$,$=J;break e}else{i($,j);break}else a($,j);j=j.sibling}J=uh(B,$.mode,J),J.return=$,$=J}return w($);case x:return de=B._init,B=de(B._payload),at($,j,B,J)}if(et(B))return ke($,j,B,J);if(z(B)){if(de=z(B),typeof de!="function")throw Error(s(150));return B=de.call(B),we($,j,B,J)}if(typeof B.then=="function")return at($,j,Ju(B),J);if(B.$$typeof===ae)return at($,j,zu($,B),J);Xu($,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,j!==null&&j.tag===6?(i($,j.sibling),J=f(j,B),J.return=$,$=J):(i($,j),J=lh(B,$.mode,J),J.return=$,$=J),w($)):i($,j)}return function($,j,B,J){try{al=0;var de=at($,j,B,J);return Ui=null,de}catch(ge){if(ge===Yo||ge===Fu)throw ge;var Ie=An(29,ge,null,$.mode);return Ie.lanes=J,Ie.return=$,Ie}finally{}}}var Fi=Ey(!0),Cy=Ey(!1),Jn=te(null),na=null;function Ra(t){var a=t.alternate;re(jt,jt.current&1),re(Jn,t),na===null&&(a===null||Mi.current!==null||a.memoizedState!==null)&&(na=t)}function xy(t){if(t.tag===22){if(re(jt,jt.current),re(Jn,t),na===null){var a=t.alternate;a!==null&&a.memoizedState!==null&&(na=t)}}else Pa()}function Pa(){re(jt,jt.current),re(Jn,Jn.current)}function ra(t){oe(Jn),na===t&&(na=null),oe(jt)}var jt=te(0);function Zu(t){for(var a=t;a!==null;){if(a.tag===13){var i=a.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||Id(i)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Vh(t,a,i,l){a=t.memoizedState,i=i(l,a),i=i==null?a:v({},a,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var Bh={enqueueSetState:function(t,a,i){t=t._reactInternals;var l=Pn(),f=Aa(l);f.payload=a,i!=null&&(f.callback=i),a=Ia(t,f,l),a!==null&&(Mn(a,t,l),Jo(a,t,l))},enqueueReplaceState:function(t,a,i){t=t._reactInternals;var l=Pn(),f=Aa(l);f.tag=1,f.payload=a,i!=null&&(f.callback=i),a=Ia(t,f,l),a!==null&&(Mn(a,t,l),Jo(a,t,l))},enqueueForceUpdate:function(t,a){t=t._reactInternals;var i=Pn(),l=Aa(i);l.tag=2,a!=null&&(l.callback=a),a=Ia(t,l,i),a!==null&&(Mn(a,t,i),Jo(a,t,i))}};function _y(t,a,i,l,f,d,w){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,w):a.prototype&&a.prototype.isPureReactComponent?!$o(i,l)||!$o(f,d):!0}function Ty(t,a,i,l){t=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(i,l),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(i,l),a.state!==t&&Bh.enqueueReplaceState(a,a.state,null)}function Hs(t,a){var i=a;if("ref"in a){i={};for(var l in a)l!=="ref"&&(i[l]=a[l])}if(t=t.defaultProps){i===a&&(i=v({},i));for(var f in t)i[f]===void 0&&(i[f]=t[f])}return i}var ec=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Ny(t){ec(t)}function Dy(t){console.error(t)}function Ay(t){ec(t)}function tc(t,a){try{var i=t.onUncaughtError;i(a.value,{componentStack:a.stack})}catch(l){setTimeout(function(){throw l})}}function Iy(t,a,i){try{var l=t.onCaughtError;l(i.value,{componentStack:i.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Wh(t,a,i){return i=Aa(i),i.tag=3,i.payload={element:null},i.callback=function(){tc(t,a)},i}function Oy(t){return t=Aa(t),t.tag=3,t}function Ry(t,a,i,l){var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){Iy(a,i,l)}}var w=i.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(t.callback=function(){Iy(a,i,l),typeof f!="function"&&(Fa===null?Fa=new Set([this]):Fa.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function wk(t,a,i,l,f){if(i.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(a=i.alternate,a!==null&&qo(a,i,f,!0),i=Jn.current,i!==null){switch(i.tag){case 13:return na===null?pd():i.alternate===null&&kt===0&&(kt=3),i.flags&=-257,i.flags|=65536,i.lanes=f,l===bh?i.flags|=16384:(a=i.updateQueue,a===null?i.updateQueue=new Set([l]):a.add(l),gd(t,l,f)),!1;case 22:return i.flags|=65536,l===bh?i.flags|=16384:(a=i.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([l])},i.updateQueue=a):(i=a.retryQueue,i===null?a.retryQueue=new Set([l]):i.add(l)),gd(t,l,f)),!1}throw Error(s(435,i.tag))}return gd(t,l,f),pd(),!1}if(qe)return a=Jn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=f,l!==hh&&(t=Error(s(422),{cause:l}),Ho(Kn(t,i)))):(l!==hh&&(a=Error(s(423),{cause:l}),Ho(Kn(a,i))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Kn(l,i),f=Wh(t.stateNode,l,f),kh(t,f),kt!==4&&(kt=2)),!1;var d=Error(s(520),{cause:l});if(d=Kn(d,i),hl===null?hl=[d]:hl.push(d),kt!==4&&(kt=2),a===null)return!0;l=Kn(l,i),i=a;do{switch(i.tag){case 3:return i.flags|=65536,t=f&-f,i.lanes|=t,t=Wh(i.stateNode,l,t),kh(i,t),!1;case 1:if(a=i.type,d=i.stateNode,(i.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Fa===null||!Fa.has(d))))return i.flags|=65536,f&=-f,i.lanes|=f,f=Oy(f),Ry(f,t,i,l),kh(i,f),!1}i=i.return}while(i!==null);return!1}var Py=Error(s(461)),Vt=!1;function Jt(t,a,i,l){a.child=t===null?Cy(a,null,i,l):Fi(a,t.child,i,l)}function My(t,a,i,l,f){i=i.render;var d=a.ref;if("ref"in l){var w={};for(var E in l)E!=="ref"&&(w[E]=l[E])}else w=l;return Vs(a),l=Th(t,a,i,w,d,f),E=Nh(),t!==null&&!Vt?(Dh(t,a,f),aa(t,a,f)):(qe&&E&&ch(a),a.flags|=1,Jt(t,a,l,f),a.child)}function Ly(t,a,i,l,f){if(t===null){var d=i.type;return typeof d=="function"&&!oh(d)&&d.defaultProps===void 0&&i.compare===null?(a.tag=15,a.type=d,jy(t,a,d,l,f)):(t=Pu(i.type,null,l,a,a.mode,f),t.ref=a.ref,t.return=a,a.child=t)}if(d=t.child,!Xh(t,f)){var w=d.memoizedProps;if(i=i.compare,i=i!==null?i:$o,i(w,l)&&t.ref===a.ref)return aa(t,a,f)}return a.flags|=1,t=Qr(d,l),t.ref=a.ref,t.return=a,a.child=t}function jy(t,a,i,l,f){if(t!==null){var d=t.memoizedProps;if($o(d,l)&&t.ref===a.ref)if(Vt=!1,a.pendingProps=l=d,Xh(t,f))(t.flags&131072)!==0&&(Vt=!0);else return a.lanes=t.lanes,aa(t,a,f)}return Hh(t,a,i,l,f)}function zy(t,a,i){var l=a.pendingProps,f=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((a.flags&128)!==0){if(l=d!==null?d.baseLanes|i:i,t!==null){for(f=a.child=t.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;a.childLanes=d&~l}else a.childLanes=0,a.child=null;return Uy(t,a,l,i)}if((i&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},t!==null&&Uu(a,d!==null?d.cachePool:null),d!==null?jg(a,d):Ch(),xy(a);else return a.lanes=a.childLanes=536870912,Uy(t,a,d!==null?d.baseLanes|i:i,i)}else d!==null?(Uu(a,d.cachePool),jg(a,d),Pa(),a.memoizedState=null):(t!==null&&Uu(a,null),Ch(),Pa());return Jt(t,a,f,i),a.child}function Uy(t,a,i,l){var f=vh();return f=f===null?null:{parent:Lt._currentValue,pool:f},a.memoizedState={baseLanes:i,cachePool:f},t!==null&&Uu(a,null),Ch(),xy(a),t!==null&&qo(t,a,l,!0),null}function nc(t,a){var i=a.ref;if(i===null)t!==null&&t.ref!==null&&(a.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(s(284));(t===null||t.ref!==i)&&(a.flags|=4194816)}}function Hh(t,a,i,l,f){return Vs(a),i=Th(t,a,i,l,void 0,f),l=Nh(),t!==null&&!Vt?(Dh(t,a,f),aa(t,a,f)):(qe&&l&&ch(a),a.flags|=1,Jt(t,a,i,f),a.child)}function Fy(t,a,i,l,f,d){return Vs(a),a.updateQueue=null,i=Ug(a,l,i,f),zg(t),l=Nh(),t!==null&&!Vt?(Dh(t,a,d),aa(t,a,d)):(qe&&l&&ch(a),a.flags|=1,Jt(t,a,i,d),a.child)}function $y(t,a,i,l,f){if(Vs(a),a.stateNode===null){var d=Ai,w=i.contextType;typeof w=="object"&&w!==null&&(d=sn(w)),d=new i(l,d),a.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Bh,a.stateNode=d,d._reactInternals=a,d=a.stateNode,d.props=l,d.state=a.memoizedState,d.refs={},wh(a),w=i.contextType,d.context=typeof w=="object"&&w!==null?sn(w):Ai,d.state=a.memoizedState,w=i.getDerivedStateFromProps,typeof w=="function"&&(Vh(a,i,w,l),d.state=a.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(w=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),w!==d.state&&Bh.enqueueReplaceState(d,d.state,null),Zo(a,l,d,f),Xo(),d.state=a.memoizedState),typeof d.componentDidMount=="function"&&(a.flags|=4194308),l=!0}else if(t===null){d=a.stateNode;var E=a.memoizedProps,I=Hs(i,E);d.props=I;var W=d.context,Q=i.contextType;w=Ai,typeof Q=="object"&&Q!==null&&(w=sn(Q));var Z=i.getDerivedStateFromProps;Q=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=a.pendingProps!==E,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||W!==w)&&Ty(a,d,l,w),Da=!1;var q=a.memoizedState;d.state=q,Zo(a,l,d,f),Xo(),W=a.memoizedState,E||q!==W||Da?(typeof Z=="function"&&(Vh(a,i,Z,l),W=a.memoizedState),(I=Da||_y(a,i,I,l,q,W,w))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(a.flags|=4194308)):(typeof d.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=l,a.memoizedState=W),d.props=l,d.state=W,d.context=w,l=I):(typeof d.componentDidMount=="function"&&(a.flags|=4194308),l=!1)}else{d=a.stateNode,Sh(t,a),w=a.memoizedProps,Q=Hs(i,w),d.props=Q,Z=a.pendingProps,q=d.context,W=i.contextType,I=Ai,typeof W=="object"&&W!==null&&(I=sn(W)),E=i.getDerivedStateFromProps,(W=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w!==Z||q!==I)&&Ty(a,d,l,I),Da=!1,q=a.memoizedState,d.state=q,Zo(a,l,d,f),Xo();var K=a.memoizedState;w!==Z||q!==K||Da||t!==null&&t.dependencies!==null&&ju(t.dependencies)?(typeof E=="function"&&(Vh(a,i,E,l),K=a.memoizedState),(Q=Da||_y(a,i,Q,l,q,K,I)||t!==null&&t.dependencies!==null&&ju(t.dependencies))?(W||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,I)),typeof d.componentDidUpdate=="function"&&(a.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof d.componentDidUpdate!="function"||w===t.memoizedProps&&q===t.memoizedState||(a.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&q===t.memoizedState||(a.flags|=1024),a.memoizedProps=l,a.memoizedState=K),d.props=l,d.state=K,d.context=I,l=Q):(typeof d.componentDidUpdate!="function"||w===t.memoizedProps&&q===t.memoizedState||(a.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&q===t.memoizedState||(a.flags|=1024),l=!1)}return d=l,nc(t,a),l=(a.flags&128)!==0,d||l?(d=a.stateNode,i=l&&typeof i.getDerivedStateFromError!="function"?null:d.render(),a.flags|=1,t!==null&&l?(a.child=Fi(a,t.child,null,f),a.child=Fi(a,null,i,f)):Jt(t,a,i,f),a.memoizedState=d.state,t=a.child):t=aa(t,a,f),t}function Vy(t,a,i,l){return Wo(),a.flags|=256,Jt(t,a,i,l),a.child}var qh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kh(t){return{baseLanes:t,cachePool:Dg()}}function Gh(t,a,i){return t=t!==null?t.childLanes&~i:0,a&&(t|=Xn),t}function By(t,a,i){var l=a.pendingProps,f=!1,d=(a.flags&128)!==0,w;if((w=d)||(w=t!==null&&t.memoizedState===null?!1:(jt.current&2)!==0),w&&(f=!0,a.flags&=-129),w=(a.flags&32)!==0,a.flags&=-33,t===null){if(qe){if(f?Ra(a):Pa(),qe){var E=St,I;if(I=E){e:{for(I=E,E=Tr;I.nodeType!==8;){if(!E){E=null;break e}if(I=ur(I.nextSibling),I===null){E=null;break e}}E=I}E!==null?(a.memoizedState={dehydrated:E,treeContext:js!==null?{id:Jr,overflow:Xr}:null,retryLane:536870912,hydrationErrors:null},I=An(18,null,null,0),I.stateNode=E,I.return=a,a.child=I,gn=a,St=null,I=!0):I=!1}I||Fs(a)}if(E=a.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Id(E)?a.lanes=32:a.lanes=536870912,null;ra(a)}return E=l.children,l=l.fallback,f?(Pa(),f=a.mode,E=rc({mode:"hidden",children:E},f),l=Ls(l,f,i,null),E.return=a,l.return=a,E.sibling=l,a.child=E,f=a.child,f.memoizedState=Kh(i),f.childLanes=Gh(t,w,i),a.memoizedState=qh,l):(Ra(a),Yh(a,E))}if(I=t.memoizedState,I!==null&&(E=I.dehydrated,E!==null)){if(d)a.flags&256?(Ra(a),a.flags&=-257,a=Qh(t,a,i)):a.memoizedState!==null?(Pa(),a.child=t.child,a.flags|=128,a=null):(Pa(),f=l.fallback,E=a.mode,l=rc({mode:"visible",children:l.children},E),f=Ls(f,E,i,null),f.flags|=2,l.return=a,f.return=a,l.sibling=f,a.child=l,Fi(a,t.child,null,i),l=a.child,l.memoizedState=Kh(i),l.childLanes=Gh(t,w,i),a.memoizedState=qh,a=f);else if(Ra(a),Id(E)){if(w=E.nextSibling&&E.nextSibling.dataset,w)var W=w.dgst;w=W,l=Error(s(419)),l.stack="",l.digest=w,Ho({value:l,source:null,stack:null}),a=Qh(t,a,i)}else if(Vt||qo(t,a,i,!1),w=(i&t.childLanes)!==0,Vt||w){if(w=lt,w!==null&&(l=i&-i,l=(l&42)!==0?1:Rt(l),l=(l&(w.suspendedLanes|i))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,Di(t,l),Mn(w,t,l),Py;E.data==="$?"||pd(),a=Qh(t,a,i)}else E.data==="$?"?(a.flags|=192,a.child=t.child,a=null):(t=I.treeContext,St=ur(E.nextSibling),gn=a,qe=!0,Us=null,Tr=!1,t!==null&&(Yn[Qn++]=Jr,Yn[Qn++]=Xr,Yn[Qn++]=js,Jr=t.id,Xr=t.overflow,js=a),a=Yh(a,l.children),a.flags|=4096);return a}return f?(Pa(),f=l.fallback,E=a.mode,I=t.child,W=I.sibling,l=Qr(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,W!==null?f=Qr(W,f):(f=Ls(f,E,i,null),f.flags|=2),f.return=a,l.return=a,l.sibling=f,a.child=l,l=f,f=a.child,E=t.child.memoizedState,E===null?E=Kh(i):(I=E.cachePool,I!==null?(W=Lt._currentValue,I=I.parent!==W?{parent:W,pool:W}:I):I=Dg(),E={baseLanes:E.baseLanes|i,cachePool:I}),f.memoizedState=E,f.childLanes=Gh(t,w,i),a.memoizedState=qh,l):(Ra(a),i=t.child,t=i.sibling,i=Qr(i,{mode:"visible",children:l.children}),i.return=a,i.sibling=null,t!==null&&(w=a.deletions,w===null?(a.deletions=[t],a.flags|=16):w.push(t)),a.child=i,a.memoizedState=null,i)}function Yh(t,a){return a=rc({mode:"visible",children:a},t.mode),a.return=t,t.child=a}function rc(t,a){return t=An(22,t,null,a),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Qh(t,a,i){return Fi(a,t.child,null,i),t=Yh(a,a.pendingProps.children),t.flags|=2,a.memoizedState=null,t}function Wy(t,a,i){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a),ph(t.return,a,i)}function Jh(t,a,i,l,f){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:f}:(d.isBackwards=a,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=i,d.tailMode=f)}function Hy(t,a,i){var l=a.pendingProps,f=l.revealOrder,d=l.tail;if(Jt(t,a,l.children,i),l=jt.current,(l&2)!==0)l=l&1|2,a.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=a.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Wy(t,i,a);else if(t.tag===19)Wy(t,i,a);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===a)break e;for(;t.sibling===null;){if(t.return===null||t.return===a)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(re(jt,l),f){case"forwards":for(i=a.child,f=null;i!==null;)t=i.alternate,t!==null&&Zu(t)===null&&(f=i),i=i.sibling;i=f,i===null?(f=a.child,a.child=null):(f=i.sibling,i.sibling=null),Jh(a,!1,f,i,d);break;case"backwards":for(i=null,f=a.child,a.child=null;f!==null;){if(t=f.alternate,t!==null&&Zu(t)===null){a.child=f;break}t=f.sibling,f.sibling=i,i=f,f=t}Jh(a,!0,i,null,d);break;case"together":Jh(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function aa(t,a,i){if(t!==null&&(a.dependencies=t.dependencies),Ua|=a.lanes,(i&a.childLanes)===0)if(t!==null){if(qo(t,a,i,!1),(i&a.childLanes)===0)return null}else return null;if(t!==null&&a.child!==t.child)throw Error(s(153));if(a.child!==null){for(t=a.child,i=Qr(t,t.pendingProps),a.child=i,i.return=a;t.sibling!==null;)t=t.sibling,i=i.sibling=Qr(t,t.pendingProps),i.return=a;i.sibling=null}return a.child}function Xh(t,a){return(t.lanes&a)!==0?!0:(t=t.dependencies,!!(t!==null&&ju(t)))}function Sk(t,a,i){switch(a.tag){case 3:Le(a,a.stateNode.containerInfo),Na(a,Lt,t.memoizedState.cache),Wo();break;case 27:case 5:jn(a);break;case 4:Le(a,a.stateNode.containerInfo);break;case 10:Na(a,a.type,a.memoizedProps.value);break;case 13:var l=a.memoizedState;if(l!==null)return l.dehydrated!==null?(Ra(a),a.flags|=128,null):(i&a.child.childLanes)!==0?By(t,a,i):(Ra(a),t=aa(t,a,i),t!==null?t.sibling:null);Ra(a);break;case 19:var f=(t.flags&128)!==0;if(l=(i&a.childLanes)!==0,l||(qo(t,a,i,!1),l=(i&a.childLanes)!==0),f){if(l)return Hy(t,a,i);a.flags|=128}if(f=a.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),re(jt,jt.current),l)break;return null;case 22:case 23:return a.lanes=0,zy(t,a,i);case 24:Na(a,Lt,t.memoizedState.cache)}return aa(t,a,i)}function qy(t,a,i){if(t!==null)if(t.memoizedProps!==a.pendingProps)Vt=!0;else{if(!Xh(t,i)&&(a.flags&128)===0)return Vt=!1,Sk(t,a,i);Vt=(t.flags&131072)!==0}else Vt=!1,qe&&(a.flags&1048576)!==0&&kg(a,Lu,a.index);switch(a.lanes=0,a.tag){case 16:e:{t=a.pendingProps;var l=a.elementType,f=l._init;if(l=f(l._payload),a.type=l,typeof l=="function")oh(l)?(t=Hs(l,t),a.tag=1,a=$y(null,a,l,t,i)):(a.tag=0,a=Hh(null,a,l,t,i));else{if(l!=null){if(f=l.$$typeof,f===ue){a.tag=11,a=My(null,a,l,t,i);break e}else if(f===R){a.tag=14,a=Ly(null,a,l,t,i);break e}}throw a=Ye(l)||l,Error(s(306,a,""))}}return a;case 0:return Hh(t,a,a.type,a.pendingProps,i);case 1:return l=a.type,f=Hs(l,a.pendingProps),$y(t,a,l,f,i);case 3:e:{if(Le(a,a.stateNode.containerInfo),t===null)throw Error(s(387));l=a.pendingProps;var d=a.memoizedState;f=d.element,Sh(t,a),Zo(a,l,null,i);var w=a.memoizedState;if(l=w.cache,Na(a,Lt,l),l!==d.cache&&mh(a,[Lt],i,!0),Xo(),l=w.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:w.cache},a.updateQueue.baseState=d,a.memoizedState=d,a.flags&256){a=Vy(t,a,l,i);break e}else if(l!==f){f=Kn(Error(s(424)),a),Ho(f),a=Vy(t,a,l,i);break e}else{switch(t=a.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(St=ur(t.firstChild),gn=a,qe=!0,Us=null,Tr=!0,i=Cy(a,null,l,i),a.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Wo(),l===f){a=aa(t,a,i);break e}Jt(t,a,l,i)}a=a.child}return a;case 26:return nc(t,a),t===null?(i=Qv(a.type,null,a.pendingProps,null))?a.memoizedState=i:qe||(i=a.type,t=a.pendingProps,l=yc(ve.current).createElement(i),l[vt]=a,l[ct]=t,Zt(l,i,t),$e(l),a.stateNode=l):a.memoizedState=Qv(a.type,t.memoizedProps,a.pendingProps,t.memoizedState),null;case 27:return jn(a),t===null&&qe&&(l=a.stateNode=Kv(a.type,a.pendingProps,ve.current),gn=a,Tr=!0,f=St,Ba(a.type)?(Od=f,St=ur(l.firstChild)):St=f),Jt(t,a,a.pendingProps.children,i),nc(t,a),t===null&&(a.flags|=4194304),a.child;case 5:return t===null&&qe&&((f=l=St)&&(l=Yk(l,a.type,a.pendingProps,Tr),l!==null?(a.stateNode=l,gn=a,St=ur(l.firstChild),Tr=!1,f=!0):f=!1),f||Fs(a)),jn(a),f=a.type,d=a.pendingProps,w=t!==null?t.memoizedProps:null,l=d.children,Nd(f,d)?l=null:w!==null&&Nd(f,w)&&(a.flags|=32),a.memoizedState!==null&&(f=Th(t,a,dk,null,null,i),Sl._currentValue=f),nc(t,a),Jt(t,a,l,i),a.child;case 6:return t===null&&qe&&((t=i=St)&&(i=Qk(i,a.pendingProps,Tr),i!==null?(a.stateNode=i,gn=a,St=null,t=!0):t=!1),t||Fs(a)),null;case 13:return By(t,a,i);case 4:return Le(a,a.stateNode.containerInfo),l=a.pendingProps,t===null?a.child=Fi(a,null,l,i):Jt(t,a,l,i),a.child;case 11:return My(t,a,a.type,a.pendingProps,i);case 7:return Jt(t,a,a.pendingProps,i),a.child;case 8:return Jt(t,a,a.pendingProps.children,i),a.child;case 12:return Jt(t,a,a.pendingProps.children,i),a.child;case 10:return l=a.pendingProps,Na(a,a.type,l.value),Jt(t,a,l.children,i),a.child;case 9:return f=a.type._context,l=a.pendingProps.children,Vs(a),f=sn(f),l=l(f),a.flags|=1,Jt(t,a,l,i),a.child;case 14:return Ly(t,a,a.type,a.pendingProps,i);case 15:return jy(t,a,a.type,a.pendingProps,i);case 19:return Hy(t,a,i);case 31:return l=a.pendingProps,i=a.mode,l={mode:l.mode,children:l.children},t===null?(i=rc(l,i),i.ref=a.ref,a.child=i,i.return=a,a=i):(i=Qr(t.child,l),i.ref=a.ref,a.child=i,i.return=a,a=i),a;case 22:return zy(t,a,i);case 24:return Vs(a),l=sn(Lt),t===null?(f=vh(),f===null&&(f=lt,d=gh(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=i),f=d),a.memoizedState={parent:l,cache:f},wh(a),Na(a,Lt,f)):((t.lanes&i)!==0&&(Sh(t,a),Zo(a,null,null,i),Xo()),f=t.memoizedState,d=a.memoizedState,f.parent!==l?(f={parent:l,cache:l},a.memoizedState=f,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=f),Na(a,Lt,l)):(l=d.cache,Na(a,Lt,l),l!==f.cache&&mh(a,[Lt],i,!0))),Jt(t,a,a.pendingProps.children,i),a.child;case 29:throw a.pendingProps}throw Error(s(156,a.tag))}function sa(t){t.flags|=4}function Ky(t,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!tb(a)){if(a=Jn.current,a!==null&&((je&4194048)===je?na!==null:(je&62914560)!==je&&(je&536870912)===0||a!==na))throw Qo=bh,Ag;t.flags|=8192}}function ac(t,a){a!==null&&(t.flags|=4),t.flags&16384&&(a=t.tag!==22?vs():536870912,t.lanes|=a,Wi|=a)}function il(t,a){if(!qe)switch(t.tailMode){case"hidden":a=t.tail;for(var i=null;a!==null;)a.alternate!==null&&(i=a),a=a.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?a||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function bt(t){var a=t.alternate!==null&&t.alternate.child===t.child,i=0,l=0;if(a)for(var f=t.child;f!==null;)i|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)i|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=i,a}function kk(t,a,i){var l=a.pendingProps;switch(fh(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(a),null;case 1:return bt(a),null;case 3:return i=a.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),ea(Lt),vn(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Bo(a)?sa(a):t===null||t.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,xg())),bt(a),null;case 26:return i=a.memoizedState,t===null?(sa(a),i!==null?(bt(a),Ky(a,i)):(bt(a),a.flags&=-16777217)):i?i!==t.memoizedState?(sa(a),bt(a),Ky(a,i)):(bt(a),a.flags&=-16777217):(t.memoizedProps!==l&&sa(a),bt(a),a.flags&=-16777217),null;case 27:_n(a),i=ve.current;var f=a.type;if(t!==null&&a.stateNode!=null)t.memoizedProps!==l&&sa(a);else{if(!l){if(a.stateNode===null)throw Error(s(166));return bt(a),null}t=me.current,Bo(a)?Eg(a):(t=Kv(f,l,i),a.stateNode=t,sa(a))}return bt(a),null;case 5:if(_n(a),i=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==l&&sa(a);else{if(!l){if(a.stateNode===null)throw Error(s(166));return bt(a),null}if(t=me.current,Bo(a))Eg(a);else{switch(f=yc(ve.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?f.createElement(i,{is:l.is}):f.createElement(i)}}t[vt]=a,t[ct]=l;e:for(f=a.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===a)break e;for(;f.sibling===null;){if(f.return===null||f.return===a)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}a.stateNode=t;e:switch(Zt(t,i,l),i){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&sa(a)}}return bt(a),a.flags&=-16777217,null;case 6:if(t&&a.stateNode!=null)t.memoizedProps!==l&&sa(a);else{if(typeof l!="string"&&a.stateNode===null)throw Error(s(166));if(t=ve.current,Bo(a)){if(t=a.stateNode,i=a.memoizedProps,l=null,f=gn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[vt]=a,t=!!(t.nodeValue===i||l!==null&&l.suppressHydrationWarning===!0||Fv(t.nodeValue,i)),t||Fs(a)}else t=yc(t).createTextNode(l),t[vt]=a,a.stateNode=t}return bt(a),null;case 13:if(l=a.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Bo(a),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=a.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[vt]=a}else Wo(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;bt(a),f=!1}else f=xg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return a.flags&256?(ra(a),a):(ra(a),null)}if(ra(a),(a.flags&128)!==0)return a.lanes=i,a;if(i=l!==null,t=t!==null&&t.memoizedState!==null,i){l=a.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return i!==t&&i&&(a.child.flags|=8192),ac(a,a.updateQueue),bt(a),null;case 4:return vn(),t===null&&Ed(a.stateNode.containerInfo),bt(a),null;case 10:return ea(a.type),bt(a),null;case 19:if(oe(jt),f=a.memoizedState,f===null)return bt(a),null;if(l=(a.flags&128)!==0,d=f.rendering,d===null)if(l)il(f,!1);else{if(kt!==0||t!==null&&(t.flags&128)!==0)for(t=a.child;t!==null;){if(d=Zu(t),d!==null){for(a.flags|=128,il(f,!1),t=d.updateQueue,a.updateQueue=t,ac(a,t),a.subtreeFlags=0,t=i,i=a.child;i!==null;)Sg(i,t),i=i.sibling;return re(jt,jt.current&1|2),a.child}t=t.sibling}f.tail!==null&&hn()>oc&&(a.flags|=128,l=!0,il(f,!1),a.lanes=4194304)}else{if(!l)if(t=Zu(d),t!==null){if(a.flags|=128,l=!0,t=t.updateQueue,a.updateQueue=t,ac(a,t),il(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!qe)return bt(a),null}else 2*hn()-f.renderingStartTime>oc&&i!==536870912&&(a.flags|=128,l=!0,il(f,!1),a.lanes=4194304);f.isBackwards?(d.sibling=a.child,a.child=d):(t=f.last,t!==null?t.sibling=d:a.child=d,f.last=d)}return f.tail!==null?(a=f.tail,f.rendering=a,f.tail=a.sibling,f.renderingStartTime=hn(),a.sibling=null,t=jt.current,re(jt,l?t&1|2:t&1),a):(bt(a),null);case 22:case 23:return ra(a),xh(),l=a.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(a.flags|=8192):l&&(a.flags|=8192),l?(i&536870912)!==0&&(a.flags&128)===0&&(bt(a),a.subtreeFlags&6&&(a.flags|=8192)):bt(a),i=a.updateQueue,i!==null&&ac(a,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),l=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),l!==i&&(a.flags|=2048),t!==null&&oe(Bs),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),a.memoizedState.cache!==i&&(a.flags|=2048),ea(Lt),bt(a),null;case 25:return null;case 30:return null}throw Error(s(156,a.tag))}function Ek(t,a){switch(fh(a),a.tag){case 1:return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 3:return ea(Lt),vn(),t=a.flags,(t&65536)!==0&&(t&128)===0?(a.flags=t&-65537|128,a):null;case 26:case 27:case 5:return _n(a),null;case 13:if(ra(a),t=a.memoizedState,t!==null&&t.dehydrated!==null){if(a.alternate===null)throw Error(s(340));Wo()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 19:return oe(jt),null;case 4:return vn(),null;case 10:return ea(a.type),null;case 22:case 23:return ra(a),xh(),t!==null&&oe(Bs),t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 24:return ea(Lt),null;case 25:return null;default:return null}}function Gy(t,a){switch(fh(a),a.tag){case 3:ea(Lt),vn();break;case 26:case 27:case 5:_n(a);break;case 4:vn();break;case 13:ra(a);break;case 19:oe(jt);break;case 10:ea(a.type);break;case 22:case 23:ra(a),xh(),t!==null&&oe(Bs);break;case 24:ea(Lt)}}function ol(t,a){try{var i=a.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var f=l.next;i=f;do{if((i.tag&t)===t){l=void 0;var d=i.create,w=i.inst;l=d(),w.destroy=l}i=i.next}while(i!==f)}}catch(E){ot(a,a.return,E)}}function Ma(t,a,i){try{var l=a.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var w=l.inst,E=w.destroy;if(E!==void 0){w.destroy=void 0,f=a;var I=i,W=E;try{W()}catch(Q){ot(f,I,Q)}}}l=l.next}while(l!==d)}}catch(Q){ot(a,a.return,Q)}}function Yy(t){var a=t.updateQueue;if(a!==null){var i=t.stateNode;try{Lg(a,i)}catch(l){ot(t,t.return,l)}}}function Qy(t,a,i){i.props=Hs(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(l){ot(t,a,l)}}function ll(t,a){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof i=="function"?t.refCleanup=i(l):i.current=l}}catch(f){ot(t,a,f)}}function Nr(t,a){var i=t.ref,l=t.refCleanup;if(i!==null)if(typeof l=="function")try{l()}catch(f){ot(t,a,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(f){ot(t,a,f)}else i.current=null}function Jy(t){var a=t.type,i=t.memoizedProps,l=t.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":i.autoFocus&&l.focus();break e;case"img":i.src?l.src=i.src:i.srcSet&&(l.srcset=i.srcSet)}}catch(f){ot(t,t.return,f)}}function Zh(t,a,i){try{var l=t.stateNode;Wk(l,t.type,i,a),l[ct]=a}catch(f){ot(t,t.return,f)}}function Xy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ba(t.type)||t.tag===4}function ed(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Xy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ba(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function td(t,a,i){var l=t.tag;if(l===5||l===6)t=t.stateNode,a?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,a):(a=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.appendChild(t),i=i._reactRootContainer,i!=null||a.onclick!==null||(a.onclick=gc));else if(l!==4&&(l===27&&Ba(t.type)&&(i=t.stateNode,a=null),t=t.child,t!==null))for(td(t,a,i),t=t.sibling;t!==null;)td(t,a,i),t=t.sibling}function sc(t,a,i){var l=t.tag;if(l===5||l===6)t=t.stateNode,a?i.insertBefore(t,a):i.appendChild(t);else if(l!==4&&(l===27&&Ba(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(sc(t,a,i),t=t.sibling;t!==null;)sc(t,a,i),t=t.sibling}function Zy(t){var a=t.stateNode,i=t.memoizedProps;try{for(var l=t.type,f=a.attributes;f.length;)a.removeAttributeNode(f[0]);Zt(a,l,i),a[vt]=t,a[ct]=i}catch(d){ot(t,t.return,d)}}var ia=!1,xt=!1,nd=!1,ev=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function Ck(t,a){if(t=t.containerInfo,_d=Ec,t=fg(t),eh(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else e:{i=(i=t.ownerDocument)&&i.defaultView||window;var l=i.getSelection&&i.getSelection();if(l&&l.rangeCount!==0){i=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{i.nodeType,d.nodeType}catch{i=null;break e}var w=0,E=-1,I=-1,W=0,Q=0,Z=t,q=null;t:for(;;){for(var K;Z!==i||f!==0&&Z.nodeType!==3||(E=w+f),Z!==d||l!==0&&Z.nodeType!==3||(I=w+l),Z.nodeType===3&&(w+=Z.nodeValue.length),(K=Z.firstChild)!==null;)q=Z,Z=K;for(;;){if(Z===t)break t;if(q===i&&++W===f&&(E=w),q===d&&++Q===l&&(I=w),(K=Z.nextSibling)!==null)break;Z=q,q=Z.parentNode}Z=K}i=E===-1||I===-1?null:{start:E,end:I}}else i=null}i=i||{start:0,end:0}}else i=null;for(Td={focusedElem:t,selectionRange:i},Ec=!1,Bt=a;Bt!==null;)if(a=Bt,t=a.child,(a.subtreeFlags&1024)!==0&&t!==null)t.return=a,Bt=t;else for(;Bt!==null;){switch(a=Bt,d=a.alternate,t=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,i=a,f=d.memoizedProps,d=d.memoizedState,l=i.stateNode;try{var ke=Hs(i.type,f,i.elementType===i.type);t=l.getSnapshotBeforeUpdate(ke,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(we){ot(i,i.return,we)}}break;case 3:if((t&1024)!==0){if(t=a.stateNode.containerInfo,i=t.nodeType,i===9)Ad(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ad(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=a.sibling,t!==null){t.return=a.return,Bt=t;break}Bt=a.return}}function tv(t,a,i){var l=i.flags;switch(i.tag){case 0:case 11:case 15:La(t,i),l&4&&ol(5,i);break;case 1:if(La(t,i),l&4)if(t=i.stateNode,a===null)try{t.componentDidMount()}catch(w){ot(i,i.return,w)}else{var f=Hs(i.type,a.memoizedProps);a=a.memoizedState;try{t.componentDidUpdate(f,a,t.__reactInternalSnapshotBeforeUpdate)}catch(w){ot(i,i.return,w)}}l&64&&Yy(i),l&512&&ll(i,i.return);break;case 3:if(La(t,i),l&64&&(t=i.updateQueue,t!==null)){if(a=null,i.child!==null)switch(i.child.tag){case 27:case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}try{Lg(t,a)}catch(w){ot(i,i.return,w)}}break;case 27:a===null&&l&4&&Zy(i);case 26:case 5:La(t,i),a===null&&l&4&&Jy(i),l&512&&ll(i,i.return);break;case 12:La(t,i);break;case 13:La(t,i),l&4&&av(t,i),l&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=Rk.bind(null,i),Jk(t,i))));break;case 22:if(l=i.memoizedState!==null||ia,!l){a=a!==null&&a.memoizedState!==null||xt,f=ia;var d=xt;ia=l,(xt=a)&&!d?ja(t,i,(i.subtreeFlags&8772)!==0):La(t,i),ia=f,xt=d}break;case 30:break;default:La(t,i)}}function nv(t){var a=t.alternate;a!==null&&(t.alternate=null,nv(a)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(a=t.stateNode,a!==null&&yr(a)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var mt=null,Sn=!1;function oa(t,a,i){for(i=i.child;i!==null;)rv(t,a,i),i=i.sibling}function rv(t,a,i){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount(dt,i)}catch{}switch(i.tag){case 26:xt||Nr(i,a),oa(t,a,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:xt||Nr(i,a);var l=mt,f=Sn;Ba(i.type)&&(mt=i.stateNode,Sn=!1),oa(t,a,i),yl(i.stateNode),mt=l,Sn=f;break;case 5:xt||Nr(i,a);case 6:if(l=mt,f=Sn,mt=null,oa(t,a,i),mt=l,Sn=f,mt!==null)if(Sn)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(i.stateNode)}catch(d){ot(i,a,d)}else try{mt.removeChild(i.stateNode)}catch(d){ot(i,a,d)}break;case 18:mt!==null&&(Sn?(t=mt,Hv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),xl(t)):Hv(mt,i.stateNode));break;case 4:l=mt,f=Sn,mt=i.stateNode.containerInfo,Sn=!0,oa(t,a,i),mt=l,Sn=f;break;case 0:case 11:case 14:case 15:xt||Ma(2,i,a),xt||Ma(4,i,a),oa(t,a,i);break;case 1:xt||(Nr(i,a),l=i.stateNode,typeof l.componentWillUnmount=="function"&&Qy(i,a,l)),oa(t,a,i);break;case 21:oa(t,a,i);break;case 22:xt=(l=xt)||i.memoizedState!==null,oa(t,a,i),xt=l;break;default:oa(t,a,i)}}function av(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{xl(t)}catch(i){ot(a,a.return,i)}}function xk(t){switch(t.tag){case 13:case 19:var a=t.stateNode;return a===null&&(a=t.stateNode=new ev),a;case 22:return t=t.stateNode,a=t._retryCache,a===null&&(a=t._retryCache=new ev),a;default:throw Error(s(435,t.tag))}}function rd(t,a){var i=xk(t);a.forEach(function(l){var f=Pk.bind(null,t,l);i.has(l)||(i.add(l),l.then(f,f))})}function In(t,a){var i=a.deletions;if(i!==null)for(var l=0;l<i.length;l++){var f=i[l],d=t,w=a,E=w;e:for(;E!==null;){switch(E.tag){case 27:if(Ba(E.type)){mt=E.stateNode,Sn=!1;break e}break;case 5:mt=E.stateNode,Sn=!1;break e;case 3:case 4:mt=E.stateNode.containerInfo,Sn=!0;break e}E=E.return}if(mt===null)throw Error(s(160));rv(d,w,f),mt=null,Sn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)sv(a,t),a=a.sibling}var lr=null;function sv(t,a){var i=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:In(a,t),On(t),l&4&&(Ma(3,t,t.return),ol(3,t),Ma(5,t,t.return));break;case 1:In(a,t),On(t),l&512&&(xt||i===null||Nr(i,i.return)),l&64&&ia&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?l:i.concat(l))));break;case 26:var f=lr;if(In(a,t),On(t),l&512&&(xt||i===null||Nr(i,i.return)),l&4){var d=i!==null?i.memoizedState:null;if(l=t.memoizedState,i===null)if(l===null)if(t.stateNode===null){e:{l=t.type,i=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[gr]||d[vt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Zt(d,l,i),d[vt]=t,$e(d),l=d;break e;case"link":var w=Zv("link","href",f).get(l+(i.href||""));if(w){for(var E=0;E<w.length;E++)if(d=w[E],d.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&d.getAttribute("rel")===(i.rel==null?null:i.rel)&&d.getAttribute("title")===(i.title==null?null:i.title)&&d.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){w.splice(E,1);break t}}d=f.createElement(l),Zt(d,l,i),f.head.appendChild(d);break;case"meta":if(w=Zv("meta","content",f).get(l+(i.content||""))){for(E=0;E<w.length;E++)if(d=w[E],d.getAttribute("content")===(i.content==null?null:""+i.content)&&d.getAttribute("name")===(i.name==null?null:i.name)&&d.getAttribute("property")===(i.property==null?null:i.property)&&d.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&d.getAttribute("charset")===(i.charSet==null?null:i.charSet)){w.splice(E,1);break t}}d=f.createElement(l),Zt(d,l,i),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[vt]=t,$e(d),l=d}t.stateNode=l}else eb(f,t.type,t.stateNode);else t.stateNode=Xv(f,l,t.memoizedProps);else d!==l?(d===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):d.count--,l===null?eb(f,t.type,t.stateNode):Xv(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Zh(t,t.memoizedProps,i.memoizedProps)}break;case 27:In(a,t),On(t),l&512&&(xt||i===null||Nr(i,i.return)),i!==null&&l&4&&Zh(t,t.memoizedProps,i.memoizedProps);break;case 5:if(In(a,t),On(t),l&512&&(xt||i===null||Nr(i,i.return)),t.flags&32){f=t.stateNode;try{Bn(f,"")}catch(K){ot(t,t.return,K)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Zh(t,f,i!==null?i.memoizedProps:f)),l&1024&&(nd=!0);break;case 6:if(In(a,t),On(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,i=t.stateNode;try{i.nodeValue=l}catch(K){ot(t,t.return,K)}}break;case 3:if(wc=null,f=lr,lr=vc(a.containerInfo),In(a,t),lr=f,On(t),l&4&&i!==null&&i.memoizedState.isDehydrated)try{xl(a.containerInfo)}catch(K){ot(t,t.return,K)}nd&&(nd=!1,iv(t));break;case 4:l=lr,lr=vc(t.stateNode.containerInfo),In(a,t),On(t),lr=l;break;case 12:In(a,t),On(t);break;case 13:In(a,t),On(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(ud=hn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rd(t,l)));break;case 22:f=t.memoizedState!==null;var I=i!==null&&i.memoizedState!==null,W=ia,Q=xt;if(ia=W||f,xt=Q||I,In(a,t),xt=Q,ia=W,On(t),l&8192)e:for(a=t.stateNode,a._visibility=f?a._visibility&-2:a._visibility|1,f&&(i===null||I||ia||xt||qs(t)),i=null,a=t;;){if(a.tag===5||a.tag===26){if(i===null){I=i=a;try{if(d=I.stateNode,f)w=d.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{E=I.stateNode;var Z=I.memoizedProps.style,q=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;E.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(K){ot(I,I.return,K)}}}else if(a.tag===6){if(i===null){I=a;try{I.stateNode.nodeValue=f?"":I.memoizedProps}catch(K){ot(I,I.return,K)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===t)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;i===a&&(i=null),a=a.return}i===a&&(i=null),a.sibling.return=a.return,a=a.sibling}l&4&&(l=t.updateQueue,l!==null&&(i=l.retryQueue,i!==null&&(l.retryQueue=null,rd(t,i))));break;case 19:In(a,t),On(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rd(t,l)));break;case 30:break;case 21:break;default:In(a,t),On(t)}}function On(t){var a=t.flags;if(a&2){try{for(var i,l=t.return;l!==null;){if(Xy(l)){i=l;break}l=l.return}if(i==null)throw Error(s(160));switch(i.tag){case 27:var f=i.stateNode,d=ed(t);sc(t,d,f);break;case 5:var w=i.stateNode;i.flags&32&&(Bn(w,""),i.flags&=-33);var E=ed(t);sc(t,E,w);break;case 3:case 4:var I=i.stateNode.containerInfo,W=ed(t);td(t,W,I);break;default:throw Error(s(161))}}catch(Q){ot(t,t.return,Q)}t.flags&=-3}a&4096&&(t.flags&=-4097)}function iv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var a=t;iv(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),t=t.sibling}}function La(t,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)tv(t,a.alternate,a),a=a.sibling}function qs(t){for(t=t.child;t!==null;){var a=t;switch(a.tag){case 0:case 11:case 14:case 15:Ma(4,a,a.return),qs(a);break;case 1:Nr(a,a.return);var i=a.stateNode;typeof i.componentWillUnmount=="function"&&Qy(a,a.return,i),qs(a);break;case 27:yl(a.stateNode);case 26:case 5:Nr(a,a.return),qs(a);break;case 22:a.memoizedState===null&&qs(a);break;case 30:qs(a);break;default:qs(a)}t=t.sibling}}function ja(t,a,i){for(i=i&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var l=a.alternate,f=t,d=a,w=d.flags;switch(d.tag){case 0:case 11:case 15:ja(f,d,i),ol(4,d);break;case 1:if(ja(f,d,i),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(W){ot(l,l.return,W)}if(l=d,f=l.updateQueue,f!==null){var E=l.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)Mg(I[f],E)}catch(W){ot(l,l.return,W)}}i&&w&64&&Yy(d),ll(d,d.return);break;case 27:Zy(d);case 26:case 5:ja(f,d,i),i&&l===null&&w&4&&Jy(d),ll(d,d.return);break;case 12:ja(f,d,i);break;case 13:ja(f,d,i),i&&w&4&&av(f,d);break;case 22:d.memoizedState===null&&ja(f,d,i),ll(d,d.return);break;case 30:break;default:ja(f,d,i)}a=a.sibling}}function ad(t,a){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(t=a.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&Ko(i))}function sd(t,a){t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&Ko(t))}function Dr(t,a,i,l){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)ov(t,a,i,l),a=a.sibling}function ov(t,a,i,l){var f=a.flags;switch(a.tag){case 0:case 11:case 15:Dr(t,a,i,l),f&2048&&ol(9,a);break;case 1:Dr(t,a,i,l);break;case 3:Dr(t,a,i,l),f&2048&&(t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&Ko(t)));break;case 12:if(f&2048){Dr(t,a,i,l),t=a.stateNode;try{var d=a.memoizedProps,w=d.id,E=d.onPostCommit;typeof E=="function"&&E(w,a.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){ot(a,a.return,I)}}else Dr(t,a,i,l);break;case 13:Dr(t,a,i,l);break;case 23:break;case 22:d=a.stateNode,w=a.alternate,a.memoizedState!==null?d._visibility&2?Dr(t,a,i,l):ul(t,a):d._visibility&2?Dr(t,a,i,l):(d._visibility|=2,$i(t,a,i,l,(a.subtreeFlags&10256)!==0)),f&2048&&ad(w,a);break;case 24:Dr(t,a,i,l),f&2048&&sd(a.alternate,a);break;default:Dr(t,a,i,l)}}function $i(t,a,i,l,f){for(f=f&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var d=t,w=a,E=i,I=l,W=w.flags;switch(w.tag){case 0:case 11:case 15:$i(d,w,E,I,f),ol(8,w);break;case 23:break;case 22:var Q=w.stateNode;w.memoizedState!==null?Q._visibility&2?$i(d,w,E,I,f):ul(d,w):(Q._visibility|=2,$i(d,w,E,I,f)),f&&W&2048&&ad(w.alternate,w);break;case 24:$i(d,w,E,I,f),f&&W&2048&&sd(w.alternate,w);break;default:$i(d,w,E,I,f)}a=a.sibling}}function ul(t,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var i=t,l=a,f=l.flags;switch(l.tag){case 22:ul(i,l),f&2048&&ad(l.alternate,l);break;case 24:ul(i,l),f&2048&&sd(l.alternate,l);break;default:ul(i,l)}a=a.sibling}}var cl=8192;function Vi(t){if(t.subtreeFlags&cl)for(t=t.child;t!==null;)lv(t),t=t.sibling}function lv(t){switch(t.tag){case 26:Vi(t),t.flags&cl&&t.memoizedState!==null&&cE(lr,t.memoizedState,t.memoizedProps);break;case 5:Vi(t);break;case 3:case 4:var a=lr;lr=vc(t.stateNode.containerInfo),Vi(t),lr=a;break;case 22:t.memoizedState===null&&(a=t.alternate,a!==null&&a.memoizedState!==null?(a=cl,cl=16777216,Vi(t),cl=a):Vi(t));break;default:Vi(t)}}function uv(t){var a=t.alternate;if(a!==null&&(t=a.child,t!==null)){a.child=null;do a=t.sibling,t.sibling=null,t=a;while(t!==null)}}function fl(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var i=0;i<a.length;i++){var l=a[i];Bt=l,fv(l,t)}uv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)cv(t),t=t.sibling}function cv(t){switch(t.tag){case 0:case 11:case 15:fl(t),t.flags&2048&&Ma(9,t,t.return);break;case 3:fl(t);break;case 12:fl(t);break;case 22:var a=t.stateNode;t.memoizedState!==null&&a._visibility&2&&(t.return===null||t.return.tag!==13)?(a._visibility&=-3,ic(t)):fl(t);break;default:fl(t)}}function ic(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var i=0;i<a.length;i++){var l=a[i];Bt=l,fv(l,t)}uv(t)}for(t=t.child;t!==null;){switch(a=t,a.tag){case 0:case 11:case 15:Ma(8,a,a.return),ic(a);break;case 22:i=a.stateNode,i._visibility&2&&(i._visibility&=-3,ic(a));break;default:ic(a)}t=t.sibling}}function fv(t,a){for(;Bt!==null;){var i=Bt;switch(i.tag){case 0:case 11:case 15:Ma(8,i,a);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var l=i.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ko(i.memoizedState.cache)}if(l=i.child,l!==null)l.return=i,Bt=l;else e:for(i=t;Bt!==null;){l=Bt;var f=l.sibling,d=l.return;if(nv(l),l===i){Bt=null;break e}if(f!==null){f.return=d,Bt=f;break e}Bt=d}}}var _k={getCacheForType:function(t){var a=sn(Lt),i=a.data.get(t);return i===void 0&&(i=t(),a.data.set(t,i)),i}},Tk=typeof WeakMap=="function"?WeakMap:Map,Je=0,lt=null,Oe=null,je=0,Xe=0,Rn=null,za=!1,Bi=!1,id=!1,la=0,kt=0,Ua=0,Ks=0,od=0,Xn=0,Wi=0,hl=null,kn=null,ld=!1,ud=0,oc=1/0,lc=null,Fa=null,Xt=0,$a=null,Hi=null,qi=0,cd=0,fd=null,hv=null,dl=0,hd=null;function Pn(){if((Je&2)!==0&&je!==0)return je&-je;if(G.T!==null){var t=Ri;return t!==0?t:bd()}return Vn()}function dv(){Xn===0&&(Xn=(je&536870912)===0||qe?ka():536870912);var t=Jn.current;return t!==null&&(t.flags|=32),Xn}function Mn(t,a,i){(t===lt&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(Ki(t,0),Va(t,je,Xn,!1)),pt(t,i),((Je&2)===0||t!==lt)&&(t===lt&&((Je&2)===0&&(Ks|=i),kt===4&&Va(t,je,Xn,!1)),Ar(t))}function pv(t,a,i){if((Je&6)!==0)throw Error(s(327));var l=!i&&(a&124)===0&&(a&t.expiredLanes)===0||rr(t,a),f=l?Ak(t,a):md(t,a,!0),d=l;do{if(f===0){Bi&&!l&&Va(t,a,0,!1);break}else{if(i=t.current.alternate,d&&!Nk(i)){f=md(t,a,!1),d=!1;continue}if(f===2){if(d=a,t.errorRecoveryDisabledLanes&d)var w=0;else w=t.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){a=w;e:{var E=t;f=hl;var I=E.current.memoizedState.isDehydrated;if(I&&(Ki(E,w).flags|=256),w=md(E,w,!1),w!==2){if(id&&!I){E.errorRecoveryDisabledLanes|=d,Ks|=d,f=4;break e}d=kn,kn=f,d!==null&&(kn===null?kn=d:kn.push.apply(kn,d))}f=w}if(d=!1,f!==2)continue}}if(f===1){Ki(t,0),Va(t,a,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((a&4194048)!==a)break;case 6:Va(l,a,Xn,!za);break e;case 2:kn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((a&62914560)===a&&(f=ud+300-hn(),10<f)){if(Va(l,a,Xn,!za),Fr(l,0,!0)!==0)break e;l.timeoutHandle=Bv(mv.bind(null,l,i,kn,lc,ld,a,Xn,Ks,Wi,za,d,2,-0,0),f);break e}mv(l,i,kn,lc,ld,a,Xn,Ks,Wi,za,d,0,-0,0)}}break}while(!0);Ar(t)}function mv(t,a,i,l,f,d,w,E,I,W,Q,Z,q,K){if(t.timeoutHandle=-1,Z=a.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(wl={stylesheets:null,count:0,unsuspend:uE},lv(a),Z=fE(),Z!==null)){t.cancelPendingCommit=Z(kv.bind(null,t,a,d,i,l,f,w,E,I,Q,1,q,K)),Va(t,d,w,!W);return}kv(t,a,d,i,l,f,w,E,I)}function Nk(t){for(var a=t;;){var i=a.tag;if((i===0||i===11||i===15)&&a.flags&16384&&(i=a.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var l=0;l<i.length;l++){var f=i[l],d=f.getSnapshot;f=f.value;try{if(!Dn(d(),f))return!1}catch{return!1}}if(i=a.child,a.subtreeFlags&16384&&i!==null)i.return=a,a=i;else{if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Va(t,a,i,l){a&=~od,a&=~Ks,t.suspendedLanes|=a,t.pingedLanes&=~a,l&&(t.warmLanes|=a),l=t.expirationTimes;for(var f=a;0<f;){var d=31-Ot(f),w=1<<d;l[d]=-1,f&=~w}i!==0&&dn(t,i,a)}function uc(){return(Je&6)===0?(pl(0),!1):!0}function dd(){if(Oe!==null){if(Xe===0)var t=Oe.return;else t=Oe,Zr=$s=null,Ah(t),Ui=null,al=0,t=Oe;for(;t!==null;)Gy(t.alternate,t),t=t.return;Oe=null}}function Ki(t,a){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,qk(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),dd(),lt=t,Oe=i=Qr(t.current,null),je=a,Xe=0,Rn=null,za=!1,Bi=rr(t,a),id=!1,Wi=Xn=od=Ks=Ua=kt=0,kn=hl=null,ld=!1,(a&8)!==0&&(a|=a&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=a;0<l;){var f=31-Ot(l),d=1<<f;a|=t[f],l&=~d}return la=a,Iu(),i}function gv(t,a){De=null,G.H=Qu,a===Yo||a===Fu?(a=Rg(),Xe=3):a===Ag?(a=Rg(),Xe=4):Xe=a===Py?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Rn=a,Oe===null&&(kt=1,tc(t,Kn(a,t.current)))}function yv(){var t=G.H;return G.H=Qu,t===null?Qu:t}function vv(){var t=G.A;return G.A=_k,t}function pd(){kt=4,za||(je&4194048)!==je&&Jn.current!==null||(Bi=!0),(Ua&134217727)===0&&(Ks&134217727)===0||lt===null||Va(lt,je,Xn,!1)}function md(t,a,i){var l=Je;Je|=2;var f=yv(),d=vv();(lt!==t||je!==a)&&(lc=null,Ki(t,a)),a=!1;var w=kt;e:do try{if(Xe!==0&&Oe!==null){var E=Oe,I=Rn;switch(Xe){case 8:dd(),w=6;break e;case 3:case 2:case 9:case 6:Jn.current===null&&(a=!0);var W=Xe;if(Xe=0,Rn=null,Gi(t,E,I,W),i&&Bi){w=0;break e}break;default:W=Xe,Xe=0,Rn=null,Gi(t,E,I,W)}}Dk(),w=kt;break}catch(Q){gv(t,Q)}while(!0);return a&&t.shellSuspendCounter++,Zr=$s=null,Je=l,G.H=f,G.A=d,Oe===null&&(lt=null,je=0,Iu()),w}function Dk(){for(;Oe!==null;)bv(Oe)}function Ak(t,a){var i=Je;Je|=2;var l=yv(),f=vv();lt!==t||je!==a?(lc=null,oc=hn()+500,Ki(t,a)):Bi=rr(t,a);e:do try{if(Xe!==0&&Oe!==null){a=Oe;var d=Rn;t:switch(Xe){case 1:Xe=0,Rn=null,Gi(t,a,d,1);break;case 2:case 9:if(Ig(d)){Xe=0,Rn=null,wv(a);break}a=function(){Xe!==2&&Xe!==9||lt!==t||(Xe=7),Ar(t)},d.then(a,a);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Ig(d)?(Xe=0,Rn=null,wv(a)):(Xe=0,Rn=null,Gi(t,a,d,7));break;case 5:var w=null;switch(Oe.tag){case 26:w=Oe.memoizedState;case 5:case 27:var E=Oe;if(!w||tb(w)){Xe=0,Rn=null;var I=E.sibling;if(I!==null)Oe=I;else{var W=E.return;W!==null?(Oe=W,cc(W)):Oe=null}break t}}Xe=0,Rn=null,Gi(t,a,d,5);break;case 6:Xe=0,Rn=null,Gi(t,a,d,6);break;case 8:dd(),kt=6;break e;default:throw Error(s(462))}}Ik();break}catch(Q){gv(t,Q)}while(!0);return Zr=$s=null,G.H=l,G.A=f,Je=i,Oe!==null?0:(lt=null,je=0,Iu(),kt)}function Ik(){for(;Oe!==null&&!Et();)bv(Oe)}function bv(t){var a=qy(t.alternate,t,la);t.memoizedProps=t.pendingProps,a===null?cc(t):Oe=a}function wv(t){var a=t,i=a.alternate;switch(a.tag){case 15:case 0:a=Fy(i,a,a.pendingProps,a.type,void 0,je);break;case 11:a=Fy(i,a,a.pendingProps,a.type.render,a.ref,je);break;case 5:Ah(a);default:Gy(i,a),a=Oe=Sg(a,la),a=qy(i,a,la)}t.memoizedProps=t.pendingProps,a===null?cc(t):Oe=a}function Gi(t,a,i,l){Zr=$s=null,Ah(a),Ui=null,al=0;var f=a.return;try{if(wk(t,f,a,i,je)){kt=1,tc(t,Kn(i,t.current)),Oe=null;return}}catch(d){if(f!==null)throw Oe=f,d;kt=1,tc(t,Kn(i,t.current)),Oe=null;return}a.flags&32768?(qe||l===1?t=!0:Bi||(je&536870912)!==0?t=!1:(za=t=!0,(l===2||l===9||l===3||l===6)&&(l=Jn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Sv(a,t)):cc(a)}function cc(t){var a=t;do{if((a.flags&32768)!==0){Sv(a,za);return}t=a.return;var i=kk(a.alternate,a,la);if(i!==null){Oe=i;return}if(a=a.sibling,a!==null){Oe=a;return}Oe=a=t}while(a!==null);kt===0&&(kt=5)}function Sv(t,a){do{var i=Ek(t.alternate,t);if(i!==null){i.flags&=32767,Oe=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!a&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=i}while(t!==null);kt=6,Oe=null}function kv(t,a,i,l,f,d,w,E,I){t.cancelPendingCommit=null;do fc();while(Xt!==0);if((Je&6)!==0)throw Error(s(327));if(a!==null){if(a===t.current)throw Error(s(177));if(d=a.lanes|a.childLanes,d|=sh,Tt(t,i,d,w,E,I),t===lt&&(Oe=lt=null,je=0),Hi=a,$a=t,qi=i,cd=d,fd=f,hv=l,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Mk(zr,function(){return Tv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,f=le.p,le.p=2,w=Je,Je|=4;try{Ck(t,a,i)}finally{Je=w,le.p=f,G.T=l}}Xt=1,Ev(),Cv(),xv()}}function Ev(){if(Xt===1){Xt=0;var t=$a,a=Hi,i=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||i){i=G.T,G.T=null;var l=le.p;le.p=2;var f=Je;Je|=4;try{sv(a,t);var d=Td,w=fg(t.containerInfo),E=d.focusedElem,I=d.selectionRange;if(w!==E&&E&&E.ownerDocument&&cg(E.ownerDocument.documentElement,E)){if(I!==null&&eh(E)){var W=I.start,Q=I.end;if(Q===void 0&&(Q=W),"selectionStart"in E)E.selectionStart=W,E.selectionEnd=Math.min(Q,E.value.length);else{var Z=E.ownerDocument||document,q=Z&&Z.defaultView||window;if(q.getSelection){var K=q.getSelection(),ke=E.textContent.length,we=Math.min(I.start,ke),at=I.end===void 0?we:Math.min(I.end,ke);!K.extend&&we>at&&(w=at,at=we,we=w);var $=ug(E,we),j=ug(E,at);if($&&j&&(K.rangeCount!==1||K.anchorNode!==$.node||K.anchorOffset!==$.offset||K.focusNode!==j.node||K.focusOffset!==j.offset)){var B=Z.createRange();B.setStart($.node,$.offset),K.removeAllRanges(),we>at?(K.addRange(B),K.extend(j.node,j.offset)):(B.setEnd(j.node,j.offset),K.addRange(B))}}}}for(Z=[],K=E;K=K.parentNode;)K.nodeType===1&&Z.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Z.length;E++){var J=Z[E];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Ec=!!_d,Td=_d=null}finally{Je=f,le.p=l,G.T=i}}t.current=a,Xt=2}}function Cv(){if(Xt===2){Xt=0;var t=$a,a=Hi,i=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||i){i=G.T,G.T=null;var l=le.p;le.p=2;var f=Je;Je|=4;try{tv(t,a.alternate,a)}finally{Je=f,le.p=l,G.T=i}}Xt=3}}function xv(){if(Xt===4||Xt===3){Xt=0,jr();var t=$a,a=Hi,i=qi,l=hv;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Xt=5:(Xt=0,Hi=$a=null,_v(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Fa=null),Ea(i),a=a.stateNode,We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot(dt,a,void 0,(a.current.flags&128)===128)}catch{}if(l!==null){a=G.T,f=le.p,le.p=2,G.T=null;try{for(var d=t.onRecoverableError,w=0;w<l.length;w++){var E=l[w];d(E.value,{componentStack:E.stack})}}finally{G.T=a,le.p=f}}(qi&3)!==0&&fc(),Ar(t),f=t.pendingLanes,(i&4194090)!==0&&(f&42)!==0?t===hd?dl++:(dl=0,hd=t):dl=0,pl(0)}}function _v(t,a){(t.pooledCacheLanes&=a)===0&&(a=t.pooledCache,a!=null&&(t.pooledCache=null,Ko(a)))}function fc(t){return Ev(),Cv(),xv(),Tv()}function Tv(){if(Xt!==5)return!1;var t=$a,a=cd;cd=0;var i=Ea(qi),l=G.T,f=le.p;try{le.p=32>i?32:i,G.T=null,i=fd,fd=null;var d=$a,w=qi;if(Xt=0,Hi=$a=null,qi=0,(Je&6)!==0)throw Error(s(331));var E=Je;if(Je|=4,cv(d.current),ov(d,d.current,w,i),Je=E,pl(0,!1),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot(dt,d)}catch{}return!0}finally{le.p=f,G.T=l,_v(t,a)}}function Nv(t,a,i){a=Kn(i,a),a=Wh(t.stateNode,a,2),t=Ia(t,a,2),t!==null&&(pt(t,2),Ar(t))}function ot(t,a,i){if(t.tag===3)Nv(t,t,i);else for(;a!==null;){if(a.tag===3){Nv(a,t,i);break}else if(a.tag===1){var l=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Fa===null||!Fa.has(l))){t=Kn(i,t),i=Oy(2),l=Ia(a,i,2),l!==null&&(Ry(i,l,a,t),pt(l,2),Ar(l));break}}a=a.return}}function gd(t,a,i){var l=t.pingCache;if(l===null){l=t.pingCache=new Tk;var f=new Set;l.set(a,f)}else f=l.get(a),f===void 0&&(f=new Set,l.set(a,f));f.has(i)||(id=!0,f.add(i),t=Ok.bind(null,t,a,i),a.then(t,t))}function Ok(t,a,i){var l=t.pingCache;l!==null&&l.delete(a),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,lt===t&&(je&i)===i&&(kt===4||kt===3&&(je&62914560)===je&&300>hn()-ud?(Je&2)===0&&Ki(t,0):od|=i,Wi===je&&(Wi=0)),Ar(t)}function Dv(t,a){a===0&&(a=vs()),t=Di(t,a),t!==null&&(pt(t,a),Ar(t))}function Rk(t){var a=t.memoizedState,i=0;a!==null&&(i=a.retryLane),Dv(t,i)}function Pk(t,a){var i=0;switch(t.tag){case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(i=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(a),Dv(t,i)}function Mk(t,a){return Un(t,a)}var hc=null,Yi=null,yd=!1,dc=!1,vd=!1,Gs=0;function Ar(t){t!==Yi&&t.next===null&&(Yi===null?hc=Yi=t:Yi=Yi.next=t),dc=!0,yd||(yd=!0,jk())}function pl(t,a){if(!vd&&dc){vd=!0;do for(var i=!1,l=hc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var w=l.suspendedLanes,E=l.pingedLanes;d=(1<<31-Ot(42|t)+1)-1,d&=f&~(w&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(i=!0,Rv(l,d))}else d=je,d=Fr(l,l===lt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||rr(l,d)||(i=!0,Rv(l,d));l=l.next}while(i);vd=!1}}function Lk(){Av()}function Av(){dc=yd=!1;var t=0;Gs!==0&&(Hk()&&(t=Gs),Gs=0);for(var a=hn(),i=null,l=hc;l!==null;){var f=l.next,d=Iv(l,a);d===0?(l.next=null,i===null?hc=f:i.next=f,f===null&&(Yi=i)):(i=l,(t!==0||(d&3)!==0)&&(dc=!0)),l=f}pl(t)}function Iv(t,a){for(var i=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var w=31-Ot(d),E=1<<w,I=f[w];I===-1?((E&i)===0||(E&l)!==0)&&(f[w]=ys(E,a)):I<=a&&(t.expiredLanes|=E),d&=~E}if(a=lt,i=je,i=Fr(t,t===a?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,i===0||t===a&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&st(l),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||rr(t,i)){if(a=i&-i,a===t.callbackPriority)return a;switch(l!==null&&st(l),Ea(i)){case 2:case 8:i=wa;break;case 32:i=zr;break;case 268435456:i=Sa;break;default:i=zr}return l=Ov.bind(null,t),i=Un(i,l),t.callbackPriority=a,t.callbackNode=i,a}return l!==null&&l!==null&&st(l),t.callbackPriority=2,t.callbackNode=null,2}function Ov(t,a){if(Xt!==0&&Xt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(fc()&&t.callbackNode!==i)return null;var l=je;return l=Fr(t,t===lt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(pv(t,l,a),Iv(t,hn()),t.callbackNode!=null&&t.callbackNode===i?Ov.bind(null,t):null)}function Rv(t,a){if(fc())return null;pv(t,a,!0)}function jk(){Kk(function(){(Je&6)!==0?Un(ps,Lk):Av()})}function bd(){return Gs===0&&(Gs=ka()),Gs}function Pv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:yi(""+t)}function Mv(t,a){var i=a.ownerDocument.createElement("input");return i.name=a.name,i.value=a.value,t.id&&i.setAttribute("form",t.id),a.parentNode.insertBefore(i,a),t=new FormData(t),i.parentNode.removeChild(i),t}function zk(t,a,i,l,f){if(a==="submit"&&i&&i.stateNode===f){var d=Pv((f[ct]||null).action),w=l.submitter;w&&(a=(a=w[ct]||null)?Pv(a.formAction):w.getAttribute("formAction"),a!==null&&(d=a,w=null));var E=new vi("action","action",null,l,f);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Gs!==0){var I=w?Mv(f,w):new FormData(f);Uh(i,{pending:!0,data:I,method:f.method,action:d},null,I)}}else typeof d=="function"&&(E.preventDefault(),I=w?Mv(f,w):new FormData(f),Uh(i,{pending:!0,data:I,method:f.method,action:d},d,I))},currentTarget:f}]})}}for(var wd=0;wd<ah.length;wd++){var Sd=ah[wd],Uk=Sd.toLowerCase(),Fk=Sd[0].toUpperCase()+Sd.slice(1);or(Uk,"on"+Fk)}or(pg,"onAnimationEnd"),or(mg,"onAnimationIteration"),or(gg,"onAnimationStart"),or("dblclick","onDoubleClick"),or("focusin","onFocus"),or("focusout","onBlur"),or(rk,"onTransitionRun"),or(ak,"onTransitionStart"),or(sk,"onTransitionCancel"),or(yg,"onTransitionEnd"),sr("onMouseEnter",["mouseout","mouseover"]),sr("onMouseLeave",["mouseout","mouseover"]),sr("onPointerEnter",["pointerout","pointerover"]),sr("onPointerLeave",["pointerout","pointerover"]),Tn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Tn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Tn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Tn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Tn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Tn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$k=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ml));function Lv(t,a){a=(a&4)!==0;for(var i=0;i<t.length;i++){var l=t[i],f=l.event;l=l.listeners;e:{var d=void 0;if(a)for(var w=l.length-1;0<=w;w--){var E=l[w],I=E.instance,W=E.currentTarget;if(E=E.listener,I!==d&&f.isPropagationStopped())break e;d=E,f.currentTarget=W;try{d(f)}catch(Q){ec(Q)}f.currentTarget=null,d=I}else for(w=0;w<l.length;w++){if(E=l[w],I=E.instance,W=E.currentTarget,E=E.listener,I!==d&&f.isPropagationStopped())break e;d=E,f.currentTarget=W;try{d(f)}catch(Q){ec(Q)}f.currentTarget=null,d=I}}}}function Re(t,a){var i=a[$r];i===void 0&&(i=a[$r]=new Set);var l=t+"__bubble";i.has(l)||(jv(a,t,2,!1),i.add(l))}function kd(t,a,i){var l=0;a&&(l|=4),jv(i,t,l,a)}var pc="_reactListening"+Math.random().toString(36).slice(2);function Ed(t){if(!t[pc]){t[pc]=!0,Kt.forEach(function(i){i!=="selectionchange"&&($k.has(i)||kd(i,!1,t),kd(i,!0,t))});var a=t.nodeType===9?t:t.ownerDocument;a===null||a[pc]||(a[pc]=!0,kd("selectionchange",!1,a))}}function jv(t,a,i,l){switch(ob(a)){case 2:var f=pE;break;case 8:f=mE;break;default:f=jd}i=f.bind(null,a,i,t),f=void 0,!Hn||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(a,i,{capture:!0,passive:f}):t.addEventListener(a,i,!0):f!==void 0?t.addEventListener(a,i,{passive:f}):t.addEventListener(a,i,!1)}function Cd(t,a,i,l,f){var d=l;if((a&1)===0&&(a&2)===0&&l!==null)e:for(;;){if(l===null)return;var w=l.tag;if(w===3||w===4){var E=l.stateNode.containerInfo;if(E===f)break;if(w===4)for(w=l.return;w!==null;){var I=w.tag;if((I===3||I===4)&&w.stateNode.containerInfo===f)return;w=w.return}for(;E!==null;){if(w=ar(E),w===null)return;if(I=w.tag,I===5||I===6||I===26||I===27){l=d=w;continue e}E=E.parentNode}}l=l.return}gu(function(){var W=d,Q=Wn(i),Z=[];e:{var q=vg.get(t);if(q!==void 0){var K=vi,ke=t;switch(t){case"keypress":if(kr(i)===0)break e;case"keydown":case"keyup":K=Ci;break;case"focusin":ke="focus",K=Si;break;case"focusout":ke="blur",K=Si;break;case"beforeblur":case"afterblur":K=Si;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=qn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Qf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Cu;break;case pg:case mg:case gg:K=ki;break;case yg:K=_u;break;case"scroll":case"scrollend":K=yu;break;case"wheel":K=xi;break;case"copy":case"cut":case"paste":K=Ei;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Uo;break;case"toggle":case"beforetoggle":K=Nu}var we=(a&4)!==0,at=!we&&(t==="scroll"||t==="scrollend"),$=we?q!==null?q+"Capture":null:q;we=[];for(var j=W,B;j!==null;){var J=j;if(B=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||B===null||$===null||(J=Ts(j,$),J!=null&&we.push(gl(j,J,B))),at)break;j=j.return}0<we.length&&(q=new K(q,ke,null,i,Q),Z.push({event:q,listeners:we}))}}if((a&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",q&&i!==Wr&&(ke=i.relatedTarget||i.fromElement)&&(ar(ke)||ke[an]))break e;if((K||q)&&(q=Q.window===Q?Q:(q=Q.ownerDocument)?q.defaultView||q.parentWindow:window,K?(ke=i.relatedTarget||i.toElement,K=W,ke=ke?ar(ke):null,ke!==null&&(at=u(ke),we=ke.tag,ke!==at||we!==5&&we!==27&&we!==6)&&(ke=null)):(K=null,ke=W),K!==ke)){if(we=qn,J="onMouseLeave",$="onMouseEnter",j="mouse",(t==="pointerout"||t==="pointerover")&&(we=Uo,J="onPointerLeave",$="onPointerEnter",j="pointer"),at=K==null?q:Fe(K),B=ke==null?q:Fe(ke),q=new we(J,j+"leave",K,i,Q),q.target=at,q.relatedTarget=B,J=null,ar(Q)===W&&(we=new we($,j+"enter",ke,i,Q),we.target=B,we.relatedTarget=at,J=we),at=J,K&&ke)t:{for(we=K,$=ke,j=0,B=we;B;B=Qi(B))j++;for(B=0,J=$;J;J=Qi(J))B++;for(;0<j-B;)we=Qi(we),j--;for(;0<B-j;)$=Qi($),B--;for(;j--;){if(we===$||$!==null&&we===$.alternate)break t;we=Qi(we),$=Qi($)}we=null}else we=null;K!==null&&zv(Z,q,K,we,!1),ke!==null&&at!==null&&zv(Z,at,ke,we,!0)}}e:{if(q=W?Fe(W):window,K=q.nodeName&&q.nodeName.toLowerCase(),K==="select"||K==="input"&&q.type==="file")var de=rg;else if(Yt(q))if(ag)de=ek;else{de=X1;var Ie=J1}else K=q.nodeName,!K||K.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?W&&Oo(W.elementType)&&(de=rg):de=Z1;if(de&&(de=de(t,W))){Yr(Z,de,i,Q);break e}Ie&&Ie(t,q,W),t==="focusout"&&W&&q.type==="number"&&W.memoizedProps.value!=null&&_a(q,"number",q.value)}switch(Ie=W?Fe(W):window,t){case"focusin":(Yt(Ie)||Ie.contentEditable==="true")&&(_i=Ie,th=W,Vo=null);break;case"focusout":Vo=th=_i=null;break;case"mousedown":nh=!0;break;case"contextmenu":case"mouseup":case"dragend":nh=!1,hg(Z,i,Q);break;case"selectionchange":if(nk)break;case"keydown":case"keyup":hg(Z,i,Q)}var ge;if(xr)e:{switch(t){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else Ve?Y(t,i)&&(Se="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(Se="onCompositionStart");Se&&(b&&i.locale!=="ko"&&(Ve||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&Ve&&(ge=Po()):(Sr=Q,Ta="value"in Sr?Sr.value:Sr.textContent,Ve=!0)),Ie=mc(W,Se),0<Ie.length&&(Se=new jo(Se,t,null,i,Q),Z.push({event:Se,listeners:Ie}),ge?Se.data=ge:(ge=ie(i),ge!==null&&(Se.data=ge)))),(ge=y?Mt(t,i):He(t,i))&&(Se=mc(W,"onBeforeInput"),0<Se.length&&(Ie=new jo("onBeforeInput","beforeinput",null,i,Q),Z.push({event:Ie,listeners:Se}),Ie.data=ge)),zk(Z,t,W,i,Q)}Lv(Z,a)})}function gl(t,a,i){return{instance:t,listener:a,currentTarget:i}}function mc(t,a){for(var i=a+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Ts(t,i),f!=null&&l.unshift(gl(t,f,d)),f=Ts(t,a),f!=null&&l.push(gl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function Qi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function zv(t,a,i,l,f){for(var d=a._reactName,w=[];i!==null&&i!==l;){var E=i,I=E.alternate,W=E.stateNode;if(E=E.tag,I!==null&&I===l)break;E!==5&&E!==26&&E!==27||W===null||(I=W,f?(W=Ts(i,d),W!=null&&w.unshift(gl(i,W,I))):f||(W=Ts(i,d),W!=null&&w.push(gl(i,W,I)))),i=i.return}w.length!==0&&t.push({event:a,listeners:w})}var Vk=/\r\n?/g,Bk=/\u0000|\uFFFD/g;function Uv(t){return(typeof t=="string"?t:""+t).replace(Vk,`
`).replace(Bk,"")}function Fv(t,a){return a=Uv(a),Uv(t)===a}function gc(){}function rt(t,a,i,l,f,d){switch(i){case"children":typeof l=="string"?a==="body"||a==="textarea"&&l===""||Bn(t,l):(typeof l=="number"||typeof l=="bigint")&&a!=="body"&&Bn(t,""+l);break;case"className":br(t,"class",l);break;case"tabIndex":br(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":br(t,i,l);break;case"style":Io(t,l,d);break;case"data":if(a!=="object"){br(t,"data",l);break}case"src":case"href":if(l===""&&(a!=="a"||i!=="href")){t.removeAttribute(i);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(i);break}l=yi(""+l),t.setAttribute(i,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(i==="formAction"?(a!=="input"&&rt(t,a,"name",f.name,f,null),rt(t,a,"formEncType",f.formEncType,f,null),rt(t,a,"formMethod",f.formMethod,f,null),rt(t,a,"formTarget",f.formTarget,f,null)):(rt(t,a,"encType",f.encType,f,null),rt(t,a,"method",f.method,f,null),rt(t,a,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(i);break}l=yi(""+l),t.setAttribute(i,l);break;case"onClick":l!=null&&(t.onclick=gc);break;case"onScroll":l!=null&&Re("scroll",t);break;case"onScrollEnd":l!=null&&Re("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(i=l.__html,i!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=i}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}i=yi(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(i,""+l):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":l===!0?t.setAttribute(i,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(i,l):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(i,l):t.removeAttribute(i);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(i):t.setAttribute(i,l);break;case"popover":Re("beforetoggle",t),Re("toggle",t),xa(t,"popover",l);break;case"xlinkActuate":Gt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Gt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Gt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Gt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Gt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Gt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Gt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Gt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Gt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":xa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Gf.get(i)||i,xa(t,i,l))}}function xd(t,a,i,l,f,d){switch(i){case"style":Io(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(i=l.__html,i!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=i}}break;case"children":typeof l=="string"?Bn(t,l):(typeof l=="number"||typeof l=="bigint")&&Bn(t,""+l);break;case"onScroll":l!=null&&Re("scroll",t);break;case"onScrollEnd":l!=null&&Re("scrollend",t);break;case"onClick":l!=null&&(t.onclick=gc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vr.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(f=i.endsWith("Capture"),a=i.slice(2,f?i.length-7:void 0),d=t[ct]||null,d=d!=null?d[i]:null,typeof d=="function"&&t.removeEventListener(a,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(a,l,f);break e}i in t?t[i]=l:l===!0?t.setAttribute(i,""):xa(t,i,l)}}}function Zt(t,a,i){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Re("error",t),Re("load",t);var l=!1,f=!1,d;for(d in i)if(i.hasOwnProperty(d)){var w=i[d];if(w!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:rt(t,a,d,w,i,null)}}f&&rt(t,a,"srcSet",i.srcSet,i,null),l&&rt(t,a,"src",i.src,i,null);return;case"input":Re("invalid",t);var E=d=w=f=null,I=null,W=null;for(l in i)if(i.hasOwnProperty(l)){var Q=i[l];if(Q!=null)switch(l){case"name":f=Q;break;case"type":w=Q;break;case"checked":I=Q;break;case"defaultChecked":W=Q;break;case"value":d=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,a));break;default:rt(t,a,l,Q,i,null)}}Cs(t,d,E,I,W,w,f,!1),gi(t);return;case"select":Re("invalid",t),l=w=d=null;for(f in i)if(i.hasOwnProperty(f)&&(E=i[f],E!=null))switch(f){case"value":d=E;break;case"defaultValue":w=E;break;case"multiple":l=E;default:rt(t,a,f,E,i,null)}a=d,i=w,t.multiple=!!l,a!=null?Br(t,!!l,a,!1):i!=null&&Br(t,!!l,i,!0);return;case"textarea":Re("invalid",t),d=f=l=null;for(w in i)if(i.hasOwnProperty(w)&&(E=i[w],E!=null))switch(w){case"value":l=E;break;case"defaultValue":f=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:rt(t,a,w,E,i,null)}xs(t,l,f,d),gi(t);return;case"option":for(I in i)if(i.hasOwnProperty(I)&&(l=i[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:rt(t,a,I,l,i,null)}return;case"dialog":Re("beforetoggle",t),Re("toggle",t),Re("cancel",t),Re("close",t);break;case"iframe":case"object":Re("load",t);break;case"video":case"audio":for(l=0;l<ml.length;l++)Re(ml[l],t);break;case"image":Re("error",t),Re("load",t);break;case"details":Re("toggle",t);break;case"embed":case"source":case"link":Re("error",t),Re("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in i)if(i.hasOwnProperty(W)&&(l=i[W],l!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:rt(t,a,W,l,i,null)}return;default:if(Oo(a)){for(Q in i)i.hasOwnProperty(Q)&&(l=i[Q],l!==void 0&&xd(t,a,Q,l,i,void 0));return}}for(E in i)i.hasOwnProperty(E)&&(l=i[E],l!=null&&rt(t,a,E,l,i,null))}function Wk(t,a,i,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,w=null,E=null,I=null,W=null,Q=null;for(K in i){var Z=i[K];if(i.hasOwnProperty(K)&&Z!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":I=Z;default:l.hasOwnProperty(K)||rt(t,a,K,null,l,Z)}}for(var q in l){var K=l[q];if(Z=i[q],l.hasOwnProperty(q)&&(K!=null||Z!=null))switch(q){case"type":d=K;break;case"name":f=K;break;case"checked":W=K;break;case"defaultChecked":Q=K;break;case"value":w=K;break;case"defaultValue":E=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,a));break;default:K!==Z&&rt(t,a,q,K,l,Z)}}Nn(t,w,E,I,W,Q,d,f);return;case"select":K=w=E=q=null;for(d in i)if(I=i[d],i.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":K=I;default:l.hasOwnProperty(d)||rt(t,a,d,null,l,I)}for(f in l)if(d=l[f],I=i[f],l.hasOwnProperty(f)&&(d!=null||I!=null))switch(f){case"value":q=d;break;case"defaultValue":E=d;break;case"multiple":w=d;default:d!==I&&rt(t,a,f,d,l,I)}a=E,i=w,l=K,q!=null?Br(t,!!i,q,!1):!!l!=!!i&&(a!=null?Br(t,!!i,a,!0):Br(t,!!i,i?[]:"",!1));return;case"textarea":K=q=null;for(E in i)if(f=i[E],i.hasOwnProperty(E)&&f!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:rt(t,a,E,null,l,f)}for(w in l)if(f=l[w],d=i[w],l.hasOwnProperty(w)&&(f!=null||d!=null))switch(w){case"value":q=f;break;case"defaultValue":K=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&rt(t,a,w,f,l,d)}tt(t,q,K);return;case"option":for(var ke in i)if(q=i[ke],i.hasOwnProperty(ke)&&q!=null&&!l.hasOwnProperty(ke))switch(ke){case"selected":t.selected=!1;break;default:rt(t,a,ke,null,l,q)}for(I in l)if(q=l[I],K=i[I],l.hasOwnProperty(I)&&q!==K&&(q!=null||K!=null))switch(I){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:rt(t,a,I,q,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in i)q=i[we],i.hasOwnProperty(we)&&q!=null&&!l.hasOwnProperty(we)&&rt(t,a,we,null,l,q);for(W in l)if(q=l[W],K=i[W],l.hasOwnProperty(W)&&q!==K&&(q!=null||K!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,a));break;default:rt(t,a,W,q,l,K)}return;default:if(Oo(a)){for(var at in i)q=i[at],i.hasOwnProperty(at)&&q!==void 0&&!l.hasOwnProperty(at)&&xd(t,a,at,void 0,l,q);for(Q in l)q=l[Q],K=i[Q],!l.hasOwnProperty(Q)||q===K||q===void 0&&K===void 0||xd(t,a,Q,q,l,K);return}}for(var $ in i)q=i[$],i.hasOwnProperty($)&&q!=null&&!l.hasOwnProperty($)&&rt(t,a,$,null,l,q);for(Z in l)q=l[Z],K=i[Z],!l.hasOwnProperty(Z)||q===K||q==null&&K==null||rt(t,a,Z,q,l,K)}var _d=null,Td=null;function yc(t){return t.nodeType===9?t:t.ownerDocument}function $v(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Vv(t,a){if(t===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&a==="foreignObject"?0:t}function Nd(t,a){return t==="textarea"||t==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Dd=null;function Hk(){var t=window.event;return t&&t.type==="popstate"?t===Dd?!1:(Dd=t,!0):(Dd=null,!1)}var Bv=typeof setTimeout=="function"?setTimeout:void 0,qk=typeof clearTimeout=="function"?clearTimeout:void 0,Wv=typeof Promise=="function"?Promise:void 0,Kk=typeof queueMicrotask=="function"?queueMicrotask:typeof Wv<"u"?function(t){return Wv.resolve(null).then(t).catch(Gk)}:Bv;function Gk(t){setTimeout(function(){throw t})}function Ba(t){return t==="head"}function Hv(t,a){var i=a,l=0,f=0;do{var d=i.nextSibling;if(t.removeChild(i),d&&d.nodeType===8)if(i=d.data,i==="/$"){if(0<l&&8>l){i=l;var w=t.ownerDocument;if(i&1&&yl(w.documentElement),i&2&&yl(w.body),i&4)for(i=w.head,yl(i),w=i.firstChild;w;){var E=w.nextSibling,I=w.nodeName;w[gr]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&w.rel.toLowerCase()==="stylesheet"||i.removeChild(w),w=E}}if(f===0){t.removeChild(d),xl(a);return}f--}else i==="$"||i==="$?"||i==="$!"?f++:l=i.charCodeAt(0)-48;else l=0;i=d}while(i);xl(a)}function Ad(t){var a=t.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var i=a;switch(a=a.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Ad(i),yr(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function Yk(t,a,i,l){for(;t.nodeType===1;){var f=i;if(t.nodeName.toLowerCase()!==a.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[gr])switch(a){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence")||d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(a==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=ur(t.nextSibling),t===null)break}return null}function Qk(t,a,i){if(a==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=ur(t.nextSibling),t===null))return null;return t}function Id(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Jk(t,a){var i=t.ownerDocument;if(t.data!=="$?"||i.readyState==="complete")a();else{var l=function(){a(),i.removeEventListener("DOMContentLoaded",l)};i.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ur(t){for(;t!=null;t=t.nextSibling){var a=t.nodeType;if(a===1||a===3)break;if(a===8){if(a=t.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return t}var Od=null;function qv(t){t=t.previousSibling;for(var a=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"){if(a===0)return t;a--}else i==="/$"&&a++}t=t.previousSibling}return null}function Kv(t,a,i){switch(a=yc(i),t){case"html":if(t=a.documentElement,!t)throw Error(s(452));return t;case"head":if(t=a.head,!t)throw Error(s(453));return t;case"body":if(t=a.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function yl(t){for(var a=t.attributes;a.length;)t.removeAttributeNode(a[0]);yr(t)}var Zn=new Map,Gv=new Set;function vc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ua=le.d;le.d={f:Xk,r:Zk,D:eE,C:tE,L:nE,m:rE,X:sE,S:aE,M:iE};function Xk(){var t=ua.f(),a=uc();return t||a}function Zk(t){var a=Ee(t);a!==null&&a.tag===5&&a.type==="form"?py(a):ua.r(t)}var Ji=typeof document>"u"?null:document;function Yv(t,a,i){var l=Ji;if(l&&typeof a=="string"&&a){var f=Pt(a);f='link[rel="'+t+'"][href="'+f+'"]',typeof i=="string"&&(f+='[crossorigin="'+i+'"]'),Gv.has(f)||(Gv.add(f),t={rel:t,crossOrigin:i,href:a},l.querySelector(f)===null&&(a=l.createElement("link"),Zt(a,"link",t),$e(a),l.head.appendChild(a)))}}function eE(t){ua.D(t),Yv("dns-prefetch",t,null)}function tE(t,a){ua.C(t,a),Yv("preconnect",t,a)}function nE(t,a,i){ua.L(t,a,i);var l=Ji;if(l&&t&&a){var f='link[rel="preload"][as="'+Pt(a)+'"]';a==="image"&&i&&i.imageSrcSet?(f+='[imagesrcset="'+Pt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(f+='[imagesizes="'+Pt(i.imageSizes)+'"]')):f+='[href="'+Pt(t)+'"]';var d=f;switch(a){case"style":d=Xi(t);break;case"script":d=Zi(t)}Zn.has(d)||(t=v({rel:"preload",href:a==="image"&&i&&i.imageSrcSet?void 0:t,as:a},i),Zn.set(d,t),l.querySelector(f)!==null||a==="style"&&l.querySelector(vl(d))||a==="script"&&l.querySelector(bl(d))||(a=l.createElement("link"),Zt(a,"link",t),$e(a),l.head.appendChild(a)))}}function rE(t,a){ua.m(t,a);var i=Ji;if(i&&t){var l=a&&typeof a.as=="string"?a.as:"script",f='link[rel="modulepreload"][as="'+Pt(l)+'"][href="'+Pt(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Zi(t)}if(!Zn.has(d)&&(t=v({rel:"modulepreload",href:t},a),Zn.set(d,t),i.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(bl(d)))return}l=i.createElement("link"),Zt(l,"link",t),$e(l),i.head.appendChild(l)}}}function aE(t,a,i){ua.S(t,a,i);var l=Ji;if(l&&t){var f=Pe(l).hoistableStyles,d=Xi(t);a=a||"default";var w=f.get(d);if(!w){var E={loading:0,preload:null};if(w=l.querySelector(vl(d)))E.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":a},i),(i=Zn.get(d))&&Rd(t,i);var I=w=l.createElement("link");$e(I),Zt(I,"link",t),I._p=new Promise(function(W,Q){I.onload=W,I.onerror=Q}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,bc(w,a,l)}w={type:"stylesheet",instance:w,count:1,state:E},f.set(d,w)}}}function sE(t,a){ua.X(t,a);var i=Ji;if(i&&t){var l=Pe(i).hoistableScripts,f=Zi(t),d=l.get(f);d||(d=i.querySelector(bl(f)),d||(t=v({src:t,async:!0},a),(a=Zn.get(f))&&Pd(t,a),d=i.createElement("script"),$e(d),Zt(d,"link",t),i.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function iE(t,a){ua.M(t,a);var i=Ji;if(i&&t){var l=Pe(i).hoistableScripts,f=Zi(t),d=l.get(f);d||(d=i.querySelector(bl(f)),d||(t=v({src:t,async:!0,type:"module"},a),(a=Zn.get(f))&&Pd(t,a),d=i.createElement("script"),$e(d),Zt(d,"link",t),i.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Qv(t,a,i,l){var f=(f=ve.current)?vc(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(a=Xi(i.href),i=Pe(f).hoistableStyles,l=i.get(a),l||(l={type:"style",instance:null,count:0,state:null},i.set(a,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=Xi(i.href);var d=Pe(f).hoistableStyles,w=d.get(t);if(w||(f=f.ownerDocument||f,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,w),(d=f.querySelector(vl(t)))&&!d._p&&(w.instance=d,w.state.loading=5),Zn.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Zn.set(t,i),d||oE(f,t,i,w.state))),a&&l===null)throw Error(s(528,""));return w}if(a&&l!==null)throw Error(s(529,""));return null;case"script":return a=i.async,i=i.src,typeof i=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Zi(i),i=Pe(f).hoistableScripts,l=i.get(a),l||(l={type:"script",instance:null,count:0,state:null},i.set(a,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Xi(t){return'href="'+Pt(t)+'"'}function vl(t){return'link[rel="stylesheet"]['+t+"]"}function Jv(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function oE(t,a,i,l){t.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=t.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),Zt(a,"link",i),$e(a),t.head.appendChild(a))}function Zi(t){return'[src="'+Pt(t)+'"]'}function bl(t){return"script[async]"+t}function Xv(t,a,i){if(a.count++,a.instance===null)switch(a.type){case"style":var l=t.querySelector('style[data-href~="'+Pt(i.href)+'"]');if(l)return a.instance=l,$e(l),l;var f=v({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),$e(l),Zt(l,"style",f),bc(l,i.precedence,t),a.instance=l;case"stylesheet":f=Xi(i.href);var d=t.querySelector(vl(f));if(d)return a.state.loading|=4,a.instance=d,$e(d),d;l=Jv(i),(f=Zn.get(f))&&Rd(l,f),d=(t.ownerDocument||t).createElement("link"),$e(d);var w=d;return w._p=new Promise(function(E,I){w.onload=E,w.onerror=I}),Zt(d,"link",l),a.state.loading|=4,bc(d,i.precedence,t),a.instance=d;case"script":return d=Zi(i.src),(f=t.querySelector(bl(d)))?(a.instance=f,$e(f),f):(l=i,(f=Zn.get(d))&&(l=v({},i),Pd(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),$e(f),Zt(f,"link",l),t.head.appendChild(f),a.instance=f);case"void":return null;default:throw Error(s(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(l=a.instance,a.state.loading|=4,bc(l,i.precedence,t));return a.instance}function bc(t,a,i){for(var l=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,w=0;w<l.length;w++){var E=l[w];if(E.dataset.precedence===a)d=E;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(a=i.nodeType===9?i.head:i,a.insertBefore(t,a.firstChild))}function Rd(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.title==null&&(t.title=a.title)}function Pd(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.integrity==null&&(t.integrity=a.integrity)}var wc=null;function Zv(t,a,i){if(wc===null){var l=new Map,f=wc=new Map;f.set(i,l)}else f=wc,l=f.get(i),l||(l=new Map,f.set(i,l));if(l.has(t))return l;for(l.set(t,null),i=i.getElementsByTagName(t),f=0;f<i.length;f++){var d=i[f];if(!(d[gr]||d[vt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var w=d.getAttribute(a)||"";w=t+w;var E=l.get(w);E?E.push(d):l.set(w,[d])}}return l}function eb(t,a,i){t=t.ownerDocument||t,t.head.insertBefore(i,a==="title"?t.querySelector("head > title"):null)}function lE(t,a,i){if(i===1||a.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return t=a.disabled,typeof a.precedence=="string"&&t==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function tb(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var wl=null;function uE(){}function cE(t,a,i){if(wl===null)throw Error(s(475));var l=wl;if(a.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Xi(i.href),d=t.querySelector(vl(f));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Sc.bind(l),t.then(l,l)),a.state.loading|=4,a.instance=d,$e(d);return}d=t.ownerDocument||t,i=Jv(i),(f=Zn.get(f))&&Rd(i,f),d=d.createElement("link"),$e(d);var w=d;w._p=new Promise(function(E,I){w.onload=E,w.onerror=I}),Zt(d,"link",i),a.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(l.count++,a=Sc.bind(l),t.addEventListener("load",a),t.addEventListener("error",a))}}function fE(){if(wl===null)throw Error(s(475));var t=wl;return t.stylesheets&&t.count===0&&Md(t,t.stylesheets),0<t.count?function(a){var i=setTimeout(function(){if(t.stylesheets&&Md(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(i)}}:null}function Sc(){if(this.count--,this.count===0){if(this.stylesheets)Md(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var kc=null;function Md(t,a){t.stylesheets=null,t.unsuspend!==null&&(t.count++,kc=new Map,a.forEach(hE,t),kc=null,Sc.call(t))}function hE(t,a){if(!(a.state.loading&4)){var i=kc.get(t);if(i)var l=i.get(null);else{i=new Map,kc.set(t,i);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var w=f[d];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(i.set(w.dataset.precedence,w),l=w)}l&&i.set(null,l)}f=a.instance,w=f.getAttribute("data-precedence"),d=i.get(w)||l,d===l&&i.set(null,f),i.set(w,f),this.count++,l=Sc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),a.state.loading|=4}}var Sl={$$typeof:ae,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function dE(t,a,i,l,f,d,w,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$n(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$n(0),this.hiddenUpdates=$n(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function nb(t,a,i,l,f,d,w,E,I,W,Q,Z){return t=new dE(t,a,i,w,E,I,W,Z),a=1,d===!0&&(a|=24),d=An(3,null,null,a),t.current=d,d.stateNode=t,a=gh(),a.refCount++,t.pooledCache=a,a.refCount++,d.memoizedState={element:l,isDehydrated:i,cache:a},wh(d),t}function rb(t){return t?(t=Ai,t):Ai}function ab(t,a,i,l,f,d){f=rb(f),l.context===null?l.context=f:l.pendingContext=f,l=Aa(a),l.payload={element:i},d=d===void 0?null:d,d!==null&&(l.callback=d),i=Ia(t,l,a),i!==null&&(Mn(i,t,a),Jo(i,t,a))}function sb(t,a){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<a?i:a}}function Ld(t,a){sb(t,a),(t=t.alternate)&&sb(t,a)}function ib(t){if(t.tag===13){var a=Di(t,67108864);a!==null&&Mn(a,t,67108864),Ld(t,67108864)}}var Ec=!0;function pE(t,a,i,l){var f=G.T;G.T=null;var d=le.p;try{le.p=2,jd(t,a,i,l)}finally{le.p=d,G.T=f}}function mE(t,a,i,l){var f=G.T;G.T=null;var d=le.p;try{le.p=8,jd(t,a,i,l)}finally{le.p=d,G.T=f}}function jd(t,a,i,l){if(Ec){var f=zd(l);if(f===null)Cd(t,a,l,Cc,i),lb(t,l);else if(yE(f,t,a,i,l))l.stopPropagation();else if(lb(t,l),a&4&&-1<gE.indexOf(t)){for(;f!==null;){var d=Ee(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var w=bn(d.pendingLanes);if(w!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;w;){var I=1<<31-Ot(w);E.entanglements[1]|=I,w&=~I}Ar(d),(Je&6)===0&&(oc=hn()+500,pl(0))}}break;case 13:E=Di(d,2),E!==null&&Mn(E,d,2),uc(),Ld(d,2)}if(d=zd(l),d===null&&Cd(t,a,l,Cc,i),d===f)break;f=d}f!==null&&l.stopPropagation()}else Cd(t,a,l,null,i)}}function zd(t){return t=Wn(t),Ud(t)}var Cc=null;function Ud(t){if(Cc=null,t=ar(t),t!==null){var a=u(t);if(a===null)t=null;else{var i=a.tag;if(i===13){if(t=h(a),t!==null)return t;t=null}else if(i===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;t=null}else a!==t&&(t=null)}}return Cc=t,null}function ob(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ci()){case ps:return 2;case wa:return 8;case zr:case fi:return 32;case Sa:return 268435456;default:return 32}default:return 32}}var Fd=!1,Wa=null,Ha=null,qa=null,kl=new Map,El=new Map,Ka=[],gE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lb(t,a){switch(t){case"focusin":case"focusout":Wa=null;break;case"dragenter":case"dragleave":Ha=null;break;case"mouseover":case"mouseout":qa=null;break;case"pointerover":case"pointerout":kl.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":El.delete(a.pointerId)}}function Cl(t,a,i,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:a,domEventName:i,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},a!==null&&(a=Ee(a),a!==null&&ib(a)),t):(t.eventSystemFlags|=l,a=t.targetContainers,f!==null&&a.indexOf(f)===-1&&a.push(f),t)}function yE(t,a,i,l,f){switch(a){case"focusin":return Wa=Cl(Wa,t,a,i,l,f),!0;case"dragenter":return Ha=Cl(Ha,t,a,i,l,f),!0;case"mouseover":return qa=Cl(qa,t,a,i,l,f),!0;case"pointerover":var d=f.pointerId;return kl.set(d,Cl(kl.get(d)||null,t,a,i,l,f)),!0;case"gotpointercapture":return d=f.pointerId,El.set(d,Cl(El.get(d)||null,t,a,i,l,f)),!0}return!1}function ub(t){var a=ar(t.target);if(a!==null){var i=u(a);if(i!==null){if(a=i.tag,a===13){if(a=h(i),a!==null){t.blockedOn=a,bs(t.priority,function(){if(i.tag===13){var l=Pn();l=Rt(l);var f=Di(i,l);f!==null&&Mn(f,i,l),Ld(i,l)}});return}}else if(a===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xc(t){if(t.blockedOn!==null)return!1;for(var a=t.targetContainers;0<a.length;){var i=zd(t.nativeEvent);if(i===null){i=t.nativeEvent;var l=new i.constructor(i.type,i);Wr=l,i.target.dispatchEvent(l),Wr=null}else return a=Ee(i),a!==null&&ib(a),t.blockedOn=i,!1;a.shift()}return!0}function cb(t,a,i){xc(t)&&i.delete(a)}function vE(){Fd=!1,Wa!==null&&xc(Wa)&&(Wa=null),Ha!==null&&xc(Ha)&&(Ha=null),qa!==null&&xc(qa)&&(qa=null),kl.forEach(cb),El.forEach(cb)}function _c(t,a){t.blockedOn===a&&(t.blockedOn=null,Fd||(Fd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,vE)))}var Tc=null;function fb(t){Tc!==t&&(Tc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Tc===t&&(Tc=null);for(var a=0;a<t.length;a+=3){var i=t[a],l=t[a+1],f=t[a+2];if(typeof l!="function"){if(Ud(l||i)===null)continue;break}var d=Ee(i);d!==null&&(t.splice(a,3),a-=3,Uh(d,{pending:!0,data:f,method:i.method,action:l},l,f))}}))}function xl(t){function a(I){return _c(I,t)}Wa!==null&&_c(Wa,t),Ha!==null&&_c(Ha,t),qa!==null&&_c(qa,t),kl.forEach(a),El.forEach(a);for(var i=0;i<Ka.length;i++){var l=Ka[i];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ka.length&&(i=Ka[0],i.blockedOn===null);)ub(i),i.blockedOn===null&&Ka.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(l=0;l<i.length;l+=3){var f=i[l],d=i[l+1],w=f[ct]||null;if(typeof d=="function")w||fb(i);else if(w){var E=null;if(d&&d.hasAttribute("formAction")){if(f=d,w=d[ct]||null)E=w.formAction;else if(Ud(f)!==null)continue}else E=w.action;typeof E=="function"?i[l+1]=E:(i.splice(l,3),l-=3),fb(i)}}}function $d(t){this._internalRoot=t}Nc.prototype.render=$d.prototype.render=function(t){var a=this._internalRoot;if(a===null)throw Error(s(409));var i=a.current,l=Pn();ab(i,l,t,a,null,null)},Nc.prototype.unmount=$d.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var a=t.containerInfo;ab(t.current,2,null,t,null,null),uc(),a[an]=null}};function Nc(t){this._internalRoot=t}Nc.prototype.unstable_scheduleHydration=function(t){if(t){var a=Vn();t={blockedOn:null,target:t,priority:a};for(var i=0;i<Ka.length&&a!==0&&a<Ka[i].priority;i++);Ka.splice(i,0,t),i===0&&ub(t)}};var hb=e.version;if(hb!=="19.1.0")throw Error(s(527,hb,"19.1.0"));le.findDOMNode=function(t){var a=t._reactInternals;if(a===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=m(a),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var bE={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dc.isDisabled&&Dc.supportsFiber)try{dt=Dc.inject(bE),We=Dc}catch{}}return Tl.createRoot=function(t,a){if(!o(t))throw Error(s(299));var i=!1,l="",f=Ny,d=Dy,w=Ay,E=null;return a!=null&&(a.unstable_strictMode===!0&&(i=!0),a.identifierPrefix!==void 0&&(l=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(d=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(E=a.unstable_transitionCallbacks)),a=nb(t,1,!1,null,null,i,l,f,d,w,E,null),t[an]=a.current,Ed(t),new $d(a)},Tl.hydrateRoot=function(t,a,i){if(!o(t))throw Error(s(299));var l=!1,f="",d=Ny,w=Dy,E=Ay,I=null,W=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(w=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(I=i.unstable_transitionCallbacks),i.formState!==void 0&&(W=i.formState)),a=nb(t,1,!0,a,i??null,l,f,d,w,E,I,W),a.context=rb(null),i=a.current,l=Pn(),l=Rt(l),f=Aa(l),f.callback=null,Ia(i,f,l),i=l,a.current.lanes=i,pt(a,i),Ar(a),t[an]=a.current,Ed(t),new Nc(a)},Tl.version="19.1.0",Tl}var _b;function AE(){if(_b)return Vd.exports;_b=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Vd.exports=DE(),Vd.exports}var IE=AE(),Nl={},Tb;function OE(){if(Tb)return Nl;Tb=1,Object.defineProperty(Nl,"__esModule",{value:!0}),Nl.parse=h,Nl.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const k=function(){};return k.prototype=Object.create(null),k})();function h(k,O){const T=new u,L=k.length;if(L<2)return T;const U=(O==null?void 0:O.decode)||v;let H=0;do{const X=k.indexOf("=",H);if(X===-1)break;const ae=k.indexOf(";",H),ue=ae===-1?L:ae;if(X>ue){H=k.lastIndexOf(";",X-1)+1;continue}const ce=p(k,H,X),se=m(k,X,ce),R=k.slice(ce,se);if(T[R]===void 0){let x=p(k,X+1,ue),N=m(k,ue,x);const P=U(k.slice(x,N));T[R]=P}H=ue+1}while(H<L);return T}function p(k,O,T){do{const L=k.charCodeAt(O);if(L!==32&&L!==9)return O}while(++O<T);return T}function m(k,O,T){for(;O>T;){const L=k.charCodeAt(--O);if(L!==32&&L!==9)return O+1}return T}function g(k,O,T){const L=(T==null?void 0:T.encode)||encodeURIComponent;if(!r.test(k))throw new TypeError(`argument name is invalid: ${k}`);const U=L(O);if(!e.test(U))throw new TypeError(`argument val is invalid: ${O}`);let H=k+"="+U;if(!T)return H;if(T.maxAge!==void 0){if(!Number.isInteger(T.maxAge))throw new TypeError(`option maxAge is invalid: ${T.maxAge}`);H+="; Max-Age="+T.maxAge}if(T.domain){if(!n.test(T.domain))throw new TypeError(`option domain is invalid: ${T.domain}`);H+="; Domain="+T.domain}if(T.path){if(!s.test(T.path))throw new TypeError(`option path is invalid: ${T.path}`);H+="; Path="+T.path}if(T.expires){if(!S(T.expires)||!Number.isFinite(T.expires.valueOf()))throw new TypeError(`option expires is invalid: ${T.expires}`);H+="; Expires="+T.expires.toUTCString()}if(T.httpOnly&&(H+="; HttpOnly"),T.secure&&(H+="; Secure"),T.partitioned&&(H+="; Partitioned"),T.priority)switch(typeof T.priority=="string"?T.priority.toLowerCase():void 0){case"low":H+="; Priority=Low";break;case"medium":H+="; Priority=Medium";break;case"high":H+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${T.priority}`)}if(T.sameSite)switch(typeof T.sameSite=="string"?T.sameSite.toLowerCase():T.sameSite){case!0:case"strict":H+="; SameSite=Strict";break;case"lax":H+="; SameSite=Lax";break;case"none":H+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${T.sameSite}`)}return H}function v(k){if(k.indexOf("%")===-1)return k;try{return decodeURIComponent(k)}catch{return k}}function S(k){return o.call(k)==="[object Date]"}return Nl}OE();/**
* react-router v7.5.1
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/var Nb="popstate";function RE(r={}){function e(o,u){let{pathname:h="/",search:p="",hash:m=""}=ai(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),cp("",{pathname:h,search:p,hash:m},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let h=o.document.querySelector("base"),p="";if(h&&h.getAttribute("href")){let m=o.location.href,g=m.indexOf("#");p=g===-1?m:m.slice(0,g)}return p+"#"+(typeof u=="string"?u:$l(u))}function s(o,u){nr(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return ME(e,n,s,r)}function gt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function nr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function PE(){return Math.random().toString(36).substring(2,10)}function Db(r,e){return{usr:r.state,key:r.key,idx:e}}function cp(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?ai(e):e,state:n,key:e&&e.key||s||PE()}}function $l({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function ai(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function ME(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,p="POP",m=null,g=v();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function v(){return(h.state||{idx:null}).idx}function S(){p="POP";let U=v(),H=U==null?null:U-g;g=U,m&&m({action:p,location:L.location,delta:H})}function k(U,H){p="PUSH";let X=cp(L.location,U,H);n&&n(X,U),g=v()+1;let ae=Db(X,g),ue=L.createHref(X);try{h.pushState(ae,"",ue)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;o.location.assign(ue)}u&&m&&m({action:p,location:L.location,delta:1})}function O(U,H){p="REPLACE";let X=cp(L.location,U,H);n&&n(X,U),g=v();let ae=Db(X,g),ue=L.createHref(X);h.replaceState(ae,"",ue),u&&m&&m({action:p,location:L.location,delta:0})}function T(U){let H=o.location.origin!=="null"?o.location.origin:o.location.href,X=typeof U=="string"?U:$l(U);return X=X.replace(/ $/,"%20"),gt(H,`No window.location.(origin|href) available to create URL for href: ${X}`),new URL(X,H)}let L={get action(){return p},get location(){return r(o,h)},listen(U){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(Nb,S),m=U,()=>{o.removeEventListener(Nb,S),m=null}},createHref(U){return e(o,U)},createURL:T,encodeLocation(U){let H=T(U);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:k,replace:O,go(U){return h.go(U)}};return L}function yw(r,e,n="/"){return LE(r,e,n,!1)}function LE(r,e,n,s){let o=typeof e=="string"?ai(e):e,u=da(o.pathname||"/",n);if(u==null)return null;let h=vw(r);jE(h);let p=null;for(let m=0;p==null&&m<h.length;++m){let g=GE(u);p=qE(h[m],g,s)}return p}function vw(r,e=[],n=[],s=""){let o=(u,h,p)=>{let m={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};m.relativePath.startsWith("/")&&(gt(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length));let g=fa([s,m.relativePath]),v=n.concat(m);u.children&&u.children.length>0&&(gt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),vw(u.children,e,v,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:WE(g,u.index),routesMeta:v})};return r.forEach((u,h)=>{var p;if(u.path===""||!((p=u.path)!=null&&p.includes("?")))o(u,h);else for(let m of bw(u.path))o(u,h,m)}),e}function bw(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=bw(s.join("/")),p=[];return p.push(...h.map(m=>m===""?u:[u,m].join("/"))),o&&p.push(...h),p.map(m=>r.startsWith("/")&&m===""?"/":m)}function jE(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:HE(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var zE=/^:[\w-]+$/,UE=3,FE=2,$E=1,VE=10,BE=-2,Ab=r=>r==="*";function WE(r,e){let n=r.split("/"),s=n.length;return n.some(Ab)&&(s+=BE),e&&(s+=FE),n.filter(o=>!Ab(o)).reduce((o,u)=>o+(zE.test(u)?UE:u===""?$E:VE),s)}function HE(r,e){return r.length===e.length&&r.slice(0,-1).every((n,s)=>n===e[s])?r[r.length-1]-e[e.length-1]:0}function qE(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let p=0;p<s.length;++p){let m=s[p],g=p===s.length-1,v=u==="/"?e:e.slice(u.length)||"/",S=Yc({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},v),k=m.route;if(!S&&g&&n&&!s[s.length-1].route.index&&(S=Yc({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!S)return null;Object.assign(o,S.params),h.push({params:o,pathname:fa([u,S.pathname]),pathnameBase:XE(fa([u,S.pathnameBase])),route:k}),S.pathnameBase!=="/"&&(u=fa([u,S.pathnameBase]))}return h}function Yc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=KE(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((m,{paramName:g,isOptional:v},S)=>{if(g==="*"){let O=p[S]||"";h=u.slice(0,u.length-O.length).replace(/(.)\/+$/,"$1")}const k=p[S];return v&&!k?m[g]=void 0:m[g]=(k||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:h,pattern:r}}function KE(r,e=!1,n=!0){nr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,p)=>(s.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function GE(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return nr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function da(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function YE(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?ai(r):r;return{pathname:n?n.startsWith("/")?n:QE(n,e):e,search:ZE(s),hash:eC(o)}}function QE(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Wd(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function JE(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Qp(r){let e=JE(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Jp(r,e,n,s=!1){let o;typeof r=="string"?o=ai(r):(o={...r},gt(!o.pathname||!o.pathname.includes("?"),Wd("?","pathname","search",o)),gt(!o.pathname||!o.pathname.includes("#"),Wd("#","pathname","hash",o)),gt(!o.search||!o.search.includes("#"),Wd("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,p;if(h==null)p=n;else{let S=e.length-1;if(!s&&h.startsWith("..")){let k=h.split("/");for(;k[0]==="..";)k.shift(),S-=1;o.pathname=k.join("/")}p=S>=0?e[S]:"/"}let m=YE(o,p),g=h&&h!=="/"&&h.endsWith("/"),v=(u||h===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||v)&&(m.pathname+="/"),m}var fa=r=>r.join("/").replace(/\/\/+/g,"/"),XE=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),ZE=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,eC=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function tC(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var ww=["POST","PUT","PATCH","DELETE"];new Set(ww);var nC=["GET",...ww];new Set(nC);var vo=F.createContext(null);vo.displayName="DataRouter";var gf=F.createContext(null);gf.displayName="DataRouterState";var Sw=F.createContext({isTransitioning:!1});Sw.displayName="ViewTransition";var rC=F.createContext(new Map);rC.displayName="Fetchers";var aC=F.createContext(null);aC.displayName="Await";var fr=F.createContext(null);fr.displayName="Navigation";var Zl=F.createContext(null);Zl.displayName="Location";var hr=F.createContext({outlet:null,matches:[],isDataRoute:!1});hr.displayName="Route";var Xp=F.createContext(null);Xp.displayName="RouteError";function sC(r,{relative:e}={}){gt(bo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=F.useContext(fr),{hash:o,pathname:u,search:h}=eu(r,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:fa([n,u])),s.createHref({pathname:p,search:h,hash:o})}function bo(){return F.useContext(Zl)!=null}function va(){return gt(bo(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(Zl).location}var kw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ew(r){F.useContext(fr).static||F.useLayoutEffect(r)}function Zp(){let{isDataRoute:r}=F.useContext(hr);return r?bC():iC()}function iC(){gt(bo(),"useNavigate() may be used only in the context of a <Router> component.");let r=F.useContext(vo),{basename:e,navigator:n}=F.useContext(fr),{matches:s}=F.useContext(hr),{pathname:o}=va(),u=JSON.stringify(Qp(s)),h=F.useRef(!1);return Ew(()=>{h.current=!0}),F.useCallback((p,m={})=>{if(nr(h.current,kw),!h.current)return;if(typeof p=="number"){n.go(p);return}let g=Jp(p,JSON.parse(u),o,m.relative==="path");r==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:fa([e,g.pathname])),(m.replace?n.replace:n.push)(g,m.state,m)},[e,n,u,o,r])}F.createContext(null);function oC(){let{matches:r}=F.useContext(hr),e=r[r.length-1];return e?e.params:{}}function eu(r,{relative:e}={}){let{matches:n}=F.useContext(hr),{pathname:s}=va(),o=JSON.stringify(Qp(n));return F.useMemo(()=>Jp(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function lC(r,e){return Cw(r,e)}function Cw(r,e,n,s){var o;gt(bo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u,static:h}=F.useContext(fr),{matches:p}=F.useContext(hr),m=p[p.length-1],g=m?m.params:{},v=m?m.pathname:"/",S=m?m.pathnameBase:"/",k=m&&m.route;{let ae=k&&k.path||"";xw(v,!k||ae.endsWith("*")||ae.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${ae}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ae}"> to <Route path="${ae==="/"?"*":`${ae}/*`}">.`)}let O=va(),T;if(e){let ae=typeof e=="string"?ai(e):e;gt(S==="/"||((o=ae.pathname)==null?void 0:o.startsWith(S)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${S}" but pathname "${ae.pathname}" was given in the \`location\` prop.`),T=ae}else T=O;let L=T.pathname||"/",U=L;if(S!=="/"){let ae=S.replace(/^\//,"").split("/");U="/"+L.replace(/^\//,"").split("/").slice(ae.length).join("/")}let H=!h&&n&&n.matches&&n.matches.length>0?n.matches:yw(r,{pathname:U});nr(k||H!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),nr(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let X=dC(H&&H.map(ae=>Object.assign({},ae,{params:Object.assign({},g,ae.params),pathname:fa([S,u.encodeLocation?u.encodeLocation(ae.pathname).pathname:ae.pathname]),pathnameBase:ae.pathnameBase==="/"?S:fa([S,u.encodeLocation?u.encodeLocation(ae.pathnameBase).pathname:ae.pathnameBase])})),p,n,s);return e&&X?F.createElement(Zl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},X):X}function uC(){let r=vC(),e=tC(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=F.createElement(F.Fragment,null,F.createElement("p",null,"💿 Hey developer 👋"),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:u},"ErrorBoundary")," or"," ",F.createElement("code",{style:u},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:o},n):null,h)}var cC=F.createElement(uC,null),fC=class extends F.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?F.createElement(hr.Provider,{value:this.props.routeContext},F.createElement(Xp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function hC({routeContext:r,match:e,children:n}){let s=F.useContext(vo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(hr.Provider,{value:r},n)}function dC(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let m=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);gt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let h=!1,p=-1;if(n)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(p=m),g.route.id){let{loaderData:v,errors:S}=n,k=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!S||S[g.route.id]===void 0);if(g.route.lazy||k){h=!0,p>=0?o=o.slice(0,p+1):o=[o[0]];break}}}return o.reduceRight((m,g,v)=>{let S,k=!1,O=null,T=null;n&&(S=u&&g.route.id?u[g.route.id]:void 0,O=g.route.errorElement||cC,h&&(p<0&&v===0?(xw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,T=null):p===v&&(k=!0,T=g.route.hydrateFallbackElement||null)));let L=e.concat(o.slice(0,v+1)),U=()=>{let H;return S?H=O:k?H=T:g.route.Component?H=F.createElement(g.route.Component,null):g.route.element?H=g.route.element:H=m,F.createElement(hC,{match:g,routeContext:{outlet:m,matches:L,isDataRoute:n!=null},children:H})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?F.createElement(fC,{location:n.location,revalidation:n.revalidation,component:O,error:S,children:U(),routeContext:{outlet:null,matches:L,isDataRoute:!0}}):U()},null)}function em(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pC(r){let e=F.useContext(vo);return gt(e,em(r)),e}function mC(r){let e=F.useContext(gf);return gt(e,em(r)),e}function gC(r){let e=F.useContext(hr);return gt(e,em(r)),e}function tm(r){let e=gC(r),n=e.matches[e.matches.length-1];return gt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function yC(){return tm("useRouteId")}function vC(){var r;let e=F.useContext(Xp),n=mC("useRouteError"),s=tm("useRouteError");return e!==void 0?e:(r=n.errors)==null?void 0:r[s]}function bC(){let{router:r}=pC("useNavigate"),e=tm("useNavigate"),n=F.useRef(!1);return Ew(()=>{n.current=!0}),F.useCallback(async(s,o={})=>{nr(n.current,kw),n.current&&(typeof s=="number"?r.navigate(s):await r.navigate(s,{fromRouteId:e,...o}))},[r,e])}var Ib={};function xw(r,e,n){!e&&!Ib[r]&&(Ib[r]=!0,nr(!1,n))}F.memo(wC);function wC({routes:r,future:e,state:n}){return Cw(r,void 0,n,e)}function Ys({to:r,replace:e,state:n,relative:s}){gt(bo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=F.useContext(fr);nr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=F.useContext(hr),{pathname:h}=va(),p=Zp(),m=Jp(r,Qp(u),h,s==="path"),g=JSON.stringify(m);return F.useEffect(()=>{p(JSON.parse(g),{replace:e,state:n,relative:s})},[p,g,s,e,n]),null}function Qa(r){gt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function SC({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){gt(!bo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),p=F.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=ai(n));let{pathname:m="/",search:g="",hash:v="",state:S=null,key:k="default"}=n,O=F.useMemo(()=>{let T=da(m,h);return T==null?null:{location:{pathname:T,search:g,hash:v,state:S,key:k},navigationType:s}},[h,m,g,v,S,k,s]);return nr(O!=null,`<Router basename="${h}"> is not able to match the URL "${m}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:F.createElement(fr.Provider,{value:p},F.createElement(Zl.Provider,{children:e,value:O}))}function kC({children:r,location:e}){return lC(fp(r),e)}function fp(r,e=[]){let n=[];return F.Children.forEach(r,(s,o)=>{if(!F.isValidElement(s))return;let u=[...e,o];if(s.type===F.Fragment){n.push.apply(n,fp(s.props.children,u));return}gt(s.type===Qa,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),gt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=fp(s.props.children,u)),n.push(h)}),n}var Uc="get",Fc="application/x-www-form-urlencoded";function yf(r){return r!=null&&typeof r.tagName=="string"}function EC(r){return yf(r)&&r.tagName.toLowerCase()==="button"}function CC(r){return yf(r)&&r.tagName.toLowerCase()==="form"}function xC(r){return yf(r)&&r.tagName.toLowerCase()==="input"}function _C(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function TC(r,e){return r.button===0&&(!e||e==="_self")&&!_C(r)}var Ac=null;function NC(){if(Ac===null)try{new FormData(document.createElement("form"),0),Ac=!1}catch{Ac=!0}return Ac}var DC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hd(r){return r!=null&&!DC.has(r)?(nr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Fc}"`),null):r}function AC(r,e){let n,s,o,u,h;if(CC(r)){let p=r.getAttribute("action");s=p?da(p,e):null,n=r.getAttribute("method")||Uc,o=Hd(r.getAttribute("enctype"))||Fc,u=new FormData(r)}else if(EC(r)||xC(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=r.getAttribute("formaction")||p.getAttribute("action");if(s=m?da(m,e):null,n=r.getAttribute("formmethod")||p.getAttribute("method")||Uc,o=Hd(r.getAttribute("formenctype"))||Hd(p.getAttribute("enctype"))||Fc,u=new FormData(p,r),!NC()){let{name:g,type:v,value:S}=r;if(v==="image"){let k=g?`${g}.`:"";u.append(`${k}x`,"0"),u.append(`${k}y`,"0")}else g&&u.append(g,S)}}else{if(yf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Uc,s=null,o=Fc,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}function nm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function IC(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function OC(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function RC(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await IC(u,n);return h.links?h.links():[]}return[]}));return jC(s.flat(1).filter(OC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Ob(r,e,n,s,o,u){let h=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,p=(m,g)=>{var v;return n[g].pathname!==m.pathname||((v=n[g].route.path)==null?void 0:v.endsWith("*"))&&n[g].params["*"]!==m.params["*"]};return u==="assets"?e.filter((m,g)=>h(m,g)||p(m,g)):u==="data"?e.filter((m,g)=>{var v;let S=s.routes[m.route.id];if(!S||!S.hasLoader)return!1;if(h(m,g)||p(m,g))return!0;if(m.route.shouldRevalidate){let k=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(r,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof k=="boolean")return k}return!0}):[]}function PC(r,e,{includeHydrateFallback:n}={}){return MC(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function MC(r){return[...new Set(r)]}function LC(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function jC(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(LC(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}var zC=new Set([100,101,204,205]);function UC(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&da(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function _w(){let r=F.useContext(vo);return nm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function FC(){let r=F.useContext(gf);return nm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var rm=F.createContext(void 0);rm.displayName="FrameworkContext";function Tw(){let r=F.useContext(rm);return nm(r,"You must render this element inside a <HydratedRouter> element"),r}function $C(r,e){let n=F.useContext(rm),[s,o]=F.useState(!1),[u,h]=F.useState(!1),{onFocus:p,onBlur:m,onMouseEnter:g,onMouseLeave:v,onTouchStart:S}=e,k=F.useRef(null);F.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let L=H=>{H.forEach(X=>{h(X.isIntersecting)})},U=new IntersectionObserver(L,{threshold:.5});return k.current&&U.observe(k.current),()=>{U.disconnect()}}},[r]),F.useEffect(()=>{if(s){let L=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(L)}}},[s]);let O=()=>{o(!0)},T=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,k,{}]:[u,k,{onFocus:Dl(p,O),onBlur:Dl(m,T),onMouseEnter:Dl(g,O),onMouseLeave:Dl(v,T),onTouchStart:Dl(S,O)}]:[!1,k,{}]}function Dl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function VC({page:r,...e}){let{router:n}=_w(),s=F.useMemo(()=>yw(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?F.createElement(WC,{page:r,matches:s,...e}):null}function BC(r){let{manifest:e,routeModules:n}=Tw(),[s,o]=F.useState([]);return F.useEffect(()=>{let u=!1;return RC(r,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,n]),s}function WC({page:r,matches:e,...n}){let s=va(),{manifest:o,routeModules:u}=Tw(),{basename:h}=_w(),{loaderData:p,matches:m}=FC(),g=F.useMemo(()=>Ob(r,e,m,o,s,"data"),[r,e,m,o,s]),v=F.useMemo(()=>Ob(r,e,m,o,s,"assets"),[r,e,m,o,s]),S=F.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let T=new Set,L=!1;if(e.forEach(H=>{var X;let ae=o.routes[H.route.id];!ae||!ae.hasLoader||(!g.some(ue=>ue.route.id===H.route.id)&&H.route.id in p&&(X=u[H.route.id])!=null&&X.shouldRevalidate||ae.hasClientLoader?L=!0:T.add(H.route.id))}),T.size===0)return[];let U=UC(r,h);return L&&T.size>0&&U.searchParams.set("_routes",e.filter(H=>T.has(H.route.id)).map(H=>H.route.id).join(",")),[U.pathname+U.search]},[h,p,s,o,g,e,r,u]),k=F.useMemo(()=>PC(v,o),[v,o]),O=BC(v);return F.createElement(F.Fragment,null,S.map(T=>F.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...n})),k.map(T=>F.createElement("link",{key:T,rel:"modulepreload",href:T,...n})),O.map(({key:T,link:L})=>F.createElement("link",{key:T,...L})))}function HC(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Nw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Nw&&(window.__reactRouterVersion="7.5.1")}catch{}function qC({basename:r,children:e,window:n}){let s=F.useRef();s.current==null&&(s.current=RE({window:n,v5Compat:!0}));let o=s.current,[u,h]=F.useState({action:o.action,location:o.location}),p=F.useCallback(m=>{F.startTransition(()=>h(m))},[h]);return F.useLayoutEffect(()=>o.listen(p),[o,p]),F.createElement(SC,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var Dw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,am=F.forwardRef(function({onClick:r,discover:e="render",prefetch:n="none",relative:s,reloadDocument:o,replace:u,state:h,target:p,to:m,preventScrollReset:g,viewTransition:v,...S},k){let{basename:O}=F.useContext(fr),T=typeof m=="string"&&Dw.test(m),L,U=!1;if(typeof m=="string"&&T&&(L=m,Nw))try{let x=new URL(window.location.href),N=m.startsWith("//")?new URL(x.protocol+m):new URL(m),P=da(N.pathname,O);N.origin===x.origin&&P!=null?m=P+N.search+N.hash:U=!0}catch{nr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=sC(m,{relative:s}),[X,ae,ue]=$C(n,S),ce=YC(m,{replace:u,state:h,target:p,preventScrollReset:g,relative:s,viewTransition:v});function se(x){r&&r(x),x.defaultPrevented||ce(x)}let R=F.createElement("a",{...S,...ue,href:L||H,onClick:U||o?r:se,ref:HC(k,ae),target:p,"data-discover":!T&&e==="render"?"true":void 0});return X&&!T?F.createElement(F.Fragment,null,R,F.createElement(VC,{page:H})):R});am.displayName="Link";var Aw=F.forwardRef(function({"aria-current":r="page",caseSensitive:e=!1,className:n="",end:s=!1,style:o,to:u,viewTransition:h,children:p,...m},g){let v=eu(u,{relative:m.relative}),S=va(),k=F.useContext(gf),{navigator:O,basename:T}=F.useContext(fr),L=k!=null&&ex(v)&&h===!0,U=O.encodeLocation?O.encodeLocation(v).pathname:v.pathname,H=S.pathname,X=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;e||(H=H.toLowerCase(),X=X?X.toLowerCase():null,U=U.toLowerCase()),X&&T&&(X=da(X,T)||X);const ae=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let ue=H===U||!s&&H.startsWith(U)&&H.charAt(ae)==="/",ce=X!=null&&(X===U||!s&&X.startsWith(U)&&X.charAt(U.length)==="/"),se={isActive:ue,isPending:ce,isTransitioning:L},R=ue?r:void 0,x;typeof n=="function"?x=n(se):x=[n,ue?"active":null,ce?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let N=typeof o=="function"?o(se):o;return F.createElement(am,{...m,"aria-current":R,className:x,ref:g,style:N,to:u,viewTransition:h},typeof p=="function"?p(se):p)});Aw.displayName="NavLink";var KC=F.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=Uc,action:p,onSubmit:m,relative:g,preventScrollReset:v,viewTransition:S,...k},O)=>{let T=XC(),L=ZC(p,{relative:g}),U=h.toLowerCase()==="get"?"get":"post",H=typeof p=="string"&&Dw.test(p),X=ae=>{if(m&&m(ae),ae.defaultPrevented)return;ae.preventDefault();let ue=ae.nativeEvent.submitter,ce=(ue==null?void 0:ue.getAttribute("formmethod"))||h;T(ue||ae.currentTarget,{fetcherKey:e,method:ce,navigate:n,replace:o,state:u,relative:g,preventScrollReset:v,viewTransition:S})};return F.createElement("form",{ref:O,method:U,action:L,onSubmit:s?m:X,...k,"data-discover":!H&&r==="render"?"true":void 0})});KC.displayName="Form";function GC(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Iw(r){let e=F.useContext(vo);return gt(e,GC(r)),e}function YC(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let p=Zp(),m=va(),g=eu(r,{relative:u});return F.useCallback(v=>{if(TC(v,e)){v.preventDefault();let S=n!==void 0?n:$l(m)===$l(g);p(r,{replace:S,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[m,p,g,n,s,e,r,o,u,h])}var QC=0,JC=()=>`__${String(++QC)}__`;function XC(){let{router:r}=Iw("useSubmit"),{basename:e}=F.useContext(fr),n=yC();return F.useCallback(async(s,o={})=>{let{action:u,method:h,encType:p,formData:m,body:g}=AC(s,e);if(o.navigate===!1){let v=o.fetcherKey||JC();await r.fetch(v,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||h,formEncType:o.encType||p,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||h,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function ZC(r,{relative:e}={}){let{basename:n}=F.useContext(fr),s=F.useContext(hr);gt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...eu(r||".",{relative:e})},h=va();if(r==null){u.search=h.search;let p=new URLSearchParams(u.search),m=p.getAll("index");if(m.some(g=>g==="")){p.delete("index"),m.filter(v=>v).forEach(v=>p.append("index",v));let g=p.toString();u.search=g?`?${g}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:fa([n,u.pathname])),$l(u)}function ex(r,e={}){let n=F.useContext(Sw);gt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Iw("useViewTransitionState"),o=eu(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=da(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=da(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Yc(o.pathname,h)!=null||Yc(o.pathname,u)!=null}new TextEncoder;[...zC];const tx=()=>{};var Rb={};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ow=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},nx=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],p=r[n++],m=((o&7)<<18|(u&63)<<12|(h&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const u=r[n++],h=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},Rw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,p=h?r[o+1]:0,m=o+2<r.length,g=m?r[o+2]:0,v=u>>2,S=(u&3)<<4|p>>4;let k=(p&15)<<2|g>>6,O=g&63;m||(O=64,h||(k=64)),s.push(n[v],n[S],n[k],n[O])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Ow(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):nx(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],h=o<r.length?n[r.charAt(o)]:0;++o;const p=o<r.length?n[r.charAt(o)]:64;++o;const m=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||h==null||p==null||m==null)throw new rx;const g=u<<2|h>>4;if(s.push(g),p!==64){const v=h<<4&240|p>>2;if(s.push(v),m!==64){const S=p<<6&192|m;s.push(S)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class rx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ax=function(r){const e=Ow(r);return Rw.encodeByteArray(e,!0)},Qc=function(r){return ax(r).replace(/\./g,"")},sx=function(r){try{return Rw.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ix(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ox=()=>ix().__FIREBASE_DEFAULTS__,lx=()=>{if(typeof process>"u"||typeof Rb>"u")return;const r=Rb.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},ux=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&sx(r[1]);return e&&JSON.parse(e)},sm=()=>{try{return tx()||ox()||lx()||ux()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},cx=r=>{var e,n;return(n=(e=sm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},fx=r=>{const e=cx(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Pw=()=>{var r;return(r=sm())===null||r===void 0?void 0:r.config};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class hx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function dx(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Qc(JSON.stringify(n)),Qc(JSON.stringify(h)),""].join(".")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function px(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mx(){var r;const e=(r=sm())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gx(){return!mx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yx(){try{return typeof indexedDB=="object"}catch{return!1}}function vx(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const bx="FirebaseError";class wo extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=bx,Object.setPrototypeOf(this,wo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mw.prototype.create)}}class Mw{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?wx(u,s):"Error",p=`${this.serviceName}: ${h} (${o}).`;return new wo(o,p,s)}}function wx(r,e){return r.replace(Sx,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Sx=/\{\$([^}]+)}/g;function Jc(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(Pb(u)&&Pb(h)){if(!Jc(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Pb(r){return r!==null&&typeof r=="object"}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Mr(r){return r&&r._delegate?r._delegate:r}class Vl{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Xs="[DEFAULT]";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class kx{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new hx;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Cx(e))try{this.getOrInitializeService({instanceIdentifier:Xs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Xs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xs){return this.instances.has(e)}getOptions(e=Xs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&h.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Ex(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Xs){return this.component?this.component.multipleInstances?e:Xs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ex(r){return r===Xs?void 0:r}function Cx(r){return r.instantiationMode==="EAGER"}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class xx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new kx(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Ue;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ue||(Ue={}));const _x={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},Tx=Ue.INFO,Nx={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},Dx=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=Nx[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lw{constructor(e){this.name=e,this._logLevel=Tx,this._logHandler=Dx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_x[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const Ax=(r,e)=>e.some(n=>r instanceof n);let Mb,Lb;function Ix(){return Mb||(Mb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ox(){return Lb||(Lb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jw=new WeakMap,hp=new WeakMap,zw=new WeakMap,qd=new WeakMap,im=new WeakMap;function Rx(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(Xa(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&jw.set(n,r)}).catch(()=>{}),im.set(e,r),e}function Px(r){if(hp.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});hp.set(r,e)}let dp={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return hp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||zw.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xa(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Mx(r){dp=r(dp)}function Lx(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Kd(this),e,...n);return zw.set(s,e.sort?e.sort():[e]),Xa(s)}:Ox().includes(r)?function(...e){return r.apply(Kd(this),e),Xa(jw.get(this))}:function(...e){return Xa(r.apply(Kd(this),e))}}function jx(r){return typeof r=="function"?Lx(r):(r instanceof IDBTransaction&&Px(r),Ax(r,Ix())?new Proxy(r,dp):r)}function Xa(r){if(r instanceof IDBRequest)return Rx(r);if(qd.has(r))return qd.get(r);const e=jx(r);return e!==r&&(qd.set(r,e),im.set(e,r)),e}const Kd=r=>im.get(r);function zx(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),p=Xa(h);return s&&h.addEventListener("upgradeneeded",m=>{s(Xa(h.result),m.oldVersion,m.newVersion,Xa(h.transaction),m)}),n&&h.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),p.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const Ux=["get","getKey","getAll","getAllKeys","count"],Fx=["put","add","delete","clear"],Gd=new Map;function jb(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Gd.get(e))return Gd.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=Fx.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Ux.includes(n)))return;const u=async function(h,...p){const m=this.transaction(h,o?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(p.shift())),(await Promise.all([g[n](...p),o&&m.done]))[0]};return Gd.set(e,u),u}Mx(r=>({...r,get:(e,n,s)=>jb(e,n)||r.get(e,n,s),has:(e,n)=>!!jb(e,n)||r.has(e,n)}));/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $x{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(Vx(e)){const n=e.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(e=>e).join(" ")}}function Vx(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const pp="@firebase/app",zb="0.11.4";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const pa=new Lw("@firebase/app"),Bx="@firebase/app-compat",Wx="@firebase/analytics-compat",Hx="@firebase/analytics",qx="@firebase/app-check-compat",Kx="@firebase/app-check",Gx="@firebase/auth",Yx="@firebase/auth-compat",Qx="@firebase/database",Jx="@firebase/data-connect",Xx="@firebase/database-compat",Zx="@firebase/functions",e_="@firebase/functions-compat",t_="@firebase/installations",n_="@firebase/installations-compat",r_="@firebase/messaging",a_="@firebase/messaging-compat",s_="@firebase/performance",i_="@firebase/performance-compat",o_="@firebase/remote-config",l_="@firebase/remote-config-compat",u_="@firebase/storage",c_="@firebase/storage-compat",f_="@firebase/firestore",h_="@firebase/vertexai",d_="@firebase/firestore-compat",p_="firebase",m_="11.6.0";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const mp="[DEFAULT]",g_={[pp]:"fire-core",[Bx]:"fire-core-compat",[Hx]:"fire-analytics",[Wx]:"fire-analytics-compat",[Kx]:"fire-app-check",[qx]:"fire-app-check-compat",[Gx]:"fire-auth",[Yx]:"fire-auth-compat",[Qx]:"fire-rtdb",[Jx]:"fire-data-connect",[Xx]:"fire-rtdb-compat",[Zx]:"fire-fn",[e_]:"fire-fn-compat",[t_]:"fire-iid",[n_]:"fire-iid-compat",[r_]:"fire-fcm",[a_]:"fire-fcm-compat",[s_]:"fire-perf",[i_]:"fire-perf-compat",[o_]:"fire-rc",[l_]:"fire-rc-compat",[u_]:"fire-gcs",[c_]:"fire-gcs-compat",[f_]:"fire-fst",[d_]:"fire-fst-compat",[h_]:"fire-vertex","fire-js":"fire-js",[p_]:"fire-js-all"};/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Xc=new Map,y_=new Map,gp=new Map;function Ub(r,e){try{r.container.addComponent(e)}catch(n){pa.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Zc(r){const e=r.name;if(gp.has(e))return pa.debug(`There were multiple attempts to register component ${e}.`),!1;gp.set(e,r);for(const n of Xc.values())Ub(n,r);for(const n of y_.values())Ub(n,r);return!0}function v_(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function b_(r){return r==null?!1:r.settings!==void 0}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const w_={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Za=new Mw("app","Firebase",w_);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class S_{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Vl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Za.create("app-deleted",{appName:this._name})}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const k_=m_;function Uw(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:mp,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Za.create("bad-app-name",{appName:String(o)});if(n||(n=Pw()),!n)throw Za.create("no-options");const u=Xc.get(o);if(u){if(Jc(n,u.options)&&Jc(s,u.config))return u;throw Za.create("duplicate-app",{appName:o})}const h=new xx(o);for(const m of gp.values())h.addComponent(m);const p=new S_(n,s,h);return Xc.set(o,p),p}function E_(r=mp){const e=Xc.get(r);if(!e&&r===mp&&Pw())return Uw();if(!e)throw Za.create("no-app",{appName:r});return e}function lo(r,e,n){var s;let o=(s=g_[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const p=[`Unable to register library "${o}" with version "${e}":`];u&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&p.push("and"),h&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pa.warn(p.join(" "));return}Zc(new Vl(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const C_="firebase-heartbeat-database",x_=1,Bl="firebase-heartbeat-store";let Yd=null;function Fw(){return Yd||(Yd=zx(C_,x_,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Bl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Za.create("idb-open",{originalErrorMessage:r.message})})),Yd}async function __(r){try{const e=(await Fw()).transaction(Bl),n=await e.objectStore(Bl).get($w(r));return await e.done,n}catch(e){if(e instanceof wo)pa.warn(e.message);else{const n=Za.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});pa.warn(n.message)}}}async function Fb(r,e){try{const n=(await Fw()).transaction(Bl,"readwrite");await n.objectStore(Bl).put(e,$w(r)),await n.done}catch(n){if(n instanceof wo)pa.warn(n.message);else{const s=Za.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});pa.warn(s.message)}}}function $w(r){return`${r.name}!${r.options.appId}`}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const T_=1024,N_=30;class D_{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new I_(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=$b();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>N_){const u=O_(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){pa.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=$b(),{heartbeatsToSend:s,unsentEntries:o}=A_(this._heartbeatsCache.heartbeats),u=Qc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return pa.warn(n),""}}}function $b(){return new Date().toISOString().substring(0,10)}function A_(r,e=T_){const n=[];let s=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),Vb(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Vb(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class I_{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yx()?vx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await __(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Fb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Fb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Vb(r){return Qc(JSON.stringify({version:2,heartbeats:r})).length}function O_(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function R_(r){Zc(new Vl("platform-logger",e=>new $x(e),"PRIVATE")),Zc(new Vl("heartbeat",e=>new D_(e),"PRIVATE")),lo(pp,zb,r),lo(pp,zb,"esm2017"),lo("fire-js","")}R_("");var P_="firebase",M_="11.6.0";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/lo(P_,M_,"app");var Bb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var es,Vw;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,x){function N(){}N.prototype=x.prototype,R.D=x.prototype,R.prototype=new N,R.prototype.constructor=R,R.C=function(P,A,z){for(var D=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)D[Ye-2]=arguments[Ye];return x.prototype[A].apply(P,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,x,N){N||(N=0);var P=Array(16);if(typeof x=="string")for(var A=0;16>A;++A)P[A]=x.charCodeAt(N++)|x.charCodeAt(N++)<<8|x.charCodeAt(N++)<<16|x.charCodeAt(N++)<<24;else for(A=0;16>A;++A)P[A]=x[N++]|x[N++]<<8|x[N++]<<16|x[N++]<<24;x=R.g[0],N=R.g[1],A=R.g[2];var z=R.g[3],D=x+(z^N&(A^z))+P[0]+3614090360&4294967295;x=N+(D<<7&4294967295|D>>>25),D=z+(A^x&(N^A))+P[1]+3905402710&4294967295,z=x+(D<<12&4294967295|D>>>20),D=A+(N^z&(x^N))+P[2]+606105819&4294967295,A=z+(D<<17&4294967295|D>>>15),D=N+(x^A&(z^x))+P[3]+3250441966&4294967295,N=A+(D<<22&4294967295|D>>>10),D=x+(z^N&(A^z))+P[4]+4118548399&4294967295,x=N+(D<<7&4294967295|D>>>25),D=z+(A^x&(N^A))+P[5]+1200080426&4294967295,z=x+(D<<12&4294967295|D>>>20),D=A+(N^z&(x^N))+P[6]+2821735955&4294967295,A=z+(D<<17&4294967295|D>>>15),D=N+(x^A&(z^x))+P[7]+4249261313&4294967295,N=A+(D<<22&4294967295|D>>>10),D=x+(z^N&(A^z))+P[8]+1770035416&4294967295,x=N+(D<<7&4294967295|D>>>25),D=z+(A^x&(N^A))+P[9]+2336552879&4294967295,z=x+(D<<12&4294967295|D>>>20),D=A+(N^z&(x^N))+P[10]+4294925233&4294967295,A=z+(D<<17&4294967295|D>>>15),D=N+(x^A&(z^x))+P[11]+2304563134&4294967295,N=A+(D<<22&4294967295|D>>>10),D=x+(z^N&(A^z))+P[12]+1804603682&4294967295,x=N+(D<<7&4294967295|D>>>25),D=z+(A^x&(N^A))+P[13]+4254626195&4294967295,z=x+(D<<12&4294967295|D>>>20),D=A+(N^z&(x^N))+P[14]+2792965006&4294967295,A=z+(D<<17&4294967295|D>>>15),D=N+(x^A&(z^x))+P[15]+1236535329&4294967295,N=A+(D<<22&4294967295|D>>>10),D=x+(A^z&(N^A))+P[1]+4129170786&4294967295,x=N+(D<<5&4294967295|D>>>27),D=z+(N^A&(x^N))+P[6]+3225465664&4294967295,z=x+(D<<9&4294967295|D>>>23),D=A+(x^N&(z^x))+P[11]+643717713&4294967295,A=z+(D<<14&4294967295|D>>>18),D=N+(z^x&(A^z))+P[0]+3921069994&4294967295,N=A+(D<<20&4294967295|D>>>12),D=x+(A^z&(N^A))+P[5]+3593408605&4294967295,x=N+(D<<5&4294967295|D>>>27),D=z+(N^A&(x^N))+P[10]+38016083&4294967295,z=x+(D<<9&4294967295|D>>>23),D=A+(x^N&(z^x))+P[15]+3634488961&4294967295,A=z+(D<<14&4294967295|D>>>18),D=N+(z^x&(A^z))+P[4]+3889429448&4294967295,N=A+(D<<20&4294967295|D>>>12),D=x+(A^z&(N^A))+P[9]+568446438&4294967295,x=N+(D<<5&4294967295|D>>>27),D=z+(N^A&(x^N))+P[14]+3275163606&4294967295,z=x+(D<<9&4294967295|D>>>23),D=A+(x^N&(z^x))+P[3]+4107603335&4294967295,A=z+(D<<14&4294967295|D>>>18),D=N+(z^x&(A^z))+P[8]+1163531501&4294967295,N=A+(D<<20&4294967295|D>>>12),D=x+(A^z&(N^A))+P[13]+2850285829&4294967295,x=N+(D<<5&4294967295|D>>>27),D=z+(N^A&(x^N))+P[2]+4243563512&4294967295,z=x+(D<<9&4294967295|D>>>23),D=A+(x^N&(z^x))+P[7]+1735328473&4294967295,A=z+(D<<14&4294967295|D>>>18),D=N+(z^x&(A^z))+P[12]+2368359562&4294967295,N=A+(D<<20&4294967295|D>>>12),D=x+(N^A^z)+P[5]+4294588738&4294967295,x=N+(D<<4&4294967295|D>>>28),D=z+(x^N^A)+P[8]+2272392833&4294967295,z=x+(D<<11&4294967295|D>>>21),D=A+(z^x^N)+P[11]+1839030562&4294967295,A=z+(D<<16&4294967295|D>>>16),D=N+(A^z^x)+P[14]+4259657740&4294967295,N=A+(D<<23&4294967295|D>>>9),D=x+(N^A^z)+P[1]+2763975236&4294967295,x=N+(D<<4&4294967295|D>>>28),D=z+(x^N^A)+P[4]+1272893353&4294967295,z=x+(D<<11&4294967295|D>>>21),D=A+(z^x^N)+P[7]+4139469664&4294967295,A=z+(D<<16&4294967295|D>>>16),D=N+(A^z^x)+P[10]+3200236656&4294967295,N=A+(D<<23&4294967295|D>>>9),D=x+(N^A^z)+P[13]+681279174&4294967295,x=N+(D<<4&4294967295|D>>>28),D=z+(x^N^A)+P[0]+3936430074&4294967295,z=x+(D<<11&4294967295|D>>>21),D=A+(z^x^N)+P[3]+3572445317&4294967295,A=z+(D<<16&4294967295|D>>>16),D=N+(A^z^x)+P[6]+76029189&4294967295,N=A+(D<<23&4294967295|D>>>9),D=x+(N^A^z)+P[9]+3654602809&4294967295,x=N+(D<<4&4294967295|D>>>28),D=z+(x^N^A)+P[12]+3873151461&4294967295,z=x+(D<<11&4294967295|D>>>21),D=A+(z^x^N)+P[15]+530742520&4294967295,A=z+(D<<16&4294967295|D>>>16),D=N+(A^z^x)+P[2]+3299628645&4294967295,N=A+(D<<23&4294967295|D>>>9),D=x+(A^(N|~z))+P[0]+4096336452&4294967295,x=N+(D<<6&4294967295|D>>>26),D=z+(N^(x|~A))+P[7]+1126891415&4294967295,z=x+(D<<10&4294967295|D>>>22),D=A+(x^(z|~N))+P[14]+2878612391&4294967295,A=z+(D<<15&4294967295|D>>>17),D=N+(z^(A|~x))+P[5]+4237533241&4294967295,N=A+(D<<21&4294967295|D>>>11),D=x+(A^(N|~z))+P[12]+1700485571&4294967295,x=N+(D<<6&4294967295|D>>>26),D=z+(N^(x|~A))+P[3]+2399980690&4294967295,z=x+(D<<10&4294967295|D>>>22),D=A+(x^(z|~N))+P[10]+4293915773&4294967295,A=z+(D<<15&4294967295|D>>>17),D=N+(z^(A|~x))+P[1]+2240044497&4294967295,N=A+(D<<21&4294967295|D>>>11),D=x+(A^(N|~z))+P[8]+1873313359&4294967295,x=N+(D<<6&4294967295|D>>>26),D=z+(N^(x|~A))+P[15]+4264355552&4294967295,z=x+(D<<10&4294967295|D>>>22),D=A+(x^(z|~N))+P[6]+2734768916&4294967295,A=z+(D<<15&4294967295|D>>>17),D=N+(z^(A|~x))+P[13]+1309151649&4294967295,N=A+(D<<21&4294967295|D>>>11),D=x+(A^(N|~z))+P[4]+4149444226&4294967295,x=N+(D<<6&4294967295|D>>>26),D=z+(N^(x|~A))+P[11]+3174756917&4294967295,z=x+(D<<10&4294967295|D>>>22),D=A+(x^(z|~N))+P[2]+718787259&4294967295,A=z+(D<<15&4294967295|D>>>17),D=N+(z^(A|~x))+P[9]+3951481745&4294967295,R.g[0]=R.g[0]+x&4294967295,R.g[1]=R.g[1]+(A+(D<<21&4294967295|D>>>11))&4294967295,R.g[2]=R.g[2]+A&4294967295,R.g[3]=R.g[3]+z&4294967295}s.prototype.u=function(R,x){x===void 0&&(x=R.length);for(var N=x-this.blockSize,P=this.B,A=this.h,z=0;z<x;){if(A==0)for(;z<=N;)o(this,R,z),z+=this.blockSize;if(typeof R=="string"){for(;z<x;)if(P[A++]=R.charCodeAt(z++),A==this.blockSize){o(this,P),A=0;break}}else for(;z<x;)if(P[A++]=R[z++],A==this.blockSize){o(this,P),A=0;break}}this.h=A,this.o+=x},s.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var x=1;x<R.length-8;++x)R[x]=0;var N=8*this.o;for(x=R.length-8;x<R.length;++x)R[x]=N&255,N/=256;for(this.u(R),R=Array(16),x=N=0;4>x;++x)for(var P=0;32>P;P+=8)R[N++]=this.g[x]>>>P&255;return R};function u(R,x){var N=p;return Object.prototype.hasOwnProperty.call(N,R)?N[R]:N[R]=x(R)}function h(R,x){this.h=x;for(var N=[],P=!0,A=R.length-1;0<=A;A--){var z=R[A]|0;P&&z==x||(N[A]=z,P=!1)}this.g=N}var p={};function m(R){return-128<=R&&128>R?u(R,function(x){return new h([x|0],0>x?-1:0)}):new h([R|0],0>R?-1:0)}function g(R){if(isNaN(R)||!isFinite(R))return S;if(0>R)return U(g(-R));for(var x=[],N=1,P=0;R>=N;P++)x[P]=R/N|0,N*=4294967296;return new h(x,0)}function v(R,x){if(R.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(R.charAt(0)=="-")return U(v(R.substring(1),x));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=g(Math.pow(x,8)),P=S,A=0;A<R.length;A+=8){var z=Math.min(8,R.length-A),D=parseInt(R.substring(A,A+z),x);8>z?(z=g(Math.pow(x,z)),P=P.j(z).add(g(D))):(P=P.j(N),P=P.add(g(D)))}return P}var S=m(0),k=m(1),O=m(16777216);r=h.prototype,r.m=function(){if(L(this))return-U(this).m();for(var R=0,x=1,N=0;N<this.g.length;N++){var P=this.i(N);R+=(0<=P?P:4294967296+P)*x,x*=4294967296}return R},r.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(T(this))return"0";if(L(this))return"-"+U(this).toString(R);for(var x=g(Math.pow(R,6)),N=this,P="";;){var A=ue(N,x).g;N=H(N,A.j(x));var z=((0<N.g.length?N.g[0]:N.h)>>>0).toString(R);if(N=A,T(N))return z+P;for(;6>z.length;)z="0"+z;P=z+P}},r.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function T(R){if(R.h!=0)return!1;for(var x=0;x<R.g.length;x++)if(R.g[x]!=0)return!1;return!0}function L(R){return R.h==-1}r.l=function(R){return R=H(this,R),L(R)?-1:T(R)?0:1};function U(R){for(var x=R.g.length,N=[],P=0;P<x;P++)N[P]=~R.g[P];return new h(N,~R.h).add(k)}r.abs=function(){return L(this)?U(this):this},r.add=function(R){for(var x=Math.max(this.g.length,R.g.length),N=[],P=0,A=0;A<=x;A++){var z=P+(this.i(A)&65535)+(R.i(A)&65535),D=(z>>>16)+(this.i(A)>>>16)+(R.i(A)>>>16);P=D>>>16,z&=65535,D&=65535,N[A]=D<<16|z}return new h(N,N[N.length-1]&-2147483648?-1:0)};function H(R,x){return R.add(U(x))}r.j=function(R){if(T(this)||T(R))return S;if(L(this))return L(R)?U(this).j(U(R)):U(U(this).j(R));if(L(R))return U(this.j(U(R)));if(0>this.l(O)&&0>R.l(O))return g(this.m()*R.m());for(var x=this.g.length+R.g.length,N=[],P=0;P<2*x;P++)N[P]=0;for(P=0;P<this.g.length;P++)for(var A=0;A<R.g.length;A++){var z=this.i(P)>>>16,D=this.i(P)&65535,Ye=R.i(A)>>>16,et=R.i(A)&65535;N[2*P+2*A]+=D*et,X(N,2*P+2*A),N[2*P+2*A+1]+=z*et,X(N,2*P+2*A+1),N[2*P+2*A+1]+=D*Ye,X(N,2*P+2*A+1),N[2*P+2*A+2]+=z*Ye,X(N,2*P+2*A+2)}for(P=0;P<x;P++)N[P]=N[2*P+1]<<16|N[2*P];for(P=x;P<2*x;P++)N[P]=0;return new h(N,0)};function X(R,x){for(;(R[x]&65535)!=R[x];)R[x+1]+=R[x]>>>16,R[x]&=65535,x++}function ae(R,x){this.g=R,this.h=x}function ue(R,x){if(T(x))throw Error("division by zero");if(T(R))return new ae(S,S);if(L(R))return x=ue(U(R),x),new ae(U(x.g),U(x.h));if(L(x))return x=ue(R,U(x)),new ae(U(x.g),x.h);if(30<R.g.length){if(L(R)||L(x))throw Error("slowDivide_ only works with positive integers.");for(var N=k,P=x;0>=P.l(R);)N=ce(N),P=ce(P);var A=se(N,1),z=se(P,1);for(P=se(P,2),N=se(N,2);!T(P);){var D=z.add(P);0>=D.l(R)&&(A=A.add(N),z=D),P=se(P,1),N=se(N,1)}return x=H(R,A.j(x)),new ae(A,x)}for(A=S;0<=R.l(x);){for(N=Math.max(1,Math.floor(R.m()/x.m())),P=Math.ceil(Math.log(N)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),z=g(N),D=z.j(x);L(D)||0<D.l(R);)N-=P,z=g(N),D=z.j(x);T(z)&&(z=k),A=A.add(z),R=H(R,D)}return new ae(A,R)}r.A=function(R){return ue(this,R).h},r.and=function(R){for(var x=Math.max(this.g.length,R.g.length),N=[],P=0;P<x;P++)N[P]=this.i(P)&R.i(P);return new h(N,this.h&R.h)},r.or=function(R){for(var x=Math.max(this.g.length,R.g.length),N=[],P=0;P<x;P++)N[P]=this.i(P)|R.i(P);return new h(N,this.h|R.h)},r.xor=function(R){for(var x=Math.max(this.g.length,R.g.length),N=[],P=0;P<x;P++)N[P]=this.i(P)^R.i(P);return new h(N,this.h^R.h)};function ce(R){for(var x=R.g.length+1,N=[],P=0;P<x;P++)N[P]=R.i(P)<<1|R.i(P-1)>>>31;return new h(N,R.h)}function se(R,x){var N=x>>5;x%=32;for(var P=R.g.length-N,A=[],z=0;z<P;z++)A[z]=0<x?R.i(z+N)>>>x|R.i(z+N+1)<<32-x:R.i(z+N);return new h(A,R.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Vw=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=v,es=h}).apply(typeof Bb<"u"?Bb:typeof self<"u"?self:typeof window<"u"?window:{});var Ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bw,Ol,Ww,$c,yp,Hw,qw,Kw;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,b){return c==Array.prototype||c==Object.prototype||(c[y]=b.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ic=="object"&&Ic];for(var y=0;y<c.length;++y){var b=c[y];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var b=s;c=c.split(".");for(var C=0;C<c.length-1;C++){var V=c[C];if(!(V in b))break e;b=b[V]}c=c[c.length-1],C=b[c],y=y(C),y!=C&&y!=null&&e(b,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var b=0,C=!1,V={next:function(){if(!C&&b<c.length){var Y=b++;return{value:y(Y,c[Y]),done:!1}}return C=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},p=this||self;function m(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,b){return c.call.apply(c.bind,arguments)}function S(c,y,b){if(!c)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,C),c.apply(y,V)}}return function(){return c.apply(y,arguments)}}function k(c,y,b){return k=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:S,k.apply(null,arguments)}function O(c,y){var b=Array.prototype.slice.call(arguments,1);return function(){var C=b.slice();return C.push.apply(C,arguments),c.apply(this,C)}}function T(c,y){function b(){}b.prototype=y.prototype,c.aa=y.prototype,c.prototype=new b,c.prototype.constructor=c,c.Qb=function(C,V,Y){for(var ie=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)ie[Ve-2]=arguments[Ve];return y.prototype[V].apply(C,ie)}}function L(c){const y=c.length;if(0<y){const b=Array(y);for(let C=0;C<y;C++)b[C]=c[C];return b}return[]}function U(c,y){for(let b=1;b<arguments.length;b++){const C=arguments[b];if(m(C)){const V=c.length||0,Y=C.length||0;c.length=V+Y;for(let ie=0;ie<Y;ie++)c[V+ie]=C[ie]}else c.push(C)}}class H{constructor(y,b){this.i=y,this.j=b,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function X(c){return/^[\s\xa0]*$/.test(c)}function ae(){var c=p.navigator;return c&&(c=c.userAgent)?c:""}function ue(c){return ue[" "](c),c}ue[" "]=function(){};var ce=ae().indexOf("Gecko")!=-1&&!(ae().toLowerCase().indexOf("webkit")!=-1&&ae().indexOf("Edge")==-1)&&!(ae().indexOf("Trident")!=-1||ae().indexOf("MSIE")!=-1)&&ae().indexOf("Edge")==-1;function se(c,y,b){for(const C in c)y.call(b,c[C],C,c)}function R(c,y){for(const b in c)y.call(void 0,c[b],b,c)}function x(c){const y={};for(const b in c)y[b]=c[b];return y}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(c,y){let b,C;for(let V=1;V<arguments.length;V++){C=arguments[V];for(b in C)c[b]=C[b];for(let Y=0;Y<N.length;Y++)b=N[Y],Object.prototype.hasOwnProperty.call(C,b)&&(c[b]=C[b])}}function A(c){var y=1;c=c.split(":");const b=[];for(;0<y&&c.length;)b.push(c.shift()),y--;return c.length&&b.push(c.join(":")),b}function z(c){p.setTimeout(()=>{throw c},0)}function D(){var c=be;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Ye{constructor(){this.h=this.g=null}add(y,b){const C=et.get();C.set(y,b),this.h?this.h.next=C:this.g=C,this.h=C}}var et=new H(()=>new G,c=>c.reset());class G{constructor(){this.next=this.g=this.h=null}set(y,b){this.h=y,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let le,pe=!1,be=new Ye,M=()=>{const c=p.Promise.resolve(void 0);le=()=>{c.then(te)}};var te=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(b){z(b)}var y=et;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}pe=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const b=()=>{};p.addEventListener("test",b,y),p.removeEventListener("test",b,y)}catch{}return c}();function Te(c,y){if(re.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var b=this.type=c.type,C=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ce){e:{try{ue(y.nodeName);var V=!0;break e}catch{}V=!1}V||(y=null)}}else b=="mouseover"?y=c.fromElement:b=="mouseout"&&(y=c.toElement);this.relatedTarget=y,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ve[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Te.aa.h.call(this)}}T(Te,re);var ve={2:"touch",3:"pen",4:"mouse"};Te.prototype.h=function(){Te.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ht="closure_listenable_"+(1e6*Math.random()|0),Le=0;function vn(c,y,b,C,V){this.listener=c,this.proxy=null,this.src=y,this.type=b,this.capture=!!C,this.ha=V,this.key=++Le,this.da=this.fa=!1}function jn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function _n(c){this.src=c,this.g={},this.h=0}_n.prototype.add=function(c,y,b,C,V){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var ie=Un(c,y,C,V);return-1<ie?(y=c[ie],b||(y.fa=!1)):(y=new vn(y,this.src,Y,!!C,V),y.fa=b,c.push(y)),y};function zn(c,y){var b=y.type;if(b in c.g){var C=c.g[b],V=Array.prototype.indexOf.call(C,y,void 0),Y;(Y=0<=V)&&Array.prototype.splice.call(C,V,1),Y&&(jn(y),c.g[b].length==0&&(delete c.g[b],c.h--))}}function Un(c,y,b,C){for(var V=0;V<c.length;++V){var Y=c[V];if(!Y.da&&Y.listener==y&&Y.capture==!!b&&Y.ha==C)return V}return-1}var st="closure_lm_"+(1e6*Math.random()|0),Et={};function jr(c,y,b,C,V){if(Array.isArray(y)){for(var Y=0;Y<y.length;Y++)jr(c,y[Y],b,C,V);return null}return b=hi(b),c&&c[ht]?c.K(y,b,g(C)?!!C.capture:!1,V):hn(c,y,b,!1,C,V)}function hn(c,y,b,C,V,Y){if(!y)throw Error("Invalid event type");var ie=g(V)?!!V.capture:!!V,Ve=Sa(c);if(Ve||(c[st]=Ve=new _n(c)),b=Ve.add(y,b,C,ie,Y),b.proxy)return b;if(C=ci(),b.proxy=C,C.src=c,C.listener=b,c.addEventListener)me||(V=ie),V===void 0&&(V=!1),c.addEventListener(y.toString(),C,V);else if(c.attachEvent)c.attachEvent(zr(y.toString()),C);else if(c.addListener&&c.removeListener)c.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return b}function ci(){function c(b){return y.call(c.src,c.listener,b)}const y=fi;return c}function ps(c,y,b,C,V){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)ps(c,y[Y],b,C,V);else C=g(C)?!!C.capture:!!C,b=hi(b),c&&c[ht]?(c=c.i,y=String(y).toString(),y in c.g&&(Y=c.g[y],b=Un(Y,b,C,V),-1<b&&(jn(Y[b]),Array.prototype.splice.call(Y,b,1),Y.length==0&&(delete c.g[y],c.h--)))):c&&(c=Sa(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Un(y,b,C,V)),(b=-1<c?y[c]:null)&&wa(b))}function wa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ht])zn(y.i,c);else{var b=c.type,C=c.proxy;y.removeEventListener?y.removeEventListener(b,C,c.capture):y.detachEvent?y.detachEvent(zr(b),C):y.addListener&&y.removeListener&&y.removeListener(C),(b=Sa(y))?(zn(b,c),b.h==0&&(b.src=null,y[st]=null)):jn(c)}}}function zr(c){return c in Et?Et[c]:Et[c]="on"+c}function fi(c,y){if(c.da)c=!0;else{y=new Te(y,this);var b=c.listener,C=c.ha||c.src;c.fa&&wa(c),c=b.call(C,y)}return c}function Sa(c){return c=c[st],c instanceof _n?c:null}var ms="__closure_events_fn_"+(1e9*Math.random()>>>0);function hi(c){return typeof c=="function"?c:(c[ms]||(c[ms]=function(y){return c.handleEvent(y)}),c[ms])}function dt(){oe.call(this),this.i=new _n(this),this.M=this,this.F=null}T(dt,oe),dt.prototype[ht]=!0,dt.prototype.removeEventListener=function(c,y,b,C){ps(this,c,y,b,C)};function We(c,y){var b,C=c.F;if(C)for(b=[];C;C=C.F)b.push(C);if(c=c.M,C=y.type||y,typeof y=="string")y=new re(y,c);else if(y instanceof re)y.target=y.target||c;else{var V=y;y=new re(C,c),P(y,V)}if(V=!0,b)for(var Y=b.length-1;0<=Y;Y--){var ie=y.g=b[Y];V=qt(ie,C,!0,y)&&V}if(ie=y.g=c,V=qt(ie,C,!0,y)&&V,V=qt(ie,C,!1,y)&&V,b)for(Y=0;Y<b.length;Y++)ie=y.g=b[Y],V=qt(ie,C,!1,y)&&V}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var b=c.g[y],C=0;C<b.length;C++)jn(b[C]);delete c.g[y],c.h--}}this.F=null},dt.prototype.K=function(c,y,b,C){return this.i.add(String(c),y,!1,b,C)},dt.prototype.L=function(c,y,b,C){return this.i.add(String(c),y,!0,b,C)};function qt(c,y,b,C){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var V=!0,Y=0;Y<y.length;++Y){var ie=y[Y];if(ie&&!ie.da&&ie.capture==b){var Ve=ie.listener,Mt=ie.ha||ie.src;ie.fa&&zn(c.i,ie),V=Ve.call(Mt,C)!==!1&&V}}return V&&!C.defaultPrevented}function Ot(c,y,b){if(typeof c=="function")b&&(c=k(c,b));else if(c&&typeof c.handleEvent=="function")c=k(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:p.setTimeout(c,y||0)}function gs(c){c.g=Ot(()=>{c.g=null,c.i&&(c.i=!1,gs(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class To extends oe{constructor(y,b){super(),this.m=y,this.l=b,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:gs(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fn(c){oe.call(this),this.h=c,this.g={}}T(Fn,oe);var pr=[];function Ur(c){se(c.g,function(y,b){this.g.hasOwnProperty(b)&&wa(y)},c),c.g={}}Fn.prototype.N=function(){Fn.aa.N.call(this),Ur(this)},Fn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bn=p.JSON.stringify,Fr=p.JSON.parse,rr=class{stringify(c){return p.JSON.stringify(c,void 0)}parse(c){return p.JSON.parse(c,void 0)}};function ys(){}ys.prototype.h=null;function ka(c){return c.h||(c.h=c.i())}function vs(){}var $n={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pt(){re.call(this,"d")}T(pt,re);function Tt(){re.call(this,"c")}T(Tt,re);var dn={},Qe=null;function Rt(){return Qe=Qe||new dt}dn.La="serverreachability";function Ea(c){re.call(this,dn.La,c)}T(Ea,re);function Vn(c){const y=Rt();We(y,new Ea(y))}dn.STAT_EVENT="statevent";function bs(c,y){re.call(this,dn.STAT_EVENT,c),this.stat=y}T(bs,re);function it(c){const y=Rt();We(y,new bs(y,c))}dn.Ma="timingevent";function vt(c,y){re.call(this,dn.Ma,c),this.size=y}T(vt,re);function ct(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){c()},y)}function an(){this.g=!0}an.prototype.xa=function(){this.g=!1};function $r(c,y,b,C,V,Y){c.info(function(){if(c.g)if(Y)for(var ie="",Ve=Y.split("&"),Mt=0;Mt<Ve.length;Mt++){var He=Ve[Mt].split("=");if(1<He.length){var $t=He[0];He=He[1];var Yt=$t.split("_");ie=2<=Yt.length&&Yt[1]=="type"?ie+($t+"="+He+"&"):ie+($t+"=redacted&")}}else ie=null;else ie=Y;return"XMLHTTP REQ ("+C+") [attempt "+V+"]: "+y+`
`+b+`
`+ie})}function ws(c,y,b,C,V,Y,ie){c.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+V+"]: "+y+`
`+b+`
`+Y+" "+ie})}function mr(c,y,b,C){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+gr(c,b)+(C?" "+C:"")})}function Ca(c,y){c.info(function(){return"TIMEOUT: "+y})}an.prototype.info=function(){};function gr(c,y){if(!c.g)return y;if(!y)return null;try{var b=JSON.parse(y);if(b){for(c=0;c<b.length;c++)if(Array.isArray(b[c])){var C=b[c];if(!(2>C.length)){var V=C[1];if(Array.isArray(V)&&!(1>V.length)){var Y=V[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ie=1;ie<V.length;ie++)V[ie]=""}}}}return bn(b)}catch{return y}}var yr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ar={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ee;function Fe(){}T(Fe,ys),Fe.prototype.g=function(){return new XMLHttpRequest},Fe.prototype.i=function(){return{}},Ee=new Fe;function Pe(c,y,b,C){this.j=c,this.i=y,this.l=b,this.R=C||1,this.U=new Fn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $e}function $e(){this.i=null,this.g="",this.h=!1}var Kt={},vr={};function Tn(c,y,b){c.L=1,c.v=xs(Nn(y)),c.m=b,c.P=!0,sr(c,null)}function sr(c,y){c.F=Date.now(),Ss(c),c.A=Nn(c.v);var b=c.A,C=c.R;Array.isArray(C)||(C=[String(C)]),Ro(b.i,"t",C),c.C=0,b=c.j.J,c.h=new $e,c.g=_u(c.j,b?y:null,!c.m),0<c.O&&(c.M=new To(k(c.Y,c,c.g),c.O)),y=c.U,b=c.g,C=c.ca;var V="readystatechange";Array.isArray(V)||(V&&(pr[0]=V.toString()),V=pr);for(var Y=0;Y<V.length;Y++){var ie=jr(b,V[Y],C||y.handleEvent,!1,y.h||y);if(!ie)break;y.g[ie.key]=ie}y=c.H?x(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Vn(),$r(c.i,c.u,c.A,c.l,c.R,c.m)}Pe.prototype.ca=function(c){c=c.target;const y=this.M;y&&qn(c)==3?y.j():this.Y(c)},Pe.prototype.Y=function(c){try{if(c==this.g)e:{const Yt=qn(this.g);var y=this.g.Ba();const Yr=this.g.Z();if(!(3>Yt)&&(Yt!=3||this.g&&(this.h.h||this.g.oa()||vu(this.g)))){this.J||Yt!=4||y==7||(y==8||0>=Yr?Vn(3):Vn(2)),xa(this);var b=this.g.Z();this.X=b;t:if(fu(this)){var C=vu(this.g);c="";var V=C.length,Y=qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Gt(this),br(this);var ie="";break t}this.h.i=new p.TextDecoder}for(y=0;y<V;y++)this.h.h=!0,c+=this.h.i.decode(C[y],{stream:!(Y&&y==V-1)});C.length=0,this.h.g+=c,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=b==200,ws(this.i,this.u,this.A,this.l,this.R,Yt,b),this.o){if(this.T&&!this.K){t:{if(this.g){var Ve,Mt=this.g;if((Ve=Mt.g?Mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(Ve)){var He=Ve;break t}}He=null}if(b=He)mr(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ks(this,b);else{this.o=!1,this.s=3,it(12),Gt(this),br(this);break e}}if(this.P){b=!0;let Qt;for(;!this.J&&this.C<ie.length;)if(Qt=hu(this,ie),Qt==vr){Yt==4&&(this.s=4,it(14),b=!1),mr(this.i,this.l,null,"[Incomplete Response]");break}else if(Qt==Kt){this.s=4,it(15),mr(this.i,this.l,ie,"[Invalid Chunk]"),b=!1;break}else mr(this.i,this.l,Qt,null),ks(this,Qt);if(fu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Yt!=4||ie.length!=0||this.h.h||(this.s=1,it(16),b=!1),this.o=this.o&&b,!b)mr(this.i,this.l,ie,"[Invalid Chunked Response]"),Gt(this),br(this);else if(0<ie.length&&!this.W){this.W=!0;var $t=this.j;$t.g==this&&$t.ba&&!$t.M&&($t.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),Rs($t),$t.M=!0,it(11))}}else mr(this.i,this.l,ie,null),ks(this,ie);Yt==4&&Gt(this),this.o&&!this.J&&(Yt==4?Eu(this.j,this):(this.o=!1,Ss(this)))}else Qf(this.g),b==400&&0<ie.indexOf("Unknown SID")?(this.s=3,it(12)):(this.s=0,it(13)),Gt(this),br(this)}}}catch{}finally{}};function fu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function hu(c,y){var b=c.C,C=y.indexOf(`
`,b);return C==-1?vr:(b=Number(y.substring(b,C)),isNaN(b)?Kt:(C+=1,C+b>y.length?vr:(y=y.slice(C,C+b),c.C=C+b,y)))}Pe.prototype.cancel=function(){this.J=!0,Gt(this)};function Ss(c){c.S=Date.now()+c.I,du(c,c.I)}function du(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ct(k(c.ba,c),y)}function xa(c){c.B&&(p.clearTimeout(c.B),c.B=null)}Pe.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ca(this.i,this.A),this.L!=2&&(Vn(),it(17)),Gt(this),this.s=2,br(this)):du(this,this.S-c)};function br(c){c.j.G==0||c.J||Eu(c.j,c)}function Gt(c){xa(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Ur(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function ks(c,y){try{var b=c.j;if(b.G!=0&&(b.g==c||No(b.h,c))){if(!c.K&&No(b.h,c)&&b.G==3){try{var C=b.Da.g.parse(y)}catch{C=null}if(Array.isArray(C)&&C.length==3){var V=C;if(V[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<c.F)Ci(b),ki(b);else break e;zo(b),it(18)}}else b.za=V[1],0<b.za-b.T&&37500>V[2]&&b.F&&b.v==0&&!b.C&&(b.C=ct(k(b.Za,b),6e3));if(1>=pi(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else Gr(b,11)}else if((c.K||b.g==c)&&Ci(b),!X(y))for(V=b.Da.g.parse(y),y=0;y<V.length;y++){let He=V[y];if(b.T=He[0],He=He[1],b.G==2)if(He[0]=="c"){b.K=He[1],b.ia=He[2];const $t=He[3];$t!=null&&(b.la=$t,b.j.info("VER="+b.la));const Yt=He[4];Yt!=null&&(b.Aa=Yt,b.j.info("SVER="+b.Aa));const Yr=He[5];Yr!=null&&typeof Yr=="number"&&0<Yr&&(C=1.5*Yr,b.L=C,b.j.info("backChannelRequestTimeoutMs_="+C)),C=b;const Qt=c.g;if(Qt){const _r=Qt.g?Qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_r){var Y=C.h;Y.g||_r.indexOf("spdy")==-1&&_r.indexOf("quic")==-1&&_r.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(mi(Y,Y.h),Y.h=null))}if(C.D){const Fo=Qt.g?Qt.g.getResponseHeader("X-HTTP-Session-Id"):null;Fo&&(C.ya=Fo,tt(C.I,C.D,Fo))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-c.F,b.j.info("Handshake RTT: "+b.R+"ms")),C=b;var ie=c;if(C.qa=xu(C,C.J?C.ia:null,C.W),ie.K){pn(C.h,ie);var Ve=ie,Mt=C.L;Mt&&(Ve.I=Mt),Ve.B&&(xa(Ve),Ss(Ve)),C.g=ie}else Su(C);0<b.i.length&&Ei(b)}else He[0]!="stop"&&He[0]!="close"||Gr(b,7);else b.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Gr(b,7):Lo(b):He[0]!="noop"&&b.l&&b.l.ta(He),b.v=0)}}Vn(4)}catch{}}var pu=class{constructor(c,y){this.g=c,this.map=y}};function Vr(c){this.l=c||10,p.PerformanceNavigationTiming?(c=p.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function di(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function pi(c){return c.h?1:c.g?c.g.size:0}function No(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function mi(c,y){c.g?c.g.add(y):c.h=y}function pn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Vr.prototype.cancel=function(){if(this.i=Do(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Do(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const b of c.g.values())y=y.concat(b.D);return y}return L(c.i)}function qf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(m(c)){for(var y=[],b=c.length,C=0;C<b;C++)y.push(c[C]);return y}y=[],b=0;for(C in c)y[b++]=c[C];return y}function gi(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(m(c)||typeof c=="string"){var y=[];c=c.length;for(var b=0;b<c;b++)y.push(b);return y}y=[],b=0;for(const C in c)y[b++]=C;return y}}}function Ao(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(m(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var b=gi(c),C=qf(c),V=C.length,Y=0;Y<V;Y++)y.call(void 0,C[Y],b&&b[Y],c)}var Es=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kf(c,y){if(c){c=c.split("&");for(var b=0;b<c.length;b++){var C=c[b].indexOf("="),V=null;if(0<=C){var Y=c[b].substring(0,C);V=c[b].substring(C+1)}else Y=c[b];y(Y,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Pt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Pt){this.h=c.h,Cs(this,c.j),this.o=c.o,this.g=c.g,_a(this,c.s),this.l=c.l;var y=c.i,b=new Wr;b.i=y.i,y.g&&(b.g=new Map(y.g),b.h=y.h),Br(this,b),this.m=c.m}else c&&(y=String(c).match(Es))?(this.h=!1,Cs(this,y[1]||"",!0),this.o=Bn(y[2]||""),this.g=Bn(y[3]||"",!0),_a(this,y[4]),this.l=Bn(y[5]||"",!0),Br(this,y[6]||"",!0),this.m=Bn(y[7]||"")):(this.h=!1,this.i=new Wr(null,this.h))}Pt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(_s(y,Io,!0),":");var b=this.g;return(b||y=="file")&&(c.push("//"),(y=this.o)&&c.push(_s(y,Io,!0),"@"),c.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&c.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&c.push("/"),c.push(_s(b,b.charAt(0)=="/"?Gf:Oo,!0))),(b=this.i.toString())&&c.push("?",b),(b=this.m)&&c.push("#",_s(b,yi)),c.join("")};function Nn(c){return new Pt(c)}function Cs(c,y,b){c.j=b?Bn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function _a(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Br(c,y,b){y instanceof Wr?(c.i=y,gu(c.i,c.h)):(b||(y=_s(y,Yf)),c.i=new Wr(y,c.h))}function tt(c,y,b){c.i.set(y,b)}function xs(c){return tt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Bn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function _s(c,y,b){return typeof c=="string"?(c=encodeURI(c).replace(y,mu),b&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function mu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Io=/[#\/\?@]/g,Oo=/[#\?:]/g,Gf=/[#\?]/g,Yf=/[#\?@]/g,yi=/#/g;function Wr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Wn(c){c.g||(c.g=new Map,c.h=0,c.i&&Kf(c.i,function(y,b){c.add(decodeURIComponent(y.replace(/\+/g," ")),b)}))}r=Wr.prototype,r.add=function(c,y){Wn(this),this.i=null,c=wr(this,c);var b=this.g.get(c);return b||this.g.set(c,b=[]),b.push(y),this.h+=1,this};function Hr(c,y){Wn(c),y=wr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function qr(c,y){return Wn(c),y=wr(c,y),c.g.has(y)}r.forEach=function(c,y){Wn(this),this.g.forEach(function(b,C){b.forEach(function(V){c.call(y,V,C,this)},this)},this)},r.na=function(){Wn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),b=[];for(let C=0;C<y.length;C++){const V=c[C];for(let Y=0;Y<V.length;Y++)b.push(y[C])}return b},r.V=function(c){Wn(this);let y=[];if(typeof c=="string")qr(this,c)&&(y=y.concat(this.g.get(wr(this,c))));else{c=Array.from(this.g.values());for(let b=0;b<c.length;b++)y=y.concat(c[b])}return y},r.set=function(c,y){return Wn(this),this.i=null,c=wr(this,c),qr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Ro(c,y,b){Hr(c,y),0<b.length&&(c.i=null,c.g.set(wr(c,y),L(b)),c.h+=b.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var b=0;b<y.length;b++){var C=y[b];const Y=encodeURIComponent(String(C)),ie=this.V(C);for(C=0;C<ie.length;C++){var V=Y;ie[C]!==""&&(V+="="+encodeURIComponent(String(ie[C]))),c.push(V)}}return this.i=c.join("&")};function wr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function gu(c,y){y&&!c.j&&(Wn(c),c.i=null,c.g.forEach(function(b,C){var V=C.toLowerCase();C!=V&&(Hr(this,C),Ro(this,V,b))},c)),c.j=y}function Ts(c,y){const b=new an;if(p.Image){const C=new Image;C.onload=O(Hn,b,"TestLoadImage: loaded",!0,y,C),C.onerror=O(Hn,b,"TestLoadImage: error",!1,y,C),C.onabort=O(Hn,b,"TestLoadImage: abort",!1,y,C),C.ontimeout=O(Hn,b,"TestLoadImage: timeout",!1,y,C),p.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=c}else y(!1)}function ir(c,y){const b=new an,C=new AbortController,V=setTimeout(()=>{C.abort(),Hn(b,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:C.signal}).then(Y=>{clearTimeout(V),Y.ok?Hn(b,"TestPingServer: ok",!0,y):Hn(b,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(V),Hn(b,"TestPingServer: error",!1,y)})}function Hn(c,y,b,C,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),C(b)}catch{}}function Ns(){this.g=new rr}function Sr(c,y,b){const C=b||"";try{Ao(c,function(V,Y){let ie=V;g(V)&&(ie=bn(V)),y.push(C+Y+"="+encodeURIComponent(ie))})}catch(V){throw y.push(C+"type="+encodeURIComponent("_badmap")),V}}function Ta(c){this.l=c.Ub||null,this.j=c.eb||!1}T(Ta,ys),Ta.prototype.g=function(){return new Kr(this.l,this.j)},Ta.prototype.i=function(c){return function(){return c}}({});function Kr(c,y){dt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Kr,dt),r=Kr.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Er(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||p).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,kr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Er(this)),this.g&&(this.readyState=3,Er(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Po(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Po(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?kr(this):Er(this),this.readyState==3&&Po(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,kr(this))},r.Qa=function(c){this.g&&(this.response=c,kr(this))},r.ga=function(){this.g&&kr(this)};function kr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Er(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var b=y.next();!b.done;)b=b.value,c.push(b[0]+": "+b[1]),b=y.next();return c.join(`\r
`)};function Er(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Kr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Mo(c){let y="";return se(c,function(b,C){y+=C,y+=":",y+=b,y+=`\r
`}),y}function Ft(c,y,b){e:{for(C in b){var C=!1;break e}C=!0}C||(b=Mo(b),typeof c=="string"?b!=null&&encodeURIComponent(String(b)):tt(c,y,b))}function Ke(c){dt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Ke,dt);var vi=/^https?$/i,Ds=["POST","PUT"];r=Ke.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,b,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ee.g(),this.v=this.o?ka(this.o):ka(Ee),this.g.onreadystatechange=k(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Y){yu(this,Y);return}if(c=b||"",b=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var V in C)b.set(V,C[V]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const Y of C.keys())b.set(Y,C.get(Y));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(b.keys()).find(Y=>Y.toLowerCase()=="content-type"),V=p.FormData&&c instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Ds,y,void 0))||C||V||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ie]of b)this.g.setRequestHeader(Y,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{As(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){yu(this,Y)}};function yu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,bi(c),Cr(c)}function bi(c){c.A||(c.A=!0,We(c,"complete"),We(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,We(this,"complete"),We(this,"abort"),Cr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Cr(this,!0)),Ke.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?wi(this):this.bb())},r.bb=function(){wi(this)};function wi(c){if(c.h&&typeof h<"u"&&(!c.v[1]||qn(c)!=4||c.Z()!=2)){if(c.u&&qn(c)==4)Ot(c.Ea,0,c);else if(We(c,"readystatechange"),qn(c)==4){c.h=!1;try{const ie=c.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var b;if(!(b=y)){var C;if(C=ie===0){var V=String(c.D).match(Es)[1]||null;!V&&p.self&&p.self.location&&(V=p.self.location.protocol.slice(0,-1)),C=!vi.test(V?V.toLowerCase():"")}b=C}if(b)We(c,"complete"),We(c,"success");else{c.m=6;try{var Y=2<qn(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",bi(c)}}finally{Cr(c)}}}}function Cr(c,y){if(c.g){As(c);const b=c.g,C=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||We(c,"ready");try{b.onreadystatechange=C}catch{}}}function As(c){c.I&&(p.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function qn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<qn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Fr(y)}};function vu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Qf(c){const y={};c=(c.g&&2<=qn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<c.length;C++){if(X(c[C]))continue;var b=A(c[C]);const V=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const Y=y[V]||[];y[V]=Y,Y.push(b)}R(y,function(C){return C.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Is(c,y,b){return b&&b.internalChannelParams&&b.internalChannelParams[c]||y}function Si(c){this.Aa=0,this.i=[],this.j=new an,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Is("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Is("baseRetryDelayMs",5e3,c),this.cb=Is("retryDelaySeedMs",1e4,c),this.Wa=Is("forwardChannelMaxRetries",2,c),this.wa=Is("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Vr(c&&c.concurrentRequestLimit),this.Da=new Ns,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Si.prototype,r.la=8,r.G=1,r.connect=function(c,y,b,C){it(0),this.W=c,this.H=y||{},b&&C!==void 0&&(this.H.OSID=b,this.H.OAID=C),this.F=this.X,this.I=xu(this,null,this.W),Ei(this)};function Lo(c){if(bu(c),c.G==3){var y=c.U++,b=Nn(c.I);if(tt(b,"SID",c.K),tt(b,"RID",y),tt(b,"TYPE","terminate"),Os(c,b),y=new Pe(c,c.j,y),y.L=2,y.v=xs(Nn(b)),b=!1,p.navigator&&p.navigator.sendBeacon)try{b=p.navigator.sendBeacon(y.v.toString(),"")}catch{}!b&&p.Image&&(new Image().src=y.v,b=!0),b||(y.g=_u(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ss(y)}Cu(c)}function ki(c){c.g&&(Rs(c),c.g.cancel(),c.g=null)}function bu(c){ki(c),c.u&&(p.clearTimeout(c.u),c.u=null),Ci(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&p.clearTimeout(c.s),c.s=null)}function Ei(c){if(!di(c.h)&&!c.s){c.s=!0;var y=c.Ga;le||M(),pe||(le(),pe=!0),be.add(y,c),c.B=0}}function Jf(c,y){return pi(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ct(k(c.Ga,c,y),Uo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const V=new Pe(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=x(Y),P(Y,this.S)):Y=this.S),this.m!==null||this.O||(V.H=Y,Y=null),this.P)e:{for(var y=0,b=0;b<this.i.length;b++){t:{var C=this.i[b];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(y+=C,4096<y){y=b;break e}if(y===4096||b===this.i.length-1){y=b+1;break e}}y=1e3}else y=1e3;y=wu(this,V,y),b=Nn(this.I),tt(b,"RID",c),tt(b,"CVER",22),this.D&&tt(b,"X-HTTP-Session-Id",this.D),Os(this,b),Y&&(this.O?y="headers="+encodeURIComponent(String(Mo(Y)))+"&"+y:this.m&&Ft(b,this.m,Y)),mi(this.h,V),this.Ua&&tt(b,"TYPE","init"),this.P?(tt(b,"$req",y),tt(b,"SID","null"),V.T=!0,Tn(V,b,null)):Tn(V,b,y),this.G=2}}else this.G==3&&(c?jo(this,c):this.i.length==0||di(this.h)||jo(this))};function jo(c,y){var b;y?b=y.l:b=c.U++;const C=Nn(c.I);tt(C,"SID",c.K),tt(C,"RID",b),tt(C,"AID",c.T),Os(c,C),c.m&&c.o&&Ft(C,c.m,c.o),b=new Pe(c,c.j,b,c.B+1),c.m===null&&(b.H=c.o),y&&(c.i=y.D.concat(c.i)),y=wu(c,b,1e3),b.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),mi(c.h,b),Tn(b,C,y)}function Os(c,y){c.H&&se(c.H,function(b,C){tt(y,C,b)}),c.l&&Ao({},function(b,C){tt(y,C,b)})}function wu(c,y,b){b=Math.min(c.i.length,b);var C=c.l?k(c.l.Na,c.l,c):null;e:{var V=c.i;let Y=-1;for(;;){const ie=["count="+b];Y==-1?0<b?(Y=V[0].g,ie.push("ofs="+Y)):Y=0:ie.push("ofs="+Y);let Ve=!0;for(let Mt=0;Mt<b;Mt++){let He=V[Mt].g;const $t=V[Mt].map;if(He-=Y,0>He)Y=Math.max(0,V[Mt].g-100),Ve=!1;else try{Sr($t,ie,"req"+He+"_")}catch{C&&C($t)}}if(Ve){C=ie.join("&");break e}}}return c=c.i.splice(0,b),y.D=c,C}function Su(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;le||M(),pe||(le(),pe=!0),be.add(y,c),c.v=0}}function zo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ct(k(c.Fa,c),Uo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,ku(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ct(k(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,it(10),ki(this),ku(this))};function Rs(c){c.A!=null&&(p.clearTimeout(c.A),c.A=null)}function ku(c){c.g=new Pe(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Nn(c.qa);tt(y,"RID","rpc"),tt(y,"SID",c.K),tt(y,"AID",c.T),tt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&tt(y,"TO",c.ja),tt(y,"TYPE","xmlhttp"),Os(c,y),c.m&&c.o&&Ft(y,c.m,c.o),c.L&&(c.g.I=c.L);var b=c.g;c=c.ia,b.L=1,b.v=xs(Nn(y)),b.m=null,b.P=!0,sr(b,c)}r.Za=function(){this.C!=null&&(this.C=null,ki(this),zo(this),it(19))};function Ci(c){c.C!=null&&(p.clearTimeout(c.C),c.C=null)}function Eu(c,y){var b=null;if(c.g==y){Ci(c),Rs(c),c.g=null;var C=2}else if(No(c.h,y))b=y.D,pn(c.h,y),C=1;else return;if(c.G!=0){if(y.o)if(C==1){b=y.m?y.m.length:0,y=Date.now()-y.F;var V=c.B;C=Rt(),We(C,new vt(C,b)),Ei(c)}else Su(c);else if(V=y.s,V==3||V==0&&0<y.X||!(C==1&&Jf(c,y)||C==2&&zo(c)))switch(b&&0<b.length&&(y=c.h,y.i=y.i.concat(b)),V){case 1:Gr(c,5);break;case 4:Gr(c,10);break;case 3:Gr(c,6);break;default:Gr(c,2)}}}function Uo(c,y){let b=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(b*=2),b*y}function Gr(c,y){if(c.j.info("Error code "+y),y==2){var b=k(c.fb,c),C=c.Xa;const V=!C;C=new Pt(C||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Cs(C,"https"),xs(C),V?Ts(C.toString(),b):ir(C.toString(),b)}else it(2);c.G=0,c.l&&c.l.sa(y),Cu(c),bu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function Cu(c){if(c.G=0,c.ka=[],c.l){const y=Do(c.h);(y.length!=0||c.i.length!=0)&&(U(c.ka,y),U(c.ka,c.i),c.h.i.length=0,L(c.i),c.i.length=0),c.l.ra()}}function xu(c,y,b){var C=b instanceof Pt?Nn(b):new Pt(b);if(C.g!="")y&&(C.g=y+"."+C.g),_a(C,C.s);else{var V=p.location;C=V.protocol,y=y?y+"."+V.hostname:V.hostname,V=+V.port;var Y=new Pt(null);C&&Cs(Y,C),y&&(Y.g=y),V&&_a(Y,V),b&&(Y.l=b),C=Y}return b=c.D,y=c.ya,b&&y&&tt(C,b,y),tt(C,"VER",c.la),Os(c,C),C}function _u(c,y,b){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ke(new Ta({eb:b})):new Ke(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tu(){}r=Tu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function xi(){}xi.prototype.g=function(c,y){return new mn(c,y)};function mn(c,y){dt.call(this),this.g=new Si(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!X(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!X(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new xr(this)}T(mn,dt),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Lo(this.g)},mn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var b={};b.__data__=c,c=b}else this.u&&(b={},b.__data__=bn(c),c=b);y.i.push(new pu(y.Ya++,c)),y.G==3&&Ei(y)},mn.prototype.N=function(){this.g.l=null,delete this.j,Lo(this.g),delete this.g,mn.aa.N.call(this)};function Nu(c){pt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const b in y){c=b;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(Nu,pt);function Du(){Tt.call(this),this.status=1}T(Du,Tt);function xr(c){this.g=c}T(xr,Tu),xr.prototype.ua=function(){We(this.g,"a")},xr.prototype.ta=function(c){We(this.g,new Nu(c))},xr.prototype.sa=function(c){We(this.g,new Du)},xr.prototype.ra=function(){We(this.g,"b")},xi.prototype.createWebChannel=xi.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,Kw=function(){return new xi},qw=function(){return Rt()},Hw=dn,yp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},yr.NO_ERROR=0,yr.TIMEOUT=8,yr.HTTP_ERROR=6,$c=yr,ar.COMPLETE="complete",Ww=ar,vs.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",dt.prototype.listen=dt.prototype.K,Ol=vs,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,Bw=Ke}).apply(typeof Ic<"u"?Ic:typeof self<"u"?self:typeof window<"u"?window:{});const Wb="@firebase/firestore",Hb="4.7.10";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let So="11.5.0";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ni=new Lw("@firebase/firestore");function no(){return ni.logLevel}function fe(r,...e){if(ni.logLevel<=Ue.DEBUG){const n=e.map(om);ni.debug(`Firestore (${So}): ${r}`,...n)}}function ma(r,...e){if(ni.logLevel<=Ue.ERROR){const n=e.map(om);ni.error(`Firestore (${So}): ${r}`,...n)}}function co(r,...e){if(ni.logLevel<=Ue.WARN){const n=e.map(om);ni.warn(`Firestore (${So}): ${r}`,...n)}}function om(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(r)}catch{return r}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ce(r="Unexpected state"){const e=`FIRESTORE (${So}) INTERNAL ASSERTION FAILED: `+r;throw ma(e),new Error(e)}function Ge(r,e){r||Ce()}function _e(r,e){return r}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends wo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ha{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Gw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class L_{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(un.UNAUTHENTICATED))}shutdown(){}}class j_{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class z_{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0);let s=this.i;const o=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let u=new ha;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ha,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const m=u;e.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},p=m=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(m=>p(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?p(m):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ha)}},0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string"),new Gw(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string"),new un(e)}}class U_{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=un.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class F_{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new U_(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $_{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,b_(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0);const s=u=>{u.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,fe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new qb(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ge(typeof n.token=="string"),this.R=n.token,new qb(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function V_(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Yw(){return new TextEncoder}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Qw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=V_(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ae(r,e){return r<e?-1:r>e?1:0}function vp(r,e){let n=0;for(;n<r.length&&n<e.length;){const s=r.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Ae(s,o);{const u=Yw(),h=B_(u.encode(Kb(r,n)),u.encode(Kb(e,n)));return h!==0?h:Ae(s,o)}}n+=s>65535?2:1}return Ae(r.length,e.length)}function Kb(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function B_(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return Ae(r[n],e[n]);return Ae(r.length,e.length)}function fo(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Gb=-62135596800,Yb=1e6;class zt{static now(){return zt.fromMillis(Date.now())}static fromDate(e){return zt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Yb);return new zt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Gb)throw new he(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Yb}_compareTo(e){return this.seconds===e.seconds?Ae(this.nanoseconds,e.nanoseconds):Ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Gb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new zt(0,0))}static max(){return new xe(new zt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Qb="__name__";class Or{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ce(),s===void 0?s=e.length-n:s>e.length-n&&Ce(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Or.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Or?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Or.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ae(e.length,n.length)}static compareSegments(e,n){const s=Or.isNumericId(e),o=Or.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Or.extractNumericId(e).compare(Or.extractNumericId(n)):vp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return es.fromString(e.substring(4,e.length-2))}}class ft extends Or{construct(e,n,s){return new ft(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new ft(n)}static emptyPath(){return new ft([])}}const W_=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Or{construct(e,n,s){return new tn(e,n,s)}static isValidIdentifier(e){return W_.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Qb}static keyField(){return new tn([Qb])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new he(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new he(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new he(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,o+=2}else p==="`"?(h=!h,o++):p!=="."||h?(s+=p,o++):(u(),o++)}if(u(),h)throw new he(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(n)}static emptyPath(){return new tn([])}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ye{constructor(e){this.path=e}static fromPath(e){return new ye(ft.fromString(e))}static fromName(e){return new ye(ft.fromString(e).popFirst(5))}static empty(){return new ye(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ft.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new ft(e.slice()))}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Wl=-1;function H_(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=xe.fromTimestamp(s===1e9?new zt(n+1,0):new zt(n,s));return new rs(o,ye.empty(),e)}function q_(r){return new rs(r.readTime,r.key,Wl)}class rs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new rs(xe.min(),ye.empty(),Wl)}static max(){return new rs(xe.max(),ye.empty(),Wl)}}function K_(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(r.documentKey,e.documentKey),n!==0?n:Ae(r.largestBatchId,e.largestBatchId))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const G_="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Y_{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function ko(r){if(r.code!==ne.FAILED_PRECONDITION||r.message!==G_)throw r;fe("LocalStore","Unexpectedly lost primary lease")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,s)=>{n(e)})}static reject(e){return new ee((n,s)=>{s(e)})}static waitFor(e){return new ee((n,s)=>{let o=0,u=0,h=!1;e.forEach(p=>{++o,p.next(()=>{++u,h&&u===o&&n()},m=>s(m))}),h=!0,u===o&&n()})}static or(e){let n=ee.resolve(!1);for(const s of e)n=n.next(o=>o?ee.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new ee((s,o)=>{const u=e.length,h=new Array(u);let p=0;for(let m=0;m<u;m++){const g=m;n(e[g]).next(v=>{h[g]=v,++p,p===u&&s(h)},v=>o(v))}})}static doWhile(e,n){return new ee((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function Q_(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Eo(r){return r.name==="IndexedDbTransactionError"}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class vf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}vf.ae=-1;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const lm=-1;function bf(r){return r==null}function ef(r){return r===0&&1/r==-1/0}function J_(r){return typeof r=="number"&&Number.isInteger(r)&&!ef(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Jw="";function X_(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=Jb(e)),e=Z_(r.get(n),e);return Jb(e)}function Z_(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case Jw:n+="";break;default:n+=u}}return n}function Jb(r){return r+Jw+""}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Xb(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function cs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function Xw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class wt{constructor(e,n){this.comparator=e,this.root=n||en.EMPTY}insert(e,n){return new wt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Oc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Oc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Oc(this.root,e,this.comparator,!0)}}class Oc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??en.RED,this.left=o??en.EMPTY,this.right=u??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new en(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return en.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ce();const e=this.left.check();if(e!==this.right.check())throw Ce();return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce()}get value(){throw Ce()}get color(){throw Ce()}get left(){throw Ce()}get right(){throw Ce()}copy(r,e,n,s,o){return this}insert(r,e,n){return new en(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ut{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Zb(this.data.getIterator())}getIteratorFrom(e){return new Zb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ut(this.comparator);return n.data=e,n}}class Zb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ln{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new Ln([])}unionWith(e){let n=new Ut(tn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Ln(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fo(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Zw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Zw("Invalid base64 string: "+o):o}}(e);return new rn(n)}static fromUint8Array(e){const n=function(s){let o="";for(let u=0;u<s.length;++u)o+=String.fromCharCode(s[u]);return o}(e);return new rn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const e2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function as(r){if(Ge(!!r),typeof r=="string"){let e=0;const n=e2.exec(r);if(Ge(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_t(r.seconds),nanos:_t(r.nanos)}}function _t(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ss(r){return typeof r=="string"?rn.fromBase64String(r):rn.fromUint8Array(r)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const eS="server_timestamp",tS="__type__",nS="__previous_value__",rS="__local_write_time__";function um(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[tS])===null||n===void 0?void 0:n.stringValue)===eS}function wf(r){const e=r.mapValue.fields[nS];return um(e)?wf(e):e}function Hl(r){const e=as(r.mapValue.fields[rS].timestampValue);return new zt(e.seconds,e.nanos)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class t2{constructor(e,n,s,o,u,h,p,m,g){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=p,this.longPollingOptions=m,this.useFetchStreams=g}}const tf="(default)";class ql{constructor(e,n){this.projectId=e,this.database=n||tf}static empty(){return new ql("","")}get isDefaultDatabase(){return this.database===tf}isEqual(e){return e instanceof ql&&e.projectId===this.projectId&&e.database===this.database}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const aS="__type__",n2="__max__",Rc={mapValue:{}},sS="__vector__",nf="value";function is(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?um(r)?4:a2(r)?9007199254740991:r2(r)?10:11:Ce()}function Lr(r,e){if(r===e)return!0;const n=is(r);if(n!==is(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Hl(r).isEqual(Hl(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const u=as(s.timestampValue),h=as(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(s,o){return ss(s.bytesValue).isEqual(ss(o.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,o){return _t(s.geoPointValue.latitude)===_t(o.geoPointValue.latitude)&&_t(s.geoPointValue.longitude)===_t(o.geoPointValue.longitude)}(r,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return _t(s.integerValue)===_t(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const u=_t(s.doubleValue),h=_t(o.doubleValue);return u===h?ef(u)===ef(h):isNaN(u)&&isNaN(h)}return!1}(r,e);case 9:return fo(r.arrayValue.values||[],e.arrayValue.values||[],Lr);case 10:case 11:return function(s,o){const u=s.mapValue.fields||{},h=o.mapValue.fields||{};if(Xb(u)!==Xb(h))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(h[p]===void 0||!Lr(u[p],h[p])))return!1;return!0}(r,e);default:return Ce()}}function Kl(r,e){return(r.values||[]).find(n=>Lr(n,e))!==void 0}function ho(r,e){if(r===e)return 0;const n=is(r),s=is(e);if(n!==s)return Ae(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ae(r.booleanValue,e.booleanValue);case 2:return function(o,u){const h=_t(o.integerValue||o.doubleValue),p=_t(u.integerValue||u.doubleValue);return h<p?-1:h>p?1:h===p?0:isNaN(h)?isNaN(p)?0:-1:1}(r,e);case 3:return e0(r.timestampValue,e.timestampValue);case 4:return e0(Hl(r),Hl(e));case 5:return vp(r.stringValue,e.stringValue);case 6:return function(o,u){const h=ss(o),p=ss(u);return h.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(o,u){const h=o.split("/"),p=u.split("/");for(let m=0;m<h.length&&m<p.length;m++){const g=Ae(h[m],p[m]);if(g!==0)return g}return Ae(h.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(o,u){const h=Ae(_t(o.latitude),_t(u.latitude));return h!==0?h:Ae(_t(o.longitude),_t(u.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return t0(r.arrayValue,e.arrayValue);case 10:return function(o,u){var h,p,m,g;const v=o.fields||{},S=u.fields||{},k=(h=v[nf])===null||h===void 0?void 0:h.arrayValue,O=(p=S[nf])===null||p===void 0?void 0:p.arrayValue,T=Ae(((m=k==null?void 0:k.values)===null||m===void 0?void 0:m.length)||0,((g=O==null?void 0:O.values)===null||g===void 0?void 0:g.length)||0);return T!==0?T:t0(k,O)}(r.mapValue,e.mapValue);case 11:return function(o,u){if(o===Rc.mapValue&&u===Rc.mapValue)return 0;if(o===Rc.mapValue)return 1;if(u===Rc.mapValue)return-1;const h=o.fields||{},p=Object.keys(h),m=u.fields||{},g=Object.keys(m);p.sort(),g.sort();for(let v=0;v<p.length&&v<g.length;++v){const S=vp(p[v],g[v]);if(S!==0)return S;const k=ho(h[p[v]],m[g[v]]);if(k!==0)return k}return Ae(p.length,g.length)}(r.mapValue,e.mapValue);default:throw Ce()}}function e0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ae(r,e);const n=as(r),s=as(e),o=Ae(n.seconds,s.seconds);return o!==0?o:Ae(n.nanos,s.nanos)}function t0(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=ho(n[o],s[o]);if(u)return u}return Ae(n.length,s.length)}function po(r){return bp(r)}function bp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(e){const n=as(e);return`time(${n.seconds},${n.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(e){return ss(e).toBase64()}(r.bytesValue):"referenceValue"in r?function(e){return ye.fromName(e).toString()}(r.referenceValue):"geoPointValue"in r?function(e){return`geo(${e.latitude},${e.longitude})`}(r.geoPointValue):"arrayValue"in r?function(e){let n="[",s=!0;for(const o of e.values||[])s?s=!1:n+=",",n+=bp(o);return n+"]"}(r.arrayValue):"mapValue"in r?function(e){const n=Object.keys(e.fields||{}).sort();let s="{",o=!0;for(const u of n)o?o=!1:s+=",",s+=`${u}:${bp(e.fields[u])}`;return s+"}"}(r.mapValue):Ce()}function Vc(r){switch(is(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wf(r);return e?16+Vc(e):16;case 5:return 2*r.stringValue.length;case 6:return ss(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((s,o)=>s+Vc(o),0)}(r.arrayValue);case 10:case 11:return function(n){let s=0;return cs(n.fields,(o,u)=>{s+=o.length+Vc(u)}),s}(r.mapValue);default:throw Ce()}}function n0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function wp(r){return!!r&&"integerValue"in r}function cm(r){return!!r&&"arrayValue"in r}function r0(r){return!!r&&"nullValue"in r}function a0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Bc(r){return!!r&&"mapValue"in r}function r2(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[aS])===null||n===void 0?void 0:n.stringValue)===sS}function jl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return cs(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=jl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=jl(r.arrayValue.values[n]);return e}return Object.assign({},r)}function a2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===n2}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Bc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=jl(n)}setAll(e){let n=tn.emptyPath(),s={},o=[];e.forEach((h,p)=>{if(!n.isImmediateParentOf(p)){const m=this.getFieldsMap(n);this.applyChanges(m,s,o),s={},o=[],n=p.popLast()}h?s[p.lastSegment()]=jl(h):o.push(p.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Bc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Lr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Bc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){cs(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new Cn(jl(this.value))}}function iS(r){const e=[];return cs(r.fields,(n,s)=>{const o=new tn([n]);if(Bc(s)){const u=iS(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new Ln(e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class cn{constructor(e,n,s,o,u,h,p){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=p}static newInvalidDocument(e){return new cn(e,0,xe.min(),xe.min(),xe.min(),Cn.empty(),0)}static newFoundDocument(e,n,s,o){return new cn(e,1,n,xe.min(),s,o,0)}static newNoDocument(e,n){return new cn(e,2,n,xe.min(),xe.min(),Cn.empty(),0)}static newUnknownDocument(e,n){return new cn(e,3,n,xe.min(),xe.min(),Cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rf{constructor(e,n){this.position=e,this.inclusive=n}}function s0(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(h.referenceValue),n.key):s=ho(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function i0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Lr(r.position[n],e.position[n]))return!1;return!0}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class af{constructor(e,n="asc"){this.field=e,this.dir=n}}function s2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class oS{}class It extends oS{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new o2(e,n,s):n==="array-contains"?new c2(e,s):n==="in"?new f2(e,s):n==="not-in"?new h2(e,s):n==="array-contains-any"?new d2(e,s):new It(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new l2(e,s):new u2(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ho(n,this.value)):n!==null&&is(this.value)===is(n)&&this.matchesComparison(ho(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cr extends oS{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new cr(e,n)}matches(e){return lS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function lS(r){return r.op==="and"}function uS(r){return i2(r)&&lS(r)}function i2(r){for(const e of r.filters)if(e instanceof cr)return!1;return!0}function Sp(r){if(r instanceof It)return r.field.canonicalString()+r.op.toString()+po(r.value);if(uS(r))return r.filters.map(e=>Sp(e)).join(",");{const e=r.filters.map(n=>Sp(n)).join(",");return`${r.op}(${e})`}}function cS(r,e){return r instanceof It?function(n,s){return s instanceof It&&n.op===s.op&&n.field.isEqual(s.field)&&Lr(n.value,s.value)}(r,e):r instanceof cr?function(n,s){return s instanceof cr&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce((o,u,h)=>o&&cS(u,s.filters[h]),!0):!1}(r,e):void Ce()}function fS(r){return r instanceof It?function(e){return`${e.field.canonicalString()} ${e.op} ${po(e.value)}`}(r):r instanceof cr?function(e){return e.op.toString()+" {"+e.getFilters().map(fS).join(" ,")+"}"}(r):"Filter"}class o2 extends It{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class l2 extends It{constructor(e,n){super(e,"in",n),this.keys=hS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class u2 extends It{constructor(e,n){super(e,"not-in",n),this.keys=hS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function hS(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ye.fromName(s.referenceValue))}class c2 extends It{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return cm(n)&&Kl(n.arrayValue,this.value)}}class f2 extends It{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Kl(this.value.arrayValue,n)}}class h2 extends It{constructor(e,n){super(e,"not-in",n)}matches(e){if(Kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Kl(this.value.arrayValue,n)}}class d2 extends It{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!cm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Kl(this.value.arrayValue,s))}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class p2{constructor(e,n=null,s=[],o=[],u=null,h=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=p,this.le=null}}function o0(r,e=null,n=[],s=[],o=null,u=null,h=null){return new p2(r,e,n,s,o,u,h)}function fm(r){const e=_e(r);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Sp(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(o){return o.field.canonicalString()+o.dir}(s)).join(","),bf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>po(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>po(s)).join(",")),e.le=n}return e.le}function hm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!s2(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!cS(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!i0(r.startAt,e.startAt)&&i0(r.endAt,e.endAt)}function kp(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tu{constructor(e,n=null,s=[],o=[],u=null,h="F",p=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=p,this.endAt=m,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function m2(r,e,n,s,o,u,h,p){return new tu(r,e,n,s,o,u,h,p)}function Sf(r){return new tu(r)}function l0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function dS(r){return r.collectionGroup!==null}function zl(r){const e=_e(r);if(e.he===null){e.he=[];const n=new Set;for(const o of e.explicitOrderBy)e.he.push(o),n.add(o.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let u=new Ut(tn.comparator);return o.filters.forEach(h=>{h.getFlattenedFilters().forEach(p=>{p.isInequality()&&(u=u.add(p.field))})}),u})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.he.push(new af(o,s))}),n.has(tn.keyField().canonicalString())||e.he.push(new af(tn.keyField(),s))}return e.he}function Rr(r){const e=_e(r);return e.Pe||(e.Pe=g2(e,zl(r))),e.Pe}function g2(r,e){if(r.limitType==="F")return o0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new af(o.field,u)});const n=r.endAt?new rf(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new rf(r.startAt.position,r.startAt.inclusive):null;return o0(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Ep(r,e){const n=r.filters.concat([e]);return new tu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Cp(r,e,n){return new tu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function kf(r,e){return hm(Rr(r),Rr(e))&&r.limitType===e.limitType}function pS(r){return`${fm(Rr(r))}|lt:${r.limitType}`}function ro(r){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(s=>fS(s)).join(", ")}]`),bf(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>po(s)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>po(s)).join(",")),`Target(${n})`}(Rr(r))}; limitType=${r.limitType})`}function Ef(r,e){return e.isFoundDocument()&&function(n,s){const o=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):ye.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(r,e)&&function(n,s){for(const o of zl(n))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(r,e)&&function(n,s){for(const o of n.filters)if(!o.matches(s))return!1;return!0}(r,e)&&function(n,s){return!(n.startAt&&!function(o,u,h){const p=s0(o,u,h);return o.inclusive?p<=0:p<0}(n.startAt,zl(n),s)||n.endAt&&!function(o,u,h){const p=s0(o,u,h);return o.inclusive?p>=0:p>0}(n.endAt,zl(n),s))}(r,e)}function y2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function mS(r){return(e,n)=>{let s=!1;for(const o of zl(r)){const u=v2(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function v2(r,e,n){const s=r.field.isKeyField()?ye.comparator(e.key,n.key):function(o,u,h){const p=u.data.field(o),m=h.data.field(o);return p!==null&&m!==null?ho(p,m):Ce()}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ce()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class si{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){cs(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return Xw(this.inner)}size(){return this.innerSize}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const b2=new wt(ye.comparator);function ga(){return b2}const gS=new wt(ye.comparator);function Rl(...r){let e=gS;for(const n of r)e=e.insert(n.key,n);return e}function yS(r){let e=gS;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function ei(){return Ul()}function vS(){return Ul()}function Ul(){return new si(r=>r.toString(),(r,e)=>r.isEqual(e))}const w2=new wt(ye.comparator),S2=new Ut(ye.comparator);function Me(...r){let e=S2;for(const n of r)e=e.add(n);return e}const k2=new Ut(Ae);function E2(){return k2}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function dm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ef(e)?"-0":e}}function bS(r){return{integerValue:""+r}}function C2(r,e){return J_(e)?bS(e):dm(r,e)}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Cf{constructor(){this._=void 0}}function x2(r,e,n){return r instanceof sf?function(s,o){const u={fields:{[tS]:{stringValue:eS},[rS]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&um(o)&&(o=wf(o)),o&&(u.fields[nS]=o),{mapValue:u}}(n,e):r instanceof Gl?SS(r,e):r instanceof Yl?kS(r,e):function(s,o){const u=wS(s,o),h=u0(u)+u0(s.Ie);return wp(u)&&wp(s.Ie)?bS(h):dm(s.serializer,h)}(r,e)}function _2(r,e,n){return r instanceof Gl?SS(r,e):r instanceof Yl?kS(r,e):n}function wS(r,e){return r instanceof of?function(n){return wp(n)||function(s){return!!s&&"doubleValue"in s}(n)}(e)?e:{integerValue:0}:null}class sf extends Cf{}class Gl extends Cf{constructor(e){super(),this.elements=e}}function SS(r,e){const n=ES(e);for(const s of r.elements)n.some(o=>Lr(o,s))||n.push(s);return{arrayValue:{values:n}}}class Yl extends Cf{constructor(e){super(),this.elements=e}}function kS(r,e){let n=ES(e);for(const s of r.elements)n=n.filter(o=>!Lr(o,s));return{arrayValue:{values:n}}}class of extends Cf{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function u0(r){return _t(r.integerValue||r.doubleValue)}function ES(r){return cm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function T2(r,e){return r.field.isEqual(e.field)&&function(n,s){return n instanceof Gl&&s instanceof Gl||n instanceof Yl&&s instanceof Yl?fo(n.elements,s.elements,Lr):n instanceof of&&s instanceof of?Lr(n.Ie,s.Ie):n instanceof sf&&s instanceof sf}(r.transform,e.transform)}class N2{constructor(e,n){this.version=e,this.transformResults=n}}class er{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new er}static exists(e){return new er(void 0,e)}static updateTime(e){return new er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class xf{}function CS(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new pm(r.key,er.none()):new nu(r.key,r.data,er.none());{const n=r.data,s=Cn.empty();let o=new Ut(tn.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new fs(r.key,s,new Ln(o.toArray()),er.none())}}function D2(r,e,n){r instanceof nu?function(s,o,u){const h=s.value.clone(),p=f0(s.fieldTransforms,o,u.transformResults);h.setAll(p),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(r,e,n):r instanceof fs?function(s,o,u){if(!Wc(s.precondition,o))return void o.convertToUnknownDocument(u.version);const h=f0(s.fieldTransforms,o,u.transformResults),p=o.data;p.setAll(xS(s)),p.setAll(h),o.convertToFoundDocument(u.version,p).setHasCommittedMutations()}(r,e,n):function(s,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function Fl(r,e,n,s){return r instanceof nu?function(o,u,h,p){if(!Wc(o.precondition,u))return h;const m=o.value.clone(),g=h0(o.fieldTransforms,p,u);return m.setAll(g),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(r,e,n,s):r instanceof fs?function(o,u,h,p){if(!Wc(o.precondition,u))return h;const m=h0(o.fieldTransforms,p,u),g=u.data;return g.setAll(xS(o)),g.setAll(m),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(r,e,n,s):function(o,u,h){return Wc(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(r,e,n)}function A2(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=wS(s.transform,o||null);u!=null&&(n===null&&(n=Cn.empty()),n.set(s.field,u))}return n||null}function c0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&fo(n,s,(o,u)=>T2(o,u))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class nu extends xf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class fs extends xf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function xS(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function f0(r,e,n){const s=new Map;Ge(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,p=e.data.field(u.field);s.set(u.field,_2(h,p,n[o]))}return s}function h0(r,e,n){const s=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);s.set(o.field,x2(u,h,e))}return s}class pm extends xf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class I2 extends xf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class O2{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&D2(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Fl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Fl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=vS();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let p=this.applyToLocalView(h,u.mutatedFields);p=n.has(o.key)?null:p;const m=CS(h,p);m!==null&&s.set(o.key,m),h.isValidDocument()||h.convertToNoDocument(xe.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Me())}isEqual(e){return this.batchId===e.batchId&&fo(this.mutations,e.mutations,(n,s)=>c0(n,s))&&fo(this.baseMutations,e.baseMutations,(n,s)=>c0(n,s))}}class mm{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ge(e.mutations.length===s.length);let o=function(){return w2}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new mm(e,n,s,o)}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class R2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class P2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var At,ze;function M2(r){switch(r){case ne.OK:return Ce();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Ce()}}function _S(r){if(r===void 0)return ma("GRPC error has no .code"),ne.UNKNOWN;switch(r){case At.OK:return ne.OK;case At.CANCELLED:return ne.CANCELLED;case At.UNKNOWN:return ne.UNKNOWN;case At.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case At.INTERNAL:return ne.INTERNAL;case At.UNAVAILABLE:return ne.UNAVAILABLE;case At.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case At.NOT_FOUND:return ne.NOT_FOUND;case At.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case At.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case At.ABORTED:return ne.ABORTED;case At.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case At.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case At.DATA_LOSS:return ne.DATA_LOSS;default:return Ce()}}(ze=At||(At={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const L2=new es([4294967295,4294967295],0);function d0(r){const e=Yw().encode(r),n=new Vw;return n.update(e),new Uint8Array(n.digest())}function p0(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new es([n,s],0),new es([o,u],0)]}class gm{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Pl(`Invalid padding: ${n}`);if(s<0)throw new Pl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Pl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Pl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=es.fromNumber(this.Ee)}Ae(e,n,s){let o=e.add(n.multiply(es.fromNumber(s)));return o.compare(L2)===1&&(o=new es([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=d0(e),[s,o]=p0(n);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,o,u);if(!this.Re(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new gm(u,o,n);return s.forEach(p=>h.insert(p)),h}insert(e){if(this.Ee===0)return;const n=d0(e),[s,o]=p0(n);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,o,u);this.Ve(h)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Pl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _f{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,ru.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new _f(xe.min(),o,new wt(Ae),ga(),Me())}}class ru{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new ru(s,n,Me(),Me(),Me())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Hc{constructor(e,n,s,o){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=o}}class TS{constructor(e,n){this.targetId=e,this.ge=n}}class NS{constructor(e,n,s=rn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class m0{constructor(){this.pe=0,this.ye=g0(),this.we=rn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Me(),n=Me(),s=Me();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ce()}}),new ru(this.we,this.Se,e,n,s)}Me(){this.be=!1,this.ye=g0()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ge(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class j2{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ga(),this.$e=Pc(),this.Ue=Pc(),this.Ke=new wt(Ae)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:Ce()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,s=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(kp(u))if(s===0){const h=new ye(u.path);this.ze(n,h,cn.newNoDocument(h,xe.min()))}else Ge(s===1);else{const h=this.et(n);if(h!==s){const p=this.tt(e),m=p?this.nt(p,e,h):1;if(m!==0){this.Ye(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,g)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,p;try{h=ss(s).toUint8Array()}catch(m){if(m instanceof Zw)return co("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{p=new gm(h,o,u)}catch(m){return co(m instanceof Pl?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return p.Ee===0?null:p}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const h=this.ke.it(),p=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,h)=>{const p=this.Xe(h);if(p){if(u.current&&kp(p.target)){const m=new ye(p.target.path);this._t(m).has(h)||this.ut(h,m)||this.ze(h,m,cn.newNoDocument(m,e))}u.ve&&(n.set(h,u.Fe()),u.Me())}});let s=Me();this.Ue.forEach((u,h)=>{let p=!0;h.forEachWhile(m=>{const g=this.Xe(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(s=s.add(u))}),this.Qe.forEach((u,h)=>h.setReadTime(e));const o=new _f(e,n,this.Ke,this.Qe,s);return this.Qe=ga(),this.$e=Pc(),this.Ue=Pc(),this.Ke=new wt(Ae),o}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new m0,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Ut(Ae),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Ut(Ae),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new m0),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Pc(){return new wt(ye.comparator)}function g0(){return new wt(ye.comparator)}const z2={asc:"ASCENDING",desc:"DESCENDING"},U2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},F2={and:"AND",or:"OR"};class $2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function xp(r,e){return r.useProto3Json||bf(e)?e:{value:e}}function lf(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DS(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function V2(r,e){return lf(r,e.toTimestamp())}function Pr(r){return Ge(!!r),xe.fromTimestamp(function(e){const n=as(e);return new zt(n.seconds,n.nanos)}(r))}function ym(r,e){return _p(r,e).canonicalString()}function _p(r,e){const n=function(s){return new ft(["projects",s.projectId,"databases",s.database])}(r).child("documents");return e===void 0?n:n.child(e)}function AS(r){const e=ft.fromString(r);return Ge(MS(e)),e}function Tp(r,e){return ym(r.databaseId,e.path)}function Qd(r,e){const n=AS(e);if(n.get(1)!==r.databaseId.projectId)throw new he(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new he(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ye(OS(n))}function IS(r,e){return ym(r.databaseId,e)}function B2(r){const e=AS(r);return e.length===4?ft.emptyPath():OS(e)}function Np(r){return new ft(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function OS(r){return Ge(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function y0(r,e,n){return{name:Tp(r,e),fields:n.value.mapValue.fields}}function W2(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(m,g){return m.useProto3Json?(Ge(g===void 0||typeof g=="string"),rn.fromBase64String(g||"")):(Ge(g===void 0||g instanceof Buffer||g instanceof Uint8Array),rn.fromUint8Array(g||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,p=h&&function(m){const g=m.code===void 0?ne.UNKNOWN:_S(m.code);return new he(g,m.message||"")}(h);n=new NS(s,o,u,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Qd(r,s.document.name),u=Pr(s.document.updateTime),h=s.document.createTime?Pr(s.document.createTime):xe.min(),p=new Cn({mapValue:{fields:s.document.fields}}),m=cn.newFoundDocument(o,u,h,p),g=s.targetIds||[],v=s.removedTargetIds||[];n=new Hc(g,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Qd(r,s.document),u=s.readTime?Pr(s.readTime):xe.min(),h=cn.newNoDocument(o,u),p=s.removedTargetIds||[];n=new Hc([],p,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Qd(r,s.document),u=s.removedTargetIds||[];n=new Hc([],u,o,null)}else{if(!("filter"in e))return Ce();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new P2(o,u),p=s.targetId;n=new TS(p,h)}}return n}function H2(r,e){let n;if(e instanceof nu)n={update:y0(r,e.key,e.value)};else if(e instanceof pm)n={delete:Tp(r,e.key)};else if(e instanceof fs)n={update:y0(r,e.key,e.data),updateMask:eT(e.fieldMask)};else{if(!(e instanceof I2))return Ce();n={verify:Tp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(o,u){const h=u.transform;if(h instanceof sf)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Gl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Yl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof of)return{fieldPath:u.field.canonicalString(),increment:h.Ie};throw Ce()}(0,s))),e.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:V2(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ce()}(r,e.precondition)),n}function q2(r,e){return r&&r.length>0?(Ge(e!==void 0),r.map(n=>function(s,o){let u=s.updateTime?Pr(s.updateTime):Pr(o);return u.isEqual(xe.min())&&(u=Pr(o)),new N2(u,s.transformResults||[])}(n,e))):[]}function K2(r,e){return{documents:[IS(r,e.path)]}}function G2(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=IS(r,o);const u=function(m){if(m.length!==0)return PS(cr.create(m,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const h=function(m){if(m.length!==0)return m.map(g=>function(v){return{field:ao(v.field),direction:J2(v.dir)}}(g))}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const p=xp(r,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ht:n,parent:o}}function Y2(r){let e=B2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ge(s===1);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];n.where&&(u=function(v){const S=RS(v);return S instanceof cr&&uS(S)?S.getFilters():[S]}(n.where));let h=[];n.orderBy&&(h=function(v){return v.map(S=>function(k){return new af(so(k.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(S))}(n.orderBy));let p=null;n.limit&&(p=function(v){let S;return S=typeof v=="object"?v.value:v,bf(S)?null:S}(n.limit));let m=null;n.startAt&&(m=function(v){const S=!!v.before,k=v.values||[];return new rf(k,S)}(n.startAt));let g=null;return n.endAt&&(g=function(v){const S=!v.before,k=v.values||[];return new rf(k,S)}(n.endAt)),m2(e,o,h,u,p,"F",m,g)}function Q2(r,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function RS(r){return r.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=so(e.unaryFilter.field);return It.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=so(e.unaryFilter.field);return It.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=so(e.unaryFilter.field);return It.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=so(e.unaryFilter.field);return It.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Ce()}}(r):r.fieldFilter!==void 0?function(e){return It.create(so(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ce()}}(e.fieldFilter.op),e.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(e){return cr.create(e.compositeFilter.filters.map(n=>RS(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Ce()}}(e.compositeFilter.op))}(r):Ce()}function J2(r){return z2[r]}function X2(r){return U2[r]}function Z2(r){return F2[r]}function ao(r){return{fieldPath:r.canonicalString()}}function so(r){return tn.fromServerFormat(r.fieldPath)}function PS(r){return r instanceof It?function(e){if(e.op==="=="){if(a0(e.value))return{unaryFilter:{field:ao(e.field),op:"IS_NAN"}};if(r0(e.value))return{unaryFilter:{field:ao(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(a0(e.value))return{unaryFilter:{field:ao(e.field),op:"IS_NOT_NAN"}};if(r0(e.value))return{unaryFilter:{field:ao(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ao(e.field),op:X2(e.op),value:e.value}}}(r):r instanceof cr?function(e){const n=e.getFilters().map(s=>PS(s));return n.length===1?n[0]:{compositeFilter:{op:Z2(e.op),filters:n}}}(r):Ce()}function eT(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function MS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ja{constructor(e,n,s,o,u=xe.min(),h=xe.min(),p=rn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=p,this.expectedCount=m}withSequenceNumber(e){return new Ja(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tT{constructor(e){this.Tt=e}}function nT(r){const e=Y2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Cp(e,e.limit,"L"):e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rT{constructor(){this.Tn=new aT}addToCollectionParentIndex(e,n){return this.Tn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(rs.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(rs.min())}updateCollectionGroup(e,n,s){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class aT{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ut(ft.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ut(ft.comparator)).toArray()}}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const v0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},LS=41943040;class En{static withCacheSize(e){return new En(e,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(LS,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class mo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new mo(0)}static Kn(){return new mo(-1)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const b0="LruGarbageCollector",sT=1048576;function w0([r,e],[n,s]){const o=Ae(r,n);return o===0?Ae(e,s):o}class iT{constructor(e){this.Hn=e,this.buffer=new Ut(w0),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();w0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class oT{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){fe(b0,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Eo(n)?fe(b0,"Ignoring IndexedDB error during garbage collection: ",n):await ko(n)}await this.er(3e5)})}}class lT{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(vf.ae);const s=new iT(n);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(v0)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),v0):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,o,u,h,p,m,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,h=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(s=S,p=Date.now(),this.removeTargets(e,s,n))).next(S=>(u=S,m=Date.now(),this.removeOrphanedDocuments(e,s))).next(S=>(g=Date.now(),no()<=Ue.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${o} in `+(p-h)+`ms
	Removed ${u} targets in `+(m-p)+`ms
	Removed ${S} documents in `+(g-m)+`ms
Total Duration: ${g-v}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}function uT(r,e){return new lT(r,e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class cT{constructor(){this.changes=new si(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ee.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class fT{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class hT{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Fl(s.mutation,o,Ln.empty(),zt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Me()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Me()){const o=ei();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let h=Rl();return u.forEach((p,m)=>{h=h.insert(p,m.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const s=ei();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Me()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,p)=>{n.set(h,p)})})}computeViews(e,n,s,o){let u=ga();const h=Ul(),p=function(){return Ul()}();return n.forEach((m,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof fs)?u=u.insert(g.key,g):v!==void 0?(h.set(g.key,v.mutation.getFieldMask()),Fl(v.mutation,g,v.mutation.getFieldMask(),zt.now())):h.set(g.key,Ln.empty())}),this.recalculateAndSaveOverlays(e,u).next(m=>(m.forEach((g,v)=>h.set(g,v)),n.forEach((g,v)=>{var S;return p.set(g,new fT(v,(S=h.get(g))!==null&&S!==void 0?S:null))}),p))}recalculateAndSaveOverlays(e,n){const s=Ul();let o=new wt((h,p)=>h-p),u=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const p of h)p.keys().forEach(m=>{const g=n.get(m);if(g===null)return;let v=s.get(m)||Ln.empty();v=p.applyToLocalView(g,v),s.set(m,v);const S=(o.get(p.batchId)||Me()).add(m);o=o.insert(p.batchId,S)})}).next(()=>{const h=[],p=o.getReverseIterator();for(;p.hasNext();){const m=p.getNext(),g=m.key,v=m.value,S=vS();v.forEach(k=>{if(!u.has(k)){const O=CS(n.get(k),s.get(k));O!==null&&S.set(k,O),u=u.add(k)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,S))}return ee.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(u){return ye.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):dS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ee.resolve(ei());let p=Wl,m=u;return h.next(g=>ee.forEach(g,(v,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),u.get(v)?ee.resolve():this.remoteDocumentCache.getEntry(e,v).next(k=>{m=m.insert(v,k)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,m,g,Me())).next(v=>({batchId:p,changes:yS(v)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(s=>{let o=Rl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=Rl();return this.indexManager.getCollectionParents(e,u).next(p=>ee.forEach(p,m=>{const g=function(v,S){return new tu(S,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,m.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(v=>{v.forEach((S,k)=>{h=h.insert(S,k)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(h=>{u.forEach((m,g)=>{const v=g.getKey();h.get(v)===null&&(h=h.insert(v,cn.newInvalidDocument(v)))});let p=Rl();return h.forEach((m,g)=>{const v=u.get(m);v!==void 0&&Fl(v.mutation,g,Ln.empty(),zt.now()),Ef(n,g)&&(p=p.insert(m,g))}),p})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class dT{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return ee.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Pr(s.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(s){return{name:s.name,query:nT(s.bundledQuery),readTime:Pr(s.readTime)}}(n)),ee.resolve()}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class pT{constructor(){this.overlays=new wt(ye.comparator),this.Rr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ei();return ee.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Et(e,n,u)}),ee.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),ee.resolve()}getOverlaysForCollection(e,n,s){const o=ei(),u=n.length+1,h=new ye(n.child("")),p=this.overlays.getIteratorFrom(h);for(;p.hasNext();){const m=p.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&m.largestBatchId>s&&o.set(m.getKey(),m)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new wt((g,v)=>g-v);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let v=u.get(g.largestBatchId);v===null&&(v=ei(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const p=ei(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,v)=>p.set(g,v)),!(p.size()>=o)););return ee.resolve(p)}Et(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new R2(n,s));let u=this.Rr.get(n);u===void 0&&(u=Me(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class mT{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class vm{constructor(){this.Vr=new Ut(Ht.mr),this.gr=new Ut(Ht.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new Ht(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new Ht(e,n))}Sr(e,n){e.forEach(s=>this.removeReference(s,n))}br(e){const n=new ye(new ft([])),s=new Ht(n,e),o=new Ht(n,e+1),u=[];return this.gr.forEachInRange([s,o],h=>{this.wr(h),u.push(h.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new ye(new ft([])),s=new Ht(n,e),o=new Ht(n,e+1);let u=Me();return this.gr.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const n=new Ht(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ht{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return ye.comparator(e.key,n.key)||Ae(e.Cr,n.Cr)}static pr(e,n){return Ae(e.Cr,n.Cr)||ye.comparator(e.key,n.key)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class gT{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Ut(Ht.mr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new O2(u,n,s,o);this.mutationQueue.push(h);for(const p of o)this.Mr=this.Mr.add(new Ht(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ee.resolve(h)}lookupMutationBatch(e,n){return ee.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?lm:this.Fr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ht(n,0),o=new Ht(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],h=>{const p=this.Or(h.Cr);u.push(p)}),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ut(Ae);return n.forEach(o=>{const u=new Ht(o,0),h=new Ht(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,h],p=>{s=s.add(p.Cr)})}),ee.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const h=new Ht(new ye(u),0);let p=new Ut(Ae);return this.Mr.forEachWhile(m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(p=p.add(m.Cr)),!0)},h),ee.resolve(this.Br(p))}Br(e){const n=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ge(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return ee.forEach(n.mutations,o=>{const u=new Ht(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new Ht(n,0),o=this.Mr.firstAfterOrEqual(s);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class yT{constructor(e){this.kr=e,this.docs=function(){return new wt(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ee.resolve(s?s.document.mutableCopy():cn.newInvalidDocument(n))}getEntries(e,n){let s=ga();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():cn.newInvalidDocument(o))}),ee.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=ga();const h=n.path,p=new ye(h.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(p);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||K_(q_(v),s)<=0||(o.has(v.key)||Ef(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ce()}qr(e,n){return ee.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new vT(this)}getSize(e){return ee.resolve(this.size)}}class vT extends cT{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),ee.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class bT{constructor(e){this.persistence=e,this.Qr=new si(n=>fm(n),hm),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.$r=0,this.Ur=new vm,this.targetCount=0,this.Kr=mo.Un()}forEachTarget(e,n){return this.Qr.forEach((s,o)=>n(o)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),ee.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new mo(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.zn(n),ee.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Qr.forEach((h,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.Qr.delete(h),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)}),ee.waitFor(u).next(()=>o)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return ee.resolve(s)}addMatchingKeys(e,n,s){return this.Ur.yr(n,s),ee.resolve()}removeMatchingKeys(e,n,s){this.Ur.Sr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Ur.vr(n);return ee.resolve(s)}containsKey(e,n){return ee.resolve(this.Ur.containsKey(n))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class jS{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new vf(0),this.zr=!1,this.zr=!0,this.jr=new mT,this.referenceDelegate=e(this),this.Hr=new bT(this),this.indexManager=new rT,this.remoteDocumentCache=function(s){return new yT(s)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new tT(n),this.Yr=new dT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new pT,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new gT(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){fe("MemoryPersistence","Starting transaction:",e);const o=new wT(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return ee.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class wT extends Y_{constructor(e){super(),this.currentSequenceNumber=e}}class bm{constructor(e){this.persistence=e,this.ti=new vm,this.ni=null}static ri(e){return new bm(e)}get ii(){if(this.ni)return this.ni;throw Ce()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),ee.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),ee.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.ii,s=>{const o=ye.fromPath(s);return this.si(e,o).next(u=>{u||n.removeEntry(o,xe.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return ee.or([()=>ee.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class uf{constructor(e,n){this.persistence=e,this.oi=new si(s=>X_(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=uT(this,n)}static ri(e,n){return new uf(e,n)}Zr(){}Xr(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return ee.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?ee.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,h=>this.ar(e,h,n).next(p=>{p||(s++,u.removeEntry(h,xe.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),ee.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Vc(e.data.value)),n}ar(e,n,s){return ee.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class wm{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(e,n){let s=Me(),o=Me();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new wm(e,n.fromCache,s,o)}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ST{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class kT{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return gx()?8:Q_(px())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.rs(e,n).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ss(e,n,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new ST;return this._s(e,n,h).next(p=>{if(u.result=p,this.Xi)return this.us(e,n,h,p.size)})}).next(()=>u.result)}us(e,n,s,o){return s.documentReadCount<this.es?(no()<=Ue.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",ro(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ee.resolve()):(no()<=Ue.DEBUG&&fe("QueryEngine","Query:",ro(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(no()<=Ue.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",ro(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Rr(n))):ee.resolve())}rs(e,n){if(l0(n))return ee.resolve(null);let s=Rr(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Cp(n,null,"F"),s=Rr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Me(...u);return this.ns.getDocuments(e,h).next(p=>this.indexManager.getMinOffset(e,s).next(m=>{const g=this.cs(n,p);return this.ls(n,g,h,m.readTime)?this.rs(e,Cp(n,null,"F")):this.hs(e,g,n,m)}))})))}ss(e,n,s,o){return l0(n)||o.isEqual(xe.min())?ee.resolve(null):this.ns.getDocuments(e,s).next(u=>{const h=this.cs(n,u);return this.ls(n,h,s,o)?ee.resolve(null):(no()<=Ue.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ro(n)),this.hs(e,h,n,H_(o,Wl)).next(p=>p))})}cs(e,n){let s=new Ut(mS(e));return n.forEach((o,u)=>{Ef(e,u)&&(s=s.add(u))}),s}ls(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,s){return no()<=Ue.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",ro(n)),this.ns.getDocumentsMatchingQuery(e,n,rs.min(),s)}hs(e,n,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Sm="LocalStore",ET=3e8;class CT{constructor(e,n,s,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new wt(Ae),this.Is=new si(u=>fm(u),hm),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hT(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function xT(r,e,n,s){return new CT(r,e,n,s)}async function zS(r,e){const n=_e(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],p=[];let m=Me();for(const g of o){h.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of u){p.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return n.localDocuments.getDocuments(s,m).next(g=>({Rs:g,removedBatchIds:h,addedBatchIds:p}))})})}function _T(r,e){const n=_e(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(h,p,m,g){const v=m.batch,S=v.keys();let k=ee.resolve();return S.forEach(O=>{k=k.next(()=>g.getEntry(p,O)).next(T=>{const L=m.docVersions.get(O);Ge(L!==null),T.version.compareTo(L)<0&&(v.applyToRemoteDocument(T,m),T.isValidDocument()&&(T.setReadTime(m.commitVersion),g.addEntry(T)))})}),k.next(()=>h.mutationQueue.removeMutationBatch(p,v))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(h){let p=Me();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(p=p.add(h.batch.mutations[m].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function US(r){const e=_e(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function TT(r,e){const n=_e(r),s=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const p=[];e.targetChanges.forEach((v,S)=>{const k=o.get(S);if(!k)return;p.push(n.Hr.removeMatchingKeys(u,v.removedDocuments,S).next(()=>n.Hr.addMatchingKeys(u,v.addedDocuments,S)));let O=k.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?O=O.withResumeToken(rn.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):v.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(v.resumeToken,s)),o=o.insert(S,O),function(T,L,U){return T.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=ET?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0}(k,O,v)&&p.push(n.Hr.updateTargetData(u,O))});let m=ga(),g=Me();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))}),p.push(NT(u,h,e.documentUpdates).next(v=>{m=v.Vs,g=v.fs})),!s.isEqual(xe.min())){const v=n.Hr.getLastRemoteSnapshotVersion(u).next(S=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));p.push(v)}return ee.waitFor(p).next(()=>h.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,m,g)).next(()=>m)}).then(u=>(n.Ts=o,u))}function NT(r,e,n){let s=Me(),o=Me();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let h=ga();return n.forEach((p,m)=>{const g=u.get(p);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(p)),m.isNoDocument()&&m.version.isEqual(xe.min())?(e.removeEntry(p,m.readTime),h=h.insert(p,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),h=h.insert(p,m)):fe(Sm,"Ignoring outdated watch update for ",p,". Current version:",g.version," Watch version:",m.version)}),{Vs:h,fs:o}})}function DT(r,e){const n=_e(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=lm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function AT(r,e){const n=_e(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,e).next(u=>u?(o=u,ee.resolve(o)):n.Hr.allocateTargetId(s).next(h=>(o=new Ja(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function Dp(r,e,n){const s=_e(r),o=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Eo(h))throw h;fe(Sm,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function S0(r,e,n){const s=_e(r);let o=xe.min(),u=Me();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,m,g){const v=_e(p),S=v.Is.get(g);return S!==void 0?ee.resolve(v.Ts.get(S)):v.Hr.getTargetData(m,g)}(s,h,Rr(e)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(h,p.targetId).next(m=>{u=m})}).next(()=>s.Ps.getDocumentsMatchingQuery(h,e,n?o:xe.min(),n?u:Me())).next(p=>(IT(s,y2(e),p),{documents:p,gs:u})))}function IT(r,e,n){let s=r.Es.get(e)||xe.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Es.set(e,s)}class k0{constructor(){this.activeTargetIds=E2()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OT{constructor(){this.ho=new k0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new k0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class RT{To(e){}shutdown(){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const E0="ConnectivityMonitor";class C0{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){fe(E0,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){fe(E0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Mc=null;function Ap(){return Mc===null?Mc=function(){return 268435456+Math.round(2147483648*Math.random())}():Mc++,"0x"+Mc.toString(16)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Jd="RestConnection",PT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class MT{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===tf?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,n,s,o,u){const h=Ap(),p=this.bo(e,n.toUriEncodedString());fe(Jd,`Sending RPC '${e}' ${h}:`,p,s);const m={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(m,o,u),this.vo(e,p,m,s).then(g=>(fe(Jd,`Received RPC '${e}' ${h}: `,g),g),g=>{throw co(Jd,`RPC '${e}' ${h} failed with error: `,g,"url: ",p,"request:",s),g})}Co(e,n,s,o,u,h){return this.So(e,n,s,o,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+So}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}bo(e,n){const s=PT[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class LT{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ln="WebChannelConnection";class jT extends MT{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,o){const u=Ap();return new Promise((h,p)=>{const m=new Bw;m.setWithCredentials(!0),m.listenOnce(Ww.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case $c.NO_ERROR:const v=m.getResponseJson();fe(ln,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),h(v);break;case $c.TIMEOUT:fe(ln,`RPC '${e}' ${u} timed out`),p(new he(ne.DEADLINE_EXCEEDED,"Request time out"));break;case $c.HTTP_ERROR:const S=m.getStatus();if(fe(ln,`RPC '${e}' ${u} failed with status:`,S,"response text:",m.getResponseText()),S>0){let k=m.getResponseJson();Array.isArray(k)&&(k=k[0]);const O=k==null?void 0:k.error;if(O&&O.status&&O.message){const T=function(L){const U=L.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(U)>=0?U:ne.UNKNOWN}(O.status);p(new he(T,O.message))}else p(new he(ne.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new he(ne.UNAVAILABLE,"Connection failed."));break;default:Ce()}}finally{fe(ln,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);fe(ln,`RPC '${e}' ${u} sending request:`,o),m.send(n,"POST",g,s,15)})}Wo(e,n,s){const o=Ap(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Kw(),p=qw(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Do(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const v=u.join("");fe(ln,`Creating RPC '${e}' stream ${o}: ${v}`,m);const S=h.createWebChannel(v,m);let k=!1,O=!1;const T=new LT({Fo:U=>{O?fe(ln,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(k||(fe(ln,`Opening RPC '${e}' stream ${o} transport.`),S.open(),k=!0),fe(ln,`RPC '${e}' stream ${o} sending:`,U),S.send(U))},Mo:()=>S.close()}),L=(U,H,X)=>{U.listen(H,ae=>{try{X(ae)}catch(ue){setTimeout(()=>{throw ue},0)}})};return L(S,Ol.EventType.OPEN,()=>{O||(fe(ln,`RPC '${e}' stream ${o} transport opened.`),T.Qo())}),L(S,Ol.EventType.CLOSE,()=>{O||(O=!0,fe(ln,`RPC '${e}' stream ${o} transport closed`),T.Uo())}),L(S,Ol.EventType.ERROR,U=>{O||(O=!0,co(ln,`RPC '${e}' stream ${o} transport errored:`,U),T.Uo(new he(ne.UNAVAILABLE,"The operation could not be completed")))}),L(S,Ol.EventType.MESSAGE,U=>{var H;if(!O){const X=U.data[0];Ge(!!X);const ae=X,ue=(ae==null?void 0:ae.error)||((H=ae[0])===null||H===void 0?void 0:H.error);if(ue){fe(ln,`RPC '${e}' stream ${o} received error:`,ue);const ce=ue.status;let se=function(x){const N=At[x];if(N!==void 0)return _S(N)}(ce),R=ue.message;se===void 0&&(se=ne.INTERNAL,R="Unknown error status: "+ce+" with message "+ue.message),O=!0,T.Uo(new he(se,R)),S.close()}else fe(ln,`RPC '${e}' stream ${o} received:`,X),T.Ko(X)}}),L(p,Hw.STAT_EVENT,U=>{U.stat===yp.PROXY?fe(ln,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===yp.NOPROXY&&fe(ln,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{T.$o()},0),T}}function Xd(){return typeof document<"u"?document:null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Tf(r){return new $2(r,!0)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class FS{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const x0="PersistentStream";class $S{constructor(e,n,s,o,u,h,p,m){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=p,this.listener=m,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new FS(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(ma(n.toString()),ma("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{e(()=>{const o=new he(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return fe(x0,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(fe(x0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zT extends $S{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=W2(this.serializer,e),s=function(o){if(!("targetChange"in o))return xe.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?xe.min():u.readTime?Pr(u.readTime):xe.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=Np(this.serializer),n.addTarget=function(o,u){let h;const p=u.target;if(h=kp(p)?{documents:K2(o,p)}:{query:G2(o,p).ht},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=DS(o,u.resumeToken);const m=xp(o,u.expectedCount);m!==null&&(h.expectedCount=m)}else if(u.snapshotVersion.compareTo(xe.min())>0){h.readTime=lf(o,u.snapshotVersion.toTimestamp());const m=xp(o,u.expectedCount);m!==null&&(h.expectedCount=m)}return h}(this.serializer,e);const s=Q2(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=Np(this.serializer),n.removeTarget=e,this.I_(n)}}class UT extends $S{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=q2(e.writeResults,e.commitTime),s=Pr(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=Np(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>H2(this.serializer,s))};this.I_(n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class FT{}class $T extends FT{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new he(ne.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.So(e,_p(n,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(ne.UNKNOWN,u.toString())})}Co(e,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,p])=>this.connection.Co(e,_p(n,s),o,h,p,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new he(ne.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class VT{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ma(n),this.N_=!1):fe("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ri="RemoteStore";class BT{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(h=>{s.enqueueAndForget(async()=>{ii(this)&&(fe(ri,"Restarting streams for network reachability change."),await async function(p){const m=_e(p);m.W_.add(4),await au(m),m.j_.set("Unknown"),m.W_.delete(4),await Nf(m)}(this))})}),this.j_=new VT(s,o)}}async function Nf(r){if(ii(r))for(const e of r.G_)await e(!0)}async function au(r){for(const e of r.G_)await e(!1)}function VS(r,e){const n=_e(r);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),xm(n)?Cm(n):Co(n).c_()&&Em(n,e))}function km(r,e){const n=_e(r),s=Co(n);n.K_.delete(e),s.c_()&&BS(n,e),n.K_.size===0&&(s.c_()?s.P_():ii(n)&&n.j_.set("Unknown"))}function Em(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Co(r).y_(e)}function BS(r,e){r.H_.Ne(e),Co(r).w_(e)}function Cm(r){r.H_=new j2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.K_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),Co(r).start(),r.j_.B_()}function xm(r){return ii(r)&&!Co(r).u_()&&r.K_.size>0}function ii(r){return _e(r).W_.size===0}function WS(r){r.H_=void 0}async function WT(r){r.j_.set("Online")}async function HT(r){r.K_.forEach((e,n)=>{Em(r,e)})}async function qT(r,e){WS(r),xm(r)?(r.j_.q_(e),Cm(r)):r.j_.set("Unknown")}async function KT(r,e,n){if(r.j_.set("Online"),e instanceof NS&&e.state===2&&e.cause)try{await async function(s,o){const u=o.cause;for(const h of o.targetIds)s.K_.has(h)&&(await s.remoteSyncer.rejectListen(h,u),s.K_.delete(h),s.H_.removeTarget(h))}(r,e)}catch(s){fe(ri,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await cf(r,s)}else if(e instanceof Hc?r.H_.We(e):e instanceof TS?r.H_.Ze(e):r.H_.je(e),!n.isEqual(xe.min()))try{const s=await US(r.localStore);n.compareTo(s)>=0&&await function(o,u){const h=o.H_.ot(u);return h.targetChanges.forEach((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const g=o.K_.get(m);g&&o.K_.set(m,g.withResumeToken(p.resumeToken,u))}}),h.targetMismatches.forEach((p,m)=>{const g=o.K_.get(p);if(!g)return;o.K_.set(p,g.withResumeToken(rn.EMPTY_BYTE_STRING,g.snapshotVersion)),BS(o,p);const v=new Ja(g.target,p,m,g.sequenceNumber);Em(o,v)}),o.remoteSyncer.applyRemoteEvent(h)}(r,n)}catch(s){fe(ri,"Failed to raise snapshot:",s),await cf(r,s)}}async function cf(r,e,n){if(!Eo(e))throw e;r.W_.add(1),await au(r),r.j_.set("Offline"),n||(n=()=>US(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{fe(ri,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await Nf(r)})}function HS(r,e){return e().catch(n=>cf(r,n,e))}async function Df(r){const e=_e(r),n=os(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:lm;for(;GT(e);)try{const o=await DT(e.localStore,s);if(o===null){e.U_.length===0&&n.P_();break}s=o.batchId,YT(e,o)}catch(o){await cf(e,o)}qS(e)&&KS(e)}function GT(r){return ii(r)&&r.U_.length<10}function YT(r,e){r.U_.push(e);const n=os(r);n.c_()&&n.S_&&n.b_(e.mutations)}function qS(r){return ii(r)&&!os(r).u_()&&r.U_.length>0}function KS(r){os(r).start()}async function QT(r){os(r).C_()}async function JT(r){const e=os(r);for(const n of r.U_)e.b_(n.mutations)}async function XT(r,e,n){const s=r.U_.shift(),o=mm.from(s,e,n);await HS(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Df(r)}async function ZT(r,e){e&&os(r).S_&&await async function(n,s){if(function(o){return M2(o)&&o!==ne.ABORTED}(s.code)){const o=n.U_.shift();os(n).h_(),await HS(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,s)),await Df(n)}}(r,e),qS(r)&&KS(r)}async function _0(r,e){const n=_e(r);n.asyncQueue.verifyOperationInProgress(),fe(ri,"RemoteStore received new credentials");const s=ii(n);n.W_.add(3),await au(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Nf(n)}async function eN(r,e){const n=_e(r);e?(n.W_.delete(2),await Nf(n)):e||(n.W_.add(2),await au(n),n.j_.set("Unknown"))}function Co(r){return r.J_||(r.J_=function(e,n,s){const o=_e(e);return o.M_(),new zT(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(r.datastore,r.asyncQueue,{xo:WT.bind(null,r),No:HT.bind(null,r),Lo:qT.bind(null,r),p_:KT.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),xm(r)?Cm(r):r.j_.set("Unknown")):(await r.J_.stop(),WS(r))})),r.J_}function os(r){return r.Y_||(r.Y_=function(e,n,s){const o=_e(e);return o.M_(),new UT(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:QT.bind(null,r),Lo:ZT.bind(null,r),D_:JT.bind(null,r),v_:XT.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await Df(r)):(await r.Y_.stop(),r.U_.length>0&&(fe(ri,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _m{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ha,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,p=new _m(e,n,h,o,u);return p.start(s),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tm(r,e){if(ma("AsyncQueue",`${e}: ${r}`),Eo(r))return new he(ne.UNAVAILABLE,`${e}: ${r}`);throw r}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class uo{static emptySet(e){return new uo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=Rl(),this.sortedSet=new wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof uo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new uo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class T0{constructor(){this.Z_=new wt(ye.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Ce():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class go{constructor(e,n,s,o,u,h,p,m,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=p,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach(p=>{h.push({type:0,doc:p})}),new go(e,n,uo.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tN{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class nN{constructor(){this.queries=N0(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(e,n){const s=_e(e),o=s.queries;s.queries=N0(),o.forEach((u,h)=>{for(const p of h.ta)p.onError(n)})})(this,new he(ne.ABORTED,"Firestore shutting down"))}}function N0(){return new si(r=>pS(r),kf)}async function Nm(r,e){const n=_e(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new tN,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const p=Tm(h,`Initialization of query '${ro(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&Am(n)}async function Dm(r,e){const n=_e(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.ta.indexOf(e);h>=0&&(u.ta.splice(h,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function rN(r,e){const n=_e(r);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const p of h.ta)p.oa(o)&&(s=!0);h.ea=o}}s&&Am(n)}function aN(r,e,n){const s=_e(r),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(e)}function Am(r){r.ia.forEach(e=>{e.next()})}var Ip,D0;(D0=Ip||(Ip={}))._a="default",D0.Cache="cache";class Im{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new go(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=go.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Ip.Cache}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class GS{constructor(e){this.key=e}}class YS{constructor(e){this.key=e}}class sN{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Me(),this.mutatedKeys=Me(),this.ya=mS(e),this.wa=new uo(this.ya)}get Sa(){return this.fa}ba(e,n){const s=n?n.Da:new T0,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,p=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,S)=>{const k=o.get(v),O=Ef(this.query,S)?S:null,T=!!k&&this.mutatedKeys.has(k.key),L=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let U=!1;k&&O?k.data.isEqual(O.data)?T!==L&&(s.track({type:3,doc:O}),U=!0):this.va(k,O)||(s.track({type:2,doc:O}),U=!0,(m&&this.ya(O,m)>0||g&&this.ya(O,g)<0)&&(p=!0)):!k&&O?(s.track({type:0,doc:O}),U=!0):k&&!O&&(s.track({type:1,doc:k}),U=!0,(m||g)&&(p=!0)),U&&(O?(h=h.add(O),u=L?u.add(v):u.delete(v)):(h=h.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{wa:h,Da:s,ls:p,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((v,S)=>function(k,O){const T=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce()}};return T(k)-T(O)}(v.type,S.type)||this.ya(v.doc,S.doc)),this.Ca(s),o=o!=null&&o;const p=n&&!o?this.Fa():[],m=this.pa.size===0&&this.current&&!o?1:0,g=m!==this.ga;return this.ga=m,h.length!==0||g?{snapshot:new go(this.query,e.wa,u,h,e.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:p}:{Ma:p}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new T0,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Me(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new YS(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new GS(s))}),n}Oa(e){this.fa=e.gs,this.pa=Me();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return go.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Om="SyncEngine";class iN{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class oN{constructor(e){this.key=e,this.Ba=!1}}class lN{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new si(p=>pS(p),kf),this.qa=new Map,this.Qa=new Set,this.$a=new wt(ye.comparator),this.Ua=new Map,this.Ka=new vm,this.Wa={},this.Ga=new Map,this.za=mo.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function uN(r,e,n=!0){const s=t1(r);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await QS(s,e,n,!0),o}async function cN(r,e){const n=t1(r);await QS(n,e,!0,!1)}async function QS(r,e,n,s){const o=await AT(r.localStore,Rr(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let p;return s&&(p=await fN(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&VS(r.remoteStore,o),p}async function fN(r,e,n,s,o){r.Ha=(S,k,O)=>async function(T,L,U,H){let X=L.view.ba(U);X.ls&&(X=await S0(T.localStore,L.query,!1).then(({documents:se})=>L.view.ba(se,X)));const ae=H&&H.targetChanges.get(L.targetId),ue=H&&H.targetMismatches.get(L.targetId)!=null,ce=L.view.applyChanges(X,T.isPrimaryClient,ae,ue);return I0(T,L.targetId,ce.Ma),ce.snapshot}(r,S,k,O);const u=await S0(r.localStore,e,!0),h=new sN(e,u.gs),p=h.ba(u.documents),m=ru.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=h.applyChanges(p,r.isPrimaryClient,m);I0(r,n,g.Ma);const v=new iN(e,n,h);return r.ka.set(e,v),r.qa.has(n)?r.qa.get(n).push(e):r.qa.set(n,[e]),g.snapshot}async function hN(r,e,n){const s=_e(r),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(h=>!kf(h,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Dp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&km(s.remoteStore,o.targetId),Op(s,o.targetId)}).catch(ko)):(Op(s,o.targetId),await Dp(s.localStore,o.targetId,!0))}async function dN(r,e){const n=_e(r),s=n.ka.get(e),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),km(n.remoteStore,s.targetId))}async function pN(r,e,n){const s=SN(r);try{const o=await function(u,h){const p=_e(u),m=zt.now(),g=h.reduce((k,O)=>k.add(O.key),Me());let v,S;return p.persistence.runTransaction("Locally write mutations","readwrite",k=>{let O=ga(),T=Me();return p.ds.getEntries(k,g).next(L=>{O=L,O.forEach((U,H)=>{H.isValidDocument()||(T=T.add(U))})}).next(()=>p.localDocuments.getOverlayedDocuments(k,O)).next(L=>{v=L;const U=[];for(const H of h){const X=A2(H,v.get(H.key).overlayedDocument);X!=null&&U.push(new fs(H.key,X,iS(X.value.mapValue),er.exists(!0)))}return p.mutationQueue.addMutationBatch(k,m,U,h)}).next(L=>{S=L;const U=L.applyToLocalDocumentSet(v,T);return p.documentOverlayCache.saveOverlays(k,L.batchId,U)})}).then(()=>({batchId:S.batchId,changes:yS(v)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(u,h,p){let m=u.Wa[u.currentUser.toKey()];m||(m=new wt(Ae)),m=m.insert(h,p),u.Wa[u.currentUser.toKey()]=m}(s,o.batchId,n),await su(s,o.changes),await Df(s.remoteStore)}catch(o){const u=Tm(o,"Failed to persist write");n.reject(u)}}async function JS(r,e){const n=_e(r);try{const s=await TT(n.localStore,e);e.targetChanges.forEach((o,u)=>{const h=n.Ua.get(u);h&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Ba=!0:o.modifiedDocuments.size>0?Ge(h.Ba):o.removedDocuments.size>0&&(Ge(h.Ba),h.Ba=!1))}),await su(n,s,e)}catch(s){await ko(s)}}function A0(r,e,n){const s=_e(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,h)=>{const p=h.view.sa(e);p.snapshot&&o.push(p.snapshot)}),function(u,h){const p=_e(u);p.onlineState=h;let m=!1;p.queries.forEach((g,v)=>{for(const S of v.ta)S.sa(h)&&(m=!0)}),m&&Am(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function mN(r,e,n){const s=_e(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Ua.get(e),u=o&&o.key;if(u){let h=new wt(ye.comparator);h=h.insert(u,cn.newNoDocument(u,xe.min()));const p=Me().add(u),m=new _f(xe.min(),new Map,new wt(Ae),h,p);await JS(s,m),s.$a=s.$a.remove(u),s.Ua.delete(e),Rm(s)}else await Dp(s.localStore,e,!1).then(()=>Op(s,e,n)).catch(ko)}async function gN(r,e){const n=_e(r),s=e.batch.batchId;try{const o=await _T(n.localStore,e);ZS(n,s,null),XS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await su(n,o)}catch(o){await ko(o)}}async function yN(r,e,n){const s=_e(r);try{const o=await function(u,h){const p=_e(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let g;return p.mutationQueue.lookupMutationBatch(m,h).next(v=>(Ge(v!==null),g=v.keys(),p.mutationQueue.removeMutationBatch(m,v))).next(()=>p.mutationQueue.performConsistencyCheck(m)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(m,g,h)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,g)).next(()=>p.localDocuments.getDocuments(m,g))})}(s.localStore,e);ZS(s,e,n),XS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await su(s,o)}catch(o){await ko(o)}}function XS(r,e){(r.Ga.get(e)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(e)}function ZS(r,e,n){const s=_e(r);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function Op(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(e),r.isPrimaryClient&&r.Ka.br(e).forEach(s=>{r.Ka.containsKey(s)||e1(r,s)})}function e1(r,e){r.Qa.delete(e.path.canonicalString());const n=r.$a.get(e);n!==null&&(km(r.remoteStore,n),r.$a=r.$a.remove(e),r.Ua.delete(n),Rm(r))}function I0(r,e,n){for(const s of n)s instanceof GS?(r.Ka.addReference(s.key,e),vN(r,s)):s instanceof YS?(fe(Om,"Document no longer in limbo: "+s.key),r.Ka.removeReference(s.key,e),r.Ka.containsKey(s.key)||e1(r,s.key)):Ce()}function vN(r,e){const n=e.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(fe(Om,"New document in limbo: "+n),r.Qa.add(s),Rm(r))}function Rm(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const n=new ye(ft.fromString(e)),s=r.za.next();r.Ua.set(s,new oN(n)),r.$a=r.$a.insert(n,s),VS(r.remoteStore,new Ja(Rr(Sf(n.path)),s,"TargetPurposeLimboResolution",vf.ae))}}async function su(r,e,n){const s=_e(r),o=[],u=[],h=[];s.ka.isEmpty()||(s.ka.forEach((p,m)=>{h.push(s.Ha(m,e,n).then(g=>{var v;if((g||n)&&s.isPrimaryClient){const S=g?!g.fromCache:(v=n==null?void 0:n.targetChanges.get(m.targetId))===null||v===void 0?void 0:v.current;s.sharedClientState.updateQueryState(m.targetId,S?"current":"not-current")}if(g){o.push(g);const S=wm.Yi(m.targetId,g);u.push(S)}}))}),await Promise.all(h),s.La.p_(o),await async function(p,m){const g=_e(p);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>ee.forEach(m,S=>ee.forEach(S.Hi,k=>g.persistence.referenceDelegate.addReference(v,S.targetId,k)).next(()=>ee.forEach(S.Ji,k=>g.persistence.referenceDelegate.removeReference(v,S.targetId,k)))))}catch(v){if(!Eo(v))throw v;fe(Sm,"Failed to update sequence numbers: "+v)}for(const v of m){const S=v.targetId;if(!v.fromCache){const k=g.Ts.get(S),O=k.snapshotVersion,T=k.withLastLimboFreeSnapshotVersion(O);g.Ts=g.Ts.insert(S,T)}}}(s.localStore,u))}async function bN(r,e){const n=_e(r);if(!n.currentUser.isEqual(e)){fe(Om,"User change. New user:",e.toKey());const s=await zS(n.localStore,e);n.currentUser=e,function(o,u){o.Ga.forEach(h=>{h.forEach(p=>{p.reject(new he(ne.CANCELLED,u))})}),o.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await su(n,s.Rs)}}function wN(r,e){const n=_e(r),s=n.Ua.get(e);if(s&&s.Ba)return Me().add(s.key);{let o=Me();const u=n.qa.get(e);if(!u)return o;for(const h of u){const p=n.ka.get(h);o=o.unionWith(p.view.Sa)}return o}}function t1(r){const e=_e(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=JS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mN.bind(null,e),e.La.p_=rN.bind(null,e.eventManager),e.La.Ja=aN.bind(null,e.eventManager),e}function SN(r){const e=_e(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yN.bind(null,e),e}class ff{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Tf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return xT(this.persistence,new kT,e.initialUser,this.serializer)}Xa(e){return new jS(bm.ri,this.serializer)}Za(e){return new OT}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ff.provider={build:()=>new ff};class kN extends ff{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Ge(this.persistence.referenceDelegate instanceof uf);const s=this.persistence.referenceDelegate.garbageCollector;return new oT(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new jS(s=>uf.ri(s,n),this.serializer)}}class Rp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>A0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=bN.bind(null,this.syncEngine),await eN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new nN}()}createDatastore(e){const n=Tf(e.databaseInfo.databaseId),s=function(o){return new jT(o)}(e.databaseInfo);return function(o,u,h,p){return new $T(o,u,h,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(n,s,o,u,h){return new BT(n,s,o,u,h)}(this.localStore,this.datastore,e.asyncQueue,n=>A0(this.syncEngine,n,0),function(){return C0.D()?new C0:new RT}())}createSyncEngine(e,n){return function(s,o,u,h,p,m,g){const v=new lN(s,o,u,h,p,m);return g&&(v.ja=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const o=_e(s);fe(ri,"RemoteStore shutting down."),o.W_.add(5),await au(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Rp.provider={build:()=>new Rp};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Pm{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ma("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ls="FirestoreClient";class EN{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=un.UNAUTHENTICATED,this.clientId=Qw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{fe(ls,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(fe(ls,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ha;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Tm(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Zd(r,e){r.asyncQueue.verifyOperationInProgress(),fe(ls,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await zS(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function O0(r,e){r.asyncQueue.verifyOperationInProgress();const n=await CN(r);fe(ls,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>_0(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>_0(e.remoteStore,o)),r._onlineComponents=e}async function CN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){fe(ls,"Using user provided OfflineComponentProvider");try{await Zd(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===ne.FAILED_PRECONDITION||s.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;co("Error using user provided cache. Falling back to memory cache: "+n),await Zd(r,new ff)}}else fe(ls,"Using default OfflineComponentProvider"),await Zd(r,new kN(void 0));return r._offlineComponents}async function n1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(fe(ls,"Using user provided OnlineComponentProvider"),await O0(r,r._uninitializedComponentsProvider._online)):(fe(ls,"Using default OnlineComponentProvider"),await O0(r,new Rp))),r._onlineComponents}function xN(r){return n1(r).then(e=>e.syncEngine)}async function hf(r){const e=await n1(r),n=e.eventManager;return n.onListen=uN.bind(null,e.syncEngine),n.onUnlisten=hN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=cN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=dN.bind(null,e.syncEngine),n}function _N(r,e,n={}){const s=new ha;return r.asyncQueue.enqueueAndForget(async()=>function(o,u,h,p,m){const g=new Pm({next:S=>{g.su(),u.enqueueAndForget(()=>Dm(o,v));const k=S.docs.has(h);!k&&S.fromCache?m.reject(new he(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&S.fromCache&&p&&p.source==="server"?m.reject(new he(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(S)},error:S=>m.reject(S)}),v=new Im(Sf(h.path),g,{includeMetadataChanges:!0,Ta:!0});return Nm(o,v)}(await hf(r),r.asyncQueue,e,n,s)),s.promise}function TN(r,e,n={}){const s=new ha;return r.asyncQueue.enqueueAndForget(async()=>function(o,u,h,p,m){const g=new Pm({next:S=>{g.su(),u.enqueueAndForget(()=>Dm(o,v)),S.fromCache&&p.source==="server"?m.reject(new he(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(S)},error:S=>m.reject(S)}),v=new Im(h,g,{includeMetadataChanges:!0,Ta:!0});return Nm(o,v)}(await hf(r),r.asyncQueue,e,n,s)),s.promise}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function r1(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const R0=new Map;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function a1(r,e,n){if(!n)throw new he(ne.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function NN(r,e,n,s){if(e===!0&&s===!0)throw new he(ne.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function P0(r){if(!ye.isDocumentKey(r))throw new he(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function M0(r){if(ye.isDocumentKey(r))throw new he(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Af(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ce()}function xn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new he(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Af(r);throw new he(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const s1="firestore.googleapis.com",L0=!0;class j0{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new he(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=s1,this.ssl=L0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:L0;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=LS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<sT)throw new he(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}NN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=r1((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,s){return n.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class If{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new j0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new j0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new L_;switch(n.type){case"firstParty":return new F_(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new he(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=R0.get(e);n&&(fe("ComponentProvider","Removing Datastore"),R0.delete(e),n.terminate())}(this),Promise.resolve()}}function DN(r,e,n,s={}){var o;const u=(r=xn(r,If))._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),p=`${e}:${n}`;u.host!==s1&&u.host!==p&&co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},u),{host:p,ssl:!1,emulatorOptions:s});if(!Jc(m,h)&&(r._setSettings(m),s.mockUserToken)){let g,v;if(typeof s.mockUserToken=="string")g=s.mockUserToken,v=un.MOCK_USER;else{g=dx(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new he(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new un(S)}r._authCredentials=new j_(new Gw(g,v))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class oi{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new oi(this.firestore,e,this._query)}}class fn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ts(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fn(this.firestore,e,this._key)}}class ts extends oi{constructor(e,n,s){super(e,n,Sf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new ye(e))}withConverter(e){return new ts(this.firestore,e,this._path)}}function yn(r,e,...n){if(r=Mr(r),a1("collection","path",e),r instanceof If){const s=ft.fromString(e,...n);return M0(s),new ts(r,null,s)}{if(!(r instanceof fn||r instanceof ts))throw new he(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ft.fromString(e,...n));return M0(s),new ts(r.firestore,null,s)}}function tr(r,e,...n){if(r=Mr(r),arguments.length===1&&(e=Qw.newId()),a1("doc","path",e),r instanceof If){const s=ft.fromString(e,...n);return P0(s),new fn(r,null,new ye(s))}{if(!(r instanceof fn||r instanceof ts))throw new he(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ft.fromString(e,...n));return P0(s),new fn(r.firestore,r instanceof ts?r.converter:null,new ye(s))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const z0="AsyncQueue";class U0{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new FS(this,"async_queue_retry"),this.Su=()=>{const s=Xd();s&&fe(z0,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const n=Xd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Xd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new ha;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Eo(e))throw e;fe(z0,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),h}(s);throw ma("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=_m.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Ce()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function F0(r){return function(e,n){if(typeof e!="object"||e===null)return!1;const s=e;for(const o of n)if(o in s&&typeof s[o]=="function")return!0;return!1}(r,["next","error","complete"])}class ya extends If{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new U0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new U0(e),this._firestoreClient=void 0,await e}}}function AN(r,e){const n=typeof r=="object"?r:E_(),s=typeof r=="string"?r:tf,o=v_(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=fx("firestore");u&&DN(o,...u)}return o}function Of(r){if(r._terminated)throw new he(ne.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||IN(r),r._firestoreClient}function IN(r){var e,n,s;const o=r._freezeSettings(),u=function(h,p,m,g){return new t2(h,p,m,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,r1(g.experimentalLongPollingOptions),g.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new EN(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(h){const p=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(p),_online:p}}(r._componentsProvider))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class yo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yo(rn.fromBase64String(e))}catch(n){throw new he(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new yo(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Rf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Mm{constructor(e){this._methodName=e}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Lm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ae(this._lat,e._lat)||Ae(this._long,e._long)}}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class jm{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,s){if(n.length!==s.length)return!1;for(let o=0;o<n.length;++o)if(n[o]!==s[o])return!1;return!0}(this._values,e._values)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ON=/^__.*__$/;class RN{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new fs(e,this.data,this.fieldMask,n,this.fieldTransforms):new nu(e,this.data,n,this.fieldTransforms)}}class i1{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new fs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function o1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce()}}class zm{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new zm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Uu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return df(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(o1(this.Lu)&&ON.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class PN{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Tf(e)}ju(e,n,s,o=!1){return new zm({Lu:e,methodName:n,zu:s,path:tn.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pf(r){const e=r._freezeSettings(),n=Tf(r._databaseId);return new PN(r._databaseId,!!e.ignoreUndefinedProperties,n)}function l1(r,e,n,s,o,u={}){const h=r.ju(u.merge||u.mergeFields?2:0,e,n,o);Um("Data must be an object, but it was:",h,s);const p=u1(s,h);let m,g;if(u.merge)m=new Ln(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const v=[];for(const S of u.mergeFields){const k=Pp(e,S,n);if(!h.contains(k))throw new he(ne.INVALID_ARGUMENT,`Field '${k}' is specified in your field mask but missing from your input data.`);f1(v,k)||v.push(k)}m=new Ln(v),g=h.fieldTransforms.filter(S=>m.covers(S.field))}else m=null,g=h.fieldTransforms;return new RN(new Cn(p),m,g)}class Mf extends Mm{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mf}}function MN(r,e,n,s){const o=r.ju(1,e,n);Um("Data must be an object, but it was:",o,s);const u=[],h=Cn.empty();cs(s,(m,g)=>{const v=Fm(e,m,n);g=Mr(g);const S=o.Uu(v);if(g instanceof Mf)u.push(v);else{const k=iu(g,S);k!=null&&(u.push(v),h.set(v,k))}});const p=new Ln(u);return new i1(h,p,o.fieldTransforms)}function LN(r,e,n,s,o,u){const h=r.ju(1,e,n),p=[Pp(e,s,n)],m=[o];if(u.length%2!=0)throw new he(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let k=0;k<u.length;k+=2)p.push(Pp(e,u[k])),m.push(u[k+1]);const g=[],v=Cn.empty();for(let k=p.length-1;k>=0;--k)if(!f1(g,p[k])){const O=p[k];let T=m[k];T=Mr(T);const L=h.Uu(O);if(T instanceof Mf)g.push(O);else{const U=iu(T,L);U!=null&&(g.push(O),v.set(O,U))}}const S=new Ln(g);return new i1(v,S,h.fieldTransforms)}function jN(r,e,n,s=!1){return iu(n,r.ju(s?4:3,e))}function iu(r,e){if(c1(r=Mr(r)))return Um("Unsupported field value:",e,r),u1(r,e);if(r instanceof Mm)return function(n,s){if(!o1(s.Lu))throw s.Wu(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(n,s){const o=[];let u=0;for(const h of n){let p=iu(h,s.Ku(u));p==null&&(p={nullValue:"NULL_VALUE"}),o.push(p),u++}return{arrayValue:{values:o}}}(r,e)}return function(n,s){if((n=Mr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return C2(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=zt.fromDate(n);return{timestampValue:lf(s.serializer,o)}}if(n instanceof zt){const o=new zt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:lf(s.serializer,o)}}if(n instanceof Lm)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof yo)return{bytesValue:DS(s.serializer,n._byteString)};if(n instanceof fn){const o=s.databaseId,u=n.firestore._databaseId;if(!u.isEqual(o))throw s.Wu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ym(n.firestore._databaseId||s.databaseId,n._key.path)}}if(n instanceof jm)return function(o,u){return{mapValue:{fields:{[aS]:{stringValue:sS},[nf]:{arrayValue:{values:o.toArray().map(h=>{if(typeof h!="number")throw u.Wu("VectorValues must only contain numeric values.");return dm(u.serializer,h)})}}}}}}(n,s);throw s.Wu(`Unsupported field value: ${Af(n)}`)}(r,e)}function u1(r,e){const n={};return Xw(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cs(r,(s,o)=>{const u=iu(o,e.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function c1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof zt||r instanceof Lm||r instanceof yo||r instanceof fn||r instanceof Mm||r instanceof jm)}function Um(r,e,n){if(!c1(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const s=Af(n);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function Pp(r,e,n){if((e=Mr(e))instanceof Rf)return e._internalPath;if(typeof e=="string")return Fm(r,e);throw df("Field path arguments must be of type string or ",r,!1,void 0,n)}const zN=new RegExp("[~\\*/\\[\\]]");function Fm(r,e,n){if(e.search(zN)>=0)throw df(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Rf(...e.split("."))._internalPath}catch{throw df(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function df(r,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let m="";return(u||h)&&(m+=" (found",u&&(m+=` in field ${s}`),h&&(m+=` in document ${o}`),m+=")"),new he(ne.INVALID_ARGUMENT,p+r+m)}function f1(r,e){return r.some(n=>n.isEqual(e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class h1{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new UN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field($m("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class UN extends h1{data(){return super.data()}}function $m(r,e){return typeof e=="string"?Fm(r,e):e instanceof Rf?e._internalPath:e._delegate._internalPath}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function d1(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new he(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vm{}class FN extends Vm{}function $N(r,e,...n){let s=[];e instanceof Vm&&s.push(e),s=s.concat(n),function(o){const u=o.filter(p=>p instanceof Bm).length,h=o.filter(p=>p instanceof Lf).length;if(u>1||u>0&&h>0)throw new he(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class Lf extends FN{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Lf(e,n,s)}_apply(e){const n=this._parse(e);return p1(e._query,n),new oi(e.firestore,e.converter,Ep(e._query,n))}_parse(e){const n=Pf(e.firestore);return function(s,o,u,h,p,m,g){let v;if(p.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new he(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){V0(g,m);const S=[];for(const k of g)S.push($0(h,s,k));v={arrayValue:{values:S}}}else v=$0(h,s,g)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||V0(g,m),v=jN(u,o,g,m==="in"||m==="not-in");return It.create(p,m,v)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function VN(r,e,n){const s=e,o=$m("where",r);return Lf._create(o,s,n)}class Bm extends Vm{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Bm(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:cr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,o){let u=s;const h=o.getFlattenedFilters();for(const p of h)p1(u,p),u=Ep(u,p)}(e._query,n),new oi(e.firestore,e.converter,Ep(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function $0(r,e,n){if(typeof(n=Mr(n))=="string"){if(n==="")throw new he(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dS(e)&&n.indexOf("/")!==-1)throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(ft.fromString(n));if(!ye.isDocumentKey(s))throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return n0(r,new ye(s))}if(n instanceof fn)return n0(r,n._key);throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Af(n)}.`)}function V0(r,e){if(!Array.isArray(r)||r.length===0)throw new he(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function p1(r,e){const n=function(s,o){for(const u of s)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null}(r.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new he(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class BN{convertValue(e,n="none"){switch(is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return cs(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[nf].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>_t(h.doubleValue));return new jm(u)}convertGeoPoint(e){return new Lm(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=wf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Hl(e));default:return null}}convertTimestamp(e){const n=as(e);return new zt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ft.fromString(e);Ge(MS(s));const o=new ql(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(n)||ma(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function m1(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ml{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class g1 extends h1{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field($m("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class qc extends g1{data(e={}){return super.data(e)}}class y1{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ml(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new qc(this._firestore,this._userDataWriter,s.key,s,new Ml(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(h=>{const p=new qc(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Ml(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const p=new qc(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Ml(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let m=-1,g=-1;return h.type!==0&&(m=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),g=u.indexOf(h.doc.key)),{type:WN(h.type),doc:p,oldIndex:m,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function WN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Wm(r){r=xn(r,fn);const e=xn(r.firestore,ya);return _N(Of(e),r._key).then(n=>w1(e,r,n))}class Hm extends BN{constructor(e){super(),this.firestore=e}convertBytes(e){return new yo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,n)}}function ns(r){r=xn(r,oi);const e=xn(r.firestore,ya),n=Of(e),s=new Hm(e);return d1(r._query),TN(n,r._query).then(o=>new y1(e,s,r,o))}function HN(r,e,n){r=xn(r,fn);const s=xn(r.firestore,ya),o=m1(r.converter,e,n);return jf(s,[l1(Pf(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,er.none())])}function v1(r,e,n,...s){r=xn(r,fn);const o=xn(r.firestore,ya),u=Pf(o);let h;return h=typeof(e=Mr(e))=="string"||e instanceof Rf?LN(u,"updateDoc",r._key,e,n,s):MN(u,"updateDoc",r._key,e),jf(o,[h.toMutation(r._key,er.exists(!0))])}function qN(r){return jf(xn(r.firestore,ya),[new pm(r._key,er.none())])}function b1(r,e){const n=xn(r.firestore,ya),s=tr(r),o=m1(r.converter,e);return jf(n,[l1(Pf(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,er.exists(!1))]).then(()=>s)}function ca(r,...e){var n,s,o;r=Mr(r);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||F0(e[h])||(u=e[h],h++);const p={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(F0(e[h])){const S=e[h];e[h]=(n=S.next)===null||n===void 0?void 0:n.bind(S),e[h+1]=(s=S.error)===null||s===void 0?void 0:s.bind(S),e[h+2]=(o=S.complete)===null||o===void 0?void 0:o.bind(S)}let m,g,v;if(r instanceof fn)g=xn(r.firestore,ya),v=Sf(r._key.path),m={next:S=>{e[h]&&e[h](w1(g,r,S))},error:e[h+1],complete:e[h+2]};else{const S=xn(r,oi);g=xn(S.firestore,ya),v=S._query;const k=new Hm(g);m={next:O=>{e[h]&&e[h](new y1(g,k,S,O))},error:e[h+1],complete:e[h+2]},d1(r._query)}return function(S,k,O,T){const L=new Pm(T),U=new Im(k,L,O);return S.asyncQueue.enqueueAndForget(async()=>Nm(await hf(S),U)),()=>{L.su(),S.asyncQueue.enqueueAndForget(async()=>Dm(await hf(S),U))}}(Of(g),v,p,m)}function jf(r,e){return function(n,s){const o=new ha;return n.asyncQueue.enqueueAndForget(async()=>pN(await xN(n),s,o)),o.promise}(Of(r),e)}function w1(r,e,n){const s=n.docs.get(e._key),o=new Hm(r);return new g1(r,o,e._key,s,new Ml(n.hasPendingWrites,n.fromCache),e.converter)}(function(r,e=!0){(function(n){So=n})(k_),Zc(new Vl("firestore",(n,{instanceIdentifier:s,options:o})=>{const u=n.getProvider("app").getImmediate(),h=new ya(new z_(n.getProvider("auth-internal")),new $_(u,n.getProvider("app-check-internal")),function(p,m){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new he(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ql(p.options.projectId,m)}(u,s),u);return o=Object.assign({useFetchStreams:e},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),lo(Wb,Hb,r),lo(Wb,Hb,"esm2017")})();const KN={apiKey:"AIzaSyA…",authDomain:"myattendanceproject-45c1b.firebaseapp.com",projectId:"myattendanceproject-45c1b",storageBucket:"myattendanceproject-45c1b.appspot.com",messagingSenderId:"347137303283",appId:"1:347137303283:web:9369753f976dffcf65cd86"},GN=Uw(KN),ut=AN(GN);function YN({onLoginSuccess:r}){const[e,n]=F.useState(""),[s,o]=F.useState(""),[u,h]=F.useState(""),[p,m]=F.useState(!0),g=Zp();F.useEffect(()=>{const S=localStorage.getItem("lastBirthId"),k=localStorage.getItem("lastPin");S&&n(S),k&&o(k)},[]);const v=async()=>{if(h(""),e.trim().length!==6||s.trim().length!==4){h("생년월일 6자리와 전화번호 뒤 4자리를 입력해주세요.");return}try{const S=$N(yn(ut,"students"),VN("birth",">=","")),k=(await ns(S)).docs.find(O=>{var T,L;const U=O.data(),H=(T=U.birth)==null?void 0:T.replace(/[^0-9]/g,""),X=(L=U.parentPhone)==null?void 0:L.replace(/[^0-9]/g,""),ae=(H==null?void 0:H.slice(-6))===e.trim(),ue=(X?X.slice(-4):null)===s.trim();return ae&&ue});if(k){const O=k.data(),T=k.id;localStorage.setItem("studentId",T),localStorage.setItem("studentName",O.name),p?(localStorage.setItem("lastBirthId",e),localStorage.setItem("lastPin",s)):(localStorage.removeItem("lastBirthId"),localStorage.removeItem("lastPin")),await b1(yn(ut,"parentLogins"),{studentName:O.name,loginTime:new Date().toISOString()}),r&&r(),g("/attendance")}else h("아이디 또는 비밀번호가 일치하지 않습니다.")}catch{h("로그인 중 오류가 발생했습니다.")}};return _.jsxs("div",{className:"container",style:{textAlign:"center"},children:[_.jsx("h1",{style:{fontSize:"24px"},children:"학부모 로그인"}),_.jsx("input",{style:{width:"100%",padding:8,margin:"8px 0"},value:e,onChange:S=>{const k=S.target.value.replace(/\D/g,"");n(k),p&&localStorage.setItem("lastBirthId",k)},placeholder:"자녀 생년월일 6자리 (예: 170806)",maxLength:6}),_.jsx("input",{style:{width:"100%",padding:8,margin:"8px 0"},value:s,onChange:S=>{const k=S.target.value.replace(/\D/g,"");o(k),p&&localStorage.setItem("lastPin",k)},placeholder:"전화번호 뒤 4자리",maxLength:4,type:"password"}),_.jsx("div",{style:{margin:"8px 0",textAlign:"left"},children:_.jsxs("label",{children:[_.jsx("input",{type:"checkbox",checked:p,onChange:S=>m(S.target.checked),style:{marginRight:8}}),"자동입력 기억하기"]})}),_.jsx("button",{style:{width:"100%",padding:8,margin:"8px 0"},onClick:v,children:"로그인"}),u&&_.jsx("p",{style:{color:"red"},children:u})]})}function S1(r){var e,n,s="";if(typeof r=="string"||typeof r=="number")s+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(e=0;e<o;e++)r[e]&&(n=S1(r[e]))&&(s&&(s+=" "),s+=n)}else for(n in r)r[n]&&(s&&(s+=" "),s+=n);return s}function zf(){for(var r,e,n=0,s="",o=arguments.length;n<o;n++)(r=arguments[n])&&(e=S1(r))&&(s&&(s+=" "),s+=e);return s}var ep,B0;function QN(){if(B0)return ep;B0=1;const r=(p,m,g,v)=>{if(g==="length"||g==="prototype"||g==="arguments"||g==="caller")return;const S=Object.getOwnPropertyDescriptor(p,g),k=Object.getOwnPropertyDescriptor(m,g);!e(S,k)&&v||Object.defineProperty(p,g,k)},e=function(p,m){return p===void 0||p.configurable||p.writable===m.writable&&p.enumerable===m.enumerable&&p.configurable===m.configurable&&(p.writable||p.value===m.value)},n=(p,m)=>{const g=Object.getPrototypeOf(m);g!==Object.getPrototypeOf(p)&&Object.setPrototypeOf(p,g)},s=(p,m)=>`/* Wrapped ${p}*/
${m}`,o=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),u=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),h=(p,m,g)=>{const v=g===""?"":`with ${g.trim()}() `,S=s.bind(null,v,m.toString());Object.defineProperty(S,"name",u),Object.defineProperty(p,"toString",{...o,value:S})};return ep=(p,m,{ignoreNonConfigurable:g=!1}={})=>{const{name:v}=p;for(const S of Reflect.ownKeys(m))r(p,m,S,g);return n(p,m),h(p,m,v),p},ep}var Kc={exports:{}},W0,H0;function JN(){return H0||(H0=1,W0=()=>{const r={};return r.promise=new Promise((e,n)=>{r.resolve=e,r.reject=n}),r}),W0}var Lc=Kc.exports,q0;function XN(){return q0||(q0=1,function(r,e){var n=Lc&&Lc.__awaiter||function(h,p,m,g){return new(m||(m=Promise))(function(v,S){function k(L){try{T(g.next(L))}catch(U){S(U)}}function O(L){try{T(g.throw(L))}catch(U){S(U)}}function T(L){L.done?v(L.value):new m(function(U){U(L.value)}).then(k,O)}T((g=g.apply(h,p||[])).next())})},s=Lc&&Lc.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(e,"__esModule",{value:!0});const o=s(JN());function u(h,p="maxAge"){let m,g,v;const S=()=>n(this,void 0,void 0,function*(){if(m!==void 0)return;const T=L=>n(this,void 0,void 0,function*(){v=o.default();const U=L[1][p]-Date.now();if(U<=0){h.delete(L[0]),v.resolve();return}return m=L[0],g=setTimeout(()=>{h.delete(L[0]),v&&v.resolve()},U),typeof g.unref=="function"&&g.unref(),v.promise});try{for(const L of h)yield T(L)}catch{}m=void 0}),k=()=>{m=void 0,g!==void 0&&(clearTimeout(g),g=void 0),v!==void 0&&(v.reject(void 0),v=void 0)},O=h.set.bind(h);return h.set=(T,L)=>{h.has(T)&&h.delete(T);const U=O(T,L);return m&&m===T&&k(),S(),U},S(),h}e.default=u,r.exports=u,r.exports.default=u}(Kc,Kc.exports)),Kc.exports}var tp,K0;function ZN(){if(K0)return tp;K0=1;const r=QN(),e=XN(),n=new WeakMap,s=new WeakMap,o=(u,{cacheKey:h,cache:p=new Map,maxAge:m}={})=>{typeof m=="number"&&e(p);const g=function(...v){const S=h?h(v):v[0],k=p.get(S);if(k)return k.data;const O=u.apply(this,v);return p.set(S,{data:O,maxAge:m?Date.now()+m:Number.POSITIVE_INFINITY}),O};return r(g,u,{ignoreNonConfigurable:!0}),s.set(g,p),g};return o.decorator=(u={})=>(h,p,m)=>{const g=h[p];if(typeof g!="function")throw new TypeError("The decorated value must be a function");delete m.value,delete m.writable,m.get=function(){if(!n.has(this)){const v=o(g,u);return n.set(this,v),v}return n.get(this)}},o.clear=u=>{const h=s.get(u);if(!h)throw new TypeError("Can't clear a function that was not memoized!");if(typeof h.clear!="function")throw new TypeError("The cache Map can't be cleared!");h.clear()},tp=o,tp}var eD=ZN();const k1=SE(eD);function tD(r){return typeof r=="string"}function nD(r,e,n){return n.indexOf(r)===e}function rD(r){return r.toLowerCase()===r}function G0(r){return r.indexOf(",")===-1?r:r.split(",")}function Mp(r){if(!r)return r;if(r==="C"||r==="posix"||r==="POSIX")return"en-US";if(r.indexOf(".")!==-1){var e=r.split(".")[0],n=e===void 0?"":e;return Mp(n)}if(r.indexOf("@")!==-1){var s=r.split("@")[0],n=s===void 0?"":s;return Mp(n)}if(r.indexOf("-")===-1||!rD(r))return r;var o=r.split("-"),u=o[0],h=o[1],p=h===void 0?"":h;return"".concat(u,"-").concat(p.toUpperCase())}function aD(r){var e=r===void 0?{}:r,n=e.useFallbackLocale,s=n===void 0?!0:n,o=e.fallbackLocale,u=o===void 0?"en-US":o,h=[];if(typeof navigator<"u"){for(var p=navigator.languages||[],m=[],g=0,v=p;g<v.length;g++){var S=v[g];m=m.concat(G0(S))}var k=navigator.language,O=k&&G0(k);h=h.concat(m,O)}return s&&h.push(u),h.filter(tD).map(Mp).filter(nD)}var sD=k1(aD,{cacheKey:JSON.stringify});function iD(r){return sD(r)[0]||null}var E1=k1(iD,{cacheKey:JSON.stringify});function ba(r,e,n){return function(s,o){o===void 0&&(o=n);var u=r(s)+o;return e(u)}}function ou(r){return function(e){return new Date(r(e).getTime()-1)}}function lu(r,e){return function(n){return[r(n),e(n)]}}function yt(r){if(r instanceof Date)return r.getFullYear();if(typeof r=="number")return r;var e=parseInt(r,10);if(typeof r=="string"&&!isNaN(e))return e;throw new Error("Failed to get year from date: ".concat(r,"."))}function hs(r){if(r instanceof Date)return r.getMonth();throw new Error("Failed to get month from date: ".concat(r,"."))}function Uf(r){if(r instanceof Date)return r.getDate();throw new Error("Failed to get year from date: ".concat(r,"."))}function xo(r){var e=yt(r),n=e+(-e+1)%100,s=new Date;return s.setFullYear(n,0,1),s.setHours(0,0,0,0),s}var oD=ba(yt,xo,-100),C1=ba(yt,xo,100),qm=ou(C1),lD=ba(yt,qm,-100),x1=lu(xo,qm);function ds(r){var e=yt(r),n=e+(-e+1)%10,s=new Date;return s.setFullYear(n,0,1),s.setHours(0,0,0,0),s}var _1=ba(yt,ds,-10),Km=ba(yt,ds,10),Ff=ou(Km),T1=ba(yt,Ff,-10),N1=lu(ds,Ff);function _o(r){var e=yt(r),n=new Date;return n.setFullYear(e,0,1),n.setHours(0,0,0,0),n}var D1=ba(yt,_o,-1),Gm=ba(yt,_o,1),$f=ou(Gm),A1=ba(yt,$f,-1),uD=lu(_o,$f);function Ym(r,e){return function(n,s){s===void 0&&(s=e);var o=yt(n),u=hs(n)+s,h=new Date;return h.setFullYear(o,u,1),h.setHours(0,0,0,0),r(h)}}function li(r){var e=yt(r),n=hs(r),s=new Date;return s.setFullYear(e,n,1),s.setHours(0,0,0,0),s}var I1=Ym(li,-1),Qm=Ym(li,1),uu=ou(Qm),O1=Ym(uu,-1),cD=lu(li,uu);function fD(r,e){return function(n,s){s===void 0&&(s=e);var o=yt(n),u=hs(n),h=Uf(n)+s,p=new Date;return p.setFullYear(o,u,h),p.setHours(0,0,0,0),r(p)}}function cu(r){var e=yt(r),n=hs(r),s=Uf(r),o=new Date;return o.setFullYear(e,n,s),o.setHours(0,0,0,0),o}var hD=fD(cu,1),Jm=ou(hD),dD=lu(cu,Jm);function R1(r){return Uf(uu(r))}var nn={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},pD={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},Xm=[0,1,2,3,4,5,6],np=new Map;function mD(r){return function(e,n){var s=e||E1();np.has(s)||np.set(s,new Map);var o=np.get(s);return o.has(r)||o.set(r,new Intl.DateTimeFormat(s||void 0,r).format),o.get(r)(n)}}function gD(r){var e=new Date(r);return new Date(e.setHours(12))}function ui(r){return function(e,n){return mD(r)(e,gD(n))}}var yD={day:"numeric"},vD={day:"numeric",month:"long",year:"numeric"},bD={month:"long"},wD={month:"long",year:"numeric"},SD={weekday:"short"},kD={weekday:"long"},ED={year:"numeric"},CD=ui(yD),xD=ui(vD),_D=ui(bD),P1=ui(wD),TD=ui(SD),ND=ui(kD),Vf=ui(ED),DD=Xm[0],AD=Xm[5],Y0=Xm[6];function Ql(r,e){e===void 0&&(e=nn.ISO_8601);var n=r.getDay();switch(e){case nn.ISO_8601:return(n+6)%7;case nn.ISLAMIC:return(n+1)%7;case nn.HEBREW:case nn.GREGORY:return n;default:throw new Error("Unsupported calendar type.")}}function ID(r){var e=xo(r);return yt(e)}function OD(r){var e=ds(r);return yt(e)}function Lp(r,e){e===void 0&&(e=nn.ISO_8601);var n=yt(r),s=hs(r),o=r.getDate()-Ql(r,e);return new Date(n,s,o)}function RD(r,e){e===void 0&&(e=nn.ISO_8601);var n=e===nn.GREGORY?nn.GREGORY:nn.ISO_8601,s=Lp(r,e),o=yt(r)+1,u,h;do u=new Date(o,0,n===nn.ISO_8601?4:1),h=Lp(u,e),o-=1;while(r<h);return Math.round((s.getTime()-h.getTime())/(864e5*7))+1}function ti(r,e){switch(r){case"century":return xo(e);case"decade":return ds(e);case"year":return _o(e);case"month":return li(e);case"day":return cu(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function PD(r,e){switch(r){case"century":return oD(e);case"decade":return _1(e);case"year":return D1(e);case"month":return I1(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function M1(r,e){switch(r){case"century":return C1(e);case"decade":return Km(e);case"year":return Gm(e);case"month":return Qm(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function MD(r,e){switch(r){case"decade":return _1(e,-100);case"year":return D1(e,-10);case"month":return I1(e,-12);default:throw new Error("Invalid rangeType: ".concat(r))}}function LD(r,e){switch(r){case"decade":return Km(e,100);case"year":return Gm(e,10);case"month":return Qm(e,12);default:throw new Error("Invalid rangeType: ".concat(r))}}function L1(r,e){switch(r){case"century":return qm(e);case"decade":return Ff(e);case"year":return $f(e);case"month":return uu(e);case"day":return Jm(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function jD(r,e){switch(r){case"century":return lD(e);case"decade":return T1(e);case"year":return A1(e);case"month":return O1(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function zD(r,e){switch(r){case"decade":return T1(e,-100);case"year":return A1(e,-10);case"month":return O1(e,-12);default:throw new Error("Invalid rangeType: ".concat(r))}}function Q0(r,e){switch(r){case"century":return x1(e);case"decade":return N1(e);case"year":return uD(e);case"month":return cD(e);case"day":return dD(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function UD(r,e,n){var s=[e,n].sort(function(o,u){return o.getTime()-u.getTime()});return[ti(r,s[0]),L1(r,s[1])]}function j1(r,e,n){return n.map(function(s){return(e||Vf)(r,s)}).join(" – ")}function FD(r,e,n){return j1(r,e,x1(n))}function z1(r,e,n){return j1(r,e,N1(n))}function $D(r){return r.getDay()===new Date().getDay()}function U1(r,e){e===void 0&&(e=nn.ISO_8601);var n=r.getDay();switch(e){case nn.ISLAMIC:case nn.HEBREW:return n===AD||n===Y0;case nn.ISO_8601:case nn.GREGORY:return n===Y0||n===DD;default:throw new Error("Unsupported calendar type.")}}var Ir="react-calendar__navigation";function VD(r){var e=r.activeStartDate,n=r.drillUp,s=r.formatMonthYear,o=s===void 0?P1:s,u=r.formatYear,h=u===void 0?Vf:u,p=r.locale,m=r.maxDate,g=r.minDate,v=r.navigationAriaLabel,S=v===void 0?"":v,k=r.navigationAriaLive,O=r.navigationLabel,T=r.next2AriaLabel,L=T===void 0?"":T,U=r.next2Label,H=U===void 0?"»":U,X=r.nextAriaLabel,ae=X===void 0?"":X,ue=r.nextLabel,ce=ue===void 0?"›":ue,se=r.prev2AriaLabel,R=se===void 0?"":se,x=r.prev2Label,N=x===void 0?"«":x,P=r.prevAriaLabel,A=P===void 0?"":P,z=r.prevLabel,D=z===void 0?"‹":z,Ye=r.setActiveStartDate,et=r.showDoubleView,G=r.view,le=r.views,pe=le.indexOf(G)>0,be=G!=="century",M=PD(G,e),te=be?MD(G,e):void 0,oe=M1(G,e),re=be?LD(G,e):void 0,me=function(){if(M.getFullYear()<0)return!0;var st=jD(G,e);return g&&g>=st}(),Te=be&&function(){if(te.getFullYear()<0)return!0;var st=zD(G,e);return g&&g>=st}(),ve=m&&m<oe,ht=be&&m&&m<re;function Le(){Ye(M,"prev")}function vn(){Ye(te,"prev2")}function jn(){Ye(oe,"next")}function _n(){Ye(re,"next2")}function zn(st){var Et=function(){switch(G){case"century":return FD(p,h,st);case"decade":return z1(p,h,st);case"year":return h(p,st);case"month":return o(p,st);default:throw new Error("Invalid view: ".concat(G,"."))}}();return O?O({date:st,label:Et,locale:p||E1()||void 0,view:G}):Et}function Un(){var st="".concat(Ir,"__label");return _.jsxs("button",{"aria-label":S,"aria-live":k,className:st,disabled:!pe,onClick:n,style:{flexGrow:1},type:"button",children:[_.jsx("span",{className:"".concat(st,"__labelText ").concat(st,"__labelText--from"),children:zn(e)}),et?_.jsxs(_.Fragment,{children:[_.jsx("span",{className:"".concat(st,"__divider"),children:" – "}),_.jsx("span",{className:"".concat(st,"__labelText ").concat(st,"__labelText--to"),children:zn(oe)})]}):null]})}return _.jsxs("div",{className:Ir,children:[N!==null&&be?_.jsx("button",{"aria-label":R,className:"".concat(Ir,"__arrow ").concat(Ir,"__prev2-button"),disabled:Te,onClick:vn,type:"button",children:N}):null,D!==null&&_.jsx("button",{"aria-label":A,className:"".concat(Ir,"__arrow ").concat(Ir,"__prev-button"),disabled:me,onClick:Le,type:"button",children:D}),Un(),ce!==null&&_.jsx("button",{"aria-label":ae,className:"".concat(Ir,"__arrow ").concat(Ir,"__next-button"),disabled:ve,onClick:jn,type:"button",children:ce}),H!==null&&be?_.jsx("button",{"aria-label":L,className:"".concat(Ir,"__arrow ").concat(Ir,"__next2-button"),disabled:ht,onClick:_n,type:"button",children:H}):null]})}var io=function(){return io=Object.assign||function(r){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},io.apply(this,arguments)},BD=function(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n};function J0(r){return"".concat(r,"%")}function Zm(r){var e=r.children,n=r.className,s=r.count,o=r.direction,u=r.offset,h=r.style,p=r.wrap,m=BD(r,["children","className","count","direction","offset","style","wrap"]);return _.jsx("div",io({className:n,style:io({display:"flex",flexDirection:o,flexWrap:p?"wrap":"nowrap"},h)},m,{children:F.Children.map(e,function(g,v){var S=u&&v===0?J0(100*u/s):null;return F.cloneElement(g,io(io({},g.props),{style:{flexBasis:J0(100/s),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:S,marginInlineStart:S,marginInlineEnd:0}}))})}))}function WD(r,e,n){return e&&e>r?e:n&&n<r?n:r}function Jl(r,e){return e[0]<=r&&e[1]>=r}function HD(r,e){return r[0]<=e[0]&&r[1]>=e[1]}function F1(r,e){return Jl(r[0],e)||Jl(r[1],e)}function X0(r,e,n){var s=F1(e,r),o=[];if(s){o.push(n);var u=Jl(r[0],e),h=Jl(r[1],e);u&&o.push("".concat(n,"Start")),h&&o.push("".concat(n,"End")),u&&h&&o.push("".concat(n,"BothEnds"))}return o}function qD(r){return Array.isArray(r)?r[0]!==null&&r[1]!==null:r!==null}function KD(r){if(!r)throw new Error("args is required");var e=r.value,n=r.date,s=r.hover,o="react-calendar__tile",u=[o];if(!n)return u;var h=new Date,p=function(){if(Array.isArray(n))return n;var O=r.dateType;if(!O)throw new Error("dateType is required when date is not an array of two dates");return Q0(O,n)}();if(Jl(h,p)&&u.push("".concat(o,"--now")),!e||!qD(e))return u;var m=function(){if(Array.isArray(e))return e;var O=r.valueType;if(!O)throw new Error("valueType is required when value is not an array of two dates");return Q0(O,e)}();HD(m,p)?u.push("".concat(o,"--active")):F1(m,p)&&u.push("".concat(o,"--hasActive"));var g=X0(m,p,"".concat(o,"--range"));u.push.apply(u,g);var v=Array.isArray(e)?e:[e];if(s&&v.length===1){var S=s>m[0]?[m[0],s]:[s,m[0]],k=X0(S,p,"".concat(o,"--hover"));u.push.apply(u,k)}return u}function Bf(r){for(var e=r.className,n=r.count,s=n===void 0?3:n,o=r.dateTransform,u=r.dateType,h=r.end,p=r.hover,m=r.offset,g=r.renderTile,v=r.start,S=r.step,k=S===void 0?1:S,O=r.value,T=r.valueType,L=[],U=v;U<=h;U+=k){var H=o(U);L.push(g({classes:KD({date:H,dateType:u,hover:p,value:O,valueType:T}),date:H}))}return _.jsx(Zm,{className:e,count:s,offset:m,wrap:!0,children:L})}function Wf(r){var e=r.activeStartDate,n=r.children,s=r.classes,o=r.date,u=r.formatAbbr,h=r.locale,p=r.maxDate,m=r.maxDateTransform,g=r.minDate,v=r.minDateTransform,S=r.onClick,k=r.onMouseOver,O=r.style,T=r.tileClassName,L=r.tileContent,U=r.tileDisabled,H=r.view,X=F.useMemo(function(){var ue={activeStartDate:e,date:o,view:H};return typeof T=="function"?T(ue):T},[e,o,T,H]),ae=F.useMemo(function(){var ue={activeStartDate:e,date:o,view:H};return typeof L=="function"?L(ue):L},[e,o,L,H]);return _.jsxs("button",{className:zf(s,X),disabled:g&&v(g)>o||p&&m(p)<o||(U==null?void 0:U({activeStartDate:e,date:o,view:H})),onClick:S?function(ue){return S(o,ue)}:void 0,onFocus:k?function(){return k(o)}:void 0,onMouseOver:k?function(){return k(o)}:void 0,style:O,type:"button",children:[u?_.jsx("abbr",{"aria-label":u(h,o),children:n}):n,ae]})}var jp=function(){return jp=Object.assign||function(r){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},jp.apply(this,arguments)},GD=function(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n},Z0="react-calendar__century-view__decades__decade";function YD(r){var e=r.classes,n=e===void 0?[]:e,s=r.currentCentury,o=r.formatYear,u=o===void 0?Vf:o,h=GD(r,["classes","currentCentury","formatYear"]),p=h.date,m=h.locale,g=[];return n&&g.push.apply(g,n),g.push(Z0),xo(p).getFullYear()!==s&&g.push("".concat(Z0,"--neighboringCentury")),_.jsx(Wf,jp({},h,{classes:g,maxDateTransform:Ff,minDateTransform:ds,view:"century",children:z1(m,u,p)}))}var zp=function(){return zp=Object.assign||function(r){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},zp.apply(this,arguments)},ew=function(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n};function QD(r){var e=r.activeStartDate,n=r.hover,s=r.showNeighboringCentury,o=r.value,u=r.valueType,h=ew(r,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),p=ID(e),m=p+(s?119:99);return _.jsx(Bf,{className:"react-calendar__century-view__decades",dateTransform:ds,dateType:"decade",end:m,hover:n,renderTile:function(g){var v=g.date,S=ew(g,["date"]);return _.jsx(YD,zp({},h,S,{activeStartDate:e,currentCentury:p,date:v}),v.getTime())},start:p,step:10,value:o,valueType:u})}var Up=function(){return Up=Object.assign||function(r){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Up.apply(this,arguments)};function JD(r){function e(){return _.jsx(QD,Up({},r))}return _.jsx("div",{className:"react-calendar__century-view",children:e()})}var Fp=function(){return Fp=Object.assign||function(r){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Fp.apply(this,arguments)},XD=function(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n},tw="react-calendar__decade-view__years__year";function ZD(r){var e=r.classes,n=e===void 0?[]:e,s=r.currentDecade,o=r.formatYear,u=o===void 0?Vf:o,h=XD(r,["classes","currentDecade","formatYear"]),p=h.date,m=h.locale,g=[];return n&&g.push.apply(g,n),g.push(tw),ds(p).getFullYear()!==s&&g.push("".concat(tw,"--neighboringDecade")),_.jsx(Wf,Fp({},h,{classes:g,maxDateTransform:$f,minDateTransform:_o,view:"decade",children:u(m,p)}))}var $p=function(){return $p=Object.assign||function(r){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},$p.apply(this,arguments)},nw=function(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n};function eA(r){var e=r.activeStartDate,n=r.hover,s=r.showNeighboringDecade,o=r.value,u=r.valueType,h=nw(r,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),p=OD(e),m=p+(s?11:9);return _.jsx(Bf,{className:"react-calendar__decade-view__years",dateTransform:_o,dateType:"year",end:m,hover:n,renderTile:function(g){var v=g.date,S=nw(g,["date"]);return _.jsx(ZD,$p({},h,S,{activeStartDate:e,currentDecade:p,date:v}),v.getTime())},start:p,value:o,valueType:u})}var Vp=function(){return Vp=Object.assign||function(r){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Vp.apply(this,arguments)};function tA(r){function e(){return _.jsx(eA,Vp({},r))}return _.jsx("div",{className:"react-calendar__decade-view",children:e()})}var Bp=function(){return Bp=Object.assign||function(r){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Bp.apply(this,arguments)},nA=function(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n},rw=function(r,e,n){if(n||arguments.length===2)for(var s=0,o=e.length,u;s<o;s++)(u||!(s in e))&&(u||(u=Array.prototype.slice.call(e,0,s)),u[s]=e[s]);return r.concat(u||Array.prototype.slice.call(e))},rA="react-calendar__year-view__months__month";function aA(r){var e=r.classes,n=e===void 0?[]:e,s=r.formatMonth,o=s===void 0?_D:s,u=r.formatMonthYear,h=u===void 0?P1:u,p=nA(r,["classes","formatMonth","formatMonthYear"]),m=p.date,g=p.locale;return _.jsx(Wf,Bp({},p,{classes:rw(rw([],n,!0),[rA],!1),formatAbbr:h,maxDateTransform:uu,minDateTransform:li,view:"year",children:o(g,m)}))}var Wp=function(){return Wp=Object.assign||function(r){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Wp.apply(this,arguments)},aw=function(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n};function sA(r){var e=r.activeStartDate,n=r.hover,s=r.value,o=r.valueType,u=aw(r,["activeStartDate","hover","value","valueType"]),h=0,p=11,m=yt(e);return _.jsx(Bf,{className:"react-calendar__year-view__months",dateTransform:function(g){var v=new Date;return v.setFullYear(m,g,1),li(v)},dateType:"month",end:p,hover:n,renderTile:function(g){var v=g.date,S=aw(g,["date"]);return _.jsx(aA,Wp({},u,S,{activeStartDate:e,date:v}),v.getTime())},start:h,value:s,valueType:o})}var Hp=function(){return Hp=Object.assign||function(r){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Hp.apply(this,arguments)};function iA(r){function e(){return _.jsx(sA,Hp({},r))}return _.jsx("div",{className:"react-calendar__year-view",children:e()})}var qp=function(){return qp=Object.assign||function(r){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},qp.apply(this,arguments)},oA=function(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n},rp="react-calendar__month-view__days__day";function lA(r){var e=r.calendarType,n=r.classes,s=n===void 0?[]:n,o=r.currentMonthIndex,u=r.formatDay,h=u===void 0?CD:u,p=r.formatLongDate,m=p===void 0?xD:p,g=oA(r,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),v=g.date,S=g.locale,k=[];return s&&k.push.apply(k,s),k.push(rp),U1(v,e)&&k.push("".concat(rp,"--weekend")),v.getMonth()!==o&&k.push("".concat(rp,"--neighboringMonth")),_.jsx(Wf,qp({},g,{classes:k,formatAbbr:m,maxDateTransform:Jm,minDateTransform:cu,view:"month",children:h(S,v)}))}var Kp=function(){return Kp=Object.assign||function(r){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Kp.apply(this,arguments)},sw=function(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n};function uA(r){var e=r.activeStartDate,n=r.calendarType,s=r.hover,o=r.showFixedNumberOfWeeks,u=r.showNeighboringMonth,h=r.value,p=r.valueType,m=sw(r,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),g=yt(e),v=hs(e),S=o||u,k=Ql(e,n),O=S?0:k,T=(S?-k:0)+1,L=function(){if(o)return T+6*7-1;var U=R1(e);if(u){var H=new Date;H.setFullYear(g,v,U),H.setHours(0,0,0,0);var X=7-Ql(H,n)-1;return U+X}return U}();return _.jsx(Bf,{className:"react-calendar__month-view__days",count:7,dateTransform:function(U){var H=new Date;return H.setFullYear(g,v,U),cu(H)},dateType:"day",hover:s,end:L,renderTile:function(U){var H=U.date,X=sw(U,["date"]);return _.jsx(lA,Kp({},m,X,{activeStartDate:e,calendarType:n,currentMonthIndex:v,date:H}),H.getTime())},offset:O,start:T,value:h,valueType:p})}var $1="react-calendar__month-view__weekdays",ap="".concat($1,"__weekday");function cA(r){for(var e=r.calendarType,n=r.formatShortWeekday,s=n===void 0?TD:n,o=r.formatWeekday,u=o===void 0?ND:o,h=r.locale,p=r.onMouseLeave,m=new Date,g=li(m),v=yt(g),S=hs(g),k=[],O=1;O<=7;O+=1){var T=new Date(v,S,O-Ql(g,e)),L=u(h,T);k.push(_.jsx("div",{className:zf(ap,$D(T)&&"".concat(ap,"--current"),U1(T,e)&&"".concat(ap,"--weekend")),children:_.jsx("abbr",{"aria-label":L,title:L,children:s(h,T).replace(".","")})},O))}return _.jsx(Zm,{className:$1,count:7,onFocus:p,onMouseOver:p,children:k})}var pf=function(){return pf=Object.assign||function(r){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},pf.apply(this,arguments)},iw=function(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n},ow="react-calendar__tile";function fA(r){var e=r.onClickWeekNumber,n=r.weekNumber,s=_.jsx("span",{children:n});if(e){var o=r.date,u=r.onClickWeekNumber,h=r.weekNumber,p=iw(r,["date","onClickWeekNumber","weekNumber"]);return _.jsx("button",pf({},p,{className:ow,onClick:function(m){return u(h,o,m)},type:"button",children:s}))}else{r.date,r.onClickWeekNumber,r.weekNumber;var p=iw(r,["date","onClickWeekNumber","weekNumber"]);return _.jsx("div",pf({},p,{className:ow,children:s}))}}function hA(r){var e=r.activeStartDate,n=r.calendarType,s=r.onClickWeekNumber,o=r.onMouseLeave,u=r.showFixedNumberOfWeeks,h=function(){if(u)return 6;var g=R1(e),v=Ql(e,n),S=g-(7-v);return 1+Math.ceil(S/7)}(),p=function(){for(var g=yt(e),v=hs(e),S=Uf(e),k=[],O=0;O<h;O+=1)k.push(Lp(new Date(g,v,S+O*7),n));return k}(),m=p.map(function(g){return RD(g,n)});return _.jsx(Zm,{className:"react-calendar__month-view__weekNumbers",count:h,direction:"column",onFocus:o,onMouseOver:o,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:m.map(function(g,v){var S=p[v];if(!S)throw new Error("date is not defined");return _.jsx(fA,{date:S,onClickWeekNumber:s,weekNumber:g},g)})})}var Gp=function(){return Gp=Object.assign||function(r){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Gp.apply(this,arguments)},dA=function(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n};function pA(r){if(r)for(var e=0,n=Object.entries(pD);e<n.length;e++){var s=n[e],o=s[0],u=s[1];if(u.includes(r))return o}return nn.ISO_8601}function mA(r){var e=r.activeStartDate,n=r.locale,s=r.onMouseLeave,o=r.showFixedNumberOfWeeks,u=r.calendarType,h=u===void 0?pA(n):u,p=r.formatShortWeekday,m=r.formatWeekday,g=r.onClickWeekNumber,v=r.showWeekNumbers,S=dA(r,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function k(){return _.jsx(cA,{calendarType:h,formatShortWeekday:p,formatWeekday:m,locale:n,onMouseLeave:s})}function O(){return v?_.jsx(hA,{activeStartDate:e,calendarType:h,onClickWeekNumber:g,onMouseLeave:s,showFixedNumberOfWeeks:o}):null}function T(){return _.jsx(uA,Gp({calendarType:h},S))}var L="react-calendar__month-view";return _.jsx("div",{className:zf(L,v?"".concat(L,"--weekNumbers"):""),children:_.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[O(),_.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[k(),T()]})]})})}var oo=function(){return oo=Object.assign||function(r){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},oo.apply(this,arguments)},jc="react-calendar",Gc=["century","decade","year","month"],gA=["decade","year","month","day"],eg=new Date;eg.setFullYear(1,0,1);eg.setHours(0,0,0,0);var yA=new Date(864e13);function Ll(r){return r instanceof Date?r:new Date(r)}function V1(r,e){return Gc.slice(Gc.indexOf(r),Gc.indexOf(e)+1)}function vA(r,e,n){var s=V1(e,n);return s.indexOf(r)!==-1}function tg(r,e,n){return r&&vA(r,e,n)?r:n}function B1(r){var e=Gc.indexOf(r);return gA[e]}function bA(r,e){var n=Array.isArray(r)?r[e]:r;if(!n)return null;var s=Ll(n);if(Number.isNaN(s.getTime()))throw new Error("Invalid date: ".concat(r));return s}function W1(r,e){var n=r.value,s=r.minDate,o=r.maxDate,u=r.maxDetail,h=bA(n,e);if(!h)return null;var p=B1(u),m=function(){switch(e){case 0:return ti(p,h);case 1:return L1(p,h);default:throw new Error("Invalid index value: ".concat(e))}}();return WD(m,s,o)}var ng=function(r){return W1(r,0)},H1=function(r){return W1(r,1)},wA=function(r){return[ng,H1].map(function(e){return e(r)})};function q1(r){var e=r.maxDate,n=r.maxDetail,s=r.minDate,o=r.minDetail,u=r.value,h=r.view,p=tg(h,o,n),m=ng({value:u,minDate:s,maxDate:e,maxDetail:n})||new Date;return ti(p,m)}function SA(r){var e=r.activeStartDate,n=r.defaultActiveStartDate,s=r.defaultValue,o=r.defaultView,u=r.maxDate,h=r.maxDetail,p=r.minDate,m=r.minDetail,g=r.value,v=r.view,S=tg(v,m,h),k=e||n;return k?ti(S,k):q1({maxDate:u,maxDetail:h,minDate:p,minDetail:m,value:g||s,view:v||o})}function sp(r){return r&&(!Array.isArray(r)||r.length===1)}function zc(r,e){return r instanceof Date&&e instanceof Date&&r.getTime()===e.getTime()}var kA=F.forwardRef(function(r,e){var n=r.activeStartDate,s=r.allowPartialRange,o=r.calendarType,u=r.className,h=r.defaultActiveStartDate,p=r.defaultValue,m=r.defaultView,g=r.formatDay,v=r.formatLongDate,S=r.formatMonth,k=r.formatMonthYear,O=r.formatShortWeekday,T=r.formatWeekday,L=r.formatYear,U=r.goToRangeStartOnSelect,H=U===void 0?!0:U,X=r.inputRef,ae=r.locale,ue=r.maxDate,ce=ue===void 0?yA:ue,se=r.maxDetail,R=se===void 0?"month":se,x=r.minDate,N=x===void 0?eg:x,P=r.minDetail,A=P===void 0?"century":P,z=r.navigationAriaLabel,D=r.navigationAriaLive,Ye=r.navigationLabel,et=r.next2AriaLabel,G=r.next2Label,le=r.nextAriaLabel,pe=r.nextLabel,be=r.onActiveStartDateChange,M=r.onChange,te=r.onClickDay,oe=r.onClickDecade,re=r.onClickMonth,me=r.onClickWeekNumber,Te=r.onClickYear,ve=r.onDrillDown,ht=r.onDrillUp,Le=r.onViewChange,vn=r.prev2AriaLabel,jn=r.prev2Label,_n=r.prevAriaLabel,zn=r.prevLabel,Un=r.returnValue,st=Un===void 0?"start":Un,Et=r.selectRange,jr=r.showDoubleView,hn=r.showFixedNumberOfWeeks,ci=r.showNavigation,ps=ci===void 0?!0:ci,wa=r.showNeighboringCentury,zr=r.showNeighboringDecade,fi=r.showNeighboringMonth,Sa=fi===void 0?!0:fi,ms=r.showWeekNumbers,hi=r.tileClassName,dt=r.tileContent,We=r.tileDisabled,qt=r.value,Ot=r.view,gs=F.useState(h),To=gs[0],Fn=gs[1],pr=F.useState(null),Ur=pr[0],bn=pr[1],Fr=F.useState(Array.isArray(p)?p.map(function(Ee){return Ee!==null?Ll(Ee):null}):p!=null?Ll(p):null),rr=Fr[0],ys=Fr[1],ka=F.useState(m),vs=ka[0],$n=ka[1],pt=n||To||SA({activeStartDate:n,defaultActiveStartDate:h,defaultValue:p,defaultView:m,maxDate:ce,maxDetail:R,minDate:N,minDetail:A,value:qt,view:Ot}),Tt=function(){var Ee=function(){return Et&&sp(rr)?rr:qt!==void 0?qt:rr}();return Ee?Array.isArray(Ee)?Ee.map(function(Fe){return Fe!==null?Ll(Fe):null}):Ee!==null?Ll(Ee):null:null}(),dn=B1(R),Qe=tg(Ot||vs,A,R),Rt=V1(A,R),Ea=Et?Ur:null,Vn=Rt.indexOf(Qe)<Rt.length-1,bs=Rt.indexOf(Qe)>0,it=F.useCallback(function(Ee){var Fe=function(){switch(st){case"start":return ng;case"end":return H1;case"range":return wA;default:throw new Error("Invalid returnValue.")}}();return Fe({maxDate:ce,maxDetail:R,minDate:N,value:Ee})},[ce,R,N,st]),vt=F.useCallback(function(Ee,Fe){Fn(Ee);var Pe={action:Fe,activeStartDate:Ee,value:Tt,view:Qe};be&&!zc(pt,Ee)&&be(Pe)},[pt,be,Tt,Qe]),ct=F.useCallback(function(Ee,Fe){var Pe=function(){switch(Qe){case"century":return oe;case"decade":return Te;case"year":return re;case"month":return te;default:throw new Error("Invalid view: ".concat(Qe,"."))}}();Pe&&Pe(Ee,Fe)},[te,oe,re,Te,Qe]),an=F.useCallback(function(Ee,Fe){if(Vn){ct(Ee,Fe);var Pe=Rt[Rt.indexOf(Qe)+1];if(!Pe)throw new Error("Attempted to drill down from the lowest view.");Fn(Ee),$n(Pe);var $e={action:"drillDown",activeStartDate:Ee,value:Tt,view:Pe};be&&!zc(pt,Ee)&&be($e),Le&&Qe!==Pe&&Le($e),ve&&ve($e)}},[pt,Vn,be,ct,ve,Le,Tt,Qe,Rt]),$r=F.useCallback(function(){if(bs){var Ee=Rt[Rt.indexOf(Qe)-1];if(!Ee)throw new Error("Attempted to drill up from the highest view.");var Fe=ti(Ee,pt);Fn(Fe),$n(Ee);var Pe={action:"drillUp",activeStartDate:Fe,value:Tt,view:Ee};be&&!zc(pt,Fe)&&be(Pe),Le&&Qe!==Ee&&Le(Pe),ht&&ht(Pe)}},[pt,bs,be,ht,Le,Tt,Qe,Rt]),ws=F.useCallback(function(Ee,Fe){var Pe=Tt;ct(Ee,Fe);var $e=Et&&!sp(Pe),Kt;if(Et)if($e)Kt=ti(dn,Ee);else{if(!Pe)throw new Error("previousValue is required");if(Array.isArray(Pe))throw new Error("previousValue must not be an array");Kt=UD(dn,Pe,Ee)}else Kt=it(Ee);var vr=!Et||$e||H?q1({maxDate:ce,maxDetail:R,minDate:N,minDetail:A,value:Kt,view:Qe}):null;Fe.persist(),Fn(vr),ys(Kt);var Tn={action:"onChange",activeStartDate:vr,value:Kt,view:Qe};if(be&&!zc(pt,vr)&&be(Tn),M)if(Et){var sr=sp(Kt);if(!sr)M(Kt||null,Fe);else if(s){if(Array.isArray(Kt))throw new Error("value must not be an array");M([Kt||null,null],Fe)}}else M(Kt||null,Fe)},[pt,s,it,H,ce,R,N,A,be,M,ct,Et,Tt,dn,Qe]);function mr(Ee){bn(Ee)}function Ca(){bn(null)}F.useImperativeHandle(e,function(){return{activeStartDate:pt,drillDown:an,drillUp:$r,onChange:ws,setActiveStartDate:vt,value:Tt,view:Qe}},[pt,an,$r,ws,vt,Tt,Qe]);function gr(Ee){var Fe=Ee?M1(Qe,pt):ti(Qe,pt),Pe=Vn?an:ws,$e={activeStartDate:Fe,hover:Ea,locale:ae,maxDate:ce,minDate:N,onClick:Pe,onMouseOver:Et?mr:void 0,tileClassName:hi,tileContent:dt,tileDisabled:We,value:Tt,valueType:dn};switch(Qe){case"century":return _.jsx(JD,oo({formatYear:L,showNeighboringCentury:wa},$e));case"decade":return _.jsx(tA,oo({formatYear:L,showNeighboringDecade:zr},$e));case"year":return _.jsx(iA,oo({formatMonth:S,formatMonthYear:k},$e));case"month":return _.jsx(mA,oo({calendarType:o,formatDay:g,formatLongDate:v,formatShortWeekday:O,formatWeekday:T,onClickWeekNumber:me,onMouseLeave:Et?Ca:void 0,showFixedNumberOfWeeks:typeof hn<"u"?hn:jr,showNeighboringMonth:Sa,showWeekNumbers:ms},$e));default:throw new Error("Invalid view: ".concat(Qe,"."))}}function yr(){return ps?_.jsx(VD,{activeStartDate:pt,drillUp:$r,formatMonthYear:k,formatYear:L,locale:ae,maxDate:ce,minDate:N,navigationAriaLabel:z,navigationAriaLive:D,navigationLabel:Ye,next2AriaLabel:et,next2Label:G,nextAriaLabel:le,nextLabel:pe,prev2AriaLabel:vn,prev2Label:jn,prevAriaLabel:_n,prevLabel:zn,setActiveStartDate:vt,showDoubleView:jr,view:Qe,views:Rt}):null}var ar=Array.isArray(Tt)?Tt:[Tt];return _.jsxs("div",{className:zf(jc,Et&&ar.length===1&&"".concat(jc,"--selectRange"),jr&&"".concat(jc,"--doubleView"),u),ref:X,children:[yr(),_.jsxs("div",{className:"".concat(jc,"__viewContainer"),onBlur:Et?Ca:void 0,onMouseLeave:Et?Ca:void 0,children:[gr(),jr?gr(!0):null]})]})});const K1=6048e5,EA=864e5,lw=Symbol.for("constructDateFrom");function us(r,e){return typeof r=="function"?r(e):r&&typeof r=="object"&&lw in r?r[lw](e):r instanceof Date?new r.constructor(e):new Date(e)}function dr(r,e){return us(e||r,r)}let CA={};function Hf(){return CA}function Xl(r,e){var n,s,o,u;const h=Hf(),p=(e==null?void 0:e.weekStartsOn)??((s=(n=e==null?void 0:e.locale)==null?void 0:n.options)==null?void 0:s.weekStartsOn)??h.weekStartsOn??((u=(o=h.locale)==null?void 0:o.options)==null?void 0:u.weekStartsOn)??0,m=dr(r,e==null?void 0:e.in),g=m.getDay(),v=(g<p?7:0)+g-p;return m.setDate(m.getDate()-v),m.setHours(0,0,0,0),m}function mf(r,e){return Xl(r,{...e,weekStartsOn:1})}function G1(r,e){const n=dr(r,void 0),s=n.getFullYear(),o=us(n,0);o.setFullYear(s+1,0,4),o.setHours(0,0,0,0);const u=mf(o),h=us(n,0);h.setFullYear(s,0,4),h.setHours(0,0,0,0);const p=mf(h);return n.getTime()>=u.getTime()?s+1:n.getTime()>=p.getTime()?s:s-1}function uw(r){const e=dr(r),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+r-+n}function xA(r,...e){const n=us.bind(null,e.find(s=>typeof s=="object"));return e.map(n)}function cw(r,e){const n=dr(r,void 0);return n.setHours(0,0,0,0),n}function _A(r,e,n){const[s,o]=xA(void 0,r,e),u=cw(s),h=cw(o),p=+u-uw(u),m=+h-uw(h);return Math.round((p-m)/EA)}function TA(r,e){const n=G1(r),s=us(r,0);return s.setFullYear(n,0,4),s.setHours(0,0,0,0),mf(s)}function NA(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function DA(r){return!(!NA(r)&&typeof r!="number"||isNaN(+dr(r)))}function AA(r,e){const n=dr(r,void 0);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const IA={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},OA=(r,e,n)=>{let s;const o=IA[r];return typeof o=="string"?s=o:e===1?s=o.one:s=o.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function ip(r){return(e={})=>{const n=e.width?String(e.width):r.defaultWidth;return r.formats[n]||r.formats[r.defaultWidth]}}const RA={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},PA={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},MA={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},LA={date:ip({formats:RA,defaultWidth:"full"}),time:ip({formats:PA,defaultWidth:"full"}),dateTime:ip({formats:MA,defaultWidth:"full"})},jA={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},zA=(r,e,n,s)=>jA[r];function Al(r){return(e,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let o;if(s==="formatting"&&r.formattingValues){const h=r.defaultFormattingWidth||r.defaultWidth,p=n!=null&&n.width?String(n.width):h;o=r.formattingValues[p]||r.formattingValues[h]}else{const h=r.defaultWidth,p=n!=null&&n.width?String(n.width):r.defaultWidth;o=r.values[p]||r.values[h]}const u=r.argumentCallback?r.argumentCallback(e):e;return o[u]}}const UA={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},FA={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},$A={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},VA={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},BA={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},WA={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},HA=(r,e)=>{const n=Number(r),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},qA={ordinalNumber:HA,era:Al({values:UA,defaultWidth:"wide"}),quarter:Al({values:FA,defaultWidth:"wide",argumentCallback:r=>r-1}),month:Al({values:$A,defaultWidth:"wide"}),day:Al({values:VA,defaultWidth:"wide"}),dayPeriod:Al({values:BA,defaultWidth:"wide",formattingValues:WA,defaultFormattingWidth:"wide"})};function Il(r){return(e,n={})=>{const s=n.width,o=s&&r.matchPatterns[s]||r.matchPatterns[r.defaultMatchWidth],u=e.match(o);if(!u)return null;const h=u[0],p=s&&r.parsePatterns[s]||r.parsePatterns[r.defaultParseWidth],m=Array.isArray(p)?GA(p,S=>S.test(h)):KA(p,S=>S.test(h));let g;g=r.valueCallback?r.valueCallback(m):m,g=n.valueCallback?n.valueCallback(g):g;const v=e.slice(h.length);return{value:g,rest:v}}}function KA(r,e){for(const n in r)if(Object.prototype.hasOwnProperty.call(r,n)&&e(r[n]))return n}function GA(r,e){for(let n=0;n<r.length;n++)if(e(r[n]))return n}function YA(r){return(e,n={})=>{const s=e.match(r.matchPattern);if(!s)return null;const o=s[0],u=e.match(r.parsePattern);if(!u)return null;let h=r.valueCallback?r.valueCallback(u[0]):u[0];h=n.valueCallback?n.valueCallback(h):h;const p=e.slice(o.length);return{value:h,rest:p}}}const QA=/^(\d+)(th|st|nd|rd)?/i,JA=/\d+/i,XA={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ZA={any:[/^b/i,/^(a|c)/i]},eI={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},tI={any:[/1/i,/2/i,/3/i,/4/i]},nI={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},rI={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},aI={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},sI={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},iI={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},oI={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},lI={ordinalNumber:YA({matchPattern:QA,parsePattern:JA,valueCallback:r=>parseInt(r,10)}),era:Il({matchPatterns:XA,defaultMatchWidth:"wide",parsePatterns:ZA,defaultParseWidth:"any"}),quarter:Il({matchPatterns:eI,defaultMatchWidth:"wide",parsePatterns:tI,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Il({matchPatterns:nI,defaultMatchWidth:"wide",parsePatterns:rI,defaultParseWidth:"any"}),day:Il({matchPatterns:aI,defaultMatchWidth:"wide",parsePatterns:sI,defaultParseWidth:"any"}),dayPeriod:Il({matchPatterns:iI,defaultMatchWidth:"any",parsePatterns:oI,defaultParseWidth:"any"})},uI={code:"en-US",formatDistance:OA,formatLong:LA,formatRelative:zA,localize:qA,match:lI,options:{weekStartsOn:0,firstWeekContainsDate:1}};function cI(r,e){const n=dr(r,void 0);return _A(n,AA(n))+1}function fI(r,e){const n=dr(r,void 0),s=+mf(n)-+TA(n);return Math.round(s/K1)+1}function Y1(r,e){var n,s,o,u;const h=dr(r,e==null?void 0:e.in),p=h.getFullYear(),m=Hf(),g=(e==null?void 0:e.firstWeekContainsDate)??((s=(n=e==null?void 0:e.locale)==null?void 0:n.options)==null?void 0:s.firstWeekContainsDate)??m.firstWeekContainsDate??((u=(o=m.locale)==null?void 0:o.options)==null?void 0:u.firstWeekContainsDate)??1,v=us((e==null?void 0:e.in)||r,0);v.setFullYear(p+1,0,g),v.setHours(0,0,0,0);const S=Xl(v,e),k=us((e==null?void 0:e.in)||r,0);k.setFullYear(p,0,g),k.setHours(0,0,0,0);const O=Xl(k,e);return+h>=+S?p+1:+h>=+O?p:p-1}function hI(r,e){var n,s,o,u;const h=Hf(),p=(e==null?void 0:e.firstWeekContainsDate)??((s=(n=e==null?void 0:e.locale)==null?void 0:n.options)==null?void 0:s.firstWeekContainsDate)??h.firstWeekContainsDate??((u=(o=h.locale)==null?void 0:o.options)==null?void 0:u.firstWeekContainsDate)??1,m=Y1(r,e),g=us((e==null?void 0:e.in)||r,0);return g.setFullYear(m,0,p),g.setHours(0,0,0,0),Xl(g,e)}function dI(r,e){const n=dr(r,e==null?void 0:e.in),s=+Xl(n,e)-+hI(n,e);return Math.round(s/K1)+1}function Ze(r,e){const n=r<0?"-":"",s=Math.abs(r).toString().padStart(e,"0");return n+s}const Ya={y(r,e){const n=r.getFullYear(),s=n>0?n:1-n;return Ze(e==="yy"?s%100:s,e.length)},M(r,e){const n=r.getMonth();return e==="M"?String(n+1):Ze(n+1,2)},d(r,e){return Ze(r.getDate(),e.length)},a(r,e){const n=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(r,e){return Ze(r.getHours()%12||12,e.length)},H(r,e){return Ze(r.getHours(),e.length)},m(r,e){return Ze(r.getMinutes(),e.length)},s(r,e){return Ze(r.getSeconds(),e.length)},S(r,e){const n=e.length,s=r.getMilliseconds(),o=Math.trunc(s*Math.pow(10,n-3));return Ze(o,e.length)}},eo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},fw={G:function(r,e,n){const s=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(r,e,n){if(e==="yo"){const s=r.getFullYear(),o=s>0?s:1-s;return n.ordinalNumber(o,{unit:"year"})}return Ya.y(r,e)},Y:function(r,e,n,s){const o=Y1(r,s),u=o>0?o:1-o;if(e==="YY"){const h=u%100;return Ze(h,2)}return e==="Yo"?n.ordinalNumber(u,{unit:"year"}):Ze(u,e.length)},R:function(r,e){const n=G1(r);return Ze(n,e.length)},u:function(r,e){const n=r.getFullYear();return Ze(n,e.length)},Q:function(r,e,n){const s=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return Ze(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(r,e,n){const s=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return Ze(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(r,e,n){const s=r.getMonth();switch(e){case"M":case"MM":return Ya.M(r,e);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(r,e,n){const s=r.getMonth();switch(e){case"L":return String(s+1);case"LL":return Ze(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(r,e,n,s){const o=dI(r,s);return e==="wo"?n.ordinalNumber(o,{unit:"week"}):Ze(o,e.length)},I:function(r,e,n){const s=fI(r);return e==="Io"?n.ordinalNumber(s,{unit:"week"}):Ze(s,e.length)},d:function(r,e,n){return e==="do"?n.ordinalNumber(r.getDate(),{unit:"date"}):Ya.d(r,e)},D:function(r,e,n){const s=cI(r);return e==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):Ze(s,e.length)},E:function(r,e,n){const s=r.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(r,e,n,s){const o=r.getDay(),u=(o-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(u);case"ee":return Ze(u,2);case"eo":return n.ordinalNumber(u,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(r,e,n,s){const o=r.getDay(),u=(o-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(u);case"cc":return Ze(u,e.length);case"co":return n.ordinalNumber(u,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(r,e,n){const s=r.getDay(),o=s===0?7:s;switch(e){case"i":return String(o);case"ii":return Ze(o,e.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(r,e,n){const s=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(r,e,n){const s=r.getHours();let o;switch(s===12?o=eo.noon:s===0?o=eo.midnight:o=s/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(r,e,n){const s=r.getHours();let o;switch(s>=17?o=eo.evening:s>=12?o=eo.afternoon:s>=4?o=eo.morning:o=eo.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(r,e,n){if(e==="ho"){let s=r.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return Ya.h(r,e)},H:function(r,e,n){return e==="Ho"?n.ordinalNumber(r.getHours(),{unit:"hour"}):Ya.H(r,e)},K:function(r,e,n){const s=r.getHours()%12;return e==="Ko"?n.ordinalNumber(s,{unit:"hour"}):Ze(s,e.length)},k:function(r,e,n){let s=r.getHours();return s===0&&(s=24),e==="ko"?n.ordinalNumber(s,{unit:"hour"}):Ze(s,e.length)},m:function(r,e,n){return e==="mo"?n.ordinalNumber(r.getMinutes(),{unit:"minute"}):Ya.m(r,e)},s:function(r,e,n){return e==="so"?n.ordinalNumber(r.getSeconds(),{unit:"second"}):Ya.s(r,e)},S:function(r,e){return Ya.S(r,e)},X:function(r,e,n){const s=r.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return dw(s);case"XXXX":case"XX":return Zs(s);case"XXXXX":case"XXX":default:return Zs(s,":")}},x:function(r,e,n){const s=r.getTimezoneOffset();switch(e){case"x":return dw(s);case"xxxx":case"xx":return Zs(s);case"xxxxx":case"xxx":default:return Zs(s,":")}},O:function(r,e,n){const s=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+hw(s,":");case"OOOO":default:return"GMT"+Zs(s,":")}},z:function(r,e,n){const s=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+hw(s,":");case"zzzz":default:return"GMT"+Zs(s,":")}},t:function(r,e,n){const s=Math.trunc(+r/1e3);return Ze(s,e.length)},T:function(r,e,n){return Ze(+r,e.length)}};function hw(r,e=""){const n=r>0?"-":"+",s=Math.abs(r),o=Math.trunc(s/60),u=s%60;return u===0?n+String(o):n+String(o)+e+Ze(u,2)}function dw(r,e){return r%60===0?(r>0?"-":"+")+Ze(Math.abs(r)/60,2):Zs(r,e)}function Zs(r,e=""){const n=r>0?"-":"+",s=Math.abs(r),o=Ze(Math.trunc(s/60),2),u=Ze(s%60,2);return n+o+e+u}const pw=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Q1=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},pI=(r,e)=>{const n=r.match(/(P+)(p+)?/)||[],s=n[1],o=n[2];if(!o)return pw(r,e);let u;switch(s){case"P":u=e.dateTime({width:"short"});break;case"PP":u=e.dateTime({width:"medium"});break;case"PPP":u=e.dateTime({width:"long"});break;case"PPPP":default:u=e.dateTime({width:"full"});break}return u.replace("{{date}}",pw(s,e)).replace("{{time}}",Q1(o,e))},mI={p:Q1,P:pI},gI=/^D+$/,yI=/^Y+$/,vI=["D","DD","YY","YYYY"];function bI(r){return gI.test(r)}function wI(r){return yI.test(r)}function SI(r,e,n){const s=kI(r,e,n);if(console.warn(s),vI.includes(r))throw new RangeError(s)}function kI(r,e,n){const s=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const EI=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,CI=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,xI=/^'([^]*?)'?$/,_I=/''/g,TI=/[a-zA-Z]/;function mw(r,e,n){var s,o,u,h;const p=Hf(),m=p.locale??uI,g=p.firstWeekContainsDate??((o=(s=p.locale)==null?void 0:s.options)==null?void 0:o.firstWeekContainsDate)??1,v=p.weekStartsOn??((h=(u=p.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??0,S=dr(r,void 0);if(!DA(S))throw new RangeError("Invalid time value");let k=e.match(CI).map(T=>{const L=T[0];if(L==="p"||L==="P"){const U=mI[L];return U(T,m.formatLong)}return T}).join("").match(EI).map(T=>{if(T==="''")return{isToken:!1,value:"'"};const L=T[0];if(L==="'")return{isToken:!1,value:NI(T)};if(fw[L])return{isToken:!0,value:T};if(L.match(TI))throw new RangeError("Format string contains an unescaped latin alphabet character `"+L+"`");return{isToken:!1,value:T}});m.localize.preprocessor&&(k=m.localize.preprocessor(S,k));const O={firstWeekContainsDate:g,weekStartsOn:v,locale:m};return k.map(T=>{if(!T.isToken)return T.value;const L=T.value;(wI(L)||bI(L))&&SI(L,e,String(r));const U=fw[L[0]];return U(S,L,m.localize,O)}).join("")}function NI(r){const e=r.match(xI);return e?e[1].replace(_I,"'"):r}function gw(r,e,n,s=[]){const o={일:0,월:1,화:2,수:3,목:4,금:5,토:6};let u=[],h=new Date(r);for(;u.length<n;){const p=Object.keys(o).find(g=>o[g]===h.getDay()),m=h.toISOString().slice(0,10);e.includes(p)&&!s.includes(m)&&u.push({date:m,session:u.length+1}),h.setDate(h.getDate()+1)}return u}function DI(){const r=localStorage.getItem("studentId"),[e,n]=F.useState(null),[s,o]=F.useState({}),[u,h]=F.useState([]),[p,m]=F.useState([]),[g,v]=F.useState([]);return F.useEffect(()=>{if(!r)return;const S=ca(tr(ut,"students",r),k=>{if(k.exists()){const O=k.data();n({id:k.id,...O})}});return(async()=>{const k=await ns(yn(ut,"attendance")),O={};k.docs.forEach(T=>{O[T.id]=T.data()}),o(O)})(),(async()=>{const k=await ns(yn(ut,"makeups"));h(k.docs.map(O=>({id:O.id,...O.data()})))})(),(async()=>{const k=await ns(yn(ut,"holidays"));m(k.docs.map(O=>O.data().date))})(),()=>S()},[r]),F.useEffect(()=>{(async()=>{if(!e)return;const S=e.schedules.map(A=>A.day),k=S.length*4,O=k*10,T=[...p];let L=gw(e.startDate,S,O*2,T);const U=new Date(e.startDate).getDay();S.includes(U)&&(!L.length||L[0].date!==e.startDate)?(console.log(`✅ 첫날(${e.startDate})이 요일에 맞아서 추가됨`),L.unshift({date:e.startDate})):console.log(`ℹ️ 첫날(${e.startDate})은 이미 포함됨 or 요일 안 맞음`);const H=L.filter(A=>!T.includes(A.date)).map((A,z)=>{var D;const Ye=(D=s==null?void 0:s[A.date])==null?void 0:D[e.name];let et=(Ye==null?void 0:Ye.status)||"미정",G=(Ye==null?void 0:Ye.time)||"";return{date:A.date,status:et,time:G,originalIndex:z}}),X=u.filter(A=>A.name===e.name),ae=X.filter(A=>A.type==="이월"),ue=X.filter(A=>A.type==="보강"),ce=[];for(const A of ae){const z=H.find(D=>D.date===A.sourceDate);z&&(z.status="이월"),A.date&&ce.push({date:A.date,status:"미정",time:"",originalIndex:-1})}for(const A of ue)A.date&&!H.find(z=>z.date===A.date&&z.status==="보강")&&ce.push({date:A.date,status:"보강",time:"",originalIndex:-1});let se=[...H,...ce].sort((A,z)=>A.date.localeCompare(z.date));const R=new Set(se.map(A=>A.date+"-"+A.originalIndex));let x=se.length>0?se.at(-1).date:e.startDate;for(;!(se.filter(A=>A.status!=="이월").length>=O);){const A=gw(x,S,1,T).find(z=>{const D=z.date+"-"+z.originalIndex;return!R.has(D)});if(!A)break;x=A.date,R.add(A.date+"-"+A.originalIndex),se.push({date:A.date,status:"미정",time:"",originalIndex:A.originalIndex})}const N=[];let P=1;for(let A of se)N.push({...A,session:A.status==="이월"?"X":P++}),P>k&&(P=1);v(N)})()},[e,s,u,p]),e?_.jsxs("div",{className:"container",style:{textAlign:"center",fontSize:"18px"},children:[_.jsx("h1",{style:{fontSize:"24px"},children:"📅 출석 확인 "}),_.jsx(kA,{style:{display:"block",margin:"0 auto"},tileContent:({date:S,view:k})=>{if(k!=="month")return null;const O=mw(S,"yyyy-MM-dd"),T=g.find(X=>X.date===O);let L="";(T==null?void 0:T.status)==="보강"?L="yellowgreen":(T==null?void 0:T.status)==="이월"?L="skyblue":["출석","onTime"].includes(T==null?void 0:T.status)?L="green":["지각","tardy"].includes(T==null?void 0:T.status)?L="#ff9800":(T==null?void 0:T.status)==="결석"?L="#f44336":p.includes(O)&&(L="red");const U=new Date,H=S.toDateString()===U.toDateString();return T?_.jsxs("div",{style:{background:L||(H?"yellow":""),color:"black",borderRadius:4,padding:2,fontSize:12,textAlign:"center"},children:[_.jsx("div",{children:`${T.session}회차`}),T.time&&_.jsx("div",{style:{fontSize:10},children:T.time})]}):H?_.jsx("div",{style:{background:"yellow",borderRadius:4,padding:2,fontSize:12,textAlign:"center"}}):null},onClickDay:S=>{const k=mw(S,"yyyy-MM-dd"),O=g.find(T=>T.date===k);alert(O?`📅 ${k} → ${O.session}회차 (${O.status})`:`📅 ${k} → 출석 기록 없음`)}}),_.jsxs("p",{style:{marginTop:12,fontSize:14},children:["• 색상 설명:",_.jsx("br",{}),"출석(초록), 지각(주황), 결석(빨강), 보강(연두), 이월(하늘), 오늘(노랑)"]})]}):_.jsx("p",{children:"로딩 중…"})}function AI(){var r,e,n;const s=localStorage.getItem("studentId"),o=F.useRef(!1),[u,h]=F.useState(null),[p,m]=F.useState([]),[g,v]=F.useState(0),[S,k]=F.useState({}),[O,T]=F.useState({}),L=["계좌이체","결제선생","카드"];F.useEffect(()=>{if(!s)return;const se=ca(tr(ut,"students",s),R=>{R.exists()&&h({id:R.id,...R.data()})});return()=>se()},[s]),F.useEffect(()=>{if(!s)return;const se=ca(yn(ut,"payments"),R=>{const x={};R.docs.forEach(N=>{const P=N.data();P.studentId===s&&(x[P.routineNumber]=P.paymentMethod)}),k(x)});return()=>se()},[s]),F.useEffect(()=>{if(!s)return;const se=ca(yn(ut,"payment_completed"),R=>{const x={};R.docs.forEach(N=>{const P=N.data();P.studentId===s&&(x[String(P.routineNumber)]=P.paymentComplete)}),T(x)});return()=>se()},[s]),F.useEffect(()=>{if(!s)return;const se=ca(tr(ut,"routines",s),R=>{if(!R.exists())return;const x=R.data().lessons||[];if(m(x),!o.current){o.current=!0;const N=new Date().toISOString().slice(0,10),P={};x.forEach(z=>{const D=z.routineNumber||1;P[D]||(P[D]=[]),P[D].push(z)});const A=Object.values(P).sort((z,D)=>z[0].routineNumber-D[0].routineNumber).findIndex(z=>z.some(D=>D.date===N));v(A>=0?A:0)}});return()=>se()},[s]);const U=async(se,R)=>{k(x=>({...x,[R]:se})),await HN(tr(ut,"payments",`${s}_routine_${R}`),{studentId:s,routineNumber:R,paymentMethod:se,paymentComplete:!1,updatedAt:new Date().toISOString()},{merge:!0})};if(!u)return _.jsx("p",{children:"로딩 중…"});const H={};p.forEach(se=>{const R=se.routineNumber||1;H[R]||(H[R]=[]),H[R].push(se)});const X=Object.values(H).sort((se,R)=>se[0].routineNumber-R[0].routineNumber),ae=X[g]||[],ue=((r=ae[0])==null?void 0:r.routineNumber)??g+1,ce=(n=(e=X[g+1])==null?void 0:e[0])==null?void 0:n.date;return _.jsxs("div",{className:"container-wide",style:{textAlign:"center"},children:[_.jsxs("h1",{style:{fontSize:20,marginBottom:16},children:["👀 ",u.name,"님의 수업 루틴 ",ue,"회차"]}),_.jsx("p",{style:{fontSize:18,marginBottom:16},children:O[ue]?"✅ 결제완료 되었습니다.":"⚠️ 아직 결제전입니다. 수업시작일 전에 결제 부탁드립니다."}),_.jsx("p",{style:{fontSize:16,marginBottom:32},children:ce?_.jsxs(_.Fragment,{children:["➡️ 다음수업시작일: ",ce,_.jsx("br",{}),"다음 루틴 결제방법은 다음을 누르고 선택해주세요."]}):"다음 루틴 시작일 정보를 불러오지 못했습니다."}),_.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:8,marginBottom:24},children:[_.jsx("h3",{style:{margin:0,fontSize:16,fontWeight:"bold"},children:"결제방법선택"}),L.map(se=>_.jsx("button",{onClick:()=>U(se,ue),style:{padding:"4px 8px",background:se==="계좌이체"?"#4caf50":se==="결제선생"?"#2196f3":"#f44336",color:"white",borderRadius:4,minWidth:80},children:se},se))]}),_.jsxs("p",{style:{fontSize:16,marginBottom:16},children:["✅ 현재 선택된 결제방법: ",S[ue]||"없음",S[ue]==="카드"&&_.jsx("span",{style:{display:"block",marginTop:8,fontSize:14,color:"#555"},children:"➡️ 마지막 수업일이나 다음 수업시작일 전에 보내주세요"}),S[ue]==="결제선생"&&_.jsx("span",{style:{display:"block",marginTop:8,fontSize:14,color:"#555"},children:"➡️ 다음수업시작일 5일 전 보내드리겠습니다."}),S[ue]==="계좌이체"&&_.jsx("span",{style:{display:"block",marginTop:8,fontSize:14,color:"#555"},children:"➡️ 3333-31-6107963 카카오뱅크 *교재비계좌와 다릅니다"})]}),_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:24},children:[_.jsx("button",{onClick:()=>v(se=>Math.max(se-1,0)),disabled:g===0,style:{padding:"8px 16px",background:g===0?"#ccc":"#1565c0",color:"white",border:"none",borderRadius:4,cursor:g===0?"default":"pointer"},children:"이전"}),_.jsx("button",{onClick:()=>v(se=>Math.min(se+1,X.length-1)),disabled:g>=X.length-1,style:{padding:"8px 16px",background:g>=X.length-1?"#ccc":"#1565c0",color:"white",border:"none",borderRadius:4,cursor:g>=X.length-1?"default":"pointer"},children:"다음"})]}),_.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{style:{border:"1px solid #ccc",padding:8},children:"회차"}),_.jsx("th",{style:{border:"1px solid #ccc",padding:8},children:"날짜"}),_.jsx("th",{style:{border:"1px solid #ccc",padding:8},children:"상태"}),_.jsx("th",{style:{border:"1px solid #ccc",padding:8},children:"시간"})]})}),_.jsxs("tbody",{children:[ae.map((se,R)=>_.jsxs("tr",{children:[_.jsx("td",{style:{border:"1px solid #ccc",padding:8,textAlign:"center"},children:se.session}),_.jsx("td",{style:{border:"1px solid #ccc",padding:8,textAlign:"center"},children:se.makeupDate?_.jsxs("span",{children:[_.jsx("s",{children:se.date})," ➔ ",se.makeupDate]}):se.date}),_.jsx("td",{style:{border:"1px solid #ccc",padding:8,textAlign:"center"},children:se.status}),_.jsx("td",{style:{border:"1px solid #ccc",padding:8,textAlign:"center"},children:se.time||"-"})]},R)),ae.length===0&&_.jsx("tr",{children:_.jsx("td",{colSpan:4,style:{padding:16,textAlign:"center",color:"#888"},children:"루틴 정보가 없습니다."})})]})]})]})}function II(){const[r,e]=F.useState([]),[n,s]=F.useState(null),[o,u]=F.useState({}),[h,p]=F.useState([]);F.useEffect(()=>{(async()=>{const g=await ns(yn(ut,"notices"));e(g.docs.map(v=>({id:v.id,title:v.data().title,date:v.data().date})))})(),(async()=>{const g=await ns(yn(ut,"holidays")),v=new Date,S=`${v.getFullYear()}-${String(v.getMonth()+1).padStart(2,"0")}`;p(g.docs.map(k=>({id:k.id,...k.data()})).filter(k=>k.date.startsWith(S)))})()},[]);const m=async g=>{if(n===g){s(null);return}if(!o[g]){const v=await Wm(tr(ut,"notices",g));v.exists()&&u(S=>({...S,[g]:v.data().content}))}s(g)};return _.jsxs("div",{className:"container",children:[_.jsxs("div",{style:{background:"#f9f9f9",padding:"12px",borderRadius:"8px",marginBottom:"16px"},children:[_.jsx("h2",{style:{fontSize:"18px",marginBottom:"8px"},children:"📅 이번 달 휴일"}),h.length>0?_.jsx("ul",{style:{listStyle:"none",padding:0},children:h.map(g=>_.jsxs("li",{style:{marginBottom:"4px"},children:[g.name," — ",_.jsx("span",{style:{color:"red"},children:g.date})]},g.id))}):_.jsx("p",{children:"이번 달 휴일이 없습니다."})]}),_.jsx("h1",{style:{fontSize:"24px"},children:"📣 공지사항 📣"}),_.jsxs("ul",{style:{listStyle:"none",padding:0},children:[r.map(g=>_.jsxs("li",{style:{margin:"8px 0",borderBottom:"1px solid #ccc",paddingBottom:8},children:[_.jsxs("div",{onClick:()=>m(g.id),style:{cursor:"pointer",fontWeight:"bold"},children:[g.title," (",g.date,")"]}),n===g.id&&_.jsx("div",{style:{marginTop:8,whiteSpace:"pre-wrap"},children:o[g.id]||"불러오는 중..."})]},g.id)),r.length===0&&_.jsx("p",{children:"등록된 공지사항이 없습니다."})]})]})}function OI(){const{id:r}=oC(),[e,n]=F.useState(null);return F.useEffect(()=>{(async()=>{const s=await Wm(tr(ut,"notices",r));s.exists()&&n({id:s.id,...s.data()})})()},[r]),e?_.jsxs("div",{className:"container",children:[_.jsx("h1",{children:e.title}),_.jsxs("p",{children:[_.jsx("strong",{children:"날짜:"})," ",e.date]}),_.jsx("div",{style:{whiteSpace:"pre-wrap",marginTop:12},children:e.content}),_.jsx("p",{style:{marginTop:24},children:_.jsx(am,{to:"/notices",children:"← 목록으로 돌아가기"})})]}):_.jsx("p",{children:"공지사항을 불러오는 중…"})}function op({children:r,...e}){return _.jsx("table",{...e,style:{width:"100%",borderCollapse:"collapse"},children:r})}function lp({children:r,...e}){return _.jsx("thead",{...e,children:r})}function up({children:r,...e}){return _.jsx("tbody",{...e,children:r})}function to({children:r,...e}){return _.jsx("tr",{...e,children:r})}function Qs({children:r,...e}){return _.jsx("th",{...e,style:{border:"1px solid #ccc",padding:8,textAlign:"center",background:"#f5f5f5"},children:r})}function Js({children:r,...e}){return _.jsx("td",{...e,style:{border:"1px solid #ccc",padding:8,textAlign:"center"},children:r})}function RI(){const r=localStorage.getItem("studentId"),[e,n]=F.useState(null),[s,o]=F.useState([]),[u,h]=F.useState([]);if(F.useEffect(()=>{if(!r)return;const v=ca(tr(ut,"students",r),S=>{if(S.exists()){const k={id:S.id,...S.data()};n(k),k.points&&h(Object.keys(k.points))}});return()=>v()},[r]),F.useEffect(()=>{const v=ca(yn(ut,"students"),S=>{const k=S.docs.map(O=>({id:O.id,...O.data()}));o(k)});return()=>v()},[]),!e)return _.jsx("p",{children:"로딩 중…"});const p=u.reduce((v,S)=>v+(e.points[S]||0),0),m=s.map(v=>({name:v.name,total:u.reduce((S,k)=>{var O;return S+(((O=v.points)==null?void 0:O[k])||0)},0)})).sort((v,S)=>S.total-v.total).slice(0,5),g={};return u.forEach(v=>{g[v]=[...s].map(S=>{var k;return{name:S.name,value:((k=S.points)==null?void 0:k[v])||0}}).sort((S,k)=>k.value-S.value).slice(0,5)}),_.jsxs("div",{className:"container-wide",style:{textAlign:"center"},children:[_.jsx("h1",{style:{fontSize:"24px"},children:"📖 포인트 관리"}),_.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"baseline",gap:16,marginTop:16},children:[_.jsx("h2",{style:{margin:0},children:"💡 내 포인트"}),_.jsxs("span",{style:{fontSize:18,fontWeight:"bold"},children:["총 포인트: ",p,"pt"]})]}),_.jsxs(op,{children:[_.jsx(lp,{children:_.jsx(to,{children:u.map(v=>_.jsx(Qs,{children:v},v))})}),_.jsx(up,{children:_.jsx(to,{children:u.map(v=>_.jsx(Js,{children:e.points[v]||0},v))})})]}),_.jsx("h2",{style:{margin:"32px 0 16px"},children:"🏆 전체 랭킹 (Top 5)"}),_.jsxs(op,{children:[_.jsx(lp,{children:_.jsxs(to,{children:[_.jsx(Qs,{children:"순위"}),_.jsx(Qs,{children:"학생 이름"}),_.jsx(Qs,{children:"총합"})]})}),_.jsx(up,{children:m.map((v,S)=>_.jsxs(to,{children:[_.jsx(Js,{children:S+1}),_.jsx(Js,{children:v.name}),_.jsx(Js,{children:v.total})]},v.name))})]}),_.jsx("h2",{style:{margin:"32px 0 16px"},children:"📊 항목별 랭킹 (Top 5)"}),u.map(v=>_.jsxs("div",{style:{marginBottom:24},children:[_.jsxs("h3",{style:{margin:"8px 0"},children:[v," TOP 5"]}),_.jsxs(op,{children:[_.jsx(lp,{children:_.jsxs(to,{children:[_.jsx(Qs,{children:"순위"}),_.jsx(Qs,{children:"학생 이름"}),_.jsx(Qs,{children:v})]})}),_.jsx(up,{children:g[v].map((S,k)=>_.jsxs(to,{children:[_.jsx(Js,{children:k+1}),_.jsx(Js,{children:S.name}),_.jsx(Js,{children:S.value})]},v+S.name))})]})]},v))]})}function PI(){const[r,e]=F.useState([]),n=localStorage.getItem("studentId");F.useEffect(()=>{const o=yn(ut,"books");return ca(o,u=>{const h=u.docs.map(p=>({id:p.id,...p.data()})).filter(p=>p.studentId===n);e(h)})},[n]);const s=()=>{const o=["이름","학년","책 제목","완료일"],u=r.map(v=>[v.name,v.grade,v.title,v.completedDate]);let h=o.join(",")+`
`;u.forEach(v=>{h+=v.join(",")+`
`});const p=new Blob([h],{type:"text/csv;charset=utf-8;"}),m=URL.createObjectURL(p),g=document.createElement("a");g.href=m,g.download=`문제집목록_${new Date().toISOString().slice(0,10)}.csv`,g.click(),URL.revokeObjectURL(m)};return _.jsxs("div",{className:"container",children:[_.jsx("h1",{style:{fontSize:"24px",marginBottom:"20px"},children:"📚 문제집 관리"}),_.jsx("button",{onClick:s,style:{padding:"8px 16px",backgroundColor:"#007bff",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",marginBottom:"16px"},children:"엑셀 다운로드"}),_.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"20px"},children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{style:{border:"1px solid #ccc",padding:"8px"},children:"이름"}),_.jsx("th",{style:{border:"1px solid #ccc",padding:"8px"},children:"학년"}),_.jsx("th",{style:{border:"1px solid #ccc",padding:"8px"},children:"책 제목"}),_.jsx("th",{style:{border:"1px solid #ccc",padding:"8px"},children:"완료일"})]})}),_.jsx("tbody",{children:r.length>0?r.map(o=>_.jsxs("tr",{children:[_.jsx("td",{style:{border:"1px solid #ccc",padding:"8px"},children:o.name}),_.jsx("td",{style:{border:"1px solid #ccc",padding:"8px"},children:o.grade}),_.jsx("td",{style:{border:"1px solid #ccc",padding:"8px"},children:o.title}),_.jsx("td",{style:{border:"1px solid #ccc",padding:"8px"},children:o.completedDate})]},o.id)):_.jsx("tr",{children:_.jsx("td",{colSpan:"4",style:{border:"1px solid #ccc",padding:"8px",textAlign:"center"},children:"등록된 데이터가 없습니다."})})})]})]})}function MI(){const[r,e]=F.useState([]),[n,s]=F.useState({}),[o,u]=F.useState(null),[h,p]=F.useState(""),m=localStorage.getItem("studentId");F.useEffect(()=>{const k=yn(ut,"comments");return ca(k,O=>{const T=O.docs.map(L=>({id:L.id,...L.data()})).filter(L=>L.studentId===m);e(T.sort((L,U)=>(U.createdAt||"").localeCompare(L.createdAt||"")))})},[m]);const g=async k=>{var O;const T=(O=n[k])==null?void 0:O.trim();if(!T)return alert("답변을 입력해주세요!");const L=await Wm(tr(ut,"students",m)),U=L.exists()?L.data().name:"이름없음";await b1(yn(ut,"comments"),{studentId:m,name:U,comment:`답변:${T}`,date:new Date().toISOString().slice(0,10),createdAt:new Date().toISOString(),parentId:k}),s(H=>({...H,[k]:""})),alert("답변이 저장되었습니다!")},v=async k=>{window.confirm("정말 이 답변을 삭제하시겠습니까?")&&await qN(tr(ut,"comments",k))},S=async k=>{if(!h.trim())return alert("수정할 답변을 입력하세요!");await v1(tr(ut,"comments",k),{comment:`답변:${h}`}),u(null),p("")};return _.jsxs("div",{className:"container",style:{textAlign:"center",marginTop:"40px"},children:[_.jsx("h2",{style:{fontSize:"20px",marginBottom:"16px"},children:"📝 저장된 코멘트"}),_.jsxs("ul",{style:{listStyle:"none",padding:0,textAlign:"left"},children:[r.filter(k=>!k.comment.startsWith("답변:")).map(k=>{var O;const T=r.filter(L=>L.parentId===k.id);return _.jsxs("li",{style:{marginBottom:16,borderBottom:"1px solid #eee",paddingBottom:8},children:[_.jsxs("div",{children:[k.comment," ",_.jsxs("span",{style:{color:"#888",fontSize:"12px"},children:["(",k.date,")"]})]}),_.jsxs("div",{style:{fontSize:"12px",color:"#aaa"},children:["저장시간: ",(O=k.createdAt)==null?void 0:O.slice(0,19).replace("T"," ")]}),T.map(L=>_.jsx("div",{style:{marginTop:4,marginLeft:10,background:"#f8f8f8",padding:"4px 8px",borderRadius:4},children:o===L.id?_.jsxs(_.Fragment,{children:[_.jsx("input",{value:h,onChange:U=>p(U.target.value),style:{width:"60%",padding:4}}),_.jsx("button",{onClick:()=>S(L.id),style:{marginLeft:8},children:"저장"}),_.jsx("button",{onClick:()=>u(null),style:{marginLeft:4},children:"취소"})]}):_.jsxs(_.Fragment,{children:[_.jsxs("div",{style:{fontSize:"13px",color:"#333"},children:["💬 ",L.comment.replace("답변:","")]}),_.jsxs("div",{style:{marginTop:4},children:[_.jsx("button",{onClick:()=>{u(L.id),p(L.comment.replace("답변:",""))},style:{marginRight:6},children:"수정"}),_.jsx("button",{onClick:()=>v(L.id),children:"삭제"})]})]})},L.id)),_.jsxs("div",{style:{marginTop:8},children:[_.jsx("input",{placeholder:"답변 입력",value:n[k.id]||"",onChange:L=>s(U=>({...U,[k.id]:L.target.value})),style:{width:"70%",padding:4}}),_.jsx("button",{onClick:()=>g(k.id),style:{marginLeft:8,padding:"4px 12px"},children:"저장"})]})]},k.id)}),r.filter(k=>!k.comment.startsWith("답변:")).length===0&&_.jsx("li",{style:{color:"#888"},children:"등록된 코멘트가 없습니다."})]})]})}function LI(){const[r,e]=F.useState("comments");return _.jsxs("div",{className:"container",style:{textAlign:"center",marginTop:"40px"},children:[_.jsx("h1",{style:{fontSize:"24px",marginBottom:"20px"},children:"📚 내 아이 수업 현황"}),_.jsxs("div",{style:{marginBottom:"16px"},children:[_.jsx("button",{onClick:()=>e("comments"),style:{padding:"8px 16px",marginRight:"8px",backgroundColor:r==="comments"?"#007bff":"#f0f0f0",color:r==="comments"?"#fff":"#333",border:"none",borderRadius:"4px",cursor:"pointer"},children:"코멘트"}),_.jsx("button",{onClick:()=>e("books"),style:{padding:"8px 16px",marginRight:"8px",backgroundColor:r==="books"?"#007bff":"#f0f0f0",color:r==="books"?"#fff":"#333",border:"none",borderRadius:"4px",cursor:"pointer"},children:"문제집"}),_.jsx("button",{onClick:()=>e("points"),style:{padding:"8px 16px",backgroundColor:r==="points"?"#007bff":"#f0f0f0",color:r==="points"?"#fff":"#333",border:"none",borderRadius:"4px",cursor:"pointer"},children:"포인트"})]}),r==="comments"&&_.jsx(MI,{}),r==="books"&&_.jsx(PI,{}),r==="points"&&_.jsx(RI,{})]})}function jI(){return _.jsx(qC,{children:_.jsx(zI,{})})}function zI(){const[r,e]=F.useState(!!localStorage.getItem("studentId")),[n,s]=F.useState(!1),[o,u]=F.useState(""),h=va();F.useEffect(()=>{const v=()=>{e(!!localStorage.getItem("studentId"))};return window.addEventListener("storage",v),()=>{window.removeEventListener("storage",v)}},[]),F.useEffect(()=>{e(!!localStorage.getItem("studentId"))},[h]),F.useEffect(()=>{const v=localStorage.getItem("studentId");v&&(async()=>{const S=new Date,k=new Date;k.setDate(S.getDate()-3);const O=await ns(yn(ut,"comments")),T=await ns(yn(ut,"books")),L=O.docs.some(H=>{const X=H.data();return X.studentId===v&&new Date(X.createdAt||X.date)>=k}),U=T.docs.some(H=>{const X=H.data();return X.studentId===v&&new Date(X.createdAt||X.completedDate)>=k});g(L||U)})()},[]),F.useEffect(()=>{let v;const S=()=>{clearTimeout(v),v=setTimeout(()=>{localStorage.clear(),e(!1),window.location.hash="#/login",alert("1시간 동안 활동이 없어 자동 로그아웃되었습니다.")},36e5)};if(r){const k=["mousemove","keydown","click","scroll","touchstart"];return k.forEach(O=>window.addEventListener(O,S)),S(),()=>{clearTimeout(v),k.forEach(O=>window.removeEventListener(O,S))}}},[r]);async function p(){const v=localStorage.getItem("studentId");if(!v||o.length!==4){alert("PIN은 4자리 숫자로 입력해야 합니다.");return}try{await v1(tr(ut,"students",v),{pin:o}),alert("PIN이 성공적으로 변경되었습니다."),s(!1),u("")}catch(S){console.error(S),alert("PIN 변경 중 오류가 발생했습니다.")}}const[m,g]=F.useState(!1);return _.jsxs("div",{children:[r&&_.jsxs("nav",{style:{position:"sticky",top:0,backgroundColor:"#fff",padding:"8px 0",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",zIndex:1e3,textAlign:"center"},children:[["/attendance","/payment","/notices","/myclass"].map(v=>_.jsx(Aw,{to:v,style:({isActive:S})=>({margin:"0 8px",padding:"6px 12px",borderRadius:4,textDecoration:"none",fontWeight:S?"bold":"normal",color:S?"#fff":"#333",backgroundColor:S?"#007bff":"transparent",position:"relative",display:"inline-block"}),children:{"/attendance":"출석","/payment":"결제","/notices":"공지사항","/myclass":_.jsxs(_.Fragment,{children:["내아이수업현황",m&&_.jsx("span",{className:"pulse wiggle",style:{position:"absolute",top:-8,right:-12,backgroundColor:"red",color:"white",borderRadius:"12px",padding:"2px 6px",fontSize:"10px",fontWeight:"bold",fontFamily:"'Segoe UI', 'Apple SD Gothic Neo', sans-serif"},children:"🔥 새글"})]})}[v]},v)),_.jsx("button",{onClick:()=>s(!0),style:{marginLeft:20,padding:"6px 12px",border:"none",borderRadius:4,backgroundColor:"#f0f0f0",cursor:"pointer"},children:"PIN 변경"}),_.jsx("button",{onClick:()=>{localStorage.clear(),e(!1),window.location.hash="#/login"},style:{marginLeft:8,padding:"6px 12px",border:"none",borderRadius:4,backgroundColor:"#f0f0f0",cursor:"pointer"},children:"로그아웃"}),n&&_.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center"},children:_.jsxs("div",{style:{background:"#fff",padding:20,borderRadius:8,width:300},children:[_.jsx("h2",{children:"PIN 변경"}),_.jsx("input",{type:"text",maxLength:4,value:o,onChange:v=>u(v.target.value.replace(/\D/g,"")),placeholder:"새 PIN (4자리)",style:{width:"100%",padding:8,margin:"12px 0"}}),_.jsxs("div",{style:{textAlign:"right"},children:[_.jsx("button",{onClick:()=>s(!1),style:{marginRight:8},children:"취소"}),_.jsx("button",{onClick:p,children:"변경"})]})]})})]}),_.jsxs(kC,{children:[_.jsx(Qa,{path:"/login",element:_.jsx(YN,{onLoginSuccess:()=>e(!0)})}),_.jsx(Qa,{path:"/",element:r?_.jsx(Ys,{to:"/notices",replace:!0}):_.jsx(Ys,{to:"/login",replace:!0})}),_.jsx(Qa,{path:"/attendance",element:r?_.jsx(DI,{}):_.jsx(Ys,{to:"/login",replace:!0})}),_.jsx(Qa,{path:"/payment",element:r?_.jsx(AI,{}):_.jsx(Ys,{to:"/login",replace:!0})}),_.jsx(Qa,{path:"/notices",element:r?_.jsx(II,{}):_.jsx(Ys,{to:"/login",replace:!0})}),_.jsx(Qa,{path:"/notices/:id",element:r?_.jsx(OI,{}):_.jsx(Ys,{to:"/login",replace:!0})}),_.jsx(Qa,{path:"/myclass",element:r?_.jsx(LI,{}):_.jsx(Ys,{to:"/login",replace:!0})})]})]})}IE.createRoot(document.getElementById("root")).render(_.jsx(F.StrictMode,{children:_.jsx(jI,{})}));
