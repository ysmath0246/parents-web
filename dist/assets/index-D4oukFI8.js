(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function cS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var kd={exports:{}},So={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u_;function fS(){if(u_)return So;u_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,l,u){var h=null;if(u!==void 0&&(h=""+u),l.key!==void 0&&(h=""+l.key),"key"in l){u={};for(var m in l)m!=="key"&&(u[m]=l[m])}else u=l;return l=u.ref,{$$typeof:r,type:i,key:h,ref:l!==void 0?l:null,props:u}}return So.Fragment=t,So.jsx=n,So.jsxs=n,So}var c_;function hS(){return c_||(c_=1,kd.exports=fS()),kd.exports}var B=hS(),Ud={exports:{}},It={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f_;function dS(){if(f_)return It;f_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.iterator;function w(I){return I===null||typeof I!="object"?null:(I=b&&I[b]||I["@@iterator"],typeof I=="function"?I:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,k={};function L(I,Z,ot){this.props=I,this.context=Z,this.refs=k,this.updater=ot||D}L.prototype.isReactComponent={},L.prototype.setState=function(I,Z){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,Z,"setState")},L.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function K(){}K.prototype=L.prototype;function rt(I,Z,ot){this.props=I,this.context=Z,this.refs=k,this.updater=ot||D}var nt=rt.prototype=new K;nt.constructor=rt,R(nt,L.prototype),nt.isPureReactComponent=!0;var it=Array.isArray,ut={H:null,A:null,T:null,S:null,V:null},gt=Object.prototype.hasOwnProperty;function M(I,Z,ot,at,yt,xt){return ot=xt.ref,{$$typeof:r,type:I,key:Z,ref:ot!==void 0?ot:null,props:xt}}function A(I,Z){return M(I.type,Z,void 0,void 0,void 0,I.props)}function C(I){return typeof I=="object"&&I!==null&&I.$$typeof===r}function N(I){var Z={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(ot){return Z[ot]})}var P=/\/+/g;function U(I,Z){return typeof I=="object"&&I!==null&&I.key!=null?N(""+I.key):Z.toString(36)}function x(){}function dt(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(x,x):(I.status="pending",I.then(function(Z){I.status==="pending"&&(I.status="fulfilled",I.value=Z)},function(Z){I.status==="pending"&&(I.status="rejected",I.reason=Z)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function Dt(I,Z,ot,at,yt){var xt=typeof I;(xt==="undefined"||xt==="boolean")&&(I=null);var _t=!1;if(I===null)_t=!0;else switch(xt){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(I.$$typeof){case r:case t:_t=!0;break;case _:return _t=I._init,Dt(_t(I._payload),Z,ot,at,yt)}}if(_t)return yt=yt(I),_t=at===""?"."+U(I,0):at,it(yt)?(ot="",_t!=null&&(ot=_t.replace(P,"$&/")+"/"),Dt(yt,Z,ot,"",function(Ie){return Ie})):yt!=null&&(C(yt)&&(yt=A(yt,ot+(yt.key==null||I&&I.key===yt.key?"":(""+yt.key).replace(P,"$&/")+"/")+_t)),Z.push(yt)),1;_t=0;var ce=at===""?".":at+":";if(it(I))for(var Ft=0;Ft<I.length;Ft++)at=I[Ft],xt=ce+U(at,Ft),_t+=Dt(at,Z,ot,xt,yt);else if(Ft=w(I),typeof Ft=="function")for(I=Ft.call(I),Ft=0;!(at=I.next()).done;)at=at.value,xt=ce+U(at,Ft++),_t+=Dt(at,Z,ot,xt,yt);else if(xt==="object"){if(typeof I.then=="function")return Dt(dt(I),Z,ot,at,yt);throw Z=String(I),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return _t}function G(I,Z,ot){if(I==null)return I;var at=[],yt=0;return Dt(I,at,"","",function(xt){return Z.call(ot,xt,yt++)}),at}function st(I){if(I._status===-1){var Z=I._result;Z=Z(),Z.then(function(ot){(I._status===0||I._status===-1)&&(I._status=1,I._result=ot)},function(ot){(I._status===0||I._status===-1)&&(I._status=2,I._result=ot)}),I._status===-1&&(I._status=0,I._result=Z)}if(I._status===1)return I._result.default;throw I._result}var mt=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function Ct(){}return It.Children={map:G,forEach:function(I,Z,ot){G(I,function(){Z.apply(this,arguments)},ot)},count:function(I){var Z=0;return G(I,function(){Z++}),Z},toArray:function(I){return G(I,function(Z){return Z})||[]},only:function(I){if(!C(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},It.Component=L,It.Fragment=n,It.Profiler=l,It.PureComponent=rt,It.StrictMode=i,It.Suspense=g,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ut,It.__COMPILER_RUNTIME={__proto__:null,c:function(I){return ut.H.useMemoCache(I)}},It.cache=function(I){return function(){return I.apply(null,arguments)}},It.cloneElement=function(I,Z,ot){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var at=R({},I.props),yt=I.key,xt=void 0;if(Z!=null)for(_t in Z.ref!==void 0&&(xt=void 0),Z.key!==void 0&&(yt=""+Z.key),Z)!gt.call(Z,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&Z.ref===void 0||(at[_t]=Z[_t]);var _t=arguments.length-2;if(_t===1)at.children=ot;else if(1<_t){for(var ce=Array(_t),Ft=0;Ft<_t;Ft++)ce[Ft]=arguments[Ft+2];at.children=ce}return M(I.type,yt,void 0,void 0,xt,at)},It.createContext=function(I){return I={$$typeof:h,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:u,_context:I},I},It.createElement=function(I,Z,ot){var at,yt={},xt=null;if(Z!=null)for(at in Z.key!==void 0&&(xt=""+Z.key),Z)gt.call(Z,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(yt[at]=Z[at]);var _t=arguments.length-2;if(_t===1)yt.children=ot;else if(1<_t){for(var ce=Array(_t),Ft=0;Ft<_t;Ft++)ce[Ft]=arguments[Ft+2];yt.children=ce}if(I&&I.defaultProps)for(at in _t=I.defaultProps,_t)yt[at]===void 0&&(yt[at]=_t[at]);return M(I,xt,void 0,void 0,null,yt)},It.createRef=function(){return{current:null}},It.forwardRef=function(I){return{$$typeof:m,render:I}},It.isValidElement=C,It.lazy=function(I){return{$$typeof:_,_payload:{_status:-1,_result:I},_init:st}},It.memo=function(I,Z){return{$$typeof:y,type:I,compare:Z===void 0?null:Z}},It.startTransition=function(I){var Z=ut.T,ot={};ut.T=ot;try{var at=I(),yt=ut.S;yt!==null&&yt(ot,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(Ct,mt)}catch(xt){mt(xt)}finally{ut.T=Z}},It.unstable_useCacheRefresh=function(){return ut.H.useCacheRefresh()},It.use=function(I){return ut.H.use(I)},It.useActionState=function(I,Z,ot){return ut.H.useActionState(I,Z,ot)},It.useCallback=function(I,Z){return ut.H.useCallback(I,Z)},It.useContext=function(I){return ut.H.useContext(I)},It.useDebugValue=function(){},It.useDeferredValue=function(I,Z){return ut.H.useDeferredValue(I,Z)},It.useEffect=function(I,Z,ot){var at=ut.H;if(typeof ot=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return at.useEffect(I,Z)},It.useId=function(){return ut.H.useId()},It.useImperativeHandle=function(I,Z,ot){return ut.H.useImperativeHandle(I,Z,ot)},It.useInsertionEffect=function(I,Z){return ut.H.useInsertionEffect(I,Z)},It.useLayoutEffect=function(I,Z){return ut.H.useLayoutEffect(I,Z)},It.useMemo=function(I,Z){return ut.H.useMemo(I,Z)},It.useOptimistic=function(I,Z){return ut.H.useOptimistic(I,Z)},It.useReducer=function(I,Z,ot){return ut.H.useReducer(I,Z,ot)},It.useRef=function(I){return ut.H.useRef(I)},It.useState=function(I){return ut.H.useState(I)},It.useSyncExternalStore=function(I,Z,ot){return ut.H.useSyncExternalStore(I,Z,ot)},It.useTransition=function(){return ut.H.useTransition()},It.version="19.1.0",It}var h_;function Qm(){return h_||(h_=1,Ud.exports=dS()),Ud.exports}var F=Qm(),jd={exports:{}},Ao={},zd={exports:{}},Bd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d_;function mS(){return d_||(d_=1,function(r){function t(G,st){var mt=G.length;G.push(st);t:for(;0<mt;){var Ct=mt-1>>>1,I=G[Ct];if(0<l(I,st))G[Ct]=st,G[mt]=I,mt=Ct;else break t}}function n(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var st=G[0],mt=G.pop();if(mt!==st){G[0]=mt;t:for(var Ct=0,I=G.length,Z=I>>>1;Ct<Z;){var ot=2*(Ct+1)-1,at=G[ot],yt=ot+1,xt=G[yt];if(0>l(at,mt))yt<I&&0>l(xt,at)?(G[Ct]=xt,G[yt]=mt,Ct=yt):(G[Ct]=at,G[ot]=mt,Ct=ot);else if(yt<I&&0>l(xt,mt))G[Ct]=xt,G[yt]=mt,Ct=yt;else break t}}return st}function l(G,st){var mt=G.sortIndex-st.sortIndex;return mt!==0?mt:G.id-st.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var g=[],y=[],_=1,b=null,w=3,D=!1,R=!1,k=!1,L=!1,K=typeof setTimeout=="function"?setTimeout:null,rt=typeof clearTimeout=="function"?clearTimeout:null,nt=typeof setImmediate<"u"?setImmediate:null;function it(G){for(var st=n(y);st!==null;){if(st.callback===null)i(y);else if(st.startTime<=G)i(y),st.sortIndex=st.expirationTime,t(g,st);else break;st=n(y)}}function ut(G){if(k=!1,it(G),!R)if(n(g)!==null)R=!0,gt||(gt=!0,U());else{var st=n(y);st!==null&&Dt(ut,st.startTime-G)}}var gt=!1,M=-1,A=5,C=-1;function N(){return L?!0:!(r.unstable_now()-C<A)}function P(){if(L=!1,gt){var G=r.unstable_now();C=G;var st=!0;try{t:{R=!1,k&&(k=!1,rt(M),M=-1),D=!0;var mt=w;try{e:{for(it(G),b=n(g);b!==null&&!(b.expirationTime>G&&N());){var Ct=b.callback;if(typeof Ct=="function"){b.callback=null,w=b.priorityLevel;var I=Ct(b.expirationTime<=G);if(G=r.unstable_now(),typeof I=="function"){b.callback=I,it(G),st=!0;break e}b===n(g)&&i(g),it(G)}else i(g);b=n(g)}if(b!==null)st=!0;else{var Z=n(y);Z!==null&&Dt(ut,Z.startTime-G),st=!1}}break t}finally{b=null,w=mt,D=!1}st=void 0}}finally{st?U():gt=!1}}}var U;if(typeof nt=="function")U=function(){nt(P)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,dt=x.port2;x.port1.onmessage=P,U=function(){dt.postMessage(null)}}else U=function(){K(P,0)};function Dt(G,st){M=K(function(){G(r.unstable_now())},st)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(G){switch(w){case 1:case 2:case 3:var st=3;break;default:st=w}var mt=w;w=st;try{return G()}finally{w=mt}},r.unstable_requestPaint=function(){L=!0},r.unstable_runWithPriority=function(G,st){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var mt=w;w=G;try{return st()}finally{w=mt}},r.unstable_scheduleCallback=function(G,st,mt){var Ct=r.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?Ct+mt:Ct):mt=Ct,G){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=mt+I,G={id:_++,callback:st,priorityLevel:G,startTime:mt,expirationTime:I,sortIndex:-1},mt>Ct?(G.sortIndex=mt,t(y,G),n(g)===null&&G===n(y)&&(k?(rt(M),M=-1):k=!0,Dt(ut,mt-Ct))):(G.sortIndex=I,t(g,G),R||D||(R=!0,gt||(gt=!0,U()))),G},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(G){var st=w;return function(){var mt=w;w=st;try{return G.apply(this,arguments)}finally{w=mt}}}}(Bd)),Bd}var m_;function gS(){return m_||(m_=1,zd.exports=mS()),zd.exports}var qd={exports:{}},ln={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g_;function yS(){if(g_)return ln;g_=1;var r=Qm();function t(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)y+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(g,y,_){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:g,containerInfo:y,implementation:_}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ln.createPortal=function(g,y){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(g,y,null,_)},ln.flushSync=function(g){var y=h.T,_=i.p;try{if(h.T=null,i.p=2,g)return g()}finally{h.T=y,i.p=_,i.d.f()}},ln.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,i.d.C(g,y))},ln.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},ln.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var _=y.as,b=m(_,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,D=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;_==="style"?i.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:D}):_==="script"&&i.d.X(g,{crossOrigin:b,integrity:w,fetchPriority:D,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},ln.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var _=m(y.as,y.crossOrigin);i.d.M(g,{crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&i.d.M(g)},ln.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var _=y.as,b=m(_,y.crossOrigin);i.d.L(g,_,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},ln.preloadModule=function(g,y){if(typeof g=="string")if(y){var _=m(y.as,y.crossOrigin);i.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else i.d.m(g)},ln.requestFormReset=function(g){i.d.r(g)},ln.unstable_batchedUpdates=function(g,y){return g(y)},ln.useFormState=function(g,y,_){return h.H.useFormState(g,y,_)},ln.useFormStatus=function(){return h.H.useHostTransitionStatus()},ln.version="19.1.0",ln}var y_;function pS(){if(y_)return qd.exports;y_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),qd.exports=yS(),qd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_;function vS(){if(p_)return Ao;p_=1;var r=gS(),t=Qm(),n=pS();function i(e){var a="https://react.dev/errors/"+e;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)a+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var a=e,s=e;if(e.alternate)for(;a.return;)a=a.return;else{e=a;do a=e,(a.flags&4098)!==0&&(s=a.return),e=a.return;while(e)}return a.tag===3?s:null}function h(e){if(e.tag===13){var a=e.memoizedState;if(a===null&&(e=e.alternate,e!==null&&(a=e.memoizedState)),a!==null)return a.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(i(188))}function g(e){var a=e.alternate;if(!a){if(a=u(e),a===null)throw Error(i(188));return a!==e?null:e}for(var s=e,o=a;;){var f=s.return;if(f===null)break;var d=f.alternate;if(d===null){if(o=f.return,o!==null){s=o;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===s)return m(f),e;if(d===o)return m(f),a;d=d.sibling}throw Error(i(188))}if(s.return!==o.return)s=f,o=d;else{for(var E=!1,T=f.child;T;){if(T===s){E=!0,s=f,o=d;break}if(T===o){E=!0,o=f,s=d;break}T=T.sibling}if(!E){for(T=d.child;T;){if(T===s){E=!0,s=d,o=f;break}if(T===o){E=!0,o=d,s=f;break}T=T.sibling}if(!E)throw Error(i(189))}}if(s.alternate!==o)throw Error(i(190))}if(s.tag!==3)throw Error(i(188));return s.stateNode.current===s?e:a}function y(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e;for(e=e.child;e!==null;){if(a=y(e),a!==null)return a;e=e.sibling}return null}var _=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),rt=Symbol.for("react.consumer"),nt=Symbol.for("react.context"),it=Symbol.for("react.forward_ref"),ut=Symbol.for("react.suspense"),gt=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=P&&e[P]||e["@@iterator"],typeof e=="function"?e:null)}var x=Symbol.for("react.client.reference");function dt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===x?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case R:return"Fragment";case L:return"Profiler";case k:return"StrictMode";case ut:return"Suspense";case gt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case D:return"Portal";case nt:return(e.displayName||"Context")+".Provider";case rt:return(e._context.displayName||"Context")+".Consumer";case it:var a=e.render;return e=e.displayName,e||(e=a.displayName||a.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case M:return a=e.displayName||null,a!==null?a:dt(e.type)||"Memo";case A:a=e._payload,e=e._init;try{return dt(e(a))}catch{}}return null}var Dt=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},Ct=[],I=-1;function Z(e){return{current:e}}function ot(e){0>I||(e.current=Ct[I],Ct[I]=null,I--)}function at(e,a){I++,Ct[I]=e.current,e.current=a}var yt=Z(null),xt=Z(null),_t=Z(null),ce=Z(null);function Ft(e,a){switch(at(_t,a),at(xt,e),at(yt,null),a.nodeType){case 9:case 11:e=(e=a.documentElement)&&(e=e.namespaceURI)?kv(e):0;break;default:if(e=a.tagName,a=a.namespaceURI)a=kv(a),e=Uv(a,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ot(yt),at(yt,e)}function Ie(){ot(yt),ot(xt),ot(_t)}function Vn(e){e.memoizedState!==null&&at(ce,e);var a=yt.current,s=Uv(a,e.type);a!==s&&(at(xt,e),at(yt,s))}function bn(e){xt.current===e&&(ot(yt),ot(xt)),ce.current===e&&(ot(ce),_o._currentValue=mt)}var Pn=Object.prototype.hasOwnProperty,Jn=r.unstable_scheduleCallback,ae=r.unstable_cancelCallback,tr=r.unstable_shouldYield,Ye=r.unstable_requestPaint,Ge=r.unstable_now,is=r.unstable_getCurrentPriorityLevel,_a=r.unstable_ImmediatePriority,Ea=r.unstable_UserBlockingPriority,Ur=r.unstable_NormalPriority,Sl=r.unstable_LowPriority,jr=r.unstable_IdlePriority,di=r.log,ss=r.unstable_setDisableYieldValue,fe=null,Qt=null;function hn(e){if(typeof di=="function"&&ss(e),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(fe,e)}catch{}}var Se=Math.clz32?Math.clz32:zr,mi=Math.log,ls=Math.LN2;function zr(e){return e>>>=0,e===0?32:31-(mi(e)/ls|0)|0}var Ln=256,mr=4194304;function wn(e){var a=e&42;if(a!==0)return a;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Br(e,a,s){var o=e.pendingLanes;if(o===0)return 0;var f=0,d=e.suspendedLanes,E=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~d,o!==0?f=wn(o):(E&=T,E!==0?f=wn(E):s||(s=T&~e,s!==0&&(f=wn(s))))):(T=o&~d,T!==0?f=wn(T):E!==0?f=wn(E):s||(s=o&~e,s!==0&&(f=wn(s)))),f===0?0:a!==0&&a!==f&&(a&d)===0&&(d=f&-f,s=a&-a,d>=s||d===32&&(s&4194048)!==0)?a:f}function gr(e,a){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&a)===0}function qr(e,a){switch(e){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gi(){var e=Ln;return Ln<<=1,(Ln&4194048)===0&&(Ln=256),e}function Ta(){var e=mr;return mr<<=1,(mr&62914560)===0&&(mr=4194304),e}function er(e){for(var a=[],s=0;31>s;s++)a.push(e);return a}function kn(e,a){e.pendingLanes|=a,a!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ae(e,a,s,o,f,d){var E=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var T=e.entanglements,O=e.expirationTimes,H=e.hiddenUpdates;for(s=E&~s;0<s;){var X=31-Se(s),J=1<<X;T[X]=0,O[X]=-1;var Y=H[X];if(Y!==null)for(H[X]=null,X=0;X<Y.length;X++){var Q=Y[X];Q!==null&&(Q.lane&=-536870913)}s&=~J}o!==0&&oe(e,o,0),d!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=d&~(E&~a))}function oe(e,a,s){e.pendingLanes|=a,e.suspendedLanes&=~a;var o=31-Se(a);e.entangledLanes|=a,e.entanglements[o]=e.entanglements[o]|1073741824|s&4194090}function yr(e,a){var s=e.entangledLanes|=a;for(e=e.entanglements;s;){var o=31-Se(s),f=1<<o;f&a|e[o]&a&&(e[o]|=a),s&=~f}}function Yt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Qe(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function pr(){var e=st.p;return e!==0?e:(e=window.event,e===void 0?32:r_(e.type))}function ba(e,a){var s=st.p;try{return st.p=e,a()}finally{st.p=s}}var ie=Math.random().toString(36).slice(2),ve="__reactFiber$"+ie,he="__reactProps$"+ie,Ke="__reactContainer$"+ie,Hr="__reactEvents$"+ie,yi="__reactListeners$"+ie,Un="__reactHandles$"+ie,os="__reactResources$"+ie,nr="__reactMarker$"+ie;function rr(e){delete e[ve],delete e[he],delete e[Hr],delete e[yi],delete e[Un]}function ar(e){var a=e[ve];if(a)return a;for(var s=e.parentNode;s;){if(a=s[Ke]||s[ve]){if(s=a.alternate,a.child!==null||s!==null&&s.child!==null)for(e=qv(e);e!==null;){if(s=e[ve])return s;e=qv(e)}return a}e=s,s=e.parentNode}return null}function jn(e){if(e=e[ve]||e[Ke]){var a=e.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return e}return null}function St(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e.stateNode;throw Error(i(33))}function Vt(e){var a=e[os];return a||(a=e[os]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ot(e){e[nr]=!0}var $e=new Set,Ue={};function dn(e,a){ir(e,a),ir(e+"Capture",a)}function ir(e,a){for(Ue[e]=a,e=0;e<a.length;e++)$e.add(a[e])}var us=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cu={},pi={};function fu(e){return Pn.call(pi,e)?!0:Pn.call(cu,e)?!1:us.test(e)?pi[e]=!0:(cu[e]=!0,!1)}function wa(e,a,s){if(fu(a))if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(a);return;case"boolean":var o=a.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(a);return}}e.setAttribute(a,""+s)}}function vr(e,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttribute(a,""+s)}}function Xe(e,a,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(a,s,""+o)}}var vi,hu;function Fr(e){if(vi===void 0)try{throw Error()}catch(s){var a=s.stack.trim().match(/\n( *(at )?)/);vi=a&&a[1]||"",hu=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vi+e+hu}var cs=!1;function fs(e,a){if(!e||cs)return"";cs=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(a){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(Q){var Y=Q}Reflect.construct(e,[],J)}else{try{J.call()}catch(Q){Y=Q}e.call(J.prototype)}}else{try{throw Error()}catch(Q){Y=Q}(J=e())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(Q){if(Q&&Y&&typeof Q.stack=="string")return[Q.stack,Y.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),E=d[0],T=d[1];if(E&&T){var O=E.split(`
`),H=T.split(`
`);for(f=o=0;o<O.length&&!O[o].includes("DetermineComponentFrameRoot");)o++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(o===O.length||f===H.length)for(o=O.length-1,f=H.length-1;1<=o&&0<=f&&O[o]!==H[f];)f--;for(;1<=o&&0<=f;o--,f--)if(O[o]!==H[f]){if(o!==1||f!==1)do if(o--,f--,0>f||O[o]!==H[f]){var X=`
`+O[o].replace(" at new "," at ");return e.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",e.displayName)),X}while(1<=o&&0<=f);break}}}finally{cs=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Fr(s):""}function Al(e){switch(e.tag){case 26:case 27:case 5:return Fr(e.type);case 16:return Fr("Lazy");case 13:return Fr("Suspense");case 19:return Fr("SuspenseList");case 0:case 15:return fs(e.type,!1);case 11:return fs(e.type.render,!1);case 1:return fs(e.type,!0);case 31:return Fr("Activity");default:return""}}function hs(e){try{var a="";do a+=Al(e),e=e.return;while(e);return a}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function mn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Rl(e){var a=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Bf(e){var a=Rl(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,a),o=""+e[a];if(!e.hasOwnProperty(a)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,d=s.set;return Object.defineProperty(e,a,{configurable:!0,get:function(){return f.call(this)},set:function(E){o=""+E,d.call(this,E)}}),Object.defineProperty(e,a,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(E){o=""+E},stopTracking:function(){e._valueTracker=null,delete e[a]}}}}function ds(e){e._valueTracker||(e._valueTracker=Bf(e))}function Dl(e){if(!e)return!1;var a=e._valueTracker;if(!a)return!0;var s=a.getValue(),o="";return e&&(o=Rl(e)?e.checked?"true":"false":e.value),e=o,e!==s?(a.setValue(e),!0):!1}function _i(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var qf=/[\n"\\]/g;function Re(e){return e.replace(qf,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Sn(e,a,s,o,f,d,E,T){e.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.type=E:e.removeAttribute("type"),a!=null?E==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+mn(a)):e.value!==""+mn(a)&&(e.value=""+mn(a)):E!=="submit"&&E!=="reset"||e.removeAttribute("value"),a!=null?Sa(e,E,mn(a)):s!=null?Sa(e,E,mn(s)):o!=null&&e.removeAttribute("value"),f==null&&d!=null&&(e.defaultChecked=!!d),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+mn(T):e.removeAttribute("name")}function Ei(e,a,s,o,f,d,E,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),a!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||a!=null))return;s=s!=null?""+mn(s):"",a=a!=null?""+mn(a):s,T||a===e.value||(e.value=a),e.defaultValue=a}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(e.name=E)}function Sa(e,a,s){a==="number"&&_i(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Yr(e,a,s,o){if(e=e.options,a){a={};for(var f=0;f<s.length;f++)a["$"+s[f]]=!0;for(s=0;s<e.length;s++)f=a.hasOwnProperty("$"+e[s].value),e[s].selected!==f&&(e[s].selected=f),f&&o&&(e[s].defaultSelected=!0)}else{for(s=""+mn(s),a=null,f=0;f<e.length;f++){if(e[f].value===s){e[f].selected=!0,o&&(e[f].defaultSelected=!0);return}a!==null||e[f].disabled||(a=e[f])}a!==null&&(a.selected=!0)}}function te(e,a,s){if(a!=null&&(a=""+mn(a),a!==e.value&&(e.value=a),s==null)){e.defaultValue!==a&&(e.defaultValue=a);return}e.defaultValue=s!=null?""+mn(s):""}function Ti(e,a,s,o){if(a==null){if(o!=null){if(s!=null)throw Error(i(92));if(Dt(o)){if(1<o.length)throw Error(i(93));o=o[0]}s=o}s==null&&(s=""),a=s}s=mn(a),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o)}function zn(e,a){if(a){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=a;return}}e.textContent=a}var bi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function du(e,a,s){var o=a.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="":o?e.setProperty(a,s):typeof s!="number"||s===0||bi.has(a)?a==="float"?e.cssFloat=s:e[a]=(""+s).trim():e[a]=s+"px"}function Cl(e,a,s){if(a!=null&&typeof a!="object")throw Error(i(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||a!=null&&a.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var f in a)o=a[f],a.hasOwnProperty(f)&&s[f]!==o&&du(e,f,o)}else for(var d in a)a.hasOwnProperty(d)&&du(e,d,a[d])}function xl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ff=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ms(e){return Ff.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Gr=null;function Bn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qr=null,Kr=null;function Ol(e){var a=jn(e);if(a&&(e=a.stateNode)){var s=e[he]||null;t:switch(e=a.stateNode,a.type){case"input":if(Sn(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),a=s.name,s.type==="radio"&&a!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Re(""+a)+'"][type="radio"]'),a=0;a<s.length;a++){var o=s[a];if(o!==e&&o.form===e.form){var f=o[he]||null;if(!f)throw Error(i(90));Sn(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(a=0;a<s.length;a++)o=s[a],o.form===e.form&&Dl(o)}break t;case"textarea":te(e,s.value,s.defaultValue);break t;case"select":a=s.value,a!=null&&Yr(e,!!s.multiple,a,!1)}}}var _r=!1;function mu(e,a,s){if(_r)return e(a,s);_r=!0;try{var o=e(a);return o}finally{if(_r=!1,(Qr!==null||Kr!==null)&&(lc(),Qr&&(a=Qr,e=Kr,Kr=Qr=null,Ol(a),e)))for(a=0;a<e.length;a++)Ol(e[a])}}function wi(e,a){var s=e.stateNode;if(s===null)return null;var o=s[he]||null;if(o===null)return null;s=o[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(i(231,a,typeof s));return s}var sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qn=!1;if(sr)try{var Si={};Object.defineProperty(Si,"passive",{get:function(){qn=!0}}),window.addEventListener("test",Si,Si),window.removeEventListener("test",Si,Si)}catch{qn=!1}var Er=null,Aa=null,$r=null;function Il(){if($r)return $r;var e,a=Aa,s=a.length,o,f="value"in Er?Er.value:Er.textContent,d=f.length;for(e=0;e<s&&a[e]===f[e];e++);var E=s-e;for(o=1;o<=E&&a[s-o]===f[d-o];o++);return $r=f.slice(e,1<o?1-o:void 0)}function Tr(e){var a=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&a===13&&(e=13)):e=a,e===10&&(e=13),32<=e||e===13?e:0}function br(){return!0}function Nl(){return!1}function je(e){function a(s,o,f,d,E){this._reactName=s,this._targetInst=f,this.type=o,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(s=e[T],this[T]=s?s(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?br:Nl,this.isPropagationStopped=Nl,this}return _(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=br)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=br)},persist:function(){},isPersistent:br}),a}var $t={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gs=je($t),Ai=_({},$t,{view:0,detail:0}),gu=je(Ai),ys,ps,wr,Ri=_({},Ai,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wr&&(wr&&e.type==="mousemove"?(ys=e.screenX-wr.screenX,ps=e.screenY-wr.screenY):ps=ys=0,wr=e),ys)},movementY:function(e){return"movementY"in e?e.movementY:ps}}),Hn=je(Ri),yu=_({},Ri,{dataTransfer:0}),Yf=je(yu),Di=_({},Ai,{relatedTarget:0}),vs=je(Di),Ml=_({},$t,{animationName:0,elapsedTime:0,pseudoElement:0}),_s=je(Ml),pu=_({},$t,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Es=je(pu),Gf=_({},$t,{data:0}),Vl=je(Gf),Ci={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pl(e){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(e):(e=_u[e])?!!a[e]:!1}function xi(){return Pl}var Eu=_({},Ai,{key:function(e){if(e.key){var a=Ci[e.key]||e.key;if(a!=="Unidentified")return a}return e.type==="keypress"?(e=Tr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xi,charCode:function(e){return e.type==="keypress"?Tr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Tr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ts=je(Eu),Tu=_({},Ri,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ll=je(Tu),Xr=_({},Ai,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xi}),bu=je(Xr),wu=_({},$t,{propertyName:0,elapsedTime:0,pseudoElement:0}),Su=je(wu),Au=_({},Ri,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bs=je(Au),gn=_({},$t,{newState:0,oldState:0}),Ru=je(gn),Du=[9,13,27,32],Sr=sr&&"CompositionEvent"in window,c=null;sr&&"documentMode"in document&&(c=document.documentMode);var p=sr&&"TextEvent"in window&&!c,v=sr&&(!Sr||c&&8<c&&11>=c),S=" ",z=!1;function $(e,a){switch(e){case"keyup":return Du.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var jt=!1;function Ne(e,a){switch(e){case"compositionend":return lt(a);case"keypress":return a.which!==32?null:(z=!0,S);case"textInput":return e=a.data,e===S&&z?null:e;default:return null}}function zt(e,a){if(jt)return e==="compositionend"||!Sr&&$(e,a)?(e=Il(),$r=Aa=Er=null,jt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return v&&a.locale!=="ko"?null:a.data;default:return null}}var ze={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Me(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a==="input"?!!ze[e.type]:a==="textarea"}function Wr(e,a,s,o){Qr?Kr?Kr.push(o):Kr=[o]:Qr=o,a=dc(a,"onChange"),0<a.length&&(s=new gs("onChange","change",null,s,o),e.push({event:s,listeners:a}))}var We=null,Ar=null;function kl(e){Nv(e,0)}function Cu(e){var a=St(e);if(Dl(a))return e}function Jg(e,a){if(e==="change")return a}var ty=!1;if(sr){var Qf;if(sr){var Kf="oninput"in document;if(!Kf){var ey=document.createElement("div");ey.setAttribute("oninput","return;"),Kf=typeof ey.oninput=="function"}Qf=Kf}else Qf=!1;ty=Qf&&(!document.documentMode||9<document.documentMode)}function ny(){We&&(We.detachEvent("onpropertychange",ry),Ar=We=null)}function ry(e){if(e.propertyName==="value"&&Cu(Ar)){var a=[];Wr(a,Ar,e,Bn(e)),mu(kl,a)}}function zb(e,a,s){e==="focusin"?(ny(),We=a,Ar=s,We.attachEvent("onpropertychange",ry)):e==="focusout"&&ny()}function Bb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Cu(Ar)}function qb(e,a){if(e==="click")return Cu(a)}function Hb(e,a){if(e==="input"||e==="change")return Cu(a)}function Fb(e,a){return e===a&&(e!==0||1/e===1/a)||e!==e&&a!==a}var An=typeof Object.is=="function"?Object.is:Fb;function Ul(e,a){if(An(e,a))return!0;if(typeof e!="object"||e===null||typeof a!="object"||a===null)return!1;var s=Object.keys(e),o=Object.keys(a);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var f=s[o];if(!Pn.call(a,f)||!An(e[f],a[f]))return!1}return!0}function ay(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function iy(e,a){var s=ay(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=a&&o>=a)return{node:s,offset:a-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=ay(s)}}function sy(e,a){return e&&a?e===a?!0:e&&e.nodeType===3?!1:a&&a.nodeType===3?sy(e,a.parentNode):"contains"in e?e.contains(a):e.compareDocumentPosition?!!(e.compareDocumentPosition(a)&16):!1:!1}function ly(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var a=_i(e.document);a instanceof e.HTMLIFrameElement;){try{var s=typeof a.contentWindow.location.href=="string"}catch{s=!1}if(s)e=a.contentWindow;else break;a=_i(e.document)}return a}function $f(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a&&(a==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||a==="textarea"||e.contentEditable==="true")}var Yb=sr&&"documentMode"in document&&11>=document.documentMode,ws=null,Xf=null,jl=null,Wf=!1;function oy(e,a,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Wf||ws==null||ws!==_i(o)||(o=ws,"selectionStart"in o&&$f(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),jl&&Ul(jl,o)||(jl=o,o=dc(Xf,"onSelect"),0<o.length&&(a=new gs("onSelect","select",null,a,s),e.push({event:a,listeners:o}),a.target=ws)))}function Oi(e,a){var s={};return s[e.toLowerCase()]=a.toLowerCase(),s["Webkit"+e]="webkit"+a,s["Moz"+e]="moz"+a,s}var Ss={animationend:Oi("Animation","AnimationEnd"),animationiteration:Oi("Animation","AnimationIteration"),animationstart:Oi("Animation","AnimationStart"),transitionrun:Oi("Transition","TransitionRun"),transitionstart:Oi("Transition","TransitionStart"),transitioncancel:Oi("Transition","TransitionCancel"),transitionend:Oi("Transition","TransitionEnd")},Zf={},uy={};sr&&(uy=document.createElement("div").style,"AnimationEvent"in window||(delete Ss.animationend.animation,delete Ss.animationiteration.animation,delete Ss.animationstart.animation),"TransitionEvent"in window||delete Ss.transitionend.transition);function Ii(e){if(Zf[e])return Zf[e];if(!Ss[e])return e;var a=Ss[e],s;for(s in a)if(a.hasOwnProperty(s)&&s in uy)return Zf[e]=a[s];return e}var cy=Ii("animationend"),fy=Ii("animationiteration"),hy=Ii("animationstart"),Gb=Ii("transitionrun"),Qb=Ii("transitionstart"),Kb=Ii("transitioncancel"),dy=Ii("transitionend"),my=new Map,Jf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jf.push("scrollEnd");function lr(e,a){my.set(e,a),dn(a,[e])}var gy=new WeakMap;function Fn(e,a){if(typeof e=="object"&&e!==null){var s=gy.get(e);return s!==void 0?s:(a={value:e,source:a,stack:hs(a)},gy.set(e,a),a)}return{value:e,source:a,stack:hs(a)}}var Yn=[],As=0,th=0;function xu(){for(var e=As,a=th=As=0;a<e;){var s=Yn[a];Yn[a++]=null;var o=Yn[a];Yn[a++]=null;var f=Yn[a];Yn[a++]=null;var d=Yn[a];if(Yn[a++]=null,o!==null&&f!==null){var E=o.pending;E===null?f.next=f:(f.next=E.next,E.next=f),o.pending=f}d!==0&&yy(s,f,d)}}function Ou(e,a,s,o){Yn[As++]=e,Yn[As++]=a,Yn[As++]=s,Yn[As++]=o,th|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function eh(e,a,s,o){return Ou(e,a,s,o),Iu(e)}function Rs(e,a){return Ou(e,null,null,a),Iu(e)}function yy(e,a,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var f=!1,d=e.return;d!==null;)d.childLanes|=s,o=d.alternate,o!==null&&(o.childLanes|=s),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(f=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,f&&a!==null&&(f=31-Se(s),e=d.hiddenUpdates,o=e[f],o===null?e[f]=[a]:o.push(a),a.lane=s|536870912),d):null}function Iu(e){if(50<co)throw co=0,ld=null,Error(i(185));for(var a=e.return;a!==null;)e=a,a=e.return;return e.tag===3?e.stateNode:null}var Ds={};function $b(e,a,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(e,a,s,o){return new $b(e,a,s,o)}function nh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zr(e,a){var s=e.alternate;return s===null?(s=Rn(e.tag,a,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=a,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,a=e.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function py(e,a){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=a,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,a=s.dependencies,e.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),e}function Nu(e,a,s,o,f,d){var E=0;if(o=e,typeof e=="function")nh(e)&&(E=1);else if(typeof e=="string")E=Ww(e,s,yt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=Rn(31,s,a,f),e.elementType=C,e.lanes=d,e;case R:return Ni(s.children,f,d,a);case k:E=8,f|=24;break;case L:return e=Rn(12,s,a,f|2),e.elementType=L,e.lanes=d,e;case ut:return e=Rn(13,s,a,f),e.elementType=ut,e.lanes=d,e;case gt:return e=Rn(19,s,a,f),e.elementType=gt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case K:case nt:E=10;break t;case rt:E=9;break t;case it:E=11;break t;case M:E=14;break t;case A:E=16,o=null;break t}E=29,s=Error(i(130,e===null?"null":typeof e,"")),o=null}return a=Rn(E,s,a,f),a.elementType=e,a.type=o,a.lanes=d,a}function Ni(e,a,s,o){return e=Rn(7,e,o,a),e.lanes=s,e}function rh(e,a,s){return e=Rn(6,e,null,a),e.lanes=s,e}function ah(e,a,s){return a=Rn(4,e.children!==null?e.children:[],e.key,a),a.lanes=s,a.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},a}var Cs=[],xs=0,Mu=null,Vu=0,Gn=[],Qn=0,Mi=null,Jr=1,ta="";function Vi(e,a){Cs[xs++]=Vu,Cs[xs++]=Mu,Mu=e,Vu=a}function vy(e,a,s){Gn[Qn++]=Jr,Gn[Qn++]=ta,Gn[Qn++]=Mi,Mi=e;var o=Jr;e=ta;var f=32-Se(o)-1;o&=~(1<<f),s+=1;var d=32-Se(a)+f;if(30<d){var E=f-f%5;d=(o&(1<<E)-1).toString(32),o>>=E,f-=E,Jr=1<<32-Se(a)+f|s<<f|o,ta=d+e}else Jr=1<<d|s<<f|o,ta=e}function ih(e){e.return!==null&&(Vi(e,1),vy(e,1,0))}function sh(e){for(;e===Mu;)Mu=Cs[--xs],Cs[xs]=null,Vu=Cs[--xs],Cs[xs]=null;for(;e===Mi;)Mi=Gn[--Qn],Gn[Qn]=null,ta=Gn[--Qn],Gn[Qn]=null,Jr=Gn[--Qn],Gn[Qn]=null}var yn=null,_e=null,Kt=!1,Pi=null,Rr=!1,lh=Error(i(519));function Li(e){var a=Error(i(418,""));throw ql(Fn(a,e)),lh}function _y(e){var a=e.stateNode,s=e.type,o=e.memoizedProps;switch(a[ve]=e,a[he]=o,s){case"dialog":kt("cancel",a),kt("close",a);break;case"iframe":case"object":case"embed":kt("load",a);break;case"video":case"audio":for(s=0;s<ho.length;s++)kt(ho[s],a);break;case"source":kt("error",a);break;case"img":case"image":case"link":kt("error",a),kt("load",a);break;case"details":kt("toggle",a);break;case"input":kt("invalid",a),Ei(a,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),ds(a);break;case"select":kt("invalid",a);break;case"textarea":kt("invalid",a),Ti(a,o.value,o.defaultValue,o.children),ds(a)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||a.textContent===""+s||o.suppressHydrationWarning===!0||Lv(a.textContent,s)?(o.popover!=null&&(kt("beforetoggle",a),kt("toggle",a)),o.onScroll!=null&&kt("scroll",a),o.onScrollEnd!=null&&kt("scrollend",a),o.onClick!=null&&(a.onclick=mc),a=!0):a=!1,a||Li(e)}function Ey(e){for(yn=e.return;yn;)switch(yn.tag){case 5:case 13:Rr=!1;return;case 27:case 3:Rr=!0;return;default:yn=yn.return}}function zl(e){if(e!==yn)return!1;if(!Kt)return Ey(e),Kt=!0,!1;var a=e.tag,s;if((s=a!==3&&a!==27)&&((s=a===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||wd(e.type,e.memoizedProps)),s=!s),s&&_e&&Li(e),Ey(e),a===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));t:{for(e=e.nextSibling,a=0;e;){if(e.nodeType===8)if(s=e.data,s==="/$"){if(a===0){_e=ur(e.nextSibling);break t}a--}else s!=="$"&&s!=="$!"&&s!=="$?"||a++;e=e.nextSibling}_e=null}}else a===27?(a=_e,Ba(e.type)?(e=Dd,Dd=null,_e=e):_e=a):_e=yn?ur(e.stateNode.nextSibling):null;return!0}function Bl(){_e=yn=null,Kt=!1}function Ty(){var e=Pi;return e!==null&&(_n===null?_n=e:_n.push.apply(_n,e),Pi=null),e}function ql(e){Pi===null?Pi=[e]:Pi.push(e)}var oh=Z(null),ki=null,ea=null;function Ra(e,a,s){at(oh,a._currentValue),a._currentValue=s}function na(e){e._currentValue=oh.current,ot(oh)}function uh(e,a,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&a)!==a?(e.childLanes|=a,o!==null&&(o.childLanes|=a)):o!==null&&(o.childLanes&a)!==a&&(o.childLanes|=a),e===s)break;e=e.return}}function ch(e,a,s,o){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var d=f.dependencies;if(d!==null){var E=f.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=f;for(var O=0;O<a.length;O++)if(T.context===a[O]){d.lanes|=s,T=d.alternate,T!==null&&(T.lanes|=s),uh(d.return,s,e),o||(E=null);break t}d=T.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(i(341));E.lanes|=s,d=E.alternate,d!==null&&(d.lanes|=s),uh(E,s,e),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===e){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function Hl(e,a,s,o){e=null;for(var f=a,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var T=f.type;An(f.pendingProps.value,E.value)||(e!==null?e.push(T):e=[T])}}else if(f===ce.current){if(E=f.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(_o):e=[_o])}f=f.return}e!==null&&ch(a,e,s,o),a.flags|=262144}function Pu(e){for(e=e.firstContext;e!==null;){if(!An(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ui(e){ki=e,ea=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function sn(e){return by(ki,e)}function Lu(e,a){return ki===null&&Ui(e),by(e,a)}function by(e,a){var s=a._currentValue;if(a={context:a,memoizedValue:s,next:null},ea===null){if(e===null)throw Error(i(308));ea=a,e.dependencies={lanes:0,firstContext:a},e.flags|=524288}else ea=ea.next=a;return s}var Xb=typeof AbortController<"u"?AbortController:function(){var e=[],a=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){a.aborted=!0,e.forEach(function(s){return s()})}},Wb=r.unstable_scheduleCallback,Zb=r.unstable_NormalPriority,Ve={$$typeof:nt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fh(){return{controller:new Xb,data:new Map,refCount:0}}function Fl(e){e.refCount--,e.refCount===0&&Wb(Zb,function(){e.controller.abort()})}var Yl=null,hh=0,Os=0,Is=null;function Jb(e,a){if(Yl===null){var s=Yl=[];hh=0,Os=md(),Is={status:"pending",value:void 0,then:function(o){s.push(o)}}}return hh++,a.then(wy,wy),a}function wy(){if(--hh===0&&Yl!==null){Is!==null&&(Is.status="fulfilled");var e=Yl;Yl=null,Os=0,Is=null;for(var a=0;a<e.length;a++)(0,e[a])()}}function tw(e,a){var s=[],o={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return e.then(function(){o.status="fulfilled",o.value=a;for(var f=0;f<s.length;f++)(0,s[f])(a)},function(f){for(o.status="rejected",o.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),o}var Sy=G.S;G.S=function(e,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&Jb(e,a),Sy!==null&&Sy(e,a)};var ji=Z(null);function dh(){var e=ji.current;return e!==null?e:le.pooledCache}function ku(e,a){a===null?at(ji,ji.current):at(ji,a.pool)}function Ay(){var e=dh();return e===null?null:{parent:Ve._currentValue,pool:e}}var Gl=Error(i(460)),Ry=Error(i(474)),Uu=Error(i(542)),mh={then:function(){}};function Dy(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ju(){}function Cy(e,a,s){switch(s=e[s],s===void 0?e.push(a):s!==a&&(a.then(ju,ju),a=s),a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,Oy(e),e;default:if(typeof a.status=="string")a.then(ju,ju);else{if(e=le,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=a,e.status="pending",e.then(function(o){if(a.status==="pending"){var f=a;f.status="fulfilled",f.value=o}},function(o){if(a.status==="pending"){var f=a;f.status="rejected",f.reason=o}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,Oy(e),e}throw Ql=a,Gl}}var Ql=null;function xy(){if(Ql===null)throw Error(i(459));var e=Ql;return Ql=null,e}function Oy(e){if(e===Gl||e===Uu)throw Error(i(483))}var Da=!1;function gh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yh(e,a){e=e.updateQueue,a.updateQueue===e&&(a.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ca(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function xa(e,a,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Wt&2)!==0){var f=o.pending;return f===null?a.next=a:(a.next=f.next,f.next=a),o.pending=a,a=Iu(e),yy(e,null,s),a}return Ou(e,o,a,s),Iu(e)}function Kl(e,a,s){if(a=a.updateQueue,a!==null&&(a=a.shared,(s&4194048)!==0)){var o=a.lanes;o&=e.pendingLanes,s|=o,a.lanes=s,yr(e,s)}}function ph(e,a){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var f=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var E={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?f=d=E:d=d.next=E,s=s.next}while(s!==null);d===null?f=d=a:d=d.next=a}else f=d=a;s={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=a:e.next=a,s.lastBaseUpdate=a}var vh=!1;function $l(){if(vh){var e=Is;if(e!==null)throw e}}function Xl(e,a,s,o){vh=!1;var f=e.updateQueue;Da=!1;var d=f.firstBaseUpdate,E=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var O=T,H=O.next;O.next=null,E===null?d=H:E.next=H,E=O;var X=e.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==E&&(T===null?X.firstBaseUpdate=H:T.next=H,X.lastBaseUpdate=O))}if(d!==null){var J=f.baseState;E=0,X=H=O=null,T=d;do{var Y=T.lane&-536870913,Q=Y!==T.lane;if(Q?(Bt&Y)===Y:(o&Y)===Y){Y!==0&&Y===Os&&(vh=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var bt=e,Et=T;Y=a;var re=s;switch(Et.tag){case 1:if(bt=Et.payload,typeof bt=="function"){J=bt.call(re,J,Y);break t}J=bt;break t;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=Et.payload,Y=typeof bt=="function"?bt.call(re,J,Y):bt,Y==null)break t;J=_({},J,Y);break t;case 2:Da=!0}}Y=T.callback,Y!==null&&(e.flags|=64,Q&&(e.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[Y]:Q.push(Y))}else Q={lane:Y,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(H=X=Q,O=J):X=X.next=Q,E|=Y;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;Q=T,T=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);X===null&&(O=J),f.baseState=O,f.firstBaseUpdate=H,f.lastBaseUpdate=X,d===null&&(f.shared.lanes=0),ka|=E,e.lanes=E,e.memoizedState=J}}function Iy(e,a){if(typeof e!="function")throw Error(i(191,e));e.call(a)}function Ny(e,a){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Iy(s[e],a)}var Ns=Z(null),zu=Z(0);function My(e,a){e=ua,at(zu,e),at(Ns,a),ua=e|a.baseLanes}function _h(){at(zu,ua),at(Ns,Ns.current)}function Eh(){ua=zu.current,ot(Ns),ot(zu)}var Oa=0,Nt=null,ee=null,De=null,Bu=!1,Ms=!1,zi=!1,qu=0,Wl=0,Vs=null,ew=0;function Te(){throw Error(i(321))}function Th(e,a){if(a===null)return!1;for(var s=0;s<a.length&&s<e.length;s++)if(!An(e[s],a[s]))return!1;return!0}function bh(e,a,s,o,f,d){return Oa=d,Nt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,G.H=e===null||e.memoizedState===null?yp:pp,zi=!1,d=s(o,f),zi=!1,Ms&&(d=Py(a,s,o,f)),Vy(e),d}function Vy(e){G.H=Ku;var a=ee!==null&&ee.next!==null;if(Oa=0,De=ee=Nt=null,Bu=!1,Wl=0,Vs=null,a)throw Error(i(300));e===null||Be||(e=e.dependencies,e!==null&&Pu(e)&&(Be=!0))}function Py(e,a,s,o){Nt=e;var f=0;do{if(Ms&&(Vs=null),Wl=0,Ms=!1,25<=f)throw Error(i(301));if(f+=1,De=ee=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=ow,d=a(s,o)}while(Ms);return d}function nw(){var e=G.H,a=e.useState()[0];return a=typeof a.then=="function"?Zl(a):a,e=e.useState()[0],(ee!==null?ee.memoizedState:null)!==e&&(Nt.flags|=1024),a}function wh(){var e=qu!==0;return qu=0,e}function Sh(e,a,s){a.updateQueue=e.updateQueue,a.flags&=-2053,e.lanes&=~s}function Ah(e){if(Bu){for(e=e.memoizedState;e!==null;){var a=e.queue;a!==null&&(a.pending=null),e=e.next}Bu=!1}Oa=0,De=ee=Nt=null,Ms=!1,Wl=qu=0,Vs=null}function pn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?Nt.memoizedState=De=e:De=De.next=e,De}function Ce(){if(ee===null){var e=Nt.alternate;e=e!==null?e.memoizedState:null}else e=ee.next;var a=De===null?Nt.memoizedState:De.next;if(a!==null)De=a,ee=e;else{if(e===null)throw Nt.alternate===null?Error(i(467)):Error(i(310));ee=e,e={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},De===null?Nt.memoizedState=De=e:De=De.next=e}return De}function Rh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zl(e){var a=Wl;return Wl+=1,Vs===null&&(Vs=[]),e=Cy(Vs,e,a),a=Nt,(De===null?a.memoizedState:De.next)===null&&(a=a.alternate,G.H=a===null||a.memoizedState===null?yp:pp),e}function Hu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Zl(e);if(e.$$typeof===nt)return sn(e)}throw Error(i(438,String(e)))}function Dh(e){var a=null,s=Nt.updateQueue;if(s!==null&&(a=s.memoCache),a==null){var o=Nt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(a={data:o.data.map(function(f){return f.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),s===null&&(s=Rh(),Nt.updateQueue=s),s.memoCache=a,s=a.data[a.index],s===void 0)for(s=a.data[a.index]=Array(e),o=0;o<e;o++)s[o]=N;return a.index++,s}function ra(e,a){return typeof a=="function"?a(e):a}function Fu(e){var a=Ce();return Ch(a,ee,e)}function Ch(e,a,s){var o=e.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var f=e.baseQueue,d=o.pending;if(d!==null){if(f!==null){var E=f.next;f.next=d.next,d.next=E}a.baseQueue=f=d,o.pending=null}if(d=e.baseState,f===null)e.memoizedState=d;else{a=f.next;var T=E=null,O=null,H=a,X=!1;do{var J=H.lane&-536870913;if(J!==H.lane?(Bt&J)===J:(Oa&J)===J){var Y=H.revertLane;if(Y===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),J===Os&&(X=!0);else if((Oa&Y)===Y){H=H.next,Y===Os&&(X=!0);continue}else J={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},O===null?(T=O=J,E=d):O=O.next=J,Nt.lanes|=Y,ka|=Y;J=H.action,zi&&s(d,J),d=H.hasEagerState?H.eagerState:s(d,J)}else Y={lane:J,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},O===null?(T=O=Y,E=d):O=O.next=Y,Nt.lanes|=J,ka|=J;H=H.next}while(H!==null&&H!==a);if(O===null?E=d:O.next=T,!An(d,e.memoizedState)&&(Be=!0,X&&(s=Is,s!==null)))throw s;e.memoizedState=d,e.baseState=E,e.baseQueue=O,o.lastRenderedState=d}return f===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function xh(e){var a=Ce(),s=a.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=e;var o=s.dispatch,f=s.pending,d=a.memoizedState;if(f!==null){s.pending=null;var E=f=f.next;do d=e(d,E.action),E=E.next;while(E!==f);An(d,a.memoizedState)||(Be=!0),a.memoizedState=d,a.baseQueue===null&&(a.baseState=d),s.lastRenderedState=d}return[d,o]}function Ly(e,a,s){var o=Nt,f=Ce(),d=Kt;if(d){if(s===void 0)throw Error(i(407));s=s()}else s=a();var E=!An((ee||f).memoizedState,s);E&&(f.memoizedState=s,Be=!0),f=f.queue;var T=jy.bind(null,o,f,e);if(Jl(2048,8,T,[e]),f.getSnapshot!==a||E||De!==null&&De.memoizedState.tag&1){if(o.flags|=2048,Ps(9,Yu(),Uy.bind(null,o,f,s,a),null),le===null)throw Error(i(349));d||(Oa&124)!==0||ky(o,a,s)}return s}function ky(e,a,s){e.flags|=16384,e={getSnapshot:a,value:s},a=Nt.updateQueue,a===null?(a=Rh(),Nt.updateQueue=a,a.stores=[e]):(s=a.stores,s===null?a.stores=[e]:s.push(e))}function Uy(e,a,s,o){a.value=s,a.getSnapshot=o,zy(a)&&By(e)}function jy(e,a,s){return s(function(){zy(a)&&By(e)})}function zy(e){var a=e.getSnapshot;e=e.value;try{var s=a();return!An(e,s)}catch{return!0}}function By(e){var a=Rs(e,2);a!==null&&In(a,e,2)}function Oh(e){var a=pn();if(typeof e=="function"){var s=e;if(e=s(),zi){hn(!0);try{s()}finally{hn(!1)}}}return a.memoizedState=a.baseState=e,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:e},a}function qy(e,a,s,o){return e.baseState=s,Ch(e,ee,typeof o=="function"?o:ra)}function rw(e,a,s,o,f){if(Qu(e))throw Error(i(485));if(e=a.action,e!==null){var d={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};G.T!==null?s(!0):d.isTransition=!1,o(d),s=a.pending,s===null?(d.next=a.pending=d,Hy(a,d)):(d.next=s.next,a.pending=s.next=d)}}function Hy(e,a){var s=a.action,o=a.payload,f=e.state;if(a.isTransition){var d=G.T,E={};G.T=E;try{var T=s(f,o),O=G.S;O!==null&&O(E,T),Fy(e,a,T)}catch(H){Ih(e,a,H)}finally{G.T=d}}else try{d=s(f,o),Fy(e,a,d)}catch(H){Ih(e,a,H)}}function Fy(e,a,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Yy(e,a,o)},function(o){return Ih(e,a,o)}):Yy(e,a,s)}function Yy(e,a,s){a.status="fulfilled",a.value=s,Gy(a),e.state=s,a=e.pending,a!==null&&(s=a.next,s===a?e.pending=null:(s=s.next,a.next=s,Hy(e,s)))}function Ih(e,a,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do a.status="rejected",a.reason=s,Gy(a),a=a.next;while(a!==o)}e.action=null}function Gy(e){e=e.listeners;for(var a=0;a<e.length;a++)(0,e[a])()}function Qy(e,a){return a}function Ky(e,a){if(Kt){var s=le.formState;if(s!==null){t:{var o=Nt;if(Kt){if(_e){e:{for(var f=_e,d=Rr;f.nodeType!==8;){if(!d){f=null;break e}if(f=ur(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){_e=ur(f.nextSibling),o=f.data==="F!";break t}}Li(o)}o=!1}o&&(a=s[0])}}return s=pn(),s.memoizedState=s.baseState=a,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qy,lastRenderedState:a},s.queue=o,s=dp.bind(null,Nt,o),o.dispatch=s,o=Oh(!1),d=Lh.bind(null,Nt,!1,o.queue),o=pn(),f={state:a,dispatch:null,action:e,pending:null},o.queue=f,s=rw.bind(null,Nt,f,d,s),f.dispatch=s,o.memoizedState=e,[a,s,!1]}function $y(e){var a=Ce();return Xy(a,ee,e)}function Xy(e,a,s){if(a=Ch(e,a,Qy)[0],e=Fu(ra)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var o=Zl(a)}catch(E){throw E===Gl?Uu:E}else o=a;a=Ce();var f=a.queue,d=f.dispatch;return s!==a.memoizedState&&(Nt.flags|=2048,Ps(9,Yu(),aw.bind(null,f,s),null)),[o,d,e]}function aw(e,a){e.action=a}function Wy(e){var a=Ce(),s=ee;if(s!==null)return Xy(a,s,e);Ce(),a=a.memoizedState,s=Ce();var o=s.queue.dispatch;return s.memoizedState=e,[a,o,!1]}function Ps(e,a,s,o){return e={tag:e,create:s,deps:o,inst:a,next:null},a=Nt.updateQueue,a===null&&(a=Rh(),Nt.updateQueue=a),s=a.lastEffect,s===null?a.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,a.lastEffect=e),e}function Yu(){return{destroy:void 0,resource:void 0}}function Zy(){return Ce().memoizedState}function Gu(e,a,s,o){var f=pn();o=o===void 0?null:o,Nt.flags|=e,f.memoizedState=Ps(1|a,Yu(),s,o)}function Jl(e,a,s,o){var f=Ce();o=o===void 0?null:o;var d=f.memoizedState.inst;ee!==null&&o!==null&&Th(o,ee.memoizedState.deps)?f.memoizedState=Ps(a,d,s,o):(Nt.flags|=e,f.memoizedState=Ps(1|a,d,s,o))}function Jy(e,a){Gu(8390656,8,e,a)}function tp(e,a){Jl(2048,8,e,a)}function ep(e,a){return Jl(4,2,e,a)}function np(e,a){return Jl(4,4,e,a)}function rp(e,a){if(typeof a=="function"){e=e();var s=a(e);return function(){typeof s=="function"?s():a(null)}}if(a!=null)return e=e(),a.current=e,function(){a.current=null}}function ap(e,a,s){s=s!=null?s.concat([e]):null,Jl(4,4,rp.bind(null,a,e),s)}function Nh(){}function ip(e,a){var s=Ce();a=a===void 0?null:a;var o=s.memoizedState;return a!==null&&Th(a,o[1])?o[0]:(s.memoizedState=[e,a],e)}function sp(e,a){var s=Ce();a=a===void 0?null:a;var o=s.memoizedState;if(a!==null&&Th(a,o[1]))return o[0];if(o=e(),zi){hn(!0);try{e()}finally{hn(!1)}}return s.memoizedState=[o,a],o}function Mh(e,a,s){return s===void 0||(Oa&1073741824)!==0?e.memoizedState=a:(e.memoizedState=s,e=uv(),Nt.lanes|=e,ka|=e,s)}function lp(e,a,s,o){return An(s,a)?s:Ns.current!==null?(e=Mh(e,s,o),An(e,a)||(Be=!0),e):(Oa&42)===0?(Be=!0,e.memoizedState=s):(e=uv(),Nt.lanes|=e,ka|=e,a)}function op(e,a,s,o,f){var d=st.p;st.p=d!==0&&8>d?d:8;var E=G.T,T={};G.T=T,Lh(e,!1,a,s);try{var O=f(),H=G.S;if(H!==null&&H(T,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var X=tw(O,o);to(e,a,X,On(e))}else to(e,a,o,On(e))}catch(J){to(e,a,{then:function(){},status:"rejected",reason:J},On())}finally{st.p=d,G.T=E}}function iw(){}function Vh(e,a,s,o){if(e.tag!==5)throw Error(i(476));var f=up(e).queue;op(e,f,a,mt,s===null?iw:function(){return cp(e),s(o)})}function up(e){var a=e.memoizedState;if(a!==null)return a;a={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:mt},next:null};var s={};return a.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:s},next:null},e.memoizedState=a,e=e.alternate,e!==null&&(e.memoizedState=a),a}function cp(e){var a=up(e).next.queue;to(e,a,{},On())}function Ph(){return sn(_o)}function fp(){return Ce().memoizedState}function hp(){return Ce().memoizedState}function sw(e){for(var a=e.return;a!==null;){switch(a.tag){case 24:case 3:var s=On();e=Ca(s);var o=xa(a,e,s);o!==null&&(In(o,a,s),Kl(o,a,s)),a={cache:fh()},e.payload=a;return}a=a.return}}function lw(e,a,s){var o=On();s={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Qu(e)?mp(a,s):(s=eh(e,a,s,o),s!==null&&(In(s,e,o),gp(s,a,o)))}function dp(e,a,s){var o=On();to(e,a,s,o)}function to(e,a,s,o){var f={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Qu(e))mp(a,f);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=a.lastRenderedReducer,d!==null))try{var E=a.lastRenderedState,T=d(E,s);if(f.hasEagerState=!0,f.eagerState=T,An(T,E))return Ou(e,a,f,0),le===null&&xu(),!1}catch{}finally{}if(s=eh(e,a,f,o),s!==null)return In(s,e,o),gp(s,a,o),!0}return!1}function Lh(e,a,s,o){if(o={lane:2,revertLane:md(),action:o,hasEagerState:!1,eagerState:null,next:null},Qu(e)){if(a)throw Error(i(479))}else a=eh(e,s,o,2),a!==null&&In(a,e,2)}function Qu(e){var a=e.alternate;return e===Nt||a!==null&&a===Nt}function mp(e,a){Ms=Bu=!0;var s=e.pending;s===null?a.next=a:(a.next=s.next,s.next=a),e.pending=a}function gp(e,a,s){if((s&4194048)!==0){var o=a.lanes;o&=e.pendingLanes,s|=o,a.lanes=s,yr(e,s)}}var Ku={readContext:sn,use:Hu,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useLayoutEffect:Te,useInsertionEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useSyncExternalStore:Te,useId:Te,useHostTransitionStatus:Te,useFormState:Te,useActionState:Te,useOptimistic:Te,useMemoCache:Te,useCacheRefresh:Te},yp={readContext:sn,use:Hu,useCallback:function(e,a){return pn().memoizedState=[e,a===void 0?null:a],e},useContext:sn,useEffect:Jy,useImperativeHandle:function(e,a,s){s=s!=null?s.concat([e]):null,Gu(4194308,4,rp.bind(null,a,e),s)},useLayoutEffect:function(e,a){return Gu(4194308,4,e,a)},useInsertionEffect:function(e,a){Gu(4,2,e,a)},useMemo:function(e,a){var s=pn();a=a===void 0?null:a;var o=e();if(zi){hn(!0);try{e()}finally{hn(!1)}}return s.memoizedState=[o,a],o},useReducer:function(e,a,s){var o=pn();if(s!==void 0){var f=s(a);if(zi){hn(!0);try{s(a)}finally{hn(!1)}}}else f=a;return o.memoizedState=o.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},o.queue=e,e=e.dispatch=lw.bind(null,Nt,e),[o.memoizedState,e]},useRef:function(e){var a=pn();return e={current:e},a.memoizedState=e},useState:function(e){e=Oh(e);var a=e.queue,s=dp.bind(null,Nt,a);return a.dispatch=s,[e.memoizedState,s]},useDebugValue:Nh,useDeferredValue:function(e,a){var s=pn();return Mh(s,e,a)},useTransition:function(){var e=Oh(!1);return e=op.bind(null,Nt,e.queue,!0,!1),pn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,a,s){var o=Nt,f=pn();if(Kt){if(s===void 0)throw Error(i(407));s=s()}else{if(s=a(),le===null)throw Error(i(349));(Bt&124)!==0||ky(o,a,s)}f.memoizedState=s;var d={value:s,getSnapshot:a};return f.queue=d,Jy(jy.bind(null,o,d,e),[e]),o.flags|=2048,Ps(9,Yu(),Uy.bind(null,o,d,s,a),null),s},useId:function(){var e=pn(),a=le.identifierPrefix;if(Kt){var s=ta,o=Jr;s=(o&~(1<<32-Se(o)-1)).toString(32)+s,a="«"+a+"R"+s,s=qu++,0<s&&(a+="H"+s.toString(32)),a+="»"}else s=ew++,a="«"+a+"r"+s.toString(32)+"»";return e.memoizedState=a},useHostTransitionStatus:Ph,useFormState:Ky,useActionState:Ky,useOptimistic:function(e){var a=pn();a.memoizedState=a.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=s,a=Lh.bind(null,Nt,!0,s),s.dispatch=a,[e,a]},useMemoCache:Dh,useCacheRefresh:function(){return pn().memoizedState=sw.bind(null,Nt)}},pp={readContext:sn,use:Hu,useCallback:ip,useContext:sn,useEffect:tp,useImperativeHandle:ap,useInsertionEffect:ep,useLayoutEffect:np,useMemo:sp,useReducer:Fu,useRef:Zy,useState:function(){return Fu(ra)},useDebugValue:Nh,useDeferredValue:function(e,a){var s=Ce();return lp(s,ee.memoizedState,e,a)},useTransition:function(){var e=Fu(ra)[0],a=Ce().memoizedState;return[typeof e=="boolean"?e:Zl(e),a]},useSyncExternalStore:Ly,useId:fp,useHostTransitionStatus:Ph,useFormState:$y,useActionState:$y,useOptimistic:function(e,a){var s=Ce();return qy(s,ee,e,a)},useMemoCache:Dh,useCacheRefresh:hp},ow={readContext:sn,use:Hu,useCallback:ip,useContext:sn,useEffect:tp,useImperativeHandle:ap,useInsertionEffect:ep,useLayoutEffect:np,useMemo:sp,useReducer:xh,useRef:Zy,useState:function(){return xh(ra)},useDebugValue:Nh,useDeferredValue:function(e,a){var s=Ce();return ee===null?Mh(s,e,a):lp(s,ee.memoizedState,e,a)},useTransition:function(){var e=xh(ra)[0],a=Ce().memoizedState;return[typeof e=="boolean"?e:Zl(e),a]},useSyncExternalStore:Ly,useId:fp,useHostTransitionStatus:Ph,useFormState:Wy,useActionState:Wy,useOptimistic:function(e,a){var s=Ce();return ee!==null?qy(s,ee,e,a):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Dh,useCacheRefresh:hp},Ls=null,eo=0;function $u(e){var a=eo;return eo+=1,Ls===null&&(Ls=[]),Cy(Ls,e,a)}function no(e,a){a=a.props.ref,e.ref=a!==void 0?a:null}function Xu(e,a){throw a.$$typeof===b?Error(i(525)):(e=Object.prototype.toString.call(a),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":e)))}function vp(e){var a=e._init;return a(e._payload)}function _p(e){function a(j,V){if(e){var q=j.deletions;q===null?(j.deletions=[V],j.flags|=16):q.push(V)}}function s(j,V){if(!e)return null;for(;V!==null;)a(j,V),V=V.sibling;return null}function o(j){for(var V=new Map;j!==null;)j.key!==null?V.set(j.key,j):V.set(j.index,j),j=j.sibling;return V}function f(j,V){return j=Zr(j,V),j.index=0,j.sibling=null,j}function d(j,V,q){return j.index=q,e?(q=j.alternate,q!==null?(q=q.index,q<V?(j.flags|=67108866,V):q):(j.flags|=67108866,V)):(j.flags|=1048576,V)}function E(j){return e&&j.alternate===null&&(j.flags|=67108866),j}function T(j,V,q,W){return V===null||V.tag!==6?(V=rh(q,j.mode,W),V.return=j,V):(V=f(V,q),V.return=j,V)}function O(j,V,q,W){var ht=q.type;return ht===R?X(j,V,q.props.children,W,q.key):V!==null&&(V.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===A&&vp(ht)===V.type)?(V=f(V,q.props),no(V,q),V.return=j,V):(V=Nu(q.type,q.key,q.props,null,j.mode,W),no(V,q),V.return=j,V)}function H(j,V,q,W){return V===null||V.tag!==4||V.stateNode.containerInfo!==q.containerInfo||V.stateNode.implementation!==q.implementation?(V=ah(q,j.mode,W),V.return=j,V):(V=f(V,q.children||[]),V.return=j,V)}function X(j,V,q,W,ht){return V===null||V.tag!==7?(V=Ni(q,j.mode,W,ht),V.return=j,V):(V=f(V,q),V.return=j,V)}function J(j,V,q){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=rh(""+V,j.mode,q),V.return=j,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case w:return q=Nu(V.type,V.key,V.props,null,j.mode,q),no(q,V),q.return=j,q;case D:return V=ah(V,j.mode,q),V.return=j,V;case A:var W=V._init;return V=W(V._payload),J(j,V,q)}if(Dt(V)||U(V))return V=Ni(V,j.mode,q,null),V.return=j,V;if(typeof V.then=="function")return J(j,$u(V),q);if(V.$$typeof===nt)return J(j,Lu(j,V),q);Xu(j,V)}return null}function Y(j,V,q,W){var ht=V!==null?V.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ht!==null?null:T(j,V,""+q,W);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case w:return q.key===ht?O(j,V,q,W):null;case D:return q.key===ht?H(j,V,q,W):null;case A:return ht=q._init,q=ht(q._payload),Y(j,V,q,W)}if(Dt(q)||U(q))return ht!==null?null:X(j,V,q,W,null);if(typeof q.then=="function")return Y(j,V,$u(q),W);if(q.$$typeof===nt)return Y(j,V,Lu(j,q),W);Xu(j,q)}return null}function Q(j,V,q,W,ht){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return j=j.get(q)||null,T(V,j,""+W,ht);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case w:return j=j.get(W.key===null?q:W.key)||null,O(V,j,W,ht);case D:return j=j.get(W.key===null?q:W.key)||null,H(V,j,W,ht);case A:var Pt=W._init;return W=Pt(W._payload),Q(j,V,q,W,ht)}if(Dt(W)||U(W))return j=j.get(q)||null,X(V,j,W,ht,null);if(typeof W.then=="function")return Q(j,V,q,$u(W),ht);if(W.$$typeof===nt)return Q(j,V,q,Lu(V,W),ht);Xu(V,W)}return null}function bt(j,V,q,W){for(var ht=null,Pt=null,pt=V,Tt=V=0,He=null;pt!==null&&Tt<q.length;Tt++){pt.index>Tt?(He=pt,pt=null):He=pt.sibling;var Gt=Y(j,pt,q[Tt],W);if(Gt===null){pt===null&&(pt=He);break}e&&pt&&Gt.alternate===null&&a(j,pt),V=d(Gt,V,Tt),Pt===null?ht=Gt:Pt.sibling=Gt,Pt=Gt,pt=He}if(Tt===q.length)return s(j,pt),Kt&&Vi(j,Tt),ht;if(pt===null){for(;Tt<q.length;Tt++)pt=J(j,q[Tt],W),pt!==null&&(V=d(pt,V,Tt),Pt===null?ht=pt:Pt.sibling=pt,Pt=pt);return Kt&&Vi(j,Tt),ht}for(pt=o(pt);Tt<q.length;Tt++)He=Q(pt,j,Tt,q[Tt],W),He!==null&&(e&&He.alternate!==null&&pt.delete(He.key===null?Tt:He.key),V=d(He,V,Tt),Pt===null?ht=He:Pt.sibling=He,Pt=He);return e&&pt.forEach(function(Ga){return a(j,Ga)}),Kt&&Vi(j,Tt),ht}function Et(j,V,q,W){if(q==null)throw Error(i(151));for(var ht=null,Pt=null,pt=V,Tt=V=0,He=null,Gt=q.next();pt!==null&&!Gt.done;Tt++,Gt=q.next()){pt.index>Tt?(He=pt,pt=null):He=pt.sibling;var Ga=Y(j,pt,Gt.value,W);if(Ga===null){pt===null&&(pt=He);break}e&&pt&&Ga.alternate===null&&a(j,pt),V=d(Ga,V,Tt),Pt===null?ht=Ga:Pt.sibling=Ga,Pt=Ga,pt=He}if(Gt.done)return s(j,pt),Kt&&Vi(j,Tt),ht;if(pt===null){for(;!Gt.done;Tt++,Gt=q.next())Gt=J(j,Gt.value,W),Gt!==null&&(V=d(Gt,V,Tt),Pt===null?ht=Gt:Pt.sibling=Gt,Pt=Gt);return Kt&&Vi(j,Tt),ht}for(pt=o(pt);!Gt.done;Tt++,Gt=q.next())Gt=Q(pt,j,Tt,Gt.value,W),Gt!==null&&(e&&Gt.alternate!==null&&pt.delete(Gt.key===null?Tt:Gt.key),V=d(Gt,V,Tt),Pt===null?ht=Gt:Pt.sibling=Gt,Pt=Gt);return e&&pt.forEach(function(uS){return a(j,uS)}),Kt&&Vi(j,Tt),ht}function re(j,V,q,W){if(typeof q=="object"&&q!==null&&q.type===R&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case w:t:{for(var ht=q.key;V!==null;){if(V.key===ht){if(ht=q.type,ht===R){if(V.tag===7){s(j,V.sibling),W=f(V,q.props.children),W.return=j,j=W;break t}}else if(V.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===A&&vp(ht)===V.type){s(j,V.sibling),W=f(V,q.props),no(W,q),W.return=j,j=W;break t}s(j,V);break}else a(j,V);V=V.sibling}q.type===R?(W=Ni(q.props.children,j.mode,W,q.key),W.return=j,j=W):(W=Nu(q.type,q.key,q.props,null,j.mode,W),no(W,q),W.return=j,j=W)}return E(j);case D:t:{for(ht=q.key;V!==null;){if(V.key===ht)if(V.tag===4&&V.stateNode.containerInfo===q.containerInfo&&V.stateNode.implementation===q.implementation){s(j,V.sibling),W=f(V,q.children||[]),W.return=j,j=W;break t}else{s(j,V);break}else a(j,V);V=V.sibling}W=ah(q,j.mode,W),W.return=j,j=W}return E(j);case A:return ht=q._init,q=ht(q._payload),re(j,V,q,W)}if(Dt(q))return bt(j,V,q,W);if(U(q)){if(ht=U(q),typeof ht!="function")throw Error(i(150));return q=ht.call(q),Et(j,V,q,W)}if(typeof q.then=="function")return re(j,V,$u(q),W);if(q.$$typeof===nt)return re(j,V,Lu(j,q),W);Xu(j,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,V!==null&&V.tag===6?(s(j,V.sibling),W=f(V,q),W.return=j,j=W):(s(j,V),W=rh(q,j.mode,W),W.return=j,j=W),E(j)):s(j,V)}return function(j,V,q,W){try{eo=0;var ht=re(j,V,q,W);return Ls=null,ht}catch(pt){if(pt===Gl||pt===Uu)throw pt;var Pt=Rn(29,pt,null,j.mode);return Pt.lanes=W,Pt.return=j,Pt}finally{}}}var ks=_p(!0),Ep=_p(!1),Kn=Z(null),Dr=null;function Ia(e){var a=e.alternate;at(Pe,Pe.current&1),at(Kn,e),Dr===null&&(a===null||Ns.current!==null||a.memoizedState!==null)&&(Dr=e)}function Tp(e){if(e.tag===22){if(at(Pe,Pe.current),at(Kn,e),Dr===null){var a=e.alternate;a!==null&&a.memoizedState!==null&&(Dr=e)}}else Na()}function Na(){at(Pe,Pe.current),at(Kn,Kn.current)}function aa(e){ot(Kn),Dr===e&&(Dr=null),ot(Pe)}var Pe=Z(0);function Wu(e){for(var a=e;a!==null;){if(a.tag===13){var s=a.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Rd(s)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function kh(e,a,s,o){a=e.memoizedState,s=s(o,a),s=s==null?a:_({},a,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Uh={enqueueSetState:function(e,a,s){e=e._reactInternals;var o=On(),f=Ca(o);f.payload=a,s!=null&&(f.callback=s),a=xa(e,f,o),a!==null&&(In(a,e,o),Kl(a,e,o))},enqueueReplaceState:function(e,a,s){e=e._reactInternals;var o=On(),f=Ca(o);f.tag=1,f.payload=a,s!=null&&(f.callback=s),a=xa(e,f,o),a!==null&&(In(a,e,o),Kl(a,e,o))},enqueueForceUpdate:function(e,a){e=e._reactInternals;var s=On(),o=Ca(s);o.tag=2,a!=null&&(o.callback=a),a=xa(e,o,s),a!==null&&(In(a,e,s),Kl(a,e,s))}};function bp(e,a,s,o,f,d,E){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,E):a.prototype&&a.prototype.isPureReactComponent?!Ul(s,o)||!Ul(f,d):!0}function wp(e,a,s,o){e=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(s,o),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(s,o),a.state!==e&&Uh.enqueueReplaceState(a,a.state,null)}function Bi(e,a){var s=a;if("ref"in a){s={};for(var o in a)o!=="ref"&&(s[o]=a[o])}if(e=e.defaultProps){s===a&&(s=_({},s));for(var f in e)s[f]===void 0&&(s[f]=e[f])}return s}var Zu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Sp(e){Zu(e)}function Ap(e){console.error(e)}function Rp(e){Zu(e)}function Ju(e,a){try{var s=e.onUncaughtError;s(a.value,{componentStack:a.stack})}catch(o){setTimeout(function(){throw o})}}function Dp(e,a,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function jh(e,a,s){return s=Ca(s),s.tag=3,s.payload={element:null},s.callback=function(){Ju(e,a)},s}function Cp(e){return e=Ca(e),e.tag=3,e}function xp(e,a,s,o){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var d=o.value;e.payload=function(){return f(d)},e.callback=function(){Dp(a,s,o)}}var E=s.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(e.callback=function(){Dp(a,s,o),typeof f!="function"&&(Ua===null?Ua=new Set([this]):Ua.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function uw(e,a,s,o,f){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(a=s.alternate,a!==null&&Hl(a,s,f,!0),s=Kn.current,s!==null){switch(s.tag){case 13:return Dr===null?ud():s.alternate===null&&Ee===0&&(Ee=3),s.flags&=-257,s.flags|=65536,s.lanes=f,o===mh?s.flags|=16384:(a=s.updateQueue,a===null?s.updateQueue=new Set([o]):a.add(o),fd(e,o,f)),!1;case 22:return s.flags|=65536,o===mh?s.flags|=16384:(a=s.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=a):(s=a.retryQueue,s===null?a.retryQueue=new Set([o]):s.add(o)),fd(e,o,f)),!1}throw Error(i(435,s.tag))}return fd(e,o,f),ud(),!1}if(Kt)return a=Kn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=f,o!==lh&&(e=Error(i(422),{cause:o}),ql(Fn(e,s)))):(o!==lh&&(a=Error(i(423),{cause:o}),ql(Fn(a,s))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,o=Fn(o,s),f=jh(e.stateNode,o,f),ph(e,f),Ee!==4&&(Ee=2)),!1;var d=Error(i(520),{cause:o});if(d=Fn(d,s),uo===null?uo=[d]:uo.push(d),Ee!==4&&(Ee=2),a===null)return!0;o=Fn(o,s),s=a;do{switch(s.tag){case 3:return s.flags|=65536,e=f&-f,s.lanes|=e,e=jh(s.stateNode,o,e),ph(s,e),!1;case 1:if(a=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ua===null||!Ua.has(d))))return s.flags|=65536,f&=-f,s.lanes|=f,f=Cp(f),xp(f,e,s,o),ph(s,f),!1}s=s.return}while(s!==null);return!1}var Op=Error(i(461)),Be=!1;function Ze(e,a,s,o){a.child=e===null?Ep(a,null,s,o):ks(a,e.child,s,o)}function Ip(e,a,s,o,f){s=s.render;var d=a.ref;if("ref"in o){var E={};for(var T in o)T!=="ref"&&(E[T]=o[T])}else E=o;return Ui(a),o=bh(e,a,s,E,d,f),T=wh(),e!==null&&!Be?(Sh(e,a,f),ia(e,a,f)):(Kt&&T&&ih(a),a.flags|=1,Ze(e,a,o,f),a.child)}function Np(e,a,s,o,f){if(e===null){var d=s.type;return typeof d=="function"&&!nh(d)&&d.defaultProps===void 0&&s.compare===null?(a.tag=15,a.type=d,Mp(e,a,d,o,f)):(e=Nu(s.type,null,o,a,a.mode,f),e.ref=a.ref,e.return=a,a.child=e)}if(d=e.child,!Qh(e,f)){var E=d.memoizedProps;if(s=s.compare,s=s!==null?s:Ul,s(E,o)&&e.ref===a.ref)return ia(e,a,f)}return a.flags|=1,e=Zr(d,o),e.ref=a.ref,e.return=a,a.child=e}function Mp(e,a,s,o,f){if(e!==null){var d=e.memoizedProps;if(Ul(d,o)&&e.ref===a.ref)if(Be=!1,a.pendingProps=o=d,Qh(e,f))(e.flags&131072)!==0&&(Be=!0);else return a.lanes=e.lanes,ia(e,a,f)}return zh(e,a,s,o,f)}function Vp(e,a,s){var o=a.pendingProps,f=o.children,d=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((a.flags&128)!==0){if(o=d!==null?d.baseLanes|s:s,e!==null){for(f=a.child=e.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;a.childLanes=d&~o}else a.childLanes=0,a.child=null;return Pp(e,a,o,s)}if((s&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},e!==null&&ku(a,d!==null?d.cachePool:null),d!==null?My(a,d):_h(),Tp(a);else return a.lanes=a.childLanes=536870912,Pp(e,a,d!==null?d.baseLanes|s:s,s)}else d!==null?(ku(a,d.cachePool),My(a,d),Na(),a.memoizedState=null):(e!==null&&ku(a,null),_h(),Na());return Ze(e,a,f,s),a.child}function Pp(e,a,s,o){var f=dh();return f=f===null?null:{parent:Ve._currentValue,pool:f},a.memoizedState={baseLanes:s,cachePool:f},e!==null&&ku(a,null),_h(),Tp(a),e!==null&&Hl(e,a,o,!0),null}function tc(e,a){var s=a.ref;if(s===null)e!==null&&e.ref!==null&&(a.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(i(284));(e===null||e.ref!==s)&&(a.flags|=4194816)}}function zh(e,a,s,o,f){return Ui(a),s=bh(e,a,s,o,void 0,f),o=wh(),e!==null&&!Be?(Sh(e,a,f),ia(e,a,f)):(Kt&&o&&ih(a),a.flags|=1,Ze(e,a,s,f),a.child)}function Lp(e,a,s,o,f,d){return Ui(a),a.updateQueue=null,s=Py(a,o,s,f),Vy(e),o=wh(),e!==null&&!Be?(Sh(e,a,d),ia(e,a,d)):(Kt&&o&&ih(a),a.flags|=1,Ze(e,a,s,d),a.child)}function kp(e,a,s,o,f){if(Ui(a),a.stateNode===null){var d=Ds,E=s.contextType;typeof E=="object"&&E!==null&&(d=sn(E)),d=new s(o,d),a.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Uh,a.stateNode=d,d._reactInternals=a,d=a.stateNode,d.props=o,d.state=a.memoizedState,d.refs={},gh(a),E=s.contextType,d.context=typeof E=="object"&&E!==null?sn(E):Ds,d.state=a.memoizedState,E=s.getDerivedStateFromProps,typeof E=="function"&&(kh(a,s,E,o),d.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&Uh.enqueueReplaceState(d,d.state,null),Xl(a,o,d,f),$l(),d.state=a.memoizedState),typeof d.componentDidMount=="function"&&(a.flags|=4194308),o=!0}else if(e===null){d=a.stateNode;var T=a.memoizedProps,O=Bi(s,T);d.props=O;var H=d.context,X=s.contextType;E=Ds,typeof X=="object"&&X!==null&&(E=sn(X));var J=s.getDerivedStateFromProps;X=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=a.pendingProps!==T,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||H!==E)&&wp(a,d,o,E),Da=!1;var Y=a.memoizedState;d.state=Y,Xl(a,o,d,f),$l(),H=a.memoizedState,T||Y!==H||Da?(typeof J=="function"&&(kh(a,s,J,o),H=a.memoizedState),(O=Da||bp(a,s,O,o,Y,H,E))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(a.flags|=4194308)):(typeof d.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=o,a.memoizedState=H),d.props=o,d.state=H,d.context=E,o=O):(typeof d.componentDidMount=="function"&&(a.flags|=4194308),o=!1)}else{d=a.stateNode,yh(e,a),E=a.memoizedProps,X=Bi(s,E),d.props=X,J=a.pendingProps,Y=d.context,H=s.contextType,O=Ds,typeof H=="object"&&H!==null&&(O=sn(H)),T=s.getDerivedStateFromProps,(H=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==J||Y!==O)&&wp(a,d,o,O),Da=!1,Y=a.memoizedState,d.state=Y,Xl(a,o,d,f),$l();var Q=a.memoizedState;E!==J||Y!==Q||Da||e!==null&&e.dependencies!==null&&Pu(e.dependencies)?(typeof T=="function"&&(kh(a,s,T,o),Q=a.memoizedState),(X=Da||bp(a,s,X,o,Y,Q,O)||e!==null&&e.dependencies!==null&&Pu(e.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,Q,O),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,Q,O)),typeof d.componentDidUpdate=="function"&&(a.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===e.memoizedProps&&Y===e.memoizedState||(a.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&Y===e.memoizedState||(a.flags|=1024),a.memoizedProps=o,a.memoizedState=Q),d.props=o,d.state=Q,d.context=O,o=X):(typeof d.componentDidUpdate!="function"||E===e.memoizedProps&&Y===e.memoizedState||(a.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&Y===e.memoizedState||(a.flags|=1024),o=!1)}return d=o,tc(e,a),o=(a.flags&128)!==0,d||o?(d=a.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:d.render(),a.flags|=1,e!==null&&o?(a.child=ks(a,e.child,null,f),a.child=ks(a,null,s,f)):Ze(e,a,s,f),a.memoizedState=d.state,e=a.child):e=ia(e,a,f),e}function Up(e,a,s,o){return Bl(),a.flags|=256,Ze(e,a,s,o),a.child}var Bh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qh(e){return{baseLanes:e,cachePool:Ay()}}function Hh(e,a,s){return e=e!==null?e.childLanes&~s:0,a&&(e|=$n),e}function jp(e,a,s){var o=a.pendingProps,f=!1,d=(a.flags&128)!==0,E;if((E=d)||(E=e!==null&&e.memoizedState===null?!1:(Pe.current&2)!==0),E&&(f=!0,a.flags&=-129),E=(a.flags&32)!==0,a.flags&=-33,e===null){if(Kt){if(f?Ia(a):Na(),Kt){var T=_e,O;if(O=T){t:{for(O=T,T=Rr;O.nodeType!==8;){if(!T){T=null;break t}if(O=ur(O.nextSibling),O===null){T=null;break t}}T=O}T!==null?(a.memoizedState={dehydrated:T,treeContext:Mi!==null?{id:Jr,overflow:ta}:null,retryLane:536870912,hydrationErrors:null},O=Rn(18,null,null,0),O.stateNode=T,O.return=a,a.child=O,yn=a,_e=null,O=!0):O=!1}O||Li(a)}if(T=a.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Rd(T)?a.lanes=32:a.lanes=536870912,null;aa(a)}return T=o.children,o=o.fallback,f?(Na(),f=a.mode,T=ec({mode:"hidden",children:T},f),o=Ni(o,f,s,null),T.return=a,o.return=a,T.sibling=o,a.child=T,f=a.child,f.memoizedState=qh(s),f.childLanes=Hh(e,E,s),a.memoizedState=Bh,o):(Ia(a),Fh(a,T))}if(O=e.memoizedState,O!==null&&(T=O.dehydrated,T!==null)){if(d)a.flags&256?(Ia(a),a.flags&=-257,a=Yh(e,a,s)):a.memoizedState!==null?(Na(),a.child=e.child,a.flags|=128,a=null):(Na(),f=o.fallback,T=a.mode,o=ec({mode:"visible",children:o.children},T),f=Ni(f,T,s,null),f.flags|=2,o.return=a,f.return=a,o.sibling=f,a.child=o,ks(a,e.child,null,s),o=a.child,o.memoizedState=qh(s),o.childLanes=Hh(e,E,s),a.memoizedState=Bh,a=f);else if(Ia(a),Rd(T)){if(E=T.nextSibling&&T.nextSibling.dataset,E)var H=E.dgst;E=H,o=Error(i(419)),o.stack="",o.digest=E,ql({value:o,source:null,stack:null}),a=Yh(e,a,s)}else if(Be||Hl(e,a,s,!1),E=(s&e.childLanes)!==0,Be||E){if(E=le,E!==null&&(o=s&-s,o=(o&42)!==0?1:Yt(o),o=(o&(E.suspendedLanes|s))!==0?0:o,o!==0&&o!==O.retryLane))throw O.retryLane=o,Rs(e,o),In(E,e,o),Op;T.data==="$?"||ud(),a=Yh(e,a,s)}else T.data==="$?"?(a.flags|=192,a.child=e.child,a=null):(e=O.treeContext,_e=ur(T.nextSibling),yn=a,Kt=!0,Pi=null,Rr=!1,e!==null&&(Gn[Qn++]=Jr,Gn[Qn++]=ta,Gn[Qn++]=Mi,Jr=e.id,ta=e.overflow,Mi=a),a=Fh(a,o.children),a.flags|=4096);return a}return f?(Na(),f=o.fallback,T=a.mode,O=e.child,H=O.sibling,o=Zr(O,{mode:"hidden",children:o.children}),o.subtreeFlags=O.subtreeFlags&65011712,H!==null?f=Zr(H,f):(f=Ni(f,T,s,null),f.flags|=2),f.return=a,o.return=a,o.sibling=f,a.child=o,o=f,f=a.child,T=e.child.memoizedState,T===null?T=qh(s):(O=T.cachePool,O!==null?(H=Ve._currentValue,O=O.parent!==H?{parent:H,pool:H}:O):O=Ay(),T={baseLanes:T.baseLanes|s,cachePool:O}),f.memoizedState=T,f.childLanes=Hh(e,E,s),a.memoizedState=Bh,o):(Ia(a),s=e.child,e=s.sibling,s=Zr(s,{mode:"visible",children:o.children}),s.return=a,s.sibling=null,e!==null&&(E=a.deletions,E===null?(a.deletions=[e],a.flags|=16):E.push(e)),a.child=s,a.memoizedState=null,s)}function Fh(e,a){return a=ec({mode:"visible",children:a},e.mode),a.return=e,e.child=a}function ec(e,a){return e=Rn(22,e,null,a),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Yh(e,a,s){return ks(a,e.child,null,s),e=Fh(a,a.pendingProps.children),e.flags|=2,a.memoizedState=null,e}function zp(e,a,s){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a),uh(e.return,a,s)}function Gh(e,a,s,o,f){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:f}:(d.isBackwards=a,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=s,d.tailMode=f)}function Bp(e,a,s){var o=a.pendingProps,f=o.revealOrder,d=o.tail;if(Ze(e,a,o.children,s),o=Pe.current,(o&2)!==0)o=o&1|2,a.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=a.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zp(e,s,a);else if(e.tag===19)zp(e,s,a);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===a)break t;for(;e.sibling===null;){if(e.return===null||e.return===a)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(at(Pe,o),f){case"forwards":for(s=a.child,f=null;s!==null;)e=s.alternate,e!==null&&Wu(e)===null&&(f=s),s=s.sibling;s=f,s===null?(f=a.child,a.child=null):(f=s.sibling,s.sibling=null),Gh(a,!1,f,s,d);break;case"backwards":for(s=null,f=a.child,a.child=null;f!==null;){if(e=f.alternate,e!==null&&Wu(e)===null){a.child=f;break}e=f.sibling,f.sibling=s,s=f,f=e}Gh(a,!0,s,null,d);break;case"together":Gh(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function ia(e,a,s){if(e!==null&&(a.dependencies=e.dependencies),ka|=a.lanes,(s&a.childLanes)===0)if(e!==null){if(Hl(e,a,s,!1),(s&a.childLanes)===0)return null}else return null;if(e!==null&&a.child!==e.child)throw Error(i(153));if(a.child!==null){for(e=a.child,s=Zr(e,e.pendingProps),a.child=s,s.return=a;e.sibling!==null;)e=e.sibling,s=s.sibling=Zr(e,e.pendingProps),s.return=a;s.sibling=null}return a.child}function Qh(e,a){return(e.lanes&a)!==0?!0:(e=e.dependencies,!!(e!==null&&Pu(e)))}function cw(e,a,s){switch(a.tag){case 3:Ft(a,a.stateNode.containerInfo),Ra(a,Ve,e.memoizedState.cache),Bl();break;case 27:case 5:Vn(a);break;case 4:Ft(a,a.stateNode.containerInfo);break;case 10:Ra(a,a.type,a.memoizedProps.value);break;case 13:var o=a.memoizedState;if(o!==null)return o.dehydrated!==null?(Ia(a),a.flags|=128,null):(s&a.child.childLanes)!==0?jp(e,a,s):(Ia(a),e=ia(e,a,s),e!==null?e.sibling:null);Ia(a);break;case 19:var f=(e.flags&128)!==0;if(o=(s&a.childLanes)!==0,o||(Hl(e,a,s,!1),o=(s&a.childLanes)!==0),f){if(o)return Bp(e,a,s);a.flags|=128}if(f=a.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),at(Pe,Pe.current),o)break;return null;case 22:case 23:return a.lanes=0,Vp(e,a,s);case 24:Ra(a,Ve,e.memoizedState.cache)}return ia(e,a,s)}function qp(e,a,s){if(e!==null)if(e.memoizedProps!==a.pendingProps)Be=!0;else{if(!Qh(e,s)&&(a.flags&128)===0)return Be=!1,cw(e,a,s);Be=(e.flags&131072)!==0}else Be=!1,Kt&&(a.flags&1048576)!==0&&vy(a,Vu,a.index);switch(a.lanes=0,a.tag){case 16:t:{e=a.pendingProps;var o=a.elementType,f=o._init;if(o=f(o._payload),a.type=o,typeof o=="function")nh(o)?(e=Bi(o,e),a.tag=1,a=kp(null,a,o,e,s)):(a.tag=0,a=zh(null,a,o,e,s));else{if(o!=null){if(f=o.$$typeof,f===it){a.tag=11,a=Ip(null,a,o,e,s);break t}else if(f===M){a.tag=14,a=Np(null,a,o,e,s);break t}}throw a=dt(o)||o,Error(i(306,a,""))}}return a;case 0:return zh(e,a,a.type,a.pendingProps,s);case 1:return o=a.type,f=Bi(o,a.pendingProps),kp(e,a,o,f,s);case 3:t:{if(Ft(a,a.stateNode.containerInfo),e===null)throw Error(i(387));o=a.pendingProps;var d=a.memoizedState;f=d.element,yh(e,a),Xl(a,o,null,s);var E=a.memoizedState;if(o=E.cache,Ra(a,Ve,o),o!==d.cache&&ch(a,[Ve],s,!0),$l(),o=E.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:E.cache},a.updateQueue.baseState=d,a.memoizedState=d,a.flags&256){a=Up(e,a,o,s);break t}else if(o!==f){f=Fn(Error(i(424)),a),ql(f),a=Up(e,a,o,s);break t}else{switch(e=a.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(_e=ur(e.firstChild),yn=a,Kt=!0,Pi=null,Rr=!0,s=Ep(a,null,o,s),a.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Bl(),o===f){a=ia(e,a,s);break t}Ze(e,a,o,s)}a=a.child}return a;case 26:return tc(e,a),e===null?(s=Gv(a.type,null,a.pendingProps,null))?a.memoizedState=s:Kt||(s=a.type,e=a.pendingProps,o=gc(_t.current).createElement(s),o[ve]=a,o[he]=e,tn(o,s,e),Ot(o),a.stateNode=o):a.memoizedState=Gv(a.type,e.memoizedProps,a.pendingProps,e.memoizedState),null;case 27:return Vn(a),e===null&&Kt&&(o=a.stateNode=Hv(a.type,a.pendingProps,_t.current),yn=a,Rr=!0,f=_e,Ba(a.type)?(Dd=f,_e=ur(o.firstChild)):_e=f),Ze(e,a,a.pendingProps.children,s),tc(e,a),e===null&&(a.flags|=4194304),a.child;case 5:return e===null&&Kt&&((f=o=_e)&&(o=Uw(o,a.type,a.pendingProps,Rr),o!==null?(a.stateNode=o,yn=a,_e=ur(o.firstChild),Rr=!1,f=!0):f=!1),f||Li(a)),Vn(a),f=a.type,d=a.pendingProps,E=e!==null?e.memoizedProps:null,o=d.children,wd(f,d)?o=null:E!==null&&wd(f,E)&&(a.flags|=32),a.memoizedState!==null&&(f=bh(e,a,nw,null,null,s),_o._currentValue=f),tc(e,a),Ze(e,a,o,s),a.child;case 6:return e===null&&Kt&&((e=s=_e)&&(s=jw(s,a.pendingProps,Rr),s!==null?(a.stateNode=s,yn=a,_e=null,e=!0):e=!1),e||Li(a)),null;case 13:return jp(e,a,s);case 4:return Ft(a,a.stateNode.containerInfo),o=a.pendingProps,e===null?a.child=ks(a,null,o,s):Ze(e,a,o,s),a.child;case 11:return Ip(e,a,a.type,a.pendingProps,s);case 7:return Ze(e,a,a.pendingProps,s),a.child;case 8:return Ze(e,a,a.pendingProps.children,s),a.child;case 12:return Ze(e,a,a.pendingProps.children,s),a.child;case 10:return o=a.pendingProps,Ra(a,a.type,o.value),Ze(e,a,o.children,s),a.child;case 9:return f=a.type._context,o=a.pendingProps.children,Ui(a),f=sn(f),o=o(f),a.flags|=1,Ze(e,a,o,s),a.child;case 14:return Np(e,a,a.type,a.pendingProps,s);case 15:return Mp(e,a,a.type,a.pendingProps,s);case 19:return Bp(e,a,s);case 31:return o=a.pendingProps,s=a.mode,o={mode:o.mode,children:o.children},e===null?(s=ec(o,s),s.ref=a.ref,a.child=s,s.return=a,a=s):(s=Zr(e.child,o),s.ref=a.ref,a.child=s,s.return=a,a=s),a;case 22:return Vp(e,a,s);case 24:return Ui(a),o=sn(Ve),e===null?(f=dh(),f===null&&(f=le,d=fh(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=s),f=d),a.memoizedState={parent:o,cache:f},gh(a),Ra(a,Ve,f)):((e.lanes&s)!==0&&(yh(e,a),Xl(a,null,null,s),$l()),f=e.memoizedState,d=a.memoizedState,f.parent!==o?(f={parent:o,cache:o},a.memoizedState=f,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=f),Ra(a,Ve,o)):(o=d.cache,Ra(a,Ve,o),o!==f.cache&&ch(a,[Ve],s,!0))),Ze(e,a,a.pendingProps.children,s),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function sa(e){e.flags|=4}function Hp(e,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Wv(a)){if(a=Kn.current,a!==null&&((Bt&4194048)===Bt?Dr!==null:(Bt&62914560)!==Bt&&(Bt&536870912)===0||a!==Dr))throw Ql=mh,Ry;e.flags|=8192}}function nc(e,a){a!==null&&(e.flags|=4),e.flags&16384&&(a=e.tag!==22?Ta():536870912,e.lanes|=a,Bs|=a)}function ro(e,a){if(!Kt)switch(e.tailMode){case"hidden":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?a||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ye(e){var a=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(a)for(var f=e.child;f!==null;)s|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)s|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=o,e.childLanes=s,a}function fw(e,a,s){var o=a.pendingProps;switch(sh(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ye(a),null;case 1:return ye(a),null;case 3:return s=a.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),na(Ve),Ie(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(zl(a)?sa(a):e===null||e.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Ty())),ye(a),null;case 26:return s=a.memoizedState,e===null?(sa(a),s!==null?(ye(a),Hp(a,s)):(ye(a),a.flags&=-16777217)):s?s!==e.memoizedState?(sa(a),ye(a),Hp(a,s)):(ye(a),a.flags&=-16777217):(e.memoizedProps!==o&&sa(a),ye(a),a.flags&=-16777217),null;case 27:bn(a),s=_t.current;var f=a.type;if(e!==null&&a.stateNode!=null)e.memoizedProps!==o&&sa(a);else{if(!o){if(a.stateNode===null)throw Error(i(166));return ye(a),null}e=yt.current,zl(a)?_y(a):(e=Hv(f,o,s),a.stateNode=e,sa(a))}return ye(a),null;case 5:if(bn(a),s=a.type,e!==null&&a.stateNode!=null)e.memoizedProps!==o&&sa(a);else{if(!o){if(a.stateNode===null)throw Error(i(166));return ye(a),null}if(e=yt.current,zl(a))_y(a);else{switch(f=gc(_t.current),e){case 1:e=f.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:e=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":e=f.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":e=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?f.createElement("select",{is:o.is}):f.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?f.createElement(s,{is:o.is}):f.createElement(s)}}e[ve]=a,e[he]=o;t:for(f=a.child;f!==null;){if(f.tag===5||f.tag===6)e.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===a)break t;for(;f.sibling===null;){if(f.return===null||f.return===a)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}a.stateNode=e;t:switch(tn(e,s,o),s){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&sa(a)}}return ye(a),a.flags&=-16777217,null;case 6:if(e&&a.stateNode!=null)e.memoizedProps!==o&&sa(a);else{if(typeof o!="string"&&a.stateNode===null)throw Error(i(166));if(e=_t.current,zl(a)){if(e=a.stateNode,s=a.memoizedProps,o=null,f=yn,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}e[ve]=a,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Lv(e.nodeValue,s)),e||Li(a)}else e=gc(e).createTextNode(o),e[ve]=a,a.stateNode=e}return ye(a),null;case 13:if(o=a.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=zl(a),o!==null&&o.dehydrated!==null){if(e===null){if(!f)throw Error(i(318));if(f=a.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[ve]=a}else Bl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ye(a),f=!1}else f=Ty(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return a.flags&256?(aa(a),a):(aa(a),null)}if(aa(a),(a.flags&128)!==0)return a.lanes=s,a;if(s=o!==null,e=e!==null&&e.memoizedState!==null,s){o=a.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==f&&(o.flags|=2048)}return s!==e&&s&&(a.child.flags|=8192),nc(a,a.updateQueue),ye(a),null;case 4:return Ie(),e===null&&vd(a.stateNode.containerInfo),ye(a),null;case 10:return na(a.type),ye(a),null;case 19:if(ot(Pe),f=a.memoizedState,f===null)return ye(a),null;if(o=(a.flags&128)!==0,d=f.rendering,d===null)if(o)ro(f,!1);else{if(Ee!==0||e!==null&&(e.flags&128)!==0)for(e=a.child;e!==null;){if(d=Wu(e),d!==null){for(a.flags|=128,ro(f,!1),e=d.updateQueue,a.updateQueue=e,nc(a,e),a.subtreeFlags=0,e=s,s=a.child;s!==null;)py(s,e),s=s.sibling;return at(Pe,Pe.current&1|2),a.child}e=e.sibling}f.tail!==null&&Ge()>ic&&(a.flags|=128,o=!0,ro(f,!1),a.lanes=4194304)}else{if(!o)if(e=Wu(d),e!==null){if(a.flags|=128,o=!0,e=e.updateQueue,a.updateQueue=e,nc(a,e),ro(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!Kt)return ye(a),null}else 2*Ge()-f.renderingStartTime>ic&&s!==536870912&&(a.flags|=128,o=!0,ro(f,!1),a.lanes=4194304);f.isBackwards?(d.sibling=a.child,a.child=d):(e=f.last,e!==null?e.sibling=d:a.child=d,f.last=d)}return f.tail!==null?(a=f.tail,f.rendering=a,f.tail=a.sibling,f.renderingStartTime=Ge(),a.sibling=null,e=Pe.current,at(Pe,o?e&1|2:e&1),a):(ye(a),null);case 22:case 23:return aa(a),Eh(),o=a.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(a.flags|=8192):o&&(a.flags|=8192),o?(s&536870912)!==0&&(a.flags&128)===0&&(ye(a),a.subtreeFlags&6&&(a.flags|=8192)):ye(a),s=a.updateQueue,s!==null&&nc(a,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(o=a.memoizedState.cachePool.pool),o!==s&&(a.flags|=2048),e!==null&&ot(ji),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),a.memoizedState.cache!==s&&(a.flags|=2048),na(Ve),ye(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function hw(e,a){switch(sh(a),a.tag){case 1:return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 3:return na(Ve),Ie(),e=a.flags,(e&65536)!==0&&(e&128)===0?(a.flags=e&-65537|128,a):null;case 26:case 27:case 5:return bn(a),null;case 13:if(aa(a),e=a.memoizedState,e!==null&&e.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Bl()}return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 19:return ot(Pe),null;case 4:return Ie(),null;case 10:return na(a.type),null;case 22:case 23:return aa(a),Eh(),e!==null&&ot(ji),e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 24:return na(Ve),null;case 25:return null;default:return null}}function Fp(e,a){switch(sh(a),a.tag){case 3:na(Ve),Ie();break;case 26:case 27:case 5:bn(a);break;case 4:Ie();break;case 13:aa(a);break;case 19:ot(Pe);break;case 10:na(a.type);break;case 22:case 23:aa(a),Eh(),e!==null&&ot(ji);break;case 24:na(Ve)}}function ao(e,a){try{var s=a.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var f=o.next;s=f;do{if((s.tag&e)===e){o=void 0;var d=s.create,E=s.inst;o=d(),E.destroy=o}s=s.next}while(s!==f)}}catch(T){se(a,a.return,T)}}function Ma(e,a,s){try{var o=a.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var d=f.next;o=d;do{if((o.tag&e)===e){var E=o.inst,T=E.destroy;if(T!==void 0){E.destroy=void 0,f=a;var O=s,H=T;try{H()}catch(X){se(f,O,X)}}}o=o.next}while(o!==d)}}catch(X){se(a,a.return,X)}}function Yp(e){var a=e.updateQueue;if(a!==null){var s=e.stateNode;try{Ny(a,s)}catch(o){se(e,e.return,o)}}}function Gp(e,a,s){s.props=Bi(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){se(e,a,o)}}function io(e,a){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(f){se(e,a,f)}}function Cr(e,a){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(f){se(e,a,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){se(e,a,f)}else s.current=null}function Qp(e){var a=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(f){se(e,e.return,f)}}function Kh(e,a,s){try{var o=e.stateNode;Mw(o,e.type,s,a),o[he]=a}catch(f){se(e,e.return,f)}}function Kp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ba(e.type)||e.tag===4}function $h(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Kp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ba(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xh(e,a,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,a?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,a):(a=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,a.appendChild(e),s=s._reactRootContainer,s!=null||a.onclick!==null||(a.onclick=mc));else if(o!==4&&(o===27&&Ba(e.type)&&(s=e.stateNode,a=null),e=e.child,e!==null))for(Xh(e,a,s),e=e.sibling;e!==null;)Xh(e,a,s),e=e.sibling}function rc(e,a,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,a?s.insertBefore(e,a):s.appendChild(e);else if(o!==4&&(o===27&&Ba(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(rc(e,a,s),e=e.sibling;e!==null;)rc(e,a,s),e=e.sibling}function $p(e){var a=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,f=a.attributes;f.length;)a.removeAttributeNode(f[0]);tn(a,o,s),a[ve]=e,a[he]=s}catch(d){se(e,e.return,d)}}var la=!1,be=!1,Wh=!1,Xp=typeof WeakSet=="function"?WeakSet:Set,qe=null;function dw(e,a){if(e=e.containerInfo,Td=Tc,e=ly(e),$f(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var f=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break t}var E=0,T=-1,O=-1,H=0,X=0,J=e,Y=null;e:for(;;){for(var Q;J!==s||f!==0&&J.nodeType!==3||(T=E+f),J!==d||o!==0&&J.nodeType!==3||(O=E+o),J.nodeType===3&&(E+=J.nodeValue.length),(Q=J.firstChild)!==null;)Y=J,J=Q;for(;;){if(J===e)break e;if(Y===s&&++H===f&&(T=E),Y===d&&++X===o&&(O=E),(Q=J.nextSibling)!==null)break;J=Y,Y=J.parentNode}J=Q}s=T===-1||O===-1?null:{start:T,end:O}}else s=null}s=s||{start:0,end:0}}else s=null;for(bd={focusedElem:e,selectionRange:s},Tc=!1,qe=a;qe!==null;)if(a=qe,e=a.child,(a.subtreeFlags&1024)!==0&&e!==null)e.return=a,qe=e;else for(;qe!==null;){switch(a=qe,d=a.alternate,e=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,s=a,f=d.memoizedProps,d=d.memoizedState,o=s.stateNode;try{var bt=Bi(s.type,f,s.elementType===s.type);e=o.getSnapshotBeforeUpdate(bt,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(Et){se(s,s.return,Et)}}break;case 3:if((e&1024)!==0){if(e=a.stateNode.containerInfo,s=e.nodeType,s===9)Ad(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ad(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=a.sibling,e!==null){e.return=a.return,qe=e;break}qe=a.return}}function Wp(e,a,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Va(e,s),o&4&&ao(5,s);break;case 1:if(Va(e,s),o&4)if(e=s.stateNode,a===null)try{e.componentDidMount()}catch(E){se(s,s.return,E)}else{var f=Bi(s.type,a.memoizedProps);a=a.memoizedState;try{e.componentDidUpdate(f,a,e.__reactInternalSnapshotBeforeUpdate)}catch(E){se(s,s.return,E)}}o&64&&Yp(s),o&512&&io(s,s.return);break;case 3:if(Va(e,s),o&64&&(e=s.updateQueue,e!==null)){if(a=null,s.child!==null)switch(s.child.tag){case 27:case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}try{Ny(e,a)}catch(E){se(s,s.return,E)}}break;case 27:a===null&&o&4&&$p(s);case 26:case 5:Va(e,s),a===null&&o&4&&Qp(s),o&512&&io(s,s.return);break;case 12:Va(e,s);break;case 13:Va(e,s),o&4&&tv(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=bw.bind(null,s),zw(e,s))));break;case 22:if(o=s.memoizedState!==null||la,!o){a=a!==null&&a.memoizedState!==null||be,f=la;var d=be;la=o,(be=a)&&!d?Pa(e,s,(s.subtreeFlags&8772)!==0):Va(e,s),la=f,be=d}break;case 30:break;default:Va(e,s)}}function Zp(e){var a=e.alternate;a!==null&&(e.alternate=null,Zp(a)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(a=e.stateNode,a!==null&&rr(a)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var de=null,vn=!1;function oa(e,a,s){for(s=s.child;s!==null;)Jp(e,a,s),s=s.sibling}function Jp(e,a,s){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(fe,s)}catch{}switch(s.tag){case 26:be||Cr(s,a),oa(e,a,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:be||Cr(s,a);var o=de,f=vn;Ba(s.type)&&(de=s.stateNode,vn=!1),oa(e,a,s),go(s.stateNode),de=o,vn=f;break;case 5:be||Cr(s,a);case 6:if(o=de,f=vn,de=null,oa(e,a,s),de=o,vn=f,de!==null)if(vn)try{(de.nodeType===9?de.body:de.nodeName==="HTML"?de.ownerDocument.body:de).removeChild(s.stateNode)}catch(d){se(s,a,d)}else try{de.removeChild(s.stateNode)}catch(d){se(s,a,d)}break;case 18:de!==null&&(vn?(e=de,Bv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),wo(e)):Bv(de,s.stateNode));break;case 4:o=de,f=vn,de=s.stateNode.containerInfo,vn=!0,oa(e,a,s),de=o,vn=f;break;case 0:case 11:case 14:case 15:be||Ma(2,s,a),be||Ma(4,s,a),oa(e,a,s);break;case 1:be||(Cr(s,a),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Gp(s,a,o)),oa(e,a,s);break;case 21:oa(e,a,s);break;case 22:be=(o=be)||s.memoizedState!==null,oa(e,a,s),be=o;break;default:oa(e,a,s)}}function tv(e,a){if(a.memoizedState===null&&(e=a.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{wo(e)}catch(s){se(a,a.return,s)}}function mw(e){switch(e.tag){case 13:case 19:var a=e.stateNode;return a===null&&(a=e.stateNode=new Xp),a;case 22:return e=e.stateNode,a=e._retryCache,a===null&&(a=e._retryCache=new Xp),a;default:throw Error(i(435,e.tag))}}function Zh(e,a){var s=mw(e);a.forEach(function(o){var f=ww.bind(null,e,o);s.has(o)||(s.add(o),o.then(f,f))})}function Dn(e,a){var s=a.deletions;if(s!==null)for(var o=0;o<s.length;o++){var f=s[o],d=e,E=a,T=E;t:for(;T!==null;){switch(T.tag){case 27:if(Ba(T.type)){de=T.stateNode,vn=!1;break t}break;case 5:de=T.stateNode,vn=!1;break t;case 3:case 4:de=T.stateNode.containerInfo,vn=!0;break t}T=T.return}if(de===null)throw Error(i(160));Jp(d,E,f),de=null,vn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)ev(a,e),a=a.sibling}var or=null;function ev(e,a){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Dn(a,e),Cn(e),o&4&&(Ma(3,e,e.return),ao(3,e),Ma(5,e,e.return));break;case 1:Dn(a,e),Cn(e),o&512&&(be||s===null||Cr(s,s.return)),o&64&&la&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var f=or;if(Dn(a,e),Cn(e),o&512&&(be||s===null||Cr(s,s.return)),o&4){var d=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,f=f.ownerDocument||f;e:switch(o){case"title":d=f.getElementsByTagName("title")[0],(!d||d[nr]||d[ve]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(o),f.head.insertBefore(d,f.querySelector("head > title"))),tn(d,o,s),d[ve]=e,Ot(d),o=d;break t;case"link":var E=$v("link","href",f).get(o+(s.href||""));if(E){for(var T=0;T<E.length;T++)if(d=E[T],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){E.splice(T,1);break e}}d=f.createElement(o),tn(d,o,s),f.head.appendChild(d);break;case"meta":if(E=$v("meta","content",f).get(o+(s.content||""))){for(T=0;T<E.length;T++)if(d=E[T],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){E.splice(T,1);break e}}d=f.createElement(o),tn(d,o,s),f.head.appendChild(d);break;default:throw Error(i(468,o))}d[ve]=e,Ot(d),o=d}e.stateNode=o}else Xv(f,e.type,e.stateNode);else e.stateNode=Kv(f,o,e.memoizedProps);else d!==o?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,o===null?Xv(f,e.type,e.stateNode):Kv(f,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Kh(e,e.memoizedProps,s.memoizedProps)}break;case 27:Dn(a,e),Cn(e),o&512&&(be||s===null||Cr(s,s.return)),s!==null&&o&4&&Kh(e,e.memoizedProps,s.memoizedProps);break;case 5:if(Dn(a,e),Cn(e),o&512&&(be||s===null||Cr(s,s.return)),e.flags&32){f=e.stateNode;try{zn(f,"")}catch(Q){se(e,e.return,Q)}}o&4&&e.stateNode!=null&&(f=e.memoizedProps,Kh(e,f,s!==null?s.memoizedProps:f)),o&1024&&(Wh=!0);break;case 6:if(Dn(a,e),Cn(e),o&4){if(e.stateNode===null)throw Error(i(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(Q){se(e,e.return,Q)}}break;case 3:if(vc=null,f=or,or=yc(a.containerInfo),Dn(a,e),or=f,Cn(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{wo(a.containerInfo)}catch(Q){se(e,e.return,Q)}Wh&&(Wh=!1,nv(e));break;case 4:o=or,or=yc(e.stateNode.containerInfo),Dn(a,e),Cn(e),or=o;break;case 12:Dn(a,e),Cn(e);break;case 13:Dn(a,e),Cn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(ad=Ge()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Zh(e,o)));break;case 22:f=e.memoizedState!==null;var O=s!==null&&s.memoizedState!==null,H=la,X=be;if(la=H||f,be=X||O,Dn(a,e),be=X,la=H,Cn(e),o&8192)t:for(a=e.stateNode,a._visibility=f?a._visibility&-2:a._visibility|1,f&&(s===null||O||la||be||qi(e)),s=null,a=e;;){if(a.tag===5||a.tag===26){if(s===null){O=s=a;try{if(d=O.stateNode,f)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{T=O.stateNode;var J=O.memoizedProps.style,Y=J!=null&&J.hasOwnProperty("display")?J.display:null;T.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(Q){se(O,O.return,Q)}}}else if(a.tag===6){if(s===null){O=a;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(Q){se(O,O.return,Q)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===e)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break t;for(;a.sibling===null;){if(a.return===null||a.return===e)break t;s===a&&(s=null),a=a.return}s===a&&(s=null),a.sibling.return=a.return,a=a.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Zh(e,s))));break;case 19:Dn(a,e),Cn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Zh(e,o)));break;case 30:break;case 21:break;default:Dn(a,e),Cn(e)}}function Cn(e){var a=e.flags;if(a&2){try{for(var s,o=e.return;o!==null;){if(Kp(o)){s=o;break}o=o.return}if(s==null)throw Error(i(160));switch(s.tag){case 27:var f=s.stateNode,d=$h(e);rc(e,d,f);break;case 5:var E=s.stateNode;s.flags&32&&(zn(E,""),s.flags&=-33);var T=$h(e);rc(e,T,E);break;case 3:case 4:var O=s.stateNode.containerInfo,H=$h(e);Xh(e,H,O);break;default:throw Error(i(161))}}catch(X){se(e,e.return,X)}e.flags&=-3}a&4096&&(e.flags&=-4097)}function nv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var a=e;nv(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),e=e.sibling}}function Va(e,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Wp(e,a.alternate,a),a=a.sibling}function qi(e){for(e=e.child;e!==null;){var a=e;switch(a.tag){case 0:case 11:case 14:case 15:Ma(4,a,a.return),qi(a);break;case 1:Cr(a,a.return);var s=a.stateNode;typeof s.componentWillUnmount=="function"&&Gp(a,a.return,s),qi(a);break;case 27:go(a.stateNode);case 26:case 5:Cr(a,a.return),qi(a);break;case 22:a.memoizedState===null&&qi(a);break;case 30:qi(a);break;default:qi(a)}e=e.sibling}}function Pa(e,a,s){for(s=s&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var o=a.alternate,f=e,d=a,E=d.flags;switch(d.tag){case 0:case 11:case 15:Pa(f,d,s),ao(4,d);break;case 1:if(Pa(f,d,s),o=d,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){se(o,o.return,H)}if(o=d,f=o.updateQueue,f!==null){var T=o.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)Iy(O[f],T)}catch(H){se(o,o.return,H)}}s&&E&64&&Yp(d),io(d,d.return);break;case 27:$p(d);case 26:case 5:Pa(f,d,s),s&&o===null&&E&4&&Qp(d),io(d,d.return);break;case 12:Pa(f,d,s);break;case 13:Pa(f,d,s),s&&E&4&&tv(f,d);break;case 22:d.memoizedState===null&&Pa(f,d,s),io(d,d.return);break;case 30:break;default:Pa(f,d,s)}a=a.sibling}}function Jh(e,a){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(e=a.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Fl(s))}function td(e,a){e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&Fl(e))}function xr(e,a,s,o){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)rv(e,a,s,o),a=a.sibling}function rv(e,a,s,o){var f=a.flags;switch(a.tag){case 0:case 11:case 15:xr(e,a,s,o),f&2048&&ao(9,a);break;case 1:xr(e,a,s,o);break;case 3:xr(e,a,s,o),f&2048&&(e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&Fl(e)));break;case 12:if(f&2048){xr(e,a,s,o),e=a.stateNode;try{var d=a.memoizedProps,E=d.id,T=d.onPostCommit;typeof T=="function"&&T(E,a.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(O){se(a,a.return,O)}}else xr(e,a,s,o);break;case 13:xr(e,a,s,o);break;case 23:break;case 22:d=a.stateNode,E=a.alternate,a.memoizedState!==null?d._visibility&2?xr(e,a,s,o):so(e,a):d._visibility&2?xr(e,a,s,o):(d._visibility|=2,Us(e,a,s,o,(a.subtreeFlags&10256)!==0)),f&2048&&Jh(E,a);break;case 24:xr(e,a,s,o),f&2048&&td(a.alternate,a);break;default:xr(e,a,s,o)}}function Us(e,a,s,o,f){for(f=f&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var d=e,E=a,T=s,O=o,H=E.flags;switch(E.tag){case 0:case 11:case 15:Us(d,E,T,O,f),ao(8,E);break;case 23:break;case 22:var X=E.stateNode;E.memoizedState!==null?X._visibility&2?Us(d,E,T,O,f):so(d,E):(X._visibility|=2,Us(d,E,T,O,f)),f&&H&2048&&Jh(E.alternate,E);break;case 24:Us(d,E,T,O,f),f&&H&2048&&td(E.alternate,E);break;default:Us(d,E,T,O,f)}a=a.sibling}}function so(e,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var s=e,o=a,f=o.flags;switch(o.tag){case 22:so(s,o),f&2048&&Jh(o.alternate,o);break;case 24:so(s,o),f&2048&&td(o.alternate,o);break;default:so(s,o)}a=a.sibling}}var lo=8192;function js(e){if(e.subtreeFlags&lo)for(e=e.child;e!==null;)av(e),e=e.sibling}function av(e){switch(e.tag){case 26:js(e),e.flags&lo&&e.memoizedState!==null&&Jw(or,e.memoizedState,e.memoizedProps);break;case 5:js(e);break;case 3:case 4:var a=or;or=yc(e.stateNode.containerInfo),js(e),or=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=lo,lo=16777216,js(e),lo=a):js(e));break;default:js(e)}}function iv(e){var a=e.alternate;if(a!==null&&(e=a.child,e!==null)){a.child=null;do a=e.sibling,e.sibling=null,e=a;while(e!==null)}}function oo(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var o=a[s];qe=o,lv(o,e)}iv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)sv(e),e=e.sibling}function sv(e){switch(e.tag){case 0:case 11:case 15:oo(e),e.flags&2048&&Ma(9,e,e.return);break;case 3:oo(e);break;case 12:oo(e);break;case 22:var a=e.stateNode;e.memoizedState!==null&&a._visibility&2&&(e.return===null||e.return.tag!==13)?(a._visibility&=-3,ac(e)):oo(e);break;default:oo(e)}}function ac(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var o=a[s];qe=o,lv(o,e)}iv(e)}for(e=e.child;e!==null;){switch(a=e,a.tag){case 0:case 11:case 15:Ma(8,a,a.return),ac(a);break;case 22:s=a.stateNode,s._visibility&2&&(s._visibility&=-3,ac(a));break;default:ac(a)}e=e.sibling}}function lv(e,a){for(;qe!==null;){var s=qe;switch(s.tag){case 0:case 11:case 15:Ma(8,s,a);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Fl(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,qe=o;else t:for(s=e;qe!==null;){o=qe;var f=o.sibling,d=o.return;if(Zp(o),o===s){qe=null;break t}if(f!==null){f.return=d,qe=f;break t}qe=d}}}var gw={getCacheForType:function(e){var a=sn(Ve),s=a.data.get(e);return s===void 0&&(s=e(),a.data.set(e,s)),s}},yw=typeof WeakMap=="function"?WeakMap:Map,Wt=0,le=null,Lt=null,Bt=0,Zt=0,xn=null,La=!1,zs=!1,ed=!1,ua=0,Ee=0,ka=0,Hi=0,nd=0,$n=0,Bs=0,uo=null,_n=null,rd=!1,ad=0,ic=1/0,sc=null,Ua=null,Je=0,ja=null,qs=null,Hs=0,id=0,sd=null,ov=null,co=0,ld=null;function On(){if((Wt&2)!==0&&Bt!==0)return Bt&-Bt;if(G.T!==null){var e=Os;return e!==0?e:md()}return pr()}function uv(){$n===0&&($n=(Bt&536870912)===0||Kt?gi():536870912);var e=Kn.current;return e!==null&&(e.flags|=32),$n}function In(e,a,s){(e===le&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)&&(Fs(e,0),za(e,Bt,$n,!1)),kn(e,s),((Wt&2)===0||e!==le)&&(e===le&&((Wt&2)===0&&(Hi|=s),Ee===4&&za(e,Bt,$n,!1)),Or(e))}function cv(e,a,s){if((Wt&6)!==0)throw Error(i(327));var o=!s&&(a&124)===0&&(a&e.expiredLanes)===0||gr(e,a),f=o?_w(e,a):cd(e,a,!0),d=o;do{if(f===0){zs&&!o&&za(e,a,0,!1);break}else{if(s=e.current.alternate,d&&!pw(s)){f=cd(e,a,!1),d=!1;continue}if(f===2){if(d=a,e.errorRecoveryDisabledLanes&d)var E=0;else E=e.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){a=E;t:{var T=e;f=uo;var O=T.current.memoizedState.isDehydrated;if(O&&(Fs(T,E).flags|=256),E=cd(T,E,!1),E!==2){if(ed&&!O){T.errorRecoveryDisabledLanes|=d,Hi|=d,f=4;break t}d=_n,_n=f,d!==null&&(_n===null?_n=d:_n.push.apply(_n,d))}f=E}if(d=!1,f!==2)continue}}if(f===1){Fs(e,0),za(e,a,0,!0);break}t:{switch(o=e,d=f,d){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:za(o,a,$n,!La);break t;case 2:_n=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(f=ad+300-Ge(),10<f)){if(za(o,a,$n,!La),Br(o,0,!0)!==0)break t;o.timeoutHandle=jv(fv.bind(null,o,s,_n,sc,rd,a,$n,Hi,Bs,La,d,2,-0,0),f);break t}fv(o,s,_n,sc,rd,a,$n,Hi,Bs,La,d,0,-0,0)}}break}while(!0);Or(e)}function fv(e,a,s,o,f,d,E,T,O,H,X,J,Y,Q){if(e.timeoutHandle=-1,J=a.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(vo={stylesheets:null,count:0,unsuspend:Zw},av(a),J=tS(),J!==null)){e.cancelPendingCommit=J(vv.bind(null,e,a,d,s,o,f,E,T,O,X,1,Y,Q)),za(e,d,E,!H);return}vv(e,a,d,s,o,f,E,T,O)}function pw(e){for(var a=e;;){var s=a.tag;if((s===0||s===11||s===15)&&a.flags&16384&&(s=a.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var f=s[o],d=f.getSnapshot;f=f.value;try{if(!An(d(),f))return!1}catch{return!1}}if(s=a.child,a.subtreeFlags&16384&&s!==null)s.return=a,a=s;else{if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function za(e,a,s,o){a&=~nd,a&=~Hi,e.suspendedLanes|=a,e.pingedLanes&=~a,o&&(e.warmLanes|=a),o=e.expirationTimes;for(var f=a;0<f;){var d=31-Se(f),E=1<<d;o[d]=-1,f&=~E}s!==0&&oe(e,s,a)}function lc(){return(Wt&6)===0?(fo(0),!1):!0}function od(){if(Lt!==null){if(Zt===0)var e=Lt.return;else e=Lt,ea=ki=null,Ah(e),Ls=null,eo=0,e=Lt;for(;e!==null;)Fp(e.alternate,e),e=e.return;Lt=null}}function Fs(e,a){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,Pw(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),od(),le=e,Lt=s=Zr(e.current,null),Bt=a,Zt=0,xn=null,La=!1,zs=gr(e,a),ed=!1,Bs=$n=nd=Hi=ka=Ee=0,_n=uo=null,rd=!1,(a&8)!==0&&(a|=a&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=a;0<o;){var f=31-Se(o),d=1<<f;a|=e[f],o&=~d}return ua=a,xu(),s}function hv(e,a){Nt=null,G.H=Ku,a===Gl||a===Uu?(a=xy(),Zt=3):a===Ry?(a=xy(),Zt=4):Zt=a===Op?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,xn=a,Lt===null&&(Ee=1,Ju(e,Fn(a,e.current)))}function dv(){var e=G.H;return G.H=Ku,e===null?Ku:e}function mv(){var e=G.A;return G.A=gw,e}function ud(){Ee=4,La||(Bt&4194048)!==Bt&&Kn.current!==null||(zs=!0),(ka&134217727)===0&&(Hi&134217727)===0||le===null||za(le,Bt,$n,!1)}function cd(e,a,s){var o=Wt;Wt|=2;var f=dv(),d=mv();(le!==e||Bt!==a)&&(sc=null,Fs(e,a)),a=!1;var E=Ee;t:do try{if(Zt!==0&&Lt!==null){var T=Lt,O=xn;switch(Zt){case 8:od(),E=6;break t;case 3:case 2:case 9:case 6:Kn.current===null&&(a=!0);var H=Zt;if(Zt=0,xn=null,Ys(e,T,O,H),s&&zs){E=0;break t}break;default:H=Zt,Zt=0,xn=null,Ys(e,T,O,H)}}vw(),E=Ee;break}catch(X){hv(e,X)}while(!0);return a&&e.shellSuspendCounter++,ea=ki=null,Wt=o,G.H=f,G.A=d,Lt===null&&(le=null,Bt=0,xu()),E}function vw(){for(;Lt!==null;)gv(Lt)}function _w(e,a){var s=Wt;Wt|=2;var o=dv(),f=mv();le!==e||Bt!==a?(sc=null,ic=Ge()+500,Fs(e,a)):zs=gr(e,a);t:do try{if(Zt!==0&&Lt!==null){a=Lt;var d=xn;e:switch(Zt){case 1:Zt=0,xn=null,Ys(e,a,d,1);break;case 2:case 9:if(Dy(d)){Zt=0,xn=null,yv(a);break}a=function(){Zt!==2&&Zt!==9||le!==e||(Zt=7),Or(e)},d.then(a,a);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:Dy(d)?(Zt=0,xn=null,yv(a)):(Zt=0,xn=null,Ys(e,a,d,7));break;case 5:var E=null;switch(Lt.tag){case 26:E=Lt.memoizedState;case 5:case 27:var T=Lt;if(!E||Wv(E)){Zt=0,xn=null;var O=T.sibling;if(O!==null)Lt=O;else{var H=T.return;H!==null?(Lt=H,oc(H)):Lt=null}break e}}Zt=0,xn=null,Ys(e,a,d,5);break;case 6:Zt=0,xn=null,Ys(e,a,d,6);break;case 8:od(),Ee=6;break t;default:throw Error(i(462))}}Ew();break}catch(X){hv(e,X)}while(!0);return ea=ki=null,G.H=o,G.A=f,Wt=s,Lt!==null?0:(le=null,Bt=0,xu(),Ee)}function Ew(){for(;Lt!==null&&!tr();)gv(Lt)}function gv(e){var a=qp(e.alternate,e,ua);e.memoizedProps=e.pendingProps,a===null?oc(e):Lt=a}function yv(e){var a=e,s=a.alternate;switch(a.tag){case 15:case 0:a=Lp(s,a,a.pendingProps,a.type,void 0,Bt);break;case 11:a=Lp(s,a,a.pendingProps,a.type.render,a.ref,Bt);break;case 5:Ah(a);default:Fp(s,a),a=Lt=py(a,ua),a=qp(s,a,ua)}e.memoizedProps=e.pendingProps,a===null?oc(e):Lt=a}function Ys(e,a,s,o){ea=ki=null,Ah(a),Ls=null,eo=0;var f=a.return;try{if(uw(e,f,a,s,Bt)){Ee=1,Ju(e,Fn(s,e.current)),Lt=null;return}}catch(d){if(f!==null)throw Lt=f,d;Ee=1,Ju(e,Fn(s,e.current)),Lt=null;return}a.flags&32768?(Kt||o===1?e=!0:zs||(Bt&536870912)!==0?e=!1:(La=e=!0,(o===2||o===9||o===3||o===6)&&(o=Kn.current,o!==null&&o.tag===13&&(o.flags|=16384))),pv(a,e)):oc(a)}function oc(e){var a=e;do{if((a.flags&32768)!==0){pv(a,La);return}e=a.return;var s=fw(a.alternate,a,ua);if(s!==null){Lt=s;return}if(a=a.sibling,a!==null){Lt=a;return}Lt=a=e}while(a!==null);Ee===0&&(Ee=5)}function pv(e,a){do{var s=hw(e.alternate,e);if(s!==null){s.flags&=32767,Lt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!a&&(e=e.sibling,e!==null)){Lt=e;return}Lt=e=s}while(e!==null);Ee=6,Lt=null}function vv(e,a,s,o,f,d,E,T,O){e.cancelPendingCommit=null;do uc();while(Je!==0);if((Wt&6)!==0)throw Error(i(327));if(a!==null){if(a===e.current)throw Error(i(177));if(d=a.lanes|a.childLanes,d|=th,Ae(e,s,d,E,T,O),e===le&&(Lt=le=null,Bt=0),qs=a,ja=e,Hs=s,id=d,sd=f,ov=o,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Sw(Ur,function(){return wv(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,f=st.p,st.p=2,E=Wt,Wt|=4;try{dw(e,a,s)}finally{Wt=E,st.p=f,G.T=o}}Je=1,_v(),Ev(),Tv()}}function _v(){if(Je===1){Je=0;var e=ja,a=qs,s=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var o=st.p;st.p=2;var f=Wt;Wt|=4;try{ev(a,e);var d=bd,E=ly(e.containerInfo),T=d.focusedElem,O=d.selectionRange;if(E!==T&&T&&T.ownerDocument&&sy(T.ownerDocument.documentElement,T)){if(O!==null&&$f(T)){var H=O.start,X=O.end;if(X===void 0&&(X=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min(X,T.value.length);else{var J=T.ownerDocument||document,Y=J&&J.defaultView||window;if(Y.getSelection){var Q=Y.getSelection(),bt=T.textContent.length,Et=Math.min(O.start,bt),re=O.end===void 0?Et:Math.min(O.end,bt);!Q.extend&&Et>re&&(E=re,re=Et,Et=E);var j=iy(T,Et),V=iy(T,re);if(j&&V&&(Q.rangeCount!==1||Q.anchorNode!==j.node||Q.anchorOffset!==j.offset||Q.focusNode!==V.node||Q.focusOffset!==V.offset)){var q=J.createRange();q.setStart(j.node,j.offset),Q.removeAllRanges(),Et>re?(Q.addRange(q),Q.extend(V.node,V.offset)):(q.setEnd(V.node,V.offset),Q.addRange(q))}}}}for(J=[],Q=T;Q=Q.parentNode;)Q.nodeType===1&&J.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<J.length;T++){var W=J[T];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Tc=!!Td,bd=Td=null}finally{Wt=f,st.p=o,G.T=s}}e.current=a,Je=2}}function Ev(){if(Je===2){Je=0;var e=ja,a=qs,s=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var o=st.p;st.p=2;var f=Wt;Wt|=4;try{Wp(e,a.alternate,a)}finally{Wt=f,st.p=o,G.T=s}}Je=3}}function Tv(){if(Je===4||Je===3){Je=0,Ye();var e=ja,a=qs,s=Hs,o=ov;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Je=5:(Je=0,qs=ja=null,bv(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Ua=null),Qe(s),a=a.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(fe,a,void 0,(a.current.flags&128)===128)}catch{}if(o!==null){a=G.T,f=st.p,st.p=2,G.T=null;try{for(var d=e.onRecoverableError,E=0;E<o.length;E++){var T=o[E];d(T.value,{componentStack:T.stack})}}finally{G.T=a,st.p=f}}(Hs&3)!==0&&uc(),Or(e),f=e.pendingLanes,(s&4194090)!==0&&(f&42)!==0?e===ld?co++:(co=0,ld=e):co=0,fo(0)}}function bv(e,a){(e.pooledCacheLanes&=a)===0&&(a=e.pooledCache,a!=null&&(e.pooledCache=null,Fl(a)))}function uc(e){return _v(),Ev(),Tv(),wv()}function wv(){if(Je!==5)return!1;var e=ja,a=id;id=0;var s=Qe(Hs),o=G.T,f=st.p;try{st.p=32>s?32:s,G.T=null,s=sd,sd=null;var d=ja,E=Hs;if(Je=0,qs=ja=null,Hs=0,(Wt&6)!==0)throw Error(i(331));var T=Wt;if(Wt|=4,sv(d.current),rv(d,d.current,E,s),Wt=T,fo(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(fe,d)}catch{}return!0}finally{st.p=f,G.T=o,bv(e,a)}}function Sv(e,a,s){a=Fn(s,a),a=jh(e.stateNode,a,2),e=xa(e,a,2),e!==null&&(kn(e,2),Or(e))}function se(e,a,s){if(e.tag===3)Sv(e,e,s);else for(;a!==null;){if(a.tag===3){Sv(a,e,s);break}else if(a.tag===1){var o=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ua===null||!Ua.has(o))){e=Fn(s,e),s=Cp(2),o=xa(a,s,2),o!==null&&(xp(s,o,a,e),kn(o,2),Or(o));break}}a=a.return}}function fd(e,a,s){var o=e.pingCache;if(o===null){o=e.pingCache=new yw;var f=new Set;o.set(a,f)}else f=o.get(a),f===void 0&&(f=new Set,o.set(a,f));f.has(s)||(ed=!0,f.add(s),e=Tw.bind(null,e,a,s),a.then(e,e))}function Tw(e,a,s){var o=e.pingCache;o!==null&&o.delete(a),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,le===e&&(Bt&s)===s&&(Ee===4||Ee===3&&(Bt&62914560)===Bt&&300>Ge()-ad?(Wt&2)===0&&Fs(e,0):nd|=s,Bs===Bt&&(Bs=0)),Or(e)}function Av(e,a){a===0&&(a=Ta()),e=Rs(e,a),e!==null&&(kn(e,a),Or(e))}function bw(e){var a=e.memoizedState,s=0;a!==null&&(s=a.retryLane),Av(e,s)}function ww(e,a){var s=0;switch(e.tag){case 13:var o=e.stateNode,f=e.memoizedState;f!==null&&(s=f.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(i(314))}o!==null&&o.delete(a),Av(e,s)}function Sw(e,a){return Jn(e,a)}var cc=null,Gs=null,hd=!1,fc=!1,dd=!1,Fi=0;function Or(e){e!==Gs&&e.next===null&&(Gs===null?cc=Gs=e:Gs=Gs.next=e),fc=!0,hd||(hd=!0,Rw())}function fo(e,a){if(!dd&&fc){dd=!0;do for(var s=!1,o=cc;o!==null;){if(e!==0){var f=o.pendingLanes;if(f===0)var d=0;else{var E=o.suspendedLanes,T=o.pingedLanes;d=(1<<31-Se(42|e)+1)-1,d&=f&~(E&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,xv(o,d))}else d=Bt,d=Br(o,o===le?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||gr(o,d)||(s=!0,xv(o,d));o=o.next}while(s);dd=!1}}function Aw(){Rv()}function Rv(){fc=hd=!1;var e=0;Fi!==0&&(Vw()&&(e=Fi),Fi=0);for(var a=Ge(),s=null,o=cc;o!==null;){var f=o.next,d=Dv(o,a);d===0?(o.next=null,s===null?cc=f:s.next=f,f===null&&(Gs=s)):(s=o,(e!==0||(d&3)!==0)&&(fc=!0)),o=f}fo(e)}function Dv(e,a){for(var s=e.suspendedLanes,o=e.pingedLanes,f=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var E=31-Se(d),T=1<<E,O=f[E];O===-1?((T&s)===0||(T&o)!==0)&&(f[E]=qr(T,a)):O<=a&&(e.expiredLanes|=T),d&=~T}if(a=le,s=Bt,s=Br(e,e===a?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===a&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ae(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||gr(e,s)){if(a=s&-s,a===e.callbackPriority)return a;switch(o!==null&&ae(o),Qe(s)){case 2:case 8:s=Ea;break;case 32:s=Ur;break;case 268435456:s=jr;break;default:s=Ur}return o=Cv.bind(null,e),s=Jn(s,o),e.callbackPriority=a,e.callbackNode=s,a}return o!==null&&o!==null&&ae(o),e.callbackPriority=2,e.callbackNode=null,2}function Cv(e,a){if(Je!==0&&Je!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(uc()&&e.callbackNode!==s)return null;var o=Bt;return o=Br(e,e===le?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(cv(e,o,a),Dv(e,Ge()),e.callbackNode!=null&&e.callbackNode===s?Cv.bind(null,e):null)}function xv(e,a){if(uc())return null;cv(e,a,!0)}function Rw(){Lw(function(){(Wt&6)!==0?Jn(_a,Aw):Rv()})}function md(){return Fi===0&&(Fi=gi()),Fi}function Ov(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ms(""+e)}function Iv(e,a){var s=a.ownerDocument.createElement("input");return s.name=a.name,s.value=a.value,e.id&&s.setAttribute("form",e.id),a.parentNode.insertBefore(s,a),e=new FormData(e),s.parentNode.removeChild(s),e}function Dw(e,a,s,o,f){if(a==="submit"&&s&&s.stateNode===f){var d=Ov((f[he]||null).action),E=o.submitter;E&&(a=(a=E[he]||null)?Ov(a.formAction):E.getAttribute("formAction"),a!==null&&(d=a,E=null));var T=new gs("action","action",null,o,f);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Fi!==0){var O=E?Iv(f,E):new FormData(f);Vh(s,{pending:!0,data:O,method:f.method,action:d},null,O)}}else typeof d=="function"&&(T.preventDefault(),O=E?Iv(f,E):new FormData(f),Vh(s,{pending:!0,data:O,method:f.method,action:d},d,O))},currentTarget:f}]})}}for(var gd=0;gd<Jf.length;gd++){var yd=Jf[gd],Cw=yd.toLowerCase(),xw=yd[0].toUpperCase()+yd.slice(1);lr(Cw,"on"+xw)}lr(cy,"onAnimationEnd"),lr(fy,"onAnimationIteration"),lr(hy,"onAnimationStart"),lr("dblclick","onDoubleClick"),lr("focusin","onFocus"),lr("focusout","onBlur"),lr(Gb,"onTransitionRun"),lr(Qb,"onTransitionStart"),lr(Kb,"onTransitionCancel"),lr(dy,"onTransitionEnd"),ir("onMouseEnter",["mouseout","mouseover"]),ir("onMouseLeave",["mouseout","mouseover"]),ir("onPointerEnter",["pointerout","pointerover"]),ir("onPointerLeave",["pointerout","pointerover"]),dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),dn("onBeforeInput",["compositionend","keypress","textInput","paste"]),dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ho="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ow=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ho));function Nv(e,a){a=(a&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],f=o.event;o=o.listeners;t:{var d=void 0;if(a)for(var E=o.length-1;0<=E;E--){var T=o[E],O=T.instance,H=T.currentTarget;if(T=T.listener,O!==d&&f.isPropagationStopped())break t;d=T,f.currentTarget=H;try{d(f)}catch(X){Zu(X)}f.currentTarget=null,d=O}else for(E=0;E<o.length;E++){if(T=o[E],O=T.instance,H=T.currentTarget,T=T.listener,O!==d&&f.isPropagationStopped())break t;d=T,f.currentTarget=H;try{d(f)}catch(X){Zu(X)}f.currentTarget=null,d=O}}}}function kt(e,a){var s=a[Hr];s===void 0&&(s=a[Hr]=new Set);var o=e+"__bubble";s.has(o)||(Mv(a,e,2,!1),s.add(o))}function pd(e,a,s){var o=0;a&&(o|=4),Mv(s,e,o,a)}var hc="_reactListening"+Math.random().toString(36).slice(2);function vd(e){if(!e[hc]){e[hc]=!0,$e.forEach(function(s){s!=="selectionchange"&&(Ow.has(s)||pd(s,!1,e),pd(s,!0,e))});var a=e.nodeType===9?e:e.ownerDocument;a===null||a[hc]||(a[hc]=!0,pd("selectionchange",!1,a))}}function Mv(e,a,s,o){switch(r_(a)){case 2:var f=rS;break;case 8:f=aS;break;default:f=Nd}s=f.bind(null,a,s,e),f=void 0,!qn||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(f=!0),o?f!==void 0?e.addEventListener(a,s,{capture:!0,passive:f}):e.addEventListener(a,s,!0):f!==void 0?e.addEventListener(a,s,{passive:f}):e.addEventListener(a,s,!1)}function _d(e,a,s,o,f){var d=o;if((a&1)===0&&(a&2)===0&&o!==null)t:for(;;){if(o===null)return;var E=o.tag;if(E===3||E===4){var T=o.stateNode.containerInfo;if(T===f)break;if(E===4)for(E=o.return;E!==null;){var O=E.tag;if((O===3||O===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;T!==null;){if(E=ar(T),E===null)return;if(O=E.tag,O===5||O===6||O===26||O===27){o=d=E;continue t}T=T.parentNode}}o=o.return}mu(function(){var H=d,X=Bn(s),J=[];t:{var Y=my.get(e);if(Y!==void 0){var Q=gs,bt=e;switch(e){case"keypress":if(Tr(s)===0)break t;case"keydown":case"keyup":Q=Ts;break;case"focusin":bt="focus",Q=vs;break;case"focusout":bt="blur",Q=vs;break;case"beforeblur":case"afterblur":Q=vs;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Yf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=bu;break;case cy:case fy:case hy:Q=_s;break;case dy:Q=Su;break;case"scroll":case"scrollend":Q=gu;break;case"wheel":Q=bs;break;case"copy":case"cut":case"paste":Q=Es;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Ll;break;case"toggle":case"beforetoggle":Q=Ru}var Et=(a&4)!==0,re=!Et&&(e==="scroll"||e==="scrollend"),j=Et?Y!==null?Y+"Capture":null:Y;Et=[];for(var V=H,q;V!==null;){var W=V;if(q=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||q===null||j===null||(W=wi(V,j),W!=null&&Et.push(mo(V,W,q))),re)break;V=V.return}0<Et.length&&(Y=new Q(Y,bt,null,s,X),J.push({event:Y,listeners:Et}))}}if((a&7)===0){t:{if(Y=e==="mouseover"||e==="pointerover",Q=e==="mouseout"||e==="pointerout",Y&&s!==Gr&&(bt=s.relatedTarget||s.fromElement)&&(ar(bt)||bt[Ke]))break t;if((Q||Y)&&(Y=X.window===X?X:(Y=X.ownerDocument)?Y.defaultView||Y.parentWindow:window,Q?(bt=s.relatedTarget||s.toElement,Q=H,bt=bt?ar(bt):null,bt!==null&&(re=u(bt),Et=bt.tag,bt!==re||Et!==5&&Et!==27&&Et!==6)&&(bt=null)):(Q=null,bt=H),Q!==bt)){if(Et=Hn,W="onMouseLeave",j="onMouseEnter",V="mouse",(e==="pointerout"||e==="pointerover")&&(Et=Ll,W="onPointerLeave",j="onPointerEnter",V="pointer"),re=Q==null?Y:St(Q),q=bt==null?Y:St(bt),Y=new Et(W,V+"leave",Q,s,X),Y.target=re,Y.relatedTarget=q,W=null,ar(X)===H&&(Et=new Et(j,V+"enter",bt,s,X),Et.target=q,Et.relatedTarget=re,W=Et),re=W,Q&&bt)e:{for(Et=Q,j=bt,V=0,q=Et;q;q=Qs(q))V++;for(q=0,W=j;W;W=Qs(W))q++;for(;0<V-q;)Et=Qs(Et),V--;for(;0<q-V;)j=Qs(j),q--;for(;V--;){if(Et===j||j!==null&&Et===j.alternate)break e;Et=Qs(Et),j=Qs(j)}Et=null}else Et=null;Q!==null&&Vv(J,Y,Q,Et,!1),bt!==null&&re!==null&&Vv(J,re,bt,Et,!0)}}t:{if(Y=H?St(H):window,Q=Y.nodeName&&Y.nodeName.toLowerCase(),Q==="select"||Q==="input"&&Y.type==="file")var ht=Jg;else if(Me(Y))if(ty)ht=Hb;else{ht=Bb;var Pt=zb}else Q=Y.nodeName,!Q||Q.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?H&&xl(H.elementType)&&(ht=Jg):ht=qb;if(ht&&(ht=ht(e,H))){Wr(J,ht,s,X);break t}Pt&&Pt(e,Y,H),e==="focusout"&&H&&Y.type==="number"&&H.memoizedProps.value!=null&&Sa(Y,"number",Y.value)}switch(Pt=H?St(H):window,e){case"focusin":(Me(Pt)||Pt.contentEditable==="true")&&(ws=Pt,Xf=H,jl=null);break;case"focusout":jl=Xf=ws=null;break;case"mousedown":Wf=!0;break;case"contextmenu":case"mouseup":case"dragend":Wf=!1,oy(J,s,X);break;case"selectionchange":if(Yb)break;case"keydown":case"keyup":oy(J,s,X)}var pt;if(Sr)t:{switch(e){case"compositionstart":var Tt="onCompositionStart";break t;case"compositionend":Tt="onCompositionEnd";break t;case"compositionupdate":Tt="onCompositionUpdate";break t}Tt=void 0}else jt?$(e,s)&&(Tt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Tt="onCompositionStart");Tt&&(v&&s.locale!=="ko"&&(jt||Tt!=="onCompositionStart"?Tt==="onCompositionEnd"&&jt&&(pt=Il()):(Er=X,Aa="value"in Er?Er.value:Er.textContent,jt=!0)),Pt=dc(H,Tt),0<Pt.length&&(Tt=new Vl(Tt,e,null,s,X),J.push({event:Tt,listeners:Pt}),pt?Tt.data=pt:(pt=lt(s),pt!==null&&(Tt.data=pt)))),(pt=p?Ne(e,s):zt(e,s))&&(Tt=dc(H,"onBeforeInput"),0<Tt.length&&(Pt=new Vl("onBeforeInput","beforeinput",null,s,X),J.push({event:Pt,listeners:Tt}),Pt.data=pt)),Dw(J,e,H,s,X)}Nv(J,a)})}function mo(e,a,s){return{instance:e,listener:a,currentTarget:s}}function dc(e,a){for(var s=a+"Capture",o=[];e!==null;){var f=e,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=wi(e,s),f!=null&&o.unshift(mo(e,f,d)),f=wi(e,a),f!=null&&o.push(mo(e,f,d))),e.tag===3)return o;e=e.return}return[]}function Qs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Vv(e,a,s,o,f){for(var d=a._reactName,E=[];s!==null&&s!==o;){var T=s,O=T.alternate,H=T.stateNode;if(T=T.tag,O!==null&&O===o)break;T!==5&&T!==26&&T!==27||H===null||(O=H,f?(H=wi(s,d),H!=null&&E.unshift(mo(s,H,O))):f||(H=wi(s,d),H!=null&&E.push(mo(s,H,O)))),s=s.return}E.length!==0&&e.push({event:a,listeners:E})}var Iw=/\r\n?/g,Nw=/\u0000|\uFFFD/g;function Pv(e){return(typeof e=="string"?e:""+e).replace(Iw,`
`).replace(Nw,"")}function Lv(e,a){return a=Pv(a),Pv(e)===a}function mc(){}function ne(e,a,s,o,f,d){switch(s){case"children":typeof o=="string"?a==="body"||a==="textarea"&&o===""||zn(e,o):(typeof o=="number"||typeof o=="bigint")&&a!=="body"&&zn(e,""+o);break;case"className":vr(e,"class",o);break;case"tabIndex":vr(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":vr(e,s,o);break;case"style":Cl(e,o,d);break;case"data":if(a!=="object"){vr(e,"data",o);break}case"src":case"href":if(o===""&&(a!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ms(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(a!=="input"&&ne(e,a,"name",f.name,f,null),ne(e,a,"formEncType",f.formEncType,f,null),ne(e,a,"formMethod",f.formMethod,f,null),ne(e,a,"formTarget",f.formTarget,f,null)):(ne(e,a,"encType",f.encType,f,null),ne(e,a,"method",f.method,f,null),ne(e,a,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ms(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=mc);break;case"onScroll":o!=null&&kt("scroll",e);break;case"onScrollEnd":o!=null&&kt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(s=o.__html,s!=null){if(f.children!=null)throw Error(i(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=ms(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":kt("beforetoggle",e),kt("toggle",e),wa(e,"popover",o);break;case"xlinkActuate":Xe(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Xe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Xe(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Xe(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Xe(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Xe(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Xe(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Xe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Xe(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":wa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Hf.get(s)||s,wa(e,s,o))}}function Ed(e,a,s,o,f,d){switch(s){case"style":Cl(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(s=o.__html,s!=null){if(f.children!=null)throw Error(i(60));e.innerHTML=s}}break;case"children":typeof o=="string"?zn(e,o):(typeof o=="number"||typeof o=="bigint")&&zn(e,""+o);break;case"onScroll":o!=null&&kt("scroll",e);break;case"onScrollEnd":o!=null&&kt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=mc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ue.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),a=s.slice(2,f?s.length-7:void 0),d=e[he]||null,d=d!=null?d[s]:null,typeof d=="function"&&e.removeEventListener(a,d,f),typeof o=="function")){typeof d!="function"&&d!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(a,o,f);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):wa(e,s,o)}}}function tn(e,a,s){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",e),kt("load",e);var o=!1,f=!1,d;for(d in s)if(s.hasOwnProperty(d)){var E=s[d];if(E!=null)switch(d){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ne(e,a,d,E,s,null)}}f&&ne(e,a,"srcSet",s.srcSet,s,null),o&&ne(e,a,"src",s.src,s,null);return;case"input":kt("invalid",e);var T=d=E=f=null,O=null,H=null;for(o in s)if(s.hasOwnProperty(o)){var X=s[o];if(X!=null)switch(o){case"name":f=X;break;case"type":E=X;break;case"checked":O=X;break;case"defaultChecked":H=X;break;case"value":d=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,a));break;default:ne(e,a,o,X,s,null)}}Ei(e,d,T,O,H,E,f,!1),ds(e);return;case"select":kt("invalid",e),o=E=d=null;for(f in s)if(s.hasOwnProperty(f)&&(T=s[f],T!=null))switch(f){case"value":d=T;break;case"defaultValue":E=T;break;case"multiple":o=T;default:ne(e,a,f,T,s,null)}a=d,s=E,e.multiple=!!o,a!=null?Yr(e,!!o,a,!1):s!=null&&Yr(e,!!o,s,!0);return;case"textarea":kt("invalid",e),d=f=o=null;for(E in s)if(s.hasOwnProperty(E)&&(T=s[E],T!=null))switch(E){case"value":o=T;break;case"defaultValue":f=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(i(91));break;default:ne(e,a,E,T,s,null)}Ti(e,o,f,d),ds(e);return;case"option":for(O in s)if(s.hasOwnProperty(O)&&(o=s[O],o!=null))switch(O){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ne(e,a,O,o,s,null)}return;case"dialog":kt("beforetoggle",e),kt("toggle",e),kt("cancel",e),kt("close",e);break;case"iframe":case"object":kt("load",e);break;case"video":case"audio":for(o=0;o<ho.length;o++)kt(ho[o],e);break;case"image":kt("error",e),kt("load",e);break;case"details":kt("toggle",e);break;case"embed":case"source":case"link":kt("error",e),kt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in s)if(s.hasOwnProperty(H)&&(o=s[H],o!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ne(e,a,H,o,s,null)}return;default:if(xl(a)){for(X in s)s.hasOwnProperty(X)&&(o=s[X],o!==void 0&&Ed(e,a,X,o,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(o=s[T],o!=null&&ne(e,a,T,o,s,null))}function Mw(e,a,s,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,E=null,T=null,O=null,H=null,X=null;for(Q in s){var J=s[Q];if(s.hasOwnProperty(Q)&&J!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":O=J;default:o.hasOwnProperty(Q)||ne(e,a,Q,null,o,J)}}for(var Y in o){var Q=o[Y];if(J=s[Y],o.hasOwnProperty(Y)&&(Q!=null||J!=null))switch(Y){case"type":d=Q;break;case"name":f=Q;break;case"checked":H=Q;break;case"defaultChecked":X=Q;break;case"value":E=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,a));break;default:Q!==J&&ne(e,a,Y,Q,o,J)}}Sn(e,E,T,O,H,X,d,f);return;case"select":Q=E=T=Y=null;for(d in s)if(O=s[d],s.hasOwnProperty(d)&&O!=null)switch(d){case"value":break;case"multiple":Q=O;default:o.hasOwnProperty(d)||ne(e,a,d,null,o,O)}for(f in o)if(d=o[f],O=s[f],o.hasOwnProperty(f)&&(d!=null||O!=null))switch(f){case"value":Y=d;break;case"defaultValue":T=d;break;case"multiple":E=d;default:d!==O&&ne(e,a,f,d,o,O)}a=T,s=E,o=Q,Y!=null?Yr(e,!!s,Y,!1):!!o!=!!s&&(a!=null?Yr(e,!!s,a,!0):Yr(e,!!s,s?[]:"",!1));return;case"textarea":Q=Y=null;for(T in s)if(f=s[T],s.hasOwnProperty(T)&&f!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ne(e,a,T,null,o,f)}for(E in o)if(f=o[E],d=s[E],o.hasOwnProperty(E)&&(f!=null||d!=null))switch(E){case"value":Y=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==d&&ne(e,a,E,f,o,d)}te(e,Y,Q);return;case"option":for(var bt in s)if(Y=s[bt],s.hasOwnProperty(bt)&&Y!=null&&!o.hasOwnProperty(bt))switch(bt){case"selected":e.selected=!1;break;default:ne(e,a,bt,null,o,Y)}for(O in o)if(Y=o[O],Q=s[O],o.hasOwnProperty(O)&&Y!==Q&&(Y!=null||Q!=null))switch(O){case"selected":e.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:ne(e,a,O,Y,o,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in s)Y=s[Et],s.hasOwnProperty(Et)&&Y!=null&&!o.hasOwnProperty(Et)&&ne(e,a,Et,null,o,Y);for(H in o)if(Y=o[H],Q=s[H],o.hasOwnProperty(H)&&Y!==Q&&(Y!=null||Q!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,a));break;default:ne(e,a,H,Y,o,Q)}return;default:if(xl(a)){for(var re in s)Y=s[re],s.hasOwnProperty(re)&&Y!==void 0&&!o.hasOwnProperty(re)&&Ed(e,a,re,void 0,o,Y);for(X in o)Y=o[X],Q=s[X],!o.hasOwnProperty(X)||Y===Q||Y===void 0&&Q===void 0||Ed(e,a,X,Y,o,Q);return}}for(var j in s)Y=s[j],s.hasOwnProperty(j)&&Y!=null&&!o.hasOwnProperty(j)&&ne(e,a,j,null,o,Y);for(J in o)Y=o[J],Q=s[J],!o.hasOwnProperty(J)||Y===Q||Y==null&&Q==null||ne(e,a,J,Y,o,Q)}var Td=null,bd=null;function gc(e){return e.nodeType===9?e:e.ownerDocument}function kv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Uv(e,a){if(e===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&a==="foreignObject"?0:e}function wd(e,a){return e==="textarea"||e==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Sd=null;function Vw(){var e=window.event;return e&&e.type==="popstate"?e===Sd?!1:(Sd=e,!0):(Sd=null,!1)}var jv=typeof setTimeout=="function"?setTimeout:void 0,Pw=typeof clearTimeout=="function"?clearTimeout:void 0,zv=typeof Promise=="function"?Promise:void 0,Lw=typeof queueMicrotask=="function"?queueMicrotask:typeof zv<"u"?function(e){return zv.resolve(null).then(e).catch(kw)}:jv;function kw(e){setTimeout(function(){throw e})}function Ba(e){return e==="head"}function Bv(e,a){var s=a,o=0,f=0;do{var d=s.nextSibling;if(e.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(0<o&&8>o){s=o;var E=e.ownerDocument;if(s&1&&go(E.documentElement),s&2&&go(E.body),s&4)for(s=E.head,go(s),E=s.firstChild;E;){var T=E.nextSibling,O=E.nodeName;E[nr]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&E.rel.toLowerCase()==="stylesheet"||s.removeChild(E),E=T}}if(f===0){e.removeChild(d),wo(a);return}f--}else s==="$"||s==="$?"||s==="$!"?f++:o=s.charCodeAt(0)-48;else o=0;s=d}while(s);wo(a)}function Ad(e){var a=e.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var s=a;switch(a=a.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Ad(s),rr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function Uw(e,a,s,o){for(;e.nodeType===1;){var f=s;if(e.nodeName.toLowerCase()!==a.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[nr])switch(a){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(a==="input"&&e.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=ur(e.nextSibling),e===null)break}return null}function jw(e,a,s){if(a==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=ur(e.nextSibling),e===null))return null;return e}function Rd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function zw(e,a){var s=e.ownerDocument;if(e.data!=="$?"||s.readyState==="complete")a();else{var o=function(){a(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function ur(e){for(;e!=null;e=e.nextSibling){var a=e.nodeType;if(a===1||a===3)break;if(a===8){if(a=e.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return e}var Dd=null;function qv(e){e=e.previousSibling;for(var a=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(a===0)return e;a--}else s==="/$"&&a++}e=e.previousSibling}return null}function Hv(e,a,s){switch(a=gc(s),e){case"html":if(e=a.documentElement,!e)throw Error(i(452));return e;case"head":if(e=a.head,!e)throw Error(i(453));return e;case"body":if(e=a.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function go(e){for(var a=e.attributes;a.length;)e.removeAttributeNode(a[0]);rr(e)}var Xn=new Map,Fv=new Set;function yc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ca=st.d;st.d={f:Bw,r:qw,D:Hw,C:Fw,L:Yw,m:Gw,X:Kw,S:Qw,M:$w};function Bw(){var e=ca.f(),a=lc();return e||a}function qw(e){var a=jn(e);a!==null&&a.tag===5&&a.type==="form"?cp(a):ca.r(e)}var Ks=typeof document>"u"?null:document;function Yv(e,a,s){var o=Ks;if(o&&typeof a=="string"&&a){var f=Re(a);f='link[rel="'+e+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),Fv.has(f)||(Fv.add(f),e={rel:e,crossOrigin:s,href:a},o.querySelector(f)===null&&(a=o.createElement("link"),tn(a,"link",e),Ot(a),o.head.appendChild(a)))}}function Hw(e){ca.D(e),Yv("dns-prefetch",e,null)}function Fw(e,a){ca.C(e,a),Yv("preconnect",e,a)}function Yw(e,a,s){ca.L(e,a,s);var o=Ks;if(o&&e&&a){var f='link[rel="preload"][as="'+Re(a)+'"]';a==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+Re(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+Re(s.imageSizes)+'"]')):f+='[href="'+Re(e)+'"]';var d=f;switch(a){case"style":d=$s(e);break;case"script":d=Xs(e)}Xn.has(d)||(e=_({rel:"preload",href:a==="image"&&s&&s.imageSrcSet?void 0:e,as:a},s),Xn.set(d,e),o.querySelector(f)!==null||a==="style"&&o.querySelector(yo(d))||a==="script"&&o.querySelector(po(d))||(a=o.createElement("link"),tn(a,"link",e),Ot(a),o.head.appendChild(a)))}}function Gw(e,a){ca.m(e,a);var s=Ks;if(s&&e){var o=a&&typeof a.as=="string"?a.as:"script",f='link[rel="modulepreload"][as="'+Re(o)+'"][href="'+Re(e)+'"]',d=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Xs(e)}if(!Xn.has(d)&&(e=_({rel:"modulepreload",href:e},a),Xn.set(d,e),s.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(po(d)))return}o=s.createElement("link"),tn(o,"link",e),Ot(o),s.head.appendChild(o)}}}function Qw(e,a,s){ca.S(e,a,s);var o=Ks;if(o&&e){var f=Vt(o).hoistableStyles,d=$s(e);a=a||"default";var E=f.get(d);if(!E){var T={loading:0,preload:null};if(E=o.querySelector(yo(d)))T.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":a},s),(s=Xn.get(d))&&Cd(e,s);var O=E=o.createElement("link");Ot(O),tn(O,"link",e),O._p=new Promise(function(H,X){O.onload=H,O.onerror=X}),O.addEventListener("load",function(){T.loading|=1}),O.addEventListener("error",function(){T.loading|=2}),T.loading|=4,pc(E,a,o)}E={type:"stylesheet",instance:E,count:1,state:T},f.set(d,E)}}}function Kw(e,a){ca.X(e,a);var s=Ks;if(s&&e){var o=Vt(s).hoistableScripts,f=Xs(e),d=o.get(f);d||(d=s.querySelector(po(f)),d||(e=_({src:e,async:!0},a),(a=Xn.get(f))&&xd(e,a),d=s.createElement("script"),Ot(d),tn(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(f,d))}}function $w(e,a){ca.M(e,a);var s=Ks;if(s&&e){var o=Vt(s).hoistableScripts,f=Xs(e),d=o.get(f);d||(d=s.querySelector(po(f)),d||(e=_({src:e,async:!0,type:"module"},a),(a=Xn.get(f))&&xd(e,a),d=s.createElement("script"),Ot(d),tn(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(f,d))}}function Gv(e,a,s,o){var f=(f=_t.current)?yc(f):null;if(!f)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(a=$s(s.href),s=Vt(f).hoistableStyles,o=s.get(a),o||(o={type:"style",instance:null,count:0,state:null},s.set(a,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=$s(s.href);var d=Vt(f).hoistableStyles,E=d.get(e);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,E),(d=f.querySelector(yo(e)))&&!d._p&&(E.instance=d,E.state.loading=5),Xn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Xn.set(e,s),d||Xw(f,e,s,E.state))),a&&o===null)throw Error(i(528,""));return E}if(a&&o!==null)throw Error(i(529,""));return null;case"script":return a=s.async,s=s.src,typeof s=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Xs(s),s=Vt(f).hoistableScripts,o=s.get(a),o||(o={type:"script",instance:null,count:0,state:null},s.set(a,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function $s(e){return'href="'+Re(e)+'"'}function yo(e){return'link[rel="stylesheet"]['+e+"]"}function Qv(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function Xw(e,a,s,o){e.querySelector('link[rel="preload"][as="style"]['+a+"]")?o.loading=1:(a=e.createElement("link"),o.preload=a,a.addEventListener("load",function(){return o.loading|=1}),a.addEventListener("error",function(){return o.loading|=2}),tn(a,"link",s),Ot(a),e.head.appendChild(a))}function Xs(e){return'[src="'+Re(e)+'"]'}function po(e){return"script[async]"+e}function Kv(e,a,s){if(a.count++,a.instance===null)switch(a.type){case"style":var o=e.querySelector('style[data-href~="'+Re(s.href)+'"]');if(o)return a.instance=o,Ot(o),o;var f=_({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ot(o),tn(o,"style",f),pc(o,s.precedence,e),a.instance=o;case"stylesheet":f=$s(s.href);var d=e.querySelector(yo(f));if(d)return a.state.loading|=4,a.instance=d,Ot(d),d;o=Qv(s),(f=Xn.get(f))&&Cd(o,f),d=(e.ownerDocument||e).createElement("link"),Ot(d);var E=d;return E._p=new Promise(function(T,O){E.onload=T,E.onerror=O}),tn(d,"link",o),a.state.loading|=4,pc(d,s.precedence,e),a.instance=d;case"script":return d=Xs(s.src),(f=e.querySelector(po(d)))?(a.instance=f,Ot(f),f):(o=s,(f=Xn.get(d))&&(o=_({},s),xd(o,f)),e=e.ownerDocument||e,f=e.createElement("script"),Ot(f),tn(f,"link",o),e.head.appendChild(f),a.instance=f);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(o=a.instance,a.state.loading|=4,pc(o,s.precedence,e));return a.instance}function pc(e,a,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,d=f,E=0;E<o.length;E++){var T=o[E];if(T.dataset.precedence===a)d=T;else if(d!==f)break}d?d.parentNode.insertBefore(e,d.nextSibling):(a=s.nodeType===9?s.head:s,a.insertBefore(e,a.firstChild))}function Cd(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.title==null&&(e.title=a.title)}function xd(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.integrity==null&&(e.integrity=a.integrity)}var vc=null;function $v(e,a,s){if(vc===null){var o=new Map,f=vc=new Map;f.set(s,o)}else f=vc,o=f.get(s),o||(o=new Map,f.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),f=0;f<s.length;f++){var d=s[f];if(!(d[nr]||d[ve]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(a)||"";E=e+E;var T=o.get(E);T?T.push(d):o.set(E,[d])}}return o}function Xv(e,a,s){e=e.ownerDocument||e,e.head.insertBefore(s,a==="title"?e.querySelector("head > title"):null)}function Ww(e,a,s){if(s===1||a.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return e=a.disabled,typeof a.precedence=="string"&&e==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Wv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var vo=null;function Zw(){}function Jw(e,a,s){if(vo===null)throw Error(i(475));var o=vo;if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=$s(s.href),d=e.querySelector(yo(f));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=_c.bind(o),e.then(o,o)),a.state.loading|=4,a.instance=d,Ot(d);return}d=e.ownerDocument||e,s=Qv(s),(f=Xn.get(f))&&Cd(s,f),d=d.createElement("link"),Ot(d);var E=d;E._p=new Promise(function(T,O){E.onload=T,E.onerror=O}),tn(d,"link",s),a.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(a,e),(e=a.state.preload)&&(a.state.loading&3)===0&&(o.count++,a=_c.bind(o),e.addEventListener("load",a),e.addEventListener("error",a))}}function tS(){if(vo===null)throw Error(i(475));var e=vo;return e.stylesheets&&e.count===0&&Od(e,e.stylesheets),0<e.count?function(a){var s=setTimeout(function(){if(e.stylesheets&&Od(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(s)}}:null}function _c(){if(this.count--,this.count===0){if(this.stylesheets)Od(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ec=null;function Od(e,a){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ec=new Map,a.forEach(eS,e),Ec=null,_c.call(e))}function eS(e,a){if(!(a.state.loading&4)){var s=Ec.get(e);if(s)var o=s.get(null);else{s=new Map,Ec.set(e,s);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var E=f[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(s.set(E.dataset.precedence,E),o=E)}o&&s.set(null,o)}f=a.instance,E=f.getAttribute("data-precedence"),d=s.get(E)||o,d===o&&s.set(null,f),s.set(E,f),this.count++,o=_c.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),d?d.parentNode.insertBefore(f,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),a.state.loading|=4}}var _o={$$typeof:nt,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function nS(e,a,s,o,f,d,E,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=er(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=er(0),this.hiddenUpdates=er(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Zv(e,a,s,o,f,d,E,T,O,H,X,J){return e=new nS(e,a,s,E,T,O,H,J),a=1,d===!0&&(a|=24),d=Rn(3,null,null,a),e.current=d,d.stateNode=e,a=fh(),a.refCount++,e.pooledCache=a,a.refCount++,d.memoizedState={element:o,isDehydrated:s,cache:a},gh(d),e}function Jv(e){return e?(e=Ds,e):Ds}function t_(e,a,s,o,f,d){f=Jv(f),o.context===null?o.context=f:o.pendingContext=f,o=Ca(a),o.payload={element:s},d=d===void 0?null:d,d!==null&&(o.callback=d),s=xa(e,o,a),s!==null&&(In(s,e,a),Kl(s,e,a))}function e_(e,a){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<a?s:a}}function Id(e,a){e_(e,a),(e=e.alternate)&&e_(e,a)}function n_(e){if(e.tag===13){var a=Rs(e,67108864);a!==null&&In(a,e,67108864),Id(e,67108864)}}var Tc=!0;function rS(e,a,s,o){var f=G.T;G.T=null;var d=st.p;try{st.p=2,Nd(e,a,s,o)}finally{st.p=d,G.T=f}}function aS(e,a,s,o){var f=G.T;G.T=null;var d=st.p;try{st.p=8,Nd(e,a,s,o)}finally{st.p=d,G.T=f}}function Nd(e,a,s,o){if(Tc){var f=Md(o);if(f===null)_d(e,a,o,bc,s),a_(e,o);else if(sS(f,e,a,s,o))o.stopPropagation();else if(a_(e,o),a&4&&-1<iS.indexOf(e)){for(;f!==null;){var d=jn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=wn(d.pendingLanes);if(E!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;E;){var O=1<<31-Se(E);T.entanglements[1]|=O,E&=~O}Or(d),(Wt&6)===0&&(ic=Ge()+500,fo(0))}}break;case 13:T=Rs(d,2),T!==null&&In(T,d,2),lc(),Id(d,2)}if(d=Md(o),d===null&&_d(e,a,o,bc,s),d===f)break;f=d}f!==null&&o.stopPropagation()}else _d(e,a,o,null,s)}}function Md(e){return e=Bn(e),Vd(e)}var bc=null;function Vd(e){if(bc=null,e=ar(e),e!==null){var a=u(e);if(a===null)e=null;else{var s=a.tag;if(s===13){if(e=h(a),e!==null)return e;e=null}else if(s===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;e=null}else a!==e&&(e=null)}}return bc=e,null}function r_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(is()){case _a:return 2;case Ea:return 8;case Ur:case Sl:return 32;case jr:return 268435456;default:return 32}default:return 32}}var Pd=!1,qa=null,Ha=null,Fa=null,Eo=new Map,To=new Map,Ya=[],iS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function a_(e,a){switch(e){case"focusin":case"focusout":qa=null;break;case"dragenter":case"dragleave":Ha=null;break;case"mouseover":case"mouseout":Fa=null;break;case"pointerover":case"pointerout":Eo.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":To.delete(a.pointerId)}}function bo(e,a,s,o,f,d){return e===null||e.nativeEvent!==d?(e={blockedOn:a,domEventName:s,eventSystemFlags:o,nativeEvent:d,targetContainers:[f]},a!==null&&(a=jn(a),a!==null&&n_(a)),e):(e.eventSystemFlags|=o,a=e.targetContainers,f!==null&&a.indexOf(f)===-1&&a.push(f),e)}function sS(e,a,s,o,f){switch(a){case"focusin":return qa=bo(qa,e,a,s,o,f),!0;case"dragenter":return Ha=bo(Ha,e,a,s,o,f),!0;case"mouseover":return Fa=bo(Fa,e,a,s,o,f),!0;case"pointerover":var d=f.pointerId;return Eo.set(d,bo(Eo.get(d)||null,e,a,s,o,f)),!0;case"gotpointercapture":return d=f.pointerId,To.set(d,bo(To.get(d)||null,e,a,s,o,f)),!0}return!1}function i_(e){var a=ar(e.target);if(a!==null){var s=u(a);if(s!==null){if(a=s.tag,a===13){if(a=h(s),a!==null){e.blockedOn=a,ba(e.priority,function(){if(s.tag===13){var o=On();o=Yt(o);var f=Rs(s,o);f!==null&&In(f,s,o),Id(s,o)}});return}}else if(a===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wc(e){if(e.blockedOn!==null)return!1;for(var a=e.targetContainers;0<a.length;){var s=Md(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Gr=o,s.target.dispatchEvent(o),Gr=null}else return a=jn(s),a!==null&&n_(a),e.blockedOn=s,!1;a.shift()}return!0}function s_(e,a,s){wc(e)&&s.delete(a)}function lS(){Pd=!1,qa!==null&&wc(qa)&&(qa=null),Ha!==null&&wc(Ha)&&(Ha=null),Fa!==null&&wc(Fa)&&(Fa=null),Eo.forEach(s_),To.forEach(s_)}function Sc(e,a){e.blockedOn===a&&(e.blockedOn=null,Pd||(Pd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,lS)))}var Ac=null;function l_(e){Ac!==e&&(Ac=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ac===e&&(Ac=null);for(var a=0;a<e.length;a+=3){var s=e[a],o=e[a+1],f=e[a+2];if(typeof o!="function"){if(Vd(o||s)===null)continue;break}var d=jn(s);d!==null&&(e.splice(a,3),a-=3,Vh(d,{pending:!0,data:f,method:s.method,action:o},o,f))}}))}function wo(e){function a(O){return Sc(O,e)}qa!==null&&Sc(qa,e),Ha!==null&&Sc(Ha,e),Fa!==null&&Sc(Fa,e),Eo.forEach(a),To.forEach(a);for(var s=0;s<Ya.length;s++){var o=Ya[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Ya.length&&(s=Ya[0],s.blockedOn===null);)i_(s),s.blockedOn===null&&Ya.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var f=s[o],d=s[o+1],E=f[he]||null;if(typeof d=="function")E||l_(s);else if(E){var T=null;if(d&&d.hasAttribute("formAction")){if(f=d,E=d[he]||null)T=E.formAction;else if(Vd(f)!==null)continue}else T=E.action;typeof T=="function"?s[o+1]=T:(s.splice(o,3),o-=3),l_(s)}}}function Ld(e){this._internalRoot=e}Rc.prototype.render=Ld.prototype.render=function(e){var a=this._internalRoot;if(a===null)throw Error(i(409));var s=a.current,o=On();t_(s,o,e,a,null,null)},Rc.prototype.unmount=Ld.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var a=e.containerInfo;t_(e.current,2,null,e,null,null),lc(),a[Ke]=null}};function Rc(e){this._internalRoot=e}Rc.prototype.unstable_scheduleHydration=function(e){if(e){var a=pr();e={blockedOn:null,target:e,priority:a};for(var s=0;s<Ya.length&&a!==0&&a<Ya[s].priority;s++);Ya.splice(s,0,e),s===0&&i_(e)}};var o_=t.version;if(o_!=="19.1.0")throw Error(i(527,o_,"19.1.0"));st.findDOMNode=function(e){var a=e._reactInternals;if(a===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=g(a),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var oS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dc.isDisabled&&Dc.supportsFiber)try{fe=Dc.inject(oS),Qt=Dc}catch{}}return Ao.createRoot=function(e,a){if(!l(e))throw Error(i(299));var s=!1,o="",f=Sp,d=Ap,E=Rp,T=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(d=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(T=a.unstable_transitionCallbacks)),a=Zv(e,1,!1,null,null,s,o,f,d,E,T,null),e[Ke]=a.current,vd(e),new Ld(a)},Ao.hydrateRoot=function(e,a,s){if(!l(e))throw Error(i(299));var o=!1,f="",d=Sp,E=Ap,T=Rp,O=null,H=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(E=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(O=s.unstable_transitionCallbacks),s.formState!==void 0&&(H=s.formState)),a=Zv(e,1,!0,a,s??null,o,f,d,E,T,O,H),a.context=Jv(null),s=a.current,o=On(),o=Yt(o),f=Ca(o),f.callback=null,xa(s,f,o),s=o,a.current.lanes=s,kn(a,s),Or(a),e[Ke]=a.current,vd(e),new Rc(a)},Ao.version="19.1.0",Ao}var v_;function _S(){if(v_)return jd.exports;v_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),jd.exports=vS(),jd.exports}var ES=_S(),Ro={},__;function TS(){if(__)return Ro;__=1,Object.defineProperty(Ro,"__esModule",{value:!0}),Ro.parse=h,Ro.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,u=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function h(w,D){const R=new u,k=w.length;if(k<2)return R;const L=(D==null?void 0:D.decode)||_;let K=0;do{const rt=w.indexOf("=",K);if(rt===-1)break;const nt=w.indexOf(";",K),it=nt===-1?k:nt;if(rt>it){K=w.lastIndexOf(";",rt-1)+1;continue}const ut=m(w,K,rt),gt=g(w,rt,ut),M=w.slice(ut,gt);if(R[M]===void 0){let A=m(w,rt+1,it),C=g(w,it,A);const N=L(w.slice(A,C));R[M]=N}K=it+1}while(K<k);return R}function m(w,D,R){do{const k=w.charCodeAt(D);if(k!==32&&k!==9)return D}while(++D<R);return R}function g(w,D,R){for(;D>R;){const k=w.charCodeAt(--D);if(k!==32&&k!==9)return D+1}return R}function y(w,D,R){const k=(R==null?void 0:R.encode)||encodeURIComponent;if(!r.test(w))throw new TypeError(`argument name is invalid: ${w}`);const L=k(D);if(!t.test(L))throw new TypeError(`argument val is invalid: ${D}`);let K=w+"="+L;if(!R)return K;if(R.maxAge!==void 0){if(!Number.isInteger(R.maxAge))throw new TypeError(`option maxAge is invalid: ${R.maxAge}`);K+="; Max-Age="+R.maxAge}if(R.domain){if(!n.test(R.domain))throw new TypeError(`option domain is invalid: ${R.domain}`);K+="; Domain="+R.domain}if(R.path){if(!i.test(R.path))throw new TypeError(`option path is invalid: ${R.path}`);K+="; Path="+R.path}if(R.expires){if(!b(R.expires)||!Number.isFinite(R.expires.valueOf()))throw new TypeError(`option expires is invalid: ${R.expires}`);K+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&(K+="; HttpOnly"),R.secure&&(K+="; Secure"),R.partitioned&&(K+="; Partitioned"),R.priority)switch(typeof R.priority=="string"?R.priority.toLowerCase():void 0){case"low":K+="; Priority=Low";break;case"medium":K+="; Priority=Medium";break;case"high":K+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${R.priority}`)}if(R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:case"strict":K+="; SameSite=Strict";break;case"lax":K+="; SameSite=Lax";break;case"none":K+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${R.sameSite}`)}return K}function _(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function b(w){return l.call(w)==="[object Date]"}return Ro}TS();/**
 * react-router v7.5.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var E_="popstate";function bS(r={}){function t(l,u){let{pathname:h="/",search:m="",hash:g=""}=Ji(l.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),lm("",{pathname:h,search:m,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(l,u){let h=l.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let g=l.location.href,y=g.indexOf("#");m=y===-1?g:g.slice(0,y)}return m+"#"+(typeof u=="string"?u:zo(u))}function i(l,u){Zn(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return SS(t,n,i,r)}function me(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function Zn(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function wS(){return Math.random().toString(36).substring(2,10)}function T_(r,t){return{usr:r.state,key:r.key,idx:t}}function lm(r,t,n=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Ji(t):t,state:n,key:t&&t.key||i||wS()}}function zo({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Ji(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let i=r.indexOf("?");i>=0&&(t.search=r.substring(i),r=r.substring(0,i)),r&&(t.pathname=r)}return t}function SS(r,t,n,i={}){let{window:l=document.defaultView,v5Compat:u=!1}=i,h=l.history,m="POP",g=null,y=_();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function _(){return(h.state||{idx:null}).idx}function b(){m="POP";let L=_(),K=L==null?null:L-y;y=L,g&&g({action:m,location:k.location,delta:K})}function w(L,K){m="PUSH";let rt=lm(k.location,L,K);n&&n(rt,L),y=_()+1;let nt=T_(rt,y),it=k.createHref(rt);try{h.pushState(nt,"",it)}catch(ut){if(ut instanceof DOMException&&ut.name==="DataCloneError")throw ut;l.location.assign(it)}u&&g&&g({action:m,location:k.location,delta:1})}function D(L,K){m="REPLACE";let rt=lm(k.location,L,K);n&&n(rt,L),y=_();let nt=T_(rt,y),it=k.createHref(rt);h.replaceState(nt,"",it),u&&g&&g({action:m,location:k.location,delta:0})}function R(L){let K=l.location.origin!=="null"?l.location.origin:l.location.href,rt=typeof L=="string"?L:zo(L);return rt=rt.replace(/ $/,"%20"),me(K,`No window.location.(origin|href) available to create URL for href: ${rt}`),new URL(rt,K)}let k={get action(){return m},get location(){return r(l,h)},listen(L){if(g)throw new Error("A history only accepts one active listener");return l.addEventListener(E_,b),g=L,()=>{l.removeEventListener(E_,b),g=null}},createHref(L){return t(l,L)},createURL:R,encodeLocation(L){let K=R(L);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:w,replace:D,go(L){return h.go(L)}};return k}function oE(r,t,n="/"){return AS(r,t,n,!1)}function AS(r,t,n,i){let l=typeof t=="string"?Ji(t):t,u=ma(l.pathname||"/",n);if(u==null)return null;let h=uE(r);RS(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let y=kS(u);m=PS(h[g],y,i)}return m}function uE(r,t=[],n=[],i=""){let l=(u,h,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};g.relativePath.startsWith("/")&&(me(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length));let y=ha([i,g.relativePath]),_=n.concat(g);u.children&&u.children.length>0&&(me(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),uE(u.children,t,_,y)),!(u.path==null&&!u.index)&&t.push({path:y,score:MS(y,u.index),routesMeta:_})};return r.forEach((u,h)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))l(u,h);else for(let g of cE(u.path))l(u,h,g)}),t}function cE(r){let t=r.split("/");if(t.length===0)return[];let[n,...i]=t,l=n.endsWith("?"),u=n.replace(/\?$/,"");if(i.length===0)return l?[u,""]:[u];let h=cE(i.join("/")),m=[];return m.push(...h.map(g=>g===""?u:[u,g].join("/"))),l&&m.push(...h),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function RS(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:VS(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var DS=/^:[\w-]+$/,CS=3,xS=2,OS=1,IS=10,NS=-2,b_=r=>r==="*";function MS(r,t){let n=r.split("/"),i=n.length;return n.some(b_)&&(i+=NS),t&&(i+=xS),n.filter(l=>!b_(l)).reduce((l,u)=>l+(DS.test(u)?CS:u===""?OS:IS),i)}function VS(r,t){return r.length===t.length&&r.slice(0,-1).every((i,l)=>i===t[l])?r[r.length-1]-t[t.length-1]:0}function PS(r,t,n=!1){let{routesMeta:i}=r,l={},u="/",h=[];for(let m=0;m<i.length;++m){let g=i[m],y=m===i.length-1,_=u==="/"?t:t.slice(u.length)||"/",b=Gc({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},_),w=g.route;if(!b&&y&&n&&!i[i.length-1].route.index&&(b=Gc({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},_)),!b)return null;Object.assign(l,b.params),h.push({params:l,pathname:ha([u,b.pathname]),pathnameBase:BS(ha([u,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(u=ha([u,b.pathnameBase]))}return h}function Gc(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,i]=LS(r.path,r.caseSensitive,r.end),l=t.match(n);if(!l)return null;let u=l[0],h=u.replace(/(.)\/+$/,"$1"),m=l.slice(1);return{params:i.reduce((y,{paramName:_,isOptional:b},w)=>{if(_==="*"){let R=m[w]||"";h=u.slice(0,u.length-R.length).replace(/(.)\/+$/,"$1")}const D=m[w];return b&&!D?y[_]=void 0:y[_]=(D||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:h,pattern:r}}function LS(r,t=!1,n=!0){Zn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],l="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(i.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(i.push({paramName:"*"}),l+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":r!==""&&r!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),i]}function kS(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Zn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function ma(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=r.charAt(n);return i&&i!=="/"?null:r.slice(n)||"/"}function US(r,t="/"){let{pathname:n,search:i="",hash:l=""}=typeof r=="string"?Ji(r):r;return{pathname:n?n.startsWith("/")?n:jS(n,t):t,search:qS(i),hash:HS(l)}}function jS(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function Hd(r,t,n,i){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zS(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Km(r){let t=zS(r);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function $m(r,t,n,i=!1){let l;typeof r=="string"?l=Ji(r):(l={...r},me(!l.pathname||!l.pathname.includes("?"),Hd("?","pathname","search",l)),me(!l.pathname||!l.pathname.includes("#"),Hd("#","pathname","hash",l)),me(!l.search||!l.search.includes("#"),Hd("#","search","hash",l)));let u=r===""||l.pathname==="",h=u?"/":l.pathname,m;if(h==null)m=n;else{let b=t.length-1;if(!i&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),b-=1;l.pathname=w.join("/")}m=b>=0?t[b]:"/"}let g=US(l,m),y=h&&h!=="/"&&h.endsWith("/"),_=(u||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||_)&&(g.pathname+="/"),g}var ha=r=>r.join("/").replace(/\/\/+/g,"/"),BS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),qS=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,HS=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function FS(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var fE=["POST","PUT","PATCH","DELETE"];new Set(fE);var YS=["GET",...fE];new Set(YS);var gl=F.createContext(null);gl.displayName="DataRouter";var df=F.createContext(null);df.displayName="DataRouterState";var hE=F.createContext({isTransitioning:!1});hE.displayName="ViewTransition";var GS=F.createContext(new Map);GS.displayName="Fetchers";var QS=F.createContext(null);QS.displayName="Await";var fr=F.createContext(null);fr.displayName="Navigation";var Zo=F.createContext(null);Zo.displayName="Location";var hr=F.createContext({outlet:null,matches:[],isDataRoute:!1});hr.displayName="Route";var Xm=F.createContext(null);Xm.displayName="RouteError";function KS(r,{relative:t}={}){me(yl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=F.useContext(fr),{hash:l,pathname:u,search:h}=Jo(r,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:ha([n,u])),i.createHref({pathname:m,search:h,hash:l})}function yl(){return F.useContext(Zo)!=null}function oi(){return me(yl(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(Zo).location}var dE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function mE(r){F.useContext(fr).static||F.useLayoutEffect(r)}function Wm(){let{isDataRoute:r}=F.useContext(hr);return r?oA():$S()}function $S(){me(yl(),"useNavigate() may be used only in the context of a <Router> component.");let r=F.useContext(gl),{basename:t,navigator:n}=F.useContext(fr),{matches:i}=F.useContext(hr),{pathname:l}=oi(),u=JSON.stringify(Km(i)),h=F.useRef(!1);return mE(()=>{h.current=!0}),F.useCallback((g,y={})=>{if(Zn(h.current,dE),!h.current)return;if(typeof g=="number"){n.go(g);return}let _=$m(g,JSON.parse(u),l,y.relative==="path");r==null&&t!=="/"&&(_.pathname=_.pathname==="/"?t:ha([t,_.pathname])),(y.replace?n.replace:n.push)(_,y.state,y)},[t,n,u,l,r])}F.createContext(null);function XS(){let{matches:r}=F.useContext(hr),t=r[r.length-1];return t?t.params:{}}function Jo(r,{relative:t}={}){let{matches:n}=F.useContext(hr),{pathname:i}=oi(),l=JSON.stringify(Km(n));return F.useMemo(()=>$m(r,JSON.parse(l),i,t==="path"),[r,l,i,t])}function WS(r,t){return gE(r,t)}function gE(r,t,n,i){var rt;me(yl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l,static:u}=F.useContext(fr),{matches:h}=F.useContext(hr),m=h[h.length-1],g=m?m.params:{},y=m?m.pathname:"/",_=m?m.pathnameBase:"/",b=m&&m.route;{let nt=b&&b.path||"";yE(y,!b||nt.endsWith("*")||nt.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${nt}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${nt}"> to <Route path="${nt==="/"?"*":`${nt}/*`}">.`)}let w=oi(),D;if(t){let nt=typeof t=="string"?Ji(t):t;me(_==="/"||((rt=nt.pathname)==null?void 0:rt.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${nt.pathname}" was given in the \`location\` prop.`),D=nt}else D=w;let R=D.pathname||"/",k=R;if(_!=="/"){let nt=_.replace(/^\//,"").split("/");k="/"+R.replace(/^\//,"").split("/").slice(nt.length).join("/")}let L=!u&&n&&n.matches&&n.matches.length>0?n.matches:oE(r,{pathname:k});Zn(b||L!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),Zn(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let K=nA(L&&L.map(nt=>Object.assign({},nt,{params:Object.assign({},g,nt.params),pathname:ha([_,l.encodeLocation?l.encodeLocation(nt.pathname).pathname:nt.pathname]),pathnameBase:nt.pathnameBase==="/"?_:ha([_,l.encodeLocation?l.encodeLocation(nt.pathnameBase).pathname:nt.pathnameBase])})),h,n,i);return t&&K?F.createElement(Zo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},K):K}function ZS(){let r=lA(),t=FS(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=F.createElement(F.Fragment,null,F.createElement("p",null,"💿 Hey developer 👋"),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:u},"ErrorBoundary")," or"," ",F.createElement("code",{style:u},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},t),n?F.createElement("pre",{style:l},n):null,h)}var JS=F.createElement(ZS,null),tA=class extends F.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?F.createElement(hr.Provider,{value:this.props.routeContext},F.createElement(Xm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function eA({routeContext:r,match:t,children:n}){let i=F.useContext(gl);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),F.createElement(hr.Provider,{value:r},n)}function nA(r,t=[],n=null,i=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let l=r,u=n==null?void 0:n.errors;if(u!=null){let g=l.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);me(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,g+1))}let h=!1,m=-1;if(n)for(let g=0;g<l.length;g++){let y=l[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=g),y.route.id){let{loaderData:_,errors:b}=n,w=y.route.loader&&!_.hasOwnProperty(y.route.id)&&(!b||b[y.route.id]===void 0);if(y.route.lazy||w){h=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((g,y,_)=>{let b,w=!1,D=null,R=null;n&&(b=u&&y.route.id?u[y.route.id]:void 0,D=y.route.errorElement||JS,h&&(m<0&&_===0?(yE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,R=null):m===_&&(w=!0,R=y.route.hydrateFallbackElement||null)));let k=t.concat(l.slice(0,_+1)),L=()=>{let K;return b?K=D:w?K=R:y.route.Component?K=F.createElement(y.route.Component,null):y.route.element?K=y.route.element:K=g,F.createElement(eA,{match:y,routeContext:{outlet:g,matches:k,isDataRoute:n!=null},children:K})};return n&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?F.createElement(tA,{location:n.location,revalidation:n.revalidation,component:D,error:b,children:L(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):L()},null)}function Zm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rA(r){let t=F.useContext(gl);return me(t,Zm(r)),t}function aA(r){let t=F.useContext(df);return me(t,Zm(r)),t}function iA(r){let t=F.useContext(hr);return me(t,Zm(r)),t}function Jm(r){let t=iA(r),n=t.matches[t.matches.length-1];return me(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function sA(){return Jm("useRouteId")}function lA(){var i;let r=F.useContext(Xm),t=aA("useRouteError"),n=Jm("useRouteError");return r!==void 0?r:(i=t.errors)==null?void 0:i[n]}function oA(){let{router:r}=rA("useNavigate"),t=Jm("useNavigate"),n=F.useRef(!1);return mE(()=>{n.current=!0}),F.useCallback(async(l,u={})=>{Zn(n.current,dE),n.current&&(typeof l=="number"?r.navigate(l):await r.navigate(l,{fromRouteId:t,...u}))},[r,t])}var w_={};function yE(r,t,n){!t&&!w_[r]&&(w_[r]=!0,Zn(!1,n))}F.memo(uA);function uA({routes:r,future:t,state:n}){return gE(r,void 0,n,t)}function Qa({to:r,replace:t,state:n,relative:i}){me(yl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=F.useContext(fr);Zn(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=F.useContext(hr),{pathname:h}=oi(),m=Wm(),g=$m(r,Km(u),h,i==="path"),y=JSON.stringify(g);return F.useEffect(()=>{m(JSON.parse(y),{replace:t,state:n,relative:i})},[m,y,i,t,n]),null}function fa(r){me(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cA({basename:r="/",children:t=null,location:n,navigationType:i="POP",navigator:l,static:u=!1}){me(!yl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),m=F.useMemo(()=>({basename:h,navigator:l,static:u,future:{}}),[h,l,u]);typeof n=="string"&&(n=Ji(n));let{pathname:g="/",search:y="",hash:_="",state:b=null,key:w="default"}=n,D=F.useMemo(()=>{let R=ma(g,h);return R==null?null:{location:{pathname:R,search:y,hash:_,state:b,key:w},navigationType:i}},[h,g,y,_,b,w,i]);return Zn(D!=null,`<Router basename="${h}"> is not able to match the URL "${g}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:F.createElement(fr.Provider,{value:m},F.createElement(Zo.Provider,{children:t,value:D}))}function fA({children:r,location:t}){return WS(om(r),t)}function om(r,t=[]){let n=[];return F.Children.forEach(r,(i,l)=>{if(!F.isValidElement(i))return;let u=[...t,l];if(i.type===F.Fragment){n.push.apply(n,om(i.props.children,u));return}me(i.type===fa,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),me(!i.props.index||!i.props.children,"An index route cannot have child routes.");let h={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(h.children=om(i.props.children,u)),n.push(h)}),n}var kc="get",Uc="application/x-www-form-urlencoded";function mf(r){return r!=null&&typeof r.tagName=="string"}function hA(r){return mf(r)&&r.tagName.toLowerCase()==="button"}function dA(r){return mf(r)&&r.tagName.toLowerCase()==="form"}function mA(r){return mf(r)&&r.tagName.toLowerCase()==="input"}function gA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function yA(r,t){return r.button===0&&(!t||t==="_self")&&!gA(r)}var Cc=null;function pA(){if(Cc===null)try{new FormData(document.createElement("form"),0),Cc=!1}catch{Cc=!0}return Cc}var vA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fd(r){return r!=null&&!vA.has(r)?(Zn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Uc}"`),null):r}function _A(r,t){let n,i,l,u,h;if(dA(r)){let m=r.getAttribute("action");i=m?ma(m,t):null,n=r.getAttribute("method")||kc,l=Fd(r.getAttribute("enctype"))||Uc,u=new FormData(r)}else if(hA(r)||mA(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(i=g?ma(g,t):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||kc,l=Fd(r.getAttribute("formenctype"))||Fd(m.getAttribute("enctype"))||Uc,u=new FormData(m,r),!pA()){let{name:y,type:_,value:b}=r;if(_==="image"){let w=y?`${y}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else y&&u.append(y,b)}}else{if(mf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=kc,i=null,l=Uc,h=r}return u&&l==="text/plain"&&(h=u,u=void 0),{action:i,method:n.toLowerCase(),encType:l,formData:u,body:h}}function tg(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}async function EA(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function TA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function bA(r,t,n){let i=await Promise.all(r.map(async l=>{let u=t.routes[l.route.id];if(u){let h=await EA(u,n);return h.links?h.links():[]}return[]}));return RA(i.flat(1).filter(TA).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function S_(r,t,n,i,l,u){let h=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,m=(g,y)=>{var _;return n[y].pathname!==g.pathname||((_=n[y].route.path)==null?void 0:_.endsWith("*"))&&n[y].params["*"]!==g.params["*"]};return u==="assets"?t.filter((g,y)=>h(g,y)||m(g,y)):u==="data"?t.filter((g,y)=>{var b;let _=i.routes[g.route.id];if(!_||!_.hasLoader)return!1;if(h(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let w=g.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((b=n[0])==null?void 0:b.params)||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function wA(r,t,{includeHydrateFallback:n}={}){return SA(r.map(i=>{let l=t.routes[i.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function SA(r){return[...new Set(r)]}function AA(r){let t={},n=Object.keys(r).sort();for(let i of n)t[i]=r[i];return t}function RA(r,t){let n=new Set;return new Set(t),r.reduce((i,l)=>{let u=JSON.stringify(AA(l));return n.has(u)||(n.add(u),i.push({key:u,link:l})),i},[])}var DA=new Set([100,101,204,205]);function CA(r,t){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":t&&ma(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function pE(){let r=F.useContext(gl);return tg(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function xA(){let r=F.useContext(df);return tg(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var eg=F.createContext(void 0);eg.displayName="FrameworkContext";function vE(){let r=F.useContext(eg);return tg(r,"You must render this element inside a <HydratedRouter> element"),r}function OA(r,t){let n=F.useContext(eg),[i,l]=F.useState(!1),[u,h]=F.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:_,onTouchStart:b}=t,w=F.useRef(null);F.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let k=K=>{K.forEach(rt=>{h(rt.isIntersecting)})},L=new IntersectionObserver(k,{threshold:.5});return w.current&&L.observe(w.current),()=>{L.disconnect()}}},[r]),F.useEffect(()=>{if(i){let k=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(k)}}},[i]);let D=()=>{l(!0)},R=()=>{l(!1),h(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:Do(m,D),onBlur:Do(g,R),onMouseEnter:Do(y,D),onMouseLeave:Do(_,R),onTouchStart:Do(b,D)}]:[!1,w,{}]}function Do(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function IA({page:r,...t}){let{router:n}=pE(),i=F.useMemo(()=>oE(n.routes,r,n.basename),[n.routes,r,n.basename]);return i?F.createElement(MA,{page:r,matches:i,...t}):null}function NA(r){let{manifest:t,routeModules:n}=vE(),[i,l]=F.useState([]);return F.useEffect(()=>{let u=!1;return bA(r,t,n).then(h=>{u||l(h)}),()=>{u=!0}},[r,t,n]),i}function MA({page:r,matches:t,...n}){let i=oi(),{manifest:l,routeModules:u}=vE(),{basename:h}=pE(),{loaderData:m,matches:g}=xA(),y=F.useMemo(()=>S_(r,t,g,l,i,"data"),[r,t,g,l,i]),_=F.useMemo(()=>S_(r,t,g,l,i,"assets"),[r,t,g,l,i]),b=F.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let R=new Set,k=!1;if(t.forEach(K=>{var nt;let rt=l.routes[K.route.id];!rt||!rt.hasLoader||(!y.some(it=>it.route.id===K.route.id)&&K.route.id in m&&((nt=u[K.route.id])!=null&&nt.shouldRevalidate)||rt.hasClientLoader?k=!0:R.add(K.route.id))}),R.size===0)return[];let L=CA(r,h);return k&&R.size>0&&L.searchParams.set("_routes",t.filter(K=>R.has(K.route.id)).map(K=>K.route.id).join(",")),[L.pathname+L.search]},[h,m,i,l,y,t,r,u]),w=F.useMemo(()=>wA(_,l),[_,l]),D=NA(_);return F.createElement(F.Fragment,null,b.map(R=>F.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...n})),w.map(R=>F.createElement("link",{key:R,rel:"modulepreload",href:R,...n})),D.map(({key:R,link:k})=>F.createElement("link",{key:R,...k})))}function VA(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var _E=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_E&&(window.__reactRouterVersion="7.5.1")}catch{}function PA({basename:r,children:t,window:n}){let i=F.useRef();i.current==null&&(i.current=bS({window:n,v5Compat:!0}));let l=i.current,[u,h]=F.useState({action:l.action,location:l.location}),m=F.useCallback(g=>{F.startTransition(()=>h(g))},[h]);return F.useLayoutEffect(()=>l.listen(m),[l,m]),F.createElement(cA,{basename:r,children:t,location:u.location,navigationType:u.action,navigator:l})}var EE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$a=F.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:l,reloadDocument:u,replace:h,state:m,target:g,to:y,preventScrollReset:_,viewTransition:b,...w},D){let{basename:R}=F.useContext(fr),k=typeof y=="string"&&EE.test(y),L,K=!1;if(typeof y=="string"&&k&&(L=y,_E))try{let C=new URL(window.location.href),N=y.startsWith("//")?new URL(C.protocol+y):new URL(y),P=ma(N.pathname,R);N.origin===C.origin&&P!=null?y=P+N.search+N.hash:K=!0}catch{Zn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let rt=KS(y,{relative:l}),[nt,it,ut]=OA(i,w),gt=jA(y,{replace:h,state:m,target:g,preventScrollReset:_,relative:l,viewTransition:b});function M(C){t&&t(C),C.defaultPrevented||gt(C)}let A=F.createElement("a",{...w,...ut,href:L||rt,onClick:K||u?t:M,ref:VA(D,it),target:g,"data-discover":!k&&n==="render"?"true":void 0});return nt&&!k?F.createElement(F.Fragment,null,A,F.createElement(IA,{page:rt})):A});$a.displayName="Link";var LA=F.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:l=!1,style:u,to:h,viewTransition:m,children:g,...y},_){let b=Jo(h,{relative:y.relative}),w=oi(),D=F.useContext(df),{navigator:R,basename:k}=F.useContext(fr),L=D!=null&&FA(b)&&m===!0,K=R.encodeLocation?R.encodeLocation(b).pathname:b.pathname,rt=w.pathname,nt=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;n||(rt=rt.toLowerCase(),nt=nt?nt.toLowerCase():null,K=K.toLowerCase()),nt&&k&&(nt=ma(nt,k)||nt);const it=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let ut=rt===K||!l&&rt.startsWith(K)&&rt.charAt(it)==="/",gt=nt!=null&&(nt===K||!l&&nt.startsWith(K)&&nt.charAt(K.length)==="/"),M={isActive:ut,isPending:gt,isTransitioning:L},A=ut?t:void 0,C;typeof i=="function"?C=i(M):C=[i,ut?"active":null,gt?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let N=typeof u=="function"?u(M):u;return F.createElement($a,{...y,"aria-current":A,className:C,ref:_,style:N,to:h,viewTransition:m},typeof g=="function"?g(M):g)});LA.displayName="NavLink";var kA=F.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:l,state:u,method:h=kc,action:m,onSubmit:g,relative:y,preventScrollReset:_,viewTransition:b,...w},D)=>{let R=qA(),k=HA(m,{relative:y}),L=h.toLowerCase()==="get"?"get":"post",K=typeof m=="string"&&EE.test(m),rt=nt=>{if(g&&g(nt),nt.defaultPrevented)return;nt.preventDefault();let it=nt.nativeEvent.submitter,ut=(it==null?void 0:it.getAttribute("formmethod"))||h;R(it||nt.currentTarget,{fetcherKey:t,method:ut,navigate:n,replace:l,state:u,relative:y,preventScrollReset:_,viewTransition:b})};return F.createElement("form",{ref:D,method:L,action:k,onSubmit:i?g:rt,...w,"data-discover":!K&&r==="render"?"true":void 0})});kA.displayName="Form";function UA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TE(r){let t=F.useContext(gl);return me(t,UA(r)),t}function jA(r,{target:t,replace:n,state:i,preventScrollReset:l,relative:u,viewTransition:h}={}){let m=Wm(),g=oi(),y=Jo(r,{relative:u});return F.useCallback(_=>{if(yA(_,t)){_.preventDefault();let b=n!==void 0?n:zo(g)===zo(y);m(r,{replace:b,state:i,preventScrollReset:l,relative:u,viewTransition:h})}},[g,m,y,n,i,t,r,l,u,h])}var zA=0,BA=()=>`__${String(++zA)}__`;function qA(){let{router:r}=TE("useSubmit"),{basename:t}=F.useContext(fr),n=sA();return F.useCallback(async(i,l={})=>{let{action:u,method:h,encType:m,formData:g,body:y}=_A(i,t);if(l.navigate===!1){let _=l.fetcherKey||BA();await r.fetch(_,n,l.action||u,{preventScrollReset:l.preventScrollReset,formData:g,body:y,formMethod:l.method||h,formEncType:l.encType||m,flushSync:l.flushSync})}else await r.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:g,body:y,formMethod:l.method||h,formEncType:l.encType||m,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,t,n])}function HA(r,{relative:t}={}){let{basename:n}=F.useContext(fr),i=F.useContext(hr);me(i,"useFormAction must be used inside a RouteContext");let[l]=i.matches.slice(-1),u={...Jo(r||".",{relative:t})},h=oi();if(r==null){u.search=h.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(_=>_==="")){m.delete("index"),g.filter(b=>b).forEach(b=>m.append("index",b));let _=m.toString();u.search=_?`?${_}`:""}}return(!r||r===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ha([n,u.pathname])),zo(u)}function FA(r,t={}){let n=F.useContext(hE);me(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=TE("useViewTransitionState"),l=Jo(r,{relative:t.relative});if(!n.isTransitioning)return!1;let u=ma(n.currentLocation.pathname,i)||n.currentLocation.pathname,h=ma(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Gc(l.pathname,h)!=null||Gc(l.pathname,u)!=null}new TextEncoder;[...DA];const YA=()=>{};var A_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE=function(r){const t=[];let n=0;for(let i=0;i<r.length;i++){let l=r.charCodeAt(i);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++i)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},GA=function(r){const t=[];let n=0,i=0;for(;n<r.length;){const l=r[n++];if(l<128)t[i++]=String.fromCharCode(l);else if(l>191&&l<224){const u=r[n++];t[i++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=r[n++],h=r[n++],m=r[n++],g=((l&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;t[i++]=String.fromCharCode(55296+(g>>10)),t[i++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],h=r[n++];t[i++]=String.fromCharCode((l&15)<<12|(u&63)<<6|h&63)}}return t.join("")},wE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let l=0;l<r.length;l+=3){const u=r[l],h=l+1<r.length,m=h?r[l+1]:0,g=l+2<r.length,y=g?r[l+2]:0,_=u>>2,b=(u&3)<<4|m>>4;let w=(m&15)<<2|y>>6,D=y&63;g||(D=64,h||(w=64)),i.push(n[_],n[b],n[w],n[D])}return i.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(bE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):GA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let l=0;l<r.length;){const u=n[r.charAt(l++)],m=l<r.length?n[r.charAt(l)]:0;++l;const y=l<r.length?n[r.charAt(l)]:64;++l;const b=l<r.length?n[r.charAt(l)]:64;if(++l,u==null||m==null||y==null||b==null)throw new QA;const w=u<<2|m>>4;if(i.push(w),y!==64){const D=m<<4&240|y>>2;if(i.push(D),b!==64){const R=y<<6&192|b;i.push(R)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class QA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KA=function(r){const t=bE(r);return wE.encodeByteArray(t,!0)},Qc=function(r){return KA(r).replace(/\./g,"")},$A=function(r){try{return wE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA=()=>XA().__FIREBASE_DEFAULTS__,ZA=()=>{if(typeof process>"u"||typeof A_>"u")return;const r=A_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},JA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&$A(r[1]);return t&&JSON.parse(t)},ng=()=>{try{return YA()||WA()||ZA()||JA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},t1=r=>{var t,n;return(n=(t=ng())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},e1=r=>{const t=t1(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},SE=()=>{var r;return(r=ng())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",l=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Qc(JSON.stringify(n)),Qc(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function i1(){var r;const t=(r=ng())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function s1(){return!i1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function l1(){try{return typeof indexedDB=="object"}catch{return!1}}function o1(){return new Promise((r,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(i);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(i),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var u;t(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1="FirebaseError";class pl extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=u1,Object.setPrototypeOf(this,pl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,AE.prototype.create)}}class AE{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},l=`${this.service}/${t}`,u=this.errors[t],h=u?c1(u,i):"Error",m=`${this.serviceName}: ${h} (${l}).`;return new pl(l,m,i)}}function c1(r,t){return r.replace(f1,(n,i)=>{const l=t[i];return l!=null?String(l):`<${i}?>`})}const f1=/\{\$([^}]+)}/g;function Kc(r,t){if(r===t)return!0;const n=Object.keys(r),i=Object.keys(t);for(const l of n){if(!i.includes(l))return!1;const u=r[l],h=t[l];if(R_(u)&&R_(h)){if(!Kc(u,h))return!1}else if(u!==h)return!1}for(const l of i)if(!n.includes(l))return!1;return!0}function R_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(r){return r&&r._delegate?r._delegate:r}class Bo{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new n1;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&i.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(m1(t))try{this.getOrInitializeService({instanceIdentifier:Yi})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});i.resolve(u)}catch{}}}}clearInstance(t=Yi){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Yi){return this.instances.has(t)}getOptions(t=Yi){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);i===m&&h.resolve(l)}return l}onInit(t,n){var i;const l=this.normalizeInstanceIdentifier(n),u=(i=this.onInitCallbacks.get(l))!==null&&i!==void 0?i:new Set;u.add(t),this.onInitCallbacks.set(l,u);const h=this.instances.get(l);return h&&t(h,l),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const l of i)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:d1(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Yi){return this.component?this.component.multipleInstances?t:Yi:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function d1(r){return r===Yi?void 0:r}function m1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new h1(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ht||(Ht={}));const y1={debug:Ht.DEBUG,verbose:Ht.VERBOSE,info:Ht.INFO,warn:Ht.WARN,error:Ht.ERROR,silent:Ht.SILENT},p1=Ht.INFO,v1={[Ht.DEBUG]:"log",[Ht.VERBOSE]:"log",[Ht.INFO]:"info",[Ht.WARN]:"warn",[Ht.ERROR]:"error"},_1=(r,t,...n)=>{if(t<r.logLevel)return;const i=new Date().toISOString(),l=v1[t];if(l)console[l](`[${i}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class RE{constructor(t){this.name=t,this._logLevel=p1,this._logHandler=_1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ht))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?y1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ht.DEBUG,...t),this._logHandler(this,Ht.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ht.VERBOSE,...t),this._logHandler(this,Ht.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ht.INFO,...t),this._logHandler(this,Ht.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ht.WARN,...t),this._logHandler(this,Ht.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ht.ERROR,...t),this._logHandler(this,Ht.ERROR,...t)}}const E1=(r,t)=>t.some(n=>r instanceof n);let D_,C_;function T1(){return D_||(D_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function b1(){return C_||(C_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const DE=new WeakMap,um=new WeakMap,CE=new WeakMap,Yd=new WeakMap,rg=new WeakMap;function w1(r){const t=new Promise((n,i)=>{const l=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(Wa(r.result)),l()},h=()=>{i(r.error),l()};r.addEventListener("success",u),r.addEventListener("error",h)});return t.then(n=>{n instanceof IDBCursor&&DE.set(n,r)}).catch(()=>{}),rg.set(t,r),t}function S1(r){if(um.has(r))return;const t=new Promise((n,i)=>{const l=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),l()},h=()=>{i(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});um.set(r,t)}let cm={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return um.get(r);if(t==="objectStoreNames")return r.objectStoreNames||CE.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wa(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function A1(r){cm=r(cm)}function R1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=r.call(Gd(this),t,...n);return CE.set(i,t.sort?t.sort():[t]),Wa(i)}:b1().includes(r)?function(...t){return r.apply(Gd(this),t),Wa(DE.get(this))}:function(...t){return Wa(r.apply(Gd(this),t))}}function D1(r){return typeof r=="function"?R1(r):(r instanceof IDBTransaction&&S1(r),E1(r,T1())?new Proxy(r,cm):r)}function Wa(r){if(r instanceof IDBRequest)return w1(r);if(Yd.has(r))return Yd.get(r);const t=D1(r);return t!==r&&(Yd.set(r,t),rg.set(t,r)),t}const Gd=r=>rg.get(r);function C1(r,t,{blocked:n,upgrade:i,blocking:l,terminated:u}={}){const h=indexedDB.open(r,t),m=Wa(h);return i&&h.addEventListener("upgradeneeded",g=>{i(Wa(h.result),g.oldVersion,g.newVersion,Wa(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),l&&g.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const x1=["get","getKey","getAll","getAllKeys","count"],O1=["put","add","delete","clear"],Qd=new Map;function x_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Qd.get(t))return Qd.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,l=O1.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(l||x1.includes(n)))return;const u=async function(h,...m){const g=this.transaction(h,l?"readwrite":"readonly");let y=g.store;return i&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),l&&g.done]))[0]};return Qd.set(t,u),u}A1(r=>({...r,get:(t,n,i)=>x_(t,n)||r.get(t,n,i),has:(t,n)=>!!x_(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(N1(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function N1(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const fm="@firebase/app",O_="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=new RE("@firebase/app"),M1="@firebase/app-compat",V1="@firebase/analytics-compat",P1="@firebase/analytics",L1="@firebase/app-check-compat",k1="@firebase/app-check",U1="@firebase/auth",j1="@firebase/auth-compat",z1="@firebase/database",B1="@firebase/data-connect",q1="@firebase/database-compat",H1="@firebase/functions",F1="@firebase/functions-compat",Y1="@firebase/installations",G1="@firebase/installations-compat",Q1="@firebase/messaging",K1="@firebase/messaging-compat",$1="@firebase/performance",X1="@firebase/performance-compat",W1="@firebase/remote-config",Z1="@firebase/remote-config-compat",J1="@firebase/storage",tR="@firebase/storage-compat",eR="@firebase/firestore",nR="@firebase/vertexai",rR="@firebase/firestore-compat",aR="firebase",iR="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="[DEFAULT]",sR={[fm]:"fire-core",[M1]:"fire-core-compat",[P1]:"fire-analytics",[V1]:"fire-analytics-compat",[k1]:"fire-app-check",[L1]:"fire-app-check-compat",[U1]:"fire-auth",[j1]:"fire-auth-compat",[z1]:"fire-rtdb",[B1]:"fire-data-connect",[q1]:"fire-rtdb-compat",[H1]:"fire-fn",[F1]:"fire-fn-compat",[Y1]:"fire-iid",[G1]:"fire-iid-compat",[Q1]:"fire-fcm",[K1]:"fire-fcm-compat",[$1]:"fire-perf",[X1]:"fire-perf-compat",[W1]:"fire-rc",[Z1]:"fire-rc-compat",[J1]:"fire-gcs",[tR]:"fire-gcs-compat",[eR]:"fire-fst",[rR]:"fire-fst-compat",[nR]:"fire-vertex","fire-js":"fire-js",[aR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c=new Map,lR=new Map,dm=new Map;function I_(r,t){try{r.container.addComponent(t)}catch(n){ga.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Xc(r){const t=r.name;if(dm.has(t))return ga.debug(`There were multiple attempts to register component ${t}.`),!1;dm.set(t,r);for(const n of $c.values())I_(n,r);for(const n of lR.values())I_(n,r);return!0}function oR(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function uR(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Za=new AE("app","Firebase",cR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Bo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Za.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR=iR;function xE(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const i=Object.assign({name:hm,automaticDataCollectionEnabled:!1},t),l=i.name;if(typeof l!="string"||!l)throw Za.create("bad-app-name",{appName:String(l)});if(n||(n=SE()),!n)throw Za.create("no-options");const u=$c.get(l);if(u){if(Kc(n,u.options)&&Kc(i,u.config))return u;throw Za.create("duplicate-app",{appName:l})}const h=new g1(l);for(const g of dm.values())h.addComponent(g);const m=new fR(n,i,h);return $c.set(l,m),m}function dR(r=hm){const t=$c.get(r);if(!t&&r===hm&&SE())return xE();if(!t)throw Za.create("no-app",{appName:r});return t}function al(r,t,n){var i;let l=(i=sR[r])!==null&&i!==void 0?i:r;n&&(l+=`-${n}`);const u=l.match(/\s|\//),h=t.match(/\s|\//);if(u||h){const m=[`Unable to register library "${l}" with version "${t}":`];u&&m.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ga.warn(m.join(" "));return}Xc(new Bo(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR="firebase-heartbeat-database",gR=1,qo="firebase-heartbeat-store";let Kd=null;function OE(){return Kd||(Kd=C1(mR,gR,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(qo)}catch(n){console.warn(n)}}}}).catch(r=>{throw Za.create("idb-open",{originalErrorMessage:r.message})})),Kd}async function yR(r){try{const n=(await OE()).transaction(qo),i=await n.objectStore(qo).get(IE(r));return await n.done,i}catch(t){if(t instanceof pl)ga.warn(t.message);else{const n=Za.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ga.warn(n.message)}}}async function N_(r,t){try{const i=(await OE()).transaction(qo,"readwrite");await i.objectStore(qo).put(t,IE(r)),await i.done}catch(n){if(n instanceof pl)ga.warn(n.message);else{const i=Za.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ga.warn(i.message)}}}function IE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR=1024,vR=30;class _R{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new TR(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=M_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>vR){const h=bR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ga.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=M_(),{heartbeatsToSend:i,unsentEntries:l}=ER(this._heartbeatsCache.heartbeats),u=Qc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return ga.warn(n),""}}}function M_(){return new Date().toISOString().substring(0,10)}function ER(r,t=pR){const n=[];let i=r.slice();for(const l of r){const u=n.find(h=>h.agent===l.agent);if(u){if(u.dates.push(l.date),V_(n)>t){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),V_(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class TR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return l1()?o1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await yR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return N_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return N_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function V_(r){return Qc(JSON.stringify({version:2,heartbeats:r})).length}function bR(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let i=1;i<r.length;i++)r[i].date<n&&(n=r[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(r){Xc(new Bo("platform-logger",t=>new I1(t),"PRIVATE")),Xc(new Bo("heartbeat",t=>new _R(t),"PRIVATE")),al(fm,O_,r),al(fm,O_,"esm2017"),al("fire-js","")}wR("");var SR="firebase",AR="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */al(SR,AR,"app");var P_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ja,NE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(M,A){function C(){}C.prototype=A.prototype,M.D=A.prototype,M.prototype=new C,M.prototype.constructor=M,M.C=function(N,P,U){for(var x=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)x[dt-2]=arguments[dt];return A.prototype[P].apply(N,x)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(M,A,C){C||(C=0);var N=Array(16);if(typeof A=="string")for(var P=0;16>P;++P)N[P]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(P=0;16>P;++P)N[P]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=M.g[0],C=M.g[1],P=M.g[2];var U=M.g[3],x=A+(U^C&(P^U))+N[0]+3614090360&4294967295;A=C+(x<<7&4294967295|x>>>25),x=U+(P^A&(C^P))+N[1]+3905402710&4294967295,U=A+(x<<12&4294967295|x>>>20),x=P+(C^U&(A^C))+N[2]+606105819&4294967295,P=U+(x<<17&4294967295|x>>>15),x=C+(A^P&(U^A))+N[3]+3250441966&4294967295,C=P+(x<<22&4294967295|x>>>10),x=A+(U^C&(P^U))+N[4]+4118548399&4294967295,A=C+(x<<7&4294967295|x>>>25),x=U+(P^A&(C^P))+N[5]+1200080426&4294967295,U=A+(x<<12&4294967295|x>>>20),x=P+(C^U&(A^C))+N[6]+2821735955&4294967295,P=U+(x<<17&4294967295|x>>>15),x=C+(A^P&(U^A))+N[7]+4249261313&4294967295,C=P+(x<<22&4294967295|x>>>10),x=A+(U^C&(P^U))+N[8]+1770035416&4294967295,A=C+(x<<7&4294967295|x>>>25),x=U+(P^A&(C^P))+N[9]+2336552879&4294967295,U=A+(x<<12&4294967295|x>>>20),x=P+(C^U&(A^C))+N[10]+4294925233&4294967295,P=U+(x<<17&4294967295|x>>>15),x=C+(A^P&(U^A))+N[11]+2304563134&4294967295,C=P+(x<<22&4294967295|x>>>10),x=A+(U^C&(P^U))+N[12]+1804603682&4294967295,A=C+(x<<7&4294967295|x>>>25),x=U+(P^A&(C^P))+N[13]+4254626195&4294967295,U=A+(x<<12&4294967295|x>>>20),x=P+(C^U&(A^C))+N[14]+2792965006&4294967295,P=U+(x<<17&4294967295|x>>>15),x=C+(A^P&(U^A))+N[15]+1236535329&4294967295,C=P+(x<<22&4294967295|x>>>10),x=A+(P^U&(C^P))+N[1]+4129170786&4294967295,A=C+(x<<5&4294967295|x>>>27),x=U+(C^P&(A^C))+N[6]+3225465664&4294967295,U=A+(x<<9&4294967295|x>>>23),x=P+(A^C&(U^A))+N[11]+643717713&4294967295,P=U+(x<<14&4294967295|x>>>18),x=C+(U^A&(P^U))+N[0]+3921069994&4294967295,C=P+(x<<20&4294967295|x>>>12),x=A+(P^U&(C^P))+N[5]+3593408605&4294967295,A=C+(x<<5&4294967295|x>>>27),x=U+(C^P&(A^C))+N[10]+38016083&4294967295,U=A+(x<<9&4294967295|x>>>23),x=P+(A^C&(U^A))+N[15]+3634488961&4294967295,P=U+(x<<14&4294967295|x>>>18),x=C+(U^A&(P^U))+N[4]+3889429448&4294967295,C=P+(x<<20&4294967295|x>>>12),x=A+(P^U&(C^P))+N[9]+568446438&4294967295,A=C+(x<<5&4294967295|x>>>27),x=U+(C^P&(A^C))+N[14]+3275163606&4294967295,U=A+(x<<9&4294967295|x>>>23),x=P+(A^C&(U^A))+N[3]+4107603335&4294967295,P=U+(x<<14&4294967295|x>>>18),x=C+(U^A&(P^U))+N[8]+1163531501&4294967295,C=P+(x<<20&4294967295|x>>>12),x=A+(P^U&(C^P))+N[13]+2850285829&4294967295,A=C+(x<<5&4294967295|x>>>27),x=U+(C^P&(A^C))+N[2]+4243563512&4294967295,U=A+(x<<9&4294967295|x>>>23),x=P+(A^C&(U^A))+N[7]+1735328473&4294967295,P=U+(x<<14&4294967295|x>>>18),x=C+(U^A&(P^U))+N[12]+2368359562&4294967295,C=P+(x<<20&4294967295|x>>>12),x=A+(C^P^U)+N[5]+4294588738&4294967295,A=C+(x<<4&4294967295|x>>>28),x=U+(A^C^P)+N[8]+2272392833&4294967295,U=A+(x<<11&4294967295|x>>>21),x=P+(U^A^C)+N[11]+1839030562&4294967295,P=U+(x<<16&4294967295|x>>>16),x=C+(P^U^A)+N[14]+4259657740&4294967295,C=P+(x<<23&4294967295|x>>>9),x=A+(C^P^U)+N[1]+2763975236&4294967295,A=C+(x<<4&4294967295|x>>>28),x=U+(A^C^P)+N[4]+1272893353&4294967295,U=A+(x<<11&4294967295|x>>>21),x=P+(U^A^C)+N[7]+4139469664&4294967295,P=U+(x<<16&4294967295|x>>>16),x=C+(P^U^A)+N[10]+3200236656&4294967295,C=P+(x<<23&4294967295|x>>>9),x=A+(C^P^U)+N[13]+681279174&4294967295,A=C+(x<<4&4294967295|x>>>28),x=U+(A^C^P)+N[0]+3936430074&4294967295,U=A+(x<<11&4294967295|x>>>21),x=P+(U^A^C)+N[3]+3572445317&4294967295,P=U+(x<<16&4294967295|x>>>16),x=C+(P^U^A)+N[6]+76029189&4294967295,C=P+(x<<23&4294967295|x>>>9),x=A+(C^P^U)+N[9]+3654602809&4294967295,A=C+(x<<4&4294967295|x>>>28),x=U+(A^C^P)+N[12]+3873151461&4294967295,U=A+(x<<11&4294967295|x>>>21),x=P+(U^A^C)+N[15]+530742520&4294967295,P=U+(x<<16&4294967295|x>>>16),x=C+(P^U^A)+N[2]+3299628645&4294967295,C=P+(x<<23&4294967295|x>>>9),x=A+(P^(C|~U))+N[0]+4096336452&4294967295,A=C+(x<<6&4294967295|x>>>26),x=U+(C^(A|~P))+N[7]+1126891415&4294967295,U=A+(x<<10&4294967295|x>>>22),x=P+(A^(U|~C))+N[14]+2878612391&4294967295,P=U+(x<<15&4294967295|x>>>17),x=C+(U^(P|~A))+N[5]+4237533241&4294967295,C=P+(x<<21&4294967295|x>>>11),x=A+(P^(C|~U))+N[12]+1700485571&4294967295,A=C+(x<<6&4294967295|x>>>26),x=U+(C^(A|~P))+N[3]+2399980690&4294967295,U=A+(x<<10&4294967295|x>>>22),x=P+(A^(U|~C))+N[10]+4293915773&4294967295,P=U+(x<<15&4294967295|x>>>17),x=C+(U^(P|~A))+N[1]+2240044497&4294967295,C=P+(x<<21&4294967295|x>>>11),x=A+(P^(C|~U))+N[8]+1873313359&4294967295,A=C+(x<<6&4294967295|x>>>26),x=U+(C^(A|~P))+N[15]+4264355552&4294967295,U=A+(x<<10&4294967295|x>>>22),x=P+(A^(U|~C))+N[6]+2734768916&4294967295,P=U+(x<<15&4294967295|x>>>17),x=C+(U^(P|~A))+N[13]+1309151649&4294967295,C=P+(x<<21&4294967295|x>>>11),x=A+(P^(C|~U))+N[4]+4149444226&4294967295,A=C+(x<<6&4294967295|x>>>26),x=U+(C^(A|~P))+N[11]+3174756917&4294967295,U=A+(x<<10&4294967295|x>>>22),x=P+(A^(U|~C))+N[2]+718787259&4294967295,P=U+(x<<15&4294967295|x>>>17),x=C+(U^(P|~A))+N[9]+3951481745&4294967295,M.g[0]=M.g[0]+A&4294967295,M.g[1]=M.g[1]+(P+(x<<21&4294967295|x>>>11))&4294967295,M.g[2]=M.g[2]+P&4294967295,M.g[3]=M.g[3]+U&4294967295}i.prototype.u=function(M,A){A===void 0&&(A=M.length);for(var C=A-this.blockSize,N=this.B,P=this.h,U=0;U<A;){if(P==0)for(;U<=C;)l(this,M,U),U+=this.blockSize;if(typeof M=="string"){for(;U<A;)if(N[P++]=M.charCodeAt(U++),P==this.blockSize){l(this,N),P=0;break}}else for(;U<A;)if(N[P++]=M[U++],P==this.blockSize){l(this,N),P=0;break}}this.h=P,this.o+=A},i.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var A=1;A<M.length-8;++A)M[A]=0;var C=8*this.o;for(A=M.length-8;A<M.length;++A)M[A]=C&255,C/=256;for(this.u(M),M=Array(16),A=C=0;4>A;++A)for(var N=0;32>N;N+=8)M[C++]=this.g[A]>>>N&255;return M};function u(M,A){var C=m;return Object.prototype.hasOwnProperty.call(C,M)?C[M]:C[M]=A(M)}function h(M,A){this.h=A;for(var C=[],N=!0,P=M.length-1;0<=P;P--){var U=M[P]|0;N&&U==A||(C[P]=U,N=!1)}this.g=C}var m={};function g(M){return-128<=M&&128>M?u(M,function(A){return new h([A|0],0>A?-1:0)}):new h([M|0],0>M?-1:0)}function y(M){if(isNaN(M)||!isFinite(M))return b;if(0>M)return L(y(-M));for(var A=[],C=1,N=0;M>=C;N++)A[N]=M/C|0,C*=4294967296;return new h(A,0)}function _(M,A){if(M.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(M.charAt(0)=="-")return L(_(M.substring(1),A));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=y(Math.pow(A,8)),N=b,P=0;P<M.length;P+=8){var U=Math.min(8,M.length-P),x=parseInt(M.substring(P,P+U),A);8>U?(U=y(Math.pow(A,U)),N=N.j(U).add(y(x))):(N=N.j(C),N=N.add(y(x)))}return N}var b=g(0),w=g(1),D=g(16777216);r=h.prototype,r.m=function(){if(k(this))return-L(this).m();for(var M=0,A=1,C=0;C<this.g.length;C++){var N=this.i(C);M+=(0<=N?N:4294967296+N)*A,A*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(R(this))return"0";if(k(this))return"-"+L(this).toString(M);for(var A=y(Math.pow(M,6)),C=this,N="";;){var P=it(C,A).g;C=K(C,P.j(A));var U=((0<C.g.length?C.g[0]:C.h)>>>0).toString(M);if(C=P,R(C))return U+N;for(;6>U.length;)U="0"+U;N=U+N}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function R(M){if(M.h!=0)return!1;for(var A=0;A<M.g.length;A++)if(M.g[A]!=0)return!1;return!0}function k(M){return M.h==-1}r.l=function(M){return M=K(this,M),k(M)?-1:R(M)?0:1};function L(M){for(var A=M.g.length,C=[],N=0;N<A;N++)C[N]=~M.g[N];return new h(C,~M.h).add(w)}r.abs=function(){return k(this)?L(this):this},r.add=function(M){for(var A=Math.max(this.g.length,M.g.length),C=[],N=0,P=0;P<=A;P++){var U=N+(this.i(P)&65535)+(M.i(P)&65535),x=(U>>>16)+(this.i(P)>>>16)+(M.i(P)>>>16);N=x>>>16,U&=65535,x&=65535,C[P]=x<<16|U}return new h(C,C[C.length-1]&-2147483648?-1:0)};function K(M,A){return M.add(L(A))}r.j=function(M){if(R(this)||R(M))return b;if(k(this))return k(M)?L(this).j(L(M)):L(L(this).j(M));if(k(M))return L(this.j(L(M)));if(0>this.l(D)&&0>M.l(D))return y(this.m()*M.m());for(var A=this.g.length+M.g.length,C=[],N=0;N<2*A;N++)C[N]=0;for(N=0;N<this.g.length;N++)for(var P=0;P<M.g.length;P++){var U=this.i(N)>>>16,x=this.i(N)&65535,dt=M.i(P)>>>16,Dt=M.i(P)&65535;C[2*N+2*P]+=x*Dt,rt(C,2*N+2*P),C[2*N+2*P+1]+=U*Dt,rt(C,2*N+2*P+1),C[2*N+2*P+1]+=x*dt,rt(C,2*N+2*P+1),C[2*N+2*P+2]+=U*dt,rt(C,2*N+2*P+2)}for(N=0;N<A;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=A;N<2*A;N++)C[N]=0;return new h(C,0)};function rt(M,A){for(;(M[A]&65535)!=M[A];)M[A+1]+=M[A]>>>16,M[A]&=65535,A++}function nt(M,A){this.g=M,this.h=A}function it(M,A){if(R(A))throw Error("division by zero");if(R(M))return new nt(b,b);if(k(M))return A=it(L(M),A),new nt(L(A.g),L(A.h));if(k(A))return A=it(M,L(A)),new nt(L(A.g),A.h);if(30<M.g.length){if(k(M)||k(A))throw Error("slowDivide_ only works with positive integers.");for(var C=w,N=A;0>=N.l(M);)C=ut(C),N=ut(N);var P=gt(C,1),U=gt(N,1);for(N=gt(N,2),C=gt(C,2);!R(N);){var x=U.add(N);0>=x.l(M)&&(P=P.add(C),U=x),N=gt(N,1),C=gt(C,1)}return A=K(M,P.j(A)),new nt(P,A)}for(P=b;0<=M.l(A);){for(C=Math.max(1,Math.floor(M.m()/A.m())),N=Math.ceil(Math.log(C)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),U=y(C),x=U.j(A);k(x)||0<x.l(M);)C-=N,U=y(C),x=U.j(A);R(U)&&(U=w),P=P.add(U),M=K(M,x)}return new nt(P,M)}r.A=function(M){return it(this,M).h},r.and=function(M){for(var A=Math.max(this.g.length,M.g.length),C=[],N=0;N<A;N++)C[N]=this.i(N)&M.i(N);return new h(C,this.h&M.h)},r.or=function(M){for(var A=Math.max(this.g.length,M.g.length),C=[],N=0;N<A;N++)C[N]=this.i(N)|M.i(N);return new h(C,this.h|M.h)},r.xor=function(M){for(var A=Math.max(this.g.length,M.g.length),C=[],N=0;N<A;N++)C[N]=this.i(N)^M.i(N);return new h(C,this.h^M.h)};function ut(M){for(var A=M.g.length+1,C=[],N=0;N<A;N++)C[N]=M.i(N)<<1|M.i(N-1)>>>31;return new h(C,M.h)}function gt(M,A){var C=A>>5;A%=32;for(var N=M.g.length-C,P=[],U=0;U<N;U++)P[U]=0<A?M.i(U+C)>>>A|M.i(U+C+1)<<32-A:M.i(U+C);return new h(P,M.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,NE=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=_,Ja=h}).apply(typeof P_<"u"?P_:typeof self<"u"?self:typeof window<"u"?window:{});var xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ME,Oo,VE,jc,mm,PE,LE,kE;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,v){return c==Array.prototype||c==Object.prototype||(c[p]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof xc=="object"&&xc];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=n(this);function l(c,p){if(p)t:{var v=i;c=c.split(".");for(var S=0;S<c.length-1;S++){var z=c[S];if(!(z in v))break t;v=v[z]}c=c[c.length-1],S=v[c],p=p(S),p!=S&&p!=null&&t(v,c,{configurable:!0,writable:!0,value:p})}}function u(c,p){c instanceof String&&(c+="");var v=0,S=!1,z={next:function(){if(!S&&v<c.length){var $=v++;return{value:p($,c[$]),done:!1}}return S=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}l("Array.prototype.values",function(c){return c||function(){return u(this,function(p,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function g(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function y(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function _(c,p,v){return c.call.apply(c.bind,arguments)}function b(c,p,v){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,S),c.apply(p,z)}}return function(){return c.apply(p,arguments)}}function w(c,p,v){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:b,w.apply(null,arguments)}function D(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function R(c,p){function v(){}v.prototype=p.prototype,c.aa=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(S,z,$){for(var lt=Array(arguments.length-2),jt=2;jt<arguments.length;jt++)lt[jt-2]=arguments[jt];return p.prototype[z].apply(S,lt)}}function k(c){const p=c.length;if(0<p){const v=Array(p);for(let S=0;S<p;S++)v[S]=c[S];return v}return[]}function L(c,p){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(g(S)){const z=c.length||0,$=S.length||0;c.length=z+$;for(let lt=0;lt<$;lt++)c[z+lt]=S[lt]}else c.push(S)}}class K{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function rt(c){return/^[\s\xa0]*$/.test(c)}function nt(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function it(c){return it[" "](c),c}it[" "]=function(){};var ut=nt().indexOf("Gecko")!=-1&&!(nt().toLowerCase().indexOf("webkit")!=-1&&nt().indexOf("Edge")==-1)&&!(nt().indexOf("Trident")!=-1||nt().indexOf("MSIE")!=-1)&&nt().indexOf("Edge")==-1;function gt(c,p,v){for(const S in c)p.call(v,c[S],S,c)}function M(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function A(c){const p={};for(const v in c)p[v]=c[v];return p}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,p){let v,S;for(let z=1;z<arguments.length;z++){S=arguments[z];for(v in S)c[v]=S[v];for(let $=0;$<C.length;$++)v=C[$],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function P(c){var p=1;c=c.split(":");const v=[];for(;0<p&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function U(c){m.setTimeout(()=>{throw c},0)}function x(){var c=Ct;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class dt{constructor(){this.h=this.g=null}add(p,v){const S=Dt.get();S.set(p,v),this.h?this.h.next=S:this.g=S,this.h=S}}var Dt=new K(()=>new G,c=>c.reset());class G{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let st,mt=!1,Ct=new dt,I=()=>{const c=m.Promise.resolve(void 0);st=()=>{c.then(Z)}};var Z=()=>{for(var c;c=x();){try{c.h.call(c.g)}catch(v){U(v)}var p=Dt;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}mt=!1};function ot(){this.s=this.s,this.C=this.C}ot.prototype.s=!1,ot.prototype.ma=function(){this.s||(this.s=!0,this.N())},ot.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function at(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}at.prototype.h=function(){this.defaultPrevented=!0};var yt=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,p),m.removeEventListener("test",v,p)}catch{}return c}();function xt(c,p){if(at.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(ut){t:{try{it(p.nodeName);var z=!0;break t}catch{}z=!1}z||(p=null)}}else v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement);this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:_t[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&xt.aa.h.call(this)}}R(xt,at);var _t={2:"touch",3:"pen",4:"mouse"};xt.prototype.h=function(){xt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),Ft=0;function Ie(c,p,v,S,z){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!S,this.ha=z,this.key=++Ft,this.da=this.fa=!1}function Vn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function bn(c){this.src=c,this.g={},this.h=0}bn.prototype.add=function(c,p,v,S,z){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var lt=Jn(c,p,S,z);return-1<lt?(p=c[lt],v||(p.fa=!1)):(p=new Ie(p,this.src,$,!!S,z),p.fa=v,c.push(p)),p};function Pn(c,p){var v=p.type;if(v in c.g){var S=c.g[v],z=Array.prototype.indexOf.call(S,p,void 0),$;($=0<=z)&&Array.prototype.splice.call(S,z,1),$&&(Vn(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Jn(c,p,v,S){for(var z=0;z<c.length;++z){var $=c[z];if(!$.da&&$.listener==p&&$.capture==!!v&&$.ha==S)return z}return-1}var ae="closure_lm_"+(1e6*Math.random()|0),tr={};function Ye(c,p,v,S,z){if(Array.isArray(p)){for(var $=0;$<p.length;$++)Ye(c,p[$],v,S,z);return null}return v=ss(v),c&&c[ce]?c.K(p,v,y(S)?!!S.capture:!1,z):Ge(c,p,v,!1,S,z)}function Ge(c,p,v,S,z,$){if(!p)throw Error("Invalid event type");var lt=y(z)?!!z.capture:!!z,jt=jr(c);if(jt||(c[ae]=jt=new bn(c)),v=jt.add(p,v,S,lt,$),v.proxy)return v;if(S=is(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)yt||(z=lt),z===void 0&&(z=!1),c.addEventListener(p.toString(),S,z);else if(c.attachEvent)c.attachEvent(Ur(p.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function is(){function c(v){return p.call(c.src,c.listener,v)}const p=Sl;return c}function _a(c,p,v,S,z){if(Array.isArray(p))for(var $=0;$<p.length;$++)_a(c,p[$],v,S,z);else S=y(S)?!!S.capture:!!S,v=ss(v),c&&c[ce]?(c=c.i,p=String(p).toString(),p in c.g&&($=c.g[p],v=Jn($,v,S,z),-1<v&&(Vn($[v]),Array.prototype.splice.call($,v,1),$.length==0&&(delete c.g[p],c.h--)))):c&&(c=jr(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Jn(p,v,S,z)),(v=-1<c?p[c]:null)&&Ea(v))}function Ea(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[ce])Pn(p.i,c);else{var v=c.type,S=c.proxy;p.removeEventListener?p.removeEventListener(v,S,c.capture):p.detachEvent?p.detachEvent(Ur(v),S):p.addListener&&p.removeListener&&p.removeListener(S),(v=jr(p))?(Pn(v,c),v.h==0&&(v.src=null,p[ae]=null)):Vn(c)}}}function Ur(c){return c in tr?tr[c]:tr[c]="on"+c}function Sl(c,p){if(c.da)c=!0;else{p=new xt(p,this);var v=c.listener,S=c.ha||c.src;c.fa&&Ea(c),c=v.call(S,p)}return c}function jr(c){return c=c[ae],c instanceof bn?c:null}var di="__closure_events_fn_"+(1e9*Math.random()>>>0);function ss(c){return typeof c=="function"?c:(c[di]||(c[di]=function(p){return c.handleEvent(p)}),c[di])}function fe(){ot.call(this),this.i=new bn(this),this.M=this,this.F=null}R(fe,ot),fe.prototype[ce]=!0,fe.prototype.removeEventListener=function(c,p,v,S){_a(this,c,p,v,S)};function Qt(c,p){var v,S=c.F;if(S)for(v=[];S;S=S.F)v.push(S);if(c=c.M,S=p.type||p,typeof p=="string")p=new at(p,c);else if(p instanceof at)p.target=p.target||c;else{var z=p;p=new at(S,c),N(p,z)}if(z=!0,v)for(var $=v.length-1;0<=$;$--){var lt=p.g=v[$];z=hn(lt,S,!0,p)&&z}if(lt=p.g=c,z=hn(lt,S,!0,p)&&z,z=hn(lt,S,!1,p)&&z,v)for($=0;$<v.length;$++)lt=p.g=v[$],z=hn(lt,S,!1,p)&&z}fe.prototype.N=function(){if(fe.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var v=c.g[p],S=0;S<v.length;S++)Vn(v[S]);delete c.g[p],c.h--}}this.F=null},fe.prototype.K=function(c,p,v,S){return this.i.add(String(c),p,!1,v,S)},fe.prototype.L=function(c,p,v,S){return this.i.add(String(c),p,!0,v,S)};function hn(c,p,v,S){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var z=!0,$=0;$<p.length;++$){var lt=p[$];if(lt&&!lt.da&&lt.capture==v){var jt=lt.listener,Ne=lt.ha||lt.src;lt.fa&&Pn(c.i,lt),z=jt.call(Ne,S)!==!1&&z}}return z&&!S.defaultPrevented}function Se(c,p,v){if(typeof c=="function")v&&(c=w(c,v));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:m.setTimeout(c,p||0)}function mi(c){c.g=Se(()=>{c.g=null,c.i&&(c.i=!1,mi(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class ls extends ot{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:mi(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zr(c){ot.call(this),this.h=c,this.g={}}R(zr,ot);var Ln=[];function mr(c){gt(c.g,function(p,v){this.g.hasOwnProperty(v)&&Ea(p)},c),c.g={}}zr.prototype.N=function(){zr.aa.N.call(this),mr(this)},zr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wn=m.JSON.stringify,Br=m.JSON.parse,gr=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function qr(){}qr.prototype.h=null;function gi(c){return c.h||(c.h=c.i())}function Ta(){}var er={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function kn(){at.call(this,"d")}R(kn,at);function Ae(){at.call(this,"c")}R(Ae,at);var oe={},yr=null;function Yt(){return yr=yr||new fe}oe.La="serverreachability";function Qe(c){at.call(this,oe.La,c)}R(Qe,at);function pr(c){const p=Yt();Qt(p,new Qe(p))}oe.STAT_EVENT="statevent";function ba(c,p){at.call(this,oe.STAT_EVENT,c),this.stat=p}R(ba,at);function ie(c){const p=Yt();Qt(p,new ba(p,c))}oe.Ma="timingevent";function ve(c,p){at.call(this,oe.Ma,c),this.size=p}R(ve,at);function he(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},p)}function Ke(){this.g=!0}Ke.prototype.xa=function(){this.g=!1};function Hr(c,p,v,S,z,$){c.info(function(){if(c.g)if($)for(var lt="",jt=$.split("&"),Ne=0;Ne<jt.length;Ne++){var zt=jt[Ne].split("=");if(1<zt.length){var ze=zt[0];zt=zt[1];var Me=ze.split("_");lt=2<=Me.length&&Me[1]=="type"?lt+(ze+"="+zt+"&"):lt+(ze+"=redacted&")}}else lt=null;else lt=$;return"XMLHTTP REQ ("+S+") [attempt "+z+"]: "+p+`
`+v+`
`+lt})}function yi(c,p,v,S,z,$,lt){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+z+"]: "+p+`
`+v+`
`+$+" "+lt})}function Un(c,p,v,S){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+nr(c,v)+(S?" "+S:"")})}function os(c,p){c.info(function(){return"TIMEOUT: "+p})}Ke.prototype.info=function(){};function nr(c,p){if(!c.g)return p;if(!p)return null;try{var v=JSON.parse(p);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var S=v[c];if(!(2>S.length)){var z=S[1];if(Array.isArray(z)&&!(1>z.length)){var $=z[0];if($!="noop"&&$!="stop"&&$!="close")for(var lt=1;lt<z.length;lt++)z[lt]=""}}}}return wn(v)}catch{return p}}var rr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ar={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},jn;function St(){}R(St,qr),St.prototype.g=function(){return new XMLHttpRequest},St.prototype.i=function(){return{}},jn=new St;function Vt(c,p,v,S){this.j=c,this.i=p,this.l=v,this.R=S||1,this.U=new zr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ot}function Ot(){this.i=null,this.g="",this.h=!1}var $e={},Ue={};function dn(c,p,v){c.L=1,c.v=Ti(Sn(p)),c.m=v,c.P=!0,ir(c,null)}function ir(c,p){c.F=Date.now(),pi(c),c.A=Sn(c.v);var v=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Ol(v.i,"t",S),c.C=0,v=c.j.J,c.h=new Ot,c.g=Su(c.j,v?p:null,!c.m),0<c.O&&(c.M=new ls(w(c.Y,c,c.g),c.O)),p=c.U,v=c.g,S=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(Ln[0]=z.toString()),z=Ln);for(var $=0;$<z.length;$++){var lt=Ye(v,z[$],S||p.handleEvent,!1,p.h||p);if(!lt)break;p.g[lt.key]=lt}p=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),pr(),Hr(c.i,c.u,c.A,c.l,c.R,c.m)}Vt.prototype.ca=function(c){c=c.target;const p=this.M;p&&Hn(c)==3?p.j():this.Y(c)},Vt.prototype.Y=function(c){try{if(c==this.g)t:{const Me=Hn(this.g);var p=this.g.Ba();const Wr=this.g.Z();if(!(3>Me)&&(Me!=3||this.g&&(this.h.h||this.g.oa()||yu(this.g)))){this.J||Me!=4||p==7||(p==8||0>=Wr?pr(3):pr(2)),wa(this);var v=this.g.Z();this.X=v;e:if(us(this)){var S=yu(this.g);c="";var z=S.length,$=Hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xe(this),vr(this);var lt="";break e}this.h.i=new m.TextDecoder}for(p=0;p<z;p++)this.h.h=!0,c+=this.h.i.decode(S[p],{stream:!($&&p==z-1)});S.length=0,this.h.g+=c,this.C=0,lt=this.h.g}else lt=this.g.oa();if(this.o=v==200,yi(this.i,this.u,this.A,this.l,this.R,Me,v),this.o){if(this.T&&!this.K){e:{if(this.g){var jt,Ne=this.g;if((jt=Ne.g?Ne.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rt(jt)){var zt=jt;break e}}zt=null}if(v=zt)Un(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vi(this,v);else{this.o=!1,this.s=3,ie(12),Xe(this),vr(this);break t}}if(this.P){v=!0;let We;for(;!this.J&&this.C<lt.length;)if(We=cu(this,lt),We==Ue){Me==4&&(this.s=4,ie(14),v=!1),Un(this.i,this.l,null,"[Incomplete Response]");break}else if(We==$e){this.s=4,ie(15),Un(this.i,this.l,lt,"[Invalid Chunk]"),v=!1;break}else Un(this.i,this.l,We,null),vi(this,We);if(us(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Me!=4||lt.length!=0||this.h.h||(this.s=1,ie(16),v=!1),this.o=this.o&&v,!v)Un(this.i,this.l,lt,"[Invalid Chunked Response]"),Xe(this),vr(this);else if(0<lt.length&&!this.W){this.W=!0;var ze=this.j;ze.g==this&&ze.ba&&!ze.M&&(ze.j.info("Great, no buffering proxy detected. Bytes received: "+lt.length),xi(ze),ze.M=!0,ie(11))}}else Un(this.i,this.l,lt,null),vi(this,lt);Me==4&&Xe(this),this.o&&!this.J&&(Me==4?Tu(this.j,this):(this.o=!1,pi(this)))}else Yf(this.g),v==400&&0<lt.indexOf("Unknown SID")?(this.s=3,ie(12)):(this.s=0,ie(13)),Xe(this),vr(this)}}}catch{}finally{}};function us(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function cu(c,p){var v=c.C,S=p.indexOf(`
`,v);return S==-1?Ue:(v=Number(p.substring(v,S)),isNaN(v)?$e:(S+=1,S+v>p.length?Ue:(p=p.slice(S,S+v),c.C=S+v,p)))}Vt.prototype.cancel=function(){this.J=!0,Xe(this)};function pi(c){c.S=Date.now()+c.I,fu(c,c.I)}function fu(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=he(w(c.ba,c),p)}function wa(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Vt.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(os(this.i,this.A),this.L!=2&&(pr(),ie(17)),Xe(this),this.s=2,vr(this)):fu(this,this.S-c)};function vr(c){c.j.G==0||c.J||Tu(c.j,c)}function Xe(c){wa(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,mr(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function vi(c,p){try{var v=c.j;if(v.G!=0&&(v.g==c||Al(v.h,c))){if(!c.K&&Al(v.h,c)&&v.G==3){try{var S=v.Da.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var z=S;if(z[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Ts(v),_s(v);else break t;Pl(v),ie(18)}}else v.za=z[1],0<v.za-v.T&&37500>z[2]&&v.F&&v.v==0&&!v.C&&(v.C=he(w(v.Za,v),6e3));if(1>=fs(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Xr(v,11)}else if((c.K||v.g==c)&&Ts(v),!rt(p))for(z=v.Da.g.parse(p),p=0;p<z.length;p++){let zt=z[p];if(v.T=zt[0],zt=zt[1],v.G==2)if(zt[0]=="c"){v.K=zt[1],v.ia=zt[2];const ze=zt[3];ze!=null&&(v.la=ze,v.j.info("VER="+v.la));const Me=zt[4];Me!=null&&(v.Aa=Me,v.j.info("SVER="+v.Aa));const Wr=zt[5];Wr!=null&&typeof Wr=="number"&&0<Wr&&(S=1.5*Wr,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const We=c.g;if(We){const Ar=We.g?We.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ar){var $=S.h;$.g||Ar.indexOf("spdy")==-1&&Ar.indexOf("quic")==-1&&Ar.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(hs($,$.h),$.h=null))}if(S.D){const kl=We.g?We.g.getResponseHeader("X-HTTP-Session-Id"):null;kl&&(S.ya=kl,te(S.I,S.D,kl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var lt=c;if(S.qa=wu(S,S.J?S.ia:null,S.W),lt.K){mn(S.h,lt);var jt=lt,Ne=S.L;Ne&&(jt.I=Ne),jt.B&&(wa(jt),pi(jt)),S.g=lt}else _u(S);0<v.i.length&&Es(v)}else zt[0]!="stop"&&zt[0]!="close"||Xr(v,7);else v.G==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?Xr(v,7):Ml(v):zt[0]!="noop"&&v.l&&v.l.ta(zt),v.v=0)}}pr(4)}catch{}}var hu=class{constructor(c,p){this.g=c,this.map=p}};function Fr(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function cs(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function fs(c){return c.h?1:c.g?c.g.size:0}function Al(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function hs(c,p){c.g?c.g.add(p):c.h=p}function mn(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Fr.prototype.cancel=function(){if(this.i=Rl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Rl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.D);return p}return k(c.i)}function Bf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var p=[],v=c.length,S=0;S<v;S++)p.push(c[S]);return p}p=[],v=0;for(S in c)p[v++]=c[S];return p}function ds(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var p=[];c=c.length;for(var v=0;v<c;v++)p.push(v);return p}p=[],v=0;for(const S in c)p[v++]=S;return p}}}function Dl(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var v=ds(c),S=Bf(c),z=S.length,$=0;$<z;$++)p.call(void 0,S[$],v&&v[$],c)}var _i=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qf(c,p){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var S=c[v].indexOf("="),z=null;if(0<=S){var $=c[v].substring(0,S);z=c[v].substring(S+1)}else $=c[v];p($,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Re(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Re){this.h=c.h,Ei(this,c.j),this.o=c.o,this.g=c.g,Sa(this,c.s),this.l=c.l;var p=c.i,v=new Gr;v.i=p.i,p.g&&(v.g=new Map(p.g),v.h=p.h),Yr(this,v),this.m=c.m}else c&&(p=String(c).match(_i))?(this.h=!1,Ei(this,p[1]||"",!0),this.o=zn(p[2]||""),this.g=zn(p[3]||"",!0),Sa(this,p[4]),this.l=zn(p[5]||"",!0),Yr(this,p[6]||"",!0),this.m=zn(p[7]||"")):(this.h=!1,this.i=new Gr(null,this.h))}Re.prototype.toString=function(){var c=[],p=this.j;p&&c.push(bi(p,Cl,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(bi(p,Cl,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(bi(v,v.charAt(0)=="/"?Hf:xl,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",bi(v,ms)),c.join("")};function Sn(c){return new Re(c)}function Ei(c,p,v){c.j=v?zn(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function Sa(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function Yr(c,p,v){p instanceof Gr?(c.i=p,mu(c.i,c.h)):(v||(p=bi(p,Ff)),c.i=new Gr(p,c.h))}function te(c,p,v){c.i.set(p,v)}function Ti(c){return te(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function zn(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function bi(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,du),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function du(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Cl=/[#\/\?@]/g,xl=/[#\?:]/g,Hf=/[#\?]/g,Ff=/[#\?@]/g,ms=/#/g;function Gr(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Bn(c){c.g||(c.g=new Map,c.h=0,c.i&&qf(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}r=Gr.prototype,r.add=function(c,p){Bn(this),this.i=null,c=_r(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function Qr(c,p){Bn(c),p=_r(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Kr(c,p){return Bn(c),p=_r(c,p),c.g.has(p)}r.forEach=function(c,p){Bn(this),this.g.forEach(function(v,S){v.forEach(function(z){c.call(p,z,S,this)},this)},this)},r.na=function(){Bn(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),v=[];for(let S=0;S<p.length;S++){const z=c[S];for(let $=0;$<z.length;$++)v.push(p[S])}return v},r.V=function(c){Bn(this);let p=[];if(typeof c=="string")Kr(this,c)&&(p=p.concat(this.g.get(_r(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)p=p.concat(c[v])}return p},r.set=function(c,p){return Bn(this),this.i=null,c=_r(this,c),Kr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function Ol(c,p,v){Qr(c,p),0<v.length&&(c.i=null,c.g.set(_r(c,p),k(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var v=0;v<p.length;v++){var S=p[v];const $=encodeURIComponent(String(S)),lt=this.V(S);for(S=0;S<lt.length;S++){var z=$;lt[S]!==""&&(z+="="+encodeURIComponent(String(lt[S]))),c.push(z)}}return this.i=c.join("&")};function _r(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function mu(c,p){p&&!c.j&&(Bn(c),c.i=null,c.g.forEach(function(v,S){var z=S.toLowerCase();S!=z&&(Qr(this,S),Ol(this,z,v))},c)),c.j=p}function wi(c,p){const v=new Ke;if(m.Image){const S=new Image;S.onload=D(qn,v,"TestLoadImage: loaded",!0,p,S),S.onerror=D(qn,v,"TestLoadImage: error",!1,p,S),S.onabort=D(qn,v,"TestLoadImage: abort",!1,p,S),S.ontimeout=D(qn,v,"TestLoadImage: timeout",!1,p,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else p(!1)}function sr(c,p){const v=new Ke,S=new AbortController,z=setTimeout(()=>{S.abort(),qn(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:S.signal}).then($=>{clearTimeout(z),$.ok?qn(v,"TestPingServer: ok",!0,p):qn(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(z),qn(v,"TestPingServer: error",!1,p)})}function qn(c,p,v,S,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),S(v)}catch{}}function Si(){this.g=new gr}function Er(c,p,v){const S=v||"";try{Dl(c,function(z,$){let lt=z;y(z)&&(lt=wn(z)),p.push(S+$+"="+encodeURIComponent(lt))})}catch(z){throw p.push(S+"type="+encodeURIComponent("_badmap")),z}}function Aa(c){this.l=c.Ub||null,this.j=c.eb||!1}R(Aa,qr),Aa.prototype.g=function(){return new $r(this.l,this.j)},Aa.prototype.i=function(c){return function(){return c}}({});function $r(c,p){fe.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R($r,fe),r=$r.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,br(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||m).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Tr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,br(this)),this.g&&(this.readyState=3,br(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Il(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Il(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?Tr(this):br(this),this.readyState==3&&Il(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Tr(this))},r.Qa=function(c){this.g&&(this.response=c,Tr(this))},r.ga=function(){this.g&&Tr(this)};function Tr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,br(c)}r.setRequestHeader=function(c,p){this.u.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function br(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty($r.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Nl(c){let p="";return gt(c,function(v,S){p+=S,p+=":",p+=v,p+=`\r
`}),p}function je(c,p,v){t:{for(S in v){var S=!1;break t}S=!0}S||(v=Nl(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):te(c,p,v))}function $t(c){fe.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R($t,fe);var gs=/^https?$/i,Ai=["POST","PUT"];r=$t.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,p,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jn.g(),this.v=this.o?gi(this.o):gi(jn),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch($){gu(this,$);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var z in S)v.set(z,S[z]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const $ of S.keys())v.set($,S.get($));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find($=>$.toLowerCase()=="content-type"),z=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ai,p,void 0))||S||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,lt]of v)this.g.setRequestHeader($,lt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ri(this),this.u=!0,this.g.send(c),this.u=!1}catch($){gu(this,$)}};function gu(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,ys(c),wr(c)}function ys(c){c.A||(c.A=!0,Qt(c,"complete"),Qt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Qt(this,"complete"),Qt(this,"abort"),wr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wr(this,!0)),$t.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ps(this):this.bb())},r.bb=function(){ps(this)};function ps(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Hn(c)!=4||c.Z()!=2)){if(c.u&&Hn(c)==4)Se(c.Ea,0,c);else if(Qt(c,"readystatechange"),Hn(c)==4){c.h=!1;try{const lt=c.Z();t:switch(lt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var v;if(!(v=p)){var S;if(S=lt===0){var z=String(c.D).match(_i)[1]||null;!z&&m.self&&m.self.location&&(z=m.self.location.protocol.slice(0,-1)),S=!gs.test(z?z.toLowerCase():"")}v=S}if(v)Qt(c,"complete"),Qt(c,"success");else{c.m=6;try{var $=2<Hn(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",ys(c)}}finally{wr(c)}}}}function wr(c,p){if(c.g){Ri(c);const v=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||Qt(c,"ready");try{v.onreadystatechange=S}catch{}}}function Ri(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Hn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Hn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Br(p)}};function yu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Yf(c){const p={};c=(c.g&&2<=Hn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(rt(c[S]))continue;var v=P(c[S]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const $=p[z]||[];p[z]=$,$.push(v)}M(p,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Di(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function vs(c){this.Aa=0,this.i=[],this.j=new Ke,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Di("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Di("baseRetryDelayMs",5e3,c),this.cb=Di("retryDelaySeedMs",1e4,c),this.Wa=Di("forwardChannelMaxRetries",2,c),this.wa=Di("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Fr(c&&c.concurrentRequestLimit),this.Da=new Si,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=vs.prototype,r.la=8,r.G=1,r.connect=function(c,p,v,S){ie(0),this.W=c,this.H=p||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=wu(this,null,this.W),Es(this)};function Ml(c){if(pu(c),c.G==3){var p=c.U++,v=Sn(c.I);if(te(v,"SID",c.K),te(v,"RID",p),te(v,"TYPE","terminate"),Ci(c,v),p=new Vt(c,c.j,p),p.L=2,p.v=Ti(Sn(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(p.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=p.v,v=!0),v||(p.g=Su(p.j,null),p.g.ea(p.v)),p.F=Date.now(),pi(p)}bu(c)}function _s(c){c.g&&(xi(c),c.g.cancel(),c.g=null)}function pu(c){_s(c),c.u&&(m.clearTimeout(c.u),c.u=null),Ts(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Es(c){if(!cs(c.h)&&!c.s){c.s=!0;var p=c.Ga;st||I(),mt||(st(),mt=!0),Ct.add(p,c),c.B=0}}function Gf(c,p){return fs(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=he(w(c.Ga,c,p),Ll(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new Vt(this,this.j,c);let $=this.o;if(this.S&&($?($=A($),N($,this.S)):$=this.S),this.m!==null||this.O||(z.H=$,$=null),this.P)t:{for(var p=0,v=0;v<this.i.length;v++){e:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(p+=S,4096<p){p=v;break t}if(p===4096||v===this.i.length-1){p=v+1;break t}}p=1e3}else p=1e3;p=vu(this,z,p),v=Sn(this.I),te(v,"RID",c),te(v,"CVER",22),this.D&&te(v,"X-HTTP-Session-Id",this.D),Ci(this,v),$&&(this.O?p="headers="+encodeURIComponent(String(Nl($)))+"&"+p:this.m&&je(v,this.m,$)),hs(this.h,z),this.Ua&&te(v,"TYPE","init"),this.P?(te(v,"$req",p),te(v,"SID","null"),z.T=!0,dn(z,v,null)):dn(z,v,p),this.G=2}}else this.G==3&&(c?Vl(this,c):this.i.length==0||cs(this.h)||Vl(this))};function Vl(c,p){var v;p?v=p.l:v=c.U++;const S=Sn(c.I);te(S,"SID",c.K),te(S,"RID",v),te(S,"AID",c.T),Ci(c,S),c.m&&c.o&&je(S,c.m,c.o),v=new Vt(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),p&&(c.i=p.D.concat(c.i)),p=vu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),hs(c.h,v),dn(v,S,p)}function Ci(c,p){c.H&&gt(c.H,function(v,S){te(p,S,v)}),c.l&&Dl({},function(v,S){te(p,S,v)})}function vu(c,p,v){v=Math.min(c.i.length,v);var S=c.l?w(c.l.Na,c.l,c):null;t:{var z=c.i;let $=-1;for(;;){const lt=["count="+v];$==-1?0<v?($=z[0].g,lt.push("ofs="+$)):$=0:lt.push("ofs="+$);let jt=!0;for(let Ne=0;Ne<v;Ne++){let zt=z[Ne].g;const ze=z[Ne].map;if(zt-=$,0>zt)$=Math.max(0,z[Ne].g-100),jt=!1;else try{Er(ze,lt,"req"+zt+"_")}catch{S&&S(ze)}}if(jt){S=lt.join("&");break t}}}return c=c.i.splice(0,v),p.D=c,S}function _u(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;st||I(),mt||(st(),mt=!0),Ct.add(p,c),c.v=0}}function Pl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=he(w(c.Fa,c),Ll(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Eu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=he(w(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ie(10),_s(this),Eu(this))};function xi(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Eu(c){c.g=new Vt(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=Sn(c.qa);te(p,"RID","rpc"),te(p,"SID",c.K),te(p,"AID",c.T),te(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&te(p,"TO",c.ja),te(p,"TYPE","xmlhttp"),Ci(c,p),c.m&&c.o&&je(p,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Ti(Sn(p)),v.m=null,v.P=!0,ir(v,c)}r.Za=function(){this.C!=null&&(this.C=null,_s(this),Pl(this),ie(19))};function Ts(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Tu(c,p){var v=null;if(c.g==p){Ts(c),xi(c),c.g=null;var S=2}else if(Al(c.h,p))v=p.D,mn(c.h,p),S=1;else return;if(c.G!=0){if(p.o)if(S==1){v=p.m?p.m.length:0,p=Date.now()-p.F;var z=c.B;S=Yt(),Qt(S,new ve(S,v)),Es(c)}else _u(c);else if(z=p.s,z==3||z==0&&0<p.X||!(S==1&&Gf(c,p)||S==2&&Pl(c)))switch(v&&0<v.length&&(p=c.h,p.i=p.i.concat(v)),z){case 1:Xr(c,5);break;case 4:Xr(c,10);break;case 3:Xr(c,6);break;default:Xr(c,2)}}}function Ll(c,p){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*p}function Xr(c,p){if(c.j.info("Error code "+p),p==2){var v=w(c.fb,c),S=c.Xa;const z=!S;S=new Re(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ei(S,"https"),Ti(S),z?wi(S.toString(),v):sr(S.toString(),v)}else ie(2);c.G=0,c.l&&c.l.sa(p),bu(c),pu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ie(2)):(this.j.info("Failed to ping google.com"),ie(1))};function bu(c){if(c.G=0,c.ka=[],c.l){const p=Rl(c.h);(p.length!=0||c.i.length!=0)&&(L(c.ka,p),L(c.ka,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.ra()}}function wu(c,p,v){var S=v instanceof Re?Sn(v):new Re(v);if(S.g!="")p&&(S.g=p+"."+S.g),Sa(S,S.s);else{var z=m.location;S=z.protocol,p=p?p+"."+z.hostname:z.hostname,z=+z.port;var $=new Re(null);S&&Ei($,S),p&&($.g=p),z&&Sa($,z),v&&($.l=v),S=$}return v=c.D,p=c.ya,v&&p&&te(S,v,p),te(S,"VER",c.la),Ci(c,S),S}function Su(c,p,v){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new $t(new Aa({eb:v})):new $t(c.pa),p.Ha(c.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}r=Au.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function bs(){}bs.prototype.g=function(c,p){return new gn(c,p)};function gn(c,p){fe.call(this),this.g=new vs(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!rt(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!rt(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Sr(this)}R(gn,fe),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Ml(this.g)},gn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=wn(c),c=v);p.i.push(new hu(p.Ya++,c)),p.G==3&&Es(p)},gn.prototype.N=function(){this.g.l=null,delete this.j,Ml(this.g),delete this.g,gn.aa.N.call(this)};function Ru(c){kn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){t:{for(const v in p){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}R(Ru,kn);function Du(){Ae.call(this),this.status=1}R(Du,Ae);function Sr(c){this.g=c}R(Sr,Au),Sr.prototype.ua=function(){Qt(this.g,"a")},Sr.prototype.ta=function(c){Qt(this.g,new Ru(c))},Sr.prototype.sa=function(c){Qt(this.g,new Du)},Sr.prototype.ra=function(){Qt(this.g,"b")},bs.prototype.createWebChannel=bs.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,kE=function(){return new bs},LE=function(){return Yt()},PE=oe,mm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},rr.NO_ERROR=0,rr.TIMEOUT=8,rr.HTTP_ERROR=6,jc=rr,ar.COMPLETE="complete",VE=ar,Ta.EventType=er,er.OPEN="a",er.CLOSE="b",er.ERROR="c",er.MESSAGE="d",fe.prototype.listen=fe.prototype.K,Oo=Ta,$t.prototype.listenOnce=$t.prototype.L,$t.prototype.getLastError=$t.prototype.Ka,$t.prototype.getLastErrorCode=$t.prototype.Ba,$t.prototype.getStatus=$t.prototype.Z,$t.prototype.getResponseJson=$t.prototype.Oa,$t.prototype.getResponseText=$t.prototype.oa,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Ha,ME=$t}).apply(typeof xc<"u"?xc:typeof self<"u"?self:typeof window<"u"?window:{});const L_="@firebase/firestore",k_="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vl="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi=new RE("@firebase/firestore");function Zs(){return Xi.logLevel}function ct(r,...t){if(Xi.logLevel<=Ht.DEBUG){const n=t.map(ag);Xi.debug(`Firestore (${vl}): ${r}`,...n)}}function ya(r,...t){if(Xi.logLevel<=Ht.ERROR){const n=t.map(ag);Xi.error(`Firestore (${vl}): ${r}`,...n)}}function ol(r,...t){if(Xi.logLevel<=Ht.WARN){const n=t.map(ag);Xi.warn(`Firestore (${vl}): ${r}`,...n)}}function ag(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(r="Unexpected state"){const t=`FIRESTORE (${vl}) INTERNAL ASSERTION FAILED: `+r;throw ya(t),new Error(t)}function Xt(r,t){r||wt()}function Rt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends pl{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class RR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(un.UNAUTHENTICATED))}shutdown(){}}class DR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class CR{constructor(t){this.t=t,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Xt(this.o===void 0);let i=this.i;const l=g=>this.i!==i?(i=this.i,n(g)):Promise.resolve();let u=new da;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new da,t.enqueueRetryable(()=>l(this.currentUser))};const h=()=>{const g=u;t.enqueueRetryable(async()=>{await g.promise,await l(this.currentUser)})},m=g=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new da)}},0),h()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Xt(typeof i.accessToken=="string"),new UE(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Xt(t===null||typeof t=="string"),new un(t)}}class xR{constructor(t,n,i){this.l=t,this.h=n,this.P=i,this.type="FirstParty",this.user=un.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class OR{constructor(t,n,i){this.l=t,this.h=n,this.P=i}getToken(){return Promise.resolve(new xR(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class U_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class IR{constructor(t,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,uR(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,n){Xt(this.o===void 0);const i=u=>{u.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,ct("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>i(u))};const l=u=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>l(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?l(u):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new U_(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Xt(typeof n.token=="string"),this.R=n.token,new U_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<r;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const l=NR(40);for(let u=0;u<l.length;++u)i.length<20&&l[u]<n&&(i+=t.charAt(l[u]%62))}return i}}function Mt(r,t){return r<t?-1:r>t?1:0}function gm(r,t){let n=0;for(;n<r.length&&n<t.length;){const i=r.codePointAt(n),l=t.codePointAt(n);if(i!==l){if(i<128&&l<128)return Mt(i,l);{const u=jE(),h=MR(u.encode(j_(r,n)),u.encode(j_(t,n)));return h!==0?h:Mt(i,l)}}n+=i>65535?2:1}return Mt(r.length,t.length)}function j_(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function MR(r,t){for(let n=0;n<r.length&&n<t.length;++n)if(r[n]!==t[n])return Mt(r[n],t[n]);return Mt(r.length,t.length)}function ul(r,t,n){return r.length===t.length&&r.every((i,l)=>n(i,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_=-62135596800,B_=1e6;class Le{static now(){return Le.fromMillis(Date.now())}static fromDate(t){return Le.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*B_);return new Le(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ft(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ft(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<z_)throw new ft(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ft(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/B_}_compareTo(t){return this.seconds===t.seconds?Mt(this.nanoseconds,t.nanoseconds):Mt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-z_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new Le(0,0))}static max(){return new At(new Le(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_="__name__";class Nr{constructor(t,n,i){n===void 0?n=0:n>t.length&&wt(),i===void 0?i=t.length-n:i>t.length-n&&wt(),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return Nr.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Nr?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let l=0;l<i;l++){const u=Nr.compareSegments(t.get(l),n.get(l));if(u!==0)return u}return Mt(t.length,n.length)}static compareSegments(t,n){const i=Nr.isNumericId(t),l=Nr.isNumericId(n);return i&&!l?-1:!i&&l?1:i&&l?Nr.extractNumericId(t).compare(Nr.extractNumericId(n)):gm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ja.fromString(t.substring(4,t.length-2))}}class ue extends Nr{construct(t,n,i){return new ue(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new ft(et.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(l=>l.length>0))}return new ue(n)}static emptyPath(){return new ue([])}}const VR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Nr{construct(t,n,i){return new nn(t,n,i)}static isValidIdentifier(t){return VR.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===q_}static keyField(){return new nn([q_])}static fromServerFormat(t){const n=[];let i="",l=0;const u=()=>{if(i.length===0)throw new ft(et.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let h=!1;for(;l<t.length;){const m=t[l];if(m==="\\"){if(l+1===t.length)throw new ft(et.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ft(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=g,l+=2}else m==="`"?(h=!h,l++):m!=="."||h?(i+=m,l++):(u(),l++)}if(u(),h)throw new ft(et.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new nn(n)}static emptyPath(){return new nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(t){this.path=t}static fromPath(t){return new vt(ue.fromString(t))}static fromName(t){return new vt(ue.fromString(t).popFirst(5))}static empty(){return new vt(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ue.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ue.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new ue(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=-1;function PR(r,t){const n=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,l=At.fromTimestamp(i===1e9?new Le(n+1,0):new Le(n,i));return new ei(l,vt.empty(),t)}function LR(r){return new ei(r.readTime,r.key,Ho)}class ei{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new ei(At.min(),vt.empty(),Ho)}static max(){return new ei(At.max(),vt.empty(),Ho)}}function kR(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=vt.comparator(r.documentKey,t.documentKey),n!==0?n:Mt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _l(r){if(r.code!==et.FAILED_PRECONDITION||r.message!==UR)throw r;ct("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&wt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new tt((i,l)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(i,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(i,l)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof tt?n:tt.resolve(n)}catch(n){return tt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):tt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):tt.reject(n)}static resolve(t){return new tt((n,i)=>{n(t)})}static reject(t){return new tt((n,i)=>{i(t)})}static waitFor(t){return new tt((n,i)=>{let l=0,u=0,h=!1;t.forEach(m=>{++l,m.next(()=>{++u,h&&u===l&&n()},g=>i(g))}),h=!0,u===l&&n()})}static or(t){let n=tt.resolve(!1);for(const i of t)n=n.next(l=>l?tt.resolve(l):i());return n}static forEach(t,n){const i=[];return t.forEach((l,u)=>{i.push(n.call(this,l,u))}),this.waitFor(i)}static mapArray(t,n){return new tt((i,l)=>{const u=t.length,h=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;n(t[y]).next(_=>{h[y]=_,++m,m===u&&i(h)},_=>l(_))}})}static doWhile(t,n){return new tt((i,l)=>{const u=()=>{t()===!0?n().next(()=>{u()},l):i()};u()})}}function zR(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function El(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.oe(i),this._e=i=>n.writeSequenceNumber(i))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}gf.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig=-1;function yf(r){return r==null}function Wc(r){return r===0&&1/r==-1/0}function BR(r){return typeof r=="number"&&Number.isInteger(r)&&!Wc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="";function qR(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=H_(t)),t=HR(r.get(n),t);return H_(t)}function HR(r,t){let n=t;const i=r.length;for(let l=0;l<i;l++){const u=r.charAt(l);switch(u){case"\0":n+="";break;case BE:n+="";break;default:n+=u}}return n}function H_(r){return r+BE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function ui(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function qE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(t,n){this.comparator=t,this.root=n||en.EMPTY}insert(t,n){return new pe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,en.BLACK,null,null))}remove(t){return new pe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,en.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const l=this.comparator(t,i.key);if(l===0)return n+i.left.size;l<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Oc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Oc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Oc(this.root,t,this.comparator,!0)}}class Oc{constructor(t,n,i,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?i(t.key,n):1,n&&l&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class en{constructor(t,n,i,l,u){this.key=t,this.value=n,this.color=i??en.RED,this.left=l??en.EMPTY,this.right=u??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,l,u){return new en(t??this.key,n??this.value,i??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let l=this;const u=i(t,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(t,n,i),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,i)),l.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return en.EMPTY;i=l.right.min(),l=l.copy(i.key,i.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw wt();const t=this.left.check();if(t!==this.right.check())throw wt();return t+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw wt()}get value(){throw wt()}get color(){throw wt()}get left(){throw wt()}get right(){throw wt()}copy(t,n,i,l,u){return this}insert(t,n,i){return new en(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(t){this.comparator=t,this.data=new pe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const l=i.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Y_(this.data.getIterator())}getIteratorFrom(t){return new Y_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof ke)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=i.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new ke(this.comparator);return n.data=t,n}}class Y_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(t){this.fields=t,t.sort(nn.comparator)}static empty(){return new Nn([])}unionWith(t){let n=new ke(nn.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new Nn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ul(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new HE("Invalid base64 string: "+u):u}}(t);return new an(n)}static fromUint8Array(t){const n=function(l){let u="";for(let h=0;h<l.length;++h)u+=String.fromCharCode(l[h]);return u}(t);return new an(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let l=0;l<n.length;l++)i[l]=n.charCodeAt(l);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Mt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}an.EMPTY_BYTE_STRING=new an("");const FR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ni(r){if(Xt(!!r),typeof r=="string"){let t=0;const n=FR.exec(r);if(Xt(!!n),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:we(r.seconds),nanos:we(r.nanos)}}function we(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ri(r){return typeof r=="string"?an.fromBase64String(r):an.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="server_timestamp",YE="__type__",GE="__previous_value__",QE="__local_write_time__";function sg(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[YE])===null||n===void 0?void 0:n.stringValue)===FE}function pf(r){const t=r.mapValue.fields[GE];return sg(t)?pf(t):t}function Fo(r){const t=ni(r.mapValue.fields[QE].timestampValue);return new Le(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(t,n,i,l,u,h,m,g,y){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=l,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y}}const Zc="(default)";class Yo{constructor(t,n){this.projectId=t,this.database=n||Zc}static empty(){return new Yo("","")}get isDefaultDatabase(){return this.database===Zc}isEqual(t){return t instanceof Yo&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="__type__",GR="__max__",Ic={mapValue:{}},$E="__vector__",Jc="value";function ai(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?sg(r)?4:KR(r)?9007199254740991:QR(r)?10:11:wt()}function kr(r,t){if(r===t)return!0;const n=ai(r);if(n!==ai(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Fo(r).isEqual(Fo(t));case 3:return function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const h=ni(l.timestampValue),m=ni(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(l,u){return ri(l.bytesValue).isEqual(ri(u.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(l,u){return we(l.geoPointValue.latitude)===we(u.geoPointValue.latitude)&&we(l.geoPointValue.longitude)===we(u.geoPointValue.longitude)}(r,t);case 2:return function(l,u){if("integerValue"in l&&"integerValue"in u)return we(l.integerValue)===we(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const h=we(l.doubleValue),m=we(u.doubleValue);return h===m?Wc(h)===Wc(m):isNaN(h)&&isNaN(m)}return!1}(r,t);case 9:return ul(r.arrayValue.values||[],t.arrayValue.values||[],kr);case 10:case 11:return function(l,u){const h=l.mapValue.fields||{},m=u.mapValue.fields||{};if(F_(h)!==F_(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!kr(h[g],m[g])))return!1;return!0}(r,t);default:return wt()}}function Go(r,t){return(r.values||[]).find(n=>kr(n,t))!==void 0}function cl(r,t){if(r===t)return 0;const n=ai(r),i=ai(t);if(n!==i)return Mt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Mt(r.booleanValue,t.booleanValue);case 2:return function(u,h){const m=we(u.integerValue||u.doubleValue),g=we(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(r,t);case 3:return G_(r.timestampValue,t.timestampValue);case 4:return G_(Fo(r),Fo(t));case 5:return gm(r.stringValue,t.stringValue);case 6:return function(u,h){const m=ri(u),g=ri(h);return m.compareTo(g)}(r.bytesValue,t.bytesValue);case 7:return function(u,h){const m=u.split("/"),g=h.split("/");for(let y=0;y<m.length&&y<g.length;y++){const _=Mt(m[y],g[y]);if(_!==0)return _}return Mt(m.length,g.length)}(r.referenceValue,t.referenceValue);case 8:return function(u,h){const m=Mt(we(u.latitude),we(h.latitude));return m!==0?m:Mt(we(u.longitude),we(h.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return Q_(r.arrayValue,t.arrayValue);case 10:return function(u,h){var m,g,y,_;const b=u.fields||{},w=h.fields||{},D=(m=b[Jc])===null||m===void 0?void 0:m.arrayValue,R=(g=w[Jc])===null||g===void 0?void 0:g.arrayValue,k=Mt(((y=D==null?void 0:D.values)===null||y===void 0?void 0:y.length)||0,((_=R==null?void 0:R.values)===null||_===void 0?void 0:_.length)||0);return k!==0?k:Q_(D,R)}(r.mapValue,t.mapValue);case 11:return function(u,h){if(u===Ic.mapValue&&h===Ic.mapValue)return 0;if(u===Ic.mapValue)return 1;if(h===Ic.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=h.fields||{},_=Object.keys(y);g.sort(),_.sort();for(let b=0;b<g.length&&b<_.length;++b){const w=gm(g[b],_[b]);if(w!==0)return w;const D=cl(m[g[b]],y[_[b]]);if(D!==0)return D}return Mt(g.length,_.length)}(r.mapValue,t.mapValue);default:throw wt()}}function G_(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Mt(r,t);const n=ni(r),i=ni(t),l=Mt(n.seconds,i.seconds);return l!==0?l:Mt(n.nanos,i.nanos)}function Q_(r,t){const n=r.values||[],i=t.values||[];for(let l=0;l<n.length&&l<i.length;++l){const u=cl(n[l],i[l]);if(u)return u}return Mt(n.length,i.length)}function fl(r){return ym(r)}function ym(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const i=ni(n);return`time(${i.seconds},${i.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return ri(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return vt.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let i="[",l=!0;for(const u of n.values||[])l?l=!1:i+=",",i+=ym(u);return i+"]"}(r.arrayValue):"mapValue"in r?function(n){const i=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const h of i)u?u=!1:l+=",",l+=`${h}:${ym(n.fields[h])}`;return l+"}"}(r.mapValue):wt()}function zc(r){switch(ai(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=pf(r);return t?16+zc(t):16;case 5:return 2*r.stringValue.length;case 6:return ri(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((l,u)=>l+zc(u),0)}(r.arrayValue);case 10:case 11:return function(i){let l=0;return ui(i.fields,(u,h)=>{l+=u.length+zc(h)}),l}(r.mapValue);default:throw wt()}}function K_(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function pm(r){return!!r&&"integerValue"in r}function lg(r){return!!r&&"arrayValue"in r}function $_(r){return!!r&&"nullValue"in r}function X_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Bc(r){return!!r&&"mapValue"in r}function QR(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[KE])===null||n===void 0?void 0:n.stringValue)===$E}function Lo(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return ui(r.mapValue.fields,(n,i)=>t.mapValue.fields[n]=Lo(i)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Lo(r.arrayValue.values[n]);return t}return Object.assign({},r)}function KR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===GR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(t){this.value=t}static empty(){return new Tn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!Bc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Lo(n)}setAll(t){let n=nn.emptyPath(),i={},l=[];t.forEach((h,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,i,l),i={},l=[],n=m.popLast()}h?i[m.lastSegment()]=Lo(h):l.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,i,l)}delete(t){const n=this.field(t.popLast());Bc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return kr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let l=n.mapValue.fields[t.get(i)];Bc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,i){ui(n,(l,u)=>t[l]=u);for(const l of i)delete t[l]}clone(){return new Tn(Lo(this.value))}}function XE(r){const t=[];return ui(r.fields,(n,i)=>{const l=new nn([n]);if(Bc(i)){const u=XE(i.mapValue).fields;if(u.length===0)t.push(l);else for(const h of u)t.push(l.child(h))}else t.push(l)}),new Nn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(t,n,i,l,u,h,m){this.key=t,this.documentType=n,this.version=i,this.readTime=l,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(t){return new cn(t,0,At.min(),At.min(),At.min(),Tn.empty(),0)}static newFoundDocument(t,n,i,l){return new cn(t,1,n,At.min(),i,l,0)}static newNoDocument(t,n){return new cn(t,2,n,At.min(),At.min(),Tn.empty(),0)}static newUnknownDocument(t,n){return new cn(t,3,n,At.min(),At.min(),Tn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof cn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(t,n){this.position=t,this.inclusive=n}}function W_(r,t,n){let i=0;for(let l=0;l<r.position.length;l++){const u=t[l],h=r.position[l];if(u.field.isKeyField()?i=vt.comparator(vt.fromName(h.referenceValue),n.key):i=cl(h,n.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return i}function Z_(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!kr(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(t,n="asc"){this.field=t,this.dir=n}}function $R(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{}class Oe extends WE{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new WR(t,n,i):n==="array-contains"?new tD(t,i):n==="in"?new eD(t,i):n==="not-in"?new nD(t,i):n==="array-contains-any"?new rD(t,i):new Oe(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new ZR(t,i):new JR(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(cl(n,this.value)):n!==null&&ai(this.value)===ai(n)&&this.matchesComparison(cl(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return wt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cr extends WE{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new cr(t,n)}matches(t){return ZE(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function ZE(r){return r.op==="and"}function JE(r){return XR(r)&&ZE(r)}function XR(r){for(const t of r.filters)if(t instanceof cr)return!1;return!0}function vm(r){if(r instanceof Oe)return r.field.canonicalString()+r.op.toString()+fl(r.value);if(JE(r))return r.filters.map(t=>vm(t)).join(",");{const t=r.filters.map(n=>vm(n)).join(",");return`${r.op}(${t})`}}function tT(r,t){return r instanceof Oe?function(i,l){return l instanceof Oe&&i.op===l.op&&i.field.isEqual(l.field)&&kr(i.value,l.value)}(r,t):r instanceof cr?function(i,l){return l instanceof cr&&i.op===l.op&&i.filters.length===l.filters.length?i.filters.reduce((u,h,m)=>u&&tT(h,l.filters[m]),!0):!1}(r,t):void wt()}function eT(r){return r instanceof Oe?function(n){return`${n.field.canonicalString()} ${n.op} ${fl(n.value)}`}(r):r instanceof cr?function(n){return n.op.toString()+" {"+n.getFilters().map(eT).join(" ,")+"}"}(r):"Filter"}class WR extends Oe{constructor(t,n,i){super(t,n,i),this.key=vt.fromName(i.referenceValue)}matches(t){const n=vt.comparator(t.key,this.key);return this.matchesComparison(n)}}class ZR extends Oe{constructor(t,n){super(t,"in",n),this.keys=nT("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class JR extends Oe{constructor(t,n){super(t,"not-in",n),this.keys=nT("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function nT(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>vt.fromName(i.referenceValue))}class tD extends Oe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return lg(n)&&Go(n.arrayValue,this.value)}}class eD extends Oe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Go(this.value.arrayValue,n)}}class nD extends Oe{constructor(t,n){super(t,"not-in",n)}matches(t){if(Go(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Go(this.value.arrayValue,n)}}class rD extends Oe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!lg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Go(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(t,n=null,i=[],l=[],u=null,h=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=l,this.limit=u,this.startAt=h,this.endAt=m,this.le=null}}function J_(r,t=null,n=[],i=[],l=null,u=null,h=null){return new aD(r,t,n,i,l,u,h)}function og(r){const t=Rt(r);if(t.le===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>vm(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(u){return u.field.canonicalString()+u.dir}(i)).join(","),yf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>fl(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>fl(i)).join(",")),t.le=n}return t.le}function ug(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!$R(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!tT(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Z_(r.startAt,t.startAt)&&Z_(r.endAt,t.endAt)}function _m(r){return vt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(t,n=null,i=[],l=[],u=null,h="F",m=null,g=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=l,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=g,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function iD(r,t,n,i,l,u,h,m){return new tu(r,t,n,i,l,u,h,m)}function vf(r){return new tu(r)}function t0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function rT(r){return r.collectionGroup!==null}function ko(r){const t=Rt(r);if(t.he===null){t.he=[];const n=new Set;for(const u of t.explicitOrderBy)t.he.push(u),n.add(u.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new ke(nn.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.he.push(new ef(u,i))}),n.has(nn.keyField().canonicalString())||t.he.push(new ef(nn.keyField(),i))}return t.he}function Mr(r){const t=Rt(r);return t.Pe||(t.Pe=sD(t,ko(r))),t.Pe}function sD(r,t){if(r.limitType==="F")return J_(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(l=>{const u=l.dir==="desc"?"asc":"desc";return new ef(l.field,u)});const n=r.endAt?new tf(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new tf(r.startAt.position,r.startAt.inclusive):null;return J_(r.path,r.collectionGroup,t,r.filters,r.limit,n,i)}}function Em(r,t){const n=r.filters.concat([t]);return new tu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Tm(r,t,n){return new tu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function _f(r,t){return ug(Mr(r),Mr(t))&&r.limitType===t.limitType}function aT(r){return`${og(Mr(r))}|lt:${r.limitType}`}function Js(r){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(l=>eT(l)).join(", ")}]`),yf(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(l=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(l)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(l=>fl(l)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(l=>fl(l)).join(",")),`Target(${i})`}(Mr(r))}; limitType=${r.limitType})`}function Ef(r,t){return t.isFoundDocument()&&function(i,l){const u=l.key.path;return i.collectionGroup!==null?l.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(u):vt.isDocumentKey(i.path)?i.path.isEqual(u):i.path.isImmediateParentOf(u)}(r,t)&&function(i,l){for(const u of ko(i))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0}(r,t)&&function(i,l){for(const u of i.filters)if(!u.matches(l))return!1;return!0}(r,t)&&function(i,l){return!(i.startAt&&!function(h,m,g){const y=W_(h,m,g);return h.inclusive?y<=0:y<0}(i.startAt,ko(i),l)||i.endAt&&!function(h,m,g){const y=W_(h,m,g);return h.inclusive?y>=0:y>0}(i.endAt,ko(i),l))}(r,t)}function lD(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function iT(r){return(t,n)=>{let i=!1;for(const l of ko(r)){const u=oD(l,t,n);if(u!==0)return u;i=i||l.field.isKeyField()}return 0}}function oD(r,t,n){const i=r.field.isKeyField()?vt.comparator(t.key,n.key):function(u,h,m){const g=h.data.field(u),y=m.data.field(u);return g!==null&&y!==null?cl(g,y):wt()}(r.field,t,n);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return wt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[l,u]of i)if(this.equalsFn(l,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),l=this.inner[i];if(l===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],t))return void(l[u]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],t))return i.length===1?delete this.inner[n]:i.splice(l,1),this.innerSize--,!0;return!1}forEach(t){ui(this.inner,(n,i)=>{for(const[l,u]of i)t(l,u)})}isEmpty(){return qE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD=new pe(vt.comparator);function pa(){return uD}const sT=new pe(vt.comparator);function Io(...r){let t=sT;for(const n of r)t=t.insert(n.key,n);return t}function lT(r){let t=sT;return r.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function Qi(){return Uo()}function oT(){return Uo()}function Uo(){return new ts(r=>r.toString(),(r,t)=>r.isEqual(t))}const cD=new pe(vt.comparator),fD=new ke(vt.comparator);function Ut(...r){let t=fD;for(const n of r)t=t.add(n);return t}const hD=new ke(Mt);function dD(){return hD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wc(t)?"-0":t}}function uT(r){return{integerValue:""+r}}function mD(r,t){return BR(t)?uT(t):cg(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(){this._=void 0}}function gD(r,t,n){return r instanceof nf?function(l,u){const h={fields:{[YE]:{stringValue:FE},[QE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&sg(u)&&(u=pf(u)),u&&(h.fields[GE]=u),{mapValue:h}}(n,t):r instanceof Qo?fT(r,t):r instanceof Ko?hT(r,t):function(l,u){const h=cT(l,u),m=e0(h)+e0(l.Ie);return pm(h)&&pm(l.Ie)?uT(m):cg(l.serializer,m)}(r,t)}function yD(r,t,n){return r instanceof Qo?fT(r,t):r instanceof Ko?hT(r,t):n}function cT(r,t){return r instanceof rf?function(i){return pm(i)||function(u){return!!u&&"doubleValue"in u}(i)}(t)?t:{integerValue:0}:null}class nf extends Tf{}class Qo extends Tf{constructor(t){super(),this.elements=t}}function fT(r,t){const n=dT(t);for(const i of r.elements)n.some(l=>kr(l,i))||n.push(i);return{arrayValue:{values:n}}}class Ko extends Tf{constructor(t){super(),this.elements=t}}function hT(r,t){let n=dT(t);for(const i of r.elements)n=n.filter(l=>!kr(l,i));return{arrayValue:{values:n}}}class rf extends Tf{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function e0(r){return we(r.integerValue||r.doubleValue)}function dT(r){return lg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function pD(r,t){return r.field.isEqual(t.field)&&function(i,l){return i instanceof Qo&&l instanceof Qo||i instanceof Ko&&l instanceof Ko?ul(i.elements,l.elements,kr):i instanceof rf&&l instanceof rf?kr(i.Ie,l.Ie):i instanceof nf&&l instanceof nf}(r.transform,t.transform)}class vD{constructor(t,n){this.version=t,this.transformResults=n}}class Vr{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Vr}static exists(t){return new Vr(void 0,t)}static updateTime(t){return new Vr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function qc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class bf{}function mT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new yT(r.key,Vr.none()):new eu(r.key,r.data,Vr.none());{const n=r.data,i=Tn.empty();let l=new ke(nn.comparator);for(let u of t.fields)if(!l.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?i.delete(u):i.set(u,h),l=l.add(u)}return new ci(r.key,i,new Nn(l.toArray()),Vr.none())}}function _D(r,t,n){r instanceof eu?function(l,u,h){const m=l.value.clone(),g=r0(l.fieldTransforms,u,h.transformResults);m.setAll(g),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(r,t,n):r instanceof ci?function(l,u,h){if(!qc(l.precondition,u))return void u.convertToUnknownDocument(h.version);const m=r0(l.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(gT(l)),g.setAll(m),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(r,t,n):function(l,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,t,n)}function jo(r,t,n,i){return r instanceof eu?function(u,h,m,g){if(!qc(u.precondition,h))return m;const y=u.value.clone(),_=a0(u.fieldTransforms,g,h);return y.setAll(_),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null}(r,t,n,i):r instanceof ci?function(u,h,m,g){if(!qc(u.precondition,h))return m;const y=a0(u.fieldTransforms,g,h),_=h.data;return _.setAll(gT(u)),_.setAll(y),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(r,t,n,i):function(u,h,m){return qc(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(r,t,n)}function ED(r,t){let n=null;for(const i of r.fieldTransforms){const l=t.data.field(i.field),u=cT(i.transform,l||null);u!=null&&(n===null&&(n=Tn.empty()),n.set(i.field,u))}return n||null}function n0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(i,l){return i===void 0&&l===void 0||!(!i||!l)&&ul(i,l,(u,h)=>pD(u,h))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class eu extends bf{constructor(t,n,i,l=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ci extends bf{constructor(t,n,i,l,u=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function gT(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=r.data.field(n);t.set(n,i)}}),t}function r0(r,t,n){const i=new Map;Xt(r.length===n.length);for(let l=0;l<n.length;l++){const u=r[l],h=u.transform,m=t.data.field(u.field);i.set(u.field,yD(h,m,n[l]))}return i}function a0(r,t,n){const i=new Map;for(const l of r){const u=l.transform,h=n.data.field(l.field);i.set(l.field,gD(u,h,t))}return i}class yT extends bf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TD extends bf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(t,n,i,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=l}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(t.key)&&_D(u,t,i[l])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=jo(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=jo(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=oT();return this.mutations.forEach(l=>{const u=t.get(l.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(l.key)?null:m;const g=mT(h,m);g!==null&&i.set(l.key,g),h.isValidDocument()||h.convertToNoDocument(At.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Ut())}isEqual(t){return this.batchId===t.batchId&&ul(this.mutations,t.mutations,(n,i)=>n0(n,i))&&ul(this.baseMutations,t.baseMutations,(n,i)=>n0(n,i))}}class fg{constructor(t,n,i,l){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=l}static from(t,n,i){Xt(t.mutations.length===i.length);let l=function(){return cD}();const u=t.mutations;for(let h=0;h<u.length;h++)l=l.insert(u[h].key,i[h].version);return new fg(t,n,i,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe,qt;function AD(r){switch(r){case et.OK:return wt();case et.CANCELLED:case et.UNKNOWN:case et.DEADLINE_EXCEEDED:case et.RESOURCE_EXHAUSTED:case et.INTERNAL:case et.UNAVAILABLE:case et.UNAUTHENTICATED:return!1;case et.INVALID_ARGUMENT:case et.NOT_FOUND:case et.ALREADY_EXISTS:case et.PERMISSION_DENIED:case et.FAILED_PRECONDITION:case et.ABORTED:case et.OUT_OF_RANGE:case et.UNIMPLEMENTED:case et.DATA_LOSS:return!0;default:return wt()}}function pT(r){if(r===void 0)return ya("GRPC error has no .code"),et.UNKNOWN;switch(r){case xe.OK:return et.OK;case xe.CANCELLED:return et.CANCELLED;case xe.UNKNOWN:return et.UNKNOWN;case xe.DEADLINE_EXCEEDED:return et.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return et.RESOURCE_EXHAUSTED;case xe.INTERNAL:return et.INTERNAL;case xe.UNAVAILABLE:return et.UNAVAILABLE;case xe.UNAUTHENTICATED:return et.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return et.INVALID_ARGUMENT;case xe.NOT_FOUND:return et.NOT_FOUND;case xe.ALREADY_EXISTS:return et.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return et.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return et.FAILED_PRECONDITION;case xe.ABORTED:return et.ABORTED;case xe.OUT_OF_RANGE:return et.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return et.UNIMPLEMENTED;case xe.DATA_LOSS:return et.DATA_LOSS;default:return wt()}}(qt=xe||(xe={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD=new Ja([4294967295,4294967295],0);function i0(r){const t=jE().encode(r),n=new NE;return n.update(t),new Uint8Array(n.digest())}function s0(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),l=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Ja([n,i],0),new Ja([l,u],0)]}class hg{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new No(`Invalid padding: ${n}`);if(i<0)throw new No(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new No(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new No(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*t.length-n,this.de=Ja.fromNumber(this.Ee)}Ae(t,n,i){let l=t.add(n.multiply(Ja.fromNumber(i)));return l.compare(RD)===1&&(l=new Ja([l.getBits(0),l.getBits(1)],0)),l.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const n=i0(t),[i,l]=s0(n);for(let u=0;u<this.hashCount;u++){const h=this.Ae(i,l,u);if(!this.Re(h))return!1}return!0}static create(t,n,i){const l=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),h=new hg(u,l,n);return i.forEach(m=>h.insert(m)),h}insert(t){if(this.Ee===0)return;const n=i0(t),[i,l]=s0(n);for(let u=0;u<this.hashCount;u++){const h=this.Ae(i,l,u);this.Ve(h)}}Ve(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class No extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(t,n,i,l,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const l=new Map;return l.set(t,nu.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new wf(At.min(),l,new pe(Mt),pa(),Ut())}}class nu{constructor(t,n,i,l,u){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new nu(i,n,Ut(),Ut(),Ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(t,n,i,l){this.me=t,this.removedTargetIds=n,this.key=i,this.fe=l}}class vT{constructor(t,n){this.targetId=t,this.ge=n}}class _T{constructor(t,n,i=an.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=l}}class l0{constructor(){this.pe=0,this.ye=o0(),this.we=an.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=Ut(),n=Ut(),i=Ut();return this.ye.forEach((l,u)=>{switch(u){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:i=i.add(l);break;default:wt()}}),new nu(this.we,this.Se,t,n,i)}Me(){this.be=!1,this.ye=o0()}xe(t,n){this.be=!0,this.ye=this.ye.insert(t,n)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,Xt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class DD{constructor(t){this.ke=t,this.qe=new Map,this.Qe=pa(),this.$e=Nc(),this.Ue=Nc(),this.Ke=new pe(Mt)}We(t){for(const n of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(n,t.fe):this.ze(n,t.key,t.fe);for(const n of t.removedTargetIds)this.ze(n,t.key,t.fe)}je(t){this.forEachTarget(t,n=>{const i=this.He(n);switch(t.state){case 0:this.Je(n)&&i.Ce(t.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(t.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(n);break;case 3:this.Je(n)&&(i.Le(),i.Ce(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),i.Ce(t.resumeToken));break;default:wt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.qe.forEach((i,l)=>{this.Je(l)&&n(l)})}Ze(t){const n=t.targetId,i=t.ge.count,l=this.Xe(n);if(l){const u=l.target;if(_m(u))if(i===0){const h=new vt(u.path);this.ze(n,h,cn.newNoDocument(h,At.min()))}else Xt(i===1);else{const h=this.et(n);if(h!==i){const m=this.tt(t),g=m?this.nt(m,t,h):1;if(g!==0){this.Ye(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,y)}}}}}tt(t){const n=t.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:l=0},hashCount:u=0}=n;let h,m;try{h=ri(i).toUint8Array()}catch(g){if(g instanceof HE)return ol("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new hg(h,l,u)}catch(g){return ol(g instanceof No?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.Ee===0?null:m}nt(t,n,i){return n.ge.count===i-this.st(t,n.targetId)?0:2}st(t,n){const i=this.ke.getRemoteKeysForTarget(n);let l=0;return i.forEach(u=>{const h=this.ke.it(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.ze(n,u,null),l++)}),l}ot(t){const n=new Map;this.qe.forEach((u,h)=>{const m=this.Xe(h);if(m){if(u.current&&_m(m.target)){const g=new vt(m.target.path);this._t(g).has(h)||this.ut(h,g)||this.ze(h,g,cn.newNoDocument(g,t))}u.ve&&(n.set(h,u.Fe()),u.Me())}});let i=Ut();this.Ue.forEach((u,h)=>{let m=!0;h.forEachWhile(g=>{const y=this.Xe(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(i=i.add(u))}),this.Qe.forEach((u,h)=>h.setReadTime(t));const l=new wf(t,n,this.Ke,this.Qe,i);return this.Qe=pa(),this.$e=Nc(),this.Ue=Nc(),this.Ke=new pe(Mt),l}Ge(t,n){if(!this.Je(t))return;const i=this.ut(t,n.key)?2:0;this.He(t).xe(n.key,i),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(t))}ze(t,n,i){if(!this.Je(t))return;const l=this.He(t);this.ut(t,n)?l.xe(n,1):l.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(t)),this.Ue=this.Ue.insert(n,this.ct(n).add(t)),i&&(this.Qe=this.Qe.insert(n,i))}removeTarget(t){this.qe.delete(t)}et(t){const n=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let n=this.qe.get(t);return n||(n=new l0,this.qe.set(t,n)),n}ct(t){let n=this.Ue.get(t);return n||(n=new ke(Mt),this.Ue=this.Ue.insert(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new ke(Mt),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||ct("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.qe.get(t);return n&&n.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new l0),this.ke.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ut(t,n){return this.ke.getRemoteKeysForTarget(t).has(n)}}function Nc(){return new pe(vt.comparator)}function o0(){return new pe(vt.comparator)}const CD={asc:"ASCENDING",desc:"DESCENDING"},xD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OD={and:"AND",or:"OR"};class ID{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function bm(r,t){return r.useProto3Json||yf(t)?t:{value:t}}function af(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ET(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function ND(r,t){return af(r,t.toTimestamp())}function Pr(r){return Xt(!!r),At.fromTimestamp(function(n){const i=ni(n);return new Le(i.seconds,i.nanos)}(r))}function dg(r,t){return wm(r,t).canonicalString()}function wm(r,t){const n=function(l){return new ue(["projects",l.projectId,"databases",l.database])}(r).child("documents");return t===void 0?n:n.child(t)}function TT(r){const t=ue.fromString(r);return Xt(RT(t)),t}function Sm(r,t){return dg(r.databaseId,t.path)}function $d(r,t){const n=TT(t);if(n.get(1)!==r.databaseId.projectId)throw new ft(et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ft(et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new vt(wT(n))}function bT(r,t){return dg(r.databaseId,t)}function MD(r){const t=TT(r);return t.length===4?ue.emptyPath():wT(t)}function Am(r){return new ue(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function wT(r){return Xt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function u0(r,t,n){return{name:Sm(r,t),fields:n.value.mapValue.fields}}function VD(r,t){let n;if("targetChange"in t){t.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:wt()}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],u=function(y,_){return y.useProto3Json?(Xt(_===void 0||typeof _=="string"),an.fromBase64String(_||"")):(Xt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),an.fromUint8Array(_||new Uint8Array))}(r,t.targetChange.resumeToken),h=t.targetChange.cause,m=h&&function(y){const _=y.code===void 0?et.UNKNOWN:pT(y.code);return new ft(_,y.message||"")}(h);n=new _T(i,l,u,m||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const l=$d(r,i.document.name),u=Pr(i.document.updateTime),h=i.document.createTime?Pr(i.document.createTime):At.min(),m=new Tn({mapValue:{fields:i.document.fields}}),g=cn.newFoundDocument(l,u,h,m),y=i.targetIds||[],_=i.removedTargetIds||[];n=new Hc(y,_,g.key,g)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const l=$d(r,i.document),u=i.readTime?Pr(i.readTime):At.min(),h=cn.newNoDocument(l,u),m=i.removedTargetIds||[];n=new Hc([],m,h.key,h)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const l=$d(r,i.document),u=i.removedTargetIds||[];n=new Hc([],u,l,null)}else{if(!("filter"in t))return wt();{t.filter;const i=t.filter;i.targetId;const{count:l=0,unchangedNames:u}=i,h=new SD(l,u),m=i.targetId;n=new vT(m,h)}}return n}function PD(r,t){let n;if(t instanceof eu)n={update:u0(r,t.key,t.value)};else if(t instanceof yT)n={delete:Sm(r,t.key)};else if(t instanceof ci)n={update:u0(r,t.key,t.data),updateMask:FD(t.fieldMask)};else{if(!(t instanceof TD))return wt();n={verify:Sm(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(u,h){const m=h.transform;if(m instanceof nf)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Qo)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Ko)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof rf)return{fieldPath:h.field.canonicalString(),increment:m.Ie};throw wt()}(0,i))),t.precondition.isNone||(n.currentDocument=function(l,u){return u.updateTime!==void 0?{updateTime:ND(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:wt()}(r,t.precondition)),n}function LD(r,t){return r&&r.length>0?(Xt(t!==void 0),r.map(n=>function(l,u){let h=l.updateTime?Pr(l.updateTime):Pr(u);return h.isEqual(At.min())&&(h=Pr(u)),new vD(h,l.transformResults||[])}(n,t))):[]}function kD(r,t){return{documents:[bT(r,t.path)]}}function UD(r,t){const n={structuredQuery:{}},i=t.path;let l;t.collectionGroup!==null?(l=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=bT(r,l);const u=function(y){if(y.length!==0)return AT(cr.create(y,"and"))}(t.filters);u&&(n.structuredQuery.where=u);const h=function(y){if(y.length!==0)return y.map(_=>function(w){return{field:tl(w.field),direction:BD(w.dir)}}(_))}(t.orderBy);h&&(n.structuredQuery.orderBy=h);const m=bm(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(t.endAt)),{ht:n,parent:l}}function jD(r){let t=MD(r.parent);const n=r.structuredQuery,i=n.from?n.from.length:0;let l=null;if(i>0){Xt(i===1);const _=n.from[0];_.allDescendants?l=_.collectionId:t=t.child(_.collectionId)}let u=[];n.where&&(u=function(b){const w=ST(b);return w instanceof cr&&JE(w)?w.getFilters():[w]}(n.where));let h=[];n.orderBy&&(h=function(b){return b.map(w=>function(R){return new ef(el(R.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(w))}(n.orderBy));let m=null;n.limit&&(m=function(b){let w;return w=typeof b=="object"?b.value:b,yf(w)?null:w}(n.limit));let g=null;n.startAt&&(g=function(b){const w=!!b.before,D=b.values||[];return new tf(D,w)}(n.startAt));let y=null;return n.endAt&&(y=function(b){const w=!b.before,D=b.values||[];return new tf(D,w)}(n.endAt)),iD(t,l,h,u,m,"F",g,y)}function zD(r,t){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function ST(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=el(n.unaryFilter.field);return Oe.create(i,"==",{doubleValue:NaN});case"IS_NULL":const l=el(n.unaryFilter.field);return Oe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=el(n.unaryFilter.field);return Oe.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=el(n.unaryFilter.field);return Oe.create(h,"!=",{nullValue:"NULL_VALUE"});default:return wt()}}(r):r.fieldFilter!==void 0?function(n){return Oe.create(el(n.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return wt()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return cr.create(n.compositeFilter.filters.map(i=>ST(i)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return wt()}}(n.compositeFilter.op))}(r):wt()}function BD(r){return CD[r]}function qD(r){return xD[r]}function HD(r){return OD[r]}function tl(r){return{fieldPath:r.canonicalString()}}function el(r){return nn.fromServerFormat(r.fieldPath)}function AT(r){return r instanceof Oe?function(n){if(n.op==="=="){if(X_(n.value))return{unaryFilter:{field:tl(n.field),op:"IS_NAN"}};if($_(n.value))return{unaryFilter:{field:tl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(X_(n.value))return{unaryFilter:{field:tl(n.field),op:"IS_NOT_NAN"}};if($_(n.value))return{unaryFilter:{field:tl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tl(n.field),op:qD(n.op),value:n.value}}}(r):r instanceof cr?function(n){const i=n.getFilters().map(l=>AT(l));return i.length===1?i[0]:{compositeFilter:{op:HD(n.op),filters:i}}}(r):wt()}function FD(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function RT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(t,n,i,l,u=At.min(),h=At.min(),m=an.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(t){return new Xa(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Xa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Xa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Xa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(t){this.Tt=t}}function GD(r){const t=jD({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Tm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(){this.Tn=new KD}addToCollectionParentIndex(t,n){return this.Tn.add(n),tt.resolve()}getCollectionParents(t,n){return tt.resolve(this.Tn.getEntries(n))}addFieldIndex(t,n){return tt.resolve()}deleteFieldIndex(t,n){return tt.resolve()}deleteAllFieldIndexes(t){return tt.resolve()}createTargetIndexes(t,n){return tt.resolve()}getDocumentsMatchingTarget(t,n){return tt.resolve(null)}getIndexType(t,n){return tt.resolve(0)}getFieldIndexes(t,n){return tt.resolve([])}getNextCollectionGroupToUpdate(t){return tt.resolve(null)}getMinOffset(t,n){return tt.resolve(ei.min())}getMinOffsetFromCollectionGroup(t,n){return tt.resolve(ei.min())}updateCollectionGroup(t,n,i){return tt.resolve()}updateIndexEntries(t,n){return tt.resolve()}}class KD{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),l=this.index[n]||new ke(ue.comparator),u=!l.has(i);return this.index[n]=l.add(i),u}has(t){const n=t.lastSegment(),i=t.popLast(),l=this.index[n];return l&&l.has(i)}getEntries(t){return(this.index[t]||new ke(ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},DT=41943040;class En{static withCacheSize(t){return new En(t,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(DT,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new hl(0)}static Kn(){return new hl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="LruGarbageCollector",$D=1048576;function h0([r,t],[n,i]){const l=Mt(r,n);return l===0?Mt(t,i):l}class XD{constructor(t){this.Hn=t,this.buffer=new ke(h0),this.Jn=0}Yn(){return++this.Jn}Zn(t){const n=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();h0(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class WD{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){ct(f0,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){El(n)?ct(f0,"Ignoring IndexedDB error during garbage collection: ",n):await _l(n)}await this.er(3e5)})}}class ZD{constructor(t,n){this.tr=t,this.params=n}calculateTargetCount(t,n){return this.tr.nr(t).next(i=>Math.floor(n/100*i))}nthSequenceNumber(t,n){if(n===0)return tt.resolve(gf.ae);const i=new XD(n);return this.tr.forEachTarget(t,l=>i.Zn(l.sequenceNumber)).next(()=>this.tr.rr(t,l=>i.Zn(l))).next(()=>i.maxValue)}removeTargets(t,n,i){return this.tr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.tr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),tt.resolve(c0)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),c0):this.ir(t,n))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,n){let i,l,u,h,m,g,y;const _=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,h=Date.now(),this.nthSequenceNumber(t,l))).next(b=>(i=b,m=Date.now(),this.removeTargets(t,i,n))).next(b=>(u=b,g=Date.now(),this.removeOrphanedDocuments(t,i))).next(b=>(y=Date.now(),Zs()<=Ht.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${l} in `+(m-h)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${b} documents in `+(y-g)+`ms
Total Duration: ${y-_}ms`),tt.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:b})))}}function JD(r,t){return new ZD(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(){this.changes=new ts(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,cn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?tt.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(t,n,i,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=l}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(l=>(i=l,this.remoteDocumentCache.getEntry(t,n))).next(l=>(i!==null&&jo(i.mutation,l,Nn.empty(),Le.now()),l))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,Ut()).next(()=>i))}getLocalViewOfDocuments(t,n,i=Ut()){const l=Qi();return this.populateOverlays(t,l,n).next(()=>this.computeViews(t,n,l,i).next(u=>{let h=Io();return u.forEach((m,g)=>{h=h.insert(m,g.overlayedDocument)}),h}))}getOverlayedDocuments(t,n){const i=Qi();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,Ut()))}populateOverlays(t,n,i){const l=[];return i.forEach(u=>{n.has(u)||l.push(u)}),this.documentOverlayCache.getOverlays(t,l).next(u=>{u.forEach((h,m)=>{n.set(h,m)})})}computeViews(t,n,i,l){let u=pa();const h=Uo(),m=function(){return Uo()}();return n.forEach((g,y)=>{const _=i.get(y.key);l.has(y.key)&&(_===void 0||_.mutation instanceof ci)?u=u.insert(y.key,y):_!==void 0?(h.set(y.key,_.mutation.getFieldMask()),jo(_.mutation,y,_.mutation.getFieldMask(),Le.now())):h.set(y.key,Nn.empty())}),this.recalculateAndSaveOverlays(t,u).next(g=>(g.forEach((y,_)=>h.set(y,_)),n.forEach((y,_)=>{var b;return m.set(y,new eC(_,(b=h.get(y))!==null&&b!==void 0?b:null))}),m))}recalculateAndSaveOverlays(t,n){const i=Uo();let l=new pe((h,m)=>h-m),u=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(h=>{for(const m of h)m.keys().forEach(g=>{const y=n.get(g);if(y===null)return;let _=i.get(g)||Nn.empty();_=m.applyToLocalView(y,_),i.set(g,_);const b=(l.get(m.batchId)||Ut()).add(g);l=l.insert(m.batchId,b)})}).next(()=>{const h=[],m=l.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,_=g.value,b=oT();_.forEach(w=>{if(!u.has(w)){const D=mT(n.get(w),i.get(w));D!==null&&b.set(w,D),u=u.add(w)}}),h.push(this.documentOverlayCache.saveOverlays(t,y,b))}return tt.waitFor(h)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,l){return function(h){return vt.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):rT(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,l):this.getDocumentsMatchingCollectionQuery(t,n,i,l)}getNextDocuments(t,n,i,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,l).next(u=>{const h=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,l-u.size):tt.resolve(Qi());let m=Ho,g=u;return h.next(y=>tt.forEach(y,(_,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(_)?tt.resolve():this.remoteDocumentCache.getEntry(t,_).next(w=>{g=g.insert(_,w)}))).next(()=>this.populateOverlays(t,y,u)).next(()=>this.computeViews(t,g,y,Ut())).next(_=>({batchId:m,changes:lT(_)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new vt(n)).next(i=>{let l=Io();return i.isFoundDocument()&&(l=l.insert(i.key,i)),l})}getDocumentsMatchingCollectionGroupQuery(t,n,i,l){const u=n.collectionGroup;let h=Io();return this.indexManager.getCollectionParents(t,u).next(m=>tt.forEach(m,g=>{const y=function(b,w){return new tu(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,i,l).next(_=>{_.forEach((b,w)=>{h=h.insert(b,w)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(t,n,i,l){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,u,l))).next(h=>{u.forEach((g,y)=>{const _=y.getKey();h.get(_)===null&&(h=h.insert(_,cn.newInvalidDocument(_)))});let m=Io();return h.forEach((g,y)=>{const _=u.get(g);_!==void 0&&jo(_.mutation,y,Nn.empty(),Le.now()),Ef(n,y)&&(m=m.insert(g,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,n){return tt.resolve(this.dr.get(n))}saveBundleMetadata(t,n){return this.dr.set(n.id,function(l){return{id:l.id,version:l.version,createTime:Pr(l.createTime)}}(n)),tt.resolve()}getNamedQuery(t,n){return tt.resolve(this.Ar.get(n))}saveNamedQuery(t,n){return this.Ar.set(n.name,function(l){return{name:l.name,query:GD(l.bundledQuery),readTime:Pr(l.readTime)}}(n)),tt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(){this.overlays=new pe(vt.comparator),this.Rr=new Map}getOverlay(t,n){return tt.resolve(this.overlays.get(n))}getOverlays(t,n){const i=Qi();return tt.forEach(n,l=>this.getOverlay(t,l).next(u=>{u!==null&&i.set(l,u)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((l,u)=>{this.Et(t,n,u)}),tt.resolve()}removeOverlaysForBatchId(t,n,i){const l=this.Rr.get(i);return l!==void 0&&(l.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(i)),tt.resolve()}getOverlaysForCollection(t,n,i){const l=Qi(),u=n.length+1,h=new vt(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>i&&l.set(g.getKey(),g)}return tt.resolve(l)}getOverlaysForCollectionGroup(t,n,i,l){let u=new pe((y,_)=>y-_);const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>i){let _=u.get(y.largestBatchId);_===null&&(_=Qi(),u=u.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const m=Qi(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,_)=>m.set(y,_)),!(m.size()>=l)););return tt.resolve(m)}Et(t,n,i){const l=this.overlays.get(i.key);if(l!==null){const h=this.Rr.get(l.largestBatchId).delete(i.key);this.Rr.set(l.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new wD(n,i));let u=this.Rr.get(n);u===void 0&&(u=Ut(),this.Rr.set(n,u)),this.Rr.set(n,u.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(t){return tt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,tt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(){this.Vr=new ke(Fe.mr),this.gr=new ke(Fe.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,n){const i=new Fe(t,n);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.wr(new Fe(t,n))}Sr(t,n){t.forEach(i=>this.removeReference(i,n))}br(t){const n=new vt(new ue([])),i=new Fe(n,t),l=new Fe(n,t+1),u=[];return this.gr.forEachInRange([i,l],h=>{this.wr(h),u.push(h.key)}),u}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const n=new vt(new ue([])),i=new Fe(n,t),l=new Fe(n,t+1);let u=Ut();return this.gr.forEachInRange([i,l],h=>{u=u.add(h.key)}),u}containsKey(t){const n=new Fe(t,0),i=this.Vr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class Fe{constructor(t,n){this.key=t,this.Cr=n}static mr(t,n){return vt.comparator(t.key,n.key)||Mt(t.Cr,n.Cr)}static pr(t,n){return Mt(t.Cr,n.Cr)||vt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new ke(Fe.mr)}checkEmpty(t){return tt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,l){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new bD(u,n,i,l);this.mutationQueue.push(h);for(const m of l)this.Mr=this.Mr.add(new Fe(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return tt.resolve(h)}lookupMutationBatch(t,n){return tt.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,l=this.Nr(i),u=l<0?0:l;return tt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(this.mutationQueue.length===0?ig:this.Fr-1)}getAllMutationBatches(t){return tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new Fe(n,0),l=new Fe(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([i,l],h=>{const m=this.Or(h.Cr);u.push(m)}),tt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new ke(Mt);return n.forEach(l=>{const u=new Fe(l,0),h=new Fe(l,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,h],m=>{i=i.add(m.Cr)})}),tt.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,l=i.length+1;let u=i;vt.isDocumentKey(u)||(u=u.child(""));const h=new Fe(new vt(u),0);let m=new ke(Mt);return this.Mr.forEachWhile(g=>{const y=g.key.path;return!!i.isPrefixOf(y)&&(y.length===l&&(m=m.add(g.Cr)),!0)},h),tt.resolve(this.Br(m))}Br(t){const n=[];return t.forEach(i=>{const l=this.Or(i);l!==null&&n.push(l)}),n}removeMutationBatch(t,n){Xt(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return tt.forEach(n.mutations,l=>{const u=new Fe(l.key,n.batchId);return i=i.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Mr=i})}qn(t){}containsKey(t,n){const i=new Fe(n,0),l=this.Mr.firstAfterOrEqual(i);return tt.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,tt.resolve()}Lr(t,n){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const n=this.Nr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(t){this.kr=t,this.docs=function(){return new pe(vt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,l=this.docs.get(i),u=l?l.size:0,h=this.kr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return tt.resolve(i?i.document.mutableCopy():cn.newInvalidDocument(n))}getEntries(t,n){let i=pa();return n.forEach(l=>{const u=this.docs.get(l);i=i.insert(l,u?u.document.mutableCopy():cn.newInvalidDocument(l))}),tt.resolve(i)}getDocumentsMatchingQuery(t,n,i,l){let u=pa();const h=n.path,m=new vt(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:_}}=g.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||kR(LR(_),i)<=0||(l.has(_.key)||Ef(n,_))&&(u=u.insert(_.key,_.mutableCopy()))}return tt.resolve(u)}getAllFromCollectionGroup(t,n,i,l){wt()}qr(t,n){return tt.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new oC(this)}getSize(t){return tt.resolve(this.size)}}class oC extends tC{constructor(t){super(),this.Ir=t}applyChanges(t){const n=[];return this.changes.forEach((i,l)=>{l.isValidDocument()?n.push(this.Ir.addEntry(t,l)):this.Ir.removeEntry(i)}),tt.waitFor(n)}getFromCache(t,n){return this.Ir.getEntry(t,n)}getAllFromCache(t,n){return this.Ir.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(t){this.persistence=t,this.Qr=new ts(n=>og(n),ug),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.$r=0,this.Ur=new mg,this.targetCount=0,this.Kr=hl.Un()}forEachTarget(t,n){return this.Qr.forEach((i,l)=>n(l)),tt.resolve()}getLastRemoteSnapshotVersion(t){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return tt.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.$r&&(this.$r=n),tt.resolve()}zn(t){this.Qr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Kr=new hl(n),this.highestTargetId=n),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,n){return this.zn(n),this.targetCount+=1,tt.resolve()}updateTargetData(t,n){return this.zn(n),tt.resolve()}removeTargetData(t,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,tt.resolve()}removeTargets(t,n,i){let l=0;const u=[];return this.Qr.forEach((h,m)=>{m.sequenceNumber<=n&&i.get(m.targetId)===null&&(this.Qr.delete(h),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),l++)}),tt.waitFor(u).next(()=>l)}getTargetCount(t){return tt.resolve(this.targetCount)}getTargetData(t,n){const i=this.Qr.get(n)||null;return tt.resolve(i)}addMatchingKeys(t,n,i){return this.Ur.yr(n,i),tt.resolve()}removeMatchingKeys(t,n,i){this.Ur.Sr(n,i);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach(h=>{u.push(l.markPotentiallyOrphaned(t,h))}),tt.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.Ur.br(n),tt.resolve()}getMatchingKeysForTargetId(t,n){const i=this.Ur.vr(n);return tt.resolve(i)}containsKey(t,n){return tt.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(t,n){this.Wr={},this.overlays={},this.Gr=new gf(0),this.zr=!1,this.zr=!0,this.jr=new iC,this.referenceDelegate=t(this),this.Hr=new uC(this),this.indexManager=new QD,this.remoteDocumentCache=function(l){return new lC(l)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new YD(n),this.Yr=new rC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new aC,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.Wr[t.toKey()];return i||(i=new sC(n,this.referenceDelegate),this.Wr[t.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,n,i){ct("MemoryPersistence","Starting transaction:",t);const l=new cC(this.Gr.next());return this.referenceDelegate.Zr(),i(l).next(u=>this.referenceDelegate.Xr(l).next(()=>u)).toPromise().then(u=>(l.raiseOnCommittedEvent(),u))}ei(t,n){return tt.or(Object.values(this.Wr).map(i=>()=>i.containsKey(t,n)))}}class cC extends jR{constructor(t){super(),this.currentSequenceNumber=t}}class gg{constructor(t){this.persistence=t,this.ti=new mg,this.ni=null}static ri(t){return new gg(t)}get ii(){if(this.ni)return this.ni;throw wt()}addReference(t,n,i){return this.ti.addReference(i,n),this.ii.delete(i.toString()),tt.resolve()}removeReference(t,n,i){return this.ti.removeReference(i,n),this.ii.add(i.toString()),tt.resolve()}markPotentiallyOrphaned(t,n){return this.ii.add(n.toString()),tt.resolve()}removeTarget(t,n){this.ti.br(n.targetId).forEach(l=>this.ii.add(l.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(l=>{l.forEach(u=>this.ii.add(u.toString()))}).next(()=>i.removeTargetData(t,n))}Zr(){this.ni=new Set}Xr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.ii,i=>{const l=vt.fromPath(i);return this.si(t,l).next(u=>{u||n.removeEntry(l,At.min())})}).next(()=>(this.ni=null,n.apply(t)))}updateLimboDocument(t,n){return this.si(t,n).next(i=>{i?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(t){return 0}si(t,n){return tt.or([()=>tt.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.ei(t,n)])}}class sf{constructor(t,n){this.persistence=t,this.oi=new ts(i=>qR(i.path),(i,l)=>i.isEqual(l)),this.garbageCollector=JD(this,n)}static ri(t,n){return new sf(t,n)}Zr(){}Xr(t){return tt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}nr(t){const n=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>n.next(l=>i+l))}sr(t){let n=0;return this.rr(t,i=>{n++}).next(()=>n)}rr(t,n){return tt.forEach(this.oi,(i,l)=>this.ar(t,i,l).next(u=>u?tt.resolve():n(l)))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.qr(t,h=>this.ar(t,h,n).next(m=>{m||(i++,u.removeEntry(h,At.min()))})).next(()=>u.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,n){return this.oi.set(n,t.currentSequenceNumber),tt.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.oi.set(i,t.currentSequenceNumber),tt.resolve()}removeReference(t,n,i){return this.oi.set(i,t.currentSequenceNumber),tt.resolve()}updateLimboDocument(t,n){return this.oi.set(n,t.currentSequenceNumber),tt.resolve()}Jr(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=zc(t.data.value)),n}ar(t,n,i){return tt.or([()=>this.persistence.ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.oi.get(n);return tt.resolve(l!==void 0&&l>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(t,n,i,l){this.targetId=t,this.fromCache=n,this.Hi=i,this.Ji=l}static Yi(t,n){let i=Ut(),l=Ut();for(const u of n.docChanges)switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new yg(t,n.fromCache,i,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return s1()?8:zR(a1())>0?6:4}()}initialize(t,n){this.ns=t,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(t,n,i,l){const u={result:null};return this.rs(t,n).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ss(t,n,l,i).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new fC;return this._s(t,n,h).next(m=>{if(u.result=m,this.Xi)return this.us(t,n,h,m.size)})}).next(()=>u.result)}us(t,n,i,l){return i.documentReadCount<this.es?(Zs()<=Ht.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",Js(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),tt.resolve()):(Zs()<=Ht.DEBUG&&ct("QueryEngine","Query:",Js(n),"scans",i.documentReadCount,"local documents and returns",l,"documents as results."),i.documentReadCount>this.ts*l?(Zs()<=Ht.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",Js(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Mr(n))):tt.resolve())}rs(t,n){if(t0(n))return tt.resolve(null);let i=Mr(n);return this.indexManager.getIndexType(t,i).next(l=>l===0?null:(n.limit!==null&&l===1&&(n=Tm(n,null,"F"),i=Mr(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(u=>{const h=Ut(...u);return this.ns.getDocuments(t,h).next(m=>this.indexManager.getMinOffset(t,i).next(g=>{const y=this.cs(n,m);return this.ls(n,y,h,g.readTime)?this.rs(t,Tm(n,null,"F")):this.hs(t,y,n,g)}))})))}ss(t,n,i,l){return t0(n)||l.isEqual(At.min())?tt.resolve(null):this.ns.getDocuments(t,i).next(u=>{const h=this.cs(n,u);return this.ls(n,h,i,l)?tt.resolve(null):(Zs()<=Ht.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Js(n)),this.hs(t,h,n,PR(l,Ho)).next(m=>m))})}cs(t,n){let i=new ke(iT(t));return n.forEach((l,u)=>{Ef(t,u)&&(i=i.add(u))}),i}ls(t,n,i,l){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}_s(t,n,i){return Zs()<=Ht.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",Js(n)),this.ns.getDocumentsMatchingQuery(t,n,ei.min(),i)}hs(t,n,i,l){return this.ns.getDocumentsMatchingQuery(t,i,l).next(u=>(n.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg="LocalStore",dC=3e8;class mC{constructor(t,n,i,l){this.persistence=t,this.Ps=n,this.serializer=l,this.Ts=new pe(Mt),this.Is=new ts(u=>og(u),ug),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(i)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new nC(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ts))}}function gC(r,t,n,i){return new mC(r,t,n,i)}async function xT(r,t){const n=Rt(r);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let l;return n.mutationQueue.getAllMutationBatches(i).next(u=>(l=u,n.As(t),n.mutationQueue.getAllMutationBatches(i))).next(u=>{const h=[],m=[];let g=Ut();for(const y of l){h.push(y.batchId);for(const _ of y.mutations)g=g.add(_.key)}for(const y of u){m.push(y.batchId);for(const _ of y.mutations)g=g.add(_.key)}return n.localDocuments.getDocuments(i,g).next(y=>({Rs:y,removedBatchIds:h,addedBatchIds:m}))})})}function yC(r,t){const n=Rt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const l=t.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,g,y,_){const b=y.batch,w=b.keys();let D=tt.resolve();return w.forEach(R=>{D=D.next(()=>_.getEntry(g,R)).next(k=>{const L=y.docVersions.get(R);Xt(L!==null),k.version.compareTo(L)<0&&(b.applyToRemoteDocument(k,y),k.isValidDocument()&&(k.setReadTime(y.commitVersion),_.addEntry(k)))})}),D.next(()=>m.mutationQueue.removeMutationBatch(g,b))}(n,i,t,u).next(()=>u.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,l,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(m){let g=Ut();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g}(t))).next(()=>n.localDocuments.getDocuments(i,l))})}function OT(r){const t=Rt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Hr.getLastRemoteSnapshotVersion(n))}function pC(r,t){const n=Rt(r),i=t.snapshotVersion;let l=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=n.ds.newChangeBuffer({trackRemovals:!0});l=n.Ts;const m=[];t.targetChanges.forEach((_,b)=>{const w=l.get(b);if(!w)return;m.push(n.Hr.removeMatchingKeys(u,_.removedDocuments,b).next(()=>n.Hr.addMatchingKeys(u,_.addedDocuments,b)));let D=w.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(b)!==null?D=D.withResumeToken(an.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):_.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(_.resumeToken,i)),l=l.insert(b,D),function(k,L,K){return k.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=dC?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(w,D,_)&&m.push(n.Hr.updateTargetData(u,D))});let g=pa(),y=Ut();if(t.documentUpdates.forEach(_=>{t.resolvedLimboDocuments.has(_)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,_))}),m.push(vC(u,h,t.documentUpdates).next(_=>{g=_.Vs,y=_.fs})),!i.isEqual(At.min())){const _=n.Hr.getLastRemoteSnapshotVersion(u).next(b=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,i));m.push(_)}return tt.waitFor(m).next(()=>h.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,g,y)).next(()=>g)}).then(u=>(n.Ts=l,u))}function vC(r,t,n){let i=Ut(),l=Ut();return n.forEach(u=>i=i.add(u)),t.getEntries(r,i).next(u=>{let h=pa();return n.forEach((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(m)),g.isNoDocument()&&g.version.isEqual(At.min())?(t.removeEntry(m,g.readTime),h=h.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(g),h=h.insert(m,g)):ct(pg,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)}),{Vs:h,fs:l}})}function _C(r,t){const n=Rt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=ig),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function EC(r,t){const n=Rt(r);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let l;return n.Hr.getTargetData(i,t).next(u=>u?(l=u,tt.resolve(l)):n.Hr.allocateTargetId(i).next(h=>(l=new Xa(t,h,"TargetPurposeListen",i.currentSequenceNumber),n.Hr.addTargetData(i,l).next(()=>l))))}).then(i=>{const l=n.Ts.get(i.targetId);return(l===null||i.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(i.targetId,i),n.Is.set(t,i.targetId)),i})}async function Rm(r,t,n){const i=Rt(r),l=i.Ts.get(t),u=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",u,h=>i.persistence.referenceDelegate.removeTarget(h,l))}catch(h){if(!El(h))throw h;ct(pg,`Failed to update sequence numbers for target ${t}: ${h}`)}i.Ts=i.Ts.remove(t),i.Is.delete(l.target)}function d0(r,t,n){const i=Rt(r);let l=At.min(),u=Ut();return i.persistence.runTransaction("Execute query","readwrite",h=>function(g,y,_){const b=Rt(g),w=b.Is.get(_);return w!==void 0?tt.resolve(b.Ts.get(w)):b.Hr.getTargetData(y,_)}(i,h,Mr(t)).next(m=>{if(m)return l=m.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(h,m.targetId).next(g=>{u=g})}).next(()=>i.Ps.getDocumentsMatchingQuery(h,t,n?l:At.min(),n?u:Ut())).next(m=>(TC(i,lD(t),m),{documents:m,gs:u})))}function TC(r,t,n){let i=r.Es.get(t)||At.min();n.forEach((l,u)=>{u.readTime.compareTo(i)>0&&(i=u.readTime)}),r.Es.set(t,i)}class m0{constructor(){this.activeTargetIds=dD()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class bC{constructor(){this.ho=new m0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,n,i){this.Po[t]=n}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new m0,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0="ConnectivityMonitor";class y0{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ct(g0,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){ct(g0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mc=null;function Dm(){return Mc===null?Mc=function(){return 268435456+Math.round(2147483648*Math.random())}():Mc++,"0x"+Mc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd="RestConnection",SC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class AC{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo=`projects/${i}/databases/${l}`,this.wo=this.databaseId.database===Zc?`project_id=${i}`:`project_id=${i}&database_id=${l}`}So(t,n,i,l,u){const h=Dm(),m=this.bo(t,n.toUriEncodedString());ct(Xd,`Sending RPC '${t}' ${h}:`,m,i);const g={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(g,l,u),this.vo(t,m,g,i).then(y=>(ct(Xd,`Received RPC '${t}' ${h}: `,y),y),y=>{throw ol(Xd,`RPC '${t}' ${h} failed with error: `,y,"url: ",m,"request:",i),y})}Co(t,n,i,l,u,h){return this.So(t,n,i,l,u)}Do(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vl}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,u)=>t[u]=l),i&&i.headers.forEach((l,u)=>t[u]=l)}bo(t,n){const i=SC[t];return`${this.po}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class DC extends AC{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,n,i,l){const u=Dm();return new Promise((h,m)=>{const g=new ME;g.setWithCredentials(!0),g.listenOnce(VE.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case jc.NO_ERROR:const _=g.getResponseJson();ct(on,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(_)),h(_);break;case jc.TIMEOUT:ct(on,`RPC '${t}' ${u} timed out`),m(new ft(et.DEADLINE_EXCEEDED,"Request time out"));break;case jc.HTTP_ERROR:const b=g.getStatus();if(ct(on,`RPC '${t}' ${u} failed with status:`,b,"response text:",g.getResponseText()),b>0){let w=g.getResponseJson();Array.isArray(w)&&(w=w[0]);const D=w==null?void 0:w.error;if(D&&D.status&&D.message){const R=function(L){const K=L.toLowerCase().replace(/_/g,"-");return Object.values(et).indexOf(K)>=0?K:et.UNKNOWN}(D.status);m(new ft(R,D.message))}else m(new ft(et.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new ft(et.UNAVAILABLE,"Connection failed."));break;default:wt()}}finally{ct(on,`RPC '${t}' ${u} completed.`)}});const y=JSON.stringify(l);ct(on,`RPC '${t}' ${u} sending request:`,l),g.send(n,"POST",y,i,15)})}Wo(t,n,i){const l=Dm(),u=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=kE(),m=LE(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Do(g.initMessageHeaders,n,i),g.encodeInitMessageHeaders=!0;const _=u.join("");ct(on,`Creating RPC '${t}' stream ${l}: ${_}`,g);const b=h.createWebChannel(_,g);let w=!1,D=!1;const R=new RC({Fo:L=>{D?ct(on,`Not sending because RPC '${t}' stream ${l} is closed:`,L):(w||(ct(on,`Opening RPC '${t}' stream ${l} transport.`),b.open(),w=!0),ct(on,`RPC '${t}' stream ${l} sending:`,L),b.send(L))},Mo:()=>b.close()}),k=(L,K,rt)=>{L.listen(K,nt=>{try{rt(nt)}catch(it){setTimeout(()=>{throw it},0)}})};return k(b,Oo.EventType.OPEN,()=>{D||(ct(on,`RPC '${t}' stream ${l} transport opened.`),R.Qo())}),k(b,Oo.EventType.CLOSE,()=>{D||(D=!0,ct(on,`RPC '${t}' stream ${l} transport closed`),R.Uo())}),k(b,Oo.EventType.ERROR,L=>{D||(D=!0,ol(on,`RPC '${t}' stream ${l} transport errored:`,L),R.Uo(new ft(et.UNAVAILABLE,"The operation could not be completed")))}),k(b,Oo.EventType.MESSAGE,L=>{var K;if(!D){const rt=L.data[0];Xt(!!rt);const nt=rt,it=(nt==null?void 0:nt.error)||((K=nt[0])===null||K===void 0?void 0:K.error);if(it){ct(on,`RPC '${t}' stream ${l} received error:`,it);const ut=it.status;let gt=function(C){const N=xe[C];if(N!==void 0)return pT(N)}(ut),M=it.message;gt===void 0&&(gt=et.INTERNAL,M="Unknown error status: "+ut+" with message "+it.message),D=!0,R.Uo(new ft(gt,M)),b.close()}else ct(on,`RPC '${t}' stream ${l} received:`,rt),R.Ko(rt)}}),k(m,PE.STAT_EVENT,L=>{L.stat===mm.PROXY?ct(on,`RPC '${t}' stream ${l} detected buffering proxy`):L.stat===mm.NOPROXY&&ct(on,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{R.$o()},0),R}}function Wd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(r){return new ID(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(t,n,i=1e3,l=1.5,u=6e4){this.Ti=t,this.timerId=n,this.Go=i,this.zo=l,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const n=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),l=Math.max(0,n-i);l>0&&ct("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,l,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="PersistentStream";class NT{constructor(t,n,i,l,u,h,m,g){this.Ti=t,this.n_=i,this.r_=l,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new IT(t,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():n&&n.code===et.RESOURCE_EXHAUSTED?(ya(n.toString()),ya("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===et.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,l])=>{this.i_===n&&this.V_(i,l)},i=>{t(()=>{const l=new ft(et.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(l)})})}V_(t,n){const i=this.R_(this.i_);this.stream=this.f_(t,n),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(l=>{i(()=>this.m_(l))}),this.stream.onMessage(l=>{i(()=>++this.__==1?this.g_(l):this.onNext(l))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return ct(p0,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return n=>{this.Ti.enqueueAndForget(()=>this.i_===t?n():(ct(p0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class CC extends NT{constructor(t,n,i,l,u,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,l,h),this.serializer=u}f_(t,n){return this.connection.Wo("Listen",t,n)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const n=VD(this.serializer,t),i=function(u){if(!("targetChange"in u))return At.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?At.min():h.readTime?Pr(h.readTime):At.min()}(t);return this.listener.p_(n,i)}y_(t){const n={};n.database=Am(this.serializer),n.addTarget=function(u,h){let m;const g=h.target;if(m=_m(g)?{documents:kD(u,g)}:{query:UD(u,g).ht},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=ET(u,h.resumeToken);const y=bm(u,h.expectedCount);y!==null&&(m.expectedCount=y)}else if(h.snapshotVersion.compareTo(At.min())>0){m.readTime=af(u,h.snapshotVersion.toTimestamp());const y=bm(u,h.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,t);const i=zD(this.serializer,t);i&&(n.labels=i),this.I_(n)}w_(t){const n={};n.database=Am(this.serializer),n.removeTarget=t,this.I_(n)}}class xC extends NT{constructor(t,n,i,l,u,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,l,h),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,n){return this.connection.Wo("Write",t,n)}g_(t){return Xt(!!t.streamToken),this.lastStreamToken=t.streamToken,Xt(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){Xt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const n=LD(t.writeResults,t.commitTime),i=Pr(t.commitTime);return this.listener.v_(i,n)}C_(){const t={};t.database=Am(this.serializer),this.I_(t)}b_(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>PD(this.serializer,i))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{}class IC extends OC{constructor(t,n,i,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=l,this.F_=!1}M_(){if(this.F_)throw new ft(et.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,i,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.So(t,wm(n,i),l,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ft(et.UNKNOWN,u.toString())})}Co(t,n,i,l,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Co(t,wm(n,i),l,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ft(et.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class NC{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ya(n),this.N_=!1):ct("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi="RemoteStore";class MC{constructor(t,n,i,l,u){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(h=>{i.enqueueAndForget(async()=>{es(this)&&(ct(Wi,"Restarting streams for network reachability change."),await async function(g){const y=Rt(g);y.W_.add(4),await ru(y),y.j_.set("Unknown"),y.W_.delete(4),await Af(y)}(this))})}),this.j_=new NC(i,l)}}async function Af(r){if(es(r))for(const t of r.G_)await t(!0)}async function ru(r){for(const t of r.G_)await t(!1)}function MT(r,t){const n=Rt(r);n.K_.has(t.targetId)||(n.K_.set(t.targetId,t),Tg(n)?Eg(n):Tl(n).c_()&&_g(n,t))}function vg(r,t){const n=Rt(r),i=Tl(n);n.K_.delete(t),i.c_()&&VT(n,t),n.K_.size===0&&(i.c_()?i.P_():es(n)&&n.j_.set("Unknown"))}function _g(r,t){if(r.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Tl(r).y_(t)}function VT(r,t){r.H_.Ne(t),Tl(r).w_(t)}function Eg(r){r.H_=new DD({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>r.K_.get(t)||null,it:()=>r.datastore.serializer.databaseId}),Tl(r).start(),r.j_.B_()}function Tg(r){return es(r)&&!Tl(r).u_()&&r.K_.size>0}function es(r){return Rt(r).W_.size===0}function PT(r){r.H_=void 0}async function VC(r){r.j_.set("Online")}async function PC(r){r.K_.forEach((t,n)=>{_g(r,t)})}async function LC(r,t){PT(r),Tg(r)?(r.j_.q_(t),Eg(r)):r.j_.set("Unknown")}async function kC(r,t,n){if(r.j_.set("Online"),t instanceof _T&&t.state===2&&t.cause)try{await async function(l,u){const h=u.cause;for(const m of u.targetIds)l.K_.has(m)&&(await l.remoteSyncer.rejectListen(m,h),l.K_.delete(m),l.H_.removeTarget(m))}(r,t)}catch(i){ct(Wi,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await lf(r,i)}else if(t instanceof Hc?r.H_.We(t):t instanceof vT?r.H_.Ze(t):r.H_.je(t),!n.isEqual(At.min()))try{const i=await OT(r.localStore);n.compareTo(i)>=0&&await function(u,h){const m=u.H_.ot(h);return m.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const _=u.K_.get(y);_&&u.K_.set(y,_.withResumeToken(g.resumeToken,h))}}),m.targetMismatches.forEach((g,y)=>{const _=u.K_.get(g);if(!_)return;u.K_.set(g,_.withResumeToken(an.EMPTY_BYTE_STRING,_.snapshotVersion)),VT(u,g);const b=new Xa(_.target,g,y,_.sequenceNumber);_g(u,b)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(i){ct(Wi,"Failed to raise snapshot:",i),await lf(r,i)}}async function lf(r,t,n){if(!El(t))throw t;r.W_.add(1),await ru(r),r.j_.set("Offline"),n||(n=()=>OT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ct(Wi,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await Af(r)})}function LT(r,t){return t().catch(n=>lf(r,n,t))}async function Rf(r){const t=Rt(r),n=ii(t);let i=t.U_.length>0?t.U_[t.U_.length-1].batchId:ig;for(;UC(t);)try{const l=await _C(t.localStore,i);if(l===null){t.U_.length===0&&n.P_();break}i=l.batchId,jC(t,l)}catch(l){await lf(t,l)}kT(t)&&UT(t)}function UC(r){return es(r)&&r.U_.length<10}function jC(r,t){r.U_.push(t);const n=ii(r);n.c_()&&n.S_&&n.b_(t.mutations)}function kT(r){return es(r)&&!ii(r).u_()&&r.U_.length>0}function UT(r){ii(r).start()}async function zC(r){ii(r).C_()}async function BC(r){const t=ii(r);for(const n of r.U_)t.b_(n.mutations)}async function qC(r,t,n){const i=r.U_.shift(),l=fg.from(i,t,n);await LT(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),await Rf(r)}async function HC(r,t){t&&ii(r).S_&&await async function(i,l){if(function(h){return AD(h)&&h!==et.ABORTED}(l.code)){const u=i.U_.shift();ii(i).h_(),await LT(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,l)),await Rf(i)}}(r,t),kT(r)&&UT(r)}async function v0(r,t){const n=Rt(r);n.asyncQueue.verifyOperationInProgress(),ct(Wi,"RemoteStore received new credentials");const i=es(n);n.W_.add(3),await ru(n),i&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await Af(n)}async function FC(r,t){const n=Rt(r);t?(n.W_.delete(2),await Af(n)):t||(n.W_.add(2),await ru(n),n.j_.set("Unknown"))}function Tl(r){return r.J_||(r.J_=function(n,i,l){const u=Rt(n);return u.M_(),new CC(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(r.datastore,r.asyncQueue,{xo:VC.bind(null,r),No:PC.bind(null,r),Lo:LC.bind(null,r),p_:kC.bind(null,r)}),r.G_.push(async t=>{t?(r.J_.h_(),Tg(r)?Eg(r):r.j_.set("Unknown")):(await r.J_.stop(),PT(r))})),r.J_}function ii(r){return r.Y_||(r.Y_=function(n,i,l){const u=Rt(n);return u.M_(),new xC(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:zC.bind(null,r),Lo:HC.bind(null,r),D_:BC.bind(null,r),v_:qC.bind(null,r)}),r.G_.push(async t=>{t?(r.Y_.h_(),await Rf(r)):(await r.Y_.stop(),r.U_.length>0&&(ct(Wi,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(t,n,i,l,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=l,this.removalCallback=u,this.deferred=new da,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,l,u){const h=Date.now()+i,m=new bg(t,n,h,l,u);return m.start(i),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ft(et.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wg(r,t){if(ya("AsyncQueue",`${t}: ${r}`),El(r))return new ft(et.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{static emptySet(t){return new il(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||vt.comparator(n.key,i.key):(n,i)=>vt.comparator(n.key,i.key),this.keyedMap=Io(),this.sortedSet=new pe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof il)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=i.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new il;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(){this.Z_=new pe(vt.comparator)}track(t){const n=t.doc.key,i=this.Z_.get(n);i?t.type!==0&&i.type===3?this.Z_=this.Z_.insert(n,t):t.type===3&&i.type!==1?this.Z_=this.Z_.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.Z_=this.Z_.remove(n):t.type===1&&i.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):wt():this.Z_=this.Z_.insert(n,t)}X_(){const t=[];return this.Z_.inorderTraversal((n,i)=>{t.push(i)}),t}}class dl{constructor(t,n,i,l,u,h,m,g,y){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=l,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(t,n,i,l,u){const h=[];return n.forEach(m=>{h.push({type:0,doc:m})}),new dl(t,n,il.emptySet(n),h,i,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&_f(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==i[l].type||!n[l].doc.isEqual(i[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class GC{constructor(){this.queries=E0(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,i){const l=Rt(n),u=l.queries;l.queries=E0(),u.forEach((h,m)=>{for(const g of m.ta)g.onError(i)})})(this,new ft(et.ABORTED,"Firestore shutting down"))}}function E0(){return new ts(r=>aT(r),_f)}async function Sg(r,t){const n=Rt(r);let i=3;const l=t.query;let u=n.queries.get(l);u?!u.na()&&t.ra()&&(i=2):(u=new YC,i=t.ra()?0:1);try{switch(i){case 0:u.ea=await n.onListen(l,!0);break;case 1:u.ea=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(h){const m=wg(h,`Initialization of query '${Js(t.query)}' failed`);return void t.onError(m)}n.queries.set(l,u),u.ta.push(t),t.sa(n.onlineState),u.ea&&t.oa(u.ea)&&Rg(n)}async function Ag(r,t){const n=Rt(r),i=t.query;let l=3;const u=n.queries.get(i);if(u){const h=u.ta.indexOf(t);h>=0&&(u.ta.splice(h,1),u.ta.length===0?l=t.ra()?0:1:!u.na()&&t.ra()&&(l=2))}switch(l){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function QC(r,t){const n=Rt(r);let i=!1;for(const l of t){const u=l.query,h=n.queries.get(u);if(h){for(const m of h.ta)m.oa(l)&&(i=!0);h.ea=l}}i&&Rg(n)}function KC(r,t,n){const i=Rt(r),l=i.queries.get(t);if(l)for(const u of l.ta)u.onError(n);i.queries.delete(t)}function Rg(r){r.ia.forEach(t=>{t.next()})}var Cm,T0;(T0=Cm||(Cm={}))._a="default",T0.Cache="cache";class Dg{constructor(t,n,i){this.query=t,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(t){if(!this.options.includeMetadataChanges){const i=[];for(const l of t.docChanges)l.type!==3&&i.push(l);t=new dl(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ua?this.la(t)&&(this.aa.next(t),n=!0):this.ha(t,this.onlineState)&&(this.Pa(t),n=!0),this.ca=t,n}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),n=!0),n}ha(t,n){if(!t.fromCache||!this.ra())return!0;const i=n!=="Offline";return(!this.options.Ta||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}la(t){if(t.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(t){t=dl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==Cm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(t){this.key=t}}class zT{constructor(t){this.key=t}}class $C{constructor(t,n){this.query=t,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ut(),this.mutatedKeys=Ut(),this.ya=iT(t),this.wa=new il(this.ya)}get Sa(){return this.fa}ba(t,n){const i=n?n.Da:new _0,l=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,h=l,m=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((_,b)=>{const w=l.get(_),D=Ef(this.query,b)?b:null,R=!!w&&this.mutatedKeys.has(w.key),k=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let L=!1;w&&D?w.data.isEqual(D.data)?R!==k&&(i.track({type:3,doc:D}),L=!0):this.va(w,D)||(i.track({type:2,doc:D}),L=!0,(g&&this.ya(D,g)>0||y&&this.ya(D,y)<0)&&(m=!0)):!w&&D?(i.track({type:0,doc:D}),L=!0):w&&!D&&(i.track({type:1,doc:w}),L=!0,(g||y)&&(m=!0)),L&&(D?(h=h.add(D),u=k?u.add(_):u.delete(_)):(h=h.delete(_),u=u.delete(_)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),u=u.delete(_.key),i.track({type:1,doc:_})}return{wa:h,Da:i,ls:m,mutatedKeys:u}}va(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,l){const u=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const h=t.Da.X_();h.sort((_,b)=>function(D,R){const k=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt()}};return k(D)-k(R)}(_.type,b.type)||this.ya(_.doc,b.doc)),this.Ca(i),l=l!=null&&l;const m=n&&!l?this.Fa():[],g=this.pa.size===0&&this.current&&!l?1:0,y=g!==this.ga;return this.ga=g,h.length!==0||y?{snapshot:new dl(this.query,t.wa,u,h,t.mutatedKeys,g===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new _0,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Ut(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const n=[];return t.forEach(i=>{this.pa.has(i)||n.push(new zT(i))}),this.pa.forEach(i=>{t.has(i)||n.push(new jT(i))}),n}Oa(t){this.fa=t.gs,this.pa=Ut();const n=this.ba(t.documents);return this.applyChanges(n,!0)}Na(){return dl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Cg="SyncEngine";class XC{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class WC{constructor(t){this.key=t,this.Ba=!1}}class ZC{constructor(t,n,i,l,u,h){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new ts(m=>aT(m),_f),this.qa=new Map,this.Qa=new Set,this.$a=new pe(vt.comparator),this.Ua=new Map,this.Ka=new mg,this.Wa={},this.Ga=new Map,this.za=hl.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function JC(r,t,n=!0){const i=GT(r);let l;const u=i.ka.get(t);return u?(i.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.Na()):l=await BT(i,t,n,!0),l}async function t2(r,t){const n=GT(r);await BT(n,t,!0,!1)}async function BT(r,t,n,i){const l=await EC(r.localStore,Mr(t)),u=l.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let m;return i&&(m=await e2(r,t,u,h==="current",l.resumeToken)),r.isPrimaryClient&&n&&MT(r.remoteStore,l),m}async function e2(r,t,n,i,l){r.Ha=(b,w,D)=>async function(k,L,K,rt){let nt=L.view.ba(K);nt.ls&&(nt=await d0(k.localStore,L.query,!1).then(({documents:M})=>L.view.ba(M,nt)));const it=rt&&rt.targetChanges.get(L.targetId),ut=rt&&rt.targetMismatches.get(L.targetId)!=null,gt=L.view.applyChanges(nt,k.isPrimaryClient,it,ut);return w0(k,L.targetId,gt.Ma),gt.snapshot}(r,b,w,D);const u=await d0(r.localStore,t,!0),h=new $C(t,u.gs),m=h.ba(u.documents),g=nu.createSynthesizedTargetChangeForCurrentChange(n,i&&r.onlineState!=="Offline",l),y=h.applyChanges(m,r.isPrimaryClient,g);w0(r,n,y.Ma);const _=new XC(t,n,h);return r.ka.set(t,_),r.qa.has(n)?r.qa.get(n).push(t):r.qa.set(n,[t]),y.snapshot}async function n2(r,t,n){const i=Rt(r),l=i.ka.get(t),u=i.qa.get(l.targetId);if(u.length>1)return i.qa.set(l.targetId,u.filter(h=>!_f(h,t))),void i.ka.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(l.targetId),i.sharedClientState.isActiveQueryTarget(l.targetId)||await Rm(i.localStore,l.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(l.targetId),n&&vg(i.remoteStore,l.targetId),xm(i,l.targetId)}).catch(_l)):(xm(i,l.targetId),await Rm(i.localStore,l.targetId,!0))}async function r2(r,t){const n=Rt(r),i=n.ka.get(t),l=n.qa.get(i.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),vg(n.remoteStore,i.targetId))}async function a2(r,t,n){const i=f2(r);try{const l=await function(h,m){const g=Rt(h),y=Le.now(),_=m.reduce((D,R)=>D.add(R.key),Ut());let b,w;return g.persistence.runTransaction("Locally write mutations","readwrite",D=>{let R=pa(),k=Ut();return g.ds.getEntries(D,_).next(L=>{R=L,R.forEach((K,rt)=>{rt.isValidDocument()||(k=k.add(K))})}).next(()=>g.localDocuments.getOverlayedDocuments(D,R)).next(L=>{b=L;const K=[];for(const rt of m){const nt=ED(rt,b.get(rt.key).overlayedDocument);nt!=null&&K.push(new ci(rt.key,nt,XE(nt.value.mapValue),Vr.exists(!0)))}return g.mutationQueue.addMutationBatch(D,y,K,m)}).next(L=>{w=L;const K=L.applyToLocalDocumentSet(b,k);return g.documentOverlayCache.saveOverlays(D,L.batchId,K)})}).then(()=>({batchId:w.batchId,changes:lT(b)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(l.batchId),function(h,m,g){let y=h.Wa[h.currentUser.toKey()];y||(y=new pe(Mt)),y=y.insert(m,g),h.Wa[h.currentUser.toKey()]=y}(i,l.batchId,n),await au(i,l.changes),await Rf(i.remoteStore)}catch(l){const u=wg(l,"Failed to persist write");n.reject(u)}}async function qT(r,t){const n=Rt(r);try{const i=await pC(n.localStore,t);t.targetChanges.forEach((l,u)=>{const h=n.Ua.get(u);h&&(Xt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?h.Ba=!0:l.modifiedDocuments.size>0?Xt(h.Ba):l.removedDocuments.size>0&&(Xt(h.Ba),h.Ba=!1))}),await au(n,i,t)}catch(i){await _l(i)}}function b0(r,t,n){const i=Rt(r);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const l=[];i.ka.forEach((u,h)=>{const m=h.view.sa(t);m.snapshot&&l.push(m.snapshot)}),function(h,m){const g=Rt(h);g.onlineState=m;let y=!1;g.queries.forEach((_,b)=>{for(const w of b.ta)w.sa(m)&&(y=!0)}),y&&Rg(g)}(i.eventManager,t),l.length&&i.La.p_(l),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function i2(r,t,n){const i=Rt(r);i.sharedClientState.updateQueryState(t,"rejected",n);const l=i.Ua.get(t),u=l&&l.key;if(u){let h=new pe(vt.comparator);h=h.insert(u,cn.newNoDocument(u,At.min()));const m=Ut().add(u),g=new wf(At.min(),new Map,new pe(Mt),h,m);await qT(i,g),i.$a=i.$a.remove(u),i.Ua.delete(t),xg(i)}else await Rm(i.localStore,t,!1).then(()=>xm(i,t,n)).catch(_l)}async function s2(r,t){const n=Rt(r),i=t.batch.batchId;try{const l=await yC(n.localStore,t);FT(n,i,null),HT(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await au(n,l)}catch(l){await _l(l)}}async function l2(r,t,n){const i=Rt(r);try{const l=await function(h,m){const g=Rt(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let _;return g.mutationQueue.lookupMutationBatch(y,m).next(b=>(Xt(b!==null),_=b.keys(),g.mutationQueue.removeMutationBatch(y,b))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,_,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_)).next(()=>g.localDocuments.getDocuments(y,_))})}(i.localStore,t);FT(i,t,n),HT(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await au(i,l)}catch(l){await _l(l)}}function HT(r,t){(r.Ga.get(t)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(t)}function FT(r,t,n){const i=Rt(r);let l=i.Wa[i.currentUser.toKey()];if(l){const u=l.get(t);u&&(n?u.reject(n):u.resolve(),l=l.remove(t)),i.Wa[i.currentUser.toKey()]=l}}function xm(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const i of r.qa.get(t))r.ka.delete(i),n&&r.La.Ja(i,n);r.qa.delete(t),r.isPrimaryClient&&r.Ka.br(t).forEach(i=>{r.Ka.containsKey(i)||YT(r,i)})}function YT(r,t){r.Qa.delete(t.path.canonicalString());const n=r.$a.get(t);n!==null&&(vg(r.remoteStore,n),r.$a=r.$a.remove(t),r.Ua.delete(n),xg(r))}function w0(r,t,n){for(const i of n)i instanceof jT?(r.Ka.addReference(i.key,t),o2(r,i)):i instanceof zT?(ct(Cg,"Document no longer in limbo: "+i.key),r.Ka.removeReference(i.key,t),r.Ka.containsKey(i.key)||YT(r,i.key)):wt()}function o2(r,t){const n=t.key,i=n.path.canonicalString();r.$a.get(n)||r.Qa.has(i)||(ct(Cg,"New document in limbo: "+n),r.Qa.add(i),xg(r))}function xg(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const t=r.Qa.values().next().value;r.Qa.delete(t);const n=new vt(ue.fromString(t)),i=r.za.next();r.Ua.set(i,new WC(n)),r.$a=r.$a.insert(n,i),MT(r.remoteStore,new Xa(Mr(vf(n.path)),i,"TargetPurposeLimboResolution",gf.ae))}}async function au(r,t,n){const i=Rt(r),l=[],u=[],h=[];i.ka.isEmpty()||(i.ka.forEach((m,g)=>{h.push(i.Ha(g,t,n).then(y=>{var _;if((y||n)&&i.isPrimaryClient){const b=y?!y.fromCache:(_=n==null?void 0:n.targetChanges.get(g.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(g.targetId,b?"current":"not-current")}if(y){l.push(y);const b=yg.Yi(g.targetId,y);u.push(b)}}))}),await Promise.all(h),i.La.p_(l),await async function(g,y){const _=Rt(g);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>tt.forEach(y,w=>tt.forEach(w.Hi,D=>_.persistence.referenceDelegate.addReference(b,w.targetId,D)).next(()=>tt.forEach(w.Ji,D=>_.persistence.referenceDelegate.removeReference(b,w.targetId,D)))))}catch(b){if(!El(b))throw b;ct(pg,"Failed to update sequence numbers: "+b)}for(const b of y){const w=b.targetId;if(!b.fromCache){const D=_.Ts.get(w),R=D.snapshotVersion,k=D.withLastLimboFreeSnapshotVersion(R);_.Ts=_.Ts.insert(w,k)}}}(i.localStore,u))}async function u2(r,t){const n=Rt(r);if(!n.currentUser.isEqual(t)){ct(Cg,"User change. New user:",t.toKey());const i=await xT(n.localStore,t);n.currentUser=t,function(u,h){u.Ga.forEach(m=>{m.forEach(g=>{g.reject(new ft(et.CANCELLED,h))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await au(n,i.Rs)}}function c2(r,t){const n=Rt(r),i=n.Ua.get(t);if(i&&i.Ba)return Ut().add(i.key);{let l=Ut();const u=n.qa.get(t);if(!u)return l;for(const h of u){const m=n.ka.get(h);l=l.unionWith(m.view.Sa)}return l}}function GT(r){const t=Rt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=qT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=c2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=i2.bind(null,t),t.La.p_=QC.bind(null,t.eventManager),t.La.Ja=KC.bind(null,t.eventManager),t}function f2(r){const t=Rt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=s2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=l2.bind(null,t),t}class of{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Sf(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,n){return null}nu(t,n){return null}eu(t){return gC(this.persistence,new hC,t.initialUser,this.serializer)}Xa(t){return new CT(gg.ri,this.serializer)}Za(t){return new bC}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}of.provider={build:()=>new of};class h2 extends of{constructor(t){super(),this.cacheSizeBytes=t}tu(t,n){Xt(this.persistence.referenceDelegate instanceof sf);const i=this.persistence.referenceDelegate.garbageCollector;return new WD(i,t.asyncQueue,n)}Xa(t){const n=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new CT(i=>sf.ri(i,n),this.serializer)}}class Om{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>b0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=u2.bind(null,this.syncEngine),await FC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new GC}()}createDatastore(t){const n=Sf(t.databaseInfo.databaseId),i=function(u){return new DC(u)}(t.databaseInfo);return function(u,h,m,g){return new IC(u,h,m,g)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,l,u,h,m){return new MC(i,l,u,h,m)}(this.localStore,this.datastore,t.asyncQueue,n=>b0(this.syncEngine,n,0),function(){return y0.D()?new y0:new wC}())}createSyncEngine(t,n){return function(l,u,h,m,g,y,_){const b=new ZC(l,u,h,m,g,y);return _&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(l){const u=Rt(l);ct(Wi,"RemoteStore shutting down."),u.W_.add(5),await ru(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Om.provider={build:()=>new Om};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):ya("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si="FirestoreClient";class d2{constructor(t,n,i,l,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=l,this.user=un.UNAUTHENTICATED,this.clientId=zE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(i,async h=>{ct(si,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(i,h=>(ct(si,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new da;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=wg(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Zd(r,t){r.asyncQueue.verifyOperationInProgress(),ct(si,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let i=n.initialUser;r.setCredentialChangeListener(async l=>{i.isEqual(l)||(await xT(t.localStore,l),i=l)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function S0(r,t){r.asyncQueue.verifyOperationInProgress();const n=await m2(r);ct(si,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(i=>v0(t.remoteStore,i)),r.setAppCheckTokenChangeListener((i,l)=>v0(t.remoteStore,l)),r._onlineComponents=t}async function m2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ct(si,"Using user provided OfflineComponentProvider");try{await Zd(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(l){return l.name==="FirebaseError"?l.code===et.FAILED_PRECONDITION||l.code===et.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(n))throw n;ol("Error using user provided cache. Falling back to memory cache: "+n),await Zd(r,new of)}}else ct(si,"Using default OfflineComponentProvider"),await Zd(r,new h2(void 0));return r._offlineComponents}async function QT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ct(si,"Using user provided OnlineComponentProvider"),await S0(r,r._uninitializedComponentsProvider._online)):(ct(si,"Using default OnlineComponentProvider"),await S0(r,new Om))),r._onlineComponents}function g2(r){return QT(r).then(t=>t.syncEngine)}async function uf(r){const t=await QT(r),n=t.eventManager;return n.onListen=JC.bind(null,t.syncEngine),n.onUnlisten=n2.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=t2.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=r2.bind(null,t.syncEngine),n}function y2(r,t,n={}){const i=new da;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,m,g,y){const _=new Og({next:w=>{_.su(),h.enqueueAndForget(()=>Ag(u,b));const D=w.docs.has(m);!D&&w.fromCache?y.reject(new ft(et.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&w.fromCache&&g&&g.source==="server"?y.reject(new ft(et.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(w)},error:w=>y.reject(w)}),b=new Dg(vf(m.path),_,{includeMetadataChanges:!0,Ta:!0});return Sg(u,b)}(await uf(r),r.asyncQueue,t,n,i)),i.promise}function p2(r,t,n={}){const i=new da;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,m,g,y){const _=new Og({next:w=>{_.su(),h.enqueueAndForget(()=>Ag(u,b)),w.fromCache&&g.source==="server"?y.reject(new ft(et.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(w)},error:w=>y.reject(w)}),b=new Dg(m,_,{includeMetadataChanges:!0,Ta:!0});return Sg(u,b)}(await uf(r),r.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(r,t,n){if(!n)throw new ft(et.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function v2(r,t,n,i){if(t===!0&&i===!0)throw new ft(et.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function R0(r){if(!vt.isDocumentKey(r))throw new ft(et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function D0(r){if(vt.isDocumentKey(r))throw new ft(et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Df(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":wt()}function Wn(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ft(et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Df(r);throw new ft(et.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="firestore.googleapis.com",C0=!0;class x0{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new ft(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=XT,this.ssl=C0}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:C0;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=DT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<$D)throw new ft(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}v2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KT((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ft(et.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ft(et.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ft(et.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,l){return i.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Cf{constructor(t,n,i,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new x0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ft(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ft(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new x0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new RR;switch(i.type){case"firstParty":return new OR(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ft(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=A0.get(n);i&&(ct("ComponentProvider","Removing Datastore"),A0.delete(n),i.terminate())}(this),Promise.resolve()}}function _2(r,t,n,i={}){var l;const u=(r=Wn(r,Cf))._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),m=`${t}:${n}`;u.host!==XT&&u.host!==m&&ol("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:i});if(!Kc(g,h)&&(r._setSettings(g),i.mockUserToken)){let y,_;if(typeof i.mockUserToken=="string")y=i.mockUserToken,_=un.MOCK_USER;else{y=r1(i.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new ft(et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new un(b)}r._authCredentials=new DR(new UE(y,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new ns(this.firestore,t,this._query)}}class fn{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ti(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new fn(this.firestore,t,this._key)}}class ti extends ns{constructor(t,n,i){super(t,n,vf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new fn(this.firestore,null,new vt(t))}withConverter(t){return new ti(this.firestore,t,this._path)}}function sl(r,t,...n){if(r=Lr(r),$T("collection","path",t),r instanceof Cf){const i=ue.fromString(t,...n);return D0(i),new ti(r,null,i)}{if(!(r instanceof fn||r instanceof ti))throw new ft(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(ue.fromString(t,...n));return D0(i),new ti(r.firestore,null,i)}}function Ki(r,t,...n){if(r=Lr(r),arguments.length===1&&(t=zE.newId()),$T("doc","path",t),r instanceof Cf){const i=ue.fromString(t,...n);return R0(i),new fn(r,null,new vt(i))}{if(!(r instanceof fn||r instanceof ti))throw new ft(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(ue.fromString(t,...n));return R0(i),new fn(r.firestore,r instanceof ti?r.converter:null,new vt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0="AsyncQueue";class I0{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new IT(this,"async_queue_retry"),this.Su=()=>{const i=Wd();i&&ct(O0,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=t;const n=Wd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const n=Wd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const n=new da;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!El(t))throw t;ct(O0,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const n=this.bu.then(()=>(this.pu=!0,t().catch(i=>{this.gu=i,this.pu=!1;const l=function(h){let m=h.message||"";return h.stack&&(m=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),m}(i);throw ya("INTERNAL UNHANDLED ERROR: ",l),i}).then(i=>(this.pu=!1,i))));return this.bu=n,n}enqueueAfterDelay(t,n,i){this.Du(),this.wu.indexOf(t)>-1&&(n=0);const l=bg.createAndSchedule(this,t,n,i,u=>this.Fu(u));return this.fu.push(l),l}Du(){this.gu&&wt()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const n of this.fu)if(n.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const n=this.fu.indexOf(t);this.fu.splice(n,1)}}function N0(r){return function(n,i){if(typeof n!="object"||n===null)return!1;const l=n;for(const u of i)if(u in l&&typeof l[u]=="function")return!0;return!1}(r,["next","error","complete"])}class Zi extends Cf{constructor(t,n,i,l){super(t,n,i,l),this.type="firestore",this._queue=new I0,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new I0(t),this._firestoreClient=void 0,await t}}}function E2(r,t){const n=typeof r=="object"?r:dR(),i=typeof r=="string"?r:Zc,l=oR(n,"firestore").getImmediate({identifier:i});if(!l._initialized){const u=e1("firestore");u&&_2(l,...u)}return l}function xf(r){if(r._terminated)throw new ft(et.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||T2(r),r._firestoreClient}function T2(r){var t,n,i;const l=r._freezeSettings(),u=function(m,g,y,_){return new YR(m,g,y,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,KT(_.experimentalLongPollingOptions),_.useFetchStreams)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((n=l.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=l.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new d2(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ml(an.fromBase64String(t))}catch(n){throw new ft(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new ml(an.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ft(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ft(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ft(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Mt(this._lat,t._lat)||Mt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,l){if(i.length!==l.length)return!1;for(let u=0;u<i.length;++u)if(i[u]!==l[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=/^__.*__$/;class w2{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new ci(t,this.data,this.fieldMask,n,this.fieldTransforms):new eu(t,this.data,n,this.fieldTransforms)}}class WT{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return new ci(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function ZT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wt()}}class Vg{constructor(t,n,i,l,u,h){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=l,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new Vg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.ku({path:i,Qu:!1});return l.$u(t),l}Uu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.ku({path:i,Qu:!1});return l.Bu(),l}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return cf(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(ZT(this.Lu)&&b2.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class S2{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||Sf(t)}ju(t,n,i,l=!1){return new Vg({Lu:t,methodName:n,zu:i,path:nn.emptyPath(),Qu:!1,Gu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pg(r){const t=r._freezeSettings(),n=Sf(r._databaseId);return new S2(r._databaseId,!!t.ignoreUndefinedProperties,n)}function A2(r,t,n,i,l,u={}){const h=r.ju(u.merge||u.mergeFields?2:0,t,n,l);Lg("Data must be an object, but it was:",h,i);const m=JT(i,h);let g,y;if(u.merge)g=new Nn(h.fieldMask),y=h.fieldTransforms;else if(u.mergeFields){const _=[];for(const b of u.mergeFields){const w=Im(t,b,n);if(!h.contains(w))throw new ft(et.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);eb(_,w)||_.push(w)}g=new Nn(_),y=h.fieldTransforms.filter(b=>g.covers(b.field))}else g=null,y=h.fieldTransforms;return new w2(new Tn(m),g,y)}class If extends Ig{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof If}}function R2(r,t,n,i){const l=r.ju(1,t,n);Lg("Data must be an object, but it was:",l,i);const u=[],h=Tn.empty();ui(i,(g,y)=>{const _=kg(t,g,n);y=Lr(y);const b=l.Uu(_);if(y instanceof If)u.push(_);else{const w=iu(y,b);w!=null&&(u.push(_),h.set(_,w))}});const m=new Nn(u);return new WT(h,m,l.fieldTransforms)}function D2(r,t,n,i,l,u){const h=r.ju(1,t,n),m=[Im(t,i,n)],g=[l];if(u.length%2!=0)throw new ft(et.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(Im(t,u[w])),g.push(u[w+1]);const y=[],_=Tn.empty();for(let w=m.length-1;w>=0;--w)if(!eb(y,m[w])){const D=m[w];let R=g[w];R=Lr(R);const k=h.Uu(D);if(R instanceof If)y.push(D);else{const L=iu(R,k);L!=null&&(y.push(D),_.set(D,L))}}const b=new Nn(y);return new WT(_,b,h.fieldTransforms)}function C2(r,t,n,i=!1){return iu(n,r.ju(i?4:3,t))}function iu(r,t){if(tb(r=Lr(r)))return Lg("Unsupported field value:",t,r),JT(r,t);if(r instanceof Ig)return function(i,l){if(!ZT(l.Lu))throw l.Wu(`${i._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Wu(`${i._methodName}() is not currently supported inside arrays`);const u=i._toFieldTransform(l);u&&l.fieldTransforms.push(u)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(i,l){const u=[];let h=0;for(const m of i){let g=iu(m,l.Ku(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}}(r,t)}return function(i,l){if((i=Lr(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return mD(l.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const u=Le.fromDate(i);return{timestampValue:af(l.serializer,u)}}if(i instanceof Le){const u=new Le(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:af(l.serializer,u)}}if(i instanceof Ng)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ml)return{bytesValue:ET(l.serializer,i._byteString)};if(i instanceof fn){const u=l.databaseId,h=i.firestore._databaseId;if(!h.isEqual(u))throw l.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:dg(i.firestore._databaseId||l.databaseId,i._key.path)}}if(i instanceof Mg)return function(h,m){return{mapValue:{fields:{[KE]:{stringValue:$E},[Jc]:{arrayValue:{values:h.toArray().map(y=>{if(typeof y!="number")throw m.Wu("VectorValues must only contain numeric values.");return cg(m.serializer,y)})}}}}}}(i,l);throw l.Wu(`Unsupported field value: ${Df(i)}`)}(r,t)}function JT(r,t){const n={};return qE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ui(r,(i,l)=>{const u=iu(l,t.qu(i));u!=null&&(n[i]=u)}),{mapValue:{fields:n}}}function tb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Le||r instanceof Ng||r instanceof ml||r instanceof fn||r instanceof Ig||r instanceof Mg)}function Lg(r,t,n){if(!tb(n)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(n)){const i=Df(n);throw i==="an object"?t.Wu(r+" a custom object"):t.Wu(r+" "+i)}}function Im(r,t,n){if((t=Lr(t))instanceof Of)return t._internalPath;if(typeof t=="string")return kg(r,t);throw cf("Field path arguments must be of type string or ",r,!1,void 0,n)}const x2=new RegExp("[~\\*/\\[\\]]");function kg(r,t,n){if(t.search(x2)>=0)throw cf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Of(...t.split("."))._internalPath}catch{throw cf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function cf(r,t,n,i,l){const u=i&&!i.isEmpty(),h=l!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${i}`),h&&(g+=` in document ${l}`),g+=")"),new ft(et.INVALID_ARGUMENT,m+r+g)}function eb(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(t,n,i,l,u){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new O2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Ug("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class O2 extends nb{data(){return super.data()}}function Ug(r,t){return typeof t=="string"?kg(r,t):t instanceof Of?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ft(et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jg{}class I2 extends jg{}function N2(r,t,...n){let i=[];t instanceof jg&&i.push(t),i=i.concat(n),function(u){const h=u.filter(g=>g instanceof zg).length,m=u.filter(g=>g instanceof Nf).length;if(h>1||h>0&&m>0)throw new ft(et.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const l of i)r=l._apply(r);return r}class Nf extends I2{constructor(t,n,i){super(),this._field=t,this._op=n,this._value=i,this.type="where"}static _create(t,n,i){return new Nf(t,n,i)}_apply(t){const n=this._parse(t);return ab(t._query,n),new ns(t.firestore,t.converter,Em(t._query,n))}_parse(t){const n=Pg(t.firestore);return function(u,h,m,g,y,_,b){let w;if(y.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ft(et.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){V0(b,_);const R=[];for(const k of b)R.push(M0(g,u,k));w={arrayValue:{values:R}}}else w=M0(g,u,b)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||V0(b,_),w=C2(m,h,b,_==="in"||_==="not-in");return Oe.create(y,_,w)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function M2(r,t,n){const i=t,l=Ug("where",r);return Nf._create(l,i,n)}class zg extends jg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new zg(t,n)}_parse(t){const n=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:cr.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(l,u){let h=l;const m=u.getFlattenedFilters();for(const g of m)ab(h,g),h=Em(h,g)}(t._query,n),new ns(t.firestore,t.converter,Em(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function M0(r,t,n){if(typeof(n=Lr(n))=="string"){if(n==="")throw new ft(et.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rT(t)&&n.indexOf("/")!==-1)throw new ft(et.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(ue.fromString(n));if(!vt.isDocumentKey(i))throw new ft(et.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return K_(r,new vt(i))}if(n instanceof fn)return K_(r,n._key);throw new ft(et.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Df(n)}.`)}function V0(r,t){if(!Array.isArray(r)||r.length===0)throw new ft(et.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function ab(r,t){const n=function(l,u){for(const h of l)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new ft(et.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ft(et.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class V2{convertValue(t,n="none"){switch(ai(t)){case 0:return null;case 1:return t.booleanValue;case 2:return we(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ri(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw wt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return ui(t,(l,u)=>{i[l]=this.convertValue(u,n)}),i}convertVectorValue(t){var n,i,l;const u=(l=(i=(n=t.fields)===null||n===void 0?void 0:n[Jc].arrayValue)===null||i===void 0?void 0:i.values)===null||l===void 0?void 0:l.map(h=>we(h.doubleValue));return new Mg(u)}convertGeoPoint(t){return new Ng(we(t.latitude),we(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=pf(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Fo(t));default:return null}}convertTimestamp(t){const n=ni(t);return new Le(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=ue.fromString(t);Xt(RT(i));const l=new Yo(i.get(1),i.get(3)),u=new vt(i.popFirst(5));return l.isEqual(n)||ya(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(r,t,n){let i;return i=r?n&&(n.merge||n.mergeFields)?r.toFirestore(t,n):r.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ib extends nb{constructor(t,n,i,l,u,h){super(t,n,i,l,h),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Fc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(Ug("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Fc extends ib{data(t={}){return super.data(t)}}class sb{constructor(t,n,i,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new Mo(l.hasPendingWrites,l.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new Fc(this._firestore,this._userDataWriter,i.key,i,new Mo(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ft(et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,u){if(l._snapshot.oldDocs.isEmpty()){let h=0;return l._snapshot.docChanges.map(m=>{const g=new Fc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new Mo(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const g=new Fc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new Mo(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,_=-1;return m.type!==0&&(y=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),_=h.indexOf(m.doc.key)),{type:L2(m.type),doc:g,oldIndex:y,newIndex:_}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function L2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(r){r=Wn(r,fn);const t=Wn(r.firestore,Zi);return y2(xf(t),r._key).then(n=>ub(t,r,n))}class Bg extends V2{constructor(t){super(),this.firestore=t}convertBytes(t){return new ml(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new fn(this.firestore,null,n)}}function ll(r){r=Wn(r,ns);const t=Wn(r.firestore,Zi),n=xf(t),i=new Bg(t);return rb(r._query),p2(n,r._query).then(l=>new sb(t,i,r,l))}function k2(r,t,n){r=Wn(r,fn);const i=Wn(r.firestore,Zi),l=P2(r.converter,t,n);return ob(i,[A2(Pg(i),"setDoc",r._key,l,r.converter!==null,n).toMutation(r._key,Vr.none())])}function U2(r,t,n,...i){r=Wn(r,fn);const l=Wn(r.firestore,Zi),u=Pg(l);let h;return h=typeof(t=Lr(t))=="string"||t instanceof Of?D2(u,"updateDoc",r._key,t,n,i):R2(u,"updateDoc",r._key,t),ob(l,[h.toMutation(r._key,Vr.exists(!0))])}function Nm(r,...t){var n,i,l;r=Lr(r);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof t[h]!="object"||N0(t[h])||(u=t[h],h++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(N0(t[h])){const b=t[h];t[h]=(n=b.next)===null||n===void 0?void 0:n.bind(b),t[h+1]=(i=b.error)===null||i===void 0?void 0:i.bind(b),t[h+2]=(l=b.complete)===null||l===void 0?void 0:l.bind(b)}let g,y,_;if(r instanceof fn)y=Wn(r.firestore,Zi),_=vf(r._key.path),g={next:b=>{t[h]&&t[h](ub(y,r,b))},error:t[h+1],complete:t[h+2]};else{const b=Wn(r,ns);y=Wn(b.firestore,Zi),_=b._query;const w=new Bg(y);g={next:D=>{t[h]&&t[h](new sb(y,w,b,D))},error:t[h+1],complete:t[h+2]},rb(r._query)}return function(w,D,R,k){const L=new Og(k),K=new Dg(D,L,R);return w.asyncQueue.enqueueAndForget(async()=>Sg(await uf(w),K)),()=>{L.su(),w.asyncQueue.enqueueAndForget(async()=>Ag(await uf(w),K))}}(xf(y),_,m,g)}function ob(r,t){return function(i,l){const u=new da;return i.asyncQueue.enqueueAndForget(async()=>a2(await g2(i),l,u)),u.promise}(xf(r),t)}function ub(r,t,n){const i=n.docs.get(t._key),l=new Bg(r);return new ib(r,l,t._key,i,new Mo(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(l){vl=l})(hR),Xc(new Bo("firestore",(i,{instanceIdentifier:l,options:u})=>{const h=i.getProvider("app").getImmediate(),m=new Zi(new CR(i.getProvider("auth-internal")),new IR(h,i.getProvider("app-check-internal")),function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ft(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yo(y.options.projectId,_)}(h,l),h);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),al(L_,k_,t),al(L_,k_,"esm2017")})();const j2={apiKey:"AIzaSyA…",authDomain:"myattendanceproject-45c1b.firebaseapp.com",projectId:"myattendanceproject-45c1b",storageBucket:"myattendanceproject-45c1b.appspot.com",messagingSenderId:"347137303283",appId:"1:347137303283:web:9369753f976dffcf65cd86"},z2=xE(j2),Mn=E2(z2);function B2(){const[r,t]=F.useState(""),[n,i]=F.useState(""),[l,u]=F.useState(""),h=Wm(),m=async()=>{if(u(""),r.trim().length!==6||n.trim().length!==4){u("생년월일 6자리와 전화번호 뒤 4자리를 입력해주세요.");return}try{const g=N2(sl(Mn,"students"),M2("birth",">=","")),_=(await ll(g)).docs.find(b=>{var rt,nt;const w=b.data(),D=(rt=w.birth)==null?void 0:rt.replace(/[^0-9]/g,""),R=(nt=w.parentPhone)==null?void 0:nt.replace(/[^0-9]/g,""),k=(D==null?void 0:D.slice(-6))===r.trim(),K=(R?R.slice(-4):null)===n.trim();return k&&K});if(_){const b=_.data();localStorage.setItem("studentId",_.id),localStorage.setItem("studentName",b.name),onLoginSuccess&&onLoginSuccess(),h("/attendance")}else u("아이디 또는 비밀번호가 일치하지 않습니다.")}catch(g){console.error(g),u("로그인 중 오류가 발생했습니다.")}};return B.jsxs("div",{style:{maxWidth:320,margin:"100px auto",textAlign:"center"},children:[B.jsx("h1",{children:"학부모 로그인"}),B.jsx("input",{style:{width:"100%",padding:8,margin:"8px 0"},value:r,onChange:g=>t(g.target.value.replace(/\D/g,"")),placeholder:"자녀 생년월일 6자리 (예: 170806)",maxLength:6}),B.jsx("input",{style:{width:"100%",padding:8,margin:"8px 0"},value:n,onChange:g=>i(g.target.value.replace(/\D/g,"")),placeholder:"전화번호 뒤 4자리",maxLength:4,type:"password"}),B.jsx("button",{style:{width:"100%",padding:8,margin:"8px 0"},onClick:m,children:"로그인"}),l&&B.jsx("p",{style:{color:"red"},children:l})]})}function cb(r){var t,n,i="";if(typeof r=="string"||typeof r=="number")i+=r;else if(typeof r=="object")if(Array.isArray(r)){var l=r.length;for(t=0;t<l;t++)r[t]&&(n=cb(r[t]))&&(i&&(i+=" "),i+=n)}else for(n in r)r[n]&&(i&&(i+=" "),i+=n);return i}function Mf(){for(var r,t,n=0,i="",l=arguments.length;n<l;n++)(r=arguments[n])&&(t=cb(r))&&(i&&(i+=" "),i+=t);return i}var Jd,P0;function q2(){if(P0)return Jd;P0=1;const r=(g,y,_,b)=>{if(_==="length"||_==="prototype"||_==="arguments"||_==="caller")return;const w=Object.getOwnPropertyDescriptor(g,_),D=Object.getOwnPropertyDescriptor(y,_);!t(w,D)&&b||Object.defineProperty(g,_,D)},t=function(g,y){return g===void 0||g.configurable||g.writable===y.writable&&g.enumerable===y.enumerable&&g.configurable===y.configurable&&(g.writable||g.value===y.value)},n=(g,y)=>{const _=Object.getPrototypeOf(y);_!==Object.getPrototypeOf(g)&&Object.setPrototypeOf(g,_)},i=(g,y)=>`/* Wrapped ${g}*/
${y}`,l=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),u=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),h=(g,y,_)=>{const b=_===""?"":`with ${_.trim()}() `,w=i.bind(null,b,y.toString());Object.defineProperty(w,"name",u),Object.defineProperty(g,"toString",{...l,value:w})};return Jd=(g,y,{ignoreNonConfigurable:_=!1}={})=>{const{name:b}=g;for(const w of Reflect.ownKeys(y))r(g,y,w,_);return n(g,y),h(g,y,b),g},Jd}var Vo={exports:{}},tm,L0;function H2(){return L0||(L0=1,tm=()=>{const r={};return r.promise=new Promise((t,n)=>{r.resolve=t,r.reject=n}),r}),tm}var Vc=Vo.exports,k0;function F2(){return k0||(k0=1,function(r,t){var n=Vc&&Vc.__awaiter||function(h,m,g,y){return new(g||(g=Promise))(function(_,b){function w(k){try{R(y.next(k))}catch(L){b(L)}}function D(k){try{R(y.throw(k))}catch(L){b(L)}}function R(k){k.done?_(k.value):new g(function(L){L(k.value)}).then(w,D)}R((y=y.apply(h,m||[])).next())})},i=Vc&&Vc.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(t,"__esModule",{value:!0});const l=i(H2());function u(h,m="maxAge"){let g,y,_;const b=()=>n(this,void 0,void 0,function*(){if(g!==void 0)return;const R=k=>n(this,void 0,void 0,function*(){_=l.default();const L=k[1][m]-Date.now();if(L<=0){h.delete(k[0]),_.resolve();return}return g=k[0],y=setTimeout(()=>{h.delete(k[0]),_&&_.resolve()},L),typeof y.unref=="function"&&y.unref(),_.promise});try{for(const k of h)yield R(k)}catch{}g=void 0}),w=()=>{g=void 0,y!==void 0&&(clearTimeout(y),y=void 0),_!==void 0&&(_.reject(void 0),_=void 0)},D=h.set.bind(h);return h.set=(R,k)=>{h.has(R)&&h.delete(R);const L=D(R,k);return g&&g===R&&w(),b(),L},b(),h}t.default=u,r.exports=u,r.exports.default=u}(Vo,Vo.exports)),Vo.exports}var em,U0;function Y2(){if(U0)return em;U0=1;const r=q2(),t=F2(),n=new WeakMap,i=new WeakMap,l=(u,{cacheKey:h,cache:m=new Map,maxAge:g}={})=>{typeof g=="number"&&t(m);const y=function(..._){const b=h?h(_):_[0],w=m.get(b);if(w)return w.data;const D=u.apply(this,_);return m.set(b,{data:D,maxAge:g?Date.now()+g:Number.POSITIVE_INFINITY}),D};return r(y,u,{ignoreNonConfigurable:!0}),i.set(y,m),y};return l.decorator=(u={})=>(h,m,g)=>{const y=h[m];if(typeof y!="function")throw new TypeError("The decorated value must be a function");delete g.value,delete g.writable,g.get=function(){if(!n.has(this)){const _=l(y,u);return n.set(this,_),_}return n.get(this)}},l.clear=u=>{const h=i.get(u);if(!h)throw new TypeError("Can't clear a function that was not memoized!");if(typeof h.clear!="function")throw new TypeError("The cache Map can't be cleared!");h.clear()},em=l,em}var G2=Y2();const fb=cS(G2);function Q2(r){return typeof r=="string"}function K2(r,t,n){return n.indexOf(r)===t}function $2(r){return r.toLowerCase()===r}function j0(r){return r.indexOf(",")===-1?r:r.split(",")}function Mm(r){if(!r)return r;if(r==="C"||r==="posix"||r==="POSIX")return"en-US";if(r.indexOf(".")!==-1){var t=r.split(".")[0],n=t===void 0?"":t;return Mm(n)}if(r.indexOf("@")!==-1){var i=r.split("@")[0],n=i===void 0?"":i;return Mm(n)}if(r.indexOf("-")===-1||!$2(r))return r;var l=r.split("-"),u=l[0],h=l[1],m=h===void 0?"":h;return"".concat(u,"-").concat(m.toUpperCase())}function X2(r){var t=r===void 0?{}:r,n=t.useFallbackLocale,i=n===void 0?!0:n,l=t.fallbackLocale,u=l===void 0?"en-US":l,h=[];if(typeof navigator<"u"){for(var m=navigator.languages||[],g=[],y=0,_=m;y<_.length;y++){var b=_[y];g=g.concat(j0(b))}var w=navigator.language,D=w&&j0(w);h=h.concat(g,D)}return i&&h.push(u),h.filter(Q2).map(Mm).filter(K2)}var W2=fb(X2,{cacheKey:JSON.stringify});function Z2(r){return W2(r)[0]||null}var hb=fb(Z2,{cacheKey:JSON.stringify});function va(r,t,n){return function(l,u){u===void 0&&(u=n);var h=r(l)+u;return t(h)}}function su(r){return function(n){return new Date(r(n).getTime()-1)}}function lu(r,t){return function(i){return[r(i),t(i)]}}function ge(r){if(r instanceof Date)return r.getFullYear();if(typeof r=="number")return r;var t=parseInt(r,10);if(typeof r=="string"&&!isNaN(t))return t;throw new Error("Failed to get year from date: ".concat(r,"."))}function fi(r){if(r instanceof Date)return r.getMonth();throw new Error("Failed to get month from date: ".concat(r,"."))}function Vf(r){if(r instanceof Date)return r.getDate();throw new Error("Failed to get year from date: ".concat(r,"."))}function bl(r){var t=ge(r),n=t+(-t+1)%100,i=new Date;return i.setFullYear(n,0,1),i.setHours(0,0,0,0),i}var J2=va(ge,bl,-100),db=va(ge,bl,100),qg=su(db),tx=va(ge,qg,-100),mb=lu(bl,qg);function hi(r){var t=ge(r),n=t+(-t+1)%10,i=new Date;return i.setFullYear(n,0,1),i.setHours(0,0,0,0),i}var gb=va(ge,hi,-10),Hg=va(ge,hi,10),Pf=su(Hg),yb=va(ge,Pf,-10),pb=lu(hi,Pf);function wl(r){var t=ge(r),n=new Date;return n.setFullYear(t,0,1),n.setHours(0,0,0,0),n}var vb=va(ge,wl,-1),Fg=va(ge,wl,1),Lf=su(Fg),_b=va(ge,Lf,-1),ex=lu(wl,Lf);function Yg(r,t){return function(i,l){l===void 0&&(l=t);var u=ge(i),h=fi(i)+l,m=new Date;return m.setFullYear(u,h,1),m.setHours(0,0,0,0),r(m)}}function rs(r){var t=ge(r),n=fi(r),i=new Date;return i.setFullYear(t,n,1),i.setHours(0,0,0,0),i}var Eb=Yg(rs,-1),Gg=Yg(rs,1),ou=su(Gg),Tb=Yg(ou,-1),nx=lu(rs,ou);function rx(r,t){return function(i,l){l===void 0&&(l=t);var u=ge(i),h=fi(i),m=Vf(i)+l,g=new Date;return g.setFullYear(u,h,m),g.setHours(0,0,0,0),r(g)}}function uu(r){var t=ge(r),n=fi(r),i=Vf(r),l=new Date;return l.setFullYear(t,n,i),l.setHours(0,0,0,0),l}var ax=rx(uu,1),Qg=su(ax),ix=lu(uu,Qg);function bb(r){return Vf(ou(r))}var rn={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},sx={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},Kg=[0,1,2,3,4,5,6],nm=new Map;function lx(r){return function(n,i){var l=n||hb();nm.has(l)||nm.set(l,new Map);var u=nm.get(l);return u.has(r)||u.set(r,new Intl.DateTimeFormat(l||void 0,r).format),u.get(r)(i)}}function ox(r){var t=new Date(r);return new Date(t.setHours(12))}function as(r){return function(t,n){return lx(r)(t,ox(n))}}var ux={day:"numeric"},cx={day:"numeric",month:"long",year:"numeric"},fx={month:"long"},hx={month:"long",year:"numeric"},dx={weekday:"short"},mx={weekday:"long"},gx={year:"numeric"},yx=as(ux),px=as(cx),vx=as(fx),wb=as(hx),_x=as(dx),Ex=as(mx),kf=as(gx),Tx=Kg[0],bx=Kg[5],z0=Kg[6];function $o(r,t){t===void 0&&(t=rn.ISO_8601);var n=r.getDay();switch(t){case rn.ISO_8601:return(n+6)%7;case rn.ISLAMIC:return(n+1)%7;case rn.HEBREW:case rn.GREGORY:return n;default:throw new Error("Unsupported calendar type.")}}function wx(r){var t=bl(r);return ge(t)}function Sx(r){var t=hi(r);return ge(t)}function Vm(r,t){t===void 0&&(t=rn.ISO_8601);var n=ge(r),i=fi(r),l=r.getDate()-$o(r,t);return new Date(n,i,l)}function Ax(r,t){t===void 0&&(t=rn.ISO_8601);var n=t===rn.GREGORY?rn.GREGORY:rn.ISO_8601,i=Vm(r,t),l=ge(r)+1,u,h;do u=new Date(l,0,n===rn.ISO_8601?4:1),h=Vm(u,t),l-=1;while(r<h);return Math.round((i.getTime()-h.getTime())/(864e5*7))+1}function $i(r,t){switch(r){case"century":return bl(t);case"decade":return hi(t);case"year":return wl(t);case"month":return rs(t);case"day":return uu(t);default:throw new Error("Invalid rangeType: ".concat(r))}}function Rx(r,t){switch(r){case"century":return J2(t);case"decade":return gb(t);case"year":return vb(t);case"month":return Eb(t);default:throw new Error("Invalid rangeType: ".concat(r))}}function Sb(r,t){switch(r){case"century":return db(t);case"decade":return Hg(t);case"year":return Fg(t);case"month":return Gg(t);default:throw new Error("Invalid rangeType: ".concat(r))}}function Dx(r,t){switch(r){case"decade":return gb(t,-100);case"year":return vb(t,-10);case"month":return Eb(t,-12);default:throw new Error("Invalid rangeType: ".concat(r))}}function Cx(r,t){switch(r){case"decade":return Hg(t,100);case"year":return Fg(t,10);case"month":return Gg(t,12);default:throw new Error("Invalid rangeType: ".concat(r))}}function Ab(r,t){switch(r){case"century":return qg(t);case"decade":return Pf(t);case"year":return Lf(t);case"month":return ou(t);case"day":return Qg(t);default:throw new Error("Invalid rangeType: ".concat(r))}}function xx(r,t){switch(r){case"century":return tx(t);case"decade":return yb(t);case"year":return _b(t);case"month":return Tb(t);default:throw new Error("Invalid rangeType: ".concat(r))}}function Ox(r,t){switch(r){case"decade":return yb(t,-100);case"year":return _b(t,-10);case"month":return Tb(t,-12);default:throw new Error("Invalid rangeType: ".concat(r))}}function B0(r,t){switch(r){case"century":return mb(t);case"decade":return pb(t);case"year":return ex(t);case"month":return nx(t);case"day":return ix(t);default:throw new Error("Invalid rangeType: ".concat(r))}}function Ix(r,t,n){var i=[t,n].sort(function(l,u){return l.getTime()-u.getTime()});return[$i(r,i[0]),Ab(r,i[1])]}function Rb(r,t,n){return n.map(function(i){return(t||kf)(r,i)}).join(" – ")}function Nx(r,t,n){return Rb(r,t,mb(n))}function Db(r,t,n){return Rb(r,t,pb(n))}function Mx(r){return r.getDay()===new Date().getDay()}function Cb(r,t){t===void 0&&(t=rn.ISO_8601);var n=r.getDay();switch(t){case rn.ISLAMIC:case rn.HEBREW:return n===bx||n===z0;case rn.ISO_8601:case rn.GREGORY:return n===z0||n===Tx;default:throw new Error("Unsupported calendar type.")}}var Ir="react-calendar__navigation";function Vx(r){var t=r.activeStartDate,n=r.drillUp,i=r.formatMonthYear,l=i===void 0?wb:i,u=r.formatYear,h=u===void 0?kf:u,m=r.locale,g=r.maxDate,y=r.minDate,_=r.navigationAriaLabel,b=_===void 0?"":_,w=r.navigationAriaLive,D=r.navigationLabel,R=r.next2AriaLabel,k=R===void 0?"":R,L=r.next2Label,K=L===void 0?"»":L,rt=r.nextAriaLabel,nt=rt===void 0?"":rt,it=r.nextLabel,ut=it===void 0?"›":it,gt=r.prev2AriaLabel,M=gt===void 0?"":gt,A=r.prev2Label,C=A===void 0?"«":A,N=r.prevAriaLabel,P=N===void 0?"":N,U=r.prevLabel,x=U===void 0?"‹":U,dt=r.setActiveStartDate,Dt=r.showDoubleView,G=r.view,st=r.views,mt=st.indexOf(G)>0,Ct=G!=="century",I=Rx(G,t),Z=Ct?Dx(G,t):void 0,ot=Sb(G,t),at=Ct?Cx(G,t):void 0,yt=function(){if(I.getFullYear()<0)return!0;var ae=xx(G,t);return y&&y>=ae}(),xt=Ct&&function(){if(Z.getFullYear()<0)return!0;var ae=Ox(G,t);return y&&y>=ae}(),_t=g&&g<ot,ce=Ct&&g&&g<at;function Ft(){dt(I,"prev")}function Ie(){dt(Z,"prev2")}function Vn(){dt(ot,"next")}function bn(){dt(at,"next2")}function Pn(ae){var tr=function(){switch(G){case"century":return Nx(m,h,ae);case"decade":return Db(m,h,ae);case"year":return h(m,ae);case"month":return l(m,ae);default:throw new Error("Invalid view: ".concat(G,"."))}}();return D?D({date:ae,label:tr,locale:m||hb()||void 0,view:G}):tr}function Jn(){var ae="".concat(Ir,"__label");return B.jsxs("button",{"aria-label":b,"aria-live":w,className:ae,disabled:!mt,onClick:n,style:{flexGrow:1},type:"button",children:[B.jsx("span",{className:"".concat(ae,"__labelText ").concat(ae,"__labelText--from"),children:Pn(t)}),Dt?B.jsxs(B.Fragment,{children:[B.jsx("span",{className:"".concat(ae,"__divider"),children:" – "}),B.jsx("span",{className:"".concat(ae,"__labelText ").concat(ae,"__labelText--to"),children:Pn(ot)})]}):null]})}return B.jsxs("div",{className:Ir,children:[C!==null&&Ct?B.jsx("button",{"aria-label":M,className:"".concat(Ir,"__arrow ").concat(Ir,"__prev2-button"),disabled:xt,onClick:Ie,type:"button",children:C}):null,x!==null&&B.jsx("button",{"aria-label":P,className:"".concat(Ir,"__arrow ").concat(Ir,"__prev-button"),disabled:yt,onClick:Ft,type:"button",children:x}),Jn(),ut!==null&&B.jsx("button",{"aria-label":nt,className:"".concat(Ir,"__arrow ").concat(Ir,"__next-button"),disabled:_t,onClick:Vn,type:"button",children:ut}),K!==null&&Ct?B.jsx("button",{"aria-label":k,className:"".concat(Ir,"__arrow ").concat(Ir,"__next2-button"),disabled:ce,onClick:bn,type:"button",children:K}):null]})}var nl=function(){return nl=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},nl.apply(this,arguments)},Px=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]]);return n};function q0(r){return"".concat(r,"%")}function $g(r){var t=r.children,n=r.className,i=r.count,l=r.direction,u=r.offset,h=r.style,m=r.wrap,g=Px(r,["children","className","count","direction","offset","style","wrap"]);return B.jsx("div",nl({className:n,style:nl({display:"flex",flexDirection:l,flexWrap:m?"wrap":"nowrap"},h)},g,{children:F.Children.map(t,function(y,_){var b=u&&_===0?q0(100*u/i):null;return F.cloneElement(y,nl(nl({},y.props),{style:{flexBasis:q0(100/i),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:b,marginInlineStart:b,marginInlineEnd:0}}))})}))}function Lx(r,t,n){return t&&t>r?t:n&&n<r?n:r}function Xo(r,t){return t[0]<=r&&t[1]>=r}function kx(r,t){return r[0]<=t[0]&&r[1]>=t[1]}function xb(r,t){return Xo(r[0],t)||Xo(r[1],t)}function H0(r,t,n){var i=xb(t,r),l=[];if(i){l.push(n);var u=Xo(r[0],t),h=Xo(r[1],t);u&&l.push("".concat(n,"Start")),h&&l.push("".concat(n,"End")),u&&h&&l.push("".concat(n,"BothEnds"))}return l}function Ux(r){return Array.isArray(r)?r[0]!==null&&r[1]!==null:r!==null}function jx(r){if(!r)throw new Error("args is required");var t=r.value,n=r.date,i=r.hover,l="react-calendar__tile",u=[l];if(!n)return u;var h=new Date,m=function(){if(Array.isArray(n))return n;var D=r.dateType;if(!D)throw new Error("dateType is required when date is not an array of two dates");return B0(D,n)}();if(Xo(h,m)&&u.push("".concat(l,"--now")),!t||!Ux(t))return u;var g=function(){if(Array.isArray(t))return t;var D=r.valueType;if(!D)throw new Error("valueType is required when value is not an array of two dates");return B0(D,t)}();kx(g,m)?u.push("".concat(l,"--active")):xb(g,m)&&u.push("".concat(l,"--hasActive"));var y=H0(g,m,"".concat(l,"--range"));u.push.apply(u,y);var _=Array.isArray(t)?t:[t];if(i&&_.length===1){var b=i>g[0]?[g[0],i]:[i,g[0]],w=H0(b,m,"".concat(l,"--hover"));u.push.apply(u,w)}return u}function Uf(r){for(var t=r.className,n=r.count,i=n===void 0?3:n,l=r.dateTransform,u=r.dateType,h=r.end,m=r.hover,g=r.offset,y=r.renderTile,_=r.start,b=r.step,w=b===void 0?1:b,D=r.value,R=r.valueType,k=[],L=_;L<=h;L+=w){var K=l(L);k.push(y({classes:jx({date:K,dateType:u,hover:m,value:D,valueType:R}),date:K}))}return B.jsx($g,{className:t,count:i,offset:g,wrap:!0,children:k})}function jf(r){var t=r.activeStartDate,n=r.children,i=r.classes,l=r.date,u=r.formatAbbr,h=r.locale,m=r.maxDate,g=r.maxDateTransform,y=r.minDate,_=r.minDateTransform,b=r.onClick,w=r.onMouseOver,D=r.style,R=r.tileClassName,k=r.tileContent,L=r.tileDisabled,K=r.view,rt=F.useMemo(function(){var it={activeStartDate:t,date:l,view:K};return typeof R=="function"?R(it):R},[t,l,R,K]),nt=F.useMemo(function(){var it={activeStartDate:t,date:l,view:K};return typeof k=="function"?k(it):k},[t,l,k,K]);return B.jsxs("button",{className:Mf(i,rt),disabled:y&&_(y)>l||m&&g(m)<l||(L==null?void 0:L({activeStartDate:t,date:l,view:K})),onClick:b?function(it){return b(l,it)}:void 0,onFocus:w?function(){return w(l)}:void 0,onMouseOver:w?function(){return w(l)}:void 0,style:D,type:"button",children:[u?B.jsx("abbr",{"aria-label":u(h,l),children:n}):n,nt]})}var Pm=function(){return Pm=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},Pm.apply(this,arguments)},zx=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]]);return n},F0="react-calendar__century-view__decades__decade";function Bx(r){var t=r.classes,n=t===void 0?[]:t,i=r.currentCentury,l=r.formatYear,u=l===void 0?kf:l,h=zx(r,["classes","currentCentury","formatYear"]),m=h.date,g=h.locale,y=[];return n&&y.push.apply(y,n),y.push(F0),bl(m).getFullYear()!==i&&y.push("".concat(F0,"--neighboringCentury")),B.jsx(jf,Pm({},h,{classes:y,maxDateTransform:Pf,minDateTransform:hi,view:"century",children:Db(g,u,m)}))}var Lm=function(){return Lm=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},Lm.apply(this,arguments)},Y0=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]]);return n};function qx(r){var t=r.activeStartDate,n=r.hover,i=r.showNeighboringCentury,l=r.value,u=r.valueType,h=Y0(r,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),m=wx(t),g=m+(i?119:99);return B.jsx(Uf,{className:"react-calendar__century-view__decades",dateTransform:hi,dateType:"decade",end:g,hover:n,renderTile:function(y){var _=y.date,b=Y0(y,["date"]);return B.jsx(Bx,Lm({},h,b,{activeStartDate:t,currentCentury:m,date:_}),_.getTime())},start:m,step:10,value:l,valueType:u})}var km=function(){return km=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},km.apply(this,arguments)};function Hx(r){function t(){return B.jsx(qx,km({},r))}return B.jsx("div",{className:"react-calendar__century-view",children:t()})}var Um=function(){return Um=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},Um.apply(this,arguments)},Fx=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]]);return n},G0="react-calendar__decade-view__years__year";function Yx(r){var t=r.classes,n=t===void 0?[]:t,i=r.currentDecade,l=r.formatYear,u=l===void 0?kf:l,h=Fx(r,["classes","currentDecade","formatYear"]),m=h.date,g=h.locale,y=[];return n&&y.push.apply(y,n),y.push(G0),hi(m).getFullYear()!==i&&y.push("".concat(G0,"--neighboringDecade")),B.jsx(jf,Um({},h,{classes:y,maxDateTransform:Lf,minDateTransform:wl,view:"decade",children:u(g,m)}))}var jm=function(){return jm=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},jm.apply(this,arguments)},Q0=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]]);return n};function Gx(r){var t=r.activeStartDate,n=r.hover,i=r.showNeighboringDecade,l=r.value,u=r.valueType,h=Q0(r,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),m=Sx(t),g=m+(i?11:9);return B.jsx(Uf,{className:"react-calendar__decade-view__years",dateTransform:wl,dateType:"year",end:g,hover:n,renderTile:function(y){var _=y.date,b=Q0(y,["date"]);return B.jsx(Yx,jm({},h,b,{activeStartDate:t,currentDecade:m,date:_}),_.getTime())},start:m,value:l,valueType:u})}var zm=function(){return zm=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},zm.apply(this,arguments)};function Qx(r){function t(){return B.jsx(Gx,zm({},r))}return B.jsx("div",{className:"react-calendar__decade-view",children:t()})}var Bm=function(){return Bm=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},Bm.apply(this,arguments)},Kx=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]]);return n},K0=function(r,t,n){if(n||arguments.length===2)for(var i=0,l=t.length,u;i<l;i++)(u||!(i in t))&&(u||(u=Array.prototype.slice.call(t,0,i)),u[i]=t[i]);return r.concat(u||Array.prototype.slice.call(t))},$x="react-calendar__year-view__months__month";function Xx(r){var t=r.classes,n=t===void 0?[]:t,i=r.formatMonth,l=i===void 0?vx:i,u=r.formatMonthYear,h=u===void 0?wb:u,m=Kx(r,["classes","formatMonth","formatMonthYear"]),g=m.date,y=m.locale;return B.jsx(jf,Bm({},m,{classes:K0(K0([],n,!0),[$x],!1),formatAbbr:h,maxDateTransform:ou,minDateTransform:rs,view:"year",children:l(y,g)}))}var qm=function(){return qm=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},qm.apply(this,arguments)},$0=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]]);return n};function Wx(r){var t=r.activeStartDate,n=r.hover,i=r.value,l=r.valueType,u=$0(r,["activeStartDate","hover","value","valueType"]),h=0,m=11,g=ge(t);return B.jsx(Uf,{className:"react-calendar__year-view__months",dateTransform:function(y){var _=new Date;return _.setFullYear(g,y,1),rs(_)},dateType:"month",end:m,hover:n,renderTile:function(y){var _=y.date,b=$0(y,["date"]);return B.jsx(Xx,qm({},u,b,{activeStartDate:t,date:_}),_.getTime())},start:h,value:i,valueType:l})}var Hm=function(){return Hm=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},Hm.apply(this,arguments)};function Zx(r){function t(){return B.jsx(Wx,Hm({},r))}return B.jsx("div",{className:"react-calendar__year-view",children:t()})}var Fm=function(){return Fm=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},Fm.apply(this,arguments)},Jx=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]]);return n},rm="react-calendar__month-view__days__day";function tO(r){var t=r.calendarType,n=r.classes,i=n===void 0?[]:n,l=r.currentMonthIndex,u=r.formatDay,h=u===void 0?yx:u,m=r.formatLongDate,g=m===void 0?px:m,y=Jx(r,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),_=y.date,b=y.locale,w=[];return i&&w.push.apply(w,i),w.push(rm),Cb(_,t)&&w.push("".concat(rm,"--weekend")),_.getMonth()!==l&&w.push("".concat(rm,"--neighboringMonth")),B.jsx(jf,Fm({},y,{classes:w,formatAbbr:g,maxDateTransform:Qg,minDateTransform:uu,view:"month",children:h(b,_)}))}var Ym=function(){return Ym=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},Ym.apply(this,arguments)},X0=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]]);return n};function eO(r){var t=r.activeStartDate,n=r.calendarType,i=r.hover,l=r.showFixedNumberOfWeeks,u=r.showNeighboringMonth,h=r.value,m=r.valueType,g=X0(r,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),y=ge(t),_=fi(t),b=l||u,w=$o(t,n),D=b?0:w,R=(b?-w:0)+1,k=function(){if(l)return R+6*7-1;var L=bb(t);if(u){var K=new Date;K.setFullYear(y,_,L),K.setHours(0,0,0,0);var rt=7-$o(K,n)-1;return L+rt}return L}();return B.jsx(Uf,{className:"react-calendar__month-view__days",count:7,dateTransform:function(L){var K=new Date;return K.setFullYear(y,_,L),uu(K)},dateType:"day",hover:i,end:k,renderTile:function(L){var K=L.date,rt=X0(L,["date"]);return B.jsx(tO,Ym({},g,rt,{activeStartDate:t,calendarType:n,currentMonthIndex:_,date:K}),K.getTime())},offset:D,start:R,value:h,valueType:m})}var Ob="react-calendar__month-view__weekdays",am="".concat(Ob,"__weekday");function nO(r){for(var t=r.calendarType,n=r.formatShortWeekday,i=n===void 0?_x:n,l=r.formatWeekday,u=l===void 0?Ex:l,h=r.locale,m=r.onMouseLeave,g=new Date,y=rs(g),_=ge(y),b=fi(y),w=[],D=1;D<=7;D+=1){var R=new Date(_,b,D-$o(y,t)),k=u(h,R);w.push(B.jsx("div",{className:Mf(am,Mx(R)&&"".concat(am,"--current"),Cb(R,t)&&"".concat(am,"--weekend")),children:B.jsx("abbr",{"aria-label":k,title:k,children:i(h,R).replace(".","")})},D))}return B.jsx($g,{className:Ob,count:7,onFocus:m,onMouseOver:m,children:w})}var ff=function(){return ff=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},ff.apply(this,arguments)},W0=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]]);return n},Z0="react-calendar__tile";function rO(r){var t=r.onClickWeekNumber,n=r.weekNumber,i=B.jsx("span",{children:n});if(t){var l=r.date,u=r.onClickWeekNumber,h=r.weekNumber,m=W0(r,["date","onClickWeekNumber","weekNumber"]);return B.jsx("button",ff({},m,{className:Z0,onClick:function(g){return u(h,l,g)},type:"button",children:i}))}else{r.date,r.onClickWeekNumber,r.weekNumber;var m=W0(r,["date","onClickWeekNumber","weekNumber"]);return B.jsx("div",ff({},m,{className:Z0,children:i}))}}function aO(r){var t=r.activeStartDate,n=r.calendarType,i=r.onClickWeekNumber,l=r.onMouseLeave,u=r.showFixedNumberOfWeeks,h=function(){if(u)return 6;var y=bb(t),_=$o(t,n),b=y-(7-_);return 1+Math.ceil(b/7)}(),m=function(){for(var y=ge(t),_=fi(t),b=Vf(t),w=[],D=0;D<h;D+=1)w.push(Vm(new Date(y,_,b+D*7),n));return w}(),g=m.map(function(y){return Ax(y,n)});return B.jsx($g,{className:"react-calendar__month-view__weekNumbers",count:h,direction:"column",onFocus:l,onMouseOver:l,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:g.map(function(y,_){var b=m[_];if(!b)throw new Error("date is not defined");return B.jsx(rO,{date:b,onClickWeekNumber:i,weekNumber:y},y)})})}var Gm=function(){return Gm=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},Gm.apply(this,arguments)},iO=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]]);return n};function sO(r){if(r)for(var t=0,n=Object.entries(sx);t<n.length;t++){var i=n[t],l=i[0],u=i[1];if(u.includes(r))return l}return rn.ISO_8601}function lO(r){var t=r.activeStartDate,n=r.locale,i=r.onMouseLeave,l=r.showFixedNumberOfWeeks,u=r.calendarType,h=u===void 0?sO(n):u,m=r.formatShortWeekday,g=r.formatWeekday,y=r.onClickWeekNumber,_=r.showWeekNumbers,b=iO(r,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function w(){return B.jsx(nO,{calendarType:h,formatShortWeekday:m,formatWeekday:g,locale:n,onMouseLeave:i})}function D(){return _?B.jsx(aO,{activeStartDate:t,calendarType:h,onClickWeekNumber:y,onMouseLeave:i,showFixedNumberOfWeeks:l}):null}function R(){return B.jsx(eO,Gm({calendarType:h},b))}var k="react-calendar__month-view";return B.jsx("div",{className:Mf(k,_?"".concat(k,"--weekNumbers"):""),children:B.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[D(),B.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[w(),R()]})]})})}var rl=function(){return rl=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},rl.apply(this,arguments)},Pc="react-calendar",Yc=["century","decade","year","month"],oO=["decade","year","month","day"],Xg=new Date;Xg.setFullYear(1,0,1);Xg.setHours(0,0,0,0);var uO=new Date(864e13);function Po(r){return r instanceof Date?r:new Date(r)}function Ib(r,t){return Yc.slice(Yc.indexOf(r),Yc.indexOf(t)+1)}function cO(r,t,n){var i=Ib(t,n);return i.indexOf(r)!==-1}function Wg(r,t,n){return r&&cO(r,t,n)?r:n}function Nb(r){var t=Yc.indexOf(r);return oO[t]}function fO(r,t){var n=Array.isArray(r)?r[t]:r;if(!n)return null;var i=Po(n);if(Number.isNaN(i.getTime()))throw new Error("Invalid date: ".concat(r));return i}function Mb(r,t){var n=r.value,i=r.minDate,l=r.maxDate,u=r.maxDetail,h=fO(n,t);if(!h)return null;var m=Nb(u),g=function(){switch(t){case 0:return $i(m,h);case 1:return Ab(m,h);default:throw new Error("Invalid index value: ".concat(t))}}();return Lx(g,i,l)}var Zg=function(r){return Mb(r,0)},Vb=function(r){return Mb(r,1)},hO=function(r){return[Zg,Vb].map(function(t){return t(r)})};function Pb(r){var t=r.maxDate,n=r.maxDetail,i=r.minDate,l=r.minDetail,u=r.value,h=r.view,m=Wg(h,l,n),g=Zg({value:u,minDate:i,maxDate:t,maxDetail:n})||new Date;return $i(m,g)}function dO(r){var t=r.activeStartDate,n=r.defaultActiveStartDate,i=r.defaultValue,l=r.defaultView,u=r.maxDate,h=r.maxDetail,m=r.minDate,g=r.minDetail,y=r.value,_=r.view,b=Wg(_,g,h),w=t||n;return w?$i(b,w):Pb({maxDate:u,maxDetail:h,minDate:m,minDetail:g,value:y||i,view:_||l})}function im(r){return r&&(!Array.isArray(r)||r.length===1)}function Lc(r,t){return r instanceof Date&&t instanceof Date&&r.getTime()===t.getTime()}var mO=F.forwardRef(function(t,n){var i=t.activeStartDate,l=t.allowPartialRange,u=t.calendarType,h=t.className,m=t.defaultActiveStartDate,g=t.defaultValue,y=t.defaultView,_=t.formatDay,b=t.formatLongDate,w=t.formatMonth,D=t.formatMonthYear,R=t.formatShortWeekday,k=t.formatWeekday,L=t.formatYear,K=t.goToRangeStartOnSelect,rt=K===void 0?!0:K,nt=t.inputRef,it=t.locale,ut=t.maxDate,gt=ut===void 0?uO:ut,M=t.maxDetail,A=M===void 0?"month":M,C=t.minDate,N=C===void 0?Xg:C,P=t.minDetail,U=P===void 0?"century":P,x=t.navigationAriaLabel,dt=t.navigationAriaLive,Dt=t.navigationLabel,G=t.next2AriaLabel,st=t.next2Label,mt=t.nextAriaLabel,Ct=t.nextLabel,I=t.onActiveStartDateChange,Z=t.onChange,ot=t.onClickDay,at=t.onClickDecade,yt=t.onClickMonth,xt=t.onClickWeekNumber,_t=t.onClickYear,ce=t.onDrillDown,Ft=t.onDrillUp,Ie=t.onViewChange,Vn=t.prev2AriaLabel,bn=t.prev2Label,Pn=t.prevAriaLabel,Jn=t.prevLabel,ae=t.returnValue,tr=ae===void 0?"start":ae,Ye=t.selectRange,Ge=t.showDoubleView,is=t.showFixedNumberOfWeeks,_a=t.showNavigation,Ea=_a===void 0?!0:_a,Ur=t.showNeighboringCentury,Sl=t.showNeighboringDecade,jr=t.showNeighboringMonth,di=jr===void 0?!0:jr,ss=t.showWeekNumbers,fe=t.tileClassName,Qt=t.tileContent,hn=t.tileDisabled,Se=t.value,mi=t.view,ls=F.useState(m),zr=ls[0],Ln=ls[1],mr=F.useState(null),wn=mr[0],Br=mr[1],gr=F.useState(Array.isArray(g)?g.map(function(St){return St!==null?Po(St):null}):g!=null?Po(g):null),qr=gr[0],gi=gr[1],Ta=F.useState(y),er=Ta[0],kn=Ta[1],Ae=i||zr||dO({activeStartDate:i,defaultActiveStartDate:m,defaultValue:g,defaultView:y,maxDate:gt,maxDetail:A,minDate:N,minDetail:U,value:Se,view:mi}),oe=function(){var St=function(){return Ye&&im(qr)?qr:Se!==void 0?Se:qr}();return St?Array.isArray(St)?St.map(function(Vt){return Vt!==null?Po(Vt):null}):St!==null?Po(St):null:null}(),yr=Nb(A),Yt=Wg(mi||er,U,A),Qe=Ib(U,A),pr=Ye?wn:null,ba=Qe.indexOf(Yt)<Qe.length-1,ie=Qe.indexOf(Yt)>0,ve=F.useCallback(function(St){var Vt=function(){switch(tr){case"start":return Zg;case"end":return Vb;case"range":return hO;default:throw new Error("Invalid returnValue.")}}();return Vt({maxDate:gt,maxDetail:A,minDate:N,value:St})},[gt,A,N,tr]),he=F.useCallback(function(St,Vt){Ln(St);var Ot={action:Vt,activeStartDate:St,value:oe,view:Yt};I&&!Lc(Ae,St)&&I(Ot)},[Ae,I,oe,Yt]),Ke=F.useCallback(function(St,Vt){var Ot=function(){switch(Yt){case"century":return at;case"decade":return _t;case"year":return yt;case"month":return ot;default:throw new Error("Invalid view: ".concat(Yt,"."))}}();Ot&&Ot(St,Vt)},[ot,at,yt,_t,Yt]),Hr=F.useCallback(function(St,Vt){if(ba){Ke(St,Vt);var Ot=Qe[Qe.indexOf(Yt)+1];if(!Ot)throw new Error("Attempted to drill down from the lowest view.");Ln(St),kn(Ot);var $e={action:"drillDown",activeStartDate:St,value:oe,view:Ot};I&&!Lc(Ae,St)&&I($e),Ie&&Yt!==Ot&&Ie($e),ce&&ce($e)}},[Ae,ba,I,Ke,ce,Ie,oe,Yt,Qe]),yi=F.useCallback(function(){if(ie){var St=Qe[Qe.indexOf(Yt)-1];if(!St)throw new Error("Attempted to drill up from the highest view.");var Vt=$i(St,Ae);Ln(Vt),kn(St);var Ot={action:"drillUp",activeStartDate:Vt,value:oe,view:St};I&&!Lc(Ae,Vt)&&I(Ot),Ie&&Yt!==St&&Ie(Ot),Ft&&Ft(Ot)}},[Ae,ie,I,Ft,Ie,oe,Yt,Qe]),Un=F.useCallback(function(St,Vt){var Ot=oe;Ke(St,Vt);var $e=Ye&&!im(Ot),Ue;if(Ye)if($e)Ue=$i(yr,St);else{if(!Ot)throw new Error("previousValue is required");if(Array.isArray(Ot))throw new Error("previousValue must not be an array");Ue=Ix(yr,Ot,St)}else Ue=ve(St);var dn=!Ye||$e||rt?Pb({maxDate:gt,maxDetail:A,minDate:N,minDetail:U,value:Ue,view:Yt}):null;Vt.persist(),Ln(dn),gi(Ue);var ir={action:"onChange",activeStartDate:dn,value:Ue,view:Yt};if(I&&!Lc(Ae,dn)&&I(ir),Z)if(Ye){var us=im(Ue);if(!us)Z(Ue||null,Vt);else if(l){if(Array.isArray(Ue))throw new Error("value must not be an array");Z([Ue||null,null],Vt)}}else Z(Ue||null,Vt)},[Ae,l,ve,rt,gt,A,N,U,I,Z,Ke,Ye,oe,yr,Yt]);function os(St){Br(St)}function nr(){Br(null)}F.useImperativeHandle(n,function(){return{activeStartDate:Ae,drillDown:Hr,drillUp:yi,onChange:Un,setActiveStartDate:he,value:oe,view:Yt}},[Ae,Hr,yi,Un,he,oe,Yt]);function rr(St){var Vt=St?Sb(Yt,Ae):$i(Yt,Ae),Ot=ba?Hr:Un,$e={activeStartDate:Vt,hover:pr,locale:it,maxDate:gt,minDate:N,onClick:Ot,onMouseOver:Ye?os:void 0,tileClassName:fe,tileContent:Qt,tileDisabled:hn,value:oe,valueType:yr};switch(Yt){case"century":return B.jsx(Hx,rl({formatYear:L,showNeighboringCentury:Ur},$e));case"decade":return B.jsx(Qx,rl({formatYear:L,showNeighboringDecade:Sl},$e));case"year":return B.jsx(Zx,rl({formatMonth:w,formatMonthYear:D},$e));case"month":return B.jsx(lO,rl({calendarType:u,formatDay:_,formatLongDate:b,formatShortWeekday:R,formatWeekday:k,onClickWeekNumber:xt,onMouseLeave:Ye?nr:void 0,showFixedNumberOfWeeks:typeof is<"u"?is:Ge,showNeighboringMonth:di,showWeekNumbers:ss},$e));default:throw new Error("Invalid view: ".concat(Yt,"."))}}function ar(){return Ea?B.jsx(Vx,{activeStartDate:Ae,drillUp:yi,formatMonthYear:D,formatYear:L,locale:it,maxDate:gt,minDate:N,navigationAriaLabel:x,navigationAriaLive:dt,navigationLabel:Dt,next2AriaLabel:G,next2Label:st,nextAriaLabel:mt,nextLabel:Ct,prev2AriaLabel:Vn,prev2Label:bn,prevAriaLabel:Pn,prevLabel:Jn,setActiveStartDate:he,showDoubleView:Ge,view:Yt,views:Qe}):null}var jn=Array.isArray(oe)?oe:[oe];return B.jsxs("div",{className:Mf(Pc,Ye&&jn.length===1&&"".concat(Pc,"--selectRange"),Ge&&"".concat(Pc,"--doubleView"),h),ref:nt,children:[ar(),B.jsxs("div",{className:"".concat(Pc,"__viewContainer"),onBlur:Ye?nr:void 0,onMouseLeave:Ye?nr:void 0,children:[rr(),Ge?rr(!0):null]})]})});const Lb=6048e5,gO=864e5,J0=Symbol.for("constructDateFrom");function li(r,t){return typeof r=="function"?r(t):r&&typeof r=="object"&&J0 in r?r[J0](t):r instanceof Date?new r.constructor(t):new Date(t)}function dr(r,t){return li(t||r,r)}let yO={};function zf(){return yO}function Wo(r,t){var m,g,y,_;const n=zf(),i=(t==null?void 0:t.weekStartsOn)??((g=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((_=(y=n.locale)==null?void 0:y.options)==null?void 0:_.weekStartsOn)??0,l=dr(r,t==null?void 0:t.in),u=l.getDay(),h=(u<i?7:0)+u-i;return l.setDate(l.getDate()-h),l.setHours(0,0,0,0),l}function hf(r,t){return Wo(r,{...t,weekStartsOn:1})}function kb(r,t){const n=dr(r,t==null?void 0:t.in),i=n.getFullYear(),l=li(n,0);l.setFullYear(i+1,0,4),l.setHours(0,0,0,0);const u=hf(l),h=li(n,0);h.setFullYear(i,0,4),h.setHours(0,0,0,0);const m=hf(h);return n.getTime()>=u.getTime()?i+1:n.getTime()>=m.getTime()?i:i-1}function tE(r){const t=dr(r),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+r-+n}function pO(r,...t){const n=li.bind(null,t.find(i=>typeof i=="object"));return t.map(n)}function eE(r,t){const n=dr(r,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function vO(r,t,n){const[i,l]=pO(n==null?void 0:n.in,r,t),u=eE(i),h=eE(l),m=+u-tE(u),g=+h-tE(h);return Math.round((m-g)/gO)}function _O(r,t){const n=kb(r,t),i=li(r,0);return i.setFullYear(n,0,4),i.setHours(0,0,0,0),hf(i)}function EO(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function TO(r){return!(!EO(r)&&typeof r!="number"||isNaN(+dr(r)))}function bO(r,t){const n=dr(r,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const wO={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},SO=(r,t,n)=>{let i;const l=wO[r];return typeof l=="string"?i=l:t===1?i=l.one:i=l.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function sm(r){return(t={})=>{const n=t.width?String(t.width):r.defaultWidth;return r.formats[n]||r.formats[r.defaultWidth]}}const AO={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},RO={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},DO={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},CO={date:sm({formats:AO,defaultWidth:"full"}),time:sm({formats:RO,defaultWidth:"full"}),dateTime:sm({formats:DO,defaultWidth:"full"})},xO={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},OO=(r,t,n,i)=>xO[r];function Co(r){return(t,n)=>{const i=n!=null&&n.context?String(n.context):"standalone";let l;if(i==="formatting"&&r.formattingValues){const h=r.defaultFormattingWidth||r.defaultWidth,m=n!=null&&n.width?String(n.width):h;l=r.formattingValues[m]||r.formattingValues[h]}else{const h=r.defaultWidth,m=n!=null&&n.width?String(n.width):r.defaultWidth;l=r.values[m]||r.values[h]}const u=r.argumentCallback?r.argumentCallback(t):t;return l[u]}}const IO={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},NO={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},MO={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},VO={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},PO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},LO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},kO=(r,t)=>{const n=Number(r),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},UO={ordinalNumber:kO,era:Co({values:IO,defaultWidth:"wide"}),quarter:Co({values:NO,defaultWidth:"wide",argumentCallback:r=>r-1}),month:Co({values:MO,defaultWidth:"wide"}),day:Co({values:VO,defaultWidth:"wide"}),dayPeriod:Co({values:PO,defaultWidth:"wide",formattingValues:LO,defaultFormattingWidth:"wide"})};function xo(r){return(t,n={})=>{const i=n.width,l=i&&r.matchPatterns[i]||r.matchPatterns[r.defaultMatchWidth],u=t.match(l);if(!u)return null;const h=u[0],m=i&&r.parsePatterns[i]||r.parsePatterns[r.defaultParseWidth],g=Array.isArray(m)?zO(m,b=>b.test(h)):jO(m,b=>b.test(h));let y;y=r.valueCallback?r.valueCallback(g):g,y=n.valueCallback?n.valueCallback(y):y;const _=t.slice(h.length);return{value:y,rest:_}}}function jO(r,t){for(const n in r)if(Object.prototype.hasOwnProperty.call(r,n)&&t(r[n]))return n}function zO(r,t){for(let n=0;n<r.length;n++)if(t(r[n]))return n}function BO(r){return(t,n={})=>{const i=t.match(r.matchPattern);if(!i)return null;const l=i[0],u=t.match(r.parsePattern);if(!u)return null;let h=r.valueCallback?r.valueCallback(u[0]):u[0];h=n.valueCallback?n.valueCallback(h):h;const m=t.slice(l.length);return{value:h,rest:m}}}const qO=/^(\d+)(th|st|nd|rd)?/i,HO=/\d+/i,FO={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},YO={any:[/^b/i,/^(a|c)/i]},GO={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},QO={any:[/1/i,/2/i,/3/i,/4/i]},KO={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},$O={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},XO={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},WO={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ZO={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},JO={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},tI={ordinalNumber:BO({matchPattern:qO,parsePattern:HO,valueCallback:r=>parseInt(r,10)}),era:xo({matchPatterns:FO,defaultMatchWidth:"wide",parsePatterns:YO,defaultParseWidth:"any"}),quarter:xo({matchPatterns:GO,defaultMatchWidth:"wide",parsePatterns:QO,defaultParseWidth:"any",valueCallback:r=>r+1}),month:xo({matchPatterns:KO,defaultMatchWidth:"wide",parsePatterns:$O,defaultParseWidth:"any"}),day:xo({matchPatterns:XO,defaultMatchWidth:"wide",parsePatterns:WO,defaultParseWidth:"any"}),dayPeriod:xo({matchPatterns:ZO,defaultMatchWidth:"any",parsePatterns:JO,defaultParseWidth:"any"})},eI={code:"en-US",formatDistance:SO,formatLong:CO,formatRelative:OO,localize:UO,match:tI,options:{weekStartsOn:0,firstWeekContainsDate:1}};function nI(r,t){const n=dr(r,t==null?void 0:t.in);return vO(n,bO(n))+1}function rI(r,t){const n=dr(r,t==null?void 0:t.in),i=+hf(n)-+_O(n);return Math.round(i/Lb)+1}function Ub(r,t){var _,b,w,D;const n=dr(r,t==null?void 0:t.in),i=n.getFullYear(),l=zf(),u=(t==null?void 0:t.firstWeekContainsDate)??((b=(_=t==null?void 0:t.locale)==null?void 0:_.options)==null?void 0:b.firstWeekContainsDate)??l.firstWeekContainsDate??((D=(w=l.locale)==null?void 0:w.options)==null?void 0:D.firstWeekContainsDate)??1,h=li((t==null?void 0:t.in)||r,0);h.setFullYear(i+1,0,u),h.setHours(0,0,0,0);const m=Wo(h,t),g=li((t==null?void 0:t.in)||r,0);g.setFullYear(i,0,u),g.setHours(0,0,0,0);const y=Wo(g,t);return+n>=+m?i+1:+n>=+y?i:i-1}function aI(r,t){var m,g,y,_;const n=zf(),i=(t==null?void 0:t.firstWeekContainsDate)??((g=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??n.firstWeekContainsDate??((_=(y=n.locale)==null?void 0:y.options)==null?void 0:_.firstWeekContainsDate)??1,l=Ub(r,t),u=li((t==null?void 0:t.in)||r,0);return u.setFullYear(l,0,i),u.setHours(0,0,0,0),Wo(u,t)}function iI(r,t){const n=dr(r,t==null?void 0:t.in),i=+Wo(n,t)-+aI(n,t);return Math.round(i/Lb)+1}function Jt(r,t){const n=r<0?"-":"",i=Math.abs(r).toString().padStart(t,"0");return n+i}const Ka={y(r,t){const n=r.getFullYear(),i=n>0?n:1-n;return Jt(t==="yy"?i%100:i,t.length)},M(r,t){const n=r.getMonth();return t==="M"?String(n+1):Jt(n+1,2)},d(r,t){return Jt(r.getDate(),t.length)},a(r,t){const n=r.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(r,t){return Jt(r.getHours()%12||12,t.length)},H(r,t){return Jt(r.getHours(),t.length)},m(r,t){return Jt(r.getMinutes(),t.length)},s(r,t){return Jt(r.getSeconds(),t.length)},S(r,t){const n=t.length,i=r.getMilliseconds(),l=Math.trunc(i*Math.pow(10,n-3));return Jt(l,t.length)}},Ws={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},nE={G:function(r,t,n){const i=r.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(r,t,n){if(t==="yo"){const i=r.getFullYear(),l=i>0?i:1-i;return n.ordinalNumber(l,{unit:"year"})}return Ka.y(r,t)},Y:function(r,t,n,i){const l=Ub(r,i),u=l>0?l:1-l;if(t==="YY"){const h=u%100;return Jt(h,2)}return t==="Yo"?n.ordinalNumber(u,{unit:"year"}):Jt(u,t.length)},R:function(r,t){const n=kb(r);return Jt(n,t.length)},u:function(r,t){const n=r.getFullYear();return Jt(n,t.length)},Q:function(r,t,n){const i=Math.ceil((r.getMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return Jt(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(r,t,n){const i=Math.ceil((r.getMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return Jt(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(r,t,n){const i=r.getMonth();switch(t){case"M":case"MM":return Ka.M(r,t);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(r,t,n){const i=r.getMonth();switch(t){case"L":return String(i+1);case"LL":return Jt(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(r,t,n,i){const l=iI(r,i);return t==="wo"?n.ordinalNumber(l,{unit:"week"}):Jt(l,t.length)},I:function(r,t,n){const i=rI(r);return t==="Io"?n.ordinalNumber(i,{unit:"week"}):Jt(i,t.length)},d:function(r,t,n){return t==="do"?n.ordinalNumber(r.getDate(),{unit:"date"}):Ka.d(r,t)},D:function(r,t,n){const i=nI(r);return t==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):Jt(i,t.length)},E:function(r,t,n){const i=r.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(r,t,n,i){const l=r.getDay(),u=(l-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(u);case"ee":return Jt(u,2);case"eo":return n.ordinalNumber(u,{unit:"day"});case"eee":return n.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(l,{width:"short",context:"formatting"});case"eeee":default:return n.day(l,{width:"wide",context:"formatting"})}},c:function(r,t,n,i){const l=r.getDay(),u=(l-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(u);case"cc":return Jt(u,t.length);case"co":return n.ordinalNumber(u,{unit:"day"});case"ccc":return n.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(l,{width:"narrow",context:"standalone"});case"cccccc":return n.day(l,{width:"short",context:"standalone"});case"cccc":default:return n.day(l,{width:"wide",context:"standalone"})}},i:function(r,t,n){const i=r.getDay(),l=i===0?7:i;switch(t){case"i":return String(l);case"ii":return Jt(l,t.length);case"io":return n.ordinalNumber(l,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(r,t,n){const l=r.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(r,t,n){const i=r.getHours();let l;switch(i===12?l=Ws.noon:i===0?l=Ws.midnight:l=i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(r,t,n){const i=r.getHours();let l;switch(i>=17?l=Ws.evening:i>=12?l=Ws.afternoon:i>=4?l=Ws.morning:l=Ws.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(r,t,n){if(t==="ho"){let i=r.getHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return Ka.h(r,t)},H:function(r,t,n){return t==="Ho"?n.ordinalNumber(r.getHours(),{unit:"hour"}):Ka.H(r,t)},K:function(r,t,n){const i=r.getHours()%12;return t==="Ko"?n.ordinalNumber(i,{unit:"hour"}):Jt(i,t.length)},k:function(r,t,n){let i=r.getHours();return i===0&&(i=24),t==="ko"?n.ordinalNumber(i,{unit:"hour"}):Jt(i,t.length)},m:function(r,t,n){return t==="mo"?n.ordinalNumber(r.getMinutes(),{unit:"minute"}):Ka.m(r,t)},s:function(r,t,n){return t==="so"?n.ordinalNumber(r.getSeconds(),{unit:"second"}):Ka.s(r,t)},S:function(r,t){return Ka.S(r,t)},X:function(r,t,n){const i=r.getTimezoneOffset();if(i===0)return"Z";switch(t){case"X":return aE(i);case"XXXX":case"XX":return Gi(i);case"XXXXX":case"XXX":default:return Gi(i,":")}},x:function(r,t,n){const i=r.getTimezoneOffset();switch(t){case"x":return aE(i);case"xxxx":case"xx":return Gi(i);case"xxxxx":case"xxx":default:return Gi(i,":")}},O:function(r,t,n){const i=r.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+rE(i,":");case"OOOO":default:return"GMT"+Gi(i,":")}},z:function(r,t,n){const i=r.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+rE(i,":");case"zzzz":default:return"GMT"+Gi(i,":")}},t:function(r,t,n){const i=Math.trunc(+r/1e3);return Jt(i,t.length)},T:function(r,t,n){return Jt(+r,t.length)}};function rE(r,t=""){const n=r>0?"-":"+",i=Math.abs(r),l=Math.trunc(i/60),u=i%60;return u===0?n+String(l):n+String(l)+t+Jt(u,2)}function aE(r,t){return r%60===0?(r>0?"-":"+")+Jt(Math.abs(r)/60,2):Gi(r,t)}function Gi(r,t=""){const n=r>0?"-":"+",i=Math.abs(r),l=Jt(Math.trunc(i/60),2),u=Jt(i%60,2);return n+l+t+u}const iE=(r,t)=>{switch(r){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},jb=(r,t)=>{switch(r){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},sI=(r,t)=>{const n=r.match(/(P+)(p+)?/)||[],i=n[1],l=n[2];if(!l)return iE(r,t);let u;switch(i){case"P":u=t.dateTime({width:"short"});break;case"PP":u=t.dateTime({width:"medium"});break;case"PPP":u=t.dateTime({width:"long"});break;case"PPPP":default:u=t.dateTime({width:"full"});break}return u.replace("{{date}}",iE(i,t)).replace("{{time}}",jb(l,t))},lI={p:jb,P:sI},oI=/^D+$/,uI=/^Y+$/,cI=["D","DD","YY","YYYY"];function fI(r){return oI.test(r)}function hI(r){return uI.test(r)}function dI(r,t,n){const i=mI(r,t,n);if(console.warn(i),cI.includes(r))throw new RangeError(i)}function mI(r,t,n){const i=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${t}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const gI=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,yI=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,pI=/^'([^]*?)'?$/,vI=/''/g,_I=/[a-zA-Z]/;function sE(r,t,n){var _,b,w,D;const i=zf(),l=i.locale??eI,u=i.firstWeekContainsDate??((b=(_=i.locale)==null?void 0:_.options)==null?void 0:b.firstWeekContainsDate)??1,h=i.weekStartsOn??((D=(w=i.locale)==null?void 0:w.options)==null?void 0:D.weekStartsOn)??0,m=dr(r,n==null?void 0:n.in);if(!TO(m))throw new RangeError("Invalid time value");let g=t.match(yI).map(R=>{const k=R[0];if(k==="p"||k==="P"){const L=lI[k];return L(R,l.formatLong)}return R}).join("").match(gI).map(R=>{if(R==="''")return{isToken:!1,value:"'"};const k=R[0];if(k==="'")return{isToken:!1,value:EI(R)};if(nE[k])return{isToken:!0,value:R};if(k.match(_I))throw new RangeError("Format string contains an unescaped latin alphabet character `"+k+"`");return{isToken:!1,value:R}});l.localize.preprocessor&&(g=l.localize.preprocessor(m,g));const y={firstWeekContainsDate:u,weekStartsOn:h,locale:l};return g.map(R=>{if(!R.isToken)return R.value;const k=R.value;(hI(k)||fI(k))&&dI(k,t,String(r));const L=nE[k[0]];return L(m,k,l.localize,y)}).join("")}function EI(r){const t=r.match(pI);return t?t[1].replace(vI,"'"):r}function lE(r,t,n,i=[]){const l={일:0,월:1,화:2,수:3,목:4,금:5,토:6};let u=[],h=new Date(r);for(;u.length<n;){const m=Object.keys(l).find(y=>l[y]===h.getDay()),g=h.toISOString().slice(0,10);t.includes(m)&&!i.includes(g)&&u.push({date:g,session:u.length+1}),h.setDate(h.getDate()+1)}return u}function TI(){const r=localStorage.getItem("studentId"),[t,n]=F.useState(null),[i,l]=F.useState({}),[u,h]=F.useState([]),[m,g]=F.useState([]),[y,_]=F.useState([]);return F.useEffect(()=>{if(!r)return;const b=Nm(Ki(Mn,"students",r),w=>{if(w.exists()){const D=w.data();n({id:w.id,...D})}});return(async()=>{const w=await ll(sl(Mn,"attendance")),D={};w.docs.forEach(R=>{D[R.id]=R.data()}),l(D)})(),(async()=>{const w=await ll(sl(Mn,"makeups"));h(w.docs.map(D=>({id:D.id,...D.data()})))})(),(async()=>{const w=await ll(sl(Mn,"holidays"));g(w.docs.map(D=>D.data().date))})(),()=>b()},[r]),F.useEffect(()=>{(async()=>{if(!t)return;const w=t.schedules.map(dt=>dt.day),D=w.length*4,R=D*10,k=[...m];let L=lE(t.startDate,w,R*2,k);const K=new Date(t.startDate).getDay();w.includes(K)&&(!L.length||L[0].date!==t.startDate)?(console.log(`✅ 첫날(${t.startDate})이 요일에 맞아서 추가됨`),L.unshift({date:t.startDate})):console.log(`ℹ️ 첫날(${t.startDate})은 이미 포함됨 or 요일 안 맞음`);const it=L.filter(dt=>!k.includes(dt.date)).map((dt,Dt)=>{var Ct;const G=(Ct=i==null?void 0:i[dt.date])==null?void 0:Ct[t.name];let st=(G==null?void 0:G.status)||"미정",mt=(G==null?void 0:G.time)||"";return{date:dt.date,status:st,time:mt,originalIndex:Dt}}),ut=u.filter(dt=>dt.name===t.name),gt=ut.filter(dt=>dt.type==="이월"),M=ut.filter(dt=>dt.type==="보강"),A=[];for(const dt of gt){const Dt=it.find(G=>G.date===dt.sourceDate);Dt&&(Dt.status="이월"),dt.date&&A.push({date:dt.date,status:"미정",time:"",originalIndex:-1})}for(const dt of M)dt.date&&!it.find(Dt=>Dt.date===dt.date&&Dt.status==="보강")&&A.push({date:dt.date,status:"보강",time:"",originalIndex:-1});let C=[...it,...A].sort((dt,Dt)=>dt.date.localeCompare(Dt.date));const N=new Set(C.map(dt=>dt.date+"-"+dt.originalIndex));let P=C.length>0?C.at(-1).date:t.startDate;for(;!(C.filter(G=>G.status!=="이월").length>=R);){const Dt=lE(P,w,1,k).find(G=>{const st=G.date+"-"+G.originalIndex;return!N.has(st)});if(!Dt)break;P=Dt.date,N.add(Dt.date+"-"+Dt.originalIndex),C.push({date:Dt.date,status:"미정",time:"",originalIndex:Dt.originalIndex})}const U=[];let x=1;for(let dt of C)U.push({...dt,session:dt.status==="이월"?"X":x++}),x>D&&(x=1);_(U)})()},[t,i,u,m]),t?B.jsxs("div",{style:{maxWidth:600,margin:"40px auto",textAlign:"center"},children:[B.jsx("h1",{children:"📅 출석 + 결제 루틴"}),B.jsx(mO,{tileContent:({date:b,view:w})=>{if(w!=="month")return null;const D=sE(b,"yyyy-MM-dd"),R=y.find(L=>L.date===D);let k;return(R==null?void 0:R.status)==="보강"?k="purple":(R==null?void 0:R.status)==="이월"?k="orange":(R==null?void 0:R.status)==="onTime"?k="#4caf50":(R==null?void 0:R.status)==="tardy"?k="#ff9800":(R==null?void 0:R.status)==="결석"?k="#f44336":m.includes(D)?k="red":R&&(k="#1565c0"),B.jsx("div",{style:{fontSize:12,color:k},children:R?`${R.session}회차`:""})},onClickDay:b=>{const w=sE(b,"yyyy-MM-dd"),D=y.find(R=>R.date===w);alert(D?`📅 ${w} → ${D.session}회차 (${D.status})`:`📅 ${w} → 출석 기록 없음`)}}),B.jsxs("p",{style:{marginTop:12,fontSize:14},children:["• 색상 설명:",B.jsx("br",{}),"출석(초록), 지각(주황), 결석(빨강), 보강(보라), 이월(주황), 휴일(빨강), 회차(파랑)"]})]}):B.jsx("p",{children:"로딩 중…"})}function bI(){var K,rt,nt;const r=localStorage.getItem("studentId"),[t,n]=F.useState(null),[i,l]=F.useState([]),[u,h]=F.useState(""),[m,g]=F.useState(!1),[y,_]=F.useState(0);F.useEffect(()=>{if(!r)return;const it=Nm(Ki(Mn,"students",r),gt=>{if(gt.exists()){const M=gt.data();n({id:gt.id,...M}),h(M.paymentMethod||""),g(M.paymentComplete||!1)}}),ut=Nm(Ki(Mn,"routines",r),gt=>{if(gt.exists()){const A=gt.data().lessons||[];l(A);const C=new Date().toISOString().slice(0,10),N={};A.forEach(x=>{const dt=x.routineNumber||1;N[dt]||(N[dt]=[]),N[dt].push(x)});const U=Object.values(N).sort((x,dt)=>x[0].routineNumber-dt[0].routineNumber).findIndex(x=>x.some(dt=>dt.date===C));_(U!==-1?U:0)}});return()=>{it(),ut()}},[r]);const b=async it=>{if(h(it),r&&k)try{await k2(Ki(Mn,"payments",`${r}_routine_${k}`),{studentId:r,routineNumber:k,paymentMethod:it,updatedAt:new Date().toISOString()},{merge:!0}),console.log("✅ 결제방법 저장 완료 (루틴별): ",it)}catch(ut){console.error("❌ 결제방법 저장 오류: ",ut)}};if(!t)return B.jsx("p",{children:"로딩 중…"});(K=t.schedules)!=null&&K.length&&t.schedules.length*4;const w={};i.forEach(it=>{const ut=it.routineNumber||1;w[ut]||(w[ut]=[]),w[ut].push(it)});const D=Object.values(w).sort((it,ut)=>it[0].routineNumber-ut[0].routineNumber),R=D[y]||[],k=R.length>0?R[0].routineNumber:y+1,L=(nt=(rt=D[y+1])==null?void 0:rt[0])==null?void 0:nt.date;return B.jsxs("div",{style:{maxWidth:800,margin:"0 auto",padding:16},children:[B.jsx("h3",{style:{fontWeight:"bold",marginBottom:8},children:"결제 방법 선택"}),B.jsxs("div",{style:{display:"flex",gap:8,marginBottom:24},children:[B.jsx("button",{className:"px-2 py-1 text-xs",onClick:()=>b("계좌이체"),style:{flex:1,padding:8,background:"#4caf50",color:"white",borderRadius:4},children:"계좌이체"}),B.jsx("button",{className:"px-2 py-1 text-xs",onClick:()=>b("결제선생"),style:{flex:1,padding:8,background:"#2196f3",color:"white",borderRadius:4},children:"결제선생"}),B.jsx("button",{className:"px-2 py-1 text-xs",onClick:()=>b("카드"),style:{flex:1,padding:8,background:"#f44336",color:"white",borderRadius:4},children:"카드"})]}),B.jsxs("p",{style:{fontSize:16,marginBottom:16},children:["현재 선택된 결제방법: ",u||"없음"]}),B.jsxs("h1",{style:{marginBottom:8},children:[t.name,"님의 수업 루틴 ",k]}),B.jsx("p",{style:{fontSize:18,marginBottom:24},children:m?"결제완료 되었습니다.":"아직 결제전입니다. 수업시작일 전에 결제 부탁드립니다."}),B.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:16},children:[B.jsx("thead",{children:B.jsxs("tr",{children:[B.jsx("th",{style:{border:"1px solid #ccc",padding:8},children:"회차"}),B.jsx("th",{style:{border:"1px solid #ccc",padding:8},children:"날짜"}),B.jsx("th",{style:{border:"1px solid #ccc",padding:8},children:"상태"}),B.jsx("th",{style:{border:"1px solid #ccc",padding:8},children:"시간"})]})}),B.jsxs("tbody",{children:[R.map((it,ut)=>B.jsxs("tr",{children:[B.jsx("td",{style:{border:"1px solid #ccc",padding:8,textAlign:"center"},children:it.session}),B.jsx("td",{style:{border:"1px solid #ccc",padding:8,textAlign:"center"},children:it.makeupDate?B.jsxs("div",{children:[B.jsx("s",{children:it.date})," ➔ ",B.jsx("span",{children:it.makeupDate})]}):it.date}),B.jsx("td",{style:{border:"1px solid #ccc",padding:8,textAlign:"center"},children:it.status}),B.jsx("td",{style:{border:"1px solid #ccc",padding:8,textAlign:"center"},children:it.time||"-"})]},ut)),R.length===0&&B.jsx("tr",{children:B.jsx("td",{colSpan:4,style:{textAlign:"center",padding:16,color:"#888"},children:"루틴 데이터가 없습니다."})})]})]}),B.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:24},children:[B.jsx("button",{onClick:()=>_(it=>Math.max(it-1,0)),disabled:y===0,style:{padding:"8px 16px",borderRadius:4,background:y===0?"#ccc":"#1565c0",color:"white",border:"none",cursor:y===0?"default":"pointer"},children:"이전"}),B.jsx("button",{onClick:()=>_(it=>Math.min(it+1,D.length-1)),disabled:y>=D.length-1,style:{padding:"8px 16px",borderRadius:4,background:y>=D.length-1?"#ccc":"#1565c0",color:"white",border:"none",cursor:y>=D.length-1?"default":"pointer"},children:"다음"})]}),B.jsx("p",{style:{fontSize:14},children:L?`다음 루틴 결제일: ${L} / 다음 수업시작일입니다. 수업시작일 전에 결제 부탁드립니다.`:"다음 루틴 시작일 정보를 불러오지 못했습니다."})]})}function wI(){return B.jsx("div",{children:B.jsx("h1",{children:"포인트 관리 페이지"})})}function SI(){const[r,t]=F.useState([]),[n,i]=F.useState(null),[l,u]=F.useState({});F.useEffect(()=>{(async()=>{const m=await ll(sl(Mn,"notices"));t(m.docs.map(g=>({id:g.id,title:g.data().title,date:g.data().date})))})()},[]);const h=async m=>{if(n===m){i(null);return}if(!l[m]){const g=await lb(Ki(Mn,"notices",m));g.exists()&&u(y=>({...y,[m]:g.data().content}))}i(m)};return B.jsxs("div",{style:{maxWidth:600,margin:"0 auto",padding:16},children:[B.jsx("h1",{children:"공지사항"}),B.jsxs("ul",{style:{listStyle:"none",padding:0},children:[r.map(m=>B.jsxs("li",{style:{margin:"8px 0",borderBottom:"1px solid #ccc",paddingBottom:8},children:[B.jsxs("div",{onClick:()=>h(m.id),style:{cursor:"pointer",fontWeight:"bold"},children:[m.title," (",m.date,")"]}),n===m.id&&B.jsx("div",{style:{marginTop:8,whiteSpace:"pre-wrap"},children:l[m.id]||"불러오는 중..."})]},m.id)),r.length===0&&B.jsx("p",{children:"등록된 공지사항이 없습니다."})]})]})}function AI(){const[r,t]=F.useState([]);return F.useEffect(()=>{(async()=>{const n=await ll(sl(Mn,"holidays"));t(n.docs.map(i=>({id:i.id,...i.data()})))})()},[]),B.jsxs("div",{style:{maxWidth:400,margin:"0 auto",padding:16},children:[B.jsx("h1",{children:"휴일 목록"}),B.jsxs("ul",{children:[r.map(n=>B.jsxs("li",{style:{margin:"4px 0"},children:[n.name," — ",B.jsx("span",{style:{color:"red"},children:n.date})," "]},n.id)),r.length===0&&B.jsx("p",{children:"등록된 휴일이 없습니다."})]})]})}function RI(){const{id:r}=XS(),[t,n]=F.useState(null);return F.useEffect(()=>{(async()=>{const i=await lb(Ki(Mn,"notices",r));i.exists()&&n({id:i.id,...i.data()})})()},[r]),t?B.jsxs("div",{style:{maxWidth:600,margin:"0 auto",padding:16},children:[B.jsx("h1",{children:t.title}),B.jsxs("p",{children:[B.jsx("strong",{children:"날짜:"})," ",t.date]}),B.jsx("div",{style:{whiteSpace:"pre-wrap",marginTop:12},children:t.content}),B.jsx("p",{style:{marginTop:24},children:B.jsx($a,{to:"/notices",children:"← 목록으로 돌아가기"})})]}):B.jsx("p",{children:"공지사항을 불러오는 중…"})}function DI(){const[r,t]=F.useState(!!localStorage.getItem("studentId")),[n,i]=F.useState(!1),[l,u]=F.useState("");F.useEffect(()=>{const m=()=>{t(!!localStorage.getItem("studentId"))};return window.addEventListener("storage",m),()=>{window.removeEventListener("storage",m)}},[]);async function h(){const m=localStorage.getItem("studentId");if(!m||l.length!==4){alert("PIN은 4자리 숫자로 입력해야 합니다.");return}try{await U2(Ki(Mn,"students",m),{pin:l}),alert("PIN이 성공적으로 변경되었습니다."),i(!1),u("")}catch(g){console.error(g),alert("PIN 변경 중 오류가 발생했습니다.")}}return B.jsx(PA,{children:B.jsxs("div",{children:[r&&B.jsxs("nav",{style:{padding:10,textAlign:"center"},children:[B.jsx($a,{to:"/attendance",style:{marginRight:10},children:"출석"}),B.jsx($a,{to:"/payment",style:{marginRight:10},children:"결제"}),B.jsx($a,{to:"/points",style:{marginRight:10},children:"포인트"}),B.jsx($a,{to:"/notices",style:{marginRight:10},children:"공지사항"}),B.jsx($a,{to:"/holidays",style:{marginRight:10},children:"휴일"}),B.jsx("button",{onClick:()=>i(!0),style:{marginLeft:10},children:"PIN 변경"}),B.jsx("button",{onClick:()=>{localStorage.clear(),t(!1),window.location.href="/parent-web/#/login"},style:{marginLeft:10},children:"로그아웃"}),n&&B.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center"},children:B.jsxs("div",{style:{background:"#fff",padding:20,borderRadius:8,width:300},children:[B.jsx("h2",{children:"PIN 변경"}),B.jsx("input",{type:"text",maxLength:4,value:l,onChange:m=>u(m.target.value.replace(/\D/g,"")),placeholder:"새 PIN (4자리)",style:{width:"100%",padding:8,margin:"12px 0"}}),B.jsxs("div",{style:{textAlign:"right"},children:[B.jsx("button",{onClick:()=>i(!1),style:{marginRight:8},children:"취소"}),B.jsx("button",{onClick:h,children:"변경"})]})]})})]}),B.jsxs(fA,{children:[B.jsx(fa,{path:"/login",element:B.jsx(B2,{onLoginSuccess:()=>t(!0)})}),B.jsx(fa,{path:"/",element:r?B.jsx(Qa,{to:"/attendance"}):B.jsx(Qa,{to:"/login"})}),B.jsx(fa,{path:"/attendance",element:r?B.jsx(TI,{}):B.jsx(Qa,{to:"/login"})}),B.jsx(fa,{path:"/payment",element:r?B.jsx(bI,{}):B.jsx(Qa,{to:"/login"})}),B.jsx(fa,{path:"/points",element:r?B.jsx(wI,{}):B.jsx(Qa,{to:"/login"})}),B.jsx(fa,{path:"/notices",element:r?B.jsx(SI,{}):B.jsx(Qa,{to:"/login"})}),B.jsx(fa,{path:"/notices/:id",element:r?B.jsx(RI,{}):B.jsx(Qa,{to:"/login"})}),B.jsx(fa,{path:"/holidays",element:r?B.jsx(AI,{}):B.jsx(Qa,{to:"/login"})})]})]})})}ES.createRoot(document.getElementById("root")).render(B.jsx(F.StrictMode,{children:B.jsx(DI,{})}));
