(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function mS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Ud={exports:{}},Ao={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c_;function gS(){if(c_)return Ao;c_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,l,u){var h=null;if(u!==void 0&&(h=""+u),l.key!==void 0&&(h=""+l.key),"key"in l){u={};for(var m in l)m!=="key"&&(u[m]=l[m])}else u=l;return l=u.ref,{$$typeof:r,type:i,key:h,ref:l!==void 0?l:null,props:u}}return Ao.Fragment=t,Ao.jsx=n,Ao.jsxs=n,Ao}var f_;function yS(){return f_||(f_=1,Ud.exports=gS()),Ud.exports}var U=yS(),jd={exports:{}},It={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h_;function pS(){if(h_)return It;h_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.iterator;function w(N){return N===null||typeof N!="object"?null:(N=b&&N[b]||N["@@iterator"],typeof N=="function"?N:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,j={};function L(N,J,lt){this.props=N,this.context=J,this.refs=j,this.updater=lt||x}L.prototype.isReactComponent={},L.prototype.setState=function(N,J){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,J,"setState")},L.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function G(){}G.prototype=L.prototype;function rt(N,J,lt){this.props=N,this.context=J,this.refs=j,this.updater=lt||x}var W=rt.prototype=new G;W.constructor=rt,D(W,L.prototype),W.isPureReactComponent=!0;var ot=Array.isArray,ut={H:null,A:null,T:null,S:null,V:null},pt=Object.prototype.hasOwnProperty;function M(N,J,lt,at,mt,Ct){return lt=Ct.ref,{$$typeof:r,type:N,key:J,ref:lt!==void 0?lt:null,props:Ct}}function A(N,J){return M(N.type,J,void 0,void 0,void 0,N.props)}function R(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function I(N){var J={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(lt){return J[lt]})}var V=/\/+/g;function k(N,J){return typeof N=="object"&&N!==null&&N.key!=null?I(""+N.key):J.toString(36)}function C(){}function yt(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(C,C):(N.status="pending",N.then(function(J){N.status==="pending"&&(N.status="fulfilled",N.value=J)},function(J){N.status==="pending"&&(N.status="rejected",N.reason=J)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function At(N,J,lt,at,mt){var Ct=typeof N;(Ct==="undefined"||Ct==="boolean")&&(N=null);var _t=!1;if(N===null)_t=!0;else switch(Ct){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(N.$$typeof){case r:case t:_t=!0;break;case _:return _t=N._init,At(_t(N._payload),J,lt,at,mt)}}if(_t)return mt=mt(N),_t=at===""?"."+k(N,0):at,ot(mt)?(lt="",_t!=null&&(lt=_t.replace(V,"$&/")+"/"),At(mt,J,lt,"",function(Ie){return Ie})):mt!=null&&(R(mt)&&(mt=A(mt,lt+(mt.key==null||N&&N.key===mt.key?"":(""+mt.key).replace(V,"$&/")+"/")+_t)),J.push(mt)),1;_t=0;var ce=at===""?".":at+":";if(ot(N))for(var Ft=0;Ft<N.length;Ft++)at=N[Ft],Ct=ce+k(at,Ft),_t+=At(at,J,lt,Ct,mt);else if(Ft=w(N),typeof Ft=="function")for(N=Ft.call(N),Ft=0;!(at=N.next()).done;)at=at.value,Ct=ce+k(at,Ft++),_t+=At(at,J,lt,Ct,mt);else if(Ct==="object"){if(typeof N.then=="function")return At(yt(N),J,lt,at,mt);throw J=String(N),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return _t}function Y(N,J,lt){if(N==null)return N;var at=[],mt=0;return At(N,at,"","",function(Ct){return J.call(lt,Ct,mt++)}),at}function it(N){if(N._status===-1){var J=N._result;J=J(),J.then(function(lt){(N._status===0||N._status===-1)&&(N._status=1,N._result=lt)},function(lt){(N._status===0||N._status===-1)&&(N._status=2,N._result=lt)}),N._status===-1&&(N._status=0,N._result=J)}if(N._status===1)return N._result.default;throw N._result}var dt=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function xt(){}return It.Children={map:Y,forEach:function(N,J,lt){Y(N,function(){J.apply(this,arguments)},lt)},count:function(N){var J=0;return Y(N,function(){J++}),J},toArray:function(N){return Y(N,function(J){return J})||[]},only:function(N){if(!R(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},It.Component=L,It.Fragment=n,It.Profiler=l,It.PureComponent=rt,It.StrictMode=i,It.Suspense=g,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ut,It.__COMPILER_RUNTIME={__proto__:null,c:function(N){return ut.H.useMemoCache(N)}},It.cache=function(N){return function(){return N.apply(null,arguments)}},It.cloneElement=function(N,J,lt){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var at=D({},N.props),mt=N.key,Ct=void 0;if(J!=null)for(_t in J.ref!==void 0&&(Ct=void 0),J.key!==void 0&&(mt=""+J.key),J)!pt.call(J,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&J.ref===void 0||(at[_t]=J[_t]);var _t=arguments.length-2;if(_t===1)at.children=lt;else if(1<_t){for(var ce=Array(_t),Ft=0;Ft<_t;Ft++)ce[Ft]=arguments[Ft+2];at.children=ce}return M(N.type,mt,void 0,void 0,Ct,at)},It.createContext=function(N){return N={$$typeof:h,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},It.createElement=function(N,J,lt){var at,mt={},Ct=null;if(J!=null)for(at in J.key!==void 0&&(Ct=""+J.key),J)pt.call(J,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(mt[at]=J[at]);var _t=arguments.length-2;if(_t===1)mt.children=lt;else if(1<_t){for(var ce=Array(_t),Ft=0;Ft<_t;Ft++)ce[Ft]=arguments[Ft+2];mt.children=ce}if(N&&N.defaultProps)for(at in _t=N.defaultProps,_t)mt[at]===void 0&&(mt[at]=_t[at]);return M(N,Ct,void 0,void 0,null,mt)},It.createRef=function(){return{current:null}},It.forwardRef=function(N){return{$$typeof:m,render:N}},It.isValidElement=R,It.lazy=function(N){return{$$typeof:_,_payload:{_status:-1,_result:N},_init:it}},It.memo=function(N,J){return{$$typeof:y,type:N,compare:J===void 0?null:J}},It.startTransition=function(N){var J=ut.T,lt={};ut.T=lt;try{var at=N(),mt=ut.S;mt!==null&&mt(lt,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(xt,dt)}catch(Ct){dt(Ct)}finally{ut.T=J}},It.unstable_useCacheRefresh=function(){return ut.H.useCacheRefresh()},It.use=function(N){return ut.H.use(N)},It.useActionState=function(N,J,lt){return ut.H.useActionState(N,J,lt)},It.useCallback=function(N,J){return ut.H.useCallback(N,J)},It.useContext=function(N){return ut.H.useContext(N)},It.useDebugValue=function(){},It.useDeferredValue=function(N,J){return ut.H.useDeferredValue(N,J)},It.useEffect=function(N,J,lt){var at=ut.H;if(typeof lt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return at.useEffect(N,J)},It.useId=function(){return ut.H.useId()},It.useImperativeHandle=function(N,J,lt){return ut.H.useImperativeHandle(N,J,lt)},It.useInsertionEffect=function(N,J){return ut.H.useInsertionEffect(N,J)},It.useLayoutEffect=function(N,J){return ut.H.useLayoutEffect(N,J)},It.useMemo=function(N,J){return ut.H.useMemo(N,J)},It.useOptimistic=function(N,J){return ut.H.useOptimistic(N,J)},It.useReducer=function(N,J,lt){return ut.H.useReducer(N,J,lt)},It.useRef=function(N){return ut.H.useRef(N)},It.useState=function(N){return ut.H.useState(N)},It.useSyncExternalStore=function(N,J,lt){return ut.H.useSyncExternalStore(N,J,lt)},It.useTransition=function(){return ut.H.useTransition()},It.version="19.1.0",It}var d_;function Qm(){return d_||(d_=1,jd.exports=pS()),jd.exports}var q=Qm(),zd={exports:{}},Ro={},Bd={exports:{}},qd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m_;function vS(){return m_||(m_=1,function(r){function t(Y,it){var dt=Y.length;Y.push(it);t:for(;0<dt;){var xt=dt-1>>>1,N=Y[xt];if(0<l(N,it))Y[xt]=it,Y[dt]=N,dt=xt;else break t}}function n(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var it=Y[0],dt=Y.pop();if(dt!==it){Y[0]=dt;t:for(var xt=0,N=Y.length,J=N>>>1;xt<J;){var lt=2*(xt+1)-1,at=Y[lt],mt=lt+1,Ct=Y[mt];if(0>l(at,dt))mt<N&&0>l(Ct,at)?(Y[xt]=Ct,Y[mt]=dt,xt=mt):(Y[xt]=at,Y[lt]=dt,xt=lt);else if(mt<N&&0>l(Ct,dt))Y[xt]=Ct,Y[mt]=dt,xt=mt;else break t}}return it}function l(Y,it){var dt=Y.sortIndex-it.sortIndex;return dt!==0?dt:Y.id-it.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var g=[],y=[],_=1,b=null,w=3,x=!1,D=!1,j=!1,L=!1,G=typeof setTimeout=="function"?setTimeout:null,rt=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function ot(Y){for(var it=n(y);it!==null;){if(it.callback===null)i(y);else if(it.startTime<=Y)i(y),it.sortIndex=it.expirationTime,t(g,it);else break;it=n(y)}}function ut(Y){if(j=!1,ot(Y),!D)if(n(g)!==null)D=!0,pt||(pt=!0,k());else{var it=n(y);it!==null&&At(ut,it.startTime-Y)}}var pt=!1,M=-1,A=5,R=-1;function I(){return L?!0:!(r.unstable_now()-R<A)}function V(){if(L=!1,pt){var Y=r.unstable_now();R=Y;var it=!0;try{t:{D=!1,j&&(j=!1,rt(M),M=-1),x=!0;var dt=w;try{e:{for(ot(Y),b=n(g);b!==null&&!(b.expirationTime>Y&&I());){var xt=b.callback;if(typeof xt=="function"){b.callback=null,w=b.priorityLevel;var N=xt(b.expirationTime<=Y);if(Y=r.unstable_now(),typeof N=="function"){b.callback=N,ot(Y),it=!0;break e}b===n(g)&&i(g),ot(Y)}else i(g);b=n(g)}if(b!==null)it=!0;else{var J=n(y);J!==null&&At(ut,J.startTime-Y),it=!1}}break t}finally{b=null,w=dt,x=!1}it=void 0}}finally{it?k():pt=!1}}}var k;if(typeof W=="function")k=function(){W(V)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,yt=C.port2;C.port1.onmessage=V,k=function(){yt.postMessage(null)}}else k=function(){G(V,0)};function At(Y,it){M=G(function(){Y(r.unstable_now())},it)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(Y){switch(w){case 1:case 2:case 3:var it=3;break;default:it=w}var dt=w;w=it;try{return Y()}finally{w=dt}},r.unstable_requestPaint=function(){L=!0},r.unstable_runWithPriority=function(Y,it){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var dt=w;w=Y;try{return it()}finally{w=dt}},r.unstable_scheduleCallback=function(Y,it,dt){var xt=r.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?xt+dt:xt):dt=xt,Y){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=dt+N,Y={id:_++,callback:it,priorityLevel:Y,startTime:dt,expirationTime:N,sortIndex:-1},dt>xt?(Y.sortIndex=dt,t(y,Y),n(g)===null&&Y===n(y)&&(j?(rt(M),M=-1):j=!0,At(ut,dt-xt))):(Y.sortIndex=N,t(g,Y),D||x||(D=!0,pt||(pt=!0,k()))),Y},r.unstable_shouldYield=I,r.unstable_wrapCallback=function(Y){var it=w;return function(){var dt=w;w=it;try{return Y.apply(this,arguments)}finally{w=dt}}}}(qd)),qd}var g_;function _S(){return g_||(g_=1,Bd.exports=vS()),Bd.exports}var Hd={exports:{}},ln={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y_;function ES(){if(y_)return ln;y_=1;var r=Qm();function t(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)y+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(g,y,_){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:g,containerInfo:y,implementation:_}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ln.createPortal=function(g,y){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(g,y,null,_)},ln.flushSync=function(g){var y=h.T,_=i.p;try{if(h.T=null,i.p=2,g)return g()}finally{h.T=y,i.p=_,i.d.f()}},ln.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,i.d.C(g,y))},ln.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},ln.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var _=y.as,b=m(_,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,x=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;_==="style"?i.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:x}):_==="script"&&i.d.X(g,{crossOrigin:b,integrity:w,fetchPriority:x,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},ln.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var _=m(y.as,y.crossOrigin);i.d.M(g,{crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&i.d.M(g)},ln.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var _=y.as,b=m(_,y.crossOrigin);i.d.L(g,_,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},ln.preloadModule=function(g,y){if(typeof g=="string")if(y){var _=m(y.as,y.crossOrigin);i.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else i.d.m(g)},ln.requestFormReset=function(g){i.d.r(g)},ln.unstable_batchedUpdates=function(g,y){return g(y)},ln.useFormState=function(g,y,_){return h.H.useFormState(g,y,_)},ln.useFormStatus=function(){return h.H.useHostTransitionStatus()},ln.version="19.1.0",ln}var p_;function TS(){if(p_)return Hd.exports;p_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Hd.exports=ES(),Hd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v_;function bS(){if(v_)return Ro;v_=1;var r=_S(),t=Qm(),n=TS();function i(e){var a="https://react.dev/errors/"+e;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)a+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var a=e,s=e;if(e.alternate)for(;a.return;)a=a.return;else{e=a;do a=e,(a.flags&4098)!==0&&(s=a.return),e=a.return;while(e)}return a.tag===3?s:null}function h(e){if(e.tag===13){var a=e.memoizedState;if(a===null&&(e=e.alternate,e!==null&&(a=e.memoizedState)),a!==null)return a.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(i(188))}function g(e){var a=e.alternate;if(!a){if(a=u(e),a===null)throw Error(i(188));return a!==e?null:e}for(var s=e,o=a;;){var f=s.return;if(f===null)break;var d=f.alternate;if(d===null){if(o=f.return,o!==null){s=o;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===s)return m(f),e;if(d===o)return m(f),a;d=d.sibling}throw Error(i(188))}if(s.return!==o.return)s=f,o=d;else{for(var E=!1,T=f.child;T;){if(T===s){E=!0,s=f,o=d;break}if(T===o){E=!0,o=f,s=d;break}T=T.sibling}if(!E){for(T=d.child;T;){if(T===s){E=!0,s=d,o=f;break}if(T===o){E=!0,o=d,s=f;break}T=T.sibling}if(!E)throw Error(i(189))}}if(s.alternate!==o)throw Error(i(190))}if(s.tag!==3)throw Error(i(188));return s.stateNode.current===s?e:a}function y(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e;for(e=e.child;e!==null;){if(a=y(e),a!==null)return a;e=e.sibling}return null}var _=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),rt=Symbol.for("react.consumer"),W=Symbol.for("react.context"),ot=Symbol.for("react.forward_ref"),ut=Symbol.for("react.suspense"),pt=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function yt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case D:return"Fragment";case L:return"Profiler";case j:return"StrictMode";case ut:return"Suspense";case pt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case x:return"Portal";case W:return(e.displayName||"Context")+".Provider";case rt:return(e._context.displayName||"Context")+".Consumer";case ot:var a=e.render;return e=e.displayName,e||(e=a.displayName||a.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case M:return a=e.displayName||null,a!==null?a:yt(e.type)||"Memo";case A:a=e._payload,e=e._init;try{return yt(e(a))}catch{}}return null}var At=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},xt=[],N=-1;function J(e){return{current:e}}function lt(e){0>N||(e.current=xt[N],xt[N]=null,N--)}function at(e,a){N++,xt[N]=e.current,e.current=a}var mt=J(null),Ct=J(null),_t=J(null),ce=J(null);function Ft(e,a){switch(at(_t,a),at(Ct,e),at(mt,null),a.nodeType){case 9:case 11:e=(e=a.documentElement)&&(e=e.namespaceURI)?Uv(e):0;break;default:if(e=a.tagName,a=a.namespaceURI)a=Uv(a),e=jv(a,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}lt(mt),at(mt,e)}function Ie(){lt(mt),lt(Ct),lt(_t)}function Vn(e){e.memoizedState!==null&&at(ce,e);var a=mt.current,s=jv(a,e.type);a!==s&&(at(Ct,e),at(mt,s))}function wn(e){Ct.current===e&&(lt(mt),lt(Ct)),ce.current===e&&(lt(ce),Eo._currentValue=dt)}var Pn=Object.prototype.hasOwnProperty,Jn=r.unstable_scheduleCallback,ae=r.unstable_cancelCallback,tr=r.unstable_shouldYield,Ye=r.unstable_requestPaint,Ge=r.unstable_now,ss=r.unstable_getCurrentPriorityLevel,Ta=r.unstable_ImmediatePriority,ba=r.unstable_UserBlockingPriority,Ur=r.unstable_NormalPriority,Al=r.unstable_LowPriority,jr=r.unstable_IdlePriority,di=r.log,ls=r.unstable_setDisableYieldValue,fe=null,Qt=null;function dn(e){if(typeof di=="function"&&ls(e),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(fe,e)}catch{}}var Se=Math.clz32?Math.clz32:zr,mi=Math.log,os=Math.LN2;function zr(e){return e>>>=0,e===0?32:31-(mi(e)/os|0)|0}var Ln=256,mr=4194304;function Sn(e){var a=e&42;if(a!==0)return a;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Br(e,a,s){var o=e.pendingLanes;if(o===0)return 0;var f=0,d=e.suspendedLanes,E=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~d,o!==0?f=Sn(o):(E&=T,E!==0?f=Sn(E):s||(s=T&~e,s!==0&&(f=Sn(s))))):(T=o&~d,T!==0?f=Sn(T):E!==0?f=Sn(E):s||(s=o&~e,s!==0&&(f=Sn(s)))),f===0?0:a!==0&&a!==f&&(a&d)===0&&(d=f&-f,s=a&-a,d>=s||d===32&&(s&4194048)!==0)?a:f}function gr(e,a){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&a)===0}function qr(e,a){switch(e){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gi(){var e=Ln;return Ln<<=1,(Ln&4194048)===0&&(Ln=256),e}function wa(){var e=mr;return mr<<=1,(mr&62914560)===0&&(mr=4194304),e}function er(e){for(var a=[],s=0;31>s;s++)a.push(e);return a}function kn(e,a){e.pendingLanes|=a,a!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ae(e,a,s,o,f,d){var E=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var T=e.entanglements,O=e.expirationTimes,F=e.hiddenUpdates;for(s=E&~s;0<s;){var $=31-Se(s),tt=1<<$;T[$]=0,O[$]=-1;var Q=F[$];if(Q!==null)for(F[$]=null,$=0;$<Q.length;$++){var K=Q[$];K!==null&&(K.lane&=-536870913)}s&=~tt}o!==0&&oe(e,o,0),d!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=d&~(E&~a))}function oe(e,a,s){e.pendingLanes|=a,e.suspendedLanes&=~a;var o=31-Se(a);e.entangledLanes|=a,e.entanglements[o]=e.entanglements[o]|1073741824|s&4194090}function yr(e,a){var s=e.entangledLanes|=a;for(e=e.entanglements;s;){var o=31-Se(s),f=1<<o;f&a|e[o]&a&&(e[o]|=a),s&=~f}}function Yt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Qe(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function pr(){var e=it.p;return e!==0?e:(e=window.event,e===void 0?32:a_(e.type))}function Sa(e,a){var s=it.p;try{return it.p=e,a()}finally{it.p=s}}var ie=Math.random().toString(36).slice(2),ve="__reactFiber$"+ie,he="__reactProps$"+ie,Ke="__reactContainer$"+ie,Hr="__reactEvents$"+ie,yi="__reactListeners$"+ie,Un="__reactHandles$"+ie,us="__reactResources$"+ie,nr="__reactMarker$"+ie;function rr(e){delete e[ve],delete e[he],delete e[Hr],delete e[yi],delete e[Un]}function ar(e){var a=e[ve];if(a)return a;for(var s=e.parentNode;s;){if(a=s[Ke]||s[ve]){if(s=a.alternate,a.child!==null||s!==null&&s.child!==null)for(e=Hv(e);e!==null;){if(s=e[ve])return s;e=Hv(e)}return a}e=s,s=e.parentNode}return null}function jn(e){if(e=e[ve]||e[Ke]){var a=e.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return e}return null}function St(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e.stateNode;throw Error(i(33))}function Vt(e){var a=e[us];return a||(a=e[us]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ot(e){e[nr]=!0}var Xe=new Set,Ue={};function mn(e,a){ir(e,a),ir(e+"Capture",a)}function ir(e,a){for(Ue[e]=a,e=0;e<a.length;e++)Xe.add(a[e])}var cs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fu={},pi={};function hu(e){return Pn.call(pi,e)?!0:Pn.call(fu,e)?!1:cs.test(e)?pi[e]=!0:(fu[e]=!0,!1)}function Aa(e,a,s){if(hu(a))if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(a);return;case"boolean":var o=a.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(a);return}}e.setAttribute(a,""+s)}}function vr(e,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttribute(a,""+s)}}function $e(e,a,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(a,s,""+o)}}var vi,du;function Fr(e){if(vi===void 0)try{throw Error()}catch(s){var a=s.stack.trim().match(/\n( *(at )?)/);vi=a&&a[1]||"",du=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vi+e+du}var fs=!1;function hs(e,a){if(!e||fs)return"";fs=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(a){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(K){var Q=K}Reflect.construct(e,[],tt)}else{try{tt.call()}catch(K){Q=K}e.call(tt.prototype)}}else{try{throw Error()}catch(K){Q=K}(tt=e())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(K){if(K&&Q&&typeof K.stack=="string")return[K.stack,Q.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),E=d[0],T=d[1];if(E&&T){var O=E.split(`
`),F=T.split(`
`);for(f=o=0;o<O.length&&!O[o].includes("DetermineComponentFrameRoot");)o++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(o===O.length||f===F.length)for(o=O.length-1,f=F.length-1;1<=o&&0<=f&&O[o]!==F[f];)f--;for(;1<=o&&0<=f;o--,f--)if(O[o]!==F[f]){if(o!==1||f!==1)do if(o--,f--,0>f||O[o]!==F[f]){var $=`
`+O[o].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=o&&0<=f);break}}}finally{fs=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Fr(s):""}function Rl(e){switch(e.tag){case 26:case 27:case 5:return Fr(e.type);case 16:return Fr("Lazy");case 13:return Fr("Suspense");case 19:return Fr("SuspenseList");case 0:case 15:return hs(e.type,!1);case 11:return hs(e.type.render,!1);case 1:return hs(e.type,!0);case 31:return Fr("Activity");default:return""}}function ds(e){try{var a="";do a+=Rl(e),e=e.return;while(e);return a}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function gn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Dl(e){var a=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function qf(e){var a=Dl(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,a),o=""+e[a];if(!e.hasOwnProperty(a)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,d=s.set;return Object.defineProperty(e,a,{configurable:!0,get:function(){return f.call(this)},set:function(E){o=""+E,d.call(this,E)}}),Object.defineProperty(e,a,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(E){o=""+E},stopTracking:function(){e._valueTracker=null,delete e[a]}}}}function ms(e){e._valueTracker||(e._valueTracker=qf(e))}function xl(e){if(!e)return!1;var a=e._valueTracker;if(!a)return!0;var s=a.getValue(),o="";return e&&(o=Dl(e)?e.checked?"true":"false":e.value),e=o,e!==s?(a.setValue(e),!0):!1}function _i(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Hf=/[\n"\\]/g;function Re(e){return e.replace(Hf,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function An(e,a,s,o,f,d,E,T){e.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.type=E:e.removeAttribute("type"),a!=null?E==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+gn(a)):e.value!==""+gn(a)&&(e.value=""+gn(a)):E!=="submit"&&E!=="reset"||e.removeAttribute("value"),a!=null?Ra(e,E,gn(a)):s!=null?Ra(e,E,gn(s)):o!=null&&e.removeAttribute("value"),f==null&&d!=null&&(e.defaultChecked=!!d),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+gn(T):e.removeAttribute("name")}function Ei(e,a,s,o,f,d,E,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),a!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||a!=null))return;s=s!=null?""+gn(s):"",a=a!=null?""+gn(a):s,T||a===e.value||(e.value=a),e.defaultValue=a}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(e.name=E)}function Ra(e,a,s){a==="number"&&_i(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Yr(e,a,s,o){if(e=e.options,a){a={};for(var f=0;f<s.length;f++)a["$"+s[f]]=!0;for(s=0;s<e.length;s++)f=a.hasOwnProperty("$"+e[s].value),e[s].selected!==f&&(e[s].selected=f),f&&o&&(e[s].defaultSelected=!0)}else{for(s=""+gn(s),a=null,f=0;f<e.length;f++){if(e[f].value===s){e[f].selected=!0,o&&(e[f].defaultSelected=!0);return}a!==null||e[f].disabled||(a=e[f])}a!==null&&(a.selected=!0)}}function te(e,a,s){if(a!=null&&(a=""+gn(a),a!==e.value&&(e.value=a),s==null)){e.defaultValue!==a&&(e.defaultValue=a);return}e.defaultValue=s!=null?""+gn(s):""}function Ti(e,a,s,o){if(a==null){if(o!=null){if(s!=null)throw Error(i(92));if(At(o)){if(1<o.length)throw Error(i(93));o=o[0]}s=o}s==null&&(s=""),a=s}s=gn(a),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o)}function zn(e,a){if(a){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=a;return}}e.textContent=a}var bi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mu(e,a,s){var o=a.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="":o?e.setProperty(a,s):typeof s!="number"||s===0||bi.has(a)?a==="float"?e.cssFloat=s:e[a]=(""+s).trim():e[a]=s+"px"}function Cl(e,a,s){if(a!=null&&typeof a!="object")throw Error(i(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||a!=null&&a.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var f in a)o=a[f],a.hasOwnProperty(f)&&s[f]!==o&&mu(e,f,o)}else for(var d in a)a.hasOwnProperty(d)&&mu(e,d,a[d])}function Ol(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ff=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Yf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function gs(e){return Yf.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Gr=null;function Bn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qr=null,Kr=null;function Il(e){var a=jn(e);if(a&&(e=a.stateNode)){var s=e[he]||null;t:switch(e=a.stateNode,a.type){case"input":if(An(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),a=s.name,s.type==="radio"&&a!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Re(""+a)+'"][type="radio"]'),a=0;a<s.length;a++){var o=s[a];if(o!==e&&o.form===e.form){var f=o[he]||null;if(!f)throw Error(i(90));An(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(a=0;a<s.length;a++)o=s[a],o.form===e.form&&xl(o)}break t;case"textarea":te(e,s.value,s.defaultValue);break t;case"select":a=s.value,a!=null&&Yr(e,!!s.multiple,a,!1)}}}var _r=!1;function gu(e,a,s){if(_r)return e(a,s);_r=!0;try{var o=e(a);return o}finally{if(_r=!1,(Qr!==null||Kr!==null)&&(oc(),Qr&&(a=Qr,e=Kr,Kr=Qr=null,Il(a),e)))for(a=0;a<e.length;a++)Il(e[a])}}function wi(e,a){var s=e.stateNode;if(s===null)return null;var o=s[he]||null;if(o===null)return null;s=o[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(i(231,a,typeof s));return s}var sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qn=!1;if(sr)try{var Si={};Object.defineProperty(Si,"passive",{get:function(){qn=!0}}),window.addEventListener("test",Si,Si),window.removeEventListener("test",Si,Si)}catch{qn=!1}var Er=null,Da=null,Xr=null;function Nl(){if(Xr)return Xr;var e,a=Da,s=a.length,o,f="value"in Er?Er.value:Er.textContent,d=f.length;for(e=0;e<s&&a[e]===f[e];e++);var E=s-e;for(o=1;o<=E&&a[s-o]===f[d-o];o++);return Xr=f.slice(e,1<o?1-o:void 0)}function Tr(e){var a=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&a===13&&(e=13)):e=a,e===10&&(e=13),32<=e||e===13?e:0}function br(){return!0}function Ml(){return!1}function je(e){function a(s,o,f,d,E){this._reactName=s,this._targetInst=f,this.type=o,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(s=e[T],this[T]=s?s(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?br:Ml,this.isPropagationStopped=Ml,this}return _(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=br)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=br)},persist:function(){},isPersistent:br}),a}var Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ys=je(Xt),Ai=_({},Xt,{view:0,detail:0}),yu=je(Ai),ps,vs,wr,Ri=_({},Ai,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ci,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wr&&(wr&&e.type==="mousemove"?(ps=e.screenX-wr.screenX,vs=e.screenY-wr.screenY):vs=ps=0,wr=e),ps)},movementY:function(e){return"movementY"in e?e.movementY:vs}}),Hn=je(Ri),pu=_({},Ri,{dataTransfer:0}),Gf=je(pu),Di=_({},Ai,{relatedTarget:0}),_s=je(Di),Vl=_({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0}),Es=je(Vl),vu=_({},Xt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ts=je(vu),Qf=_({},Xt,{data:0}),Pl=je(Qf),xi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ll(e){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(e):(e=Eu[e])?!!a[e]:!1}function Ci(){return Ll}var Tu=_({},Ai,{key:function(e){if(e.key){var a=xi[e.key]||e.key;if(a!=="Unidentified")return a}return e.type==="keypress"?(e=Tr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_u[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ci,charCode:function(e){return e.type==="keypress"?Tr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Tr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bs=je(Tu),bu=_({},Ri,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kl=je(bu),$r=_({},Ai,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ci}),wu=je($r),Su=_({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Au=je(Su),Ru=_({},Ri,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ws=je(Ru),yn=_({},Xt,{newState:0,oldState:0}),Du=je(yn),xu=[9,13,27,32],Sr=sr&&"CompositionEvent"in window,c=null;sr&&"documentMode"in document&&(c=document.documentMode);var p=sr&&"TextEvent"in window&&!c,v=sr&&(!Sr||c&&8<c&&11>=c),S=" ",B=!1;function X(e,a){switch(e){case"keyup":return xu.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function st(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var jt=!1;function Ne(e,a){switch(e){case"compositionend":return st(a);case"keypress":return a.which!==32?null:(B=!0,S);case"textInput":return e=a.data,e===S&&B?null:e;default:return null}}function zt(e,a){if(jt)return e==="compositionend"||!Sr&&X(e,a)?(e=Nl(),Xr=Da=Er=null,jt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return v&&a.locale!=="ko"?null:a.data;default:return null}}var ze={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Me(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a==="input"?!!ze[e.type]:a==="textarea"}function Wr(e,a,s,o){Qr?Kr?Kr.push(o):Kr=[o]:Qr=o,a=mc(a,"onChange"),0<a.length&&(s=new ys("onChange","change",null,s,o),e.push({event:s,listeners:a}))}var We=null,Ar=null;function Ul(e){Mv(e,0)}function Cu(e){var a=St(e);if(xl(a))return e}function ty(e,a){if(e==="change")return a}var ey=!1;if(sr){var Kf;if(sr){var Xf="oninput"in document;if(!Xf){var ny=document.createElement("div");ny.setAttribute("oninput","return;"),Xf=typeof ny.oninput=="function"}Kf=Xf}else Kf=!1;ey=Kf&&(!document.documentMode||9<document.documentMode)}function ry(){We&&(We.detachEvent("onpropertychange",ay),Ar=We=null)}function ay(e){if(e.propertyName==="value"&&Cu(Ar)){var a=[];Wr(a,Ar,e,Bn(e)),gu(Ul,a)}}function Fb(e,a,s){e==="focusin"?(ry(),We=a,Ar=s,We.attachEvent("onpropertychange",ay)):e==="focusout"&&ry()}function Yb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Cu(Ar)}function Gb(e,a){if(e==="click")return Cu(a)}function Qb(e,a){if(e==="input"||e==="change")return Cu(a)}function Kb(e,a){return e===a&&(e!==0||1/e===1/a)||e!==e&&a!==a}var Rn=typeof Object.is=="function"?Object.is:Kb;function jl(e,a){if(Rn(e,a))return!0;if(typeof e!="object"||e===null||typeof a!="object"||a===null)return!1;var s=Object.keys(e),o=Object.keys(a);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var f=s[o];if(!Pn.call(a,f)||!Rn(e[f],a[f]))return!1}return!0}function iy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sy(e,a){var s=iy(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=a&&o>=a)return{node:s,offset:a-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=iy(s)}}function ly(e,a){return e&&a?e===a?!0:e&&e.nodeType===3?!1:a&&a.nodeType===3?ly(e,a.parentNode):"contains"in e?e.contains(a):e.compareDocumentPosition?!!(e.compareDocumentPosition(a)&16):!1:!1}function oy(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var a=_i(e.document);a instanceof e.HTMLIFrameElement;){try{var s=typeof a.contentWindow.location.href=="string"}catch{s=!1}if(s)e=a.contentWindow;else break;a=_i(e.document)}return a}function $f(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a&&(a==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||a==="textarea"||e.contentEditable==="true")}var Xb=sr&&"documentMode"in document&&11>=document.documentMode,Ss=null,Wf=null,zl=null,Zf=!1;function uy(e,a,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Zf||Ss==null||Ss!==_i(o)||(o=Ss,"selectionStart"in o&&$f(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),zl&&jl(zl,o)||(zl=o,o=mc(Wf,"onSelect"),0<o.length&&(a=new ys("onSelect","select",null,a,s),e.push({event:a,listeners:o}),a.target=Ss)))}function Oi(e,a){var s={};return s[e.toLowerCase()]=a.toLowerCase(),s["Webkit"+e]="webkit"+a,s["Moz"+e]="moz"+a,s}var As={animationend:Oi("Animation","AnimationEnd"),animationiteration:Oi("Animation","AnimationIteration"),animationstart:Oi("Animation","AnimationStart"),transitionrun:Oi("Transition","TransitionRun"),transitionstart:Oi("Transition","TransitionStart"),transitioncancel:Oi("Transition","TransitionCancel"),transitionend:Oi("Transition","TransitionEnd")},Jf={},cy={};sr&&(cy=document.createElement("div").style,"AnimationEvent"in window||(delete As.animationend.animation,delete As.animationiteration.animation,delete As.animationstart.animation),"TransitionEvent"in window||delete As.transitionend.transition);function Ii(e){if(Jf[e])return Jf[e];if(!As[e])return e;var a=As[e],s;for(s in a)if(a.hasOwnProperty(s)&&s in cy)return Jf[e]=a[s];return e}var fy=Ii("animationend"),hy=Ii("animationiteration"),dy=Ii("animationstart"),$b=Ii("transitionrun"),Wb=Ii("transitionstart"),Zb=Ii("transitioncancel"),my=Ii("transitionend"),gy=new Map,th="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");th.push("scrollEnd");function lr(e,a){gy.set(e,a),mn(a,[e])}var yy=new WeakMap;function Fn(e,a){if(typeof e=="object"&&e!==null){var s=yy.get(e);return s!==void 0?s:(a={value:e,source:a,stack:ds(a)},yy.set(e,a),a)}return{value:e,source:a,stack:ds(a)}}var Yn=[],Rs=0,eh=0;function Ou(){for(var e=Rs,a=eh=Rs=0;a<e;){var s=Yn[a];Yn[a++]=null;var o=Yn[a];Yn[a++]=null;var f=Yn[a];Yn[a++]=null;var d=Yn[a];if(Yn[a++]=null,o!==null&&f!==null){var E=o.pending;E===null?f.next=f:(f.next=E.next,E.next=f),o.pending=f}d!==0&&py(s,f,d)}}function Iu(e,a,s,o){Yn[Rs++]=e,Yn[Rs++]=a,Yn[Rs++]=s,Yn[Rs++]=o,eh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function nh(e,a,s,o){return Iu(e,a,s,o),Nu(e)}function Ds(e,a){return Iu(e,null,null,a),Nu(e)}function py(e,a,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var f=!1,d=e.return;d!==null;)d.childLanes|=s,o=d.alternate,o!==null&&(o.childLanes|=s),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(f=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,f&&a!==null&&(f=31-Se(s),e=d.hiddenUpdates,o=e[f],o===null?e[f]=[a]:o.push(a),a.lane=s|536870912),d):null}function Nu(e){if(50<fo)throw fo=0,od=null,Error(i(185));for(var a=e.return;a!==null;)e=a,a=e.return;return e.tag===3?e.stateNode:null}var xs={};function Jb(e,a,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(e,a,s,o){return new Jb(e,a,s,o)}function rh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zr(e,a){var s=e.alternate;return s===null?(s=Dn(e.tag,a,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=a,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,a=e.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function vy(e,a){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=a,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,a=s.dependencies,e.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),e}function Mu(e,a,s,o,f,d){var E=0;if(o=e,typeof e=="function")rh(e)&&(E=1);else if(typeof e=="string")E=eS(e,s,mt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=Dn(31,s,a,f),e.elementType=R,e.lanes=d,e;case D:return Ni(s.children,f,d,a);case j:E=8,f|=24;break;case L:return e=Dn(12,s,a,f|2),e.elementType=L,e.lanes=d,e;case ut:return e=Dn(13,s,a,f),e.elementType=ut,e.lanes=d,e;case pt:return e=Dn(19,s,a,f),e.elementType=pt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case G:case W:E=10;break t;case rt:E=9;break t;case ot:E=11;break t;case M:E=14;break t;case A:E=16,o=null;break t}E=29,s=Error(i(130,e===null?"null":typeof e,"")),o=null}return a=Dn(E,s,a,f),a.elementType=e,a.type=o,a.lanes=d,a}function Ni(e,a,s,o){return e=Dn(7,e,o,a),e.lanes=s,e}function ah(e,a,s){return e=Dn(6,e,null,a),e.lanes=s,e}function ih(e,a,s){return a=Dn(4,e.children!==null?e.children:[],e.key,a),a.lanes=s,a.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},a}var Cs=[],Os=0,Vu=null,Pu=0,Gn=[],Qn=0,Mi=null,Jr=1,ta="";function Vi(e,a){Cs[Os++]=Pu,Cs[Os++]=Vu,Vu=e,Pu=a}function _y(e,a,s){Gn[Qn++]=Jr,Gn[Qn++]=ta,Gn[Qn++]=Mi,Mi=e;var o=Jr;e=ta;var f=32-Se(o)-1;o&=~(1<<f),s+=1;var d=32-Se(a)+f;if(30<d){var E=f-f%5;d=(o&(1<<E)-1).toString(32),o>>=E,f-=E,Jr=1<<32-Se(a)+f|s<<f|o,ta=d+e}else Jr=1<<d|s<<f|o,ta=e}function sh(e){e.return!==null&&(Vi(e,1),_y(e,1,0))}function lh(e){for(;e===Vu;)Vu=Cs[--Os],Cs[Os]=null,Pu=Cs[--Os],Cs[Os]=null;for(;e===Mi;)Mi=Gn[--Qn],Gn[Qn]=null,ta=Gn[--Qn],Gn[Qn]=null,Jr=Gn[--Qn],Gn[Qn]=null}var pn=null,_e=null,Kt=!1,Pi=null,Rr=!1,oh=Error(i(519));function Li(e){var a=Error(i(418,""));throw Hl(Fn(a,e)),oh}function Ey(e){var a=e.stateNode,s=e.type,o=e.memoizedProps;switch(a[ve]=e,a[he]=o,s){case"dialog":kt("cancel",a),kt("close",a);break;case"iframe":case"object":case"embed":kt("load",a);break;case"video":case"audio":for(s=0;s<mo.length;s++)kt(mo[s],a);break;case"source":kt("error",a);break;case"img":case"image":case"link":kt("error",a),kt("load",a);break;case"details":kt("toggle",a);break;case"input":kt("invalid",a),Ei(a,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),ms(a);break;case"select":kt("invalid",a);break;case"textarea":kt("invalid",a),Ti(a,o.value,o.defaultValue,o.children),ms(a)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||a.textContent===""+s||o.suppressHydrationWarning===!0||kv(a.textContent,s)?(o.popover!=null&&(kt("beforetoggle",a),kt("toggle",a)),o.onScroll!=null&&kt("scroll",a),o.onScrollEnd!=null&&kt("scrollend",a),o.onClick!=null&&(a.onclick=gc),a=!0):a=!1,a||Li(e)}function Ty(e){for(pn=e.return;pn;)switch(pn.tag){case 5:case 13:Rr=!1;return;case 27:case 3:Rr=!0;return;default:pn=pn.return}}function Bl(e){if(e!==pn)return!1;if(!Kt)return Ty(e),Kt=!0,!1;var a=e.tag,s;if((s=a!==3&&a!==27)&&((s=a===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Sd(e.type,e.memoizedProps)),s=!s),s&&_e&&Li(e),Ty(e),a===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));t:{for(e=e.nextSibling,a=0;e;){if(e.nodeType===8)if(s=e.data,s==="/$"){if(a===0){_e=ur(e.nextSibling);break t}a--}else s!=="$"&&s!=="$!"&&s!=="$?"||a++;e=e.nextSibling}_e=null}}else a===27?(a=_e,Ha(e.type)?(e=xd,xd=null,_e=e):_e=a):_e=pn?ur(e.stateNode.nextSibling):null;return!0}function ql(){_e=pn=null,Kt=!1}function by(){var e=Pi;return e!==null&&(En===null?En=e:En.push.apply(En,e),Pi=null),e}function Hl(e){Pi===null?Pi=[e]:Pi.push(e)}var uh=J(null),ki=null,ea=null;function xa(e,a,s){at(uh,a._currentValue),a._currentValue=s}function na(e){e._currentValue=uh.current,lt(uh)}function ch(e,a,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&a)!==a?(e.childLanes|=a,o!==null&&(o.childLanes|=a)):o!==null&&(o.childLanes&a)!==a&&(o.childLanes|=a),e===s)break;e=e.return}}function fh(e,a,s,o){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var d=f.dependencies;if(d!==null){var E=f.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=f;for(var O=0;O<a.length;O++)if(T.context===a[O]){d.lanes|=s,T=d.alternate,T!==null&&(T.lanes|=s),ch(d.return,s,e),o||(E=null);break t}d=T.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(i(341));E.lanes|=s,d=E.alternate,d!==null&&(d.lanes|=s),ch(E,s,e),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===e){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function Fl(e,a,s,o){e=null;for(var f=a,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var T=f.type;Rn(f.pendingProps.value,E.value)||(e!==null?e.push(T):e=[T])}}else if(f===ce.current){if(E=f.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Eo):e=[Eo])}f=f.return}e!==null&&fh(a,e,s,o),a.flags|=262144}function Lu(e){for(e=e.firstContext;e!==null;){if(!Rn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ui(e){ki=e,ea=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function sn(e){return wy(ki,e)}function ku(e,a){return ki===null&&Ui(e),wy(e,a)}function wy(e,a){var s=a._currentValue;if(a={context:a,memoizedValue:s,next:null},ea===null){if(e===null)throw Error(i(308));ea=a,e.dependencies={lanes:0,firstContext:a},e.flags|=524288}else ea=ea.next=a;return s}var tw=typeof AbortController<"u"?AbortController:function(){var e=[],a=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){a.aborted=!0,e.forEach(function(s){return s()})}},ew=r.unstable_scheduleCallback,nw=r.unstable_NormalPriority,Ve={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hh(){return{controller:new tw,data:new Map,refCount:0}}function Yl(e){e.refCount--,e.refCount===0&&ew(nw,function(){e.controller.abort()})}var Gl=null,dh=0,Is=0,Ns=null;function rw(e,a){if(Gl===null){var s=Gl=[];dh=0,Is=gd(),Ns={status:"pending",value:void 0,then:function(o){s.push(o)}}}return dh++,a.then(Sy,Sy),a}function Sy(){if(--dh===0&&Gl!==null){Ns!==null&&(Ns.status="fulfilled");var e=Gl;Gl=null,Is=0,Ns=null;for(var a=0;a<e.length;a++)(0,e[a])()}}function aw(e,a){var s=[],o={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return e.then(function(){o.status="fulfilled",o.value=a;for(var f=0;f<s.length;f++)(0,s[f])(a)},function(f){for(o.status="rejected",o.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),o}var Ay=Y.S;Y.S=function(e,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&rw(e,a),Ay!==null&&Ay(e,a)};var ji=J(null);function mh(){var e=ji.current;return e!==null?e:le.pooledCache}function Uu(e,a){a===null?at(ji,ji.current):at(ji,a.pool)}function Ry(){var e=mh();return e===null?null:{parent:Ve._currentValue,pool:e}}var Ql=Error(i(460)),Dy=Error(i(474)),ju=Error(i(542)),gh={then:function(){}};function xy(e){return e=e.status,e==="fulfilled"||e==="rejected"}function zu(){}function Cy(e,a,s){switch(s=e[s],s===void 0?e.push(a):s!==a&&(a.then(zu,zu),a=s),a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,Iy(e),e;default:if(typeof a.status=="string")a.then(zu,zu);else{if(e=le,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=a,e.status="pending",e.then(function(o){if(a.status==="pending"){var f=a;f.status="fulfilled",f.value=o}},function(o){if(a.status==="pending"){var f=a;f.status="rejected",f.reason=o}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,Iy(e),e}throw Kl=a,Ql}}var Kl=null;function Oy(){if(Kl===null)throw Error(i(459));var e=Kl;return Kl=null,e}function Iy(e){if(e===Ql||e===ju)throw Error(i(483))}var Ca=!1;function yh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ph(e,a){e=e.updateQueue,a.updateQueue===e&&(a.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Oa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ia(e,a,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Wt&2)!==0){var f=o.pending;return f===null?a.next=a:(a.next=f.next,f.next=a),o.pending=a,a=Nu(e),py(e,null,s),a}return Iu(e,o,a,s),Nu(e)}function Xl(e,a,s){if(a=a.updateQueue,a!==null&&(a=a.shared,(s&4194048)!==0)){var o=a.lanes;o&=e.pendingLanes,s|=o,a.lanes=s,yr(e,s)}}function vh(e,a){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var f=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var E={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?f=d=E:d=d.next=E,s=s.next}while(s!==null);d===null?f=d=a:d=d.next=a}else f=d=a;s={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=a:e.next=a,s.lastBaseUpdate=a}var _h=!1;function $l(){if(_h){var e=Ns;if(e!==null)throw e}}function Wl(e,a,s,o){_h=!1;var f=e.updateQueue;Ca=!1;var d=f.firstBaseUpdate,E=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var O=T,F=O.next;O.next=null,E===null?d=F:E.next=F,E=O;var $=e.alternate;$!==null&&($=$.updateQueue,T=$.lastBaseUpdate,T!==E&&(T===null?$.firstBaseUpdate=F:T.next=F,$.lastBaseUpdate=O))}if(d!==null){var tt=f.baseState;E=0,$=F=O=null,T=d;do{var Q=T.lane&-536870913,K=Q!==T.lane;if(K?(Bt&Q)===Q:(o&Q)===Q){Q!==0&&Q===Is&&(_h=!0),$!==null&&($=$.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var bt=e,Et=T;Q=a;var re=s;switch(Et.tag){case 1:if(bt=Et.payload,typeof bt=="function"){tt=bt.call(re,tt,Q);break t}tt=bt;break t;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=Et.payload,Q=typeof bt=="function"?bt.call(re,tt,Q):bt,Q==null)break t;tt=_({},tt,Q);break t;case 2:Ca=!0}}Q=T.callback,Q!==null&&(e.flags|=64,K&&(e.flags|=8192),K=f.callbacks,K===null?f.callbacks=[Q]:K.push(Q))}else K={lane:Q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},$===null?(F=$=K,O=tt):$=$.next=K,E|=Q;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;K=T,T=K.next,K.next=null,f.lastBaseUpdate=K,f.shared.pending=null}}while(!0);$===null&&(O=tt),f.baseState=O,f.firstBaseUpdate=F,f.lastBaseUpdate=$,d===null&&(f.shared.lanes=0),ja|=E,e.lanes=E,e.memoizedState=tt}}function Ny(e,a){if(typeof e!="function")throw Error(i(191,e));e.call(a)}function My(e,a){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Ny(s[e],a)}var Ms=J(null),Bu=J(0);function Vy(e,a){e=ua,at(Bu,e),at(Ms,a),ua=e|a.baseLanes}function Eh(){at(Bu,ua),at(Ms,Ms.current)}function Th(){ua=Bu.current,lt(Ms),lt(Bu)}var Na=0,Nt=null,ee=null,De=null,qu=!1,Vs=!1,zi=!1,Hu=0,Zl=0,Ps=null,iw=0;function Te(){throw Error(i(321))}function bh(e,a){if(a===null)return!1;for(var s=0;s<a.length&&s<e.length;s++)if(!Rn(e[s],a[s]))return!1;return!0}function wh(e,a,s,o,f,d){return Na=d,Nt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Y.H=e===null||e.memoizedState===null?pp:vp,zi=!1,d=s(o,f),zi=!1,Vs&&(d=Ly(a,s,o,f)),Py(e),d}function Py(e){Y.H=Xu;var a=ee!==null&&ee.next!==null;if(Na=0,De=ee=Nt=null,qu=!1,Zl=0,Ps=null,a)throw Error(i(300));e===null||Be||(e=e.dependencies,e!==null&&Lu(e)&&(Be=!0))}function Ly(e,a,s,o){Nt=e;var f=0;do{if(Vs&&(Ps=null),Zl=0,Vs=!1,25<=f)throw Error(i(301));if(f+=1,De=ee=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=hw,d=a(s,o)}while(Vs);return d}function sw(){var e=Y.H,a=e.useState()[0];return a=typeof a.then=="function"?Jl(a):a,e=e.useState()[0],(ee!==null?ee.memoizedState:null)!==e&&(Nt.flags|=1024),a}function Sh(){var e=Hu!==0;return Hu=0,e}function Ah(e,a,s){a.updateQueue=e.updateQueue,a.flags&=-2053,e.lanes&=~s}function Rh(e){if(qu){for(e=e.memoizedState;e!==null;){var a=e.queue;a!==null&&(a.pending=null),e=e.next}qu=!1}Na=0,De=ee=Nt=null,Vs=!1,Zl=Hu=0,Ps=null}function vn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?Nt.memoizedState=De=e:De=De.next=e,De}function xe(){if(ee===null){var e=Nt.alternate;e=e!==null?e.memoizedState:null}else e=ee.next;var a=De===null?Nt.memoizedState:De.next;if(a!==null)De=a,ee=e;else{if(e===null)throw Nt.alternate===null?Error(i(467)):Error(i(310));ee=e,e={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},De===null?Nt.memoizedState=De=e:De=De.next=e}return De}function Dh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jl(e){var a=Zl;return Zl+=1,Ps===null&&(Ps=[]),e=Cy(Ps,e,a),a=Nt,(De===null?a.memoizedState:De.next)===null&&(a=a.alternate,Y.H=a===null||a.memoizedState===null?pp:vp),e}function Fu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Jl(e);if(e.$$typeof===W)return sn(e)}throw Error(i(438,String(e)))}function xh(e){var a=null,s=Nt.updateQueue;if(s!==null&&(a=s.memoCache),a==null){var o=Nt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(a={data:o.data.map(function(f){return f.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),s===null&&(s=Dh(),Nt.updateQueue=s),s.memoCache=a,s=a.data[a.index],s===void 0)for(s=a.data[a.index]=Array(e),o=0;o<e;o++)s[o]=I;return a.index++,s}function ra(e,a){return typeof a=="function"?a(e):a}function Yu(e){var a=xe();return Ch(a,ee,e)}function Ch(e,a,s){var o=e.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var f=e.baseQueue,d=o.pending;if(d!==null){if(f!==null){var E=f.next;f.next=d.next,d.next=E}a.baseQueue=f=d,o.pending=null}if(d=e.baseState,f===null)e.memoizedState=d;else{a=f.next;var T=E=null,O=null,F=a,$=!1;do{var tt=F.lane&-536870913;if(tt!==F.lane?(Bt&tt)===tt:(Na&tt)===tt){var Q=F.revertLane;if(Q===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),tt===Is&&($=!0);else if((Na&Q)===Q){F=F.next,Q===Is&&($=!0);continue}else tt={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},O===null?(T=O=tt,E=d):O=O.next=tt,Nt.lanes|=Q,ja|=Q;tt=F.action,zi&&s(d,tt),d=F.hasEagerState?F.eagerState:s(d,tt)}else Q={lane:tt,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},O===null?(T=O=Q,E=d):O=O.next=Q,Nt.lanes|=tt,ja|=tt;F=F.next}while(F!==null&&F!==a);if(O===null?E=d:O.next=T,!Rn(d,e.memoizedState)&&(Be=!0,$&&(s=Ns,s!==null)))throw s;e.memoizedState=d,e.baseState=E,e.baseQueue=O,o.lastRenderedState=d}return f===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Oh(e){var a=xe(),s=a.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=e;var o=s.dispatch,f=s.pending,d=a.memoizedState;if(f!==null){s.pending=null;var E=f=f.next;do d=e(d,E.action),E=E.next;while(E!==f);Rn(d,a.memoizedState)||(Be=!0),a.memoizedState=d,a.baseQueue===null&&(a.baseState=d),s.lastRenderedState=d}return[d,o]}function ky(e,a,s){var o=Nt,f=xe(),d=Kt;if(d){if(s===void 0)throw Error(i(407));s=s()}else s=a();var E=!Rn((ee||f).memoizedState,s);E&&(f.memoizedState=s,Be=!0),f=f.queue;var T=zy.bind(null,o,f,e);if(to(2048,8,T,[e]),f.getSnapshot!==a||E||De!==null&&De.memoizedState.tag&1){if(o.flags|=2048,Ls(9,Gu(),jy.bind(null,o,f,s,a),null),le===null)throw Error(i(349));d||(Na&124)!==0||Uy(o,a,s)}return s}function Uy(e,a,s){e.flags|=16384,e={getSnapshot:a,value:s},a=Nt.updateQueue,a===null?(a=Dh(),Nt.updateQueue=a,a.stores=[e]):(s=a.stores,s===null?a.stores=[e]:s.push(e))}function jy(e,a,s,o){a.value=s,a.getSnapshot=o,By(a)&&qy(e)}function zy(e,a,s){return s(function(){By(a)&&qy(e)})}function By(e){var a=e.getSnapshot;e=e.value;try{var s=a();return!Rn(e,s)}catch{return!0}}function qy(e){var a=Ds(e,2);a!==null&&Nn(a,e,2)}function Ih(e){var a=vn();if(typeof e=="function"){var s=e;if(e=s(),zi){dn(!0);try{s()}finally{dn(!1)}}}return a.memoizedState=a.baseState=e,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:e},a}function Hy(e,a,s,o){return e.baseState=s,Ch(e,ee,typeof o=="function"?o:ra)}function lw(e,a,s,o,f){if(Ku(e))throw Error(i(485));if(e=a.action,e!==null){var d={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};Y.T!==null?s(!0):d.isTransition=!1,o(d),s=a.pending,s===null?(d.next=a.pending=d,Fy(a,d)):(d.next=s.next,a.pending=s.next=d)}}function Fy(e,a){var s=a.action,o=a.payload,f=e.state;if(a.isTransition){var d=Y.T,E={};Y.T=E;try{var T=s(f,o),O=Y.S;O!==null&&O(E,T),Yy(e,a,T)}catch(F){Nh(e,a,F)}finally{Y.T=d}}else try{d=s(f,o),Yy(e,a,d)}catch(F){Nh(e,a,F)}}function Yy(e,a,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Gy(e,a,o)},function(o){return Nh(e,a,o)}):Gy(e,a,s)}function Gy(e,a,s){a.status="fulfilled",a.value=s,Qy(a),e.state=s,a=e.pending,a!==null&&(s=a.next,s===a?e.pending=null:(s=s.next,a.next=s,Fy(e,s)))}function Nh(e,a,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do a.status="rejected",a.reason=s,Qy(a),a=a.next;while(a!==o)}e.action=null}function Qy(e){e=e.listeners;for(var a=0;a<e.length;a++)(0,e[a])()}function Ky(e,a){return a}function Xy(e,a){if(Kt){var s=le.formState;if(s!==null){t:{var o=Nt;if(Kt){if(_e){e:{for(var f=_e,d=Rr;f.nodeType!==8;){if(!d){f=null;break e}if(f=ur(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){_e=ur(f.nextSibling),o=f.data==="F!";break t}}Li(o)}o=!1}o&&(a=s[0])}}return s=vn(),s.memoizedState=s.baseState=a,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ky,lastRenderedState:a},s.queue=o,s=mp.bind(null,Nt,o),o.dispatch=s,o=Ih(!1),d=kh.bind(null,Nt,!1,o.queue),o=vn(),f={state:a,dispatch:null,action:e,pending:null},o.queue=f,s=lw.bind(null,Nt,f,d,s),f.dispatch=s,o.memoizedState=e,[a,s,!1]}function $y(e){var a=xe();return Wy(a,ee,e)}function Wy(e,a,s){if(a=Ch(e,a,Ky)[0],e=Yu(ra)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var o=Jl(a)}catch(E){throw E===Ql?ju:E}else o=a;a=xe();var f=a.queue,d=f.dispatch;return s!==a.memoizedState&&(Nt.flags|=2048,Ls(9,Gu(),ow.bind(null,f,s),null)),[o,d,e]}function ow(e,a){e.action=a}function Zy(e){var a=xe(),s=ee;if(s!==null)return Wy(a,s,e);xe(),a=a.memoizedState,s=xe();var o=s.queue.dispatch;return s.memoizedState=e,[a,o,!1]}function Ls(e,a,s,o){return e={tag:e,create:s,deps:o,inst:a,next:null},a=Nt.updateQueue,a===null&&(a=Dh(),Nt.updateQueue=a),s=a.lastEffect,s===null?a.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,a.lastEffect=e),e}function Gu(){return{destroy:void 0,resource:void 0}}function Jy(){return xe().memoizedState}function Qu(e,a,s,o){var f=vn();o=o===void 0?null:o,Nt.flags|=e,f.memoizedState=Ls(1|a,Gu(),s,o)}function to(e,a,s,o){var f=xe();o=o===void 0?null:o;var d=f.memoizedState.inst;ee!==null&&o!==null&&bh(o,ee.memoizedState.deps)?f.memoizedState=Ls(a,d,s,o):(Nt.flags|=e,f.memoizedState=Ls(1|a,d,s,o))}function tp(e,a){Qu(8390656,8,e,a)}function ep(e,a){to(2048,8,e,a)}function np(e,a){return to(4,2,e,a)}function rp(e,a){return to(4,4,e,a)}function ap(e,a){if(typeof a=="function"){e=e();var s=a(e);return function(){typeof s=="function"?s():a(null)}}if(a!=null)return e=e(),a.current=e,function(){a.current=null}}function ip(e,a,s){s=s!=null?s.concat([e]):null,to(4,4,ap.bind(null,a,e),s)}function Mh(){}function sp(e,a){var s=xe();a=a===void 0?null:a;var o=s.memoizedState;return a!==null&&bh(a,o[1])?o[0]:(s.memoizedState=[e,a],e)}function lp(e,a){var s=xe();a=a===void 0?null:a;var o=s.memoizedState;if(a!==null&&bh(a,o[1]))return o[0];if(o=e(),zi){dn(!0);try{e()}finally{dn(!1)}}return s.memoizedState=[o,a],o}function Vh(e,a,s){return s===void 0||(Na&1073741824)!==0?e.memoizedState=a:(e.memoizedState=s,e=cv(),Nt.lanes|=e,ja|=e,s)}function op(e,a,s,o){return Rn(s,a)?s:Ms.current!==null?(e=Vh(e,s,o),Rn(e,a)||(Be=!0),e):(Na&42)===0?(Be=!0,e.memoizedState=s):(e=cv(),Nt.lanes|=e,ja|=e,a)}function up(e,a,s,o,f){var d=it.p;it.p=d!==0&&8>d?d:8;var E=Y.T,T={};Y.T=T,kh(e,!1,a,s);try{var O=f(),F=Y.S;if(F!==null&&F(T,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var $=aw(O,o);eo(e,a,$,In(e))}else eo(e,a,o,In(e))}catch(tt){eo(e,a,{then:function(){},status:"rejected",reason:tt},In())}finally{it.p=d,Y.T=E}}function uw(){}function Ph(e,a,s,o){if(e.tag!==5)throw Error(i(476));var f=cp(e).queue;up(e,f,a,dt,s===null?uw:function(){return fp(e),s(o)})}function cp(e){var a=e.memoizedState;if(a!==null)return a;a={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:dt},next:null};var s={};return a.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:s},next:null},e.memoizedState=a,e=e.alternate,e!==null&&(e.memoizedState=a),a}function fp(e){var a=cp(e).next.queue;eo(e,a,{},In())}function Lh(){return sn(Eo)}function hp(){return xe().memoizedState}function dp(){return xe().memoizedState}function cw(e){for(var a=e.return;a!==null;){switch(a.tag){case 24:case 3:var s=In();e=Oa(s);var o=Ia(a,e,s);o!==null&&(Nn(o,a,s),Xl(o,a,s)),a={cache:hh()},e.payload=a;return}a=a.return}}function fw(e,a,s){var o=In();s={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Ku(e)?gp(a,s):(s=nh(e,a,s,o),s!==null&&(Nn(s,e,o),yp(s,a,o)))}function mp(e,a,s){var o=In();eo(e,a,s,o)}function eo(e,a,s,o){var f={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ku(e))gp(a,f);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=a.lastRenderedReducer,d!==null))try{var E=a.lastRenderedState,T=d(E,s);if(f.hasEagerState=!0,f.eagerState=T,Rn(T,E))return Iu(e,a,f,0),le===null&&Ou(),!1}catch{}finally{}if(s=nh(e,a,f,o),s!==null)return Nn(s,e,o),yp(s,a,o),!0}return!1}function kh(e,a,s,o){if(o={lane:2,revertLane:gd(),action:o,hasEagerState:!1,eagerState:null,next:null},Ku(e)){if(a)throw Error(i(479))}else a=nh(e,s,o,2),a!==null&&Nn(a,e,2)}function Ku(e){var a=e.alternate;return e===Nt||a!==null&&a===Nt}function gp(e,a){Vs=qu=!0;var s=e.pending;s===null?a.next=a:(a.next=s.next,s.next=a),e.pending=a}function yp(e,a,s){if((s&4194048)!==0){var o=a.lanes;o&=e.pendingLanes,s|=o,a.lanes=s,yr(e,s)}}var Xu={readContext:sn,use:Fu,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useLayoutEffect:Te,useInsertionEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useSyncExternalStore:Te,useId:Te,useHostTransitionStatus:Te,useFormState:Te,useActionState:Te,useOptimistic:Te,useMemoCache:Te,useCacheRefresh:Te},pp={readContext:sn,use:Fu,useCallback:function(e,a){return vn().memoizedState=[e,a===void 0?null:a],e},useContext:sn,useEffect:tp,useImperativeHandle:function(e,a,s){s=s!=null?s.concat([e]):null,Qu(4194308,4,ap.bind(null,a,e),s)},useLayoutEffect:function(e,a){return Qu(4194308,4,e,a)},useInsertionEffect:function(e,a){Qu(4,2,e,a)},useMemo:function(e,a){var s=vn();a=a===void 0?null:a;var o=e();if(zi){dn(!0);try{e()}finally{dn(!1)}}return s.memoizedState=[o,a],o},useReducer:function(e,a,s){var o=vn();if(s!==void 0){var f=s(a);if(zi){dn(!0);try{s(a)}finally{dn(!1)}}}else f=a;return o.memoizedState=o.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},o.queue=e,e=e.dispatch=fw.bind(null,Nt,e),[o.memoizedState,e]},useRef:function(e){var a=vn();return e={current:e},a.memoizedState=e},useState:function(e){e=Ih(e);var a=e.queue,s=mp.bind(null,Nt,a);return a.dispatch=s,[e.memoizedState,s]},useDebugValue:Mh,useDeferredValue:function(e,a){var s=vn();return Vh(s,e,a)},useTransition:function(){var e=Ih(!1);return e=up.bind(null,Nt,e.queue,!0,!1),vn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,a,s){var o=Nt,f=vn();if(Kt){if(s===void 0)throw Error(i(407));s=s()}else{if(s=a(),le===null)throw Error(i(349));(Bt&124)!==0||Uy(o,a,s)}f.memoizedState=s;var d={value:s,getSnapshot:a};return f.queue=d,tp(zy.bind(null,o,d,e),[e]),o.flags|=2048,Ls(9,Gu(),jy.bind(null,o,d,s,a),null),s},useId:function(){var e=vn(),a=le.identifierPrefix;if(Kt){var s=ta,o=Jr;s=(o&~(1<<32-Se(o)-1)).toString(32)+s,a="«"+a+"R"+s,s=Hu++,0<s&&(a+="H"+s.toString(32)),a+="»"}else s=iw++,a="«"+a+"r"+s.toString(32)+"»";return e.memoizedState=a},useHostTransitionStatus:Lh,useFormState:Xy,useActionState:Xy,useOptimistic:function(e){var a=vn();a.memoizedState=a.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=s,a=kh.bind(null,Nt,!0,s),s.dispatch=a,[e,a]},useMemoCache:xh,useCacheRefresh:function(){return vn().memoizedState=cw.bind(null,Nt)}},vp={readContext:sn,use:Fu,useCallback:sp,useContext:sn,useEffect:ep,useImperativeHandle:ip,useInsertionEffect:np,useLayoutEffect:rp,useMemo:lp,useReducer:Yu,useRef:Jy,useState:function(){return Yu(ra)},useDebugValue:Mh,useDeferredValue:function(e,a){var s=xe();return op(s,ee.memoizedState,e,a)},useTransition:function(){var e=Yu(ra)[0],a=xe().memoizedState;return[typeof e=="boolean"?e:Jl(e),a]},useSyncExternalStore:ky,useId:hp,useHostTransitionStatus:Lh,useFormState:$y,useActionState:$y,useOptimistic:function(e,a){var s=xe();return Hy(s,ee,e,a)},useMemoCache:xh,useCacheRefresh:dp},hw={readContext:sn,use:Fu,useCallback:sp,useContext:sn,useEffect:ep,useImperativeHandle:ip,useInsertionEffect:np,useLayoutEffect:rp,useMemo:lp,useReducer:Oh,useRef:Jy,useState:function(){return Oh(ra)},useDebugValue:Mh,useDeferredValue:function(e,a){var s=xe();return ee===null?Vh(s,e,a):op(s,ee.memoizedState,e,a)},useTransition:function(){var e=Oh(ra)[0],a=xe().memoizedState;return[typeof e=="boolean"?e:Jl(e),a]},useSyncExternalStore:ky,useId:hp,useHostTransitionStatus:Lh,useFormState:Zy,useActionState:Zy,useOptimistic:function(e,a){var s=xe();return ee!==null?Hy(s,ee,e,a):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:xh,useCacheRefresh:dp},ks=null,no=0;function $u(e){var a=no;return no+=1,ks===null&&(ks=[]),Cy(ks,e,a)}function ro(e,a){a=a.props.ref,e.ref=a!==void 0?a:null}function Wu(e,a){throw a.$$typeof===b?Error(i(525)):(e=Object.prototype.toString.call(a),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":e)))}function _p(e){var a=e._init;return a(e._payload)}function Ep(e){function a(z,P){if(e){var H=z.deletions;H===null?(z.deletions=[P],z.flags|=16):H.push(P)}}function s(z,P){if(!e)return null;for(;P!==null;)a(z,P),P=P.sibling;return null}function o(z){for(var P=new Map;z!==null;)z.key!==null?P.set(z.key,z):P.set(z.index,z),z=z.sibling;return P}function f(z,P){return z=Zr(z,P),z.index=0,z.sibling=null,z}function d(z,P,H){return z.index=H,e?(H=z.alternate,H!==null?(H=H.index,H<P?(z.flags|=67108866,P):H):(z.flags|=67108866,P)):(z.flags|=1048576,P)}function E(z){return e&&z.alternate===null&&(z.flags|=67108866),z}function T(z,P,H,Z){return P===null||P.tag!==6?(P=ah(H,z.mode,Z),P.return=z,P):(P=f(P,H),P.return=z,P)}function O(z,P,H,Z){var ht=H.type;return ht===D?$(z,P,H.props.children,Z,H.key):P!==null&&(P.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===A&&_p(ht)===P.type)?(P=f(P,H.props),ro(P,H),P.return=z,P):(P=Mu(H.type,H.key,H.props,null,z.mode,Z),ro(P,H),P.return=z,P)}function F(z,P,H,Z){return P===null||P.tag!==4||P.stateNode.containerInfo!==H.containerInfo||P.stateNode.implementation!==H.implementation?(P=ih(H,z.mode,Z),P.return=z,P):(P=f(P,H.children||[]),P.return=z,P)}function $(z,P,H,Z,ht){return P===null||P.tag!==7?(P=Ni(H,z.mode,Z,ht),P.return=z,P):(P=f(P,H),P.return=z,P)}function tt(z,P,H){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=ah(""+P,z.mode,H),P.return=z,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case w:return H=Mu(P.type,P.key,P.props,null,z.mode,H),ro(H,P),H.return=z,H;case x:return P=ih(P,z.mode,H),P.return=z,P;case A:var Z=P._init;return P=Z(P._payload),tt(z,P,H)}if(At(P)||k(P))return P=Ni(P,z.mode,H,null),P.return=z,P;if(typeof P.then=="function")return tt(z,$u(P),H);if(P.$$typeof===W)return tt(z,ku(z,P),H);Wu(z,P)}return null}function Q(z,P,H,Z){var ht=P!==null?P.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return ht!==null?null:T(z,P,""+H,Z);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case w:return H.key===ht?O(z,P,H,Z):null;case x:return H.key===ht?F(z,P,H,Z):null;case A:return ht=H._init,H=ht(H._payload),Q(z,P,H,Z)}if(At(H)||k(H))return ht!==null?null:$(z,P,H,Z,null);if(typeof H.then=="function")return Q(z,P,$u(H),Z);if(H.$$typeof===W)return Q(z,P,ku(z,H),Z);Wu(z,H)}return null}function K(z,P,H,Z,ht){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return z=z.get(H)||null,T(P,z,""+Z,ht);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case w:return z=z.get(Z.key===null?H:Z.key)||null,O(P,z,Z,ht);case x:return z=z.get(Z.key===null?H:Z.key)||null,F(P,z,Z,ht);case A:var Pt=Z._init;return Z=Pt(Z._payload),K(z,P,H,Z,ht)}if(At(Z)||k(Z))return z=z.get(H)||null,$(P,z,Z,ht,null);if(typeof Z.then=="function")return K(z,P,H,$u(Z),ht);if(Z.$$typeof===W)return K(z,P,H,ku(P,Z),ht);Wu(P,Z)}return null}function bt(z,P,H,Z){for(var ht=null,Pt=null,gt=P,Tt=P=0,He=null;gt!==null&&Tt<H.length;Tt++){gt.index>Tt?(He=gt,gt=null):He=gt.sibling;var Gt=Q(z,gt,H[Tt],Z);if(Gt===null){gt===null&&(gt=He);break}e&&gt&&Gt.alternate===null&&a(z,gt),P=d(Gt,P,Tt),Pt===null?ht=Gt:Pt.sibling=Gt,Pt=Gt,gt=He}if(Tt===H.length)return s(z,gt),Kt&&Vi(z,Tt),ht;if(gt===null){for(;Tt<H.length;Tt++)gt=tt(z,H[Tt],Z),gt!==null&&(P=d(gt,P,Tt),Pt===null?ht=gt:Pt.sibling=gt,Pt=gt);return Kt&&Vi(z,Tt),ht}for(gt=o(gt);Tt<H.length;Tt++)He=K(gt,z,Tt,H[Tt],Z),He!==null&&(e&&He.alternate!==null&&gt.delete(He.key===null?Tt:He.key),P=d(He,P,Tt),Pt===null?ht=He:Pt.sibling=He,Pt=He);return e&&gt.forEach(function(Ka){return a(z,Ka)}),Kt&&Vi(z,Tt),ht}function Et(z,P,H,Z){if(H==null)throw Error(i(151));for(var ht=null,Pt=null,gt=P,Tt=P=0,He=null,Gt=H.next();gt!==null&&!Gt.done;Tt++,Gt=H.next()){gt.index>Tt?(He=gt,gt=null):He=gt.sibling;var Ka=Q(z,gt,Gt.value,Z);if(Ka===null){gt===null&&(gt=He);break}e&&gt&&Ka.alternate===null&&a(z,gt),P=d(Ka,P,Tt),Pt===null?ht=Ka:Pt.sibling=Ka,Pt=Ka,gt=He}if(Gt.done)return s(z,gt),Kt&&Vi(z,Tt),ht;if(gt===null){for(;!Gt.done;Tt++,Gt=H.next())Gt=tt(z,Gt.value,Z),Gt!==null&&(P=d(Gt,P,Tt),Pt===null?ht=Gt:Pt.sibling=Gt,Pt=Gt);return Kt&&Vi(z,Tt),ht}for(gt=o(gt);!Gt.done;Tt++,Gt=H.next())Gt=K(gt,z,Tt,Gt.value,Z),Gt!==null&&(e&&Gt.alternate!==null&&gt.delete(Gt.key===null?Tt:Gt.key),P=d(Gt,P,Tt),Pt===null?ht=Gt:Pt.sibling=Gt,Pt=Gt);return e&&gt.forEach(function(dS){return a(z,dS)}),Kt&&Vi(z,Tt),ht}function re(z,P,H,Z){if(typeof H=="object"&&H!==null&&H.type===D&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case w:t:{for(var ht=H.key;P!==null;){if(P.key===ht){if(ht=H.type,ht===D){if(P.tag===7){s(z,P.sibling),Z=f(P,H.props.children),Z.return=z,z=Z;break t}}else if(P.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===A&&_p(ht)===P.type){s(z,P.sibling),Z=f(P,H.props),ro(Z,H),Z.return=z,z=Z;break t}s(z,P);break}else a(z,P);P=P.sibling}H.type===D?(Z=Ni(H.props.children,z.mode,Z,H.key),Z.return=z,z=Z):(Z=Mu(H.type,H.key,H.props,null,z.mode,Z),ro(Z,H),Z.return=z,z=Z)}return E(z);case x:t:{for(ht=H.key;P!==null;){if(P.key===ht)if(P.tag===4&&P.stateNode.containerInfo===H.containerInfo&&P.stateNode.implementation===H.implementation){s(z,P.sibling),Z=f(P,H.children||[]),Z.return=z,z=Z;break t}else{s(z,P);break}else a(z,P);P=P.sibling}Z=ih(H,z.mode,Z),Z.return=z,z=Z}return E(z);case A:return ht=H._init,H=ht(H._payload),re(z,P,H,Z)}if(At(H))return bt(z,P,H,Z);if(k(H)){if(ht=k(H),typeof ht!="function")throw Error(i(150));return H=ht.call(H),Et(z,P,H,Z)}if(typeof H.then=="function")return re(z,P,$u(H),Z);if(H.$$typeof===W)return re(z,P,ku(z,H),Z);Wu(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,P!==null&&P.tag===6?(s(z,P.sibling),Z=f(P,H),Z.return=z,z=Z):(s(z,P),Z=ah(H,z.mode,Z),Z.return=z,z=Z),E(z)):s(z,P)}return function(z,P,H,Z){try{no=0;var ht=re(z,P,H,Z);return ks=null,ht}catch(gt){if(gt===Ql||gt===ju)throw gt;var Pt=Dn(29,gt,null,z.mode);return Pt.lanes=Z,Pt.return=z,Pt}finally{}}}var Us=Ep(!0),Tp=Ep(!1),Kn=J(null),Dr=null;function Ma(e){var a=e.alternate;at(Pe,Pe.current&1),at(Kn,e),Dr===null&&(a===null||Ms.current!==null||a.memoizedState!==null)&&(Dr=e)}function bp(e){if(e.tag===22){if(at(Pe,Pe.current),at(Kn,e),Dr===null){var a=e.alternate;a!==null&&a.memoizedState!==null&&(Dr=e)}}else Va()}function Va(){at(Pe,Pe.current),at(Kn,Kn.current)}function aa(e){lt(Kn),Dr===e&&(Dr=null),lt(Pe)}var Pe=J(0);function Zu(e){for(var a=e;a!==null;){if(a.tag===13){var s=a.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Dd(s)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Uh(e,a,s,o){a=e.memoizedState,s=s(o,a),s=s==null?a:_({},a,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var jh={enqueueSetState:function(e,a,s){e=e._reactInternals;var o=In(),f=Oa(o);f.payload=a,s!=null&&(f.callback=s),a=Ia(e,f,o),a!==null&&(Nn(a,e,o),Xl(a,e,o))},enqueueReplaceState:function(e,a,s){e=e._reactInternals;var o=In(),f=Oa(o);f.tag=1,f.payload=a,s!=null&&(f.callback=s),a=Ia(e,f,o),a!==null&&(Nn(a,e,o),Xl(a,e,o))},enqueueForceUpdate:function(e,a){e=e._reactInternals;var s=In(),o=Oa(s);o.tag=2,a!=null&&(o.callback=a),a=Ia(e,o,s),a!==null&&(Nn(a,e,s),Xl(a,e,s))}};function wp(e,a,s,o,f,d,E){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,E):a.prototype&&a.prototype.isPureReactComponent?!jl(s,o)||!jl(f,d):!0}function Sp(e,a,s,o){e=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(s,o),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(s,o),a.state!==e&&jh.enqueueReplaceState(a,a.state,null)}function Bi(e,a){var s=a;if("ref"in a){s={};for(var o in a)o!=="ref"&&(s[o]=a[o])}if(e=e.defaultProps){s===a&&(s=_({},s));for(var f in e)s[f]===void 0&&(s[f]=e[f])}return s}var Ju=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Ap(e){Ju(e)}function Rp(e){console.error(e)}function Dp(e){Ju(e)}function tc(e,a){try{var s=e.onUncaughtError;s(a.value,{componentStack:a.stack})}catch(o){setTimeout(function(){throw o})}}function xp(e,a,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function zh(e,a,s){return s=Oa(s),s.tag=3,s.payload={element:null},s.callback=function(){tc(e,a)},s}function Cp(e){return e=Oa(e),e.tag=3,e}function Op(e,a,s,o){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var d=o.value;e.payload=function(){return f(d)},e.callback=function(){xp(a,s,o)}}var E=s.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(e.callback=function(){xp(a,s,o),typeof f!="function"&&(za===null?za=new Set([this]):za.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function dw(e,a,s,o,f){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(a=s.alternate,a!==null&&Fl(a,s,f,!0),s=Kn.current,s!==null){switch(s.tag){case 13:return Dr===null?cd():s.alternate===null&&Ee===0&&(Ee=3),s.flags&=-257,s.flags|=65536,s.lanes=f,o===gh?s.flags|=16384:(a=s.updateQueue,a===null?s.updateQueue=new Set([o]):a.add(o),hd(e,o,f)),!1;case 22:return s.flags|=65536,o===gh?s.flags|=16384:(a=s.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=a):(s=a.retryQueue,s===null?a.retryQueue=new Set([o]):s.add(o)),hd(e,o,f)),!1}throw Error(i(435,s.tag))}return hd(e,o,f),cd(),!1}if(Kt)return a=Kn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=f,o!==oh&&(e=Error(i(422),{cause:o}),Hl(Fn(e,s)))):(o!==oh&&(a=Error(i(423),{cause:o}),Hl(Fn(a,s))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,o=Fn(o,s),f=zh(e.stateNode,o,f),vh(e,f),Ee!==4&&(Ee=2)),!1;var d=Error(i(520),{cause:o});if(d=Fn(d,s),co===null?co=[d]:co.push(d),Ee!==4&&(Ee=2),a===null)return!0;o=Fn(o,s),s=a;do{switch(s.tag){case 3:return s.flags|=65536,e=f&-f,s.lanes|=e,e=zh(s.stateNode,o,e),vh(s,e),!1;case 1:if(a=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(za===null||!za.has(d))))return s.flags|=65536,f&=-f,s.lanes|=f,f=Cp(f),Op(f,e,s,o),vh(s,f),!1}s=s.return}while(s!==null);return!1}var Ip=Error(i(461)),Be=!1;function Ze(e,a,s,o){a.child=e===null?Tp(a,null,s,o):Us(a,e.child,s,o)}function Np(e,a,s,o,f){s=s.render;var d=a.ref;if("ref"in o){var E={};for(var T in o)T!=="ref"&&(E[T]=o[T])}else E=o;return Ui(a),o=wh(e,a,s,E,d,f),T=Sh(),e!==null&&!Be?(Ah(e,a,f),ia(e,a,f)):(Kt&&T&&sh(a),a.flags|=1,Ze(e,a,o,f),a.child)}function Mp(e,a,s,o,f){if(e===null){var d=s.type;return typeof d=="function"&&!rh(d)&&d.defaultProps===void 0&&s.compare===null?(a.tag=15,a.type=d,Vp(e,a,d,o,f)):(e=Mu(s.type,null,o,a,a.mode,f),e.ref=a.ref,e.return=a,a.child=e)}if(d=e.child,!Kh(e,f)){var E=d.memoizedProps;if(s=s.compare,s=s!==null?s:jl,s(E,o)&&e.ref===a.ref)return ia(e,a,f)}return a.flags|=1,e=Zr(d,o),e.ref=a.ref,e.return=a,a.child=e}function Vp(e,a,s,o,f){if(e!==null){var d=e.memoizedProps;if(jl(d,o)&&e.ref===a.ref)if(Be=!1,a.pendingProps=o=d,Kh(e,f))(e.flags&131072)!==0&&(Be=!0);else return a.lanes=e.lanes,ia(e,a,f)}return Bh(e,a,s,o,f)}function Pp(e,a,s){var o=a.pendingProps,f=o.children,d=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((a.flags&128)!==0){if(o=d!==null?d.baseLanes|s:s,e!==null){for(f=a.child=e.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;a.childLanes=d&~o}else a.childLanes=0,a.child=null;return Lp(e,a,o,s)}if((s&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},e!==null&&Uu(a,d!==null?d.cachePool:null),d!==null?Vy(a,d):Eh(),bp(a);else return a.lanes=a.childLanes=536870912,Lp(e,a,d!==null?d.baseLanes|s:s,s)}else d!==null?(Uu(a,d.cachePool),Vy(a,d),Va(),a.memoizedState=null):(e!==null&&Uu(a,null),Eh(),Va());return Ze(e,a,f,s),a.child}function Lp(e,a,s,o){var f=mh();return f=f===null?null:{parent:Ve._currentValue,pool:f},a.memoizedState={baseLanes:s,cachePool:f},e!==null&&Uu(a,null),Eh(),bp(a),e!==null&&Fl(e,a,o,!0),null}function ec(e,a){var s=a.ref;if(s===null)e!==null&&e.ref!==null&&(a.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(i(284));(e===null||e.ref!==s)&&(a.flags|=4194816)}}function Bh(e,a,s,o,f){return Ui(a),s=wh(e,a,s,o,void 0,f),o=Sh(),e!==null&&!Be?(Ah(e,a,f),ia(e,a,f)):(Kt&&o&&sh(a),a.flags|=1,Ze(e,a,s,f),a.child)}function kp(e,a,s,o,f,d){return Ui(a),a.updateQueue=null,s=Ly(a,o,s,f),Py(e),o=Sh(),e!==null&&!Be?(Ah(e,a,d),ia(e,a,d)):(Kt&&o&&sh(a),a.flags|=1,Ze(e,a,s,d),a.child)}function Up(e,a,s,o,f){if(Ui(a),a.stateNode===null){var d=xs,E=s.contextType;typeof E=="object"&&E!==null&&(d=sn(E)),d=new s(o,d),a.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=jh,a.stateNode=d,d._reactInternals=a,d=a.stateNode,d.props=o,d.state=a.memoizedState,d.refs={},yh(a),E=s.contextType,d.context=typeof E=="object"&&E!==null?sn(E):xs,d.state=a.memoizedState,E=s.getDerivedStateFromProps,typeof E=="function"&&(Uh(a,s,E,o),d.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&jh.enqueueReplaceState(d,d.state,null),Wl(a,o,d,f),$l(),d.state=a.memoizedState),typeof d.componentDidMount=="function"&&(a.flags|=4194308),o=!0}else if(e===null){d=a.stateNode;var T=a.memoizedProps,O=Bi(s,T);d.props=O;var F=d.context,$=s.contextType;E=xs,typeof $=="object"&&$!==null&&(E=sn($));var tt=s.getDerivedStateFromProps;$=typeof tt=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=a.pendingProps!==T,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||F!==E)&&Sp(a,d,o,E),Ca=!1;var Q=a.memoizedState;d.state=Q,Wl(a,o,d,f),$l(),F=a.memoizedState,T||Q!==F||Ca?(typeof tt=="function"&&(Uh(a,s,tt,o),F=a.memoizedState),(O=Ca||wp(a,s,O,o,Q,F,E))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(a.flags|=4194308)):(typeof d.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=o,a.memoizedState=F),d.props=o,d.state=F,d.context=E,o=O):(typeof d.componentDidMount=="function"&&(a.flags|=4194308),o=!1)}else{d=a.stateNode,ph(e,a),E=a.memoizedProps,$=Bi(s,E),d.props=$,tt=a.pendingProps,Q=d.context,F=s.contextType,O=xs,typeof F=="object"&&F!==null&&(O=sn(F)),T=s.getDerivedStateFromProps,(F=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==tt||Q!==O)&&Sp(a,d,o,O),Ca=!1,Q=a.memoizedState,d.state=Q,Wl(a,o,d,f),$l();var K=a.memoizedState;E!==tt||Q!==K||Ca||e!==null&&e.dependencies!==null&&Lu(e.dependencies)?(typeof T=="function"&&(Uh(a,s,T,o),K=a.memoizedState),($=Ca||wp(a,s,$,o,Q,K,O)||e!==null&&e.dependencies!==null&&Lu(e.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,K,O),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,K,O)),typeof d.componentDidUpdate=="function"&&(a.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===e.memoizedProps&&Q===e.memoizedState||(a.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&Q===e.memoizedState||(a.flags|=1024),a.memoizedProps=o,a.memoizedState=K),d.props=o,d.state=K,d.context=O,o=$):(typeof d.componentDidUpdate!="function"||E===e.memoizedProps&&Q===e.memoizedState||(a.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&Q===e.memoizedState||(a.flags|=1024),o=!1)}return d=o,ec(e,a),o=(a.flags&128)!==0,d||o?(d=a.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:d.render(),a.flags|=1,e!==null&&o?(a.child=Us(a,e.child,null,f),a.child=Us(a,null,s,f)):Ze(e,a,s,f),a.memoizedState=d.state,e=a.child):e=ia(e,a,f),e}function jp(e,a,s,o){return ql(),a.flags|=256,Ze(e,a,s,o),a.child}var qh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hh(e){return{baseLanes:e,cachePool:Ry()}}function Fh(e,a,s){return e=e!==null?e.childLanes&~s:0,a&&(e|=Xn),e}function zp(e,a,s){var o=a.pendingProps,f=!1,d=(a.flags&128)!==0,E;if((E=d)||(E=e!==null&&e.memoizedState===null?!1:(Pe.current&2)!==0),E&&(f=!0,a.flags&=-129),E=(a.flags&32)!==0,a.flags&=-33,e===null){if(Kt){if(f?Ma(a):Va(),Kt){var T=_e,O;if(O=T){t:{for(O=T,T=Rr;O.nodeType!==8;){if(!T){T=null;break t}if(O=ur(O.nextSibling),O===null){T=null;break t}}T=O}T!==null?(a.memoizedState={dehydrated:T,treeContext:Mi!==null?{id:Jr,overflow:ta}:null,retryLane:536870912,hydrationErrors:null},O=Dn(18,null,null,0),O.stateNode=T,O.return=a,a.child=O,pn=a,_e=null,O=!0):O=!1}O||Li(a)}if(T=a.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Dd(T)?a.lanes=32:a.lanes=536870912,null;aa(a)}return T=o.children,o=o.fallback,f?(Va(),f=a.mode,T=nc({mode:"hidden",children:T},f),o=Ni(o,f,s,null),T.return=a,o.return=a,T.sibling=o,a.child=T,f=a.child,f.memoizedState=Hh(s),f.childLanes=Fh(e,E,s),a.memoizedState=qh,o):(Ma(a),Yh(a,T))}if(O=e.memoizedState,O!==null&&(T=O.dehydrated,T!==null)){if(d)a.flags&256?(Ma(a),a.flags&=-257,a=Gh(e,a,s)):a.memoizedState!==null?(Va(),a.child=e.child,a.flags|=128,a=null):(Va(),f=o.fallback,T=a.mode,o=nc({mode:"visible",children:o.children},T),f=Ni(f,T,s,null),f.flags|=2,o.return=a,f.return=a,o.sibling=f,a.child=o,Us(a,e.child,null,s),o=a.child,o.memoizedState=Hh(s),o.childLanes=Fh(e,E,s),a.memoizedState=qh,a=f);else if(Ma(a),Dd(T)){if(E=T.nextSibling&&T.nextSibling.dataset,E)var F=E.dgst;E=F,o=Error(i(419)),o.stack="",o.digest=E,Hl({value:o,source:null,stack:null}),a=Gh(e,a,s)}else if(Be||Fl(e,a,s,!1),E=(s&e.childLanes)!==0,Be||E){if(E=le,E!==null&&(o=s&-s,o=(o&42)!==0?1:Yt(o),o=(o&(E.suspendedLanes|s))!==0?0:o,o!==0&&o!==O.retryLane))throw O.retryLane=o,Ds(e,o),Nn(E,e,o),Ip;T.data==="$?"||cd(),a=Gh(e,a,s)}else T.data==="$?"?(a.flags|=192,a.child=e.child,a=null):(e=O.treeContext,_e=ur(T.nextSibling),pn=a,Kt=!0,Pi=null,Rr=!1,e!==null&&(Gn[Qn++]=Jr,Gn[Qn++]=ta,Gn[Qn++]=Mi,Jr=e.id,ta=e.overflow,Mi=a),a=Yh(a,o.children),a.flags|=4096);return a}return f?(Va(),f=o.fallback,T=a.mode,O=e.child,F=O.sibling,o=Zr(O,{mode:"hidden",children:o.children}),o.subtreeFlags=O.subtreeFlags&65011712,F!==null?f=Zr(F,f):(f=Ni(f,T,s,null),f.flags|=2),f.return=a,o.return=a,o.sibling=f,a.child=o,o=f,f=a.child,T=e.child.memoizedState,T===null?T=Hh(s):(O=T.cachePool,O!==null?(F=Ve._currentValue,O=O.parent!==F?{parent:F,pool:F}:O):O=Ry(),T={baseLanes:T.baseLanes|s,cachePool:O}),f.memoizedState=T,f.childLanes=Fh(e,E,s),a.memoizedState=qh,o):(Ma(a),s=e.child,e=s.sibling,s=Zr(s,{mode:"visible",children:o.children}),s.return=a,s.sibling=null,e!==null&&(E=a.deletions,E===null?(a.deletions=[e],a.flags|=16):E.push(e)),a.child=s,a.memoizedState=null,s)}function Yh(e,a){return a=nc({mode:"visible",children:a},e.mode),a.return=e,e.child=a}function nc(e,a){return e=Dn(22,e,null,a),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Gh(e,a,s){return Us(a,e.child,null,s),e=Yh(a,a.pendingProps.children),e.flags|=2,a.memoizedState=null,e}function Bp(e,a,s){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a),ch(e.return,a,s)}function Qh(e,a,s,o,f){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:f}:(d.isBackwards=a,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=s,d.tailMode=f)}function qp(e,a,s){var o=a.pendingProps,f=o.revealOrder,d=o.tail;if(Ze(e,a,o.children,s),o=Pe.current,(o&2)!==0)o=o&1|2,a.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=a.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Bp(e,s,a);else if(e.tag===19)Bp(e,s,a);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===a)break t;for(;e.sibling===null;){if(e.return===null||e.return===a)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(at(Pe,o),f){case"forwards":for(s=a.child,f=null;s!==null;)e=s.alternate,e!==null&&Zu(e)===null&&(f=s),s=s.sibling;s=f,s===null?(f=a.child,a.child=null):(f=s.sibling,s.sibling=null),Qh(a,!1,f,s,d);break;case"backwards":for(s=null,f=a.child,a.child=null;f!==null;){if(e=f.alternate,e!==null&&Zu(e)===null){a.child=f;break}e=f.sibling,f.sibling=s,s=f,f=e}Qh(a,!0,s,null,d);break;case"together":Qh(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function ia(e,a,s){if(e!==null&&(a.dependencies=e.dependencies),ja|=a.lanes,(s&a.childLanes)===0)if(e!==null){if(Fl(e,a,s,!1),(s&a.childLanes)===0)return null}else return null;if(e!==null&&a.child!==e.child)throw Error(i(153));if(a.child!==null){for(e=a.child,s=Zr(e,e.pendingProps),a.child=s,s.return=a;e.sibling!==null;)e=e.sibling,s=s.sibling=Zr(e,e.pendingProps),s.return=a;s.sibling=null}return a.child}function Kh(e,a){return(e.lanes&a)!==0?!0:(e=e.dependencies,!!(e!==null&&Lu(e)))}function mw(e,a,s){switch(a.tag){case 3:Ft(a,a.stateNode.containerInfo),xa(a,Ve,e.memoizedState.cache),ql();break;case 27:case 5:Vn(a);break;case 4:Ft(a,a.stateNode.containerInfo);break;case 10:xa(a,a.type,a.memoizedProps.value);break;case 13:var o=a.memoizedState;if(o!==null)return o.dehydrated!==null?(Ma(a),a.flags|=128,null):(s&a.child.childLanes)!==0?zp(e,a,s):(Ma(a),e=ia(e,a,s),e!==null?e.sibling:null);Ma(a);break;case 19:var f=(e.flags&128)!==0;if(o=(s&a.childLanes)!==0,o||(Fl(e,a,s,!1),o=(s&a.childLanes)!==0),f){if(o)return qp(e,a,s);a.flags|=128}if(f=a.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),at(Pe,Pe.current),o)break;return null;case 22:case 23:return a.lanes=0,Pp(e,a,s);case 24:xa(a,Ve,e.memoizedState.cache)}return ia(e,a,s)}function Hp(e,a,s){if(e!==null)if(e.memoizedProps!==a.pendingProps)Be=!0;else{if(!Kh(e,s)&&(a.flags&128)===0)return Be=!1,mw(e,a,s);Be=(e.flags&131072)!==0}else Be=!1,Kt&&(a.flags&1048576)!==0&&_y(a,Pu,a.index);switch(a.lanes=0,a.tag){case 16:t:{e=a.pendingProps;var o=a.elementType,f=o._init;if(o=f(o._payload),a.type=o,typeof o=="function")rh(o)?(e=Bi(o,e),a.tag=1,a=Up(null,a,o,e,s)):(a.tag=0,a=Bh(null,a,o,e,s));else{if(o!=null){if(f=o.$$typeof,f===ot){a.tag=11,a=Np(null,a,o,e,s);break t}else if(f===M){a.tag=14,a=Mp(null,a,o,e,s);break t}}throw a=yt(o)||o,Error(i(306,a,""))}}return a;case 0:return Bh(e,a,a.type,a.pendingProps,s);case 1:return o=a.type,f=Bi(o,a.pendingProps),Up(e,a,o,f,s);case 3:t:{if(Ft(a,a.stateNode.containerInfo),e===null)throw Error(i(387));o=a.pendingProps;var d=a.memoizedState;f=d.element,ph(e,a),Wl(a,o,null,s);var E=a.memoizedState;if(o=E.cache,xa(a,Ve,o),o!==d.cache&&fh(a,[Ve],s,!0),$l(),o=E.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:E.cache},a.updateQueue.baseState=d,a.memoizedState=d,a.flags&256){a=jp(e,a,o,s);break t}else if(o!==f){f=Fn(Error(i(424)),a),Hl(f),a=jp(e,a,o,s);break t}else{switch(e=a.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(_e=ur(e.firstChild),pn=a,Kt=!0,Pi=null,Rr=!0,s=Tp(a,null,o,s),a.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(ql(),o===f){a=ia(e,a,s);break t}Ze(e,a,o,s)}a=a.child}return a;case 26:return ec(e,a),e===null?(s=Qv(a.type,null,a.pendingProps,null))?a.memoizedState=s:Kt||(s=a.type,e=a.pendingProps,o=yc(_t.current).createElement(s),o[ve]=a,o[he]=e,tn(o,s,e),Ot(o),a.stateNode=o):a.memoizedState=Qv(a.type,e.memoizedProps,a.pendingProps,e.memoizedState),null;case 27:return Vn(a),e===null&&Kt&&(o=a.stateNode=Fv(a.type,a.pendingProps,_t.current),pn=a,Rr=!0,f=_e,Ha(a.type)?(xd=f,_e=ur(o.firstChild)):_e=f),Ze(e,a,a.pendingProps.children,s),ec(e,a),e===null&&(a.flags|=4194304),a.child;case 5:return e===null&&Kt&&((f=o=_e)&&(o=qw(o,a.type,a.pendingProps,Rr),o!==null?(a.stateNode=o,pn=a,_e=ur(o.firstChild),Rr=!1,f=!0):f=!1),f||Li(a)),Vn(a),f=a.type,d=a.pendingProps,E=e!==null?e.memoizedProps:null,o=d.children,Sd(f,d)?o=null:E!==null&&Sd(f,E)&&(a.flags|=32),a.memoizedState!==null&&(f=wh(e,a,sw,null,null,s),Eo._currentValue=f),ec(e,a),Ze(e,a,o,s),a.child;case 6:return e===null&&Kt&&((e=s=_e)&&(s=Hw(s,a.pendingProps,Rr),s!==null?(a.stateNode=s,pn=a,_e=null,e=!0):e=!1),e||Li(a)),null;case 13:return zp(e,a,s);case 4:return Ft(a,a.stateNode.containerInfo),o=a.pendingProps,e===null?a.child=Us(a,null,o,s):Ze(e,a,o,s),a.child;case 11:return Np(e,a,a.type,a.pendingProps,s);case 7:return Ze(e,a,a.pendingProps,s),a.child;case 8:return Ze(e,a,a.pendingProps.children,s),a.child;case 12:return Ze(e,a,a.pendingProps.children,s),a.child;case 10:return o=a.pendingProps,xa(a,a.type,o.value),Ze(e,a,o.children,s),a.child;case 9:return f=a.type._context,o=a.pendingProps.children,Ui(a),f=sn(f),o=o(f),a.flags|=1,Ze(e,a,o,s),a.child;case 14:return Mp(e,a,a.type,a.pendingProps,s);case 15:return Vp(e,a,a.type,a.pendingProps,s);case 19:return qp(e,a,s);case 31:return o=a.pendingProps,s=a.mode,o={mode:o.mode,children:o.children},e===null?(s=nc(o,s),s.ref=a.ref,a.child=s,s.return=a,a=s):(s=Zr(e.child,o),s.ref=a.ref,a.child=s,s.return=a,a=s),a;case 22:return Pp(e,a,s);case 24:return Ui(a),o=sn(Ve),e===null?(f=mh(),f===null&&(f=le,d=hh(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=s),f=d),a.memoizedState={parent:o,cache:f},yh(a),xa(a,Ve,f)):((e.lanes&s)!==0&&(ph(e,a),Wl(a,null,null,s),$l()),f=e.memoizedState,d=a.memoizedState,f.parent!==o?(f={parent:o,cache:o},a.memoizedState=f,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=f),xa(a,Ve,o)):(o=d.cache,xa(a,Ve,o),o!==f.cache&&fh(a,[Ve],s,!0))),Ze(e,a,a.pendingProps.children,s),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function sa(e){e.flags|=4}function Fp(e,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Zv(a)){if(a=Kn.current,a!==null&&((Bt&4194048)===Bt?Dr!==null:(Bt&62914560)!==Bt&&(Bt&536870912)===0||a!==Dr))throw Kl=gh,Dy;e.flags|=8192}}function rc(e,a){a!==null&&(e.flags|=4),e.flags&16384&&(a=e.tag!==22?wa():536870912,e.lanes|=a,qs|=a)}function ao(e,a){if(!Kt)switch(e.tailMode){case"hidden":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?a||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ye(e){var a=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(a)for(var f=e.child;f!==null;)s|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)s|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=o,e.childLanes=s,a}function gw(e,a,s){var o=a.pendingProps;switch(lh(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ye(a),null;case 1:return ye(a),null;case 3:return s=a.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),na(Ve),Ie(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Bl(a)?sa(a):e===null||e.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,by())),ye(a),null;case 26:return s=a.memoizedState,e===null?(sa(a),s!==null?(ye(a),Fp(a,s)):(ye(a),a.flags&=-16777217)):s?s!==e.memoizedState?(sa(a),ye(a),Fp(a,s)):(ye(a),a.flags&=-16777217):(e.memoizedProps!==o&&sa(a),ye(a),a.flags&=-16777217),null;case 27:wn(a),s=_t.current;var f=a.type;if(e!==null&&a.stateNode!=null)e.memoizedProps!==o&&sa(a);else{if(!o){if(a.stateNode===null)throw Error(i(166));return ye(a),null}e=mt.current,Bl(a)?Ey(a):(e=Fv(f,o,s),a.stateNode=e,sa(a))}return ye(a),null;case 5:if(wn(a),s=a.type,e!==null&&a.stateNode!=null)e.memoizedProps!==o&&sa(a);else{if(!o){if(a.stateNode===null)throw Error(i(166));return ye(a),null}if(e=mt.current,Bl(a))Ey(a);else{switch(f=yc(_t.current),e){case 1:e=f.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:e=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":e=f.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":e=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?f.createElement("select",{is:o.is}):f.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?f.createElement(s,{is:o.is}):f.createElement(s)}}e[ve]=a,e[he]=o;t:for(f=a.child;f!==null;){if(f.tag===5||f.tag===6)e.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===a)break t;for(;f.sibling===null;){if(f.return===null||f.return===a)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}a.stateNode=e;t:switch(tn(e,s,o),s){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&sa(a)}}return ye(a),a.flags&=-16777217,null;case 6:if(e&&a.stateNode!=null)e.memoizedProps!==o&&sa(a);else{if(typeof o!="string"&&a.stateNode===null)throw Error(i(166));if(e=_t.current,Bl(a)){if(e=a.stateNode,s=a.memoizedProps,o=null,f=pn,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}e[ve]=a,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||kv(e.nodeValue,s)),e||Li(a)}else e=yc(e).createTextNode(o),e[ve]=a,a.stateNode=e}return ye(a),null;case 13:if(o=a.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Bl(a),o!==null&&o.dehydrated!==null){if(e===null){if(!f)throw Error(i(318));if(f=a.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[ve]=a}else ql(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ye(a),f=!1}else f=by(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return a.flags&256?(aa(a),a):(aa(a),null)}if(aa(a),(a.flags&128)!==0)return a.lanes=s,a;if(s=o!==null,e=e!==null&&e.memoizedState!==null,s){o=a.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==f&&(o.flags|=2048)}return s!==e&&s&&(a.child.flags|=8192),rc(a,a.updateQueue),ye(a),null;case 4:return Ie(),e===null&&_d(a.stateNode.containerInfo),ye(a),null;case 10:return na(a.type),ye(a),null;case 19:if(lt(Pe),f=a.memoizedState,f===null)return ye(a),null;if(o=(a.flags&128)!==0,d=f.rendering,d===null)if(o)ao(f,!1);else{if(Ee!==0||e!==null&&(e.flags&128)!==0)for(e=a.child;e!==null;){if(d=Zu(e),d!==null){for(a.flags|=128,ao(f,!1),e=d.updateQueue,a.updateQueue=e,rc(a,e),a.subtreeFlags=0,e=s,s=a.child;s!==null;)vy(s,e),s=s.sibling;return at(Pe,Pe.current&1|2),a.child}e=e.sibling}f.tail!==null&&Ge()>sc&&(a.flags|=128,o=!0,ao(f,!1),a.lanes=4194304)}else{if(!o)if(e=Zu(d),e!==null){if(a.flags|=128,o=!0,e=e.updateQueue,a.updateQueue=e,rc(a,e),ao(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!Kt)return ye(a),null}else 2*Ge()-f.renderingStartTime>sc&&s!==536870912&&(a.flags|=128,o=!0,ao(f,!1),a.lanes=4194304);f.isBackwards?(d.sibling=a.child,a.child=d):(e=f.last,e!==null?e.sibling=d:a.child=d,f.last=d)}return f.tail!==null?(a=f.tail,f.rendering=a,f.tail=a.sibling,f.renderingStartTime=Ge(),a.sibling=null,e=Pe.current,at(Pe,o?e&1|2:e&1),a):(ye(a),null);case 22:case 23:return aa(a),Th(),o=a.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(a.flags|=8192):o&&(a.flags|=8192),o?(s&536870912)!==0&&(a.flags&128)===0&&(ye(a),a.subtreeFlags&6&&(a.flags|=8192)):ye(a),s=a.updateQueue,s!==null&&rc(a,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(o=a.memoizedState.cachePool.pool),o!==s&&(a.flags|=2048),e!==null&&lt(ji),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),a.memoizedState.cache!==s&&(a.flags|=2048),na(Ve),ye(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function yw(e,a){switch(lh(a),a.tag){case 1:return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 3:return na(Ve),Ie(),e=a.flags,(e&65536)!==0&&(e&128)===0?(a.flags=e&-65537|128,a):null;case 26:case 27:case 5:return wn(a),null;case 13:if(aa(a),e=a.memoizedState,e!==null&&e.dehydrated!==null){if(a.alternate===null)throw Error(i(340));ql()}return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 19:return lt(Pe),null;case 4:return Ie(),null;case 10:return na(a.type),null;case 22:case 23:return aa(a),Th(),e!==null&&lt(ji),e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 24:return na(Ve),null;case 25:return null;default:return null}}function Yp(e,a){switch(lh(a),a.tag){case 3:na(Ve),Ie();break;case 26:case 27:case 5:wn(a);break;case 4:Ie();break;case 13:aa(a);break;case 19:lt(Pe);break;case 10:na(a.type);break;case 22:case 23:aa(a),Th(),e!==null&&lt(ji);break;case 24:na(Ve)}}function io(e,a){try{var s=a.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var f=o.next;s=f;do{if((s.tag&e)===e){o=void 0;var d=s.create,E=s.inst;o=d(),E.destroy=o}s=s.next}while(s!==f)}}catch(T){se(a,a.return,T)}}function Pa(e,a,s){try{var o=a.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var d=f.next;o=d;do{if((o.tag&e)===e){var E=o.inst,T=E.destroy;if(T!==void 0){E.destroy=void 0,f=a;var O=s,F=T;try{F()}catch($){se(f,O,$)}}}o=o.next}while(o!==d)}}catch($){se(a,a.return,$)}}function Gp(e){var a=e.updateQueue;if(a!==null){var s=e.stateNode;try{My(a,s)}catch(o){se(e,e.return,o)}}}function Qp(e,a,s){s.props=Bi(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){se(e,a,o)}}function so(e,a){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(f){se(e,a,f)}}function xr(e,a){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(f){se(e,a,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){se(e,a,f)}else s.current=null}function Kp(e){var a=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(f){se(e,e.return,f)}}function Xh(e,a,s){try{var o=e.stateNode;kw(o,e.type,s,a),o[he]=a}catch(f){se(e,e.return,f)}}function Xp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ha(e.type)||e.tag===4}function $h(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Xp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ha(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wh(e,a,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,a?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,a):(a=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,a.appendChild(e),s=s._reactRootContainer,s!=null||a.onclick!==null||(a.onclick=gc));else if(o!==4&&(o===27&&Ha(e.type)&&(s=e.stateNode,a=null),e=e.child,e!==null))for(Wh(e,a,s),e=e.sibling;e!==null;)Wh(e,a,s),e=e.sibling}function ac(e,a,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,a?s.insertBefore(e,a):s.appendChild(e);else if(o!==4&&(o===27&&Ha(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(ac(e,a,s),e=e.sibling;e!==null;)ac(e,a,s),e=e.sibling}function $p(e){var a=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,f=a.attributes;f.length;)a.removeAttributeNode(f[0]);tn(a,o,s),a[ve]=e,a[he]=s}catch(d){se(e,e.return,d)}}var la=!1,be=!1,Zh=!1,Wp=typeof WeakSet=="function"?WeakSet:Set,qe=null;function pw(e,a){if(e=e.containerInfo,bd=bc,e=oy(e),$f(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var f=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break t}var E=0,T=-1,O=-1,F=0,$=0,tt=e,Q=null;e:for(;;){for(var K;tt!==s||f!==0&&tt.nodeType!==3||(T=E+f),tt!==d||o!==0&&tt.nodeType!==3||(O=E+o),tt.nodeType===3&&(E+=tt.nodeValue.length),(K=tt.firstChild)!==null;)Q=tt,tt=K;for(;;){if(tt===e)break e;if(Q===s&&++F===f&&(T=E),Q===d&&++$===o&&(O=E),(K=tt.nextSibling)!==null)break;tt=Q,Q=tt.parentNode}tt=K}s=T===-1||O===-1?null:{start:T,end:O}}else s=null}s=s||{start:0,end:0}}else s=null;for(wd={focusedElem:e,selectionRange:s},bc=!1,qe=a;qe!==null;)if(a=qe,e=a.child,(a.subtreeFlags&1024)!==0&&e!==null)e.return=a,qe=e;else for(;qe!==null;){switch(a=qe,d=a.alternate,e=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,s=a,f=d.memoizedProps,d=d.memoizedState,o=s.stateNode;try{var bt=Bi(s.type,f,s.elementType===s.type);e=o.getSnapshotBeforeUpdate(bt,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(Et){se(s,s.return,Et)}}break;case 3:if((e&1024)!==0){if(e=a.stateNode.containerInfo,s=e.nodeType,s===9)Rd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Rd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=a.sibling,e!==null){e.return=a.return,qe=e;break}qe=a.return}}function Zp(e,a,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:La(e,s),o&4&&io(5,s);break;case 1:if(La(e,s),o&4)if(e=s.stateNode,a===null)try{e.componentDidMount()}catch(E){se(s,s.return,E)}else{var f=Bi(s.type,a.memoizedProps);a=a.memoizedState;try{e.componentDidUpdate(f,a,e.__reactInternalSnapshotBeforeUpdate)}catch(E){se(s,s.return,E)}}o&64&&Gp(s),o&512&&so(s,s.return);break;case 3:if(La(e,s),o&64&&(e=s.updateQueue,e!==null)){if(a=null,s.child!==null)switch(s.child.tag){case 27:case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}try{My(e,a)}catch(E){se(s,s.return,E)}}break;case 27:a===null&&o&4&&$p(s);case 26:case 5:La(e,s),a===null&&o&4&&Kp(s),o&512&&so(s,s.return);break;case 12:La(e,s);break;case 13:La(e,s),o&4&&ev(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=Rw.bind(null,s),Fw(e,s))));break;case 22:if(o=s.memoizedState!==null||la,!o){a=a!==null&&a.memoizedState!==null||be,f=la;var d=be;la=o,(be=a)&&!d?ka(e,s,(s.subtreeFlags&8772)!==0):La(e,s),la=f,be=d}break;case 30:break;default:La(e,s)}}function Jp(e){var a=e.alternate;a!==null&&(e.alternate=null,Jp(a)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(a=e.stateNode,a!==null&&rr(a)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var de=null,_n=!1;function oa(e,a,s){for(s=s.child;s!==null;)tv(e,a,s),s=s.sibling}function tv(e,a,s){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(fe,s)}catch{}switch(s.tag){case 26:be||xr(s,a),oa(e,a,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:be||xr(s,a);var o=de,f=_n;Ha(s.type)&&(de=s.stateNode,_n=!1),oa(e,a,s),yo(s.stateNode),de=o,_n=f;break;case 5:be||xr(s,a);case 6:if(o=de,f=_n,de=null,oa(e,a,s),de=o,_n=f,de!==null)if(_n)try{(de.nodeType===9?de.body:de.nodeName==="HTML"?de.ownerDocument.body:de).removeChild(s.stateNode)}catch(d){se(s,a,d)}else try{de.removeChild(s.stateNode)}catch(d){se(s,a,d)}break;case 18:de!==null&&(_n?(e=de,qv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),So(e)):qv(de,s.stateNode));break;case 4:o=de,f=_n,de=s.stateNode.containerInfo,_n=!0,oa(e,a,s),de=o,_n=f;break;case 0:case 11:case 14:case 15:be||Pa(2,s,a),be||Pa(4,s,a),oa(e,a,s);break;case 1:be||(xr(s,a),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Qp(s,a,o)),oa(e,a,s);break;case 21:oa(e,a,s);break;case 22:be=(o=be)||s.memoizedState!==null,oa(e,a,s),be=o;break;default:oa(e,a,s)}}function ev(e,a){if(a.memoizedState===null&&(e=a.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{So(e)}catch(s){se(a,a.return,s)}}function vw(e){switch(e.tag){case 13:case 19:var a=e.stateNode;return a===null&&(a=e.stateNode=new Wp),a;case 22:return e=e.stateNode,a=e._retryCache,a===null&&(a=e._retryCache=new Wp),a;default:throw Error(i(435,e.tag))}}function Jh(e,a){var s=vw(e);a.forEach(function(o){var f=Dw.bind(null,e,o);s.has(o)||(s.add(o),o.then(f,f))})}function xn(e,a){var s=a.deletions;if(s!==null)for(var o=0;o<s.length;o++){var f=s[o],d=e,E=a,T=E;t:for(;T!==null;){switch(T.tag){case 27:if(Ha(T.type)){de=T.stateNode,_n=!1;break t}break;case 5:de=T.stateNode,_n=!1;break t;case 3:case 4:de=T.stateNode.containerInfo,_n=!0;break t}T=T.return}if(de===null)throw Error(i(160));tv(d,E,f),de=null,_n=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)nv(a,e),a=a.sibling}var or=null;function nv(e,a){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:xn(a,e),Cn(e),o&4&&(Pa(3,e,e.return),io(3,e),Pa(5,e,e.return));break;case 1:xn(a,e),Cn(e),o&512&&(be||s===null||xr(s,s.return)),o&64&&la&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var f=or;if(xn(a,e),Cn(e),o&512&&(be||s===null||xr(s,s.return)),o&4){var d=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,f=f.ownerDocument||f;e:switch(o){case"title":d=f.getElementsByTagName("title")[0],(!d||d[nr]||d[ve]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(o),f.head.insertBefore(d,f.querySelector("head > title"))),tn(d,o,s),d[ve]=e,Ot(d),o=d;break t;case"link":var E=$v("link","href",f).get(o+(s.href||""));if(E){for(var T=0;T<E.length;T++)if(d=E[T],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){E.splice(T,1);break e}}d=f.createElement(o),tn(d,o,s),f.head.appendChild(d);break;case"meta":if(E=$v("meta","content",f).get(o+(s.content||""))){for(T=0;T<E.length;T++)if(d=E[T],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){E.splice(T,1);break e}}d=f.createElement(o),tn(d,o,s),f.head.appendChild(d);break;default:throw Error(i(468,o))}d[ve]=e,Ot(d),o=d}e.stateNode=o}else Wv(f,e.type,e.stateNode);else e.stateNode=Xv(f,o,e.memoizedProps);else d!==o?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,o===null?Wv(f,e.type,e.stateNode):Xv(f,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Xh(e,e.memoizedProps,s.memoizedProps)}break;case 27:xn(a,e),Cn(e),o&512&&(be||s===null||xr(s,s.return)),s!==null&&o&4&&Xh(e,e.memoizedProps,s.memoizedProps);break;case 5:if(xn(a,e),Cn(e),o&512&&(be||s===null||xr(s,s.return)),e.flags&32){f=e.stateNode;try{zn(f,"")}catch(K){se(e,e.return,K)}}o&4&&e.stateNode!=null&&(f=e.memoizedProps,Xh(e,f,s!==null?s.memoizedProps:f)),o&1024&&(Zh=!0);break;case 6:if(xn(a,e),Cn(e),o&4){if(e.stateNode===null)throw Error(i(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(K){se(e,e.return,K)}}break;case 3:if(_c=null,f=or,or=pc(a.containerInfo),xn(a,e),or=f,Cn(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{So(a.containerInfo)}catch(K){se(e,e.return,K)}Zh&&(Zh=!1,rv(e));break;case 4:o=or,or=pc(e.stateNode.containerInfo),xn(a,e),Cn(e),or=o;break;case 12:xn(a,e),Cn(e);break;case 13:xn(a,e),Cn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(id=Ge()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Jh(e,o)));break;case 22:f=e.memoizedState!==null;var O=s!==null&&s.memoizedState!==null,F=la,$=be;if(la=F||f,be=$||O,xn(a,e),be=$,la=F,Cn(e),o&8192)t:for(a=e.stateNode,a._visibility=f?a._visibility&-2:a._visibility|1,f&&(s===null||O||la||be||qi(e)),s=null,a=e;;){if(a.tag===5||a.tag===26){if(s===null){O=s=a;try{if(d=O.stateNode,f)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{T=O.stateNode;var tt=O.memoizedProps.style,Q=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;T.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(K){se(O,O.return,K)}}}else if(a.tag===6){if(s===null){O=a;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(K){se(O,O.return,K)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===e)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break t;for(;a.sibling===null;){if(a.return===null||a.return===e)break t;s===a&&(s=null),a=a.return}s===a&&(s=null),a.sibling.return=a.return,a=a.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Jh(e,s))));break;case 19:xn(a,e),Cn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Jh(e,o)));break;case 30:break;case 21:break;default:xn(a,e),Cn(e)}}function Cn(e){var a=e.flags;if(a&2){try{for(var s,o=e.return;o!==null;){if(Xp(o)){s=o;break}o=o.return}if(s==null)throw Error(i(160));switch(s.tag){case 27:var f=s.stateNode,d=$h(e);ac(e,d,f);break;case 5:var E=s.stateNode;s.flags&32&&(zn(E,""),s.flags&=-33);var T=$h(e);ac(e,T,E);break;case 3:case 4:var O=s.stateNode.containerInfo,F=$h(e);Wh(e,F,O);break;default:throw Error(i(161))}}catch($){se(e,e.return,$)}e.flags&=-3}a&4096&&(e.flags&=-4097)}function rv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var a=e;rv(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),e=e.sibling}}function La(e,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Zp(e,a.alternate,a),a=a.sibling}function qi(e){for(e=e.child;e!==null;){var a=e;switch(a.tag){case 0:case 11:case 14:case 15:Pa(4,a,a.return),qi(a);break;case 1:xr(a,a.return);var s=a.stateNode;typeof s.componentWillUnmount=="function"&&Qp(a,a.return,s),qi(a);break;case 27:yo(a.stateNode);case 26:case 5:xr(a,a.return),qi(a);break;case 22:a.memoizedState===null&&qi(a);break;case 30:qi(a);break;default:qi(a)}e=e.sibling}}function ka(e,a,s){for(s=s&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var o=a.alternate,f=e,d=a,E=d.flags;switch(d.tag){case 0:case 11:case 15:ka(f,d,s),io(4,d);break;case 1:if(ka(f,d,s),o=d,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){se(o,o.return,F)}if(o=d,f=o.updateQueue,f!==null){var T=o.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)Ny(O[f],T)}catch(F){se(o,o.return,F)}}s&&E&64&&Gp(d),so(d,d.return);break;case 27:$p(d);case 26:case 5:ka(f,d,s),s&&o===null&&E&4&&Kp(d),so(d,d.return);break;case 12:ka(f,d,s);break;case 13:ka(f,d,s),s&&E&4&&ev(f,d);break;case 22:d.memoizedState===null&&ka(f,d,s),so(d,d.return);break;case 30:break;default:ka(f,d,s)}a=a.sibling}}function td(e,a){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(e=a.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Yl(s))}function ed(e,a){e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&Yl(e))}function Cr(e,a,s,o){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)av(e,a,s,o),a=a.sibling}function av(e,a,s,o){var f=a.flags;switch(a.tag){case 0:case 11:case 15:Cr(e,a,s,o),f&2048&&io(9,a);break;case 1:Cr(e,a,s,o);break;case 3:Cr(e,a,s,o),f&2048&&(e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&Yl(e)));break;case 12:if(f&2048){Cr(e,a,s,o),e=a.stateNode;try{var d=a.memoizedProps,E=d.id,T=d.onPostCommit;typeof T=="function"&&T(E,a.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(O){se(a,a.return,O)}}else Cr(e,a,s,o);break;case 13:Cr(e,a,s,o);break;case 23:break;case 22:d=a.stateNode,E=a.alternate,a.memoizedState!==null?d._visibility&2?Cr(e,a,s,o):lo(e,a):d._visibility&2?Cr(e,a,s,o):(d._visibility|=2,js(e,a,s,o,(a.subtreeFlags&10256)!==0)),f&2048&&td(E,a);break;case 24:Cr(e,a,s,o),f&2048&&ed(a.alternate,a);break;default:Cr(e,a,s,o)}}function js(e,a,s,o,f){for(f=f&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var d=e,E=a,T=s,O=o,F=E.flags;switch(E.tag){case 0:case 11:case 15:js(d,E,T,O,f),io(8,E);break;case 23:break;case 22:var $=E.stateNode;E.memoizedState!==null?$._visibility&2?js(d,E,T,O,f):lo(d,E):($._visibility|=2,js(d,E,T,O,f)),f&&F&2048&&td(E.alternate,E);break;case 24:js(d,E,T,O,f),f&&F&2048&&ed(E.alternate,E);break;default:js(d,E,T,O,f)}a=a.sibling}}function lo(e,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var s=e,o=a,f=o.flags;switch(o.tag){case 22:lo(s,o),f&2048&&td(o.alternate,o);break;case 24:lo(s,o),f&2048&&ed(o.alternate,o);break;default:lo(s,o)}a=a.sibling}}var oo=8192;function zs(e){if(e.subtreeFlags&oo)for(e=e.child;e!==null;)iv(e),e=e.sibling}function iv(e){switch(e.tag){case 26:zs(e),e.flags&oo&&e.memoizedState!==null&&rS(or,e.memoizedState,e.memoizedProps);break;case 5:zs(e);break;case 3:case 4:var a=or;or=pc(e.stateNode.containerInfo),zs(e),or=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=oo,oo=16777216,zs(e),oo=a):zs(e));break;default:zs(e)}}function sv(e){var a=e.alternate;if(a!==null&&(e=a.child,e!==null)){a.child=null;do a=e.sibling,e.sibling=null,e=a;while(e!==null)}}function uo(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var o=a[s];qe=o,ov(o,e)}sv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)lv(e),e=e.sibling}function lv(e){switch(e.tag){case 0:case 11:case 15:uo(e),e.flags&2048&&Pa(9,e,e.return);break;case 3:uo(e);break;case 12:uo(e);break;case 22:var a=e.stateNode;e.memoizedState!==null&&a._visibility&2&&(e.return===null||e.return.tag!==13)?(a._visibility&=-3,ic(e)):uo(e);break;default:uo(e)}}function ic(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var o=a[s];qe=o,ov(o,e)}sv(e)}for(e=e.child;e!==null;){switch(a=e,a.tag){case 0:case 11:case 15:Pa(8,a,a.return),ic(a);break;case 22:s=a.stateNode,s._visibility&2&&(s._visibility&=-3,ic(a));break;default:ic(a)}e=e.sibling}}function ov(e,a){for(;qe!==null;){var s=qe;switch(s.tag){case 0:case 11:case 15:Pa(8,s,a);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Yl(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,qe=o;else t:for(s=e;qe!==null;){o=qe;var f=o.sibling,d=o.return;if(Jp(o),o===s){qe=null;break t}if(f!==null){f.return=d,qe=f;break t}qe=d}}}var _w={getCacheForType:function(e){var a=sn(Ve),s=a.data.get(e);return s===void 0&&(s=e(),a.data.set(e,s)),s}},Ew=typeof WeakMap=="function"?WeakMap:Map,Wt=0,le=null,Lt=null,Bt=0,Zt=0,On=null,Ua=!1,Bs=!1,nd=!1,ua=0,Ee=0,ja=0,Hi=0,rd=0,Xn=0,qs=0,co=null,En=null,ad=!1,id=0,sc=1/0,lc=null,za=null,Je=0,Ba=null,Hs=null,Fs=0,sd=0,ld=null,uv=null,fo=0,od=null;function In(){if((Wt&2)!==0&&Bt!==0)return Bt&-Bt;if(Y.T!==null){var e=Is;return e!==0?e:gd()}return pr()}function cv(){Xn===0&&(Xn=(Bt&536870912)===0||Kt?gi():536870912);var e=Kn.current;return e!==null&&(e.flags|=32),Xn}function Nn(e,a,s){(e===le&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)&&(Ys(e,0),qa(e,Bt,Xn,!1)),kn(e,s),((Wt&2)===0||e!==le)&&(e===le&&((Wt&2)===0&&(Hi|=s),Ee===4&&qa(e,Bt,Xn,!1)),Or(e))}function fv(e,a,s){if((Wt&6)!==0)throw Error(i(327));var o=!s&&(a&124)===0&&(a&e.expiredLanes)===0||gr(e,a),f=o?ww(e,a):fd(e,a,!0),d=o;do{if(f===0){Bs&&!o&&qa(e,a,0,!1);break}else{if(s=e.current.alternate,d&&!Tw(s)){f=fd(e,a,!1),d=!1;continue}if(f===2){if(d=a,e.errorRecoveryDisabledLanes&d)var E=0;else E=e.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){a=E;t:{var T=e;f=co;var O=T.current.memoizedState.isDehydrated;if(O&&(Ys(T,E).flags|=256),E=fd(T,E,!1),E!==2){if(nd&&!O){T.errorRecoveryDisabledLanes|=d,Hi|=d,f=4;break t}d=En,En=f,d!==null&&(En===null?En=d:En.push.apply(En,d))}f=E}if(d=!1,f!==2)continue}}if(f===1){Ys(e,0),qa(e,a,0,!0);break}t:{switch(o=e,d=f,d){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:qa(o,a,Xn,!Ua);break t;case 2:En=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(f=id+300-Ge(),10<f)){if(qa(o,a,Xn,!Ua),Br(o,0,!0)!==0)break t;o.timeoutHandle=zv(hv.bind(null,o,s,En,lc,ad,a,Xn,Hi,qs,Ua,d,2,-0,0),f);break t}hv(o,s,En,lc,ad,a,Xn,Hi,qs,Ua,d,0,-0,0)}}break}while(!0);Or(e)}function hv(e,a,s,o,f,d,E,T,O,F,$,tt,Q,K){if(e.timeoutHandle=-1,tt=a.subtreeFlags,(tt&8192||(tt&16785408)===16785408)&&(_o={stylesheets:null,count:0,unsuspend:nS},iv(a),tt=aS(),tt!==null)){e.cancelPendingCommit=tt(_v.bind(null,e,a,d,s,o,f,E,T,O,$,1,Q,K)),qa(e,d,E,!F);return}_v(e,a,d,s,o,f,E,T,O)}function Tw(e){for(var a=e;;){var s=a.tag;if((s===0||s===11||s===15)&&a.flags&16384&&(s=a.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var f=s[o],d=f.getSnapshot;f=f.value;try{if(!Rn(d(),f))return!1}catch{return!1}}if(s=a.child,a.subtreeFlags&16384&&s!==null)s.return=a,a=s;else{if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function qa(e,a,s,o){a&=~rd,a&=~Hi,e.suspendedLanes|=a,e.pingedLanes&=~a,o&&(e.warmLanes|=a),o=e.expirationTimes;for(var f=a;0<f;){var d=31-Se(f),E=1<<d;o[d]=-1,f&=~E}s!==0&&oe(e,s,a)}function oc(){return(Wt&6)===0?(ho(0),!1):!0}function ud(){if(Lt!==null){if(Zt===0)var e=Lt.return;else e=Lt,ea=ki=null,Rh(e),ks=null,no=0,e=Lt;for(;e!==null;)Yp(e.alternate,e),e=e.return;Lt=null}}function Ys(e,a){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,jw(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),ud(),le=e,Lt=s=Zr(e.current,null),Bt=a,Zt=0,On=null,Ua=!1,Bs=gr(e,a),nd=!1,qs=Xn=rd=Hi=ja=Ee=0,En=co=null,ad=!1,(a&8)!==0&&(a|=a&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=a;0<o;){var f=31-Se(o),d=1<<f;a|=e[f],o&=~d}return ua=a,Ou(),s}function dv(e,a){Nt=null,Y.H=Xu,a===Ql||a===ju?(a=Oy(),Zt=3):a===Dy?(a=Oy(),Zt=4):Zt=a===Ip?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,On=a,Lt===null&&(Ee=1,tc(e,Fn(a,e.current)))}function mv(){var e=Y.H;return Y.H=Xu,e===null?Xu:e}function gv(){var e=Y.A;return Y.A=_w,e}function cd(){Ee=4,Ua||(Bt&4194048)!==Bt&&Kn.current!==null||(Bs=!0),(ja&134217727)===0&&(Hi&134217727)===0||le===null||qa(le,Bt,Xn,!1)}function fd(e,a,s){var o=Wt;Wt|=2;var f=mv(),d=gv();(le!==e||Bt!==a)&&(lc=null,Ys(e,a)),a=!1;var E=Ee;t:do try{if(Zt!==0&&Lt!==null){var T=Lt,O=On;switch(Zt){case 8:ud(),E=6;break t;case 3:case 2:case 9:case 6:Kn.current===null&&(a=!0);var F=Zt;if(Zt=0,On=null,Gs(e,T,O,F),s&&Bs){E=0;break t}break;default:F=Zt,Zt=0,On=null,Gs(e,T,O,F)}}bw(),E=Ee;break}catch($){dv(e,$)}while(!0);return a&&e.shellSuspendCounter++,ea=ki=null,Wt=o,Y.H=f,Y.A=d,Lt===null&&(le=null,Bt=0,Ou()),E}function bw(){for(;Lt!==null;)yv(Lt)}function ww(e,a){var s=Wt;Wt|=2;var o=mv(),f=gv();le!==e||Bt!==a?(lc=null,sc=Ge()+500,Ys(e,a)):Bs=gr(e,a);t:do try{if(Zt!==0&&Lt!==null){a=Lt;var d=On;e:switch(Zt){case 1:Zt=0,On=null,Gs(e,a,d,1);break;case 2:case 9:if(xy(d)){Zt=0,On=null,pv(a);break}a=function(){Zt!==2&&Zt!==9||le!==e||(Zt=7),Or(e)},d.then(a,a);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:xy(d)?(Zt=0,On=null,pv(a)):(Zt=0,On=null,Gs(e,a,d,7));break;case 5:var E=null;switch(Lt.tag){case 26:E=Lt.memoizedState;case 5:case 27:var T=Lt;if(!E||Zv(E)){Zt=0,On=null;var O=T.sibling;if(O!==null)Lt=O;else{var F=T.return;F!==null?(Lt=F,uc(F)):Lt=null}break e}}Zt=0,On=null,Gs(e,a,d,5);break;case 6:Zt=0,On=null,Gs(e,a,d,6);break;case 8:ud(),Ee=6;break t;default:throw Error(i(462))}}Sw();break}catch($){dv(e,$)}while(!0);return ea=ki=null,Y.H=o,Y.A=f,Wt=s,Lt!==null?0:(le=null,Bt=0,Ou(),Ee)}function Sw(){for(;Lt!==null&&!tr();)yv(Lt)}function yv(e){var a=Hp(e.alternate,e,ua);e.memoizedProps=e.pendingProps,a===null?uc(e):Lt=a}function pv(e){var a=e,s=a.alternate;switch(a.tag){case 15:case 0:a=kp(s,a,a.pendingProps,a.type,void 0,Bt);break;case 11:a=kp(s,a,a.pendingProps,a.type.render,a.ref,Bt);break;case 5:Rh(a);default:Yp(s,a),a=Lt=vy(a,ua),a=Hp(s,a,ua)}e.memoizedProps=e.pendingProps,a===null?uc(e):Lt=a}function Gs(e,a,s,o){ea=ki=null,Rh(a),ks=null,no=0;var f=a.return;try{if(dw(e,f,a,s,Bt)){Ee=1,tc(e,Fn(s,e.current)),Lt=null;return}}catch(d){if(f!==null)throw Lt=f,d;Ee=1,tc(e,Fn(s,e.current)),Lt=null;return}a.flags&32768?(Kt||o===1?e=!0:Bs||(Bt&536870912)!==0?e=!1:(Ua=e=!0,(o===2||o===9||o===3||o===6)&&(o=Kn.current,o!==null&&o.tag===13&&(o.flags|=16384))),vv(a,e)):uc(a)}function uc(e){var a=e;do{if((a.flags&32768)!==0){vv(a,Ua);return}e=a.return;var s=gw(a.alternate,a,ua);if(s!==null){Lt=s;return}if(a=a.sibling,a!==null){Lt=a;return}Lt=a=e}while(a!==null);Ee===0&&(Ee=5)}function vv(e,a){do{var s=yw(e.alternate,e);if(s!==null){s.flags&=32767,Lt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!a&&(e=e.sibling,e!==null)){Lt=e;return}Lt=e=s}while(e!==null);Ee=6,Lt=null}function _v(e,a,s,o,f,d,E,T,O){e.cancelPendingCommit=null;do cc();while(Je!==0);if((Wt&6)!==0)throw Error(i(327));if(a!==null){if(a===e.current)throw Error(i(177));if(d=a.lanes|a.childLanes,d|=eh,Ae(e,s,d,E,T,O),e===le&&(Lt=le=null,Bt=0),Hs=a,Ba=e,Fs=s,sd=d,ld=f,uv=o,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,xw(Ur,function(){return Sv(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||o){o=Y.T,Y.T=null,f=it.p,it.p=2,E=Wt,Wt|=4;try{pw(e,a,s)}finally{Wt=E,it.p=f,Y.T=o}}Je=1,Ev(),Tv(),bv()}}function Ev(){if(Je===1){Je=0;var e=Ba,a=Hs,s=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||s){s=Y.T,Y.T=null;var o=it.p;it.p=2;var f=Wt;Wt|=4;try{nv(a,e);var d=wd,E=oy(e.containerInfo),T=d.focusedElem,O=d.selectionRange;if(E!==T&&T&&T.ownerDocument&&ly(T.ownerDocument.documentElement,T)){if(O!==null&&$f(T)){var F=O.start,$=O.end;if($===void 0&&($=F),"selectionStart"in T)T.selectionStart=F,T.selectionEnd=Math.min($,T.value.length);else{var tt=T.ownerDocument||document,Q=tt&&tt.defaultView||window;if(Q.getSelection){var K=Q.getSelection(),bt=T.textContent.length,Et=Math.min(O.start,bt),re=O.end===void 0?Et:Math.min(O.end,bt);!K.extend&&Et>re&&(E=re,re=Et,Et=E);var z=sy(T,Et),P=sy(T,re);if(z&&P&&(K.rangeCount!==1||K.anchorNode!==z.node||K.anchorOffset!==z.offset||K.focusNode!==P.node||K.focusOffset!==P.offset)){var H=tt.createRange();H.setStart(z.node,z.offset),K.removeAllRanges(),Et>re?(K.addRange(H),K.extend(P.node,P.offset)):(H.setEnd(P.node,P.offset),K.addRange(H))}}}}for(tt=[],K=T;K=K.parentNode;)K.nodeType===1&&tt.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<tt.length;T++){var Z=tt[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}bc=!!bd,wd=bd=null}finally{Wt=f,it.p=o,Y.T=s}}e.current=a,Je=2}}function Tv(){if(Je===2){Je=0;var e=Ba,a=Hs,s=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||s){s=Y.T,Y.T=null;var o=it.p;it.p=2;var f=Wt;Wt|=4;try{Zp(e,a.alternate,a)}finally{Wt=f,it.p=o,Y.T=s}}Je=3}}function bv(){if(Je===4||Je===3){Je=0,Ye();var e=Ba,a=Hs,s=Fs,o=uv;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Je=5:(Je=0,Hs=Ba=null,wv(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(za=null),Qe(s),a=a.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(fe,a,void 0,(a.current.flags&128)===128)}catch{}if(o!==null){a=Y.T,f=it.p,it.p=2,Y.T=null;try{for(var d=e.onRecoverableError,E=0;E<o.length;E++){var T=o[E];d(T.value,{componentStack:T.stack})}}finally{Y.T=a,it.p=f}}(Fs&3)!==0&&cc(),Or(e),f=e.pendingLanes,(s&4194090)!==0&&(f&42)!==0?e===od?fo++:(fo=0,od=e):fo=0,ho(0)}}function wv(e,a){(e.pooledCacheLanes&=a)===0&&(a=e.pooledCache,a!=null&&(e.pooledCache=null,Yl(a)))}function cc(e){return Ev(),Tv(),bv(),Sv()}function Sv(){if(Je!==5)return!1;var e=Ba,a=sd;sd=0;var s=Qe(Fs),o=Y.T,f=it.p;try{it.p=32>s?32:s,Y.T=null,s=ld,ld=null;var d=Ba,E=Fs;if(Je=0,Hs=Ba=null,Fs=0,(Wt&6)!==0)throw Error(i(331));var T=Wt;if(Wt|=4,lv(d.current),av(d,d.current,E,s),Wt=T,ho(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(fe,d)}catch{}return!0}finally{it.p=f,Y.T=o,wv(e,a)}}function Av(e,a,s){a=Fn(s,a),a=zh(e.stateNode,a,2),e=Ia(e,a,2),e!==null&&(kn(e,2),Or(e))}function se(e,a,s){if(e.tag===3)Av(e,e,s);else for(;a!==null;){if(a.tag===3){Av(a,e,s);break}else if(a.tag===1){var o=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(za===null||!za.has(o))){e=Fn(s,e),s=Cp(2),o=Ia(a,s,2),o!==null&&(Op(s,o,a,e),kn(o,2),Or(o));break}}a=a.return}}function hd(e,a,s){var o=e.pingCache;if(o===null){o=e.pingCache=new Ew;var f=new Set;o.set(a,f)}else f=o.get(a),f===void 0&&(f=new Set,o.set(a,f));f.has(s)||(nd=!0,f.add(s),e=Aw.bind(null,e,a,s),a.then(e,e))}function Aw(e,a,s){var o=e.pingCache;o!==null&&o.delete(a),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,le===e&&(Bt&s)===s&&(Ee===4||Ee===3&&(Bt&62914560)===Bt&&300>Ge()-id?(Wt&2)===0&&Ys(e,0):rd|=s,qs===Bt&&(qs=0)),Or(e)}function Rv(e,a){a===0&&(a=wa()),e=Ds(e,a),e!==null&&(kn(e,a),Or(e))}function Rw(e){var a=e.memoizedState,s=0;a!==null&&(s=a.retryLane),Rv(e,s)}function Dw(e,a){var s=0;switch(e.tag){case 13:var o=e.stateNode,f=e.memoizedState;f!==null&&(s=f.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(i(314))}o!==null&&o.delete(a),Rv(e,s)}function xw(e,a){return Jn(e,a)}var fc=null,Qs=null,dd=!1,hc=!1,md=!1,Fi=0;function Or(e){e!==Qs&&e.next===null&&(Qs===null?fc=Qs=e:Qs=Qs.next=e),hc=!0,dd||(dd=!0,Ow())}function ho(e,a){if(!md&&hc){md=!0;do for(var s=!1,o=fc;o!==null;){if(e!==0){var f=o.pendingLanes;if(f===0)var d=0;else{var E=o.suspendedLanes,T=o.pingedLanes;d=(1<<31-Se(42|e)+1)-1,d&=f&~(E&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,Ov(o,d))}else d=Bt,d=Br(o,o===le?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||gr(o,d)||(s=!0,Ov(o,d));o=o.next}while(s);md=!1}}function Cw(){Dv()}function Dv(){hc=dd=!1;var e=0;Fi!==0&&(Uw()&&(e=Fi),Fi=0);for(var a=Ge(),s=null,o=fc;o!==null;){var f=o.next,d=xv(o,a);d===0?(o.next=null,s===null?fc=f:s.next=f,f===null&&(Qs=s)):(s=o,(e!==0||(d&3)!==0)&&(hc=!0)),o=f}ho(e)}function xv(e,a){for(var s=e.suspendedLanes,o=e.pingedLanes,f=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var E=31-Se(d),T=1<<E,O=f[E];O===-1?((T&s)===0||(T&o)!==0)&&(f[E]=qr(T,a)):O<=a&&(e.expiredLanes|=T),d&=~T}if(a=le,s=Bt,s=Br(e,e===a?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===a&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ae(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||gr(e,s)){if(a=s&-s,a===e.callbackPriority)return a;switch(o!==null&&ae(o),Qe(s)){case 2:case 8:s=ba;break;case 32:s=Ur;break;case 268435456:s=jr;break;default:s=Ur}return o=Cv.bind(null,e),s=Jn(s,o),e.callbackPriority=a,e.callbackNode=s,a}return o!==null&&o!==null&&ae(o),e.callbackPriority=2,e.callbackNode=null,2}function Cv(e,a){if(Je!==0&&Je!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(cc()&&e.callbackNode!==s)return null;var o=Bt;return o=Br(e,e===le?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(fv(e,o,a),xv(e,Ge()),e.callbackNode!=null&&e.callbackNode===s?Cv.bind(null,e):null)}function Ov(e,a){if(cc())return null;fv(e,a,!0)}function Ow(){zw(function(){(Wt&6)!==0?Jn(Ta,Cw):Dv()})}function gd(){return Fi===0&&(Fi=gi()),Fi}function Iv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:gs(""+e)}function Nv(e,a){var s=a.ownerDocument.createElement("input");return s.name=a.name,s.value=a.value,e.id&&s.setAttribute("form",e.id),a.parentNode.insertBefore(s,a),e=new FormData(e),s.parentNode.removeChild(s),e}function Iw(e,a,s,o,f){if(a==="submit"&&s&&s.stateNode===f){var d=Iv((f[he]||null).action),E=o.submitter;E&&(a=(a=E[he]||null)?Iv(a.formAction):E.getAttribute("formAction"),a!==null&&(d=a,E=null));var T=new ys("action","action",null,o,f);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Fi!==0){var O=E?Nv(f,E):new FormData(f);Ph(s,{pending:!0,data:O,method:f.method,action:d},null,O)}}else typeof d=="function"&&(T.preventDefault(),O=E?Nv(f,E):new FormData(f),Ph(s,{pending:!0,data:O,method:f.method,action:d},d,O))},currentTarget:f}]})}}for(var yd=0;yd<th.length;yd++){var pd=th[yd],Nw=pd.toLowerCase(),Mw=pd[0].toUpperCase()+pd.slice(1);lr(Nw,"on"+Mw)}lr(fy,"onAnimationEnd"),lr(hy,"onAnimationIteration"),lr(dy,"onAnimationStart"),lr("dblclick","onDoubleClick"),lr("focusin","onFocus"),lr("focusout","onBlur"),lr($b,"onTransitionRun"),lr(Wb,"onTransitionStart"),lr(Zb,"onTransitionCancel"),lr(my,"onTransitionEnd"),ir("onMouseEnter",["mouseout","mouseover"]),ir("onMouseLeave",["mouseout","mouseover"]),ir("onPointerEnter",["pointerout","pointerover"]),ir("onPointerLeave",["pointerout","pointerover"]),mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mo));function Mv(e,a){a=(a&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],f=o.event;o=o.listeners;t:{var d=void 0;if(a)for(var E=o.length-1;0<=E;E--){var T=o[E],O=T.instance,F=T.currentTarget;if(T=T.listener,O!==d&&f.isPropagationStopped())break t;d=T,f.currentTarget=F;try{d(f)}catch($){Ju($)}f.currentTarget=null,d=O}else for(E=0;E<o.length;E++){if(T=o[E],O=T.instance,F=T.currentTarget,T=T.listener,O!==d&&f.isPropagationStopped())break t;d=T,f.currentTarget=F;try{d(f)}catch($){Ju($)}f.currentTarget=null,d=O}}}}function kt(e,a){var s=a[Hr];s===void 0&&(s=a[Hr]=new Set);var o=e+"__bubble";s.has(o)||(Vv(a,e,2,!1),s.add(o))}function vd(e,a,s){var o=0;a&&(o|=4),Vv(s,e,o,a)}var dc="_reactListening"+Math.random().toString(36).slice(2);function _d(e){if(!e[dc]){e[dc]=!0,Xe.forEach(function(s){s!=="selectionchange"&&(Vw.has(s)||vd(s,!1,e),vd(s,!0,e))});var a=e.nodeType===9?e:e.ownerDocument;a===null||a[dc]||(a[dc]=!0,vd("selectionchange",!1,a))}}function Vv(e,a,s,o){switch(a_(a)){case 2:var f=lS;break;case 8:f=oS;break;default:f=Md}s=f.bind(null,a,s,e),f=void 0,!qn||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(f=!0),o?f!==void 0?e.addEventListener(a,s,{capture:!0,passive:f}):e.addEventListener(a,s,!0):f!==void 0?e.addEventListener(a,s,{passive:f}):e.addEventListener(a,s,!1)}function Ed(e,a,s,o,f){var d=o;if((a&1)===0&&(a&2)===0&&o!==null)t:for(;;){if(o===null)return;var E=o.tag;if(E===3||E===4){var T=o.stateNode.containerInfo;if(T===f)break;if(E===4)for(E=o.return;E!==null;){var O=E.tag;if((O===3||O===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;T!==null;){if(E=ar(T),E===null)return;if(O=E.tag,O===5||O===6||O===26||O===27){o=d=E;continue t}T=T.parentNode}}o=o.return}gu(function(){var F=d,$=Bn(s),tt=[];t:{var Q=gy.get(e);if(Q!==void 0){var K=ys,bt=e;switch(e){case"keypress":if(Tr(s)===0)break t;case"keydown":case"keyup":K=bs;break;case"focusin":bt="focus",K=_s;break;case"focusout":bt="blur",K=_s;break;case"beforeblur":case"afterblur":K=_s;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Gf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=wu;break;case fy:case hy:case dy:K=Es;break;case my:K=Au;break;case"scroll":case"scrollend":K=yu;break;case"wheel":K=ws;break;case"copy":case"cut":case"paste":K=Ts;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=kl;break;case"toggle":case"beforetoggle":K=Du}var Et=(a&4)!==0,re=!Et&&(e==="scroll"||e==="scrollend"),z=Et?Q!==null?Q+"Capture":null:Q;Et=[];for(var P=F,H;P!==null;){var Z=P;if(H=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||H===null||z===null||(Z=wi(P,z),Z!=null&&Et.push(go(P,Z,H))),re)break;P=P.return}0<Et.length&&(Q=new K(Q,bt,null,s,$),tt.push({event:Q,listeners:Et}))}}if((a&7)===0){t:{if(Q=e==="mouseover"||e==="pointerover",K=e==="mouseout"||e==="pointerout",Q&&s!==Gr&&(bt=s.relatedTarget||s.fromElement)&&(ar(bt)||bt[Ke]))break t;if((K||Q)&&(Q=$.window===$?$:(Q=$.ownerDocument)?Q.defaultView||Q.parentWindow:window,K?(bt=s.relatedTarget||s.toElement,K=F,bt=bt?ar(bt):null,bt!==null&&(re=u(bt),Et=bt.tag,bt!==re||Et!==5&&Et!==27&&Et!==6)&&(bt=null)):(K=null,bt=F),K!==bt)){if(Et=Hn,Z="onMouseLeave",z="onMouseEnter",P="mouse",(e==="pointerout"||e==="pointerover")&&(Et=kl,Z="onPointerLeave",z="onPointerEnter",P="pointer"),re=K==null?Q:St(K),H=bt==null?Q:St(bt),Q=new Et(Z,P+"leave",K,s,$),Q.target=re,Q.relatedTarget=H,Z=null,ar($)===F&&(Et=new Et(z,P+"enter",bt,s,$),Et.target=H,Et.relatedTarget=re,Z=Et),re=Z,K&&bt)e:{for(Et=K,z=bt,P=0,H=Et;H;H=Ks(H))P++;for(H=0,Z=z;Z;Z=Ks(Z))H++;for(;0<P-H;)Et=Ks(Et),P--;for(;0<H-P;)z=Ks(z),H--;for(;P--;){if(Et===z||z!==null&&Et===z.alternate)break e;Et=Ks(Et),z=Ks(z)}Et=null}else Et=null;K!==null&&Pv(tt,Q,K,Et,!1),bt!==null&&re!==null&&Pv(tt,re,bt,Et,!0)}}t:{if(Q=F?St(F):window,K=Q.nodeName&&Q.nodeName.toLowerCase(),K==="select"||K==="input"&&Q.type==="file")var ht=ty;else if(Me(Q))if(ey)ht=Qb;else{ht=Yb;var Pt=Fb}else K=Q.nodeName,!K||K.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?F&&Ol(F.elementType)&&(ht=ty):ht=Gb;if(ht&&(ht=ht(e,F))){Wr(tt,ht,s,$);break t}Pt&&Pt(e,Q,F),e==="focusout"&&F&&Q.type==="number"&&F.memoizedProps.value!=null&&Ra(Q,"number",Q.value)}switch(Pt=F?St(F):window,e){case"focusin":(Me(Pt)||Pt.contentEditable==="true")&&(Ss=Pt,Wf=F,zl=null);break;case"focusout":zl=Wf=Ss=null;break;case"mousedown":Zf=!0;break;case"contextmenu":case"mouseup":case"dragend":Zf=!1,uy(tt,s,$);break;case"selectionchange":if(Xb)break;case"keydown":case"keyup":uy(tt,s,$)}var gt;if(Sr)t:{switch(e){case"compositionstart":var Tt="onCompositionStart";break t;case"compositionend":Tt="onCompositionEnd";break t;case"compositionupdate":Tt="onCompositionUpdate";break t}Tt=void 0}else jt?X(e,s)&&(Tt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Tt="onCompositionStart");Tt&&(v&&s.locale!=="ko"&&(jt||Tt!=="onCompositionStart"?Tt==="onCompositionEnd"&&jt&&(gt=Nl()):(Er=$,Da="value"in Er?Er.value:Er.textContent,jt=!0)),Pt=mc(F,Tt),0<Pt.length&&(Tt=new Pl(Tt,e,null,s,$),tt.push({event:Tt,listeners:Pt}),gt?Tt.data=gt:(gt=st(s),gt!==null&&(Tt.data=gt)))),(gt=p?Ne(e,s):zt(e,s))&&(Tt=mc(F,"onBeforeInput"),0<Tt.length&&(Pt=new Pl("onBeforeInput","beforeinput",null,s,$),tt.push({event:Pt,listeners:Tt}),Pt.data=gt)),Iw(tt,e,F,s,$)}Mv(tt,a)})}function go(e,a,s){return{instance:e,listener:a,currentTarget:s}}function mc(e,a){for(var s=a+"Capture",o=[];e!==null;){var f=e,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=wi(e,s),f!=null&&o.unshift(go(e,f,d)),f=wi(e,a),f!=null&&o.push(go(e,f,d))),e.tag===3)return o;e=e.return}return[]}function Ks(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Pv(e,a,s,o,f){for(var d=a._reactName,E=[];s!==null&&s!==o;){var T=s,O=T.alternate,F=T.stateNode;if(T=T.tag,O!==null&&O===o)break;T!==5&&T!==26&&T!==27||F===null||(O=F,f?(F=wi(s,d),F!=null&&E.unshift(go(s,F,O))):f||(F=wi(s,d),F!=null&&E.push(go(s,F,O)))),s=s.return}E.length!==0&&e.push({event:a,listeners:E})}var Pw=/\r\n?/g,Lw=/\u0000|\uFFFD/g;function Lv(e){return(typeof e=="string"?e:""+e).replace(Pw,`
`).replace(Lw,"")}function kv(e,a){return a=Lv(a),Lv(e)===a}function gc(){}function ne(e,a,s,o,f,d){switch(s){case"children":typeof o=="string"?a==="body"||a==="textarea"&&o===""||zn(e,o):(typeof o=="number"||typeof o=="bigint")&&a!=="body"&&zn(e,""+o);break;case"className":vr(e,"class",o);break;case"tabIndex":vr(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":vr(e,s,o);break;case"style":Cl(e,o,d);break;case"data":if(a!=="object"){vr(e,"data",o);break}case"src":case"href":if(o===""&&(a!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=gs(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(a!=="input"&&ne(e,a,"name",f.name,f,null),ne(e,a,"formEncType",f.formEncType,f,null),ne(e,a,"formMethod",f.formMethod,f,null),ne(e,a,"formTarget",f.formTarget,f,null)):(ne(e,a,"encType",f.encType,f,null),ne(e,a,"method",f.method,f,null),ne(e,a,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=gs(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=gc);break;case"onScroll":o!=null&&kt("scroll",e);break;case"onScrollEnd":o!=null&&kt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(s=o.__html,s!=null){if(f.children!=null)throw Error(i(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=gs(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":kt("beforetoggle",e),kt("toggle",e),Aa(e,"popover",o);break;case"xlinkActuate":$e(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":$e(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":$e(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":$e(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":$e(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":$e(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":$e(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":$e(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":$e(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Aa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Ff.get(s)||s,Aa(e,s,o))}}function Td(e,a,s,o,f,d){switch(s){case"style":Cl(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(s=o.__html,s!=null){if(f.children!=null)throw Error(i(60));e.innerHTML=s}}break;case"children":typeof o=="string"?zn(e,o):(typeof o=="number"||typeof o=="bigint")&&zn(e,""+o);break;case"onScroll":o!=null&&kt("scroll",e);break;case"onScrollEnd":o!=null&&kt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=gc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ue.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),a=s.slice(2,f?s.length-7:void 0),d=e[he]||null,d=d!=null?d[s]:null,typeof d=="function"&&e.removeEventListener(a,d,f),typeof o=="function")){typeof d!="function"&&d!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(a,o,f);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):Aa(e,s,o)}}}function tn(e,a,s){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",e),kt("load",e);var o=!1,f=!1,d;for(d in s)if(s.hasOwnProperty(d)){var E=s[d];if(E!=null)switch(d){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ne(e,a,d,E,s,null)}}f&&ne(e,a,"srcSet",s.srcSet,s,null),o&&ne(e,a,"src",s.src,s,null);return;case"input":kt("invalid",e);var T=d=E=f=null,O=null,F=null;for(o in s)if(s.hasOwnProperty(o)){var $=s[o];if($!=null)switch(o){case"name":f=$;break;case"type":E=$;break;case"checked":O=$;break;case"defaultChecked":F=$;break;case"value":d=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,a));break;default:ne(e,a,o,$,s,null)}}Ei(e,d,T,O,F,E,f,!1),ms(e);return;case"select":kt("invalid",e),o=E=d=null;for(f in s)if(s.hasOwnProperty(f)&&(T=s[f],T!=null))switch(f){case"value":d=T;break;case"defaultValue":E=T;break;case"multiple":o=T;default:ne(e,a,f,T,s,null)}a=d,s=E,e.multiple=!!o,a!=null?Yr(e,!!o,a,!1):s!=null&&Yr(e,!!o,s,!0);return;case"textarea":kt("invalid",e),d=f=o=null;for(E in s)if(s.hasOwnProperty(E)&&(T=s[E],T!=null))switch(E){case"value":o=T;break;case"defaultValue":f=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(i(91));break;default:ne(e,a,E,T,s,null)}Ti(e,o,f,d),ms(e);return;case"option":for(O in s)if(s.hasOwnProperty(O)&&(o=s[O],o!=null))switch(O){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ne(e,a,O,o,s,null)}return;case"dialog":kt("beforetoggle",e),kt("toggle",e),kt("cancel",e),kt("close",e);break;case"iframe":case"object":kt("load",e);break;case"video":case"audio":for(o=0;o<mo.length;o++)kt(mo[o],e);break;case"image":kt("error",e),kt("load",e);break;case"details":kt("toggle",e);break;case"embed":case"source":case"link":kt("error",e),kt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in s)if(s.hasOwnProperty(F)&&(o=s[F],o!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ne(e,a,F,o,s,null)}return;default:if(Ol(a)){for($ in s)s.hasOwnProperty($)&&(o=s[$],o!==void 0&&Td(e,a,$,o,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(o=s[T],o!=null&&ne(e,a,T,o,s,null))}function kw(e,a,s,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,E=null,T=null,O=null,F=null,$=null;for(K in s){var tt=s[K];if(s.hasOwnProperty(K)&&tt!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":O=tt;default:o.hasOwnProperty(K)||ne(e,a,K,null,o,tt)}}for(var Q in o){var K=o[Q];if(tt=s[Q],o.hasOwnProperty(Q)&&(K!=null||tt!=null))switch(Q){case"type":d=K;break;case"name":f=K;break;case"checked":F=K;break;case"defaultChecked":$=K;break;case"value":E=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,a));break;default:K!==tt&&ne(e,a,Q,K,o,tt)}}An(e,E,T,O,F,$,d,f);return;case"select":K=E=T=Q=null;for(d in s)if(O=s[d],s.hasOwnProperty(d)&&O!=null)switch(d){case"value":break;case"multiple":K=O;default:o.hasOwnProperty(d)||ne(e,a,d,null,o,O)}for(f in o)if(d=o[f],O=s[f],o.hasOwnProperty(f)&&(d!=null||O!=null))switch(f){case"value":Q=d;break;case"defaultValue":T=d;break;case"multiple":E=d;default:d!==O&&ne(e,a,f,d,o,O)}a=T,s=E,o=K,Q!=null?Yr(e,!!s,Q,!1):!!o!=!!s&&(a!=null?Yr(e,!!s,a,!0):Yr(e,!!s,s?[]:"",!1));return;case"textarea":K=Q=null;for(T in s)if(f=s[T],s.hasOwnProperty(T)&&f!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ne(e,a,T,null,o,f)}for(E in o)if(f=o[E],d=s[E],o.hasOwnProperty(E)&&(f!=null||d!=null))switch(E){case"value":Q=f;break;case"defaultValue":K=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==d&&ne(e,a,E,f,o,d)}te(e,Q,K);return;case"option":for(var bt in s)if(Q=s[bt],s.hasOwnProperty(bt)&&Q!=null&&!o.hasOwnProperty(bt))switch(bt){case"selected":e.selected=!1;break;default:ne(e,a,bt,null,o,Q)}for(O in o)if(Q=o[O],K=s[O],o.hasOwnProperty(O)&&Q!==K&&(Q!=null||K!=null))switch(O){case"selected":e.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:ne(e,a,O,Q,o,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in s)Q=s[Et],s.hasOwnProperty(Et)&&Q!=null&&!o.hasOwnProperty(Et)&&ne(e,a,Et,null,o,Q);for(F in o)if(Q=o[F],K=s[F],o.hasOwnProperty(F)&&Q!==K&&(Q!=null||K!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,a));break;default:ne(e,a,F,Q,o,K)}return;default:if(Ol(a)){for(var re in s)Q=s[re],s.hasOwnProperty(re)&&Q!==void 0&&!o.hasOwnProperty(re)&&Td(e,a,re,void 0,o,Q);for($ in o)Q=o[$],K=s[$],!o.hasOwnProperty($)||Q===K||Q===void 0&&K===void 0||Td(e,a,$,Q,o,K);return}}for(var z in s)Q=s[z],s.hasOwnProperty(z)&&Q!=null&&!o.hasOwnProperty(z)&&ne(e,a,z,null,o,Q);for(tt in o)Q=o[tt],K=s[tt],!o.hasOwnProperty(tt)||Q===K||Q==null&&K==null||ne(e,a,tt,Q,o,K)}var bd=null,wd=null;function yc(e){return e.nodeType===9?e:e.ownerDocument}function Uv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jv(e,a){if(e===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&a==="foreignObject"?0:e}function Sd(e,a){return e==="textarea"||e==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Ad=null;function Uw(){var e=window.event;return e&&e.type==="popstate"?e===Ad?!1:(Ad=e,!0):(Ad=null,!1)}var zv=typeof setTimeout=="function"?setTimeout:void 0,jw=typeof clearTimeout=="function"?clearTimeout:void 0,Bv=typeof Promise=="function"?Promise:void 0,zw=typeof queueMicrotask=="function"?queueMicrotask:typeof Bv<"u"?function(e){return Bv.resolve(null).then(e).catch(Bw)}:zv;function Bw(e){setTimeout(function(){throw e})}function Ha(e){return e==="head"}function qv(e,a){var s=a,o=0,f=0;do{var d=s.nextSibling;if(e.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(0<o&&8>o){s=o;var E=e.ownerDocument;if(s&1&&yo(E.documentElement),s&2&&yo(E.body),s&4)for(s=E.head,yo(s),E=s.firstChild;E;){var T=E.nextSibling,O=E.nodeName;E[nr]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&E.rel.toLowerCase()==="stylesheet"||s.removeChild(E),E=T}}if(f===0){e.removeChild(d),So(a);return}f--}else s==="$"||s==="$?"||s==="$!"?f++:o=s.charCodeAt(0)-48;else o=0;s=d}while(s);So(a)}function Rd(e){var a=e.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var s=a;switch(a=a.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Rd(s),rr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function qw(e,a,s,o){for(;e.nodeType===1;){var f=s;if(e.nodeName.toLowerCase()!==a.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[nr])switch(a){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(a==="input"&&e.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=ur(e.nextSibling),e===null)break}return null}function Hw(e,a,s){if(a==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=ur(e.nextSibling),e===null))return null;return e}function Dd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Fw(e,a){var s=e.ownerDocument;if(e.data!=="$?"||s.readyState==="complete")a();else{var o=function(){a(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function ur(e){for(;e!=null;e=e.nextSibling){var a=e.nodeType;if(a===1||a===3)break;if(a===8){if(a=e.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return e}var xd=null;function Hv(e){e=e.previousSibling;for(var a=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(a===0)return e;a--}else s==="/$"&&a++}e=e.previousSibling}return null}function Fv(e,a,s){switch(a=yc(s),e){case"html":if(e=a.documentElement,!e)throw Error(i(452));return e;case"head":if(e=a.head,!e)throw Error(i(453));return e;case"body":if(e=a.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function yo(e){for(var a=e.attributes;a.length;)e.removeAttributeNode(a[0]);rr(e)}var $n=new Map,Yv=new Set;function pc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ca=it.d;it.d={f:Yw,r:Gw,D:Qw,C:Kw,L:Xw,m:$w,X:Zw,S:Ww,M:Jw};function Yw(){var e=ca.f(),a=oc();return e||a}function Gw(e){var a=jn(e);a!==null&&a.tag===5&&a.type==="form"?fp(a):ca.r(e)}var Xs=typeof document>"u"?null:document;function Gv(e,a,s){var o=Xs;if(o&&typeof a=="string"&&a){var f=Re(a);f='link[rel="'+e+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),Yv.has(f)||(Yv.add(f),e={rel:e,crossOrigin:s,href:a},o.querySelector(f)===null&&(a=o.createElement("link"),tn(a,"link",e),Ot(a),o.head.appendChild(a)))}}function Qw(e){ca.D(e),Gv("dns-prefetch",e,null)}function Kw(e,a){ca.C(e,a),Gv("preconnect",e,a)}function Xw(e,a,s){ca.L(e,a,s);var o=Xs;if(o&&e&&a){var f='link[rel="preload"][as="'+Re(a)+'"]';a==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+Re(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+Re(s.imageSizes)+'"]')):f+='[href="'+Re(e)+'"]';var d=f;switch(a){case"style":d=$s(e);break;case"script":d=Ws(e)}$n.has(d)||(e=_({rel:"preload",href:a==="image"&&s&&s.imageSrcSet?void 0:e,as:a},s),$n.set(d,e),o.querySelector(f)!==null||a==="style"&&o.querySelector(po(d))||a==="script"&&o.querySelector(vo(d))||(a=o.createElement("link"),tn(a,"link",e),Ot(a),o.head.appendChild(a)))}}function $w(e,a){ca.m(e,a);var s=Xs;if(s&&e){var o=a&&typeof a.as=="string"?a.as:"script",f='link[rel="modulepreload"][as="'+Re(o)+'"][href="'+Re(e)+'"]',d=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ws(e)}if(!$n.has(d)&&(e=_({rel:"modulepreload",href:e},a),$n.set(d,e),s.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(vo(d)))return}o=s.createElement("link"),tn(o,"link",e),Ot(o),s.head.appendChild(o)}}}function Ww(e,a,s){ca.S(e,a,s);var o=Xs;if(o&&e){var f=Vt(o).hoistableStyles,d=$s(e);a=a||"default";var E=f.get(d);if(!E){var T={loading:0,preload:null};if(E=o.querySelector(po(d)))T.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":a},s),(s=$n.get(d))&&Cd(e,s);var O=E=o.createElement("link");Ot(O),tn(O,"link",e),O._p=new Promise(function(F,$){O.onload=F,O.onerror=$}),O.addEventListener("load",function(){T.loading|=1}),O.addEventListener("error",function(){T.loading|=2}),T.loading|=4,vc(E,a,o)}E={type:"stylesheet",instance:E,count:1,state:T},f.set(d,E)}}}function Zw(e,a){ca.X(e,a);var s=Xs;if(s&&e){var o=Vt(s).hoistableScripts,f=Ws(e),d=o.get(f);d||(d=s.querySelector(vo(f)),d||(e=_({src:e,async:!0},a),(a=$n.get(f))&&Od(e,a),d=s.createElement("script"),Ot(d),tn(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(f,d))}}function Jw(e,a){ca.M(e,a);var s=Xs;if(s&&e){var o=Vt(s).hoistableScripts,f=Ws(e),d=o.get(f);d||(d=s.querySelector(vo(f)),d||(e=_({src:e,async:!0,type:"module"},a),(a=$n.get(f))&&Od(e,a),d=s.createElement("script"),Ot(d),tn(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(f,d))}}function Qv(e,a,s,o){var f=(f=_t.current)?pc(f):null;if(!f)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(a=$s(s.href),s=Vt(f).hoistableStyles,o=s.get(a),o||(o={type:"style",instance:null,count:0,state:null},s.set(a,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=$s(s.href);var d=Vt(f).hoistableStyles,E=d.get(e);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,E),(d=f.querySelector(po(e)))&&!d._p&&(E.instance=d,E.state.loading=5),$n.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},$n.set(e,s),d||tS(f,e,s,E.state))),a&&o===null)throw Error(i(528,""));return E}if(a&&o!==null)throw Error(i(529,""));return null;case"script":return a=s.async,s=s.src,typeof s=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Ws(s),s=Vt(f).hoistableScripts,o=s.get(a),o||(o={type:"script",instance:null,count:0,state:null},s.set(a,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function $s(e){return'href="'+Re(e)+'"'}function po(e){return'link[rel="stylesheet"]['+e+"]"}function Kv(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function tS(e,a,s,o){e.querySelector('link[rel="preload"][as="style"]['+a+"]")?o.loading=1:(a=e.createElement("link"),o.preload=a,a.addEventListener("load",function(){return o.loading|=1}),a.addEventListener("error",function(){return o.loading|=2}),tn(a,"link",s),Ot(a),e.head.appendChild(a))}function Ws(e){return'[src="'+Re(e)+'"]'}function vo(e){return"script[async]"+e}function Xv(e,a,s){if(a.count++,a.instance===null)switch(a.type){case"style":var o=e.querySelector('style[data-href~="'+Re(s.href)+'"]');if(o)return a.instance=o,Ot(o),o;var f=_({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ot(o),tn(o,"style",f),vc(o,s.precedence,e),a.instance=o;case"stylesheet":f=$s(s.href);var d=e.querySelector(po(f));if(d)return a.state.loading|=4,a.instance=d,Ot(d),d;o=Kv(s),(f=$n.get(f))&&Cd(o,f),d=(e.ownerDocument||e).createElement("link"),Ot(d);var E=d;return E._p=new Promise(function(T,O){E.onload=T,E.onerror=O}),tn(d,"link",o),a.state.loading|=4,vc(d,s.precedence,e),a.instance=d;case"script":return d=Ws(s.src),(f=e.querySelector(vo(d)))?(a.instance=f,Ot(f),f):(o=s,(f=$n.get(d))&&(o=_({},s),Od(o,f)),e=e.ownerDocument||e,f=e.createElement("script"),Ot(f),tn(f,"link",o),e.head.appendChild(f),a.instance=f);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(o=a.instance,a.state.loading|=4,vc(o,s.precedence,e));return a.instance}function vc(e,a,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,d=f,E=0;E<o.length;E++){var T=o[E];if(T.dataset.precedence===a)d=T;else if(d!==f)break}d?d.parentNode.insertBefore(e,d.nextSibling):(a=s.nodeType===9?s.head:s,a.insertBefore(e,a.firstChild))}function Cd(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.title==null&&(e.title=a.title)}function Od(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.integrity==null&&(e.integrity=a.integrity)}var _c=null;function $v(e,a,s){if(_c===null){var o=new Map,f=_c=new Map;f.set(s,o)}else f=_c,o=f.get(s),o||(o=new Map,f.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),f=0;f<s.length;f++){var d=s[f];if(!(d[nr]||d[ve]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(a)||"";E=e+E;var T=o.get(E);T?T.push(d):o.set(E,[d])}}return o}function Wv(e,a,s){e=e.ownerDocument||e,e.head.insertBefore(s,a==="title"?e.querySelector("head > title"):null)}function eS(e,a,s){if(s===1||a.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return e=a.disabled,typeof a.precedence=="string"&&e==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Zv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var _o=null;function nS(){}function rS(e,a,s){if(_o===null)throw Error(i(475));var o=_o;if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=$s(s.href),d=e.querySelector(po(f));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=Ec.bind(o),e.then(o,o)),a.state.loading|=4,a.instance=d,Ot(d);return}d=e.ownerDocument||e,s=Kv(s),(f=$n.get(f))&&Cd(s,f),d=d.createElement("link"),Ot(d);var E=d;E._p=new Promise(function(T,O){E.onload=T,E.onerror=O}),tn(d,"link",s),a.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(a,e),(e=a.state.preload)&&(a.state.loading&3)===0&&(o.count++,a=Ec.bind(o),e.addEventListener("load",a),e.addEventListener("error",a))}}function aS(){if(_o===null)throw Error(i(475));var e=_o;return e.stylesheets&&e.count===0&&Id(e,e.stylesheets),0<e.count?function(a){var s=setTimeout(function(){if(e.stylesheets&&Id(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(s)}}:null}function Ec(){if(this.count--,this.count===0){if(this.stylesheets)Id(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Tc=null;function Id(e,a){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Tc=new Map,a.forEach(iS,e),Tc=null,Ec.call(e))}function iS(e,a){if(!(a.state.loading&4)){var s=Tc.get(e);if(s)var o=s.get(null);else{s=new Map,Tc.set(e,s);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var E=f[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(s.set(E.dataset.precedence,E),o=E)}o&&s.set(null,o)}f=a.instance,E=f.getAttribute("data-precedence"),d=s.get(E)||o,d===o&&s.set(null,f),s.set(E,f),this.count++,o=Ec.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),d?d.parentNode.insertBefore(f,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),a.state.loading|=4}}var Eo={$$typeof:W,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function sS(e,a,s,o,f,d,E,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=er(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=er(0),this.hiddenUpdates=er(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Jv(e,a,s,o,f,d,E,T,O,F,$,tt){return e=new sS(e,a,s,E,T,O,F,tt),a=1,d===!0&&(a|=24),d=Dn(3,null,null,a),e.current=d,d.stateNode=e,a=hh(),a.refCount++,e.pooledCache=a,a.refCount++,d.memoizedState={element:o,isDehydrated:s,cache:a},yh(d),e}function t_(e){return e?(e=xs,e):xs}function e_(e,a,s,o,f,d){f=t_(f),o.context===null?o.context=f:o.pendingContext=f,o=Oa(a),o.payload={element:s},d=d===void 0?null:d,d!==null&&(o.callback=d),s=Ia(e,o,a),s!==null&&(Nn(s,e,a),Xl(s,e,a))}function n_(e,a){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<a?s:a}}function Nd(e,a){n_(e,a),(e=e.alternate)&&n_(e,a)}function r_(e){if(e.tag===13){var a=Ds(e,67108864);a!==null&&Nn(a,e,67108864),Nd(e,67108864)}}var bc=!0;function lS(e,a,s,o){var f=Y.T;Y.T=null;var d=it.p;try{it.p=2,Md(e,a,s,o)}finally{it.p=d,Y.T=f}}function oS(e,a,s,o){var f=Y.T;Y.T=null;var d=it.p;try{it.p=8,Md(e,a,s,o)}finally{it.p=d,Y.T=f}}function Md(e,a,s,o){if(bc){var f=Vd(o);if(f===null)Ed(e,a,o,wc,s),i_(e,o);else if(cS(f,e,a,s,o))o.stopPropagation();else if(i_(e,o),a&4&&-1<uS.indexOf(e)){for(;f!==null;){var d=jn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=Sn(d.pendingLanes);if(E!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;E;){var O=1<<31-Se(E);T.entanglements[1]|=O,E&=~O}Or(d),(Wt&6)===0&&(sc=Ge()+500,ho(0))}}break;case 13:T=Ds(d,2),T!==null&&Nn(T,d,2),oc(),Nd(d,2)}if(d=Vd(o),d===null&&Ed(e,a,o,wc,s),d===f)break;f=d}f!==null&&o.stopPropagation()}else Ed(e,a,o,null,s)}}function Vd(e){return e=Bn(e),Pd(e)}var wc=null;function Pd(e){if(wc=null,e=ar(e),e!==null){var a=u(e);if(a===null)e=null;else{var s=a.tag;if(s===13){if(e=h(a),e!==null)return e;e=null}else if(s===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;e=null}else a!==e&&(e=null)}}return wc=e,null}function a_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ss()){case Ta:return 2;case ba:return 8;case Ur:case Al:return 32;case jr:return 268435456;default:return 32}default:return 32}}var Ld=!1,Fa=null,Ya=null,Ga=null,To=new Map,bo=new Map,Qa=[],uS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function i_(e,a){switch(e){case"focusin":case"focusout":Fa=null;break;case"dragenter":case"dragleave":Ya=null;break;case"mouseover":case"mouseout":Ga=null;break;case"pointerover":case"pointerout":To.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":bo.delete(a.pointerId)}}function wo(e,a,s,o,f,d){return e===null||e.nativeEvent!==d?(e={blockedOn:a,domEventName:s,eventSystemFlags:o,nativeEvent:d,targetContainers:[f]},a!==null&&(a=jn(a),a!==null&&r_(a)),e):(e.eventSystemFlags|=o,a=e.targetContainers,f!==null&&a.indexOf(f)===-1&&a.push(f),e)}function cS(e,a,s,o,f){switch(a){case"focusin":return Fa=wo(Fa,e,a,s,o,f),!0;case"dragenter":return Ya=wo(Ya,e,a,s,o,f),!0;case"mouseover":return Ga=wo(Ga,e,a,s,o,f),!0;case"pointerover":var d=f.pointerId;return To.set(d,wo(To.get(d)||null,e,a,s,o,f)),!0;case"gotpointercapture":return d=f.pointerId,bo.set(d,wo(bo.get(d)||null,e,a,s,o,f)),!0}return!1}function s_(e){var a=ar(e.target);if(a!==null){var s=u(a);if(s!==null){if(a=s.tag,a===13){if(a=h(s),a!==null){e.blockedOn=a,Sa(e.priority,function(){if(s.tag===13){var o=In();o=Yt(o);var f=Ds(s,o);f!==null&&Nn(f,s,o),Nd(s,o)}});return}}else if(a===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sc(e){if(e.blockedOn!==null)return!1;for(var a=e.targetContainers;0<a.length;){var s=Vd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Gr=o,s.target.dispatchEvent(o),Gr=null}else return a=jn(s),a!==null&&r_(a),e.blockedOn=s,!1;a.shift()}return!0}function l_(e,a,s){Sc(e)&&s.delete(a)}function fS(){Ld=!1,Fa!==null&&Sc(Fa)&&(Fa=null),Ya!==null&&Sc(Ya)&&(Ya=null),Ga!==null&&Sc(Ga)&&(Ga=null),To.forEach(l_),bo.forEach(l_)}function Ac(e,a){e.blockedOn===a&&(e.blockedOn=null,Ld||(Ld=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,fS)))}var Rc=null;function o_(e){Rc!==e&&(Rc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Rc===e&&(Rc=null);for(var a=0;a<e.length;a+=3){var s=e[a],o=e[a+1],f=e[a+2];if(typeof o!="function"){if(Pd(o||s)===null)continue;break}var d=jn(s);d!==null&&(e.splice(a,3),a-=3,Ph(d,{pending:!0,data:f,method:s.method,action:o},o,f))}}))}function So(e){function a(O){return Ac(O,e)}Fa!==null&&Ac(Fa,e),Ya!==null&&Ac(Ya,e),Ga!==null&&Ac(Ga,e),To.forEach(a),bo.forEach(a);for(var s=0;s<Qa.length;s++){var o=Qa[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Qa.length&&(s=Qa[0],s.blockedOn===null);)s_(s),s.blockedOn===null&&Qa.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var f=s[o],d=s[o+1],E=f[he]||null;if(typeof d=="function")E||o_(s);else if(E){var T=null;if(d&&d.hasAttribute("formAction")){if(f=d,E=d[he]||null)T=E.formAction;else if(Pd(f)!==null)continue}else T=E.action;typeof T=="function"?s[o+1]=T:(s.splice(o,3),o-=3),o_(s)}}}function kd(e){this._internalRoot=e}Dc.prototype.render=kd.prototype.render=function(e){var a=this._internalRoot;if(a===null)throw Error(i(409));var s=a.current,o=In();e_(s,o,e,a,null,null)},Dc.prototype.unmount=kd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var a=e.containerInfo;e_(e.current,2,null,e,null,null),oc(),a[Ke]=null}};function Dc(e){this._internalRoot=e}Dc.prototype.unstable_scheduleHydration=function(e){if(e){var a=pr();e={blockedOn:null,target:e,priority:a};for(var s=0;s<Qa.length&&a!==0&&a<Qa[s].priority;s++);Qa.splice(s,0,e),s===0&&s_(e)}};var u_=t.version;if(u_!=="19.1.0")throw Error(i(527,u_,"19.1.0"));it.findDOMNode=function(e){var a=e._reactInternals;if(a===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=g(a),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var hS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xc.isDisabled&&xc.supportsFiber)try{fe=xc.inject(hS),Qt=xc}catch{}}return Ro.createRoot=function(e,a){if(!l(e))throw Error(i(299));var s=!1,o="",f=Ap,d=Rp,E=Dp,T=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(d=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(T=a.unstable_transitionCallbacks)),a=Jv(e,1,!1,null,null,s,o,f,d,E,T,null),e[Ke]=a.current,_d(e),new kd(a)},Ro.hydrateRoot=function(e,a,s){if(!l(e))throw Error(i(299));var o=!1,f="",d=Ap,E=Rp,T=Dp,O=null,F=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(E=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(O=s.unstable_transitionCallbacks),s.formState!==void 0&&(F=s.formState)),a=Jv(e,1,!0,a,s??null,o,f,d,E,T,O,F),a.context=t_(null),s=a.current,o=In(),o=Yt(o),f=Oa(o),f.callback=null,Ia(s,f,o),s=o,a.current.lanes=s,kn(a,s),Or(a),e[Ke]=a.current,_d(e),new Dc(a)},Ro.version="19.1.0",Ro}var __;function wS(){if(__)return zd.exports;__=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),zd.exports=bS(),zd.exports}var SS=wS(),Do={},E_;function AS(){if(E_)return Do;E_=1,Object.defineProperty(Do,"__esModule",{value:!0}),Do.parse=h,Do.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,u=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function h(w,x){const D=new u,j=w.length;if(j<2)return D;const L=(x==null?void 0:x.decode)||_;let G=0;do{const rt=w.indexOf("=",G);if(rt===-1)break;const W=w.indexOf(";",G),ot=W===-1?j:W;if(rt>ot){G=w.lastIndexOf(";",rt-1)+1;continue}const ut=m(w,G,rt),pt=g(w,rt,ut),M=w.slice(ut,pt);if(D[M]===void 0){let A=m(w,rt+1,ot),R=g(w,ot,A);const I=L(w.slice(A,R));D[M]=I}G=ot+1}while(G<j);return D}function m(w,x,D){do{const j=w.charCodeAt(x);if(j!==32&&j!==9)return x}while(++x<D);return D}function g(w,x,D){for(;x>D;){const j=w.charCodeAt(--x);if(j!==32&&j!==9)return x+1}return D}function y(w,x,D){const j=(D==null?void 0:D.encode)||encodeURIComponent;if(!r.test(w))throw new TypeError(`argument name is invalid: ${w}`);const L=j(x);if(!t.test(L))throw new TypeError(`argument val is invalid: ${x}`);let G=w+"="+L;if(!D)return G;if(D.maxAge!==void 0){if(!Number.isInteger(D.maxAge))throw new TypeError(`option maxAge is invalid: ${D.maxAge}`);G+="; Max-Age="+D.maxAge}if(D.domain){if(!n.test(D.domain))throw new TypeError(`option domain is invalid: ${D.domain}`);G+="; Domain="+D.domain}if(D.path){if(!i.test(D.path))throw new TypeError(`option path is invalid: ${D.path}`);G+="; Path="+D.path}if(D.expires){if(!b(D.expires)||!Number.isFinite(D.expires.valueOf()))throw new TypeError(`option expires is invalid: ${D.expires}`);G+="; Expires="+D.expires.toUTCString()}if(D.httpOnly&&(G+="; HttpOnly"),D.secure&&(G+="; Secure"),D.partitioned&&(G+="; Partitioned"),D.priority)switch(typeof D.priority=="string"?D.priority.toLowerCase():void 0){case"low":G+="; Priority=Low";break;case"medium":G+="; Priority=Medium";break;case"high":G+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${D.priority}`)}if(D.sameSite)switch(typeof D.sameSite=="string"?D.sameSite.toLowerCase():D.sameSite){case!0:case"strict":G+="; SameSite=Strict";break;case"lax":G+="; SameSite=Lax";break;case"none":G+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${D.sameSite}`)}return G}function _(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function b(w){return l.call(w)==="[object Date]"}return Do}AS();/**
 * react-router v7.5.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var T_="popstate";function RS(r={}){function t(l,u){let{pathname:h="/",search:m="",hash:g=""}=ts(l.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),om("",{pathname:h,search:m,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(l,u){let h=l.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let g=l.location.href,y=g.indexOf("#");m=y===-1?g:g.slice(0,y)}return m+"#"+(typeof u=="string"?u:Bo(u))}function i(l,u){Zn(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return xS(t,n,i,r)}function me(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function Zn(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function DS(){return Math.random().toString(36).substring(2,10)}function b_(r,t){return{usr:r.state,key:r.key,idx:t}}function om(r,t,n=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?ts(t):t,state:n,key:t&&t.key||i||DS()}}function Bo({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function ts(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let i=r.indexOf("?");i>=0&&(t.search=r.substring(i),r=r.substring(0,i)),r&&(t.pathname=r)}return t}function xS(r,t,n,i={}){let{window:l=document.defaultView,v5Compat:u=!1}=i,h=l.history,m="POP",g=null,y=_();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function _(){return(h.state||{idx:null}).idx}function b(){m="POP";let L=_(),G=L==null?null:L-y;y=L,g&&g({action:m,location:j.location,delta:G})}function w(L,G){m="PUSH";let rt=om(j.location,L,G);n&&n(rt,L),y=_()+1;let W=b_(rt,y),ot=j.createHref(rt);try{h.pushState(W,"",ot)}catch(ut){if(ut instanceof DOMException&&ut.name==="DataCloneError")throw ut;l.location.assign(ot)}u&&g&&g({action:m,location:j.location,delta:1})}function x(L,G){m="REPLACE";let rt=om(j.location,L,G);n&&n(rt,L),y=_();let W=b_(rt,y),ot=j.createHref(rt);h.replaceState(W,"",ot),u&&g&&g({action:m,location:j.location,delta:0})}function D(L){let G=l.location.origin!=="null"?l.location.origin:l.location.href,rt=typeof L=="string"?L:Bo(L);return rt=rt.replace(/ $/,"%20"),me(G,`No window.location.(origin|href) available to create URL for href: ${rt}`),new URL(rt,G)}let j={get action(){return m},get location(){return r(l,h)},listen(L){if(g)throw new Error("A history only accepts one active listener");return l.addEventListener(T_,b),g=L,()=>{l.removeEventListener(T_,b),g=null}},createHref(L){return t(l,L)},createURL:D,encodeLocation(L){let G=D(L);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:w,replace:x,go(L){return h.go(L)}};return j}function hE(r,t,n="/"){return CS(r,t,n,!1)}function CS(r,t,n,i){let l=typeof t=="string"?ts(t):t,u=ga(l.pathname||"/",n);if(u==null)return null;let h=dE(r);OS(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let y=BS(u);m=jS(h[g],y,i)}return m}function dE(r,t=[],n=[],i=""){let l=(u,h,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};g.relativePath.startsWith("/")&&(me(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length));let y=ha([i,g.relativePath]),_=n.concat(g);u.children&&u.children.length>0&&(me(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),dE(u.children,t,_,y)),!(u.path==null&&!u.index)&&t.push({path:y,score:kS(y,u.index),routesMeta:_})};return r.forEach((u,h)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))l(u,h);else for(let g of mE(u.path))l(u,h,g)}),t}function mE(r){let t=r.split("/");if(t.length===0)return[];let[n,...i]=t,l=n.endsWith("?"),u=n.replace(/\?$/,"");if(i.length===0)return l?[u,""]:[u];let h=mE(i.join("/")),m=[];return m.push(...h.map(g=>g===""?u:[u,g].join("/"))),l&&m.push(...h),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function OS(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:US(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var IS=/^:[\w-]+$/,NS=3,MS=2,VS=1,PS=10,LS=-2,w_=r=>r==="*";function kS(r,t){let n=r.split("/"),i=n.length;return n.some(w_)&&(i+=LS),t&&(i+=MS),n.filter(l=>!w_(l)).reduce((l,u)=>l+(IS.test(u)?NS:u===""?VS:PS),i)}function US(r,t){return r.length===t.length&&r.slice(0,-1).every((i,l)=>i===t[l])?r[r.length-1]-t[t.length-1]:0}function jS(r,t,n=!1){let{routesMeta:i}=r,l={},u="/",h=[];for(let m=0;m<i.length;++m){let g=i[m],y=m===i.length-1,_=u==="/"?t:t.slice(u.length)||"/",b=Qc({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},_),w=g.route;if(!b&&y&&n&&!i[i.length-1].route.index&&(b=Qc({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},_)),!b)return null;Object.assign(l,b.params),h.push({params:l,pathname:ha([u,b.pathname]),pathnameBase:YS(ha([u,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(u=ha([u,b.pathnameBase]))}return h}function Qc(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,i]=zS(r.path,r.caseSensitive,r.end),l=t.match(n);if(!l)return null;let u=l[0],h=u.replace(/(.)\/+$/,"$1"),m=l.slice(1);return{params:i.reduce((y,{paramName:_,isOptional:b},w)=>{if(_==="*"){let D=m[w]||"";h=u.slice(0,u.length-D.length).replace(/(.)\/+$/,"$1")}const x=m[w];return b&&!x?y[_]=void 0:y[_]=(x||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:h,pattern:r}}function zS(r,t=!1,n=!0){Zn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],l="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(i.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(i.push({paramName:"*"}),l+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":r!==""&&r!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),i]}function BS(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Zn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function ga(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=r.charAt(n);return i&&i!=="/"?null:r.slice(n)||"/"}function qS(r,t="/"){let{pathname:n,search:i="",hash:l=""}=typeof r=="string"?ts(r):r;return{pathname:n?n.startsWith("/")?n:HS(n,t):t,search:GS(i),hash:QS(l)}}function HS(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function Fd(r,t,n,i){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function FS(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Km(r){let t=FS(r);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function Xm(r,t,n,i=!1){let l;typeof r=="string"?l=ts(r):(l={...r},me(!l.pathname||!l.pathname.includes("?"),Fd("?","pathname","search",l)),me(!l.pathname||!l.pathname.includes("#"),Fd("#","pathname","hash",l)),me(!l.search||!l.search.includes("#"),Fd("#","search","hash",l)));let u=r===""||l.pathname==="",h=u?"/":l.pathname,m;if(h==null)m=n;else{let b=t.length-1;if(!i&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),b-=1;l.pathname=w.join("/")}m=b>=0?t[b]:"/"}let g=qS(l,m),y=h&&h!=="/"&&h.endsWith("/"),_=(u||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||_)&&(g.pathname+="/"),g}var ha=r=>r.join("/").replace(/\/\/+/g,"/"),YS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),GS=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,QS=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function KS(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var gE=["POST","PUT","PATCH","DELETE"];new Set(gE);var XS=["GET",...gE];new Set(XS);var yl=q.createContext(null);yl.displayName="DataRouter";var mf=q.createContext(null);mf.displayName="DataRouterState";var yE=q.createContext({isTransitioning:!1});yE.displayName="ViewTransition";var $S=q.createContext(new Map);$S.displayName="Fetchers";var WS=q.createContext(null);WS.displayName="Await";var fr=q.createContext(null);fr.displayName="Navigation";var Jo=q.createContext(null);Jo.displayName="Location";var hr=q.createContext({outlet:null,matches:[],isDataRoute:!1});hr.displayName="Route";var $m=q.createContext(null);$m.displayName="RouteError";function ZS(r,{relative:t}={}){me(pl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=q.useContext(fr),{hash:l,pathname:u,search:h}=tu(r,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:ha([n,u])),i.createHref({pathname:m,search:h,hash:l})}function pl(){return q.useContext(Jo)!=null}function _a(){return me(pl(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(Jo).location}var pE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function vE(r){q.useContext(fr).static||q.useLayoutEffect(r)}function Wm(){let{isDataRoute:r}=q.useContext(hr);return r?hA():JS()}function JS(){me(pl(),"useNavigate() may be used only in the context of a <Router> component.");let r=q.useContext(yl),{basename:t,navigator:n}=q.useContext(fr),{matches:i}=q.useContext(hr),{pathname:l}=_a(),u=JSON.stringify(Km(i)),h=q.useRef(!1);return vE(()=>{h.current=!0}),q.useCallback((g,y={})=>{if(Zn(h.current,pE),!h.current)return;if(typeof g=="number"){n.go(g);return}let _=Xm(g,JSON.parse(u),l,y.relative==="path");r==null&&t!=="/"&&(_.pathname=_.pathname==="/"?t:ha([t,_.pathname])),(y.replace?n.replace:n.push)(_,y.state,y)},[t,n,u,l,r])}q.createContext(null);function tA(){let{matches:r}=q.useContext(hr),t=r[r.length-1];return t?t.params:{}}function tu(r,{relative:t}={}){let{matches:n}=q.useContext(hr),{pathname:i}=_a(),l=JSON.stringify(Km(n));return q.useMemo(()=>Xm(r,JSON.parse(l),i,t==="path"),[r,l,i,t])}function eA(r,t){return _E(r,t)}function _E(r,t,n,i){var rt;me(pl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l,static:u}=q.useContext(fr),{matches:h}=q.useContext(hr),m=h[h.length-1],g=m?m.params:{},y=m?m.pathname:"/",_=m?m.pathnameBase:"/",b=m&&m.route;{let W=b&&b.path||"";EE(y,!b||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let w=_a(),x;if(t){let W=typeof t=="string"?ts(t):t;me(_==="/"||((rt=W.pathname)==null?void 0:rt.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${W.pathname}" was given in the \`location\` prop.`),x=W}else x=w;let D=x.pathname||"/",j=D;if(_!=="/"){let W=_.replace(/^\//,"").split("/");j="/"+D.replace(/^\//,"").split("/").slice(W.length).join("/")}let L=!u&&n&&n.matches&&n.matches.length>0?n.matches:hE(r,{pathname:j});Zn(b||L!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Zn(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let G=sA(L&&L.map(W=>Object.assign({},W,{params:Object.assign({},g,W.params),pathname:ha([_,l.encodeLocation?l.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?_:ha([_,l.encodeLocation?l.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),h,n,i);return t&&G?q.createElement(Jo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},G):G}function nA(){let r=fA(),t=KS(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=q.createElement(q.Fragment,null,q.createElement("p",null,"💿 Hey developer 👋"),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:u},"ErrorBoundary")," or"," ",q.createElement("code",{style:u},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},t),n?q.createElement("pre",{style:l},n):null,h)}var rA=q.createElement(nA,null),aA=class extends q.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?q.createElement(hr.Provider,{value:this.props.routeContext},q.createElement($m.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function iA({routeContext:r,match:t,children:n}){let i=q.useContext(yl);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),q.createElement(hr.Provider,{value:r},n)}function sA(r,t=[],n=null,i=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let l=r,u=n==null?void 0:n.errors;if(u!=null){let g=l.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);me(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,g+1))}let h=!1,m=-1;if(n)for(let g=0;g<l.length;g++){let y=l[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=g),y.route.id){let{loaderData:_,errors:b}=n,w=y.route.loader&&!_.hasOwnProperty(y.route.id)&&(!b||b[y.route.id]===void 0);if(y.route.lazy||w){h=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((g,y,_)=>{let b,w=!1,x=null,D=null;n&&(b=u&&y.route.id?u[y.route.id]:void 0,x=y.route.errorElement||rA,h&&(m<0&&_===0?(EE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,D=null):m===_&&(w=!0,D=y.route.hydrateFallbackElement||null)));let j=t.concat(l.slice(0,_+1)),L=()=>{let G;return b?G=x:w?G=D:y.route.Component?G=q.createElement(y.route.Component,null):y.route.element?G=y.route.element:G=g,q.createElement(iA,{match:y,routeContext:{outlet:g,matches:j,isDataRoute:n!=null},children:G})};return n&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?q.createElement(aA,{location:n.location,revalidation:n.revalidation,component:x,error:b,children:L(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):L()},null)}function Zm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lA(r){let t=q.useContext(yl);return me(t,Zm(r)),t}function oA(r){let t=q.useContext(mf);return me(t,Zm(r)),t}function uA(r){let t=q.useContext(hr);return me(t,Zm(r)),t}function Jm(r){let t=uA(r),n=t.matches[t.matches.length-1];return me(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function cA(){return Jm("useRouteId")}function fA(){var i;let r=q.useContext($m),t=oA("useRouteError"),n=Jm("useRouteError");return r!==void 0?r:(i=t.errors)==null?void 0:i[n]}function hA(){let{router:r}=lA("useNavigate"),t=Jm("useNavigate"),n=q.useRef(!1);return vE(()=>{n.current=!0}),q.useCallback(async(l,u={})=>{Zn(n.current,pE),n.current&&(typeof l=="number"?r.navigate(l):await r.navigate(l,{fromRouteId:t,...u}))},[r,t])}var S_={};function EE(r,t,n){!t&&!S_[r]&&(S_[r]=!0,Zn(!1,n))}q.memo(dA);function dA({routes:r,future:t,state:n}){return _E(r,void 0,n,t)}function Xa({to:r,replace:t,state:n,relative:i}){me(pl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=q.useContext(fr);Zn(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=q.useContext(hr),{pathname:h}=_a(),m=Wm(),g=Xm(r,Km(u),h,i==="path"),y=JSON.stringify(g);return q.useEffect(()=>{m(JSON.parse(y),{replace:t,state:n,relative:i})},[m,y,i,t,n]),null}function fa(r){me(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function mA({basename:r="/",children:t=null,location:n,navigationType:i="POP",navigator:l,static:u=!1}){me(!pl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),m=q.useMemo(()=>({basename:h,navigator:l,static:u,future:{}}),[h,l,u]);typeof n=="string"&&(n=ts(n));let{pathname:g="/",search:y="",hash:_="",state:b=null,key:w="default"}=n,x=q.useMemo(()=>{let D=ga(g,h);return D==null?null:{location:{pathname:D,search:y,hash:_,state:b,key:w},navigationType:i}},[h,g,y,_,b,w,i]);return Zn(x!=null,`<Router basename="${h}"> is not able to match the URL "${g}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:q.createElement(fr.Provider,{value:m},q.createElement(Jo.Provider,{children:t,value:x}))}function gA({children:r,location:t}){return eA(um(r),t)}function um(r,t=[]){let n=[];return q.Children.forEach(r,(i,l)=>{if(!q.isValidElement(i))return;let u=[...t,l];if(i.type===q.Fragment){n.push.apply(n,um(i.props.children,u));return}me(i.type===fa,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),me(!i.props.index||!i.props.children,"An index route cannot have child routes.");let h={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(h.children=um(i.props.children,u)),n.push(h)}),n}var Uc="get",jc="application/x-www-form-urlencoded";function gf(r){return r!=null&&typeof r.tagName=="string"}function yA(r){return gf(r)&&r.tagName.toLowerCase()==="button"}function pA(r){return gf(r)&&r.tagName.toLowerCase()==="form"}function vA(r){return gf(r)&&r.tagName.toLowerCase()==="input"}function _A(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function EA(r,t){return r.button===0&&(!t||t==="_self")&&!_A(r)}var Cc=null;function TA(){if(Cc===null)try{new FormData(document.createElement("form"),0),Cc=!1}catch{Cc=!0}return Cc}var bA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yd(r){return r!=null&&!bA.has(r)?(Zn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${jc}"`),null):r}function wA(r,t){let n,i,l,u,h;if(pA(r)){let m=r.getAttribute("action");i=m?ga(m,t):null,n=r.getAttribute("method")||Uc,l=Yd(r.getAttribute("enctype"))||jc,u=new FormData(r)}else if(yA(r)||vA(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(i=g?ga(g,t):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Uc,l=Yd(r.getAttribute("formenctype"))||Yd(m.getAttribute("enctype"))||jc,u=new FormData(m,r),!TA()){let{name:y,type:_,value:b}=r;if(_==="image"){let w=y?`${y}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else y&&u.append(y,b)}}else{if(gf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Uc,i=null,l=jc,h=r}return u&&l==="text/plain"&&(h=u,u=void 0),{action:i,method:n.toLowerCase(),encType:l,formData:u,body:h}}function tg(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}async function SA(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function AA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function RA(r,t,n){let i=await Promise.all(r.map(async l=>{let u=t.routes[l.route.id];if(u){let h=await SA(u,n);return h.links?h.links():[]}return[]}));return OA(i.flat(1).filter(AA).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function A_(r,t,n,i,l,u){let h=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,m=(g,y)=>{var _;return n[y].pathname!==g.pathname||((_=n[y].route.path)==null?void 0:_.endsWith("*"))&&n[y].params["*"]!==g.params["*"]};return u==="assets"?t.filter((g,y)=>h(g,y)||m(g,y)):u==="data"?t.filter((g,y)=>{var b;let _=i.routes[g.route.id];if(!_||!_.hasLoader)return!1;if(h(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let w=g.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((b=n[0])==null?void 0:b.params)||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function DA(r,t,{includeHydrateFallback:n}={}){return xA(r.map(i=>{let l=t.routes[i.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function xA(r){return[...new Set(r)]}function CA(r){let t={},n=Object.keys(r).sort();for(let i of n)t[i]=r[i];return t}function OA(r,t){let n=new Set;return new Set(t),r.reduce((i,l)=>{let u=JSON.stringify(CA(l));return n.has(u)||(n.add(u),i.push({key:u,link:l})),i},[])}var IA=new Set([100,101,204,205]);function NA(r,t){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":t&&ga(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function TE(){let r=q.useContext(yl);return tg(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function MA(){let r=q.useContext(mf);return tg(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var eg=q.createContext(void 0);eg.displayName="FrameworkContext";function bE(){let r=q.useContext(eg);return tg(r,"You must render this element inside a <HydratedRouter> element"),r}function VA(r,t){let n=q.useContext(eg),[i,l]=q.useState(!1),[u,h]=q.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:_,onTouchStart:b}=t,w=q.useRef(null);q.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let j=G=>{G.forEach(rt=>{h(rt.isIntersecting)})},L=new IntersectionObserver(j,{threshold:.5});return w.current&&L.observe(w.current),()=>{L.disconnect()}}},[r]),q.useEffect(()=>{if(i){let j=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(j)}}},[i]);let x=()=>{l(!0)},D=()=>{l(!1),h(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:xo(m,x),onBlur:xo(g,D),onMouseEnter:xo(y,x),onMouseLeave:xo(_,D),onTouchStart:xo(b,x)}]:[!1,w,{}]}function xo(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function PA({page:r,...t}){let{router:n}=TE(),i=q.useMemo(()=>hE(n.routes,r,n.basename),[n.routes,r,n.basename]);return i?q.createElement(kA,{page:r,matches:i,...t}):null}function LA(r){let{manifest:t,routeModules:n}=bE(),[i,l]=q.useState([]);return q.useEffect(()=>{let u=!1;return RA(r,t,n).then(h=>{u||l(h)}),()=>{u=!0}},[r,t,n]),i}function kA({page:r,matches:t,...n}){let i=_a(),{manifest:l,routeModules:u}=bE(),{basename:h}=TE(),{loaderData:m,matches:g}=MA(),y=q.useMemo(()=>A_(r,t,g,l,i,"data"),[r,t,g,l,i]),_=q.useMemo(()=>A_(r,t,g,l,i,"assets"),[r,t,g,l,i]),b=q.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let D=new Set,j=!1;if(t.forEach(G=>{var W;let rt=l.routes[G.route.id];!rt||!rt.hasLoader||(!y.some(ot=>ot.route.id===G.route.id)&&G.route.id in m&&((W=u[G.route.id])!=null&&W.shouldRevalidate)||rt.hasClientLoader?j=!0:D.add(G.route.id))}),D.size===0)return[];let L=NA(r,h);return j&&D.size>0&&L.searchParams.set("_routes",t.filter(G=>D.has(G.route.id)).map(G=>G.route.id).join(",")),[L.pathname+L.search]},[h,m,i,l,y,t,r,u]),w=q.useMemo(()=>DA(_,l),[_,l]),x=LA(_);return q.createElement(q.Fragment,null,b.map(D=>q.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),w.map(D=>q.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),x.map(({key:D,link:j})=>q.createElement("link",{key:D,...j})))}function UA(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var wE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{wE&&(window.__reactRouterVersion="7.5.1")}catch{}function jA({basename:r,children:t,window:n}){let i=q.useRef();i.current==null&&(i.current=RS({window:n,v5Compat:!0}));let l=i.current,[u,h]=q.useState({action:l.action,location:l.location}),m=q.useCallback(g=>{q.startTransition(()=>h(g))},[h]);return q.useLayoutEffect(()=>l.listen(m),[l,m]),q.createElement(mA,{basename:r,children:t,location:u.location,navigationType:u.action,navigator:l})}var SE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ng=q.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:l,reloadDocument:u,replace:h,state:m,target:g,to:y,preventScrollReset:_,viewTransition:b,...w},x){let{basename:D}=q.useContext(fr),j=typeof y=="string"&&SE.test(y),L,G=!1;if(typeof y=="string"&&j&&(L=y,wE))try{let R=new URL(window.location.href),I=y.startsWith("//")?new URL(R.protocol+y):new URL(y),V=ga(I.pathname,D);I.origin===R.origin&&V!=null?y=V+I.search+I.hash:G=!0}catch{Zn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let rt=ZS(y,{relative:l}),[W,ot,ut]=VA(i,w),pt=qA(y,{replace:h,state:m,target:g,preventScrollReset:_,relative:l,viewTransition:b});function M(R){t&&t(R),R.defaultPrevented||pt(R)}let A=q.createElement("a",{...w,...ut,href:L||rt,onClick:G||u?t:M,ref:UA(x,ot),target:g,"data-discover":!j&&n==="render"?"true":void 0});return W&&!j?q.createElement(q.Fragment,null,A,q.createElement(PA,{page:rt})):A});ng.displayName="Link";var Yi=q.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:l=!1,style:u,to:h,viewTransition:m,children:g,...y},_){let b=tu(h,{relative:y.relative}),w=_a(),x=q.useContext(mf),{navigator:D,basename:j}=q.useContext(fr),L=x!=null&&QA(b)&&m===!0,G=D.encodeLocation?D.encodeLocation(b).pathname:b.pathname,rt=w.pathname,W=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(rt=rt.toLowerCase(),W=W?W.toLowerCase():null,G=G.toLowerCase()),W&&j&&(W=ga(W,j)||W);const ot=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let ut=rt===G||!l&&rt.startsWith(G)&&rt.charAt(ot)==="/",pt=W!=null&&(W===G||!l&&W.startsWith(G)&&W.charAt(G.length)==="/"),M={isActive:ut,isPending:pt,isTransitioning:L},A=ut?t:void 0,R;typeof i=="function"?R=i(M):R=[i,ut?"active":null,pt?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let I=typeof u=="function"?u(M):u;return q.createElement(ng,{...y,"aria-current":A,className:R,ref:_,style:I,to:h,viewTransition:m},typeof g=="function"?g(M):g)});Yi.displayName="NavLink";var zA=q.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:l,state:u,method:h=Uc,action:m,onSubmit:g,relative:y,preventScrollReset:_,viewTransition:b,...w},x)=>{let D=YA(),j=GA(m,{relative:y}),L=h.toLowerCase()==="get"?"get":"post",G=typeof m=="string"&&SE.test(m),rt=W=>{if(g&&g(W),W.defaultPrevented)return;W.preventDefault();let ot=W.nativeEvent.submitter,ut=(ot==null?void 0:ot.getAttribute("formmethod"))||h;D(ot||W.currentTarget,{fetcherKey:t,method:ut,navigate:n,replace:l,state:u,relative:y,preventScrollReset:_,viewTransition:b})};return q.createElement("form",{ref:x,method:L,action:j,onSubmit:i?g:rt,...w,"data-discover":!G&&r==="render"?"true":void 0})});zA.displayName="Form";function BA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AE(r){let t=q.useContext(yl);return me(t,BA(r)),t}function qA(r,{target:t,replace:n,state:i,preventScrollReset:l,relative:u,viewTransition:h}={}){let m=Wm(),g=_a(),y=tu(r,{relative:u});return q.useCallback(_=>{if(EA(_,t)){_.preventDefault();let b=n!==void 0?n:Bo(g)===Bo(y);m(r,{replace:b,state:i,preventScrollReset:l,relative:u,viewTransition:h})}},[g,m,y,n,i,t,r,l,u,h])}var HA=0,FA=()=>`__${String(++HA)}__`;function YA(){let{router:r}=AE("useSubmit"),{basename:t}=q.useContext(fr),n=cA();return q.useCallback(async(i,l={})=>{let{action:u,method:h,encType:m,formData:g,body:y}=wA(i,t);if(l.navigate===!1){let _=l.fetcherKey||FA();await r.fetch(_,n,l.action||u,{preventScrollReset:l.preventScrollReset,formData:g,body:y,formMethod:l.method||h,formEncType:l.encType||m,flushSync:l.flushSync})}else await r.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:g,body:y,formMethod:l.method||h,formEncType:l.encType||m,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,t,n])}function GA(r,{relative:t}={}){let{basename:n}=q.useContext(fr),i=q.useContext(hr);me(i,"useFormAction must be used inside a RouteContext");let[l]=i.matches.slice(-1),u={...tu(r||".",{relative:t})},h=_a();if(r==null){u.search=h.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(_=>_==="")){m.delete("index"),g.filter(b=>b).forEach(b=>m.append("index",b));let _=m.toString();u.search=_?`?${_}`:""}}return(!r||r===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ha([n,u.pathname])),Bo(u)}function QA(r,t={}){let n=q.useContext(yE);me(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=AE("useViewTransitionState"),l=tu(r,{relative:t.relative});if(!n.isTransitioning)return!1;let u=ga(n.currentLocation.pathname,i)||n.currentLocation.pathname,h=ga(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Qc(l.pathname,h)!=null||Qc(l.pathname,u)!=null}new TextEncoder;[...IA];const KA=()=>{};var R_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE=function(r){const t=[];let n=0;for(let i=0;i<r.length;i++){let l=r.charCodeAt(i);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++i)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},XA=function(r){const t=[];let n=0,i=0;for(;n<r.length;){const l=r[n++];if(l<128)t[i++]=String.fromCharCode(l);else if(l>191&&l<224){const u=r[n++];t[i++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=r[n++],h=r[n++],m=r[n++],g=((l&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;t[i++]=String.fromCharCode(55296+(g>>10)),t[i++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],h=r[n++];t[i++]=String.fromCharCode((l&15)<<12|(u&63)<<6|h&63)}}return t.join("")},DE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let l=0;l<r.length;l+=3){const u=r[l],h=l+1<r.length,m=h?r[l+1]:0,g=l+2<r.length,y=g?r[l+2]:0,_=u>>2,b=(u&3)<<4|m>>4;let w=(m&15)<<2|y>>6,x=y&63;g||(x=64,h||(w=64)),i.push(n[_],n[b],n[w],n[x])}return i.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(RE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):XA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let l=0;l<r.length;){const u=n[r.charAt(l++)],m=l<r.length?n[r.charAt(l)]:0;++l;const y=l<r.length?n[r.charAt(l)]:64;++l;const b=l<r.length?n[r.charAt(l)]:64;if(++l,u==null||m==null||y==null||b==null)throw new $A;const w=u<<2|m>>4;if(i.push(w),y!==64){const x=m<<4&240|y>>2;if(i.push(x),b!==64){const D=y<<6&192|b;i.push(D)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class $A extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WA=function(r){const t=RE(r);return DE.encodeByteArray(t,!0)},Kc=function(r){return WA(r).replace(/\./g,"")},ZA=function(r){try{return DE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1=()=>JA().__FIREBASE_DEFAULTS__,e1=()=>{if(typeof process>"u"||typeof R_>"u")return;const r=R_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},n1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&ZA(r[1]);return t&&JSON.parse(t)},rg=()=>{try{return KA()||t1()||e1()||n1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},r1=r=>{var t,n;return(n=(t=rg())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},a1=r=>{const t=r1(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},xE=()=>{var r;return(r=rg())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",l=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Kc(JSON.stringify(n)),Kc(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function o1(){var r;const t=(r=rg())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function u1(){return!o1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function c1(){try{return typeof indexedDB=="object"}catch{return!1}}function f1(){return new Promise((r,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(i);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(i),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var u;t(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1="FirebaseError";class vl extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=h1,Object.setPrototypeOf(this,vl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,CE.prototype.create)}}class CE{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},l=`${this.service}/${t}`,u=this.errors[t],h=u?d1(u,i):"Error",m=`${this.serviceName}: ${h} (${l}).`;return new vl(l,m,i)}}function d1(r,t){return r.replace(m1,(n,i)=>{const l=t[i];return l!=null?String(l):`<${i}?>`})}const m1=/\{\$([^}]+)}/g;function Xc(r,t){if(r===t)return!0;const n=Object.keys(r),i=Object.keys(t);for(const l of n){if(!i.includes(l))return!1;const u=r[l],h=t[l];if(D_(u)&&D_(h)){if(!Xc(u,h))return!1}else if(u!==h)return!1}for(const l of i)if(!n.includes(l))return!1;return!0}function D_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(r){return r&&r._delegate?r._delegate:r}class qo{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new i1;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&i.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(p1(t))try{this.getOrInitializeService({instanceIdentifier:Gi})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});i.resolve(u)}catch{}}}}clearInstance(t=Gi){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Gi){return this.instances.has(t)}getOptions(t=Gi){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);i===m&&h.resolve(l)}return l}onInit(t,n){var i;const l=this.normalizeInstanceIdentifier(n),u=(i=this.onInitCallbacks.get(l))!==null&&i!==void 0?i:new Set;u.add(t),this.onInitCallbacks.set(l,u);const h=this.instances.get(l);return h&&t(h,l),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const l of i)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:y1(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Gi){return this.component?this.component.multipleInstances?t:Gi:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function y1(r){return r===Gi?void 0:r}function p1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new g1(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ht||(Ht={}));const _1={debug:Ht.DEBUG,verbose:Ht.VERBOSE,info:Ht.INFO,warn:Ht.WARN,error:Ht.ERROR,silent:Ht.SILENT},E1=Ht.INFO,T1={[Ht.DEBUG]:"log",[Ht.VERBOSE]:"log",[Ht.INFO]:"info",[Ht.WARN]:"warn",[Ht.ERROR]:"error"},b1=(r,t,...n)=>{if(t<r.logLevel)return;const i=new Date().toISOString(),l=T1[t];if(l)console[l](`[${i}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class OE{constructor(t){this.name=t,this._logLevel=E1,this._logHandler=b1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ht))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?_1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ht.DEBUG,...t),this._logHandler(this,Ht.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ht.VERBOSE,...t),this._logHandler(this,Ht.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ht.INFO,...t),this._logHandler(this,Ht.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ht.WARN,...t),this._logHandler(this,Ht.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ht.ERROR,...t),this._logHandler(this,Ht.ERROR,...t)}}const w1=(r,t)=>t.some(n=>r instanceof n);let x_,C_;function S1(){return x_||(x_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function A1(){return C_||(C_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const IE=new WeakMap,cm=new WeakMap,NE=new WeakMap,Gd=new WeakMap,ag=new WeakMap;function R1(r){const t=new Promise((n,i)=>{const l=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(Za(r.result)),l()},h=()=>{i(r.error),l()};r.addEventListener("success",u),r.addEventListener("error",h)});return t.then(n=>{n instanceof IDBCursor&&IE.set(n,r)}).catch(()=>{}),ag.set(t,r),t}function D1(r){if(cm.has(r))return;const t=new Promise((n,i)=>{const l=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),l()},h=()=>{i(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});cm.set(r,t)}let fm={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return cm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||NE.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Za(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function x1(r){fm=r(fm)}function C1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=r.call(Qd(this),t,...n);return NE.set(i,t.sort?t.sort():[t]),Za(i)}:A1().includes(r)?function(...t){return r.apply(Qd(this),t),Za(IE.get(this))}:function(...t){return Za(r.apply(Qd(this),t))}}function O1(r){return typeof r=="function"?C1(r):(r instanceof IDBTransaction&&D1(r),w1(r,S1())?new Proxy(r,fm):r)}function Za(r){if(r instanceof IDBRequest)return R1(r);if(Gd.has(r))return Gd.get(r);const t=O1(r);return t!==r&&(Gd.set(r,t),ag.set(t,r)),t}const Qd=r=>ag.get(r);function I1(r,t,{blocked:n,upgrade:i,blocking:l,terminated:u}={}){const h=indexedDB.open(r,t),m=Za(h);return i&&h.addEventListener("upgradeneeded",g=>{i(Za(h.result),g.oldVersion,g.newVersion,Za(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),l&&g.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const N1=["get","getKey","getAll","getAllKeys","count"],M1=["put","add","delete","clear"],Kd=new Map;function O_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Kd.get(t))return Kd.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,l=M1.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(l||N1.includes(n)))return;const u=async function(h,...m){const g=this.transaction(h,l?"readwrite":"readonly");let y=g.store;return i&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),l&&g.done]))[0]};return Kd.set(t,u),u}x1(r=>({...r,get:(t,n,i)=>O_(t,n)||r.get(t,n,i),has:(t,n)=>!!O_(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(P1(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function P1(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const hm="@firebase/app",I_="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=new OE("@firebase/app"),L1="@firebase/app-compat",k1="@firebase/analytics-compat",U1="@firebase/analytics",j1="@firebase/app-check-compat",z1="@firebase/app-check",B1="@firebase/auth",q1="@firebase/auth-compat",H1="@firebase/database",F1="@firebase/data-connect",Y1="@firebase/database-compat",G1="@firebase/functions",Q1="@firebase/functions-compat",K1="@firebase/installations",X1="@firebase/installations-compat",$1="@firebase/messaging",W1="@firebase/messaging-compat",Z1="@firebase/performance",J1="@firebase/performance-compat",tR="@firebase/remote-config",eR="@firebase/remote-config-compat",nR="@firebase/storage",rR="@firebase/storage-compat",aR="@firebase/firestore",iR="@firebase/vertexai",sR="@firebase/firestore-compat",lR="firebase",oR="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm="[DEFAULT]",uR={[hm]:"fire-core",[L1]:"fire-core-compat",[U1]:"fire-analytics",[k1]:"fire-analytics-compat",[z1]:"fire-app-check",[j1]:"fire-app-check-compat",[B1]:"fire-auth",[q1]:"fire-auth-compat",[H1]:"fire-rtdb",[F1]:"fire-data-connect",[Y1]:"fire-rtdb-compat",[G1]:"fire-fn",[Q1]:"fire-fn-compat",[K1]:"fire-iid",[X1]:"fire-iid-compat",[$1]:"fire-fcm",[W1]:"fire-fcm-compat",[Z1]:"fire-perf",[J1]:"fire-perf-compat",[tR]:"fire-rc",[eR]:"fire-rc-compat",[nR]:"fire-gcs",[rR]:"fire-gcs-compat",[aR]:"fire-fst",[sR]:"fire-fst-compat",[iR]:"fire-vertex","fire-js":"fire-js",[lR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c=new Map,cR=new Map,mm=new Map;function N_(r,t){try{r.container.addComponent(t)}catch(n){ya.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Wc(r){const t=r.name;if(mm.has(t))return ya.debug(`There were multiple attempts to register component ${t}.`),!1;mm.set(t,r);for(const n of $c.values())N_(n,r);for(const n of cR.values())N_(n,r);return!0}function fR(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function hR(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ja=new CE("app","Firebase",dR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new qo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ja.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR=oR;function ME(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const i=Object.assign({name:dm,automaticDataCollectionEnabled:!1},t),l=i.name;if(typeof l!="string"||!l)throw Ja.create("bad-app-name",{appName:String(l)});if(n||(n=xE()),!n)throw Ja.create("no-options");const u=$c.get(l);if(u){if(Xc(n,u.options)&&Xc(i,u.config))return u;throw Ja.create("duplicate-app",{appName:l})}const h=new v1(l);for(const g of mm.values())h.addComponent(g);const m=new mR(n,i,h);return $c.set(l,m),m}function yR(r=dm){const t=$c.get(r);if(!t&&r===dm&&xE())return ME();if(!t)throw Ja.create("no-app",{appName:r});return t}function sl(r,t,n){var i;let l=(i=uR[r])!==null&&i!==void 0?i:r;n&&(l+=`-${n}`);const u=l.match(/\s|\//),h=t.match(/\s|\//);if(u||h){const m=[`Unable to register library "${l}" with version "${t}":`];u&&m.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ya.warn(m.join(" "));return}Wc(new qo(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR="firebase-heartbeat-database",vR=1,Ho="firebase-heartbeat-store";let Xd=null;function VE(){return Xd||(Xd=I1(pR,vR,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Ho)}catch(n){console.warn(n)}}}}).catch(r=>{throw Ja.create("idb-open",{originalErrorMessage:r.message})})),Xd}async function _R(r){try{const n=(await VE()).transaction(Ho),i=await n.objectStore(Ho).get(PE(r));return await n.done,i}catch(t){if(t instanceof vl)ya.warn(t.message);else{const n=Ja.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ya.warn(n.message)}}}async function M_(r,t){try{const i=(await VE()).transaction(Ho,"readwrite");await i.objectStore(Ho).put(t,PE(r)),await i.done}catch(n){if(n instanceof vl)ya.warn(n.message);else{const i=Ja.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ya.warn(i.message)}}}function PE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=1024,TR=30;class bR{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new SR(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=V_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>TR){const h=AR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ya.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=V_(),{heartbeatsToSend:i,unsentEntries:l}=wR(this._heartbeatsCache.heartbeats),u=Kc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return ya.warn(n),""}}}function V_(){return new Date().toISOString().substring(0,10)}function wR(r,t=ER){const n=[];let i=r.slice();for(const l of r){const u=n.find(h=>h.agent===l.agent);if(u){if(u.dates.push(l.date),P_(n)>t){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),P_(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class SR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return c1()?f1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await _R(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return M_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return M_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function P_(r){return Kc(JSON.stringify({version:2,heartbeats:r})).length}function AR(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let i=1;i<r.length;i++)r[i].date<n&&(n=r[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(r){Wc(new qo("platform-logger",t=>new V1(t),"PRIVATE")),Wc(new qo("heartbeat",t=>new bR(t),"PRIVATE")),sl(hm,I_,r),sl(hm,I_,"esm2017"),sl("fire-js","")}RR("");var DR="firebase",xR="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sl(DR,xR,"app");var L_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ti,LE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(M,A){function R(){}R.prototype=A.prototype,M.D=A.prototype,M.prototype=new R,M.prototype.constructor=M,M.C=function(I,V,k){for(var C=Array(arguments.length-2),yt=2;yt<arguments.length;yt++)C[yt-2]=arguments[yt];return A.prototype[V].apply(I,C)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(M,A,R){R||(R=0);var I=Array(16);if(typeof A=="string")for(var V=0;16>V;++V)I[V]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(V=0;16>V;++V)I[V]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=M.g[0],R=M.g[1],V=M.g[2];var k=M.g[3],C=A+(k^R&(V^k))+I[0]+3614090360&4294967295;A=R+(C<<7&4294967295|C>>>25),C=k+(V^A&(R^V))+I[1]+3905402710&4294967295,k=A+(C<<12&4294967295|C>>>20),C=V+(R^k&(A^R))+I[2]+606105819&4294967295,V=k+(C<<17&4294967295|C>>>15),C=R+(A^V&(k^A))+I[3]+3250441966&4294967295,R=V+(C<<22&4294967295|C>>>10),C=A+(k^R&(V^k))+I[4]+4118548399&4294967295,A=R+(C<<7&4294967295|C>>>25),C=k+(V^A&(R^V))+I[5]+1200080426&4294967295,k=A+(C<<12&4294967295|C>>>20),C=V+(R^k&(A^R))+I[6]+2821735955&4294967295,V=k+(C<<17&4294967295|C>>>15),C=R+(A^V&(k^A))+I[7]+4249261313&4294967295,R=V+(C<<22&4294967295|C>>>10),C=A+(k^R&(V^k))+I[8]+1770035416&4294967295,A=R+(C<<7&4294967295|C>>>25),C=k+(V^A&(R^V))+I[9]+2336552879&4294967295,k=A+(C<<12&4294967295|C>>>20),C=V+(R^k&(A^R))+I[10]+4294925233&4294967295,V=k+(C<<17&4294967295|C>>>15),C=R+(A^V&(k^A))+I[11]+2304563134&4294967295,R=V+(C<<22&4294967295|C>>>10),C=A+(k^R&(V^k))+I[12]+1804603682&4294967295,A=R+(C<<7&4294967295|C>>>25),C=k+(V^A&(R^V))+I[13]+4254626195&4294967295,k=A+(C<<12&4294967295|C>>>20),C=V+(R^k&(A^R))+I[14]+2792965006&4294967295,V=k+(C<<17&4294967295|C>>>15),C=R+(A^V&(k^A))+I[15]+1236535329&4294967295,R=V+(C<<22&4294967295|C>>>10),C=A+(V^k&(R^V))+I[1]+4129170786&4294967295,A=R+(C<<5&4294967295|C>>>27),C=k+(R^V&(A^R))+I[6]+3225465664&4294967295,k=A+(C<<9&4294967295|C>>>23),C=V+(A^R&(k^A))+I[11]+643717713&4294967295,V=k+(C<<14&4294967295|C>>>18),C=R+(k^A&(V^k))+I[0]+3921069994&4294967295,R=V+(C<<20&4294967295|C>>>12),C=A+(V^k&(R^V))+I[5]+3593408605&4294967295,A=R+(C<<5&4294967295|C>>>27),C=k+(R^V&(A^R))+I[10]+38016083&4294967295,k=A+(C<<9&4294967295|C>>>23),C=V+(A^R&(k^A))+I[15]+3634488961&4294967295,V=k+(C<<14&4294967295|C>>>18),C=R+(k^A&(V^k))+I[4]+3889429448&4294967295,R=V+(C<<20&4294967295|C>>>12),C=A+(V^k&(R^V))+I[9]+568446438&4294967295,A=R+(C<<5&4294967295|C>>>27),C=k+(R^V&(A^R))+I[14]+3275163606&4294967295,k=A+(C<<9&4294967295|C>>>23),C=V+(A^R&(k^A))+I[3]+4107603335&4294967295,V=k+(C<<14&4294967295|C>>>18),C=R+(k^A&(V^k))+I[8]+1163531501&4294967295,R=V+(C<<20&4294967295|C>>>12),C=A+(V^k&(R^V))+I[13]+2850285829&4294967295,A=R+(C<<5&4294967295|C>>>27),C=k+(R^V&(A^R))+I[2]+4243563512&4294967295,k=A+(C<<9&4294967295|C>>>23),C=V+(A^R&(k^A))+I[7]+1735328473&4294967295,V=k+(C<<14&4294967295|C>>>18),C=R+(k^A&(V^k))+I[12]+2368359562&4294967295,R=V+(C<<20&4294967295|C>>>12),C=A+(R^V^k)+I[5]+4294588738&4294967295,A=R+(C<<4&4294967295|C>>>28),C=k+(A^R^V)+I[8]+2272392833&4294967295,k=A+(C<<11&4294967295|C>>>21),C=V+(k^A^R)+I[11]+1839030562&4294967295,V=k+(C<<16&4294967295|C>>>16),C=R+(V^k^A)+I[14]+4259657740&4294967295,R=V+(C<<23&4294967295|C>>>9),C=A+(R^V^k)+I[1]+2763975236&4294967295,A=R+(C<<4&4294967295|C>>>28),C=k+(A^R^V)+I[4]+1272893353&4294967295,k=A+(C<<11&4294967295|C>>>21),C=V+(k^A^R)+I[7]+4139469664&4294967295,V=k+(C<<16&4294967295|C>>>16),C=R+(V^k^A)+I[10]+3200236656&4294967295,R=V+(C<<23&4294967295|C>>>9),C=A+(R^V^k)+I[13]+681279174&4294967295,A=R+(C<<4&4294967295|C>>>28),C=k+(A^R^V)+I[0]+3936430074&4294967295,k=A+(C<<11&4294967295|C>>>21),C=V+(k^A^R)+I[3]+3572445317&4294967295,V=k+(C<<16&4294967295|C>>>16),C=R+(V^k^A)+I[6]+76029189&4294967295,R=V+(C<<23&4294967295|C>>>9),C=A+(R^V^k)+I[9]+3654602809&4294967295,A=R+(C<<4&4294967295|C>>>28),C=k+(A^R^V)+I[12]+3873151461&4294967295,k=A+(C<<11&4294967295|C>>>21),C=V+(k^A^R)+I[15]+530742520&4294967295,V=k+(C<<16&4294967295|C>>>16),C=R+(V^k^A)+I[2]+3299628645&4294967295,R=V+(C<<23&4294967295|C>>>9),C=A+(V^(R|~k))+I[0]+4096336452&4294967295,A=R+(C<<6&4294967295|C>>>26),C=k+(R^(A|~V))+I[7]+1126891415&4294967295,k=A+(C<<10&4294967295|C>>>22),C=V+(A^(k|~R))+I[14]+2878612391&4294967295,V=k+(C<<15&4294967295|C>>>17),C=R+(k^(V|~A))+I[5]+4237533241&4294967295,R=V+(C<<21&4294967295|C>>>11),C=A+(V^(R|~k))+I[12]+1700485571&4294967295,A=R+(C<<6&4294967295|C>>>26),C=k+(R^(A|~V))+I[3]+2399980690&4294967295,k=A+(C<<10&4294967295|C>>>22),C=V+(A^(k|~R))+I[10]+4293915773&4294967295,V=k+(C<<15&4294967295|C>>>17),C=R+(k^(V|~A))+I[1]+2240044497&4294967295,R=V+(C<<21&4294967295|C>>>11),C=A+(V^(R|~k))+I[8]+1873313359&4294967295,A=R+(C<<6&4294967295|C>>>26),C=k+(R^(A|~V))+I[15]+4264355552&4294967295,k=A+(C<<10&4294967295|C>>>22),C=V+(A^(k|~R))+I[6]+2734768916&4294967295,V=k+(C<<15&4294967295|C>>>17),C=R+(k^(V|~A))+I[13]+1309151649&4294967295,R=V+(C<<21&4294967295|C>>>11),C=A+(V^(R|~k))+I[4]+4149444226&4294967295,A=R+(C<<6&4294967295|C>>>26),C=k+(R^(A|~V))+I[11]+3174756917&4294967295,k=A+(C<<10&4294967295|C>>>22),C=V+(A^(k|~R))+I[2]+718787259&4294967295,V=k+(C<<15&4294967295|C>>>17),C=R+(k^(V|~A))+I[9]+3951481745&4294967295,M.g[0]=M.g[0]+A&4294967295,M.g[1]=M.g[1]+(V+(C<<21&4294967295|C>>>11))&4294967295,M.g[2]=M.g[2]+V&4294967295,M.g[3]=M.g[3]+k&4294967295}i.prototype.u=function(M,A){A===void 0&&(A=M.length);for(var R=A-this.blockSize,I=this.B,V=this.h,k=0;k<A;){if(V==0)for(;k<=R;)l(this,M,k),k+=this.blockSize;if(typeof M=="string"){for(;k<A;)if(I[V++]=M.charCodeAt(k++),V==this.blockSize){l(this,I),V=0;break}}else for(;k<A;)if(I[V++]=M[k++],V==this.blockSize){l(this,I),V=0;break}}this.h=V,this.o+=A},i.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var A=1;A<M.length-8;++A)M[A]=0;var R=8*this.o;for(A=M.length-8;A<M.length;++A)M[A]=R&255,R/=256;for(this.u(M),M=Array(16),A=R=0;4>A;++A)for(var I=0;32>I;I+=8)M[R++]=this.g[A]>>>I&255;return M};function u(M,A){var R=m;return Object.prototype.hasOwnProperty.call(R,M)?R[M]:R[M]=A(M)}function h(M,A){this.h=A;for(var R=[],I=!0,V=M.length-1;0<=V;V--){var k=M[V]|0;I&&k==A||(R[V]=k,I=!1)}this.g=R}var m={};function g(M){return-128<=M&&128>M?u(M,function(A){return new h([A|0],0>A?-1:0)}):new h([M|0],0>M?-1:0)}function y(M){if(isNaN(M)||!isFinite(M))return b;if(0>M)return L(y(-M));for(var A=[],R=1,I=0;M>=R;I++)A[I]=M/R|0,R*=4294967296;return new h(A,0)}function _(M,A){if(M.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(M.charAt(0)=="-")return L(_(M.substring(1),A));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(A,8)),I=b,V=0;V<M.length;V+=8){var k=Math.min(8,M.length-V),C=parseInt(M.substring(V,V+k),A);8>k?(k=y(Math.pow(A,k)),I=I.j(k).add(y(C))):(I=I.j(R),I=I.add(y(C)))}return I}var b=g(0),w=g(1),x=g(16777216);r=h.prototype,r.m=function(){if(j(this))return-L(this).m();for(var M=0,A=1,R=0;R<this.g.length;R++){var I=this.i(R);M+=(0<=I?I:4294967296+I)*A,A*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(D(this))return"0";if(j(this))return"-"+L(this).toString(M);for(var A=y(Math.pow(M,6)),R=this,I="";;){var V=ot(R,A).g;R=G(R,V.j(A));var k=((0<R.g.length?R.g[0]:R.h)>>>0).toString(M);if(R=V,D(R))return k+I;for(;6>k.length;)k="0"+k;I=k+I}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function D(M){if(M.h!=0)return!1;for(var A=0;A<M.g.length;A++)if(M.g[A]!=0)return!1;return!0}function j(M){return M.h==-1}r.l=function(M){return M=G(this,M),j(M)?-1:D(M)?0:1};function L(M){for(var A=M.g.length,R=[],I=0;I<A;I++)R[I]=~M.g[I];return new h(R,~M.h).add(w)}r.abs=function(){return j(this)?L(this):this},r.add=function(M){for(var A=Math.max(this.g.length,M.g.length),R=[],I=0,V=0;V<=A;V++){var k=I+(this.i(V)&65535)+(M.i(V)&65535),C=(k>>>16)+(this.i(V)>>>16)+(M.i(V)>>>16);I=C>>>16,k&=65535,C&=65535,R[V]=C<<16|k}return new h(R,R[R.length-1]&-2147483648?-1:0)};function G(M,A){return M.add(L(A))}r.j=function(M){if(D(this)||D(M))return b;if(j(this))return j(M)?L(this).j(L(M)):L(L(this).j(M));if(j(M))return L(this.j(L(M)));if(0>this.l(x)&&0>M.l(x))return y(this.m()*M.m());for(var A=this.g.length+M.g.length,R=[],I=0;I<2*A;I++)R[I]=0;for(I=0;I<this.g.length;I++)for(var V=0;V<M.g.length;V++){var k=this.i(I)>>>16,C=this.i(I)&65535,yt=M.i(V)>>>16,At=M.i(V)&65535;R[2*I+2*V]+=C*At,rt(R,2*I+2*V),R[2*I+2*V+1]+=k*At,rt(R,2*I+2*V+1),R[2*I+2*V+1]+=C*yt,rt(R,2*I+2*V+1),R[2*I+2*V+2]+=k*yt,rt(R,2*I+2*V+2)}for(I=0;I<A;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=A;I<2*A;I++)R[I]=0;return new h(R,0)};function rt(M,A){for(;(M[A]&65535)!=M[A];)M[A+1]+=M[A]>>>16,M[A]&=65535,A++}function W(M,A){this.g=M,this.h=A}function ot(M,A){if(D(A))throw Error("division by zero");if(D(M))return new W(b,b);if(j(M))return A=ot(L(M),A),new W(L(A.g),L(A.h));if(j(A))return A=ot(M,L(A)),new W(L(A.g),A.h);if(30<M.g.length){if(j(M)||j(A))throw Error("slowDivide_ only works with positive integers.");for(var R=w,I=A;0>=I.l(M);)R=ut(R),I=ut(I);var V=pt(R,1),k=pt(I,1);for(I=pt(I,2),R=pt(R,2);!D(I);){var C=k.add(I);0>=C.l(M)&&(V=V.add(R),k=C),I=pt(I,1),R=pt(R,1)}return A=G(M,V.j(A)),new W(V,A)}for(V=b;0<=M.l(A);){for(R=Math.max(1,Math.floor(M.m()/A.m())),I=Math.ceil(Math.log(R)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),k=y(R),C=k.j(A);j(C)||0<C.l(M);)R-=I,k=y(R),C=k.j(A);D(k)&&(k=w),V=V.add(k),M=G(M,C)}return new W(V,M)}r.A=function(M){return ot(this,M).h},r.and=function(M){for(var A=Math.max(this.g.length,M.g.length),R=[],I=0;I<A;I++)R[I]=this.i(I)&M.i(I);return new h(R,this.h&M.h)},r.or=function(M){for(var A=Math.max(this.g.length,M.g.length),R=[],I=0;I<A;I++)R[I]=this.i(I)|M.i(I);return new h(R,this.h|M.h)},r.xor=function(M){for(var A=Math.max(this.g.length,M.g.length),R=[],I=0;I<A;I++)R[I]=this.i(I)^M.i(I);return new h(R,this.h^M.h)};function ut(M){for(var A=M.g.length+1,R=[],I=0;I<A;I++)R[I]=M.i(I)<<1|M.i(I-1)>>>31;return new h(R,M.h)}function pt(M,A){var R=A>>5;A%=32;for(var I=M.g.length-R,V=[],k=0;k<I;k++)V[k]=0<A?M.i(k+R)>>>A|M.i(k+R+1)<<32-A:M.i(k+R);return new h(V,M.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,LE=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=_,ti=h}).apply(typeof L_<"u"?L_:typeof self<"u"?self:typeof window<"u"?window:{});var Oc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kE,Io,UE,zc,gm,jE,zE,BE;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,v){return c==Array.prototype||c==Object.prototype||(c[p]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Oc=="object"&&Oc];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=n(this);function l(c,p){if(p)t:{var v=i;c=c.split(".");for(var S=0;S<c.length-1;S++){var B=c[S];if(!(B in v))break t;v=v[B]}c=c[c.length-1],S=v[c],p=p(S),p!=S&&p!=null&&t(v,c,{configurable:!0,writable:!0,value:p})}}function u(c,p){c instanceof String&&(c+="");var v=0,S=!1,B={next:function(){if(!S&&v<c.length){var X=v++;return{value:p(X,c[X]),done:!1}}return S=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}l("Array.prototype.values",function(c){return c||function(){return u(this,function(p,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function g(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function y(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function _(c,p,v){return c.call.apply(c.bind,arguments)}function b(c,p,v){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,S),c.apply(p,B)}}return function(){return c.apply(p,arguments)}}function w(c,p,v){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:b,w.apply(null,arguments)}function x(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function D(c,p){function v(){}v.prototype=p.prototype,c.aa=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(S,B,X){for(var st=Array(arguments.length-2),jt=2;jt<arguments.length;jt++)st[jt-2]=arguments[jt];return p.prototype[B].apply(S,st)}}function j(c){const p=c.length;if(0<p){const v=Array(p);for(let S=0;S<p;S++)v[S]=c[S];return v}return[]}function L(c,p){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(g(S)){const B=c.length||0,X=S.length||0;c.length=B+X;for(let st=0;st<X;st++)c[B+st]=S[st]}else c.push(S)}}class G{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function rt(c){return/^[\s\xa0]*$/.test(c)}function W(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ot(c){return ot[" "](c),c}ot[" "]=function(){};var ut=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function pt(c,p,v){for(const S in c)p.call(v,c[S],S,c)}function M(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function A(c){const p={};for(const v in c)p[v]=c[v];return p}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,p){let v,S;for(let B=1;B<arguments.length;B++){S=arguments[B];for(v in S)c[v]=S[v];for(let X=0;X<R.length;X++)v=R[X],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function V(c){var p=1;c=c.split(":");const v=[];for(;0<p&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function k(c){m.setTimeout(()=>{throw c},0)}function C(){var c=xt;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class yt{constructor(){this.h=this.g=null}add(p,v){const S=At.get();S.set(p,v),this.h?this.h.next=S:this.g=S,this.h=S}}var At=new G(()=>new Y,c=>c.reset());class Y{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let it,dt=!1,xt=new yt,N=()=>{const c=m.Promise.resolve(void 0);it=()=>{c.then(J)}};var J=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(v){k(v)}var p=At;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}dt=!1};function lt(){this.s=this.s,this.C=this.C}lt.prototype.s=!1,lt.prototype.ma=function(){this.s||(this.s=!0,this.N())},lt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function at(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}at.prototype.h=function(){this.defaultPrevented=!0};var mt=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,p),m.removeEventListener("test",v,p)}catch{}return c}();function Ct(c,p){if(at.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(ut){t:{try{ot(p.nodeName);var B=!0;break t}catch{}B=!1}B||(p=null)}}else v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement);this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:_t[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ct.aa.h.call(this)}}D(Ct,at);var _t={2:"touch",3:"pen",4:"mouse"};Ct.prototype.h=function(){Ct.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),Ft=0;function Ie(c,p,v,S,B){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!S,this.ha=B,this.key=++Ft,this.da=this.fa=!1}function Vn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function wn(c){this.src=c,this.g={},this.h=0}wn.prototype.add=function(c,p,v,S,B){var X=c.toString();c=this.g[X],c||(c=this.g[X]=[],this.h++);var st=Jn(c,p,S,B);return-1<st?(p=c[st],v||(p.fa=!1)):(p=new Ie(p,this.src,X,!!S,B),p.fa=v,c.push(p)),p};function Pn(c,p){var v=p.type;if(v in c.g){var S=c.g[v],B=Array.prototype.indexOf.call(S,p,void 0),X;(X=0<=B)&&Array.prototype.splice.call(S,B,1),X&&(Vn(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Jn(c,p,v,S){for(var B=0;B<c.length;++B){var X=c[B];if(!X.da&&X.listener==p&&X.capture==!!v&&X.ha==S)return B}return-1}var ae="closure_lm_"+(1e6*Math.random()|0),tr={};function Ye(c,p,v,S,B){if(Array.isArray(p)){for(var X=0;X<p.length;X++)Ye(c,p[X],v,S,B);return null}return v=ls(v),c&&c[ce]?c.K(p,v,y(S)?!!S.capture:!1,B):Ge(c,p,v,!1,S,B)}function Ge(c,p,v,S,B,X){if(!p)throw Error("Invalid event type");var st=y(B)?!!B.capture:!!B,jt=jr(c);if(jt||(c[ae]=jt=new wn(c)),v=jt.add(p,v,S,st,X),v.proxy)return v;if(S=ss(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)mt||(B=st),B===void 0&&(B=!1),c.addEventListener(p.toString(),S,B);else if(c.attachEvent)c.attachEvent(Ur(p.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ss(){function c(v){return p.call(c.src,c.listener,v)}const p=Al;return c}function Ta(c,p,v,S,B){if(Array.isArray(p))for(var X=0;X<p.length;X++)Ta(c,p[X],v,S,B);else S=y(S)?!!S.capture:!!S,v=ls(v),c&&c[ce]?(c=c.i,p=String(p).toString(),p in c.g&&(X=c.g[p],v=Jn(X,v,S,B),-1<v&&(Vn(X[v]),Array.prototype.splice.call(X,v,1),X.length==0&&(delete c.g[p],c.h--)))):c&&(c=jr(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Jn(p,v,S,B)),(v=-1<c?p[c]:null)&&ba(v))}function ba(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[ce])Pn(p.i,c);else{var v=c.type,S=c.proxy;p.removeEventListener?p.removeEventListener(v,S,c.capture):p.detachEvent?p.detachEvent(Ur(v),S):p.addListener&&p.removeListener&&p.removeListener(S),(v=jr(p))?(Pn(v,c),v.h==0&&(v.src=null,p[ae]=null)):Vn(c)}}}function Ur(c){return c in tr?tr[c]:tr[c]="on"+c}function Al(c,p){if(c.da)c=!0;else{p=new Ct(p,this);var v=c.listener,S=c.ha||c.src;c.fa&&ba(c),c=v.call(S,p)}return c}function jr(c){return c=c[ae],c instanceof wn?c:null}var di="__closure_events_fn_"+(1e9*Math.random()>>>0);function ls(c){return typeof c=="function"?c:(c[di]||(c[di]=function(p){return c.handleEvent(p)}),c[di])}function fe(){lt.call(this),this.i=new wn(this),this.M=this,this.F=null}D(fe,lt),fe.prototype[ce]=!0,fe.prototype.removeEventListener=function(c,p,v,S){Ta(this,c,p,v,S)};function Qt(c,p){var v,S=c.F;if(S)for(v=[];S;S=S.F)v.push(S);if(c=c.M,S=p.type||p,typeof p=="string")p=new at(p,c);else if(p instanceof at)p.target=p.target||c;else{var B=p;p=new at(S,c),I(p,B)}if(B=!0,v)for(var X=v.length-1;0<=X;X--){var st=p.g=v[X];B=dn(st,S,!0,p)&&B}if(st=p.g=c,B=dn(st,S,!0,p)&&B,B=dn(st,S,!1,p)&&B,v)for(X=0;X<v.length;X++)st=p.g=v[X],B=dn(st,S,!1,p)&&B}fe.prototype.N=function(){if(fe.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var v=c.g[p],S=0;S<v.length;S++)Vn(v[S]);delete c.g[p],c.h--}}this.F=null},fe.prototype.K=function(c,p,v,S){return this.i.add(String(c),p,!1,v,S)},fe.prototype.L=function(c,p,v,S){return this.i.add(String(c),p,!0,v,S)};function dn(c,p,v,S){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var B=!0,X=0;X<p.length;++X){var st=p[X];if(st&&!st.da&&st.capture==v){var jt=st.listener,Ne=st.ha||st.src;st.fa&&Pn(c.i,st),B=jt.call(Ne,S)!==!1&&B}}return B&&!S.defaultPrevented}function Se(c,p,v){if(typeof c=="function")v&&(c=w(c,v));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:m.setTimeout(c,p||0)}function mi(c){c.g=Se(()=>{c.g=null,c.i&&(c.i=!1,mi(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class os extends lt{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:mi(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zr(c){lt.call(this),this.h=c,this.g={}}D(zr,lt);var Ln=[];function mr(c){pt(c.g,function(p,v){this.g.hasOwnProperty(v)&&ba(p)},c),c.g={}}zr.prototype.N=function(){zr.aa.N.call(this),mr(this)},zr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Sn=m.JSON.stringify,Br=m.JSON.parse,gr=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function qr(){}qr.prototype.h=null;function gi(c){return c.h||(c.h=c.i())}function wa(){}var er={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function kn(){at.call(this,"d")}D(kn,at);function Ae(){at.call(this,"c")}D(Ae,at);var oe={},yr=null;function Yt(){return yr=yr||new fe}oe.La="serverreachability";function Qe(c){at.call(this,oe.La,c)}D(Qe,at);function pr(c){const p=Yt();Qt(p,new Qe(p))}oe.STAT_EVENT="statevent";function Sa(c,p){at.call(this,oe.STAT_EVENT,c),this.stat=p}D(Sa,at);function ie(c){const p=Yt();Qt(p,new Sa(p,c))}oe.Ma="timingevent";function ve(c,p){at.call(this,oe.Ma,c),this.size=p}D(ve,at);function he(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},p)}function Ke(){this.g=!0}Ke.prototype.xa=function(){this.g=!1};function Hr(c,p,v,S,B,X){c.info(function(){if(c.g)if(X)for(var st="",jt=X.split("&"),Ne=0;Ne<jt.length;Ne++){var zt=jt[Ne].split("=");if(1<zt.length){var ze=zt[0];zt=zt[1];var Me=ze.split("_");st=2<=Me.length&&Me[1]=="type"?st+(ze+"="+zt+"&"):st+(ze+"=redacted&")}}else st=null;else st=X;return"XMLHTTP REQ ("+S+") [attempt "+B+"]: "+p+`
`+v+`
`+st})}function yi(c,p,v,S,B,X,st){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+B+"]: "+p+`
`+v+`
`+X+" "+st})}function Un(c,p,v,S){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+nr(c,v)+(S?" "+S:"")})}function us(c,p){c.info(function(){return"TIMEOUT: "+p})}Ke.prototype.info=function(){};function nr(c,p){if(!c.g)return p;if(!p)return null;try{var v=JSON.parse(p);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var S=v[c];if(!(2>S.length)){var B=S[1];if(Array.isArray(B)&&!(1>B.length)){var X=B[0];if(X!="noop"&&X!="stop"&&X!="close")for(var st=1;st<B.length;st++)B[st]=""}}}}return Sn(v)}catch{return p}}var rr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ar={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},jn;function St(){}D(St,qr),St.prototype.g=function(){return new XMLHttpRequest},St.prototype.i=function(){return{}},jn=new St;function Vt(c,p,v,S){this.j=c,this.i=p,this.l=v,this.R=S||1,this.U=new zr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ot}function Ot(){this.i=null,this.g="",this.h=!1}var Xe={},Ue={};function mn(c,p,v){c.L=1,c.v=Ti(An(p)),c.m=v,c.P=!0,ir(c,null)}function ir(c,p){c.F=Date.now(),pi(c),c.A=An(c.v);var v=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Il(v.i,"t",S),c.C=0,v=c.j.J,c.h=new Ot,c.g=Au(c.j,v?p:null,!c.m),0<c.O&&(c.M=new os(w(c.Y,c,c.g),c.O)),p=c.U,v=c.g,S=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(Ln[0]=B.toString()),B=Ln);for(var X=0;X<B.length;X++){var st=Ye(v,B[X],S||p.handleEvent,!1,p.h||p);if(!st)break;p.g[st.key]=st}p=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),pr(),Hr(c.i,c.u,c.A,c.l,c.R,c.m)}Vt.prototype.ca=function(c){c=c.target;const p=this.M;p&&Hn(c)==3?p.j():this.Y(c)},Vt.prototype.Y=function(c){try{if(c==this.g)t:{const Me=Hn(this.g);var p=this.g.Ba();const Wr=this.g.Z();if(!(3>Me)&&(Me!=3||this.g&&(this.h.h||this.g.oa()||pu(this.g)))){this.J||Me!=4||p==7||(p==8||0>=Wr?pr(3):pr(2)),Aa(this);var v=this.g.Z();this.X=v;e:if(cs(this)){var S=pu(this.g);c="";var B=S.length,X=Hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$e(this),vr(this);var st="";break e}this.h.i=new m.TextDecoder}for(p=0;p<B;p++)this.h.h=!0,c+=this.h.i.decode(S[p],{stream:!(X&&p==B-1)});S.length=0,this.h.g+=c,this.C=0,st=this.h.g}else st=this.g.oa();if(this.o=v==200,yi(this.i,this.u,this.A,this.l,this.R,Me,v),this.o){if(this.T&&!this.K){e:{if(this.g){var jt,Ne=this.g;if((jt=Ne.g?Ne.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rt(jt)){var zt=jt;break e}}zt=null}if(v=zt)Un(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vi(this,v);else{this.o=!1,this.s=3,ie(12),$e(this),vr(this);break t}}if(this.P){v=!0;let We;for(;!this.J&&this.C<st.length;)if(We=fu(this,st),We==Ue){Me==4&&(this.s=4,ie(14),v=!1),Un(this.i,this.l,null,"[Incomplete Response]");break}else if(We==Xe){this.s=4,ie(15),Un(this.i,this.l,st,"[Invalid Chunk]"),v=!1;break}else Un(this.i,this.l,We,null),vi(this,We);if(cs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Me!=4||st.length!=0||this.h.h||(this.s=1,ie(16),v=!1),this.o=this.o&&v,!v)Un(this.i,this.l,st,"[Invalid Chunked Response]"),$e(this),vr(this);else if(0<st.length&&!this.W){this.W=!0;var ze=this.j;ze.g==this&&ze.ba&&!ze.M&&(ze.j.info("Great, no buffering proxy detected. Bytes received: "+st.length),Ci(ze),ze.M=!0,ie(11))}}else Un(this.i,this.l,st,null),vi(this,st);Me==4&&$e(this),this.o&&!this.J&&(Me==4?bu(this.j,this):(this.o=!1,pi(this)))}else Gf(this.g),v==400&&0<st.indexOf("Unknown SID")?(this.s=3,ie(12)):(this.s=0,ie(13)),$e(this),vr(this)}}}catch{}finally{}};function cs(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function fu(c,p){var v=c.C,S=p.indexOf(`
`,v);return S==-1?Ue:(v=Number(p.substring(v,S)),isNaN(v)?Xe:(S+=1,S+v>p.length?Ue:(p=p.slice(S,S+v),c.C=S+v,p)))}Vt.prototype.cancel=function(){this.J=!0,$e(this)};function pi(c){c.S=Date.now()+c.I,hu(c,c.I)}function hu(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=he(w(c.ba,c),p)}function Aa(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Vt.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(us(this.i,this.A),this.L!=2&&(pr(),ie(17)),$e(this),this.s=2,vr(this)):hu(this,this.S-c)};function vr(c){c.j.G==0||c.J||bu(c.j,c)}function $e(c){Aa(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,mr(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function vi(c,p){try{var v=c.j;if(v.G!=0&&(v.g==c||Rl(v.h,c))){if(!c.K&&Rl(v.h,c)&&v.G==3){try{var S=v.Da.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var B=S;if(B[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)bs(v),Es(v);else break t;Ll(v),ie(18)}}else v.za=B[1],0<v.za-v.T&&37500>B[2]&&v.F&&v.v==0&&!v.C&&(v.C=he(w(v.Za,v),6e3));if(1>=hs(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else $r(v,11)}else if((c.K||v.g==c)&&bs(v),!rt(p))for(B=v.Da.g.parse(p),p=0;p<B.length;p++){let zt=B[p];if(v.T=zt[0],zt=zt[1],v.G==2)if(zt[0]=="c"){v.K=zt[1],v.ia=zt[2];const ze=zt[3];ze!=null&&(v.la=ze,v.j.info("VER="+v.la));const Me=zt[4];Me!=null&&(v.Aa=Me,v.j.info("SVER="+v.Aa));const Wr=zt[5];Wr!=null&&typeof Wr=="number"&&0<Wr&&(S=1.5*Wr,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const We=c.g;if(We){const Ar=We.g?We.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ar){var X=S.h;X.g||Ar.indexOf("spdy")==-1&&Ar.indexOf("quic")==-1&&Ar.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(ds(X,X.h),X.h=null))}if(S.D){const Ul=We.g?We.g.getResponseHeader("X-HTTP-Session-Id"):null;Ul&&(S.ya=Ul,te(S.I,S.D,Ul))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var st=c;if(S.qa=Su(S,S.J?S.ia:null,S.W),st.K){gn(S.h,st);var jt=st,Ne=S.L;Ne&&(jt.I=Ne),jt.B&&(Aa(jt),pi(jt)),S.g=st}else Eu(S);0<v.i.length&&Ts(v)}else zt[0]!="stop"&&zt[0]!="close"||$r(v,7);else v.G==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?$r(v,7):Vl(v):zt[0]!="noop"&&v.l&&v.l.ta(zt),v.v=0)}}pr(4)}catch{}}var du=class{constructor(c,p){this.g=c,this.map=p}};function Fr(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fs(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function hs(c){return c.h?1:c.g?c.g.size:0}function Rl(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function ds(c,p){c.g?c.g.add(p):c.h=p}function gn(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Fr.prototype.cancel=function(){if(this.i=Dl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Dl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.D);return p}return j(c.i)}function qf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var p=[],v=c.length,S=0;S<v;S++)p.push(c[S]);return p}p=[],v=0;for(S in c)p[v++]=c[S];return p}function ms(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var p=[];c=c.length;for(var v=0;v<c;v++)p.push(v);return p}p=[],v=0;for(const S in c)p[v++]=S;return p}}}function xl(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var v=ms(c),S=qf(c),B=S.length,X=0;X<B;X++)p.call(void 0,S[X],v&&v[X],c)}var _i=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hf(c,p){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var S=c[v].indexOf("="),B=null;if(0<=S){var X=c[v].substring(0,S);B=c[v].substring(S+1)}else X=c[v];p(X,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Re(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Re){this.h=c.h,Ei(this,c.j),this.o=c.o,this.g=c.g,Ra(this,c.s),this.l=c.l;var p=c.i,v=new Gr;v.i=p.i,p.g&&(v.g=new Map(p.g),v.h=p.h),Yr(this,v),this.m=c.m}else c&&(p=String(c).match(_i))?(this.h=!1,Ei(this,p[1]||"",!0),this.o=zn(p[2]||""),this.g=zn(p[3]||"",!0),Ra(this,p[4]),this.l=zn(p[5]||"",!0),Yr(this,p[6]||"",!0),this.m=zn(p[7]||"")):(this.h=!1,this.i=new Gr(null,this.h))}Re.prototype.toString=function(){var c=[],p=this.j;p&&c.push(bi(p,Cl,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(bi(p,Cl,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(bi(v,v.charAt(0)=="/"?Ff:Ol,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",bi(v,gs)),c.join("")};function An(c){return new Re(c)}function Ei(c,p,v){c.j=v?zn(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function Ra(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function Yr(c,p,v){p instanceof Gr?(c.i=p,gu(c.i,c.h)):(v||(p=bi(p,Yf)),c.i=new Gr(p,c.h))}function te(c,p,v){c.i.set(p,v)}function Ti(c){return te(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function zn(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function bi(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,mu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function mu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Cl=/[#\/\?@]/g,Ol=/[#\?:]/g,Ff=/[#\?]/g,Yf=/[#\?@]/g,gs=/#/g;function Gr(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Bn(c){c.g||(c.g=new Map,c.h=0,c.i&&Hf(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}r=Gr.prototype,r.add=function(c,p){Bn(this),this.i=null,c=_r(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function Qr(c,p){Bn(c),p=_r(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Kr(c,p){return Bn(c),p=_r(c,p),c.g.has(p)}r.forEach=function(c,p){Bn(this),this.g.forEach(function(v,S){v.forEach(function(B){c.call(p,B,S,this)},this)},this)},r.na=function(){Bn(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),v=[];for(let S=0;S<p.length;S++){const B=c[S];for(let X=0;X<B.length;X++)v.push(p[S])}return v},r.V=function(c){Bn(this);let p=[];if(typeof c=="string")Kr(this,c)&&(p=p.concat(this.g.get(_r(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)p=p.concat(c[v])}return p},r.set=function(c,p){return Bn(this),this.i=null,c=_r(this,c),Kr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function Il(c,p,v){Qr(c,p),0<v.length&&(c.i=null,c.g.set(_r(c,p),j(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var v=0;v<p.length;v++){var S=p[v];const X=encodeURIComponent(String(S)),st=this.V(S);for(S=0;S<st.length;S++){var B=X;st[S]!==""&&(B+="="+encodeURIComponent(String(st[S]))),c.push(B)}}return this.i=c.join("&")};function _r(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function gu(c,p){p&&!c.j&&(Bn(c),c.i=null,c.g.forEach(function(v,S){var B=S.toLowerCase();S!=B&&(Qr(this,S),Il(this,B,v))},c)),c.j=p}function wi(c,p){const v=new Ke;if(m.Image){const S=new Image;S.onload=x(qn,v,"TestLoadImage: loaded",!0,p,S),S.onerror=x(qn,v,"TestLoadImage: error",!1,p,S),S.onabort=x(qn,v,"TestLoadImage: abort",!1,p,S),S.ontimeout=x(qn,v,"TestLoadImage: timeout",!1,p,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else p(!1)}function sr(c,p){const v=new Ke,S=new AbortController,B=setTimeout(()=>{S.abort(),qn(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:S.signal}).then(X=>{clearTimeout(B),X.ok?qn(v,"TestPingServer: ok",!0,p):qn(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(B),qn(v,"TestPingServer: error",!1,p)})}function qn(c,p,v,S,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),S(v)}catch{}}function Si(){this.g=new gr}function Er(c,p,v){const S=v||"";try{xl(c,function(B,X){let st=B;y(B)&&(st=Sn(B)),p.push(S+X+"="+encodeURIComponent(st))})}catch(B){throw p.push(S+"type="+encodeURIComponent("_badmap")),B}}function Da(c){this.l=c.Ub||null,this.j=c.eb||!1}D(Da,qr),Da.prototype.g=function(){return new Xr(this.l,this.j)},Da.prototype.i=function(c){return function(){return c}}({});function Xr(c,p){fe.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(Xr,fe),r=Xr.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,br(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||m).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Tr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,br(this)),this.g&&(this.readyState=3,br(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Nl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Nl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?Tr(this):br(this),this.readyState==3&&Nl(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Tr(this))},r.Qa=function(c){this.g&&(this.response=c,Tr(this))},r.ga=function(){this.g&&Tr(this)};function Tr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,br(c)}r.setRequestHeader=function(c,p){this.u.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function br(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Xr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ml(c){let p="";return pt(c,function(v,S){p+=S,p+=":",p+=v,p+=`\r
`}),p}function je(c,p,v){t:{for(S in v){var S=!1;break t}S=!0}S||(v=Ml(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):te(c,p,v))}function Xt(c){fe.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(Xt,fe);var ys=/^https?$/i,Ai=["POST","PUT"];r=Xt.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,p,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jn.g(),this.v=this.o?gi(this.o):gi(jn),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(X){yu(this,X);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var B in S)v.set(B,S[B]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const X of S.keys())v.set(X,S.get(X));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(X=>X.toLowerCase()=="content-type"),B=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ai,p,void 0))||S||B||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,st]of v)this.g.setRequestHeader(X,st);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ri(this),this.u=!0,this.g.send(c),this.u=!1}catch(X){yu(this,X)}};function yu(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,ps(c),wr(c)}function ps(c){c.A||(c.A=!0,Qt(c,"complete"),Qt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Qt(this,"complete"),Qt(this,"abort"),wr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wr(this,!0)),Xt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?vs(this):this.bb())},r.bb=function(){vs(this)};function vs(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Hn(c)!=4||c.Z()!=2)){if(c.u&&Hn(c)==4)Se(c.Ea,0,c);else if(Qt(c,"readystatechange"),Hn(c)==4){c.h=!1;try{const st=c.Z();t:switch(st){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var v;if(!(v=p)){var S;if(S=st===0){var B=String(c.D).match(_i)[1]||null;!B&&m.self&&m.self.location&&(B=m.self.location.protocol.slice(0,-1)),S=!ys.test(B?B.toLowerCase():"")}v=S}if(v)Qt(c,"complete"),Qt(c,"success");else{c.m=6;try{var X=2<Hn(c)?c.g.statusText:""}catch{X=""}c.l=X+" ["+c.Z()+"]",ps(c)}}finally{wr(c)}}}}function wr(c,p){if(c.g){Ri(c);const v=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||Qt(c,"ready");try{v.onreadystatechange=S}catch{}}}function Ri(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Hn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Hn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Br(p)}};function pu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Gf(c){const p={};c=(c.g&&2<=Hn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(rt(c[S]))continue;var v=V(c[S]);const B=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const X=p[B]||[];p[B]=X,X.push(v)}M(p,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Di(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function _s(c){this.Aa=0,this.i=[],this.j=new Ke,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Di("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Di("baseRetryDelayMs",5e3,c),this.cb=Di("retryDelaySeedMs",1e4,c),this.Wa=Di("forwardChannelMaxRetries",2,c),this.wa=Di("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Fr(c&&c.concurrentRequestLimit),this.Da=new Si,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=_s.prototype,r.la=8,r.G=1,r.connect=function(c,p,v,S){ie(0),this.W=c,this.H=p||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=Su(this,null,this.W),Ts(this)};function Vl(c){if(vu(c),c.G==3){var p=c.U++,v=An(c.I);if(te(v,"SID",c.K),te(v,"RID",p),te(v,"TYPE","terminate"),xi(c,v),p=new Vt(c,c.j,p),p.L=2,p.v=Ti(An(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(p.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=p.v,v=!0),v||(p.g=Au(p.j,null),p.g.ea(p.v)),p.F=Date.now(),pi(p)}wu(c)}function Es(c){c.g&&(Ci(c),c.g.cancel(),c.g=null)}function vu(c){Es(c),c.u&&(m.clearTimeout(c.u),c.u=null),bs(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ts(c){if(!fs(c.h)&&!c.s){c.s=!0;var p=c.Ga;it||N(),dt||(it(),dt=!0),xt.add(p,c),c.B=0}}function Qf(c,p){return hs(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=he(w(c.Ga,c,p),kl(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new Vt(this,this.j,c);let X=this.o;if(this.S&&(X?(X=A(X),I(X,this.S)):X=this.S),this.m!==null||this.O||(B.H=X,X=null),this.P)t:{for(var p=0,v=0;v<this.i.length;v++){e:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(p+=S,4096<p){p=v;break t}if(p===4096||v===this.i.length-1){p=v+1;break t}}p=1e3}else p=1e3;p=_u(this,B,p),v=An(this.I),te(v,"RID",c),te(v,"CVER",22),this.D&&te(v,"X-HTTP-Session-Id",this.D),xi(this,v),X&&(this.O?p="headers="+encodeURIComponent(String(Ml(X)))+"&"+p:this.m&&je(v,this.m,X)),ds(this.h,B),this.Ua&&te(v,"TYPE","init"),this.P?(te(v,"$req",p),te(v,"SID","null"),B.T=!0,mn(B,v,null)):mn(B,v,p),this.G=2}}else this.G==3&&(c?Pl(this,c):this.i.length==0||fs(this.h)||Pl(this))};function Pl(c,p){var v;p?v=p.l:v=c.U++;const S=An(c.I);te(S,"SID",c.K),te(S,"RID",v),te(S,"AID",c.T),xi(c,S),c.m&&c.o&&je(S,c.m,c.o),v=new Vt(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),p&&(c.i=p.D.concat(c.i)),p=_u(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ds(c.h,v),mn(v,S,p)}function xi(c,p){c.H&&pt(c.H,function(v,S){te(p,S,v)}),c.l&&xl({},function(v,S){te(p,S,v)})}function _u(c,p,v){v=Math.min(c.i.length,v);var S=c.l?w(c.l.Na,c.l,c):null;t:{var B=c.i;let X=-1;for(;;){const st=["count="+v];X==-1?0<v?(X=B[0].g,st.push("ofs="+X)):X=0:st.push("ofs="+X);let jt=!0;for(let Ne=0;Ne<v;Ne++){let zt=B[Ne].g;const ze=B[Ne].map;if(zt-=X,0>zt)X=Math.max(0,B[Ne].g-100),jt=!1;else try{Er(ze,st,"req"+zt+"_")}catch{S&&S(ze)}}if(jt){S=st.join("&");break t}}}return c=c.i.splice(0,v),p.D=c,S}function Eu(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;it||N(),dt||(it(),dt=!0),xt.add(p,c),c.v=0}}function Ll(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=he(w(c.Fa,c),kl(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Tu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=he(w(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ie(10),Es(this),Tu(this))};function Ci(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Tu(c){c.g=new Vt(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=An(c.qa);te(p,"RID","rpc"),te(p,"SID",c.K),te(p,"AID",c.T),te(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&te(p,"TO",c.ja),te(p,"TYPE","xmlhttp"),xi(c,p),c.m&&c.o&&je(p,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Ti(An(p)),v.m=null,v.P=!0,ir(v,c)}r.Za=function(){this.C!=null&&(this.C=null,Es(this),Ll(this),ie(19))};function bs(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function bu(c,p){var v=null;if(c.g==p){bs(c),Ci(c),c.g=null;var S=2}else if(Rl(c.h,p))v=p.D,gn(c.h,p),S=1;else return;if(c.G!=0){if(p.o)if(S==1){v=p.m?p.m.length:0,p=Date.now()-p.F;var B=c.B;S=Yt(),Qt(S,new ve(S,v)),Ts(c)}else Eu(c);else if(B=p.s,B==3||B==0&&0<p.X||!(S==1&&Qf(c,p)||S==2&&Ll(c)))switch(v&&0<v.length&&(p=c.h,p.i=p.i.concat(v)),B){case 1:$r(c,5);break;case 4:$r(c,10);break;case 3:$r(c,6);break;default:$r(c,2)}}}function kl(c,p){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*p}function $r(c,p){if(c.j.info("Error code "+p),p==2){var v=w(c.fb,c),S=c.Xa;const B=!S;S=new Re(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ei(S,"https"),Ti(S),B?wi(S.toString(),v):sr(S.toString(),v)}else ie(2);c.G=0,c.l&&c.l.sa(p),wu(c),vu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ie(2)):(this.j.info("Failed to ping google.com"),ie(1))};function wu(c){if(c.G=0,c.ka=[],c.l){const p=Dl(c.h);(p.length!=0||c.i.length!=0)&&(L(c.ka,p),L(c.ka,c.i),c.h.i.length=0,j(c.i),c.i.length=0),c.l.ra()}}function Su(c,p,v){var S=v instanceof Re?An(v):new Re(v);if(S.g!="")p&&(S.g=p+"."+S.g),Ra(S,S.s);else{var B=m.location;S=B.protocol,p=p?p+"."+B.hostname:B.hostname,B=+B.port;var X=new Re(null);S&&Ei(X,S),p&&(X.g=p),B&&Ra(X,B),v&&(X.l=v),S=X}return v=c.D,p=c.ya,v&&p&&te(S,v,p),te(S,"VER",c.la),xi(c,S),S}function Au(c,p,v){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new Xt(new Da({eb:v})):new Xt(c.pa),p.Ha(c.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ru(){}r=Ru.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ws(){}ws.prototype.g=function(c,p){return new yn(c,p)};function yn(c,p){fe.call(this),this.g=new _s(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!rt(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!rt(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Sr(this)}D(yn,fe),yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){Vl(this.g)},yn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Sn(c),c=v);p.i.push(new du(p.Ya++,c)),p.G==3&&Ts(p)},yn.prototype.N=function(){this.g.l=null,delete this.j,Vl(this.g),delete this.g,yn.aa.N.call(this)};function Du(c){kn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){t:{for(const v in p){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}D(Du,kn);function xu(){Ae.call(this),this.status=1}D(xu,Ae);function Sr(c){this.g=c}D(Sr,Ru),Sr.prototype.ua=function(){Qt(this.g,"a")},Sr.prototype.ta=function(c){Qt(this.g,new Du(c))},Sr.prototype.sa=function(c){Qt(this.g,new xu)},Sr.prototype.ra=function(){Qt(this.g,"b")},ws.prototype.createWebChannel=ws.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,BE=function(){return new ws},zE=function(){return Yt()},jE=oe,gm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},rr.NO_ERROR=0,rr.TIMEOUT=8,rr.HTTP_ERROR=6,zc=rr,ar.COMPLETE="complete",UE=ar,wa.EventType=er,er.OPEN="a",er.CLOSE="b",er.ERROR="c",er.MESSAGE="d",fe.prototype.listen=fe.prototype.K,Io=wa,Xt.prototype.listenOnce=Xt.prototype.L,Xt.prototype.getLastError=Xt.prototype.Ka,Xt.prototype.getLastErrorCode=Xt.prototype.Ba,Xt.prototype.getStatus=Xt.prototype.Z,Xt.prototype.getResponseJson=Xt.prototype.Oa,Xt.prototype.getResponseText=Xt.prototype.oa,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Ha,kE=Xt}).apply(typeof Oc<"u"?Oc:typeof self<"u"?self:typeof window<"u"?window:{});const k_="@firebase/firestore",U_="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _l="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=new OE("@firebase/firestore");function Js(){return Wi.logLevel}function ct(r,...t){if(Wi.logLevel<=Ht.DEBUG){const n=t.map(ig);Wi.debug(`Firestore (${_l}): ${r}`,...n)}}function pa(r,...t){if(Wi.logLevel<=Ht.ERROR){const n=t.map(ig);Wi.error(`Firestore (${_l}): ${r}`,...n)}}function ul(r,...t){if(Wi.logLevel<=Ht.WARN){const n=t.map(ig);Wi.warn(`Firestore (${_l}): ${r}`,...n)}}function ig(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(r="Unexpected state"){const t=`FIRESTORE (${_l}) INTERNAL ASSERTION FAILED: `+r;throw pa(t),new Error(t)}function $t(r,t){r||wt()}function Dt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends vl{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class CR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(un.UNAUTHENTICATED))}shutdown(){}}class OR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class IR{constructor(t){this.t=t,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){$t(this.o===void 0);let i=this.i;const l=g=>this.i!==i?(i=this.i,n(g)):Promise.resolve();let u=new da;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new da,t.enqueueRetryable(()=>l(this.currentUser))};const h=()=>{const g=u;t.enqueueRetryable(async()=>{await g.promise,await l(this.currentUser)})},m=g=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new da)}},0),h()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?($t(typeof i.accessToken=="string"),new qE(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return $t(t===null||typeof t=="string"),new un(t)}}class NR{constructor(t,n,i){this.l=t,this.h=n,this.P=i,this.type="FirstParty",this.user=un.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class MR{constructor(t,n,i){this.l=t,this.h=n,this.P=i}getToken(){return Promise.resolve(new NR(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class j_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VR{constructor(t,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,hR(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,n){$t(this.o===void 0);const i=u=>{u.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,ct("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>i(u))};const l=u=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>l(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?l(u):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new j_(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?($t(typeof n.token=="string"),this.R=n.token,new j_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<r;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const l=PR(40);for(let u=0;u<l.length;++u)i.length<20&&l[u]<n&&(i+=t.charAt(l[u]%62))}return i}}function Mt(r,t){return r<t?-1:r>t?1:0}function ym(r,t){let n=0;for(;n<r.length&&n<t.length;){const i=r.codePointAt(n),l=t.codePointAt(n);if(i!==l){if(i<128&&l<128)return Mt(i,l);{const u=HE(),h=LR(u.encode(z_(r,n)),u.encode(z_(t,n)));return h!==0?h:Mt(i,l)}}n+=i>65535?2:1}return Mt(r.length,t.length)}function z_(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function LR(r,t){for(let n=0;n<r.length&&n<t.length;++n)if(r[n]!==t[n])return Mt(r[n],t[n]);return Mt(r.length,t.length)}function cl(r,t,n){return r.length===t.length&&r.every((i,l)=>n(i,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_=-62135596800,q_=1e6;class Le{static now(){return Le.fromMillis(Date.now())}static fromDate(t){return Le.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*q_);return new Le(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ft(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ft(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<B_)throw new ft(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ft(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/q_}_compareTo(t){return this.seconds===t.seconds?Mt(this.nanoseconds,t.nanoseconds):Mt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-B_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{static fromTimestamp(t){return new Rt(t)}static min(){return new Rt(new Le(0,0))}static max(){return new Rt(new Le(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="__name__";class Nr{constructor(t,n,i){n===void 0?n=0:n>t.length&&wt(),i===void 0?i=t.length-n:i>t.length-n&&wt(),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return Nr.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Nr?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let l=0;l<i;l++){const u=Nr.compareSegments(t.get(l),n.get(l));if(u!==0)return u}return Mt(t.length,n.length)}static compareSegments(t,n){const i=Nr.isNumericId(t),l=Nr.isNumericId(n);return i&&!l?-1:!i&&l?1:i&&l?Nr.extractNumericId(t).compare(Nr.extractNumericId(n)):ym(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ti.fromString(t.substring(4,t.length-2))}}class ue extends Nr{construct(t,n,i){return new ue(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new ft(nt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(l=>l.length>0))}return new ue(n)}static emptyPath(){return new ue([])}}const kR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Nr{construct(t,n,i){return new nn(t,n,i)}static isValidIdentifier(t){return kR.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===H_}static keyField(){return new nn([H_])}static fromServerFormat(t){const n=[];let i="",l=0;const u=()=>{if(i.length===0)throw new ft(nt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let h=!1;for(;l<t.length;){const m=t[l];if(m==="\\"){if(l+1===t.length)throw new ft(nt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ft(nt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=g,l+=2}else m==="`"?(h=!h,l++):m!=="."||h?(i+=m,l++):(u(),l++)}if(u(),h)throw new ft(nt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new nn(n)}static emptyPath(){return new nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(t){this.path=t}static fromPath(t){return new vt(ue.fromString(t))}static fromName(t){return new vt(ue.fromString(t).popFirst(5))}static empty(){return new vt(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ue.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ue.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new ue(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo=-1;function UR(r,t){const n=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,l=Rt.fromTimestamp(i===1e9?new Le(n+1,0):new Le(n,i));return new ni(l,vt.empty(),t)}function jR(r){return new ni(r.readTime,r.key,Fo)}class ni{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new ni(Rt.min(),vt.empty(),Fo)}static max(){return new ni(Rt.max(),vt.empty(),Fo)}}function zR(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=vt.comparator(r.documentKey,t.documentKey),n!==0?n:Mt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function El(r){if(r.code!==nt.FAILED_PRECONDITION||r.message!==BR)throw r;ct("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&wt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new et((i,l)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(i,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(i,l)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof et?n:et.resolve(n)}catch(n){return et.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):et.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):et.reject(n)}static resolve(t){return new et((n,i)=>{n(t)})}static reject(t){return new et((n,i)=>{i(t)})}static waitFor(t){return new et((n,i)=>{let l=0,u=0,h=!1;t.forEach(m=>{++l,m.next(()=>{++u,h&&u===l&&n()},g=>i(g))}),h=!0,u===l&&n()})}static or(t){let n=et.resolve(!1);for(const i of t)n=n.next(l=>l?et.resolve(l):i());return n}static forEach(t,n){const i=[];return t.forEach((l,u)=>{i.push(n.call(this,l,u))}),this.waitFor(i)}static mapArray(t,n){return new et((i,l)=>{const u=t.length,h=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;n(t[y]).next(_=>{h[y]=_,++m,m===u&&i(h)},_=>l(_))}})}static doWhile(t,n){return new et((i,l)=>{const u=()=>{t()===!0?n().next(()=>{u()},l):i()};u()})}}function HR(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Tl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.oe(i),this._e=i=>n.writeSequenceNumber(i))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}yf.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg=-1;function pf(r){return r==null}function Zc(r){return r===0&&1/r==-1/0}function FR(r){return typeof r=="number"&&Number.isInteger(r)&&!Zc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE="";function YR(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=F_(t)),t=GR(r.get(n),t);return F_(t)}function GR(r,t){let n=t;const i=r.length;for(let l=0;l<i;l++){const u=r.charAt(l);switch(u){case"\0":n+="";break;case YE:n+="";break;default:n+=u}}return n}function F_(r){return r+YE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function ui(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function GE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(t,n){this.comparator=t,this.root=n||en.EMPTY}insert(t,n){return new pe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,en.BLACK,null,null))}remove(t){return new pe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,en.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const l=this.comparator(t,i.key);if(l===0)return n+i.left.size;l<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ic(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ic(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ic(this.root,t,this.comparator,!0)}}class Ic{constructor(t,n,i,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?i(t.key,n):1,n&&l&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class en{constructor(t,n,i,l,u){this.key=t,this.value=n,this.color=i??en.RED,this.left=l??en.EMPTY,this.right=u??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,l,u){return new en(t??this.key,n??this.value,i??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let l=this;const u=i(t,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(t,n,i),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,i)),l.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return en.EMPTY;i=l.right.min(),l=l.copy(i.key,i.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw wt();const t=this.left.check();if(t!==this.right.check())throw wt();return t+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw wt()}get value(){throw wt()}get color(){throw wt()}get left(){throw wt()}get right(){throw wt()}copy(t,n,i,l,u){return this}insert(t,n,i){return new en(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(t){this.comparator=t,this.data=new pe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const l=i.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new G_(this.data.getIterator())}getIteratorFrom(t){return new G_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof ke)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=i.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new ke(this.comparator);return n.data=t,n}}class G_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(t){this.fields=t,t.sort(nn.comparator)}static empty(){return new Mn([])}unionWith(t){let n=new ke(nn.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new Mn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return cl(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new QE("Invalid base64 string: "+u):u}}(t);return new an(n)}static fromUint8Array(t){const n=function(l){let u="";for(let h=0;h<l.length;++h)u+=String.fromCharCode(l[h]);return u}(t);return new an(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let l=0;l<n.length;l++)i[l]=n.charCodeAt(l);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Mt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}an.EMPTY_BYTE_STRING=new an("");const QR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ri(r){if($t(!!r),typeof r=="string"){let t=0;const n=QR.exec(r);if($t(!!n),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:we(r.seconds),nanos:we(r.nanos)}}function we(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ai(r){return typeof r=="string"?an.fromBase64String(r):an.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="server_timestamp",XE="__type__",$E="__previous_value__",WE="__local_write_time__";function lg(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[XE])===null||n===void 0?void 0:n.stringValue)===KE}function vf(r){const t=r.mapValue.fields[$E];return lg(t)?vf(t):t}function Yo(r){const t=ri(r.mapValue.fields[WE].timestampValue);return new Le(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(t,n,i,l,u,h,m,g,y){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=l,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y}}const Jc="(default)";class Go{constructor(t,n){this.projectId=t,this.database=n||Jc}static empty(){return new Go("","")}get isDefaultDatabase(){return this.database===Jc}isEqual(t){return t instanceof Go&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="__type__",XR="__max__",Nc={mapValue:{}},JE="__vector__",tf="value";function ii(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?lg(r)?4:WR(r)?9007199254740991:$R(r)?10:11:wt()}function kr(r,t){if(r===t)return!0;const n=ii(r);if(n!==ii(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Yo(r).isEqual(Yo(t));case 3:return function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const h=ri(l.timestampValue),m=ri(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(l,u){return ai(l.bytesValue).isEqual(ai(u.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(l,u){return we(l.geoPointValue.latitude)===we(u.geoPointValue.latitude)&&we(l.geoPointValue.longitude)===we(u.geoPointValue.longitude)}(r,t);case 2:return function(l,u){if("integerValue"in l&&"integerValue"in u)return we(l.integerValue)===we(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const h=we(l.doubleValue),m=we(u.doubleValue);return h===m?Zc(h)===Zc(m):isNaN(h)&&isNaN(m)}return!1}(r,t);case 9:return cl(r.arrayValue.values||[],t.arrayValue.values||[],kr);case 10:case 11:return function(l,u){const h=l.mapValue.fields||{},m=u.mapValue.fields||{};if(Y_(h)!==Y_(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!kr(h[g],m[g])))return!1;return!0}(r,t);default:return wt()}}function Qo(r,t){return(r.values||[]).find(n=>kr(n,t))!==void 0}function fl(r,t){if(r===t)return 0;const n=ii(r),i=ii(t);if(n!==i)return Mt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Mt(r.booleanValue,t.booleanValue);case 2:return function(u,h){const m=we(u.integerValue||u.doubleValue),g=we(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(r,t);case 3:return Q_(r.timestampValue,t.timestampValue);case 4:return Q_(Yo(r),Yo(t));case 5:return ym(r.stringValue,t.stringValue);case 6:return function(u,h){const m=ai(u),g=ai(h);return m.compareTo(g)}(r.bytesValue,t.bytesValue);case 7:return function(u,h){const m=u.split("/"),g=h.split("/");for(let y=0;y<m.length&&y<g.length;y++){const _=Mt(m[y],g[y]);if(_!==0)return _}return Mt(m.length,g.length)}(r.referenceValue,t.referenceValue);case 8:return function(u,h){const m=Mt(we(u.latitude),we(h.latitude));return m!==0?m:Mt(we(u.longitude),we(h.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return K_(r.arrayValue,t.arrayValue);case 10:return function(u,h){var m,g,y,_;const b=u.fields||{},w=h.fields||{},x=(m=b[tf])===null||m===void 0?void 0:m.arrayValue,D=(g=w[tf])===null||g===void 0?void 0:g.arrayValue,j=Mt(((y=x==null?void 0:x.values)===null||y===void 0?void 0:y.length)||0,((_=D==null?void 0:D.values)===null||_===void 0?void 0:_.length)||0);return j!==0?j:K_(x,D)}(r.mapValue,t.mapValue);case 11:return function(u,h){if(u===Nc.mapValue&&h===Nc.mapValue)return 0;if(u===Nc.mapValue)return 1;if(h===Nc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=h.fields||{},_=Object.keys(y);g.sort(),_.sort();for(let b=0;b<g.length&&b<_.length;++b){const w=ym(g[b],_[b]);if(w!==0)return w;const x=fl(m[g[b]],y[_[b]]);if(x!==0)return x}return Mt(g.length,_.length)}(r.mapValue,t.mapValue);default:throw wt()}}function Q_(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Mt(r,t);const n=ri(r),i=ri(t),l=Mt(n.seconds,i.seconds);return l!==0?l:Mt(n.nanos,i.nanos)}function K_(r,t){const n=r.values||[],i=t.values||[];for(let l=0;l<n.length&&l<i.length;++l){const u=fl(n[l],i[l]);if(u)return u}return Mt(n.length,i.length)}function hl(r){return pm(r)}function pm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const i=ri(n);return`time(${i.seconds},${i.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return ai(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return vt.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let i="[",l=!0;for(const u of n.values||[])l?l=!1:i+=",",i+=pm(u);return i+"]"}(r.arrayValue):"mapValue"in r?function(n){const i=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const h of i)u?u=!1:l+=",",l+=`${h}:${pm(n.fields[h])}`;return l+"}"}(r.mapValue):wt()}function Bc(r){switch(ii(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=vf(r);return t?16+Bc(t):16;case 5:return 2*r.stringValue.length;case 6:return ai(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((l,u)=>l+Bc(u),0)}(r.arrayValue);case 10:case 11:return function(i){let l=0;return ui(i.fields,(u,h)=>{l+=u.length+Bc(h)}),l}(r.mapValue);default:throw wt()}}function X_(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function vm(r){return!!r&&"integerValue"in r}function og(r){return!!r&&"arrayValue"in r}function $_(r){return!!r&&"nullValue"in r}function W_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function qc(r){return!!r&&"mapValue"in r}function $R(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[ZE])===null||n===void 0?void 0:n.stringValue)===JE}function ko(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return ui(r.mapValue.fields,(n,i)=>t.mapValue.fields[n]=ko(i)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ko(r.arrayValue.values[n]);return t}return Object.assign({},r)}function WR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===XR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(t){this.value=t}static empty(){return new bn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!qc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=ko(n)}setAll(t){let n=nn.emptyPath(),i={},l=[];t.forEach((h,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,i,l),i={},l=[],n=m.popLast()}h?i[m.lastSegment()]=ko(h):l.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,i,l)}delete(t){const n=this.field(t.popLast());qc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return kr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let l=n.mapValue.fields[t.get(i)];qc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,i){ui(n,(l,u)=>t[l]=u);for(const l of i)delete t[l]}clone(){return new bn(ko(this.value))}}function tT(r){const t=[];return ui(r.fields,(n,i)=>{const l=new nn([n]);if(qc(i)){const u=tT(i.mapValue).fields;if(u.length===0)t.push(l);else for(const h of u)t.push(l.child(h))}else t.push(l)}),new Mn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(t,n,i,l,u,h,m){this.key=t,this.documentType=n,this.version=i,this.readTime=l,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(t){return new cn(t,0,Rt.min(),Rt.min(),Rt.min(),bn.empty(),0)}static newFoundDocument(t,n,i,l){return new cn(t,1,n,Rt.min(),i,l,0)}static newNoDocument(t,n){return new cn(t,2,n,Rt.min(),Rt.min(),bn.empty(),0)}static newUnknownDocument(t,n){return new cn(t,3,n,Rt.min(),Rt.min(),bn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof cn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(t,n){this.position=t,this.inclusive=n}}function Z_(r,t,n){let i=0;for(let l=0;l<r.position.length;l++){const u=t[l],h=r.position[l];if(u.field.isKeyField()?i=vt.comparator(vt.fromName(h.referenceValue),n.key):i=fl(h,n.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return i}function J_(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!kr(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(t,n="asc"){this.field=t,this.dir=n}}function ZR(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{}class Oe extends eT{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new tD(t,n,i):n==="array-contains"?new rD(t,i):n==="in"?new aD(t,i):n==="not-in"?new iD(t,i):n==="array-contains-any"?new sD(t,i):new Oe(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new eD(t,i):new nD(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(fl(n,this.value)):n!==null&&ii(this.value)===ii(n)&&this.matchesComparison(fl(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return wt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cr extends eT{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new cr(t,n)}matches(t){return nT(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function nT(r){return r.op==="and"}function rT(r){return JR(r)&&nT(r)}function JR(r){for(const t of r.filters)if(t instanceof cr)return!1;return!0}function _m(r){if(r instanceof Oe)return r.field.canonicalString()+r.op.toString()+hl(r.value);if(rT(r))return r.filters.map(t=>_m(t)).join(",");{const t=r.filters.map(n=>_m(n)).join(",");return`${r.op}(${t})`}}function aT(r,t){return r instanceof Oe?function(i,l){return l instanceof Oe&&i.op===l.op&&i.field.isEqual(l.field)&&kr(i.value,l.value)}(r,t):r instanceof cr?function(i,l){return l instanceof cr&&i.op===l.op&&i.filters.length===l.filters.length?i.filters.reduce((u,h,m)=>u&&aT(h,l.filters[m]),!0):!1}(r,t):void wt()}function iT(r){return r instanceof Oe?function(n){return`${n.field.canonicalString()} ${n.op} ${hl(n.value)}`}(r):r instanceof cr?function(n){return n.op.toString()+" {"+n.getFilters().map(iT).join(" ,")+"}"}(r):"Filter"}class tD extends Oe{constructor(t,n,i){super(t,n,i),this.key=vt.fromName(i.referenceValue)}matches(t){const n=vt.comparator(t.key,this.key);return this.matchesComparison(n)}}class eD extends Oe{constructor(t,n){super(t,"in",n),this.keys=sT("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class nD extends Oe{constructor(t,n){super(t,"not-in",n),this.keys=sT("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function sT(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>vt.fromName(i.referenceValue))}class rD extends Oe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return og(n)&&Qo(n.arrayValue,this.value)}}class aD extends Oe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Qo(this.value.arrayValue,n)}}class iD extends Oe{constructor(t,n){super(t,"not-in",n)}matches(t){if(Qo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Qo(this.value.arrayValue,n)}}class sD extends Oe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!og(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Qo(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(t,n=null,i=[],l=[],u=null,h=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=l,this.limit=u,this.startAt=h,this.endAt=m,this.le=null}}function t0(r,t=null,n=[],i=[],l=null,u=null,h=null){return new lD(r,t,n,i,l,u,h)}function ug(r){const t=Dt(r);if(t.le===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>_m(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(u){return u.field.canonicalString()+u.dir}(i)).join(","),pf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>hl(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>hl(i)).join(",")),t.le=n}return t.le}function cg(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!ZR(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!aT(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!J_(r.startAt,t.startAt)&&J_(r.endAt,t.endAt)}function Em(r){return vt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(t,n=null,i=[],l=[],u=null,h="F",m=null,g=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=l,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=g,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function oD(r,t,n,i,l,u,h,m){return new eu(r,t,n,i,l,u,h,m)}function _f(r){return new eu(r)}function e0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function lT(r){return r.collectionGroup!==null}function Uo(r){const t=Dt(r);if(t.he===null){t.he=[];const n=new Set;for(const u of t.explicitOrderBy)t.he.push(u),n.add(u.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new ke(nn.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.he.push(new nf(u,i))}),n.has(nn.keyField().canonicalString())||t.he.push(new nf(nn.keyField(),i))}return t.he}function Mr(r){const t=Dt(r);return t.Pe||(t.Pe=uD(t,Uo(r))),t.Pe}function uD(r,t){if(r.limitType==="F")return t0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(l=>{const u=l.dir==="desc"?"asc":"desc";return new nf(l.field,u)});const n=r.endAt?new ef(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new ef(r.startAt.position,r.startAt.inclusive):null;return t0(r.path,r.collectionGroup,t,r.filters,r.limit,n,i)}}function Tm(r,t){const n=r.filters.concat([t]);return new eu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function bm(r,t,n){return new eu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Ef(r,t){return cg(Mr(r),Mr(t))&&r.limitType===t.limitType}function oT(r){return`${ug(Mr(r))}|lt:${r.limitType}`}function tl(r){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(l=>iT(l)).join(", ")}]`),pf(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(l=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(l)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(l=>hl(l)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(l=>hl(l)).join(",")),`Target(${i})`}(Mr(r))}; limitType=${r.limitType})`}function Tf(r,t){return t.isFoundDocument()&&function(i,l){const u=l.key.path;return i.collectionGroup!==null?l.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(u):vt.isDocumentKey(i.path)?i.path.isEqual(u):i.path.isImmediateParentOf(u)}(r,t)&&function(i,l){for(const u of Uo(i))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0}(r,t)&&function(i,l){for(const u of i.filters)if(!u.matches(l))return!1;return!0}(r,t)&&function(i,l){return!(i.startAt&&!function(h,m,g){const y=Z_(h,m,g);return h.inclusive?y<=0:y<0}(i.startAt,Uo(i),l)||i.endAt&&!function(h,m,g){const y=Z_(h,m,g);return h.inclusive?y>=0:y>0}(i.endAt,Uo(i),l))}(r,t)}function cD(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function uT(r){return(t,n)=>{let i=!1;for(const l of Uo(r)){const u=fD(l,t,n);if(u!==0)return u;i=i||l.field.isKeyField()}return 0}}function fD(r,t,n){const i=r.field.isKeyField()?vt.comparator(t.key,n.key):function(u,h,m){const g=h.data.field(u),y=m.data.field(u);return g!==null&&y!==null?fl(g,y):wt()}(r.field,t,n);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return wt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[l,u]of i)if(this.equalsFn(l,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),l=this.inner[i];if(l===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],t))return void(l[u]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],t))return i.length===1?delete this.inner[n]:i.splice(l,1),this.innerSize--,!0;return!1}forEach(t){ui(this.inner,(n,i)=>{for(const[l,u]of i)t(l,u)})}isEmpty(){return GE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD=new pe(vt.comparator);function va(){return hD}const cT=new pe(vt.comparator);function No(...r){let t=cT;for(const n of r)t=t.insert(n.key,n);return t}function fT(r){let t=cT;return r.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function Ki(){return jo()}function hT(){return jo()}function jo(){return new es(r=>r.toString(),(r,t)=>r.isEqual(t))}const dD=new pe(vt.comparator),mD=new ke(vt.comparator);function Ut(...r){let t=mD;for(const n of r)t=t.add(n);return t}const gD=new ke(Mt);function yD(){return gD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zc(t)?"-0":t}}function dT(r){return{integerValue:""+r}}function pD(r,t){return FR(t)?dT(t):fg(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(){this._=void 0}}function vD(r,t,n){return r instanceof rf?function(l,u){const h={fields:{[XE]:{stringValue:KE},[WE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&lg(u)&&(u=vf(u)),u&&(h.fields[$E]=u),{mapValue:h}}(n,t):r instanceof Ko?gT(r,t):r instanceof Xo?yT(r,t):function(l,u){const h=mT(l,u),m=n0(h)+n0(l.Ie);return vm(h)&&vm(l.Ie)?dT(m):fg(l.serializer,m)}(r,t)}function _D(r,t,n){return r instanceof Ko?gT(r,t):r instanceof Xo?yT(r,t):n}function mT(r,t){return r instanceof af?function(i){return vm(i)||function(u){return!!u&&"doubleValue"in u}(i)}(t)?t:{integerValue:0}:null}class rf extends bf{}class Ko extends bf{constructor(t){super(),this.elements=t}}function gT(r,t){const n=pT(t);for(const i of r.elements)n.some(l=>kr(l,i))||n.push(i);return{arrayValue:{values:n}}}class Xo extends bf{constructor(t){super(),this.elements=t}}function yT(r,t){let n=pT(t);for(const i of r.elements)n=n.filter(l=>!kr(l,i));return{arrayValue:{values:n}}}class af extends bf{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function n0(r){return we(r.integerValue||r.doubleValue)}function pT(r){return og(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function ED(r,t){return r.field.isEqual(t.field)&&function(i,l){return i instanceof Ko&&l instanceof Ko||i instanceof Xo&&l instanceof Xo?cl(i.elements,l.elements,kr):i instanceof af&&l instanceof af?kr(i.Ie,l.Ie):i instanceof rf&&l instanceof rf}(r.transform,t.transform)}class TD{constructor(t,n){this.version=t,this.transformResults=n}}class Vr{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Vr}static exists(t){return new Vr(void 0,t)}static updateTime(t){return new Vr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Hc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class wf{}function vT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new ET(r.key,Vr.none()):new nu(r.key,r.data,Vr.none());{const n=r.data,i=bn.empty();let l=new ke(nn.comparator);for(let u of t.fields)if(!l.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?i.delete(u):i.set(u,h),l=l.add(u)}return new ci(r.key,i,new Mn(l.toArray()),Vr.none())}}function bD(r,t,n){r instanceof nu?function(l,u,h){const m=l.value.clone(),g=a0(l.fieldTransforms,u,h.transformResults);m.setAll(g),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(r,t,n):r instanceof ci?function(l,u,h){if(!Hc(l.precondition,u))return void u.convertToUnknownDocument(h.version);const m=a0(l.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(_T(l)),g.setAll(m),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(r,t,n):function(l,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,t,n)}function zo(r,t,n,i){return r instanceof nu?function(u,h,m,g){if(!Hc(u.precondition,h))return m;const y=u.value.clone(),_=i0(u.fieldTransforms,g,h);return y.setAll(_),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null}(r,t,n,i):r instanceof ci?function(u,h,m,g){if(!Hc(u.precondition,h))return m;const y=i0(u.fieldTransforms,g,h),_=h.data;return _.setAll(_T(u)),_.setAll(y),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(r,t,n,i):function(u,h,m){return Hc(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(r,t,n)}function wD(r,t){let n=null;for(const i of r.fieldTransforms){const l=t.data.field(i.field),u=mT(i.transform,l||null);u!=null&&(n===null&&(n=bn.empty()),n.set(i.field,u))}return n||null}function r0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(i,l){return i===void 0&&l===void 0||!(!i||!l)&&cl(i,l,(u,h)=>ED(u,h))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class nu extends wf{constructor(t,n,i,l=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ci extends wf{constructor(t,n,i,l,u=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function _T(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=r.data.field(n);t.set(n,i)}}),t}function a0(r,t,n){const i=new Map;$t(r.length===n.length);for(let l=0;l<n.length;l++){const u=r[l],h=u.transform,m=t.data.field(u.field);i.set(u.field,_D(h,m,n[l]))}return i}function i0(r,t,n){const i=new Map;for(const l of r){const u=l.transform,h=n.data.field(l.field);i.set(l.field,vD(u,h,t))}return i}class ET extends wf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SD extends wf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(t,n,i,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=l}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(t.key)&&bD(u,t,i[l])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=zo(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=zo(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=hT();return this.mutations.forEach(l=>{const u=t.get(l.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(l.key)?null:m;const g=vT(h,m);g!==null&&i.set(l.key,g),h.isValidDocument()||h.convertToNoDocument(Rt.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Ut())}isEqual(t){return this.batchId===t.batchId&&cl(this.mutations,t.mutations,(n,i)=>r0(n,i))&&cl(this.baseMutations,t.baseMutations,(n,i)=>r0(n,i))}}class hg{constructor(t,n,i,l){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=l}static from(t,n,i){$t(t.mutations.length===i.length);let l=function(){return dD}();const u=t.mutations;for(let h=0;h<u.length;h++)l=l.insert(u[h].key,i[h].version);return new hg(t,n,i,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce,qt;function xD(r){switch(r){case nt.OK:return wt();case nt.CANCELLED:case nt.UNKNOWN:case nt.DEADLINE_EXCEEDED:case nt.RESOURCE_EXHAUSTED:case nt.INTERNAL:case nt.UNAVAILABLE:case nt.UNAUTHENTICATED:return!1;case nt.INVALID_ARGUMENT:case nt.NOT_FOUND:case nt.ALREADY_EXISTS:case nt.PERMISSION_DENIED:case nt.FAILED_PRECONDITION:case nt.ABORTED:case nt.OUT_OF_RANGE:case nt.UNIMPLEMENTED:case nt.DATA_LOSS:return!0;default:return wt()}}function TT(r){if(r===void 0)return pa("GRPC error has no .code"),nt.UNKNOWN;switch(r){case Ce.OK:return nt.OK;case Ce.CANCELLED:return nt.CANCELLED;case Ce.UNKNOWN:return nt.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return nt.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return nt.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return nt.INTERNAL;case Ce.UNAVAILABLE:return nt.UNAVAILABLE;case Ce.UNAUTHENTICATED:return nt.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return nt.INVALID_ARGUMENT;case Ce.NOT_FOUND:return nt.NOT_FOUND;case Ce.ALREADY_EXISTS:return nt.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return nt.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return nt.FAILED_PRECONDITION;case Ce.ABORTED:return nt.ABORTED;case Ce.OUT_OF_RANGE:return nt.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return nt.UNIMPLEMENTED;case Ce.DATA_LOSS:return nt.DATA_LOSS;default:return wt()}}(qt=Ce||(Ce={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD=new ti([4294967295,4294967295],0);function s0(r){const t=HE().encode(r),n=new LE;return n.update(t),new Uint8Array(n.digest())}function l0(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),l=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new ti([n,i],0),new ti([l,u],0)]}class dg{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Mo(`Invalid padding: ${n}`);if(i<0)throw new Mo(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Mo(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new Mo(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*t.length-n,this.de=ti.fromNumber(this.Ee)}Ae(t,n,i){let l=t.add(n.multiply(ti.fromNumber(i)));return l.compare(CD)===1&&(l=new ti([l.getBits(0),l.getBits(1)],0)),l.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const n=s0(t),[i,l]=l0(n);for(let u=0;u<this.hashCount;u++){const h=this.Ae(i,l,u);if(!this.Re(h))return!1}return!0}static create(t,n,i){const l=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),h=new dg(u,l,n);return i.forEach(m=>h.insert(m)),h}insert(t){if(this.Ee===0)return;const n=s0(t),[i,l]=l0(n);for(let u=0;u<this.hashCount;u++){const h=this.Ae(i,l,u);this.Ve(h)}}Ve(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class Mo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(t,n,i,l,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const l=new Map;return l.set(t,ru.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new Sf(Rt.min(),l,new pe(Mt),va(),Ut())}}class ru{constructor(t,n,i,l,u){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new ru(i,n,Ut(),Ut(),Ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(t,n,i,l){this.me=t,this.removedTargetIds=n,this.key=i,this.fe=l}}class bT{constructor(t,n){this.targetId=t,this.ge=n}}class wT{constructor(t,n,i=an.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=l}}class o0{constructor(){this.pe=0,this.ye=u0(),this.we=an.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=Ut(),n=Ut(),i=Ut();return this.ye.forEach((l,u)=>{switch(u){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:i=i.add(l);break;default:wt()}}),new ru(this.we,this.Se,t,n,i)}Me(){this.be=!1,this.ye=u0()}xe(t,n){this.be=!0,this.ye=this.ye.insert(t,n)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,$t(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class OD{constructor(t){this.ke=t,this.qe=new Map,this.Qe=va(),this.$e=Mc(),this.Ue=Mc(),this.Ke=new pe(Mt)}We(t){for(const n of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(n,t.fe):this.ze(n,t.key,t.fe);for(const n of t.removedTargetIds)this.ze(n,t.key,t.fe)}je(t){this.forEachTarget(t,n=>{const i=this.He(n);switch(t.state){case 0:this.Je(n)&&i.Ce(t.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(t.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(n);break;case 3:this.Je(n)&&(i.Le(),i.Ce(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),i.Ce(t.resumeToken));break;default:wt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.qe.forEach((i,l)=>{this.Je(l)&&n(l)})}Ze(t){const n=t.targetId,i=t.ge.count,l=this.Xe(n);if(l){const u=l.target;if(Em(u))if(i===0){const h=new vt(u.path);this.ze(n,h,cn.newNoDocument(h,Rt.min()))}else $t(i===1);else{const h=this.et(n);if(h!==i){const m=this.tt(t),g=m?this.nt(m,t,h):1;if(g!==0){this.Ye(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,y)}}}}}tt(t){const n=t.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:l=0},hashCount:u=0}=n;let h,m;try{h=ai(i).toUint8Array()}catch(g){if(g instanceof QE)return ul("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new dg(h,l,u)}catch(g){return ul(g instanceof Mo?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.Ee===0?null:m}nt(t,n,i){return n.ge.count===i-this.st(t,n.targetId)?0:2}st(t,n){const i=this.ke.getRemoteKeysForTarget(n);let l=0;return i.forEach(u=>{const h=this.ke.it(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.ze(n,u,null),l++)}),l}ot(t){const n=new Map;this.qe.forEach((u,h)=>{const m=this.Xe(h);if(m){if(u.current&&Em(m.target)){const g=new vt(m.target.path);this._t(g).has(h)||this.ut(h,g)||this.ze(h,g,cn.newNoDocument(g,t))}u.ve&&(n.set(h,u.Fe()),u.Me())}});let i=Ut();this.Ue.forEach((u,h)=>{let m=!0;h.forEachWhile(g=>{const y=this.Xe(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(i=i.add(u))}),this.Qe.forEach((u,h)=>h.setReadTime(t));const l=new Sf(t,n,this.Ke,this.Qe,i);return this.Qe=va(),this.$e=Mc(),this.Ue=Mc(),this.Ke=new pe(Mt),l}Ge(t,n){if(!this.Je(t))return;const i=this.ut(t,n.key)?2:0;this.He(t).xe(n.key,i),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(t))}ze(t,n,i){if(!this.Je(t))return;const l=this.He(t);this.ut(t,n)?l.xe(n,1):l.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(t)),this.Ue=this.Ue.insert(n,this.ct(n).add(t)),i&&(this.Qe=this.Qe.insert(n,i))}removeTarget(t){this.qe.delete(t)}et(t){const n=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let n=this.qe.get(t);return n||(n=new o0,this.qe.set(t,n)),n}ct(t){let n=this.Ue.get(t);return n||(n=new ke(Mt),this.Ue=this.Ue.insert(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new ke(Mt),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||ct("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.qe.get(t);return n&&n.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new o0),this.ke.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ut(t,n){return this.ke.getRemoteKeysForTarget(t).has(n)}}function Mc(){return new pe(vt.comparator)}function u0(){return new pe(vt.comparator)}const ID={asc:"ASCENDING",desc:"DESCENDING"},ND={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MD={and:"AND",or:"OR"};class VD{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function wm(r,t){return r.useProto3Json||pf(t)?t:{value:t}}function sf(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ST(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function PD(r,t){return sf(r,t.toTimestamp())}function Pr(r){return $t(!!r),Rt.fromTimestamp(function(n){const i=ri(n);return new Le(i.seconds,i.nanos)}(r))}function mg(r,t){return Sm(r,t).canonicalString()}function Sm(r,t){const n=function(l){return new ue(["projects",l.projectId,"databases",l.database])}(r).child("documents");return t===void 0?n:n.child(t)}function AT(r){const t=ue.fromString(r);return $t(OT(t)),t}function Am(r,t){return mg(r.databaseId,t.path)}function $d(r,t){const n=AT(t);if(n.get(1)!==r.databaseId.projectId)throw new ft(nt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ft(nt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new vt(DT(n))}function RT(r,t){return mg(r.databaseId,t)}function LD(r){const t=AT(r);return t.length===4?ue.emptyPath():DT(t)}function Rm(r){return new ue(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function DT(r){return $t(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function c0(r,t,n){return{name:Am(r,t),fields:n.value.mapValue.fields}}function kD(r,t){let n;if("targetChange"in t){t.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:wt()}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],u=function(y,_){return y.useProto3Json?($t(_===void 0||typeof _=="string"),an.fromBase64String(_||"")):($t(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),an.fromUint8Array(_||new Uint8Array))}(r,t.targetChange.resumeToken),h=t.targetChange.cause,m=h&&function(y){const _=y.code===void 0?nt.UNKNOWN:TT(y.code);return new ft(_,y.message||"")}(h);n=new wT(i,l,u,m||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const l=$d(r,i.document.name),u=Pr(i.document.updateTime),h=i.document.createTime?Pr(i.document.createTime):Rt.min(),m=new bn({mapValue:{fields:i.document.fields}}),g=cn.newFoundDocument(l,u,h,m),y=i.targetIds||[],_=i.removedTargetIds||[];n=new Fc(y,_,g.key,g)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const l=$d(r,i.document),u=i.readTime?Pr(i.readTime):Rt.min(),h=cn.newNoDocument(l,u),m=i.removedTargetIds||[];n=new Fc([],m,h.key,h)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const l=$d(r,i.document),u=i.removedTargetIds||[];n=new Fc([],u,l,null)}else{if(!("filter"in t))return wt();{t.filter;const i=t.filter;i.targetId;const{count:l=0,unchangedNames:u}=i,h=new DD(l,u),m=i.targetId;n=new bT(m,h)}}return n}function UD(r,t){let n;if(t instanceof nu)n={update:c0(r,t.key,t.value)};else if(t instanceof ET)n={delete:Am(r,t.key)};else if(t instanceof ci)n={update:c0(r,t.key,t.data),updateMask:QD(t.fieldMask)};else{if(!(t instanceof SD))return wt();n={verify:Am(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(u,h){const m=h.transform;if(m instanceof rf)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Ko)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Xo)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof af)return{fieldPath:h.field.canonicalString(),increment:m.Ie};throw wt()}(0,i))),t.precondition.isNone||(n.currentDocument=function(l,u){return u.updateTime!==void 0?{updateTime:PD(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:wt()}(r,t.precondition)),n}function jD(r,t){return r&&r.length>0?($t(t!==void 0),r.map(n=>function(l,u){let h=l.updateTime?Pr(l.updateTime):Pr(u);return h.isEqual(Rt.min())&&(h=Pr(u)),new TD(h,l.transformResults||[])}(n,t))):[]}function zD(r,t){return{documents:[RT(r,t.path)]}}function BD(r,t){const n={structuredQuery:{}},i=t.path;let l;t.collectionGroup!==null?(l=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=RT(r,l);const u=function(y){if(y.length!==0)return CT(cr.create(y,"and"))}(t.filters);u&&(n.structuredQuery.where=u);const h=function(y){if(y.length!==0)return y.map(_=>function(w){return{field:el(w.field),direction:FD(w.dir)}}(_))}(t.orderBy);h&&(n.structuredQuery.orderBy=h);const m=wm(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(t.endAt)),{ht:n,parent:l}}function qD(r){let t=LD(r.parent);const n=r.structuredQuery,i=n.from?n.from.length:0;let l=null;if(i>0){$t(i===1);const _=n.from[0];_.allDescendants?l=_.collectionId:t=t.child(_.collectionId)}let u=[];n.where&&(u=function(b){const w=xT(b);return w instanceof cr&&rT(w)?w.getFilters():[w]}(n.where));let h=[];n.orderBy&&(h=function(b){return b.map(w=>function(D){return new nf(nl(D.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(w))}(n.orderBy));let m=null;n.limit&&(m=function(b){let w;return w=typeof b=="object"?b.value:b,pf(w)?null:w}(n.limit));let g=null;n.startAt&&(g=function(b){const w=!!b.before,x=b.values||[];return new ef(x,w)}(n.startAt));let y=null;return n.endAt&&(y=function(b){const w=!b.before,x=b.values||[];return new ef(x,w)}(n.endAt)),oD(t,l,h,u,m,"F",g,y)}function HD(r,t){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function xT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=nl(n.unaryFilter.field);return Oe.create(i,"==",{doubleValue:NaN});case"IS_NULL":const l=nl(n.unaryFilter.field);return Oe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=nl(n.unaryFilter.field);return Oe.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=nl(n.unaryFilter.field);return Oe.create(h,"!=",{nullValue:"NULL_VALUE"});default:return wt()}}(r):r.fieldFilter!==void 0?function(n){return Oe.create(nl(n.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return wt()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return cr.create(n.compositeFilter.filters.map(i=>xT(i)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return wt()}}(n.compositeFilter.op))}(r):wt()}function FD(r){return ID[r]}function YD(r){return ND[r]}function GD(r){return MD[r]}function el(r){return{fieldPath:r.canonicalString()}}function nl(r){return nn.fromServerFormat(r.fieldPath)}function CT(r){return r instanceof Oe?function(n){if(n.op==="=="){if(W_(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NAN"}};if($_(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(W_(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NOT_NAN"}};if($_(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:el(n.field),op:YD(n.op),value:n.value}}}(r):r instanceof cr?function(n){const i=n.getFilters().map(l=>CT(l));return i.length===1?i[0]:{compositeFilter:{op:GD(n.op),filters:i}}}(r):wt()}function QD(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function OT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(t,n,i,l,u=Rt.min(),h=Rt.min(),m=an.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(t){return new Wa(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Wa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Wa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Wa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(t){this.Tt=t}}function XD(r){const t=qD({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?bm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(){this.Tn=new WD}addToCollectionParentIndex(t,n){return this.Tn.add(n),et.resolve()}getCollectionParents(t,n){return et.resolve(this.Tn.getEntries(n))}addFieldIndex(t,n){return et.resolve()}deleteFieldIndex(t,n){return et.resolve()}deleteAllFieldIndexes(t){return et.resolve()}createTargetIndexes(t,n){return et.resolve()}getDocumentsMatchingTarget(t,n){return et.resolve(null)}getIndexType(t,n){return et.resolve(0)}getFieldIndexes(t,n){return et.resolve([])}getNextCollectionGroupToUpdate(t){return et.resolve(null)}getMinOffset(t,n){return et.resolve(ni.min())}getMinOffsetFromCollectionGroup(t,n){return et.resolve(ni.min())}updateCollectionGroup(t,n,i){return et.resolve()}updateIndexEntries(t,n){return et.resolve()}}class WD{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),l=this.index[n]||new ke(ue.comparator),u=!l.has(i);return this.index[n]=l.add(i),u}has(t){const n=t.lastSegment(),i=t.popLast(),l=this.index[n];return l&&l.has(i)}getEntries(t){return(this.index[t]||new ke(ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},IT=41943040;class Tn{static withCacheSize(t){return new Tn(t,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(IT,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new dl(0)}static Kn(){return new dl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0="LruGarbageCollector",ZD=1048576;function d0([r,t],[n,i]){const l=Mt(r,n);return l===0?Mt(t,i):l}class JD{constructor(t){this.Hn=t,this.buffer=new ke(d0),this.Jn=0}Yn(){return++this.Jn}Zn(t){const n=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();d0(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class t2{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){ct(h0,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Tl(n)?ct(h0,"Ignoring IndexedDB error during garbage collection: ",n):await El(n)}await this.er(3e5)})}}class e2{constructor(t,n){this.tr=t,this.params=n}calculateTargetCount(t,n){return this.tr.nr(t).next(i=>Math.floor(n/100*i))}nthSequenceNumber(t,n){if(n===0)return et.resolve(yf.ae);const i=new JD(n);return this.tr.forEachTarget(t,l=>i.Zn(l.sequenceNumber)).next(()=>this.tr.rr(t,l=>i.Zn(l))).next(()=>i.maxValue)}removeTargets(t,n,i){return this.tr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.tr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(f0)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),f0):this.ir(t,n))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,n){let i,l,u,h,m,g,y;const _=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,h=Date.now(),this.nthSequenceNumber(t,l))).next(b=>(i=b,m=Date.now(),this.removeTargets(t,i,n))).next(b=>(u=b,g=Date.now(),this.removeOrphanedDocuments(t,i))).next(b=>(y=Date.now(),Js()<=Ht.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${l} in `+(m-h)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${b} documents in `+(y-g)+`ms
Total Duration: ${y-_}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:b})))}}function n2(r,t){return new e2(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(){this.changes=new es(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,cn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?et.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(t,n,i,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=l}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(l=>(i=l,this.remoteDocumentCache.getEntry(t,n))).next(l=>(i!==null&&zo(i.mutation,l,Mn.empty(),Le.now()),l))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,Ut()).next(()=>i))}getLocalViewOfDocuments(t,n,i=Ut()){const l=Ki();return this.populateOverlays(t,l,n).next(()=>this.computeViews(t,n,l,i).next(u=>{let h=No();return u.forEach((m,g)=>{h=h.insert(m,g.overlayedDocument)}),h}))}getOverlayedDocuments(t,n){const i=Ki();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,Ut()))}populateOverlays(t,n,i){const l=[];return i.forEach(u=>{n.has(u)||l.push(u)}),this.documentOverlayCache.getOverlays(t,l).next(u=>{u.forEach((h,m)=>{n.set(h,m)})})}computeViews(t,n,i,l){let u=va();const h=jo(),m=function(){return jo()}();return n.forEach((g,y)=>{const _=i.get(y.key);l.has(y.key)&&(_===void 0||_.mutation instanceof ci)?u=u.insert(y.key,y):_!==void 0?(h.set(y.key,_.mutation.getFieldMask()),zo(_.mutation,y,_.mutation.getFieldMask(),Le.now())):h.set(y.key,Mn.empty())}),this.recalculateAndSaveOverlays(t,u).next(g=>(g.forEach((y,_)=>h.set(y,_)),n.forEach((y,_)=>{var b;return m.set(y,new a2(_,(b=h.get(y))!==null&&b!==void 0?b:null))}),m))}recalculateAndSaveOverlays(t,n){const i=jo();let l=new pe((h,m)=>h-m),u=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(h=>{for(const m of h)m.keys().forEach(g=>{const y=n.get(g);if(y===null)return;let _=i.get(g)||Mn.empty();_=m.applyToLocalView(y,_),i.set(g,_);const b=(l.get(m.batchId)||Ut()).add(g);l=l.insert(m.batchId,b)})}).next(()=>{const h=[],m=l.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,_=g.value,b=hT();_.forEach(w=>{if(!u.has(w)){const x=vT(n.get(w),i.get(w));x!==null&&b.set(w,x),u=u.add(w)}}),h.push(this.documentOverlayCache.saveOverlays(t,y,b))}return et.waitFor(h)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,l){return function(h){return vt.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):lT(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,l):this.getDocumentsMatchingCollectionQuery(t,n,i,l)}getNextDocuments(t,n,i,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,l).next(u=>{const h=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,l-u.size):et.resolve(Ki());let m=Fo,g=u;return h.next(y=>et.forEach(y,(_,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(_)?et.resolve():this.remoteDocumentCache.getEntry(t,_).next(w=>{g=g.insert(_,w)}))).next(()=>this.populateOverlays(t,y,u)).next(()=>this.computeViews(t,g,y,Ut())).next(_=>({batchId:m,changes:fT(_)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new vt(n)).next(i=>{let l=No();return i.isFoundDocument()&&(l=l.insert(i.key,i)),l})}getDocumentsMatchingCollectionGroupQuery(t,n,i,l){const u=n.collectionGroup;let h=No();return this.indexManager.getCollectionParents(t,u).next(m=>et.forEach(m,g=>{const y=function(b,w){return new eu(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,i,l).next(_=>{_.forEach((b,w)=>{h=h.insert(b,w)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(t,n,i,l){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,u,l))).next(h=>{u.forEach((g,y)=>{const _=y.getKey();h.get(_)===null&&(h=h.insert(_,cn.newInvalidDocument(_)))});let m=No();return h.forEach((g,y)=>{const _=u.get(g);_!==void 0&&zo(_.mutation,y,Mn.empty(),Le.now()),Tf(n,y)&&(m=m.insert(g,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,n){return et.resolve(this.dr.get(n))}saveBundleMetadata(t,n){return this.dr.set(n.id,function(l){return{id:l.id,version:l.version,createTime:Pr(l.createTime)}}(n)),et.resolve()}getNamedQuery(t,n){return et.resolve(this.Ar.get(n))}saveNamedQuery(t,n){return this.Ar.set(n.name,function(l){return{name:l.name,query:XD(l.bundledQuery),readTime:Pr(l.readTime)}}(n)),et.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(){this.overlays=new pe(vt.comparator),this.Rr=new Map}getOverlay(t,n){return et.resolve(this.overlays.get(n))}getOverlays(t,n){const i=Ki();return et.forEach(n,l=>this.getOverlay(t,l).next(u=>{u!==null&&i.set(l,u)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((l,u)=>{this.Et(t,n,u)}),et.resolve()}removeOverlaysForBatchId(t,n,i){const l=this.Rr.get(i);return l!==void 0&&(l.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(i)),et.resolve()}getOverlaysForCollection(t,n,i){const l=Ki(),u=n.length+1,h=new vt(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>i&&l.set(g.getKey(),g)}return et.resolve(l)}getOverlaysForCollectionGroup(t,n,i,l){let u=new pe((y,_)=>y-_);const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>i){let _=u.get(y.largestBatchId);_===null&&(_=Ki(),u=u.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const m=Ki(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,_)=>m.set(y,_)),!(m.size()>=l)););return et.resolve(m)}Et(t,n,i){const l=this.overlays.get(i.key);if(l!==null){const h=this.Rr.get(l.largestBatchId).delete(i.key);this.Rr.set(l.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new RD(n,i));let u=this.Rr.get(n);u===void 0&&(u=Ut(),this.Rr.set(n,u)),this.Rr.set(n,u.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(t){return et.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,et.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(){this.Vr=new ke(Fe.mr),this.gr=new ke(Fe.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,n){const i=new Fe(t,n);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.wr(new Fe(t,n))}Sr(t,n){t.forEach(i=>this.removeReference(i,n))}br(t){const n=new vt(new ue([])),i=new Fe(n,t),l=new Fe(n,t+1),u=[];return this.gr.forEachInRange([i,l],h=>{this.wr(h),u.push(h.key)}),u}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const n=new vt(new ue([])),i=new Fe(n,t),l=new Fe(n,t+1);let u=Ut();return this.gr.forEachInRange([i,l],h=>{u=u.add(h.key)}),u}containsKey(t){const n=new Fe(t,0),i=this.Vr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class Fe{constructor(t,n){this.key=t,this.Cr=n}static mr(t,n){return vt.comparator(t.key,n.key)||Mt(t.Cr,n.Cr)}static pr(t,n){return Mt(t.Cr,n.Cr)||vt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new ke(Fe.mr)}checkEmpty(t){return et.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,l){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new AD(u,n,i,l);this.mutationQueue.push(h);for(const m of l)this.Mr=this.Mr.add(new Fe(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return et.resolve(h)}lookupMutationBatch(t,n){return et.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,l=this.Nr(i),u=l<0?0:l;return et.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(this.mutationQueue.length===0?sg:this.Fr-1)}getAllMutationBatches(t){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new Fe(n,0),l=new Fe(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([i,l],h=>{const m=this.Or(h.Cr);u.push(m)}),et.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new ke(Mt);return n.forEach(l=>{const u=new Fe(l,0),h=new Fe(l,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,h],m=>{i=i.add(m.Cr)})}),et.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,l=i.length+1;let u=i;vt.isDocumentKey(u)||(u=u.child(""));const h=new Fe(new vt(u),0);let m=new ke(Mt);return this.Mr.forEachWhile(g=>{const y=g.key.path;return!!i.isPrefixOf(y)&&(y.length===l&&(m=m.add(g.Cr)),!0)},h),et.resolve(this.Br(m))}Br(t){const n=[];return t.forEach(i=>{const l=this.Or(i);l!==null&&n.push(l)}),n}removeMutationBatch(t,n){$t(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return et.forEach(n.mutations,l=>{const u=new Fe(l.key,n.batchId);return i=i.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Mr=i})}qn(t){}containsKey(t,n){const i=new Fe(n,0),l=this.Mr.firstAfterOrEqual(i);return et.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,et.resolve()}Lr(t,n){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const n=this.Nr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(t){this.kr=t,this.docs=function(){return new pe(vt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,l=this.docs.get(i),u=l?l.size:0,h=this.kr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return et.resolve(i?i.document.mutableCopy():cn.newInvalidDocument(n))}getEntries(t,n){let i=va();return n.forEach(l=>{const u=this.docs.get(l);i=i.insert(l,u?u.document.mutableCopy():cn.newInvalidDocument(l))}),et.resolve(i)}getDocumentsMatchingQuery(t,n,i,l){let u=va();const h=n.path,m=new vt(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:_}}=g.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||zR(jR(_),i)<=0||(l.has(_.key)||Tf(n,_))&&(u=u.insert(_.key,_.mutableCopy()))}return et.resolve(u)}getAllFromCollectionGroup(t,n,i,l){wt()}qr(t,n){return et.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new f2(this)}getSize(t){return et.resolve(this.size)}}class f2 extends r2{constructor(t){super(),this.Ir=t}applyChanges(t){const n=[];return this.changes.forEach((i,l)=>{l.isValidDocument()?n.push(this.Ir.addEntry(t,l)):this.Ir.removeEntry(i)}),et.waitFor(n)}getFromCache(t,n){return this.Ir.getEntry(t,n)}getAllFromCache(t,n){return this.Ir.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(t){this.persistence=t,this.Qr=new es(n=>ug(n),cg),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new gg,this.targetCount=0,this.Kr=dl.Un()}forEachTarget(t,n){return this.Qr.forEach((i,l)=>n(l)),et.resolve()}getLastRemoteSnapshotVersion(t){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return et.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.$r&&(this.$r=n),et.resolve()}zn(t){this.Qr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Kr=new dl(n),this.highestTargetId=n),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,n){return this.zn(n),this.targetCount+=1,et.resolve()}updateTargetData(t,n){return this.zn(n),et.resolve()}removeTargetData(t,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,et.resolve()}removeTargets(t,n,i){let l=0;const u=[];return this.Qr.forEach((h,m)=>{m.sequenceNumber<=n&&i.get(m.targetId)===null&&(this.Qr.delete(h),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),l++)}),et.waitFor(u).next(()=>l)}getTargetCount(t){return et.resolve(this.targetCount)}getTargetData(t,n){const i=this.Qr.get(n)||null;return et.resolve(i)}addMatchingKeys(t,n,i){return this.Ur.yr(n,i),et.resolve()}removeMatchingKeys(t,n,i){this.Ur.Sr(n,i);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach(h=>{u.push(l.markPotentiallyOrphaned(t,h))}),et.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.Ur.br(n),et.resolve()}getMatchingKeysForTargetId(t,n){const i=this.Ur.vr(n);return et.resolve(i)}containsKey(t,n){return et.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(t,n){this.Wr={},this.overlays={},this.Gr=new yf(0),this.zr=!1,this.zr=!0,this.jr=new o2,this.referenceDelegate=t(this),this.Hr=new h2(this),this.indexManager=new $D,this.remoteDocumentCache=function(l){return new c2(l)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new KD(n),this.Yr=new s2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new l2,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.Wr[t.toKey()];return i||(i=new u2(n,this.referenceDelegate),this.Wr[t.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,n,i){ct("MemoryPersistence","Starting transaction:",t);const l=new d2(this.Gr.next());return this.referenceDelegate.Zr(),i(l).next(u=>this.referenceDelegate.Xr(l).next(()=>u)).toPromise().then(u=>(l.raiseOnCommittedEvent(),u))}ei(t,n){return et.or(Object.values(this.Wr).map(i=>()=>i.containsKey(t,n)))}}class d2 extends qR{constructor(t){super(),this.currentSequenceNumber=t}}class yg{constructor(t){this.persistence=t,this.ti=new gg,this.ni=null}static ri(t){return new yg(t)}get ii(){if(this.ni)return this.ni;throw wt()}addReference(t,n,i){return this.ti.addReference(i,n),this.ii.delete(i.toString()),et.resolve()}removeReference(t,n,i){return this.ti.removeReference(i,n),this.ii.add(i.toString()),et.resolve()}markPotentiallyOrphaned(t,n){return this.ii.add(n.toString()),et.resolve()}removeTarget(t,n){this.ti.br(n.targetId).forEach(l=>this.ii.add(l.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(l=>{l.forEach(u=>this.ii.add(u.toString()))}).next(()=>i.removeTargetData(t,n))}Zr(){this.ni=new Set}Xr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.ii,i=>{const l=vt.fromPath(i);return this.si(t,l).next(u=>{u||n.removeEntry(l,Rt.min())})}).next(()=>(this.ni=null,n.apply(t)))}updateLimboDocument(t,n){return this.si(t,n).next(i=>{i?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(t){return 0}si(t,n){return et.or([()=>et.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.ei(t,n)])}}class lf{constructor(t,n){this.persistence=t,this.oi=new es(i=>YR(i.path),(i,l)=>i.isEqual(l)),this.garbageCollector=n2(this,n)}static ri(t,n){return new lf(t,n)}Zr(){}Xr(t){return et.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}nr(t){const n=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>n.next(l=>i+l))}sr(t){let n=0;return this.rr(t,i=>{n++}).next(()=>n)}rr(t,n){return et.forEach(this.oi,(i,l)=>this.ar(t,i,l).next(u=>u?et.resolve():n(l)))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.qr(t,h=>this.ar(t,h,n).next(m=>{m||(i++,u.removeEntry(h,Rt.min()))})).next(()=>u.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,n){return this.oi.set(n,t.currentSequenceNumber),et.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.oi.set(i,t.currentSequenceNumber),et.resolve()}removeReference(t,n,i){return this.oi.set(i,t.currentSequenceNumber),et.resolve()}updateLimboDocument(t,n){return this.oi.set(n,t.currentSequenceNumber),et.resolve()}Jr(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Bc(t.data.value)),n}ar(t,n,i){return et.or([()=>this.persistence.ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.oi.get(n);return et.resolve(l!==void 0&&l>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(t,n,i,l){this.targetId=t,this.fromCache=n,this.Hi=i,this.Ji=l}static Yi(t,n){let i=Ut(),l=Ut();for(const u of n.docChanges)switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new pg(t,n.fromCache,i,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return u1()?8:HR(l1())>0?6:4}()}initialize(t,n){this.ns=t,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(t,n,i,l){const u={result:null};return this.rs(t,n).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ss(t,n,l,i).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new m2;return this._s(t,n,h).next(m=>{if(u.result=m,this.Xi)return this.us(t,n,h,m.size)})}).next(()=>u.result)}us(t,n,i,l){return i.documentReadCount<this.es?(Js()<=Ht.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",tl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),et.resolve()):(Js()<=Ht.DEBUG&&ct("QueryEngine","Query:",tl(n),"scans",i.documentReadCount,"local documents and returns",l,"documents as results."),i.documentReadCount>this.ts*l?(Js()<=Ht.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",tl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Mr(n))):et.resolve())}rs(t,n){if(e0(n))return et.resolve(null);let i=Mr(n);return this.indexManager.getIndexType(t,i).next(l=>l===0?null:(n.limit!==null&&l===1&&(n=bm(n,null,"F"),i=Mr(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(u=>{const h=Ut(...u);return this.ns.getDocuments(t,h).next(m=>this.indexManager.getMinOffset(t,i).next(g=>{const y=this.cs(n,m);return this.ls(n,y,h,g.readTime)?this.rs(t,bm(n,null,"F")):this.hs(t,y,n,g)}))})))}ss(t,n,i,l){return e0(n)||l.isEqual(Rt.min())?et.resolve(null):this.ns.getDocuments(t,i).next(u=>{const h=this.cs(n,u);return this.ls(n,h,i,l)?et.resolve(null):(Js()<=Ht.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),tl(n)),this.hs(t,h,n,UR(l,Fo)).next(m=>m))})}cs(t,n){let i=new ke(uT(t));return n.forEach((l,u)=>{Tf(t,u)&&(i=i.add(u))}),i}ls(t,n,i,l){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}_s(t,n,i){return Js()<=Ht.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",tl(n)),this.ns.getDocumentsMatchingQuery(t,n,ni.min(),i)}hs(t,n,i,l){return this.ns.getDocumentsMatchingQuery(t,i,l).next(u=>(n.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg="LocalStore",y2=3e8;class p2{constructor(t,n,i,l){this.persistence=t,this.Ps=n,this.serializer=l,this.Ts=new pe(Mt),this.Is=new es(u=>ug(u),cg),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(i)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new i2(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ts))}}function v2(r,t,n,i){return new p2(r,t,n,i)}async function MT(r,t){const n=Dt(r);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let l;return n.mutationQueue.getAllMutationBatches(i).next(u=>(l=u,n.As(t),n.mutationQueue.getAllMutationBatches(i))).next(u=>{const h=[],m=[];let g=Ut();for(const y of l){h.push(y.batchId);for(const _ of y.mutations)g=g.add(_.key)}for(const y of u){m.push(y.batchId);for(const _ of y.mutations)g=g.add(_.key)}return n.localDocuments.getDocuments(i,g).next(y=>({Rs:y,removedBatchIds:h,addedBatchIds:m}))})})}function _2(r,t){const n=Dt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const l=t.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,g,y,_){const b=y.batch,w=b.keys();let x=et.resolve();return w.forEach(D=>{x=x.next(()=>_.getEntry(g,D)).next(j=>{const L=y.docVersions.get(D);$t(L!==null),j.version.compareTo(L)<0&&(b.applyToRemoteDocument(j,y),j.isValidDocument()&&(j.setReadTime(y.commitVersion),_.addEntry(j)))})}),x.next(()=>m.mutationQueue.removeMutationBatch(g,b))}(n,i,t,u).next(()=>u.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,l,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(m){let g=Ut();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g}(t))).next(()=>n.localDocuments.getDocuments(i,l))})}function VT(r){const t=Dt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Hr.getLastRemoteSnapshotVersion(n))}function E2(r,t){const n=Dt(r),i=t.snapshotVersion;let l=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=n.ds.newChangeBuffer({trackRemovals:!0});l=n.Ts;const m=[];t.targetChanges.forEach((_,b)=>{const w=l.get(b);if(!w)return;m.push(n.Hr.removeMatchingKeys(u,_.removedDocuments,b).next(()=>n.Hr.addMatchingKeys(u,_.addedDocuments,b)));let x=w.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(b)!==null?x=x.withResumeToken(an.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):_.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(_.resumeToken,i)),l=l.insert(b,x),function(j,L,G){return j.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=y2?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0}(w,x,_)&&m.push(n.Hr.updateTargetData(u,x))});let g=va(),y=Ut();if(t.documentUpdates.forEach(_=>{t.resolvedLimboDocuments.has(_)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,_))}),m.push(T2(u,h,t.documentUpdates).next(_=>{g=_.Vs,y=_.fs})),!i.isEqual(Rt.min())){const _=n.Hr.getLastRemoteSnapshotVersion(u).next(b=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,i));m.push(_)}return et.waitFor(m).next(()=>h.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,g,y)).next(()=>g)}).then(u=>(n.Ts=l,u))}function T2(r,t,n){let i=Ut(),l=Ut();return n.forEach(u=>i=i.add(u)),t.getEntries(r,i).next(u=>{let h=va();return n.forEach((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(m)),g.isNoDocument()&&g.version.isEqual(Rt.min())?(t.removeEntry(m,g.readTime),h=h.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(g),h=h.insert(m,g)):ct(vg,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)}),{Vs:h,fs:l}})}function b2(r,t){const n=Dt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=sg),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function w2(r,t){const n=Dt(r);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let l;return n.Hr.getTargetData(i,t).next(u=>u?(l=u,et.resolve(l)):n.Hr.allocateTargetId(i).next(h=>(l=new Wa(t,h,"TargetPurposeListen",i.currentSequenceNumber),n.Hr.addTargetData(i,l).next(()=>l))))}).then(i=>{const l=n.Ts.get(i.targetId);return(l===null||i.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(i.targetId,i),n.Is.set(t,i.targetId)),i})}async function Dm(r,t,n){const i=Dt(r),l=i.Ts.get(t),u=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",u,h=>i.persistence.referenceDelegate.removeTarget(h,l))}catch(h){if(!Tl(h))throw h;ct(vg,`Failed to update sequence numbers for target ${t}: ${h}`)}i.Ts=i.Ts.remove(t),i.Is.delete(l.target)}function m0(r,t,n){const i=Dt(r);let l=Rt.min(),u=Ut();return i.persistence.runTransaction("Execute query","readwrite",h=>function(g,y,_){const b=Dt(g),w=b.Is.get(_);return w!==void 0?et.resolve(b.Ts.get(w)):b.Hr.getTargetData(y,_)}(i,h,Mr(t)).next(m=>{if(m)return l=m.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(h,m.targetId).next(g=>{u=g})}).next(()=>i.Ps.getDocumentsMatchingQuery(h,t,n?l:Rt.min(),n?u:Ut())).next(m=>(S2(i,cD(t),m),{documents:m,gs:u})))}function S2(r,t,n){let i=r.Es.get(t)||Rt.min();n.forEach((l,u)=>{u.readTime.compareTo(i)>0&&(i=u.readTime)}),r.Es.set(t,i)}class g0{constructor(){this.activeTargetIds=yD()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class A2{constructor(){this.ho=new g0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,n,i){this.Po[t]=n}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new g0,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="ConnectivityMonitor";class p0{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ct(y0,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){ct(y0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vc=null;function xm(){return Vc===null?Vc=function(){return 268435456+Math.round(2147483648*Math.random())}():Vc++,"0x"+Vc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd="RestConnection",D2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class x2{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo=`projects/${i}/databases/${l}`,this.wo=this.databaseId.database===Jc?`project_id=${i}`:`project_id=${i}&database_id=${l}`}So(t,n,i,l,u){const h=xm(),m=this.bo(t,n.toUriEncodedString());ct(Wd,`Sending RPC '${t}' ${h}:`,m,i);const g={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(g,l,u),this.vo(t,m,g,i).then(y=>(ct(Wd,`Received RPC '${t}' ${h}: `,y),y),y=>{throw ul(Wd,`RPC '${t}' ${h} failed with error: `,y,"url: ",m,"request:",i),y})}Co(t,n,i,l,u,h){return this.So(t,n,i,l,u)}Do(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_l}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,u)=>t[u]=l),i&&i.headers.forEach((l,u)=>t[u]=l)}bo(t,n){const i=D2[t];return`${this.po}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class O2 extends x2{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,n,i,l){const u=xm();return new Promise((h,m)=>{const g=new kE;g.setWithCredentials(!0),g.listenOnce(UE.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case zc.NO_ERROR:const _=g.getResponseJson();ct(on,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(_)),h(_);break;case zc.TIMEOUT:ct(on,`RPC '${t}' ${u} timed out`),m(new ft(nt.DEADLINE_EXCEEDED,"Request time out"));break;case zc.HTTP_ERROR:const b=g.getStatus();if(ct(on,`RPC '${t}' ${u} failed with status:`,b,"response text:",g.getResponseText()),b>0){let w=g.getResponseJson();Array.isArray(w)&&(w=w[0]);const x=w==null?void 0:w.error;if(x&&x.status&&x.message){const D=function(L){const G=L.toLowerCase().replace(/_/g,"-");return Object.values(nt).indexOf(G)>=0?G:nt.UNKNOWN}(x.status);m(new ft(D,x.message))}else m(new ft(nt.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new ft(nt.UNAVAILABLE,"Connection failed."));break;default:wt()}}finally{ct(on,`RPC '${t}' ${u} completed.`)}});const y=JSON.stringify(l);ct(on,`RPC '${t}' ${u} sending request:`,l),g.send(n,"POST",y,i,15)})}Wo(t,n,i){const l=xm(),u=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=BE(),m=zE(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Do(g.initMessageHeaders,n,i),g.encodeInitMessageHeaders=!0;const _=u.join("");ct(on,`Creating RPC '${t}' stream ${l}: ${_}`,g);const b=h.createWebChannel(_,g);let w=!1,x=!1;const D=new C2({Fo:L=>{x?ct(on,`Not sending because RPC '${t}' stream ${l} is closed:`,L):(w||(ct(on,`Opening RPC '${t}' stream ${l} transport.`),b.open(),w=!0),ct(on,`RPC '${t}' stream ${l} sending:`,L),b.send(L))},Mo:()=>b.close()}),j=(L,G,rt)=>{L.listen(G,W=>{try{rt(W)}catch(ot){setTimeout(()=>{throw ot},0)}})};return j(b,Io.EventType.OPEN,()=>{x||(ct(on,`RPC '${t}' stream ${l} transport opened.`),D.Qo())}),j(b,Io.EventType.CLOSE,()=>{x||(x=!0,ct(on,`RPC '${t}' stream ${l} transport closed`),D.Uo())}),j(b,Io.EventType.ERROR,L=>{x||(x=!0,ul(on,`RPC '${t}' stream ${l} transport errored:`,L),D.Uo(new ft(nt.UNAVAILABLE,"The operation could not be completed")))}),j(b,Io.EventType.MESSAGE,L=>{var G;if(!x){const rt=L.data[0];$t(!!rt);const W=rt,ot=(W==null?void 0:W.error)||((G=W[0])===null||G===void 0?void 0:G.error);if(ot){ct(on,`RPC '${t}' stream ${l} received error:`,ot);const ut=ot.status;let pt=function(R){const I=Ce[R];if(I!==void 0)return TT(I)}(ut),M=ot.message;pt===void 0&&(pt=nt.INTERNAL,M="Unknown error status: "+ut+" with message "+ot.message),x=!0,D.Uo(new ft(pt,M)),b.close()}else ct(on,`RPC '${t}' stream ${l} received:`,rt),D.Ko(rt)}}),j(m,jE.STAT_EVENT,L=>{L.stat===gm.PROXY?ct(on,`RPC '${t}' stream ${l} detected buffering proxy`):L.stat===gm.NOPROXY&&ct(on,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{D.$o()},0),D}}function Zd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Af(r){return new VD(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(t,n,i=1e3,l=1.5,u=6e4){this.Ti=t,this.timerId=n,this.Go=i,this.zo=l,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const n=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),l=Math.max(0,n-i);l>0&&ct("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,l,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0="PersistentStream";class LT{constructor(t,n,i,l,u,h,m,g){this.Ti=t,this.n_=i,this.r_=l,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new PT(t,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():n&&n.code===nt.RESOURCE_EXHAUSTED?(pa(n.toString()),pa("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===nt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,l])=>{this.i_===n&&this.V_(i,l)},i=>{t(()=>{const l=new ft(nt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(l)})})}V_(t,n){const i=this.R_(this.i_);this.stream=this.f_(t,n),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(l=>{i(()=>this.m_(l))}),this.stream.onMessage(l=>{i(()=>++this.__==1?this.g_(l):this.onNext(l))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return ct(v0,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return n=>{this.Ti.enqueueAndForget(()=>this.i_===t?n():(ct(v0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class I2 extends LT{constructor(t,n,i,l,u,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,l,h),this.serializer=u}f_(t,n){return this.connection.Wo("Listen",t,n)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const n=kD(this.serializer,t),i=function(u){if(!("targetChange"in u))return Rt.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Rt.min():h.readTime?Pr(h.readTime):Rt.min()}(t);return this.listener.p_(n,i)}y_(t){const n={};n.database=Rm(this.serializer),n.addTarget=function(u,h){let m;const g=h.target;if(m=Em(g)?{documents:zD(u,g)}:{query:BD(u,g).ht},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=ST(u,h.resumeToken);const y=wm(u,h.expectedCount);y!==null&&(m.expectedCount=y)}else if(h.snapshotVersion.compareTo(Rt.min())>0){m.readTime=sf(u,h.snapshotVersion.toTimestamp());const y=wm(u,h.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,t);const i=HD(this.serializer,t);i&&(n.labels=i),this.I_(n)}w_(t){const n={};n.database=Rm(this.serializer),n.removeTarget=t,this.I_(n)}}class N2 extends LT{constructor(t,n,i,l,u,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,l,h),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,n){return this.connection.Wo("Write",t,n)}g_(t){return $t(!!t.streamToken),this.lastStreamToken=t.streamToken,$t(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){$t(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const n=jD(t.writeResults,t.commitTime),i=Pr(t.commitTime);return this.listener.v_(i,n)}C_(){const t={};t.database=Rm(this.serializer),this.I_(t)}b_(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>UD(this.serializer,i))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{}class V2 extends M2{constructor(t,n,i,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=l,this.F_=!1}M_(){if(this.F_)throw new ft(nt.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,i,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.So(t,Sm(n,i),l,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ft(nt.UNKNOWN,u.toString())})}Co(t,n,i,l,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Co(t,Sm(n,i),l,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ft(nt.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class P2{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(pa(n),this.N_=!1):ct("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi="RemoteStore";class L2{constructor(t,n,i,l,u){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(h=>{i.enqueueAndForget(async()=>{ns(this)&&(ct(Zi,"Restarting streams for network reachability change."),await async function(g){const y=Dt(g);y.W_.add(4),await au(y),y.j_.set("Unknown"),y.W_.delete(4),await Rf(y)}(this))})}),this.j_=new P2(i,l)}}async function Rf(r){if(ns(r))for(const t of r.G_)await t(!0)}async function au(r){for(const t of r.G_)await t(!1)}function kT(r,t){const n=Dt(r);n.K_.has(t.targetId)||(n.K_.set(t.targetId,t),bg(n)?Tg(n):bl(n).c_()&&Eg(n,t))}function _g(r,t){const n=Dt(r),i=bl(n);n.K_.delete(t),i.c_()&&UT(n,t),n.K_.size===0&&(i.c_()?i.P_():ns(n)&&n.j_.set("Unknown"))}function Eg(r,t){if(r.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Rt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}bl(r).y_(t)}function UT(r,t){r.H_.Ne(t),bl(r).w_(t)}function Tg(r){r.H_=new OD({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>r.K_.get(t)||null,it:()=>r.datastore.serializer.databaseId}),bl(r).start(),r.j_.B_()}function bg(r){return ns(r)&&!bl(r).u_()&&r.K_.size>0}function ns(r){return Dt(r).W_.size===0}function jT(r){r.H_=void 0}async function k2(r){r.j_.set("Online")}async function U2(r){r.K_.forEach((t,n)=>{Eg(r,t)})}async function j2(r,t){jT(r),bg(r)?(r.j_.q_(t),Tg(r)):r.j_.set("Unknown")}async function z2(r,t,n){if(r.j_.set("Online"),t instanceof wT&&t.state===2&&t.cause)try{await async function(l,u){const h=u.cause;for(const m of u.targetIds)l.K_.has(m)&&(await l.remoteSyncer.rejectListen(m,h),l.K_.delete(m),l.H_.removeTarget(m))}(r,t)}catch(i){ct(Zi,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await of(r,i)}else if(t instanceof Fc?r.H_.We(t):t instanceof bT?r.H_.Ze(t):r.H_.je(t),!n.isEqual(Rt.min()))try{const i=await VT(r.localStore);n.compareTo(i)>=0&&await function(u,h){const m=u.H_.ot(h);return m.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const _=u.K_.get(y);_&&u.K_.set(y,_.withResumeToken(g.resumeToken,h))}}),m.targetMismatches.forEach((g,y)=>{const _=u.K_.get(g);if(!_)return;u.K_.set(g,_.withResumeToken(an.EMPTY_BYTE_STRING,_.snapshotVersion)),UT(u,g);const b=new Wa(_.target,g,y,_.sequenceNumber);Eg(u,b)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(i){ct(Zi,"Failed to raise snapshot:",i),await of(r,i)}}async function of(r,t,n){if(!Tl(t))throw t;r.W_.add(1),await au(r),r.j_.set("Offline"),n||(n=()=>VT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ct(Zi,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await Rf(r)})}function zT(r,t){return t().catch(n=>of(r,n,t))}async function Df(r){const t=Dt(r),n=si(t);let i=t.U_.length>0?t.U_[t.U_.length-1].batchId:sg;for(;B2(t);)try{const l=await b2(t.localStore,i);if(l===null){t.U_.length===0&&n.P_();break}i=l.batchId,q2(t,l)}catch(l){await of(t,l)}BT(t)&&qT(t)}function B2(r){return ns(r)&&r.U_.length<10}function q2(r,t){r.U_.push(t);const n=si(r);n.c_()&&n.S_&&n.b_(t.mutations)}function BT(r){return ns(r)&&!si(r).u_()&&r.U_.length>0}function qT(r){si(r).start()}async function H2(r){si(r).C_()}async function F2(r){const t=si(r);for(const n of r.U_)t.b_(n.mutations)}async function Y2(r,t,n){const i=r.U_.shift(),l=hg.from(i,t,n);await zT(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),await Df(r)}async function G2(r,t){t&&si(r).S_&&await async function(i,l){if(function(h){return xD(h)&&h!==nt.ABORTED}(l.code)){const u=i.U_.shift();si(i).h_(),await zT(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,l)),await Df(i)}}(r,t),BT(r)&&qT(r)}async function _0(r,t){const n=Dt(r);n.asyncQueue.verifyOperationInProgress(),ct(Zi,"RemoteStore received new credentials");const i=ns(n);n.W_.add(3),await au(n),i&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await Rf(n)}async function Q2(r,t){const n=Dt(r);t?(n.W_.delete(2),await Rf(n)):t||(n.W_.add(2),await au(n),n.j_.set("Unknown"))}function bl(r){return r.J_||(r.J_=function(n,i,l){const u=Dt(n);return u.M_(),new I2(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(r.datastore,r.asyncQueue,{xo:k2.bind(null,r),No:U2.bind(null,r),Lo:j2.bind(null,r),p_:z2.bind(null,r)}),r.G_.push(async t=>{t?(r.J_.h_(),bg(r)?Tg(r):r.j_.set("Unknown")):(await r.J_.stop(),jT(r))})),r.J_}function si(r){return r.Y_||(r.Y_=function(n,i,l){const u=Dt(n);return u.M_(),new N2(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:H2.bind(null,r),Lo:G2.bind(null,r),D_:F2.bind(null,r),v_:Y2.bind(null,r)}),r.G_.push(async t=>{t?(r.Y_.h_(),await Df(r)):(await r.Y_.stop(),r.U_.length>0&&(ct(Zi,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(t,n,i,l,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=l,this.removalCallback=u,this.deferred=new da,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,l,u){const h=Date.now()+i,m=new wg(t,n,h,l,u);return m.start(i),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ft(nt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sg(r,t){if(pa("AsyncQueue",`${t}: ${r}`),Tl(r))return new ft(nt.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{static emptySet(t){return new ll(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||vt.comparator(n.key,i.key):(n,i)=>vt.comparator(n.key,i.key),this.keyedMap=No(),this.sortedSet=new pe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof ll)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=i.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new ll;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(){this.Z_=new pe(vt.comparator)}track(t){const n=t.doc.key,i=this.Z_.get(n);i?t.type!==0&&i.type===3?this.Z_=this.Z_.insert(n,t):t.type===3&&i.type!==1?this.Z_=this.Z_.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.Z_=this.Z_.remove(n):t.type===1&&i.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):wt():this.Z_=this.Z_.insert(n,t)}X_(){const t=[];return this.Z_.inorderTraversal((n,i)=>{t.push(i)}),t}}class ml{constructor(t,n,i,l,u,h,m,g,y){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=l,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(t,n,i,l,u){const h=[];return n.forEach(m=>{h.push({type:0,doc:m})}),new ml(t,n,ll.emptySet(n),h,i,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ef(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==i[l].type||!n[l].doc.isEqual(i[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class X2{constructor(){this.queries=T0(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,i){const l=Dt(n),u=l.queries;l.queries=T0(),u.forEach((h,m)=>{for(const g of m.ta)g.onError(i)})})(this,new ft(nt.ABORTED,"Firestore shutting down"))}}function T0(){return new es(r=>oT(r),Ef)}async function Ag(r,t){const n=Dt(r);let i=3;const l=t.query;let u=n.queries.get(l);u?!u.na()&&t.ra()&&(i=2):(u=new K2,i=t.ra()?0:1);try{switch(i){case 0:u.ea=await n.onListen(l,!0);break;case 1:u.ea=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(h){const m=Sg(h,`Initialization of query '${tl(t.query)}' failed`);return void t.onError(m)}n.queries.set(l,u),u.ta.push(t),t.sa(n.onlineState),u.ea&&t.oa(u.ea)&&Dg(n)}async function Rg(r,t){const n=Dt(r),i=t.query;let l=3;const u=n.queries.get(i);if(u){const h=u.ta.indexOf(t);h>=0&&(u.ta.splice(h,1),u.ta.length===0?l=t.ra()?0:1:!u.na()&&t.ra()&&(l=2))}switch(l){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function $2(r,t){const n=Dt(r);let i=!1;for(const l of t){const u=l.query,h=n.queries.get(u);if(h){for(const m of h.ta)m.oa(l)&&(i=!0);h.ea=l}}i&&Dg(n)}function W2(r,t,n){const i=Dt(r),l=i.queries.get(t);if(l)for(const u of l.ta)u.onError(n);i.queries.delete(t)}function Dg(r){r.ia.forEach(t=>{t.next()})}var Cm,b0;(b0=Cm||(Cm={}))._a="default",b0.Cache="cache";class xg{constructor(t,n,i){this.query=t,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(t){if(!this.options.includeMetadataChanges){const i=[];for(const l of t.docChanges)l.type!==3&&i.push(l);t=new ml(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ua?this.la(t)&&(this.aa.next(t),n=!0):this.ha(t,this.onlineState)&&(this.Pa(t),n=!0),this.ca=t,n}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),n=!0),n}ha(t,n){if(!t.fromCache||!this.ra())return!0;const i=n!=="Offline";return(!this.options.Ta||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}la(t){if(t.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(t){t=ml.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==Cm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(t){this.key=t}}class FT{constructor(t){this.key=t}}class Z2{constructor(t,n){this.query=t,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ut(),this.mutatedKeys=Ut(),this.ya=uT(t),this.wa=new ll(this.ya)}get Sa(){return this.fa}ba(t,n){const i=n?n.Da:new E0,l=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,h=l,m=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((_,b)=>{const w=l.get(_),x=Tf(this.query,b)?b:null,D=!!w&&this.mutatedKeys.has(w.key),j=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let L=!1;w&&x?w.data.isEqual(x.data)?D!==j&&(i.track({type:3,doc:x}),L=!0):this.va(w,x)||(i.track({type:2,doc:x}),L=!0,(g&&this.ya(x,g)>0||y&&this.ya(x,y)<0)&&(m=!0)):!w&&x?(i.track({type:0,doc:x}),L=!0):w&&!x&&(i.track({type:1,doc:w}),L=!0,(g||y)&&(m=!0)),L&&(x?(h=h.add(x),u=j?u.add(_):u.delete(_)):(h=h.delete(_),u=u.delete(_)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),u=u.delete(_.key),i.track({type:1,doc:_})}return{wa:h,Da:i,ls:m,mutatedKeys:u}}va(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,l){const u=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const h=t.Da.X_();h.sort((_,b)=>function(x,D){const j=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt()}};return j(x)-j(D)}(_.type,b.type)||this.ya(_.doc,b.doc)),this.Ca(i),l=l!=null&&l;const m=n&&!l?this.Fa():[],g=this.pa.size===0&&this.current&&!l?1:0,y=g!==this.ga;return this.ga=g,h.length!==0||y?{snapshot:new ml(this.query,t.wa,u,h,t.mutatedKeys,g===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new E0,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Ut(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const n=[];return t.forEach(i=>{this.pa.has(i)||n.push(new FT(i))}),this.pa.forEach(i=>{t.has(i)||n.push(new HT(i))}),n}Oa(t){this.fa=t.gs,this.pa=Ut();const n=this.ba(t.documents);return this.applyChanges(n,!0)}Na(){return ml.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Cg="SyncEngine";class J2{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class tx{constructor(t){this.key=t,this.Ba=!1}}class ex{constructor(t,n,i,l,u,h){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new es(m=>oT(m),Ef),this.qa=new Map,this.Qa=new Set,this.$a=new pe(vt.comparator),this.Ua=new Map,this.Ka=new gg,this.Wa={},this.Ga=new Map,this.za=dl.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function nx(r,t,n=!0){const i=$T(r);let l;const u=i.ka.get(t);return u?(i.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.Na()):l=await YT(i,t,n,!0),l}async function rx(r,t){const n=$T(r);await YT(n,t,!0,!1)}async function YT(r,t,n,i){const l=await w2(r.localStore,Mr(t)),u=l.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let m;return i&&(m=await ax(r,t,u,h==="current",l.resumeToken)),r.isPrimaryClient&&n&&kT(r.remoteStore,l),m}async function ax(r,t,n,i,l){r.Ha=(b,w,x)=>async function(j,L,G,rt){let W=L.view.ba(G);W.ls&&(W=await m0(j.localStore,L.query,!1).then(({documents:M})=>L.view.ba(M,W)));const ot=rt&&rt.targetChanges.get(L.targetId),ut=rt&&rt.targetMismatches.get(L.targetId)!=null,pt=L.view.applyChanges(W,j.isPrimaryClient,ot,ut);return S0(j,L.targetId,pt.Ma),pt.snapshot}(r,b,w,x);const u=await m0(r.localStore,t,!0),h=new Z2(t,u.gs),m=h.ba(u.documents),g=ru.createSynthesizedTargetChangeForCurrentChange(n,i&&r.onlineState!=="Offline",l),y=h.applyChanges(m,r.isPrimaryClient,g);S0(r,n,y.Ma);const _=new J2(t,n,h);return r.ka.set(t,_),r.qa.has(n)?r.qa.get(n).push(t):r.qa.set(n,[t]),y.snapshot}async function ix(r,t,n){const i=Dt(r),l=i.ka.get(t),u=i.qa.get(l.targetId);if(u.length>1)return i.qa.set(l.targetId,u.filter(h=>!Ef(h,t))),void i.ka.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(l.targetId),i.sharedClientState.isActiveQueryTarget(l.targetId)||await Dm(i.localStore,l.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(l.targetId),n&&_g(i.remoteStore,l.targetId),Om(i,l.targetId)}).catch(El)):(Om(i,l.targetId),await Dm(i.localStore,l.targetId,!0))}async function sx(r,t){const n=Dt(r),i=n.ka.get(t),l=n.qa.get(i.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),_g(n.remoteStore,i.targetId))}async function lx(r,t,n){const i=mx(r);try{const l=await function(h,m){const g=Dt(h),y=Le.now(),_=m.reduce((x,D)=>x.add(D.key),Ut());let b,w;return g.persistence.runTransaction("Locally write mutations","readwrite",x=>{let D=va(),j=Ut();return g.ds.getEntries(x,_).next(L=>{D=L,D.forEach((G,rt)=>{rt.isValidDocument()||(j=j.add(G))})}).next(()=>g.localDocuments.getOverlayedDocuments(x,D)).next(L=>{b=L;const G=[];for(const rt of m){const W=wD(rt,b.get(rt.key).overlayedDocument);W!=null&&G.push(new ci(rt.key,W,tT(W.value.mapValue),Vr.exists(!0)))}return g.mutationQueue.addMutationBatch(x,y,G,m)}).next(L=>{w=L;const G=L.applyToLocalDocumentSet(b,j);return g.documentOverlayCache.saveOverlays(x,L.batchId,G)})}).then(()=>({batchId:w.batchId,changes:fT(b)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(l.batchId),function(h,m,g){let y=h.Wa[h.currentUser.toKey()];y||(y=new pe(Mt)),y=y.insert(m,g),h.Wa[h.currentUser.toKey()]=y}(i,l.batchId,n),await iu(i,l.changes),await Df(i.remoteStore)}catch(l){const u=Sg(l,"Failed to persist write");n.reject(u)}}async function GT(r,t){const n=Dt(r);try{const i=await E2(n.localStore,t);t.targetChanges.forEach((l,u)=>{const h=n.Ua.get(u);h&&($t(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?h.Ba=!0:l.modifiedDocuments.size>0?$t(h.Ba):l.removedDocuments.size>0&&($t(h.Ba),h.Ba=!1))}),await iu(n,i,t)}catch(i){await El(i)}}function w0(r,t,n){const i=Dt(r);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const l=[];i.ka.forEach((u,h)=>{const m=h.view.sa(t);m.snapshot&&l.push(m.snapshot)}),function(h,m){const g=Dt(h);g.onlineState=m;let y=!1;g.queries.forEach((_,b)=>{for(const w of b.ta)w.sa(m)&&(y=!0)}),y&&Dg(g)}(i.eventManager,t),l.length&&i.La.p_(l),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function ox(r,t,n){const i=Dt(r);i.sharedClientState.updateQueryState(t,"rejected",n);const l=i.Ua.get(t),u=l&&l.key;if(u){let h=new pe(vt.comparator);h=h.insert(u,cn.newNoDocument(u,Rt.min()));const m=Ut().add(u),g=new Sf(Rt.min(),new Map,new pe(Mt),h,m);await GT(i,g),i.$a=i.$a.remove(u),i.Ua.delete(t),Og(i)}else await Dm(i.localStore,t,!1).then(()=>Om(i,t,n)).catch(El)}async function ux(r,t){const n=Dt(r),i=t.batch.batchId;try{const l=await _2(n.localStore,t);KT(n,i,null),QT(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await iu(n,l)}catch(l){await El(l)}}async function cx(r,t,n){const i=Dt(r);try{const l=await function(h,m){const g=Dt(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let _;return g.mutationQueue.lookupMutationBatch(y,m).next(b=>($t(b!==null),_=b.keys(),g.mutationQueue.removeMutationBatch(y,b))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,_,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_)).next(()=>g.localDocuments.getDocuments(y,_))})}(i.localStore,t);KT(i,t,n),QT(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await iu(i,l)}catch(l){await El(l)}}function QT(r,t){(r.Ga.get(t)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(t)}function KT(r,t,n){const i=Dt(r);let l=i.Wa[i.currentUser.toKey()];if(l){const u=l.get(t);u&&(n?u.reject(n):u.resolve(),l=l.remove(t)),i.Wa[i.currentUser.toKey()]=l}}function Om(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const i of r.qa.get(t))r.ka.delete(i),n&&r.La.Ja(i,n);r.qa.delete(t),r.isPrimaryClient&&r.Ka.br(t).forEach(i=>{r.Ka.containsKey(i)||XT(r,i)})}function XT(r,t){r.Qa.delete(t.path.canonicalString());const n=r.$a.get(t);n!==null&&(_g(r.remoteStore,n),r.$a=r.$a.remove(t),r.Ua.delete(n),Og(r))}function S0(r,t,n){for(const i of n)i instanceof HT?(r.Ka.addReference(i.key,t),fx(r,i)):i instanceof FT?(ct(Cg,"Document no longer in limbo: "+i.key),r.Ka.removeReference(i.key,t),r.Ka.containsKey(i.key)||XT(r,i.key)):wt()}function fx(r,t){const n=t.key,i=n.path.canonicalString();r.$a.get(n)||r.Qa.has(i)||(ct(Cg,"New document in limbo: "+n),r.Qa.add(i),Og(r))}function Og(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const t=r.Qa.values().next().value;r.Qa.delete(t);const n=new vt(ue.fromString(t)),i=r.za.next();r.Ua.set(i,new tx(n)),r.$a=r.$a.insert(n,i),kT(r.remoteStore,new Wa(Mr(_f(n.path)),i,"TargetPurposeLimboResolution",yf.ae))}}async function iu(r,t,n){const i=Dt(r),l=[],u=[],h=[];i.ka.isEmpty()||(i.ka.forEach((m,g)=>{h.push(i.Ha(g,t,n).then(y=>{var _;if((y||n)&&i.isPrimaryClient){const b=y?!y.fromCache:(_=n==null?void 0:n.targetChanges.get(g.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(g.targetId,b?"current":"not-current")}if(y){l.push(y);const b=pg.Yi(g.targetId,y);u.push(b)}}))}),await Promise.all(h),i.La.p_(l),await async function(g,y){const _=Dt(g);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>et.forEach(y,w=>et.forEach(w.Hi,x=>_.persistence.referenceDelegate.addReference(b,w.targetId,x)).next(()=>et.forEach(w.Ji,x=>_.persistence.referenceDelegate.removeReference(b,w.targetId,x)))))}catch(b){if(!Tl(b))throw b;ct(vg,"Failed to update sequence numbers: "+b)}for(const b of y){const w=b.targetId;if(!b.fromCache){const x=_.Ts.get(w),D=x.snapshotVersion,j=x.withLastLimboFreeSnapshotVersion(D);_.Ts=_.Ts.insert(w,j)}}}(i.localStore,u))}async function hx(r,t){const n=Dt(r);if(!n.currentUser.isEqual(t)){ct(Cg,"User change. New user:",t.toKey());const i=await MT(n.localStore,t);n.currentUser=t,function(u,h){u.Ga.forEach(m=>{m.forEach(g=>{g.reject(new ft(nt.CANCELLED,h))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await iu(n,i.Rs)}}function dx(r,t){const n=Dt(r),i=n.Ua.get(t);if(i&&i.Ba)return Ut().add(i.key);{let l=Ut();const u=n.qa.get(t);if(!u)return l;for(const h of u){const m=n.ka.get(h);l=l.unionWith(m.view.Sa)}return l}}function $T(r){const t=Dt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=GT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=dx.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ox.bind(null,t),t.La.p_=$2.bind(null,t.eventManager),t.La.Ja=W2.bind(null,t.eventManager),t}function mx(r){const t=Dt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ux.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=cx.bind(null,t),t}class uf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Af(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,n){return null}nu(t,n){return null}eu(t){return v2(this.persistence,new g2,t.initialUser,this.serializer)}Xa(t){return new NT(yg.ri,this.serializer)}Za(t){return new A2}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uf.provider={build:()=>new uf};class gx extends uf{constructor(t){super(),this.cacheSizeBytes=t}tu(t,n){$t(this.persistence.referenceDelegate instanceof lf);const i=this.persistence.referenceDelegate.garbageCollector;return new t2(i,t.asyncQueue,n)}Xa(t){const n=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new NT(i=>lf.ri(i,n),this.serializer)}}class Im{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>w0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=hx.bind(null,this.syncEngine),await Q2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new X2}()}createDatastore(t){const n=Af(t.databaseInfo.databaseId),i=function(u){return new O2(u)}(t.databaseInfo);return function(u,h,m,g){return new V2(u,h,m,g)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,l,u,h,m){return new L2(i,l,u,h,m)}(this.localStore,this.datastore,t.asyncQueue,n=>w0(this.syncEngine,n,0),function(){return p0.D()?new p0:new R2}())}createSyncEngine(t,n){return function(l,u,h,m,g,y,_){const b=new ex(l,u,h,m,g,y);return _&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(l){const u=Dt(l);ct(Zi,"RemoteStore shutting down."),u.W_.add(5),await au(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Im.provider={build:()=>new Im};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):pa("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li="FirestoreClient";class yx{constructor(t,n,i,l,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=l,this.user=un.UNAUTHENTICATED,this.clientId=FE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(i,async h=>{ct(li,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(i,h=>(ct(li,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new da;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=Sg(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Jd(r,t){r.asyncQueue.verifyOperationInProgress(),ct(li,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let i=n.initialUser;r.setCredentialChangeListener(async l=>{i.isEqual(l)||(await MT(t.localStore,l),i=l)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function A0(r,t){r.asyncQueue.verifyOperationInProgress();const n=await px(r);ct(li,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(i=>_0(t.remoteStore,i)),r.setAppCheckTokenChangeListener((i,l)=>_0(t.remoteStore,l)),r._onlineComponents=t}async function px(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ct(li,"Using user provided OfflineComponentProvider");try{await Jd(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(l){return l.name==="FirebaseError"?l.code===nt.FAILED_PRECONDITION||l.code===nt.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(n))throw n;ul("Error using user provided cache. Falling back to memory cache: "+n),await Jd(r,new uf)}}else ct(li,"Using default OfflineComponentProvider"),await Jd(r,new gx(void 0));return r._offlineComponents}async function WT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ct(li,"Using user provided OnlineComponentProvider"),await A0(r,r._uninitializedComponentsProvider._online)):(ct(li,"Using default OnlineComponentProvider"),await A0(r,new Im))),r._onlineComponents}function vx(r){return WT(r).then(t=>t.syncEngine)}async function cf(r){const t=await WT(r),n=t.eventManager;return n.onListen=nx.bind(null,t.syncEngine),n.onUnlisten=ix.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=rx.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=sx.bind(null,t.syncEngine),n}function _x(r,t,n={}){const i=new da;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,m,g,y){const _=new Ig({next:w=>{_.su(),h.enqueueAndForget(()=>Rg(u,b));const x=w.docs.has(m);!x&&w.fromCache?y.reject(new ft(nt.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&w.fromCache&&g&&g.source==="server"?y.reject(new ft(nt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(w)},error:w=>y.reject(w)}),b=new xg(_f(m.path),_,{includeMetadataChanges:!0,Ta:!0});return Ag(u,b)}(await cf(r),r.asyncQueue,t,n,i)),i.promise}function Ex(r,t,n={}){const i=new da;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,m,g,y){const _=new Ig({next:w=>{_.su(),h.enqueueAndForget(()=>Rg(u,b)),w.fromCache&&g.source==="server"?y.reject(new ft(nt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(w)},error:w=>y.reject(w)}),b=new xg(m,_,{includeMetadataChanges:!0,Ta:!0});return Ag(u,b)}(await cf(r),r.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(r,t,n){if(!n)throw new ft(nt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function Tx(r,t,n,i){if(t===!0&&i===!0)throw new ft(nt.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function D0(r){if(!vt.isDocumentKey(r))throw new ft(nt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function x0(r){if(vt.isDocumentKey(r))throw new ft(nt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function xf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":wt()}function Wn(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ft(nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xf(r);throw new ft(nt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb="firestore.googleapis.com",C0=!0;class O0{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new ft(nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=tb,this.ssl=C0}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:C0;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=IT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<ZD)throw new ft(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Tx("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ZT((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ft(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ft(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ft(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,l){return i.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Cf{constructor(t,n,i,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new O0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ft(nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ft(nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new O0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new CR;switch(i.type){case"firstParty":return new MR(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ft(nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=R0.get(n);i&&(ct("ComponentProvider","Removing Datastore"),R0.delete(n),i.terminate())}(this),Promise.resolve()}}function bx(r,t,n,i={}){var l;const u=(r=Wn(r,Cf))._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),m=`${t}:${n}`;u.host!==tb&&u.host!==m&&ul("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:i});if(!Xc(g,h)&&(r._setSettings(g),i.mockUserToken)){let y,_;if(typeof i.mockUserToken=="string")y=i.mockUserToken,_=un.MOCK_USER;else{y=s1(i.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new ft(nt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new un(b)}r._authCredentials=new OR(new qE(y,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new rs(this.firestore,t,this._query)}}class hn{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ei(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new hn(this.firestore,t,this._key)}}class ei extends rs{constructor(t,n,i){super(t,n,_f(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new hn(this.firestore,null,new vt(t))}withConverter(t){return new ei(this.firestore,t,this._path)}}function ma(r,t,...n){if(r=Lr(r),JT("collection","path",t),r instanceof Cf){const i=ue.fromString(t,...n);return x0(i),new ei(r,null,i)}{if(!(r instanceof hn||r instanceof ei))throw new ft(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(ue.fromString(t,...n));return x0(i),new ei(r.firestore,null,i)}}function Xi(r,t,...n){if(r=Lr(r),arguments.length===1&&(t=FE.newId()),JT("doc","path",t),r instanceof Cf){const i=ue.fromString(t,...n);return D0(i),new hn(r,null,new vt(i))}{if(!(r instanceof hn||r instanceof ei))throw new ft(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(ue.fromString(t,...n));return D0(i),new hn(r.firestore,r instanceof ei?r.converter:null,new vt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="AsyncQueue";class N0{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new PT(this,"async_queue_retry"),this.Su=()=>{const i=Zd();i&&ct(I0,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=t;const n=Zd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const n=Zd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const n=new da;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!Tl(t))throw t;ct(I0,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const n=this.bu.then(()=>(this.pu=!0,t().catch(i=>{this.gu=i,this.pu=!1;const l=function(h){let m=h.message||"";return h.stack&&(m=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),m}(i);throw pa("INTERNAL UNHANDLED ERROR: ",l),i}).then(i=>(this.pu=!1,i))));return this.bu=n,n}enqueueAfterDelay(t,n,i){this.Du(),this.wu.indexOf(t)>-1&&(n=0);const l=wg.createAndSchedule(this,t,n,i,u=>this.Fu(u));return this.fu.push(l),l}Du(){this.gu&&wt()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const n of this.fu)if(n.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const n=this.fu.indexOf(t);this.fu.splice(n,1)}}function M0(r){return function(n,i){if(typeof n!="object"||n===null)return!1;const l=n;for(const u of i)if(u in l&&typeof l[u]=="function")return!0;return!1}(r,["next","error","complete"])}class Ji extends Cf{constructor(t,n,i,l){super(t,n,i,l),this.type="firestore",this._queue=new N0,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new N0(t),this._firestoreClient=void 0,await t}}}function wx(r,t){const n=typeof r=="object"?r:yR(),i=typeof r=="string"?r:Jc,l=fR(n,"firestore").getImmediate({identifier:i});if(!l._initialized){const u=a1("firestore");u&&bx(l,...u)}return l}function Of(r){if(r._terminated)throw new ft(nt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Sx(r),r._firestoreClient}function Sx(r){var t,n,i;const l=r._freezeSettings(),u=function(m,g,y,_){return new KR(m,g,y,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,ZT(_.experimentalLongPollingOptions),_.useFetchStreams)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((n=l.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=l.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new yx(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(t){this._byteString=t}static fromBase64String(t){try{return new gl(an.fromBase64String(t))}catch(n){throw new ft(nt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new gl(an.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ft(nt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ft(nt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ft(nt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Mt(this._lat,t._lat)||Mt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,l){if(i.length!==l.length)return!1;for(let u=0;u<i.length;++u)if(i[u]!==l[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax=/^__.*__$/;class Rx{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new ci(t,this.data,this.fieldMask,n,this.fieldTransforms):new nu(t,this.data,n,this.fieldTransforms)}}class eb{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return new ci(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function nb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wt()}}class Pg{constructor(t,n,i,l,u,h){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=l,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new Pg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.ku({path:i,Qu:!1});return l.$u(t),l}Uu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.ku({path:i,Qu:!1});return l.Bu(),l}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return ff(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(nb(this.Lu)&&Ax.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class Dx{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||Af(t)}ju(t,n,i,l=!1){return new Pg({Lu:t,methodName:n,zu:i,path:nn.emptyPath(),Qu:!1,Gu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lg(r){const t=r._freezeSettings(),n=Af(r._databaseId);return new Dx(r._databaseId,!!t.ignoreUndefinedProperties,n)}function xx(r,t,n,i,l,u={}){const h=r.ju(u.merge||u.mergeFields?2:0,t,n,l);kg("Data must be an object, but it was:",h,i);const m=rb(i,h);let g,y;if(u.merge)g=new Mn(h.fieldMask),y=h.fieldTransforms;else if(u.mergeFields){const _=[];for(const b of u.mergeFields){const w=Nm(t,b,n);if(!h.contains(w))throw new ft(nt.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);ib(_,w)||_.push(w)}g=new Mn(_),y=h.fieldTransforms.filter(b=>g.covers(b.field))}else g=null,y=h.fieldTransforms;return new Rx(new bn(m),g,y)}class Nf extends Ng{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Nf}}function Cx(r,t,n,i){const l=r.ju(1,t,n);kg("Data must be an object, but it was:",l,i);const u=[],h=bn.empty();ui(i,(g,y)=>{const _=Ug(t,g,n);y=Lr(y);const b=l.Uu(_);if(y instanceof Nf)u.push(_);else{const w=su(y,b);w!=null&&(u.push(_),h.set(_,w))}});const m=new Mn(u);return new eb(h,m,l.fieldTransforms)}function Ox(r,t,n,i,l,u){const h=r.ju(1,t,n),m=[Nm(t,i,n)],g=[l];if(u.length%2!=0)throw new ft(nt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(Nm(t,u[w])),g.push(u[w+1]);const y=[],_=bn.empty();for(let w=m.length-1;w>=0;--w)if(!ib(y,m[w])){const x=m[w];let D=g[w];D=Lr(D);const j=h.Uu(x);if(D instanceof Nf)y.push(x);else{const L=su(D,j);L!=null&&(y.push(x),_.set(x,L))}}const b=new Mn(y);return new eb(_,b,h.fieldTransforms)}function Ix(r,t,n,i=!1){return su(n,r.ju(i?4:3,t))}function su(r,t){if(ab(r=Lr(r)))return kg("Unsupported field value:",t,r),rb(r,t);if(r instanceof Ng)return function(i,l){if(!nb(l.Lu))throw l.Wu(`${i._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Wu(`${i._methodName}() is not currently supported inside arrays`);const u=i._toFieldTransform(l);u&&l.fieldTransforms.push(u)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(i,l){const u=[];let h=0;for(const m of i){let g=su(m,l.Ku(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}}(r,t)}return function(i,l){if((i=Lr(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return pD(l.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const u=Le.fromDate(i);return{timestampValue:sf(l.serializer,u)}}if(i instanceof Le){const u=new Le(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:sf(l.serializer,u)}}if(i instanceof Mg)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof gl)return{bytesValue:ST(l.serializer,i._byteString)};if(i instanceof hn){const u=l.databaseId,h=i.firestore._databaseId;if(!h.isEqual(u))throw l.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:mg(i.firestore._databaseId||l.databaseId,i._key.path)}}if(i instanceof Vg)return function(h,m){return{mapValue:{fields:{[ZE]:{stringValue:JE},[tf]:{arrayValue:{values:h.toArray().map(y=>{if(typeof y!="number")throw m.Wu("VectorValues must only contain numeric values.");return fg(m.serializer,y)})}}}}}}(i,l);throw l.Wu(`Unsupported field value: ${xf(i)}`)}(r,t)}function rb(r,t){const n={};return GE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ui(r,(i,l)=>{const u=su(l,t.qu(i));u!=null&&(n[i]=u)}),{mapValue:{fields:n}}}function ab(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Le||r instanceof Mg||r instanceof gl||r instanceof hn||r instanceof Ng||r instanceof Vg)}function kg(r,t,n){if(!ab(n)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(n)){const i=xf(n);throw i==="an object"?t.Wu(r+" a custom object"):t.Wu(r+" "+i)}}function Nm(r,t,n){if((t=Lr(t))instanceof If)return t._internalPath;if(typeof t=="string")return Ug(r,t);throw ff("Field path arguments must be of type string or ",r,!1,void 0,n)}const Nx=new RegExp("[~\\*/\\[\\]]");function Ug(r,t,n){if(t.search(Nx)>=0)throw ff(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new If(...t.split("."))._internalPath}catch{throw ff(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function ff(r,t,n,i,l){const u=i&&!i.isEmpty(),h=l!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${i}`),h&&(g+=` in document ${l}`),g+=")"),new ft(nt.INVALID_ARGUMENT,m+r+g)}function ib(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(t,n,i,l,u){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Mx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(jg("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Mx extends sb{data(){return super.data()}}function jg(r,t){return typeof t=="string"?Ug(r,t):t instanceof If?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ft(nt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zg{}class Vx extends zg{}function Px(r,t,...n){let i=[];t instanceof zg&&i.push(t),i=i.concat(n),function(u){const h=u.filter(g=>g instanceof Bg).length,m=u.filter(g=>g instanceof Mf).length;if(h>1||h>0&&m>0)throw new ft(nt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const l of i)r=l._apply(r);return r}class Mf extends Vx{constructor(t,n,i){super(),this._field=t,this._op=n,this._value=i,this.type="where"}static _create(t,n,i){return new Mf(t,n,i)}_apply(t){const n=this._parse(t);return ob(t._query,n),new rs(t.firestore,t.converter,Tm(t._query,n))}_parse(t){const n=Lg(t.firestore);return function(u,h,m,g,y,_,b){let w;if(y.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ft(nt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){P0(b,_);const D=[];for(const j of b)D.push(V0(g,u,j));w={arrayValue:{values:D}}}else w=V0(g,u,b)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||P0(b,_),w=Ix(m,h,b,_==="in"||_==="not-in");return Oe.create(y,_,w)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function Lx(r,t,n){const i=t,l=jg("where",r);return Mf._create(l,i,n)}class Bg extends zg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Bg(t,n)}_parse(t){const n=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:cr.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(l,u){let h=l;const m=u.getFlattenedFilters();for(const g of m)ob(h,g),h=Tm(h,g)}(t._query,n),new rs(t.firestore,t.converter,Tm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function V0(r,t,n){if(typeof(n=Lr(n))=="string"){if(n==="")throw new ft(nt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lT(t)&&n.indexOf("/")!==-1)throw new ft(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(ue.fromString(n));if(!vt.isDocumentKey(i))throw new ft(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return X_(r,new vt(i))}if(n instanceof hn)return X_(r,n._key);throw new ft(nt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xf(n)}.`)}function P0(r,t){if(!Array.isArray(r)||r.length===0)throw new ft(nt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function ob(r,t){const n=function(l,u){for(const h of l)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new ft(nt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ft(nt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class kx{convertValue(t,n="none"){switch(ii(t)){case 0:return null;case 1:return t.booleanValue;case 2:return we(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ai(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw wt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return ui(t,(l,u)=>{i[l]=this.convertValue(u,n)}),i}convertVectorValue(t){var n,i,l;const u=(l=(i=(n=t.fields)===null||n===void 0?void 0:n[tf].arrayValue)===null||i===void 0?void 0:i.values)===null||l===void 0?void 0:l.map(h=>we(h.doubleValue));return new Vg(u)}convertGeoPoint(t){return new Mg(we(t.latitude),we(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=vf(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Yo(t));default:return null}}convertTimestamp(t){const n=ri(t);return new Le(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=ue.fromString(t);$t(OT(i));const l=new Go(i.get(1),i.get(3)),u=new vt(i.popFirst(5));return l.isEqual(n)||pa(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(r,t,n){let i;return i=r?n&&(n.merge||n.mergeFields)?r.toFirestore(t,n):r.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ub extends sb{constructor(t,n,i,l,u,h){super(t,n,i,l,h),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Yc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(jg("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Yc extends ub{data(t={}){return super.data(t)}}class cb{constructor(t,n,i,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new Vo(l.hasPendingWrites,l.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new Yc(this._firestore,this._userDataWriter,i.key,i,new Vo(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ft(nt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,u){if(l._snapshot.oldDocs.isEmpty()){let h=0;return l._snapshot.docChanges.map(m=>{const g=new Yc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new Vo(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const g=new Yc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new Vo(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,_=-1;return m.type!==0&&(y=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),_=h.indexOf(m.doc.key)),{type:jx(m.type),doc:g,oldIndex:y,newIndex:_}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function jx(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(r){r=Wn(r,hn);const t=Wn(r.firestore,Ji);return _x(Of(t),r._key).then(n=>db(t,r,n))}class qg extends kx{constructor(t){super(),this.firestore=t}convertBytes(t){return new gl(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new hn(this.firestore,null,n)}}function ol(r){r=Wn(r,rs);const t=Wn(r.firestore,Ji),n=Of(t),i=new qg(t);return lb(r._query),Ex(n,r._query).then(l=>new cb(t,i,r,l))}function zx(r,t,n){r=Wn(r,hn);const i=Wn(r.firestore,Ji),l=Ux(r.converter,t,n);return hb(i,[xx(Lg(i),"setDoc",r._key,l,r.converter!==null,n).toMutation(r._key,Vr.none())])}function Bx(r,t,n,...i){r=Wn(r,hn);const l=Wn(r.firestore,Ji),u=Lg(l);let h;return h=typeof(t=Lr(t))=="string"||t instanceof If?Ox(u,"updateDoc",r._key,t,n,i):Cx(u,"updateDoc",r._key,t),hb(l,[h.toMutation(r._key,Vr.exists(!0))])}function rl(r,...t){var n,i,l;r=Lr(r);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof t[h]!="object"||M0(t[h])||(u=t[h],h++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(M0(t[h])){const b=t[h];t[h]=(n=b.next)===null||n===void 0?void 0:n.bind(b),t[h+1]=(i=b.error)===null||i===void 0?void 0:i.bind(b),t[h+2]=(l=b.complete)===null||l===void 0?void 0:l.bind(b)}let g,y,_;if(r instanceof hn)y=Wn(r.firestore,Ji),_=_f(r._key.path),g={next:b=>{t[h]&&t[h](db(y,r,b))},error:t[h+1],complete:t[h+2]};else{const b=Wn(r,rs);y=Wn(b.firestore,Ji),_=b._query;const w=new qg(y);g={next:x=>{t[h]&&t[h](new cb(y,w,b,x))},error:t[h+1],complete:t[h+2]},lb(r._query)}return function(w,x,D,j){const L=new Ig(j),G=new xg(x,L,D);return w.asyncQueue.enqueueAndForget(async()=>Ag(await cf(w),G)),()=>{L.su(),w.asyncQueue.enqueueAndForget(async()=>Rg(await cf(w),G))}}(Of(y),_,m,g)}function hb(r,t){return function(i,l){const u=new da;return i.asyncQueue.enqueueAndForget(async()=>lx(await vx(i),l,u)),u.promise}(Of(r),t)}function db(r,t,n){const i=n.docs.get(t._key),l=new qg(r);return new ub(r,l,t._key,i,new Vo(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(l){_l=l})(gR),Wc(new qo("firestore",(i,{instanceIdentifier:l,options:u})=>{const h=i.getProvider("app").getImmediate(),m=new Ji(new IR(i.getProvider("auth-internal")),new VR(h,i.getProvider("app-check-internal")),function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ft(nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Go(y.options.projectId,_)}(h,l),h);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),sl(k_,U_,t),sl(k_,U_,"esm2017")})();const qx={apiKey:"AIzaSyA…",authDomain:"myattendanceproject-45c1b.firebaseapp.com",projectId:"myattendanceproject-45c1b",storageBucket:"myattendanceproject-45c1b.appspot.com",messagingSenderId:"347137303283",appId:"1:347137303283:web:9369753f976dffcf65cd86"},Hx=ME(qx),fn=wx(Hx);function Fx({onLoginSuccess:r}){const[t,n]=q.useState(""),[i,l]=q.useState(""),[u,h]=q.useState(""),m=Wm(),g=async()=>{if(h(""),t.trim().length!==6||i.trim().length!==4){h("생년월일 6자리와 전화번호 뒤 4자리를 입력해주세요.");return}try{const y=Px(ma(fn,"students"),Lx("birth",">=","")),b=(await ol(y)).docs.find(w=>{var W,ot;const x=w.data(),D=(W=x.birth)==null?void 0:W.replace(/[^0-9]/g,""),j=(ot=x.parentPhone)==null?void 0:ot.replace(/[^0-9]/g,""),L=(D==null?void 0:D.slice(-6))===t.trim(),rt=(j?j.slice(-4):null)===i.trim();return L&&rt});if(b){const w=b.data();localStorage.setItem("studentId",b.id),localStorage.setItem("studentName",w.name),r&&r(),m("/attendance")}else h("아이디 또는 비밀번호가 일치하지 않습니다.")}catch(y){console.error(y),h("로그인 중 오류가 발생했습니다.")}};return U.jsxs("div",{style:{maxWidth:320,margin:"100px auto",textAlign:"center"},children:[U.jsx("h1",{style:{fontSize:"24px"},children:"학부모 로그인"}),U.jsx("input",{style:{width:"100%",padding:8,margin:"8px 0"},value:t,onChange:y=>n(y.target.value.replace(/\D/g,"")),placeholder:"자녀 생년월일 6자리 (예: 170806)",maxLength:6}),U.jsx("input",{style:{width:"100%",padding:8,margin:"8px 0"},value:i,onChange:y=>l(y.target.value.replace(/\D/g,"")),placeholder:"전화번호 뒤 4자리",maxLength:4,type:"password"}),U.jsx("button",{style:{width:"100%",padding:8,margin:"8px 0"},onClick:g,children:"로그인"}),u&&U.jsx("p",{style:{color:"red"},children:u})]})}function mb(r){var t,n,i="";if(typeof r=="string"||typeof r=="number")i+=r;else if(typeof r=="object")if(Array.isArray(r)){var l=r.length;for(t=0;t<l;t++)r[t]&&(n=mb(r[t]))&&(i&&(i+=" "),i+=n)}else for(n in r)r[n]&&(i&&(i+=" "),i+=n);return i}function Vf(){for(var r,t,n=0,i="",l=arguments.length;n<l;n++)(r=arguments[n])&&(t=mb(r))&&(i&&(i+=" "),i+=t);return i}var tm,L0;function Yx(){if(L0)return tm;L0=1;const r=(g,y,_,b)=>{if(_==="length"||_==="prototype"||_==="arguments"||_==="caller")return;const w=Object.getOwnPropertyDescriptor(g,_),x=Object.getOwnPropertyDescriptor(y,_);!t(w,x)&&b||Object.defineProperty(g,_,x)},t=function(g,y){return g===void 0||g.configurable||g.writable===y.writable&&g.enumerable===y.enumerable&&g.configurable===y.configurable&&(g.writable||g.value===y.value)},n=(g,y)=>{const _=Object.getPrototypeOf(y);_!==Object.getPrototypeOf(g)&&Object.setPrototypeOf(g,_)},i=(g,y)=>`/* Wrapped ${g}*/
${y}`,l=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),u=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),h=(g,y,_)=>{const b=_===""?"":`with ${_.trim()}() `,w=i.bind(null,b,y.toString());Object.defineProperty(w,"name",u),Object.defineProperty(g,"toString",{...l,value:w})};return tm=(g,y,{ignoreNonConfigurable:_=!1}={})=>{const{name:b}=g;for(const w of Reflect.ownKeys(y))r(g,y,w,_);return n(g,y),h(g,y,b),g},tm}var Po={exports:{}},em,k0;function Gx(){return k0||(k0=1,em=()=>{const r={};return r.promise=new Promise((t,n)=>{r.resolve=t,r.reject=n}),r}),em}var Pc=Po.exports,U0;function Qx(){return U0||(U0=1,function(r,t){var n=Pc&&Pc.__awaiter||function(h,m,g,y){return new(g||(g=Promise))(function(_,b){function w(j){try{D(y.next(j))}catch(L){b(L)}}function x(j){try{D(y.throw(j))}catch(L){b(L)}}function D(j){j.done?_(j.value):new g(function(L){L(j.value)}).then(w,x)}D((y=y.apply(h,m||[])).next())})},i=Pc&&Pc.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(t,"__esModule",{value:!0});const l=i(Gx());function u(h,m="maxAge"){let g,y,_;const b=()=>n(this,void 0,void 0,function*(){if(g!==void 0)return;const D=j=>n(this,void 0,void 0,function*(){_=l.default();const L=j[1][m]-Date.now();if(L<=0){h.delete(j[0]),_.resolve();return}return g=j[0],y=setTimeout(()=>{h.delete(j[0]),_&&_.resolve()},L),typeof y.unref=="function"&&y.unref(),_.promise});try{for(const j of h)yield D(j)}catch{}g=void 0}),w=()=>{g=void 0,y!==void 0&&(clearTimeout(y),y=void 0),_!==void 0&&(_.reject(void 0),_=void 0)},x=h.set.bind(h);return h.set=(D,j)=>{h.has(D)&&h.delete(D);const L=x(D,j);return g&&g===D&&w(),b(),L},b(),h}t.default=u,r.exports=u,r.exports.default=u}(Po,Po.exports)),Po.exports}var nm,j0;function Kx(){if(j0)return nm;j0=1;const r=Yx(),t=Qx(),n=new WeakMap,i=new WeakMap,l=(u,{cacheKey:h,cache:m=new Map,maxAge:g}={})=>{typeof g=="number"&&t(m);const y=function(..._){const b=h?h(_):_[0],w=m.get(b);if(w)return w.data;const x=u.apply(this,_);return m.set(b,{data:x,maxAge:g?Date.now()+g:Number.POSITIVE_INFINITY}),x};return r(y,u,{ignoreNonConfigurable:!0}),i.set(y,m),y};return l.decorator=(u={})=>(h,m,g)=>{const y=h[m];if(typeof y!="function")throw new TypeError("The decorated value must be a function");delete g.value,delete g.writable,g.get=function(){if(!n.has(this)){const _=l(y,u);return n.set(this,_),_}return n.get(this)}},l.clear=u=>{const h=i.get(u);if(!h)throw new TypeError("Can't clear a function that was not memoized!");if(typeof h.clear!="function")throw new TypeError("The cache Map can't be cleared!");h.clear()},nm=l,nm}var Xx=Kx();const gb=mS(Xx);function $x(r){return typeof r=="string"}function Wx(r,t,n){return n.indexOf(r)===t}function Zx(r){return r.toLowerCase()===r}function z0(r){return r.indexOf(",")===-1?r:r.split(",")}function Mm(r){if(!r)return r;if(r==="C"||r==="posix"||r==="POSIX")return"en-US";if(r.indexOf(".")!==-1){var t=r.split(".")[0],n=t===void 0?"":t;return Mm(n)}if(r.indexOf("@")!==-1){var i=r.split("@")[0],n=i===void 0?"":i;return Mm(n)}if(r.indexOf("-")===-1||!Zx(r))return r;var l=r.split("-"),u=l[0],h=l[1],m=h===void 0?"":h;return"".concat(u,"-").concat(m.toUpperCase())}function Jx(r){var t=r===void 0?{}:r,n=t.useFallbackLocale,i=n===void 0?!0:n,l=t.fallbackLocale,u=l===void 0?"en-US":l,h=[];if(typeof navigator<"u"){for(var m=navigator.languages||[],g=[],y=0,_=m;y<_.length;y++){var b=_[y];g=g.concat(z0(b))}var w=navigator.language,x=w&&z0(w);h=h.concat(g,x)}return i&&h.push(u),h.filter($x).map(Mm).filter(Wx)}var tC=gb(Jx,{cacheKey:JSON.stringify});function eC(r){return tC(r)[0]||null}var yb=gb(eC,{cacheKey:JSON.stringify});function Ea(r,t,n){return function(l,u){u===void 0&&(u=n);var h=r(l)+u;return t(h)}}function lu(r){return function(n){return new Date(r(n).getTime()-1)}}function ou(r,t){return function(i){return[r(i),t(i)]}}function ge(r){if(r instanceof Date)return r.getFullYear();if(typeof r=="number")return r;var t=parseInt(r,10);if(typeof r=="string"&&!isNaN(t))return t;throw new Error("Failed to get year from date: ".concat(r,"."))}function fi(r){if(r instanceof Date)return r.getMonth();throw new Error("Failed to get month from date: ".concat(r,"."))}function Pf(r){if(r instanceof Date)return r.getDate();throw new Error("Failed to get year from date: ".concat(r,"."))}function wl(r){var t=ge(r),n=t+(-t+1)%100,i=new Date;return i.setFullYear(n,0,1),i.setHours(0,0,0,0),i}var nC=Ea(ge,wl,-100),pb=Ea(ge,wl,100),Hg=lu(pb),rC=Ea(ge,Hg,-100),vb=ou(wl,Hg);function hi(r){var t=ge(r),n=t+(-t+1)%10,i=new Date;return i.setFullYear(n,0,1),i.setHours(0,0,0,0),i}var _b=Ea(ge,hi,-10),Fg=Ea(ge,hi,10),Lf=lu(Fg),Eb=Ea(ge,Lf,-10),Tb=ou(hi,Lf);function Sl(r){var t=ge(r),n=new Date;return n.setFullYear(t,0,1),n.setHours(0,0,0,0),n}var bb=Ea(ge,Sl,-1),Yg=Ea(ge,Sl,1),kf=lu(Yg),wb=Ea(ge,kf,-1),aC=ou(Sl,kf);function Gg(r,t){return function(i,l){l===void 0&&(l=t);var u=ge(i),h=fi(i)+l,m=new Date;return m.setFullYear(u,h,1),m.setHours(0,0,0,0),r(m)}}function as(r){var t=ge(r),n=fi(r),i=new Date;return i.setFullYear(t,n,1),i.setHours(0,0,0,0),i}var Sb=Gg(as,-1),Qg=Gg(as,1),uu=lu(Qg),Ab=Gg(uu,-1),iC=ou(as,uu);function sC(r,t){return function(i,l){l===void 0&&(l=t);var u=ge(i),h=fi(i),m=Pf(i)+l,g=new Date;return g.setFullYear(u,h,m),g.setHours(0,0,0,0),r(g)}}function cu(r){var t=ge(r),n=fi(r),i=Pf(r),l=new Date;return l.setFullYear(t,n,i),l.setHours(0,0,0,0),l}var lC=sC(cu,1),Kg=lu(lC),oC=ou(cu,Kg);function Rb(r){return Pf(uu(r))}var rn={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},uC={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},Xg=[0,1,2,3,4,5,6],rm=new Map;function cC(r){return function(n,i){var l=n||yb();rm.has(l)||rm.set(l,new Map);var u=rm.get(l);return u.has(r)||u.set(r,new Intl.DateTimeFormat(l||void 0,r).format),u.get(r)(i)}}function fC(r){var t=new Date(r);return new Date(t.setHours(12))}function is(r){return function(t,n){return cC(r)(t,fC(n))}}var hC={day:"numeric"},dC={day:"numeric",month:"long",year:"numeric"},mC={month:"long"},gC={month:"long",year:"numeric"},yC={weekday:"short"},pC={weekday:"long"},vC={year:"numeric"},_C=is(hC),EC=is(dC),TC=is(mC),Db=is(gC),bC=is(yC),wC=is(pC),Uf=is(vC),SC=Xg[0],AC=Xg[5],B0=Xg[6];function $o(r,t){t===void 0&&(t=rn.ISO_8601);var n=r.getDay();switch(t){case rn.ISO_8601:return(n+6)%7;case rn.ISLAMIC:return(n+1)%7;case rn.HEBREW:case rn.GREGORY:return n;default:throw new Error("Unsupported calendar type.")}}function RC(r){var t=wl(r);return ge(t)}function DC(r){var t=hi(r);return ge(t)}function Vm(r,t){t===void 0&&(t=rn.ISO_8601);var n=ge(r),i=fi(r),l=r.getDate()-$o(r,t);return new Date(n,i,l)}function xC(r,t){t===void 0&&(t=rn.ISO_8601);var n=t===rn.GREGORY?rn.GREGORY:rn.ISO_8601,i=Vm(r,t),l=ge(r)+1,u,h;do u=new Date(l,0,n===rn.ISO_8601?4:1),h=Vm(u,t),l-=1;while(r<h);return Math.round((i.getTime()-h.getTime())/(864e5*7))+1}function $i(r,t){switch(r){case"century":return wl(t);case"decade":return hi(t);case"year":return Sl(t);case"month":return as(t);case"day":return cu(t);default:throw new Error("Invalid rangeType: ".concat(r))}}function CC(r,t){switch(r){case"century":return nC(t);case"decade":return _b(t);case"year":return bb(t);case"month":return Sb(t);default:throw new Error("Invalid rangeType: ".concat(r))}}function xb(r,t){switch(r){case"century":return pb(t);case"decade":return Fg(t);case"year":return Yg(t);case"month":return Qg(t);default:throw new Error("Invalid rangeType: ".concat(r))}}function OC(r,t){switch(r){case"decade":return _b(t,-100);case"year":return bb(t,-10);case"month":return Sb(t,-12);default:throw new Error("Invalid rangeType: ".concat(r))}}function IC(r,t){switch(r){case"decade":return Fg(t,100);case"year":return Yg(t,10);case"month":return Qg(t,12);default:throw new Error("Invalid rangeType: ".concat(r))}}function Cb(r,t){switch(r){case"century":return Hg(t);case"decade":return Lf(t);case"year":return kf(t);case"month":return uu(t);case"day":return Kg(t);default:throw new Error("Invalid rangeType: ".concat(r))}}function NC(r,t){switch(r){case"century":return rC(t);case"decade":return Eb(t);case"year":return wb(t);case"month":return Ab(t);default:throw new Error("Invalid rangeType: ".concat(r))}}function MC(r,t){switch(r){case"decade":return Eb(t,-100);case"year":return wb(t,-10);case"month":return Ab(t,-12);default:throw new Error("Invalid rangeType: ".concat(r))}}function q0(r,t){switch(r){case"century":return vb(t);case"decade":return Tb(t);case"year":return aC(t);case"month":return iC(t);case"day":return oC(t);default:throw new Error("Invalid rangeType: ".concat(r))}}function VC(r,t,n){var i=[t,n].sort(function(l,u){return l.getTime()-u.getTime()});return[$i(r,i[0]),Cb(r,i[1])]}function Ob(r,t,n){return n.map(function(i){return(t||Uf)(r,i)}).join(" – ")}function PC(r,t,n){return Ob(r,t,vb(n))}function Ib(r,t,n){return Ob(r,t,Tb(n))}function LC(r){return r.getDay()===new Date().getDay()}function Nb(r,t){t===void 0&&(t=rn.ISO_8601);var n=r.getDay();switch(t){case rn.ISLAMIC:case rn.HEBREW:return n===AC||n===B0;case rn.ISO_8601:case rn.GREGORY:return n===B0||n===SC;default:throw new Error("Unsupported calendar type.")}}var Ir="react-calendar__navigation";function kC(r){var t=r.activeStartDate,n=r.drillUp,i=r.formatMonthYear,l=i===void 0?Db:i,u=r.formatYear,h=u===void 0?Uf:u,m=r.locale,g=r.maxDate,y=r.minDate,_=r.navigationAriaLabel,b=_===void 0?"":_,w=r.navigationAriaLive,x=r.navigationLabel,D=r.next2AriaLabel,j=D===void 0?"":D,L=r.next2Label,G=L===void 0?"»":L,rt=r.nextAriaLabel,W=rt===void 0?"":rt,ot=r.nextLabel,ut=ot===void 0?"›":ot,pt=r.prev2AriaLabel,M=pt===void 0?"":pt,A=r.prev2Label,R=A===void 0?"«":A,I=r.prevAriaLabel,V=I===void 0?"":I,k=r.prevLabel,C=k===void 0?"‹":k,yt=r.setActiveStartDate,At=r.showDoubleView,Y=r.view,it=r.views,dt=it.indexOf(Y)>0,xt=Y!=="century",N=CC(Y,t),J=xt?OC(Y,t):void 0,lt=xb(Y,t),at=xt?IC(Y,t):void 0,mt=function(){if(N.getFullYear()<0)return!0;var ae=NC(Y,t);return y&&y>=ae}(),Ct=xt&&function(){if(J.getFullYear()<0)return!0;var ae=MC(Y,t);return y&&y>=ae}(),_t=g&&g<lt,ce=xt&&g&&g<at;function Ft(){yt(N,"prev")}function Ie(){yt(J,"prev2")}function Vn(){yt(lt,"next")}function wn(){yt(at,"next2")}function Pn(ae){var tr=function(){switch(Y){case"century":return PC(m,h,ae);case"decade":return Ib(m,h,ae);case"year":return h(m,ae);case"month":return l(m,ae);default:throw new Error("Invalid view: ".concat(Y,"."))}}();return x?x({date:ae,label:tr,locale:m||yb()||void 0,view:Y}):tr}function Jn(){var ae="".concat(Ir,"__label");return U.jsxs("button",{"aria-label":b,"aria-live":w,className:ae,disabled:!dt,onClick:n,style:{flexGrow:1},type:"button",children:[U.jsx("span",{className:"".concat(ae,"__labelText ").concat(ae,"__labelText--from"),children:Pn(t)}),At?U.jsxs(U.Fragment,{children:[U.jsx("span",{className:"".concat(ae,"__divider"),children:" – "}),U.jsx("span",{className:"".concat(ae,"__labelText ").concat(ae,"__labelText--to"),children:Pn(lt)})]}):null]})}return U.jsxs("div",{className:Ir,children:[R!==null&&xt?U.jsx("button",{"aria-label":M,className:"".concat(Ir,"__arrow ").concat(Ir,"__prev2-button"),disabled:Ct,onClick:Ie,type:"button",children:R}):null,C!==null&&U.jsx("button",{"aria-label":V,className:"".concat(Ir,"__arrow ").concat(Ir,"__prev-button"),disabled:mt,onClick:Ft,type:"button",children:C}),Jn(),ut!==null&&U.jsx("button",{"aria-label":W,className:"".concat(Ir,"__arrow ").concat(Ir,"__next-button"),disabled:_t,onClick:Vn,type:"button",children:ut}),G!==null&&xt?U.jsx("button",{"aria-label":j,className:"".concat(Ir,"__arrow ").concat(Ir,"__next2-button"),disabled:ce,onClick:wn,type:"button",children:G}):null]})}var al=function(){return al=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},al.apply(this,arguments)},UC=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]]);return n};function H0(r){return"".concat(r,"%")}function $g(r){var t=r.children,n=r.className,i=r.count,l=r.direction,u=r.offset,h=r.style,m=r.wrap,g=UC(r,["children","className","count","direction","offset","style","wrap"]);return U.jsx("div",al({className:n,style:al({display:"flex",flexDirection:l,flexWrap:m?"wrap":"nowrap"},h)},g,{children:q.Children.map(t,function(y,_){var b=u&&_===0?H0(100*u/i):null;return q.cloneElement(y,al(al({},y.props),{style:{flexBasis:H0(100/i),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:b,marginInlineStart:b,marginInlineEnd:0}}))})}))}function jC(r,t,n){return t&&t>r?t:n&&n<r?n:r}function Wo(r,t){return t[0]<=r&&t[1]>=r}function zC(r,t){return r[0]<=t[0]&&r[1]>=t[1]}function Mb(r,t){return Wo(r[0],t)||Wo(r[1],t)}function F0(r,t,n){var i=Mb(t,r),l=[];if(i){l.push(n);var u=Wo(r[0],t),h=Wo(r[1],t);u&&l.push("".concat(n,"Start")),h&&l.push("".concat(n,"End")),u&&h&&l.push("".concat(n,"BothEnds"))}return l}function BC(r){return Array.isArray(r)?r[0]!==null&&r[1]!==null:r!==null}function qC(r){if(!r)throw new Error("args is required");var t=r.value,n=r.date,i=r.hover,l="react-calendar__tile",u=[l];if(!n)return u;var h=new Date,m=function(){if(Array.isArray(n))return n;var x=r.dateType;if(!x)throw new Error("dateType is required when date is not an array of two dates");return q0(x,n)}();if(Wo(h,m)&&u.push("".concat(l,"--now")),!t||!BC(t))return u;var g=function(){if(Array.isArray(t))return t;var x=r.valueType;if(!x)throw new Error("valueType is required when value is not an array of two dates");return q0(x,t)}();zC(g,m)?u.push("".concat(l,"--active")):Mb(g,m)&&u.push("".concat(l,"--hasActive"));var y=F0(g,m,"".concat(l,"--range"));u.push.apply(u,y);var _=Array.isArray(t)?t:[t];if(i&&_.length===1){var b=i>g[0]?[g[0],i]:[i,g[0]],w=F0(b,m,"".concat(l,"--hover"));u.push.apply(u,w)}return u}function jf(r){for(var t=r.className,n=r.count,i=n===void 0?3:n,l=r.dateTransform,u=r.dateType,h=r.end,m=r.hover,g=r.offset,y=r.renderTile,_=r.start,b=r.step,w=b===void 0?1:b,x=r.value,D=r.valueType,j=[],L=_;L<=h;L+=w){var G=l(L);j.push(y({classes:qC({date:G,dateType:u,hover:m,value:x,valueType:D}),date:G}))}return U.jsx($g,{className:t,count:i,offset:g,wrap:!0,children:j})}function zf(r){var t=r.activeStartDate,n=r.children,i=r.classes,l=r.date,u=r.formatAbbr,h=r.locale,m=r.maxDate,g=r.maxDateTransform,y=r.minDate,_=r.minDateTransform,b=r.onClick,w=r.onMouseOver,x=r.style,D=r.tileClassName,j=r.tileContent,L=r.tileDisabled,G=r.view,rt=q.useMemo(function(){var ot={activeStartDate:t,date:l,view:G};return typeof D=="function"?D(ot):D},[t,l,D,G]),W=q.useMemo(function(){var ot={activeStartDate:t,date:l,view:G};return typeof j=="function"?j(ot):j},[t,l,j,G]);return U.jsxs("button",{className:Vf(i,rt),disabled:y&&_(y)>l||m&&g(m)<l||(L==null?void 0:L({activeStartDate:t,date:l,view:G})),onClick:b?function(ot){return b(l,ot)}:void 0,onFocus:w?function(){return w(l)}:void 0,onMouseOver:w?function(){return w(l)}:void 0,style:x,type:"button",children:[u?U.jsx("abbr",{"aria-label":u(h,l),children:n}):n,W]})}var Pm=function(){return Pm=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},Pm.apply(this,arguments)},HC=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]]);return n},Y0="react-calendar__century-view__decades__decade";function FC(r){var t=r.classes,n=t===void 0?[]:t,i=r.currentCentury,l=r.formatYear,u=l===void 0?Uf:l,h=HC(r,["classes","currentCentury","formatYear"]),m=h.date,g=h.locale,y=[];return n&&y.push.apply(y,n),y.push(Y0),wl(m).getFullYear()!==i&&y.push("".concat(Y0,"--neighboringCentury")),U.jsx(zf,Pm({},h,{classes:y,maxDateTransform:Lf,minDateTransform:hi,view:"century",children:Ib(g,u,m)}))}var Lm=function(){return Lm=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},Lm.apply(this,arguments)},G0=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]]);return n};function YC(r){var t=r.activeStartDate,n=r.hover,i=r.showNeighboringCentury,l=r.value,u=r.valueType,h=G0(r,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),m=RC(t),g=m+(i?119:99);return U.jsx(jf,{className:"react-calendar__century-view__decades",dateTransform:hi,dateType:"decade",end:g,hover:n,renderTile:function(y){var _=y.date,b=G0(y,["date"]);return U.jsx(FC,Lm({},h,b,{activeStartDate:t,currentCentury:m,date:_}),_.getTime())},start:m,step:10,value:l,valueType:u})}var km=function(){return km=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},km.apply(this,arguments)};function GC(r){function t(){return U.jsx(YC,km({},r))}return U.jsx("div",{className:"react-calendar__century-view",children:t()})}var Um=function(){return Um=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},Um.apply(this,arguments)},QC=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]]);return n},Q0="react-calendar__decade-view__years__year";function KC(r){var t=r.classes,n=t===void 0?[]:t,i=r.currentDecade,l=r.formatYear,u=l===void 0?Uf:l,h=QC(r,["classes","currentDecade","formatYear"]),m=h.date,g=h.locale,y=[];return n&&y.push.apply(y,n),y.push(Q0),hi(m).getFullYear()!==i&&y.push("".concat(Q0,"--neighboringDecade")),U.jsx(zf,Um({},h,{classes:y,maxDateTransform:kf,minDateTransform:Sl,view:"decade",children:u(g,m)}))}var jm=function(){return jm=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},jm.apply(this,arguments)},K0=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]]);return n};function XC(r){var t=r.activeStartDate,n=r.hover,i=r.showNeighboringDecade,l=r.value,u=r.valueType,h=K0(r,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),m=DC(t),g=m+(i?11:9);return U.jsx(jf,{className:"react-calendar__decade-view__years",dateTransform:Sl,dateType:"year",end:g,hover:n,renderTile:function(y){var _=y.date,b=K0(y,["date"]);return U.jsx(KC,jm({},h,b,{activeStartDate:t,currentDecade:m,date:_}),_.getTime())},start:m,value:l,valueType:u})}var zm=function(){return zm=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},zm.apply(this,arguments)};function $C(r){function t(){return U.jsx(XC,zm({},r))}return U.jsx("div",{className:"react-calendar__decade-view",children:t()})}var Bm=function(){return Bm=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},Bm.apply(this,arguments)},WC=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]]);return n},X0=function(r,t,n){if(n||arguments.length===2)for(var i=0,l=t.length,u;i<l;i++)(u||!(i in t))&&(u||(u=Array.prototype.slice.call(t,0,i)),u[i]=t[i]);return r.concat(u||Array.prototype.slice.call(t))},ZC="react-calendar__year-view__months__month";function JC(r){var t=r.classes,n=t===void 0?[]:t,i=r.formatMonth,l=i===void 0?TC:i,u=r.formatMonthYear,h=u===void 0?Db:u,m=WC(r,["classes","formatMonth","formatMonthYear"]),g=m.date,y=m.locale;return U.jsx(zf,Bm({},m,{classes:X0(X0([],n,!0),[ZC],!1),formatAbbr:h,maxDateTransform:uu,minDateTransform:as,view:"year",children:l(y,g)}))}var qm=function(){return qm=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},qm.apply(this,arguments)},$0=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]]);return n};function tO(r){var t=r.activeStartDate,n=r.hover,i=r.value,l=r.valueType,u=$0(r,["activeStartDate","hover","value","valueType"]),h=0,m=11,g=ge(t);return U.jsx(jf,{className:"react-calendar__year-view__months",dateTransform:function(y){var _=new Date;return _.setFullYear(g,y,1),as(_)},dateType:"month",end:m,hover:n,renderTile:function(y){var _=y.date,b=$0(y,["date"]);return U.jsx(JC,qm({},u,b,{activeStartDate:t,date:_}),_.getTime())},start:h,value:i,valueType:l})}var Hm=function(){return Hm=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},Hm.apply(this,arguments)};function eO(r){function t(){return U.jsx(tO,Hm({},r))}return U.jsx("div",{className:"react-calendar__year-view",children:t()})}var Fm=function(){return Fm=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},Fm.apply(this,arguments)},nO=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]]);return n},am="react-calendar__month-view__days__day";function rO(r){var t=r.calendarType,n=r.classes,i=n===void 0?[]:n,l=r.currentMonthIndex,u=r.formatDay,h=u===void 0?_C:u,m=r.formatLongDate,g=m===void 0?EC:m,y=nO(r,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),_=y.date,b=y.locale,w=[];return i&&w.push.apply(w,i),w.push(am),Nb(_,t)&&w.push("".concat(am,"--weekend")),_.getMonth()!==l&&w.push("".concat(am,"--neighboringMonth")),U.jsx(zf,Fm({},y,{classes:w,formatAbbr:g,maxDateTransform:Kg,minDateTransform:cu,view:"month",children:h(b,_)}))}var Ym=function(){return Ym=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},Ym.apply(this,arguments)},W0=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]]);return n};function aO(r){var t=r.activeStartDate,n=r.calendarType,i=r.hover,l=r.showFixedNumberOfWeeks,u=r.showNeighboringMonth,h=r.value,m=r.valueType,g=W0(r,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),y=ge(t),_=fi(t),b=l||u,w=$o(t,n),x=b?0:w,D=(b?-w:0)+1,j=function(){if(l)return D+6*7-1;var L=Rb(t);if(u){var G=new Date;G.setFullYear(y,_,L),G.setHours(0,0,0,0);var rt=7-$o(G,n)-1;return L+rt}return L}();return U.jsx(jf,{className:"react-calendar__month-view__days",count:7,dateTransform:function(L){var G=new Date;return G.setFullYear(y,_,L),cu(G)},dateType:"day",hover:i,end:j,renderTile:function(L){var G=L.date,rt=W0(L,["date"]);return U.jsx(rO,Ym({},g,rt,{activeStartDate:t,calendarType:n,currentMonthIndex:_,date:G}),G.getTime())},offset:x,start:D,value:h,valueType:m})}var Vb="react-calendar__month-view__weekdays",im="".concat(Vb,"__weekday");function iO(r){for(var t=r.calendarType,n=r.formatShortWeekday,i=n===void 0?bC:n,l=r.formatWeekday,u=l===void 0?wC:l,h=r.locale,m=r.onMouseLeave,g=new Date,y=as(g),_=ge(y),b=fi(y),w=[],x=1;x<=7;x+=1){var D=new Date(_,b,x-$o(y,t)),j=u(h,D);w.push(U.jsx("div",{className:Vf(im,LC(D)&&"".concat(im,"--current"),Nb(D,t)&&"".concat(im,"--weekend")),children:U.jsx("abbr",{"aria-label":j,title:j,children:i(h,D).replace(".","")})},x))}return U.jsx($g,{className:Vb,count:7,onFocus:m,onMouseOver:m,children:w})}var hf=function(){return hf=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},hf.apply(this,arguments)},Z0=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]]);return n},J0="react-calendar__tile";function sO(r){var t=r.onClickWeekNumber,n=r.weekNumber,i=U.jsx("span",{children:n});if(t){var l=r.date,u=r.onClickWeekNumber,h=r.weekNumber,m=Z0(r,["date","onClickWeekNumber","weekNumber"]);return U.jsx("button",hf({},m,{className:J0,onClick:function(g){return u(h,l,g)},type:"button",children:i}))}else{r.date,r.onClickWeekNumber,r.weekNumber;var m=Z0(r,["date","onClickWeekNumber","weekNumber"]);return U.jsx("div",hf({},m,{className:J0,children:i}))}}function lO(r){var t=r.activeStartDate,n=r.calendarType,i=r.onClickWeekNumber,l=r.onMouseLeave,u=r.showFixedNumberOfWeeks,h=function(){if(u)return 6;var y=Rb(t),_=$o(t,n),b=y-(7-_);return 1+Math.ceil(b/7)}(),m=function(){for(var y=ge(t),_=fi(t),b=Pf(t),w=[],x=0;x<h;x+=1)w.push(Vm(new Date(y,_,b+x*7),n));return w}(),g=m.map(function(y){return xC(y,n)});return U.jsx($g,{className:"react-calendar__month-view__weekNumbers",count:h,direction:"column",onFocus:l,onMouseOver:l,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:g.map(function(y,_){var b=m[_];if(!b)throw new Error("date is not defined");return U.jsx(sO,{date:b,onClickWeekNumber:i,weekNumber:y},y)})})}var Gm=function(){return Gm=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},Gm.apply(this,arguments)},oO=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]]);return n};function uO(r){if(r)for(var t=0,n=Object.entries(uC);t<n.length;t++){var i=n[t],l=i[0],u=i[1];if(u.includes(r))return l}return rn.ISO_8601}function cO(r){var t=r.activeStartDate,n=r.locale,i=r.onMouseLeave,l=r.showFixedNumberOfWeeks,u=r.calendarType,h=u===void 0?uO(n):u,m=r.formatShortWeekday,g=r.formatWeekday,y=r.onClickWeekNumber,_=r.showWeekNumbers,b=oO(r,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function w(){return U.jsx(iO,{calendarType:h,formatShortWeekday:m,formatWeekday:g,locale:n,onMouseLeave:i})}function x(){return _?U.jsx(lO,{activeStartDate:t,calendarType:h,onClickWeekNumber:y,onMouseLeave:i,showFixedNumberOfWeeks:l}):null}function D(){return U.jsx(aO,Gm({calendarType:h},b))}var j="react-calendar__month-view";return U.jsx("div",{className:Vf(j,_?"".concat(j,"--weekNumbers"):""),children:U.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[x(),U.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[w(),D()]})]})})}var il=function(){return il=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},il.apply(this,arguments)},Lc="react-calendar",Gc=["century","decade","year","month"],fO=["decade","year","month","day"],Wg=new Date;Wg.setFullYear(1,0,1);Wg.setHours(0,0,0,0);var hO=new Date(864e13);function Lo(r){return r instanceof Date?r:new Date(r)}function Pb(r,t){return Gc.slice(Gc.indexOf(r),Gc.indexOf(t)+1)}function dO(r,t,n){var i=Pb(t,n);return i.indexOf(r)!==-1}function Zg(r,t,n){return r&&dO(r,t,n)?r:n}function Lb(r){var t=Gc.indexOf(r);return fO[t]}function mO(r,t){var n=Array.isArray(r)?r[t]:r;if(!n)return null;var i=Lo(n);if(Number.isNaN(i.getTime()))throw new Error("Invalid date: ".concat(r));return i}function kb(r,t){var n=r.value,i=r.minDate,l=r.maxDate,u=r.maxDetail,h=mO(n,t);if(!h)return null;var m=Lb(u),g=function(){switch(t){case 0:return $i(m,h);case 1:return Cb(m,h);default:throw new Error("Invalid index value: ".concat(t))}}();return jC(g,i,l)}var Jg=function(r){return kb(r,0)},Ub=function(r){return kb(r,1)},gO=function(r){return[Jg,Ub].map(function(t){return t(r)})};function jb(r){var t=r.maxDate,n=r.maxDetail,i=r.minDate,l=r.minDetail,u=r.value,h=r.view,m=Zg(h,l,n),g=Jg({value:u,minDate:i,maxDate:t,maxDetail:n})||new Date;return $i(m,g)}function yO(r){var t=r.activeStartDate,n=r.defaultActiveStartDate,i=r.defaultValue,l=r.defaultView,u=r.maxDate,h=r.maxDetail,m=r.minDate,g=r.minDetail,y=r.value,_=r.view,b=Zg(_,g,h),w=t||n;return w?$i(b,w):jb({maxDate:u,maxDetail:h,minDate:m,minDetail:g,value:y||i,view:_||l})}function sm(r){return r&&(!Array.isArray(r)||r.length===1)}function kc(r,t){return r instanceof Date&&t instanceof Date&&r.getTime()===t.getTime()}var pO=q.forwardRef(function(t,n){var i=t.activeStartDate,l=t.allowPartialRange,u=t.calendarType,h=t.className,m=t.defaultActiveStartDate,g=t.defaultValue,y=t.defaultView,_=t.formatDay,b=t.formatLongDate,w=t.formatMonth,x=t.formatMonthYear,D=t.formatShortWeekday,j=t.formatWeekday,L=t.formatYear,G=t.goToRangeStartOnSelect,rt=G===void 0?!0:G,W=t.inputRef,ot=t.locale,ut=t.maxDate,pt=ut===void 0?hO:ut,M=t.maxDetail,A=M===void 0?"month":M,R=t.minDate,I=R===void 0?Wg:R,V=t.minDetail,k=V===void 0?"century":V,C=t.navigationAriaLabel,yt=t.navigationAriaLive,At=t.navigationLabel,Y=t.next2AriaLabel,it=t.next2Label,dt=t.nextAriaLabel,xt=t.nextLabel,N=t.onActiveStartDateChange,J=t.onChange,lt=t.onClickDay,at=t.onClickDecade,mt=t.onClickMonth,Ct=t.onClickWeekNumber,_t=t.onClickYear,ce=t.onDrillDown,Ft=t.onDrillUp,Ie=t.onViewChange,Vn=t.prev2AriaLabel,wn=t.prev2Label,Pn=t.prevAriaLabel,Jn=t.prevLabel,ae=t.returnValue,tr=ae===void 0?"start":ae,Ye=t.selectRange,Ge=t.showDoubleView,ss=t.showFixedNumberOfWeeks,Ta=t.showNavigation,ba=Ta===void 0?!0:Ta,Ur=t.showNeighboringCentury,Al=t.showNeighboringDecade,jr=t.showNeighboringMonth,di=jr===void 0?!0:jr,ls=t.showWeekNumbers,fe=t.tileClassName,Qt=t.tileContent,dn=t.tileDisabled,Se=t.value,mi=t.view,os=q.useState(m),zr=os[0],Ln=os[1],mr=q.useState(null),Sn=mr[0],Br=mr[1],gr=q.useState(Array.isArray(g)?g.map(function(St){return St!==null?Lo(St):null}):g!=null?Lo(g):null),qr=gr[0],gi=gr[1],wa=q.useState(y),er=wa[0],kn=wa[1],Ae=i||zr||yO({activeStartDate:i,defaultActiveStartDate:m,defaultValue:g,defaultView:y,maxDate:pt,maxDetail:A,minDate:I,minDetail:k,value:Se,view:mi}),oe=function(){var St=function(){return Ye&&sm(qr)?qr:Se!==void 0?Se:qr}();return St?Array.isArray(St)?St.map(function(Vt){return Vt!==null?Lo(Vt):null}):St!==null?Lo(St):null:null}(),yr=Lb(A),Yt=Zg(mi||er,k,A),Qe=Pb(k,A),pr=Ye?Sn:null,Sa=Qe.indexOf(Yt)<Qe.length-1,ie=Qe.indexOf(Yt)>0,ve=q.useCallback(function(St){var Vt=function(){switch(tr){case"start":return Jg;case"end":return Ub;case"range":return gO;default:throw new Error("Invalid returnValue.")}}();return Vt({maxDate:pt,maxDetail:A,minDate:I,value:St})},[pt,A,I,tr]),he=q.useCallback(function(St,Vt){Ln(St);var Ot={action:Vt,activeStartDate:St,value:oe,view:Yt};N&&!kc(Ae,St)&&N(Ot)},[Ae,N,oe,Yt]),Ke=q.useCallback(function(St,Vt){var Ot=function(){switch(Yt){case"century":return at;case"decade":return _t;case"year":return mt;case"month":return lt;default:throw new Error("Invalid view: ".concat(Yt,"."))}}();Ot&&Ot(St,Vt)},[lt,at,mt,_t,Yt]),Hr=q.useCallback(function(St,Vt){if(Sa){Ke(St,Vt);var Ot=Qe[Qe.indexOf(Yt)+1];if(!Ot)throw new Error("Attempted to drill down from the lowest view.");Ln(St),kn(Ot);var Xe={action:"drillDown",activeStartDate:St,value:oe,view:Ot};N&&!kc(Ae,St)&&N(Xe),Ie&&Yt!==Ot&&Ie(Xe),ce&&ce(Xe)}},[Ae,Sa,N,Ke,ce,Ie,oe,Yt,Qe]),yi=q.useCallback(function(){if(ie){var St=Qe[Qe.indexOf(Yt)-1];if(!St)throw new Error("Attempted to drill up from the highest view.");var Vt=$i(St,Ae);Ln(Vt),kn(St);var Ot={action:"drillUp",activeStartDate:Vt,value:oe,view:St};N&&!kc(Ae,Vt)&&N(Ot),Ie&&Yt!==St&&Ie(Ot),Ft&&Ft(Ot)}},[Ae,ie,N,Ft,Ie,oe,Yt,Qe]),Un=q.useCallback(function(St,Vt){var Ot=oe;Ke(St,Vt);var Xe=Ye&&!sm(Ot),Ue;if(Ye)if(Xe)Ue=$i(yr,St);else{if(!Ot)throw new Error("previousValue is required");if(Array.isArray(Ot))throw new Error("previousValue must not be an array");Ue=VC(yr,Ot,St)}else Ue=ve(St);var mn=!Ye||Xe||rt?jb({maxDate:pt,maxDetail:A,minDate:I,minDetail:k,value:Ue,view:Yt}):null;Vt.persist(),Ln(mn),gi(Ue);var ir={action:"onChange",activeStartDate:mn,value:Ue,view:Yt};if(N&&!kc(Ae,mn)&&N(ir),J)if(Ye){var cs=sm(Ue);if(!cs)J(Ue||null,Vt);else if(l){if(Array.isArray(Ue))throw new Error("value must not be an array");J([Ue||null,null],Vt)}}else J(Ue||null,Vt)},[Ae,l,ve,rt,pt,A,I,k,N,J,Ke,Ye,oe,yr,Yt]);function us(St){Br(St)}function nr(){Br(null)}q.useImperativeHandle(n,function(){return{activeStartDate:Ae,drillDown:Hr,drillUp:yi,onChange:Un,setActiveStartDate:he,value:oe,view:Yt}},[Ae,Hr,yi,Un,he,oe,Yt]);function rr(St){var Vt=St?xb(Yt,Ae):$i(Yt,Ae),Ot=Sa?Hr:Un,Xe={activeStartDate:Vt,hover:pr,locale:ot,maxDate:pt,minDate:I,onClick:Ot,onMouseOver:Ye?us:void 0,tileClassName:fe,tileContent:Qt,tileDisabled:dn,value:oe,valueType:yr};switch(Yt){case"century":return U.jsx(GC,il({formatYear:L,showNeighboringCentury:Ur},Xe));case"decade":return U.jsx($C,il({formatYear:L,showNeighboringDecade:Al},Xe));case"year":return U.jsx(eO,il({formatMonth:w,formatMonthYear:x},Xe));case"month":return U.jsx(cO,il({calendarType:u,formatDay:_,formatLongDate:b,formatShortWeekday:D,formatWeekday:j,onClickWeekNumber:Ct,onMouseLeave:Ye?nr:void 0,showFixedNumberOfWeeks:typeof ss<"u"?ss:Ge,showNeighboringMonth:di,showWeekNumbers:ls},Xe));default:throw new Error("Invalid view: ".concat(Yt,"."))}}function ar(){return ba?U.jsx(kC,{activeStartDate:Ae,drillUp:yi,formatMonthYear:x,formatYear:L,locale:ot,maxDate:pt,minDate:I,navigationAriaLabel:C,navigationAriaLive:yt,navigationLabel:At,next2AriaLabel:Y,next2Label:it,nextAriaLabel:dt,nextLabel:xt,prev2AriaLabel:Vn,prev2Label:wn,prevAriaLabel:Pn,prevLabel:Jn,setActiveStartDate:he,showDoubleView:Ge,view:Yt,views:Qe}):null}var jn=Array.isArray(oe)?oe:[oe];return U.jsxs("div",{className:Vf(Lc,Ye&&jn.length===1&&"".concat(Lc,"--selectRange"),Ge&&"".concat(Lc,"--doubleView"),h),ref:W,children:[ar(),U.jsxs("div",{className:"".concat(Lc,"__viewContainer"),onBlur:Ye?nr:void 0,onMouseLeave:Ye?nr:void 0,children:[rr(),Ge?rr(!0):null]})]})});const zb=6048e5,vO=864e5,tE=Symbol.for("constructDateFrom");function oi(r,t){return typeof r=="function"?r(t):r&&typeof r=="object"&&tE in r?r[tE](t):r instanceof Date?new r.constructor(t):new Date(t)}function dr(r,t){return oi(t||r,r)}let _O={};function Bf(){return _O}function Zo(r,t){var m,g,y,_;const n=Bf(),i=(t==null?void 0:t.weekStartsOn)??((g=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((_=(y=n.locale)==null?void 0:y.options)==null?void 0:_.weekStartsOn)??0,l=dr(r,t==null?void 0:t.in),u=l.getDay(),h=(u<i?7:0)+u-i;return l.setDate(l.getDate()-h),l.setHours(0,0,0,0),l}function df(r,t){return Zo(r,{...t,weekStartsOn:1})}function Bb(r,t){const n=dr(r,t==null?void 0:t.in),i=n.getFullYear(),l=oi(n,0);l.setFullYear(i+1,0,4),l.setHours(0,0,0,0);const u=df(l),h=oi(n,0);h.setFullYear(i,0,4),h.setHours(0,0,0,0);const m=df(h);return n.getTime()>=u.getTime()?i+1:n.getTime()>=m.getTime()?i:i-1}function eE(r){const t=dr(r),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+r-+n}function EO(r,...t){const n=oi.bind(null,t.find(i=>typeof i=="object"));return t.map(n)}function nE(r,t){const n=dr(r,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function TO(r,t,n){const[i,l]=EO(n==null?void 0:n.in,r,t),u=nE(i),h=nE(l),m=+u-eE(u),g=+h-eE(h);return Math.round((m-g)/vO)}function bO(r,t){const n=Bb(r,t),i=oi(r,0);return i.setFullYear(n,0,4),i.setHours(0,0,0,0),df(i)}function wO(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function SO(r){return!(!wO(r)&&typeof r!="number"||isNaN(+dr(r)))}function AO(r,t){const n=dr(r,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const RO={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},DO=(r,t,n)=>{let i;const l=RO[r];return typeof l=="string"?i=l:t===1?i=l.one:i=l.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function lm(r){return(t={})=>{const n=t.width?String(t.width):r.defaultWidth;return r.formats[n]||r.formats[r.defaultWidth]}}const xO={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},CO={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},OO={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},IO={date:lm({formats:xO,defaultWidth:"full"}),time:lm({formats:CO,defaultWidth:"full"}),dateTime:lm({formats:OO,defaultWidth:"full"})},NO={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},MO=(r,t,n,i)=>NO[r];function Co(r){return(t,n)=>{const i=n!=null&&n.context?String(n.context):"standalone";let l;if(i==="formatting"&&r.formattingValues){const h=r.defaultFormattingWidth||r.defaultWidth,m=n!=null&&n.width?String(n.width):h;l=r.formattingValues[m]||r.formattingValues[h]}else{const h=r.defaultWidth,m=n!=null&&n.width?String(n.width):r.defaultWidth;l=r.values[m]||r.values[h]}const u=r.argumentCallback?r.argumentCallback(t):t;return l[u]}}const VO={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},PO={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},LO={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},kO={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},UO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},jO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},zO=(r,t)=>{const n=Number(r),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},BO={ordinalNumber:zO,era:Co({values:VO,defaultWidth:"wide"}),quarter:Co({values:PO,defaultWidth:"wide",argumentCallback:r=>r-1}),month:Co({values:LO,defaultWidth:"wide"}),day:Co({values:kO,defaultWidth:"wide"}),dayPeriod:Co({values:UO,defaultWidth:"wide",formattingValues:jO,defaultFormattingWidth:"wide"})};function Oo(r){return(t,n={})=>{const i=n.width,l=i&&r.matchPatterns[i]||r.matchPatterns[r.defaultMatchWidth],u=t.match(l);if(!u)return null;const h=u[0],m=i&&r.parsePatterns[i]||r.parsePatterns[r.defaultParseWidth],g=Array.isArray(m)?HO(m,b=>b.test(h)):qO(m,b=>b.test(h));let y;y=r.valueCallback?r.valueCallback(g):g,y=n.valueCallback?n.valueCallback(y):y;const _=t.slice(h.length);return{value:y,rest:_}}}function qO(r,t){for(const n in r)if(Object.prototype.hasOwnProperty.call(r,n)&&t(r[n]))return n}function HO(r,t){for(let n=0;n<r.length;n++)if(t(r[n]))return n}function FO(r){return(t,n={})=>{const i=t.match(r.matchPattern);if(!i)return null;const l=i[0],u=t.match(r.parsePattern);if(!u)return null;let h=r.valueCallback?r.valueCallback(u[0]):u[0];h=n.valueCallback?n.valueCallback(h):h;const m=t.slice(l.length);return{value:h,rest:m}}}const YO=/^(\d+)(th|st|nd|rd)?/i,GO=/\d+/i,QO={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},KO={any:[/^b/i,/^(a|c)/i]},XO={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},$O={any:[/1/i,/2/i,/3/i,/4/i]},WO={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ZO={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},JO={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},tI={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},eI={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},nI={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},rI={ordinalNumber:FO({matchPattern:YO,parsePattern:GO,valueCallback:r=>parseInt(r,10)}),era:Oo({matchPatterns:QO,defaultMatchWidth:"wide",parsePatterns:KO,defaultParseWidth:"any"}),quarter:Oo({matchPatterns:XO,defaultMatchWidth:"wide",parsePatterns:$O,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Oo({matchPatterns:WO,defaultMatchWidth:"wide",parsePatterns:ZO,defaultParseWidth:"any"}),day:Oo({matchPatterns:JO,defaultMatchWidth:"wide",parsePatterns:tI,defaultParseWidth:"any"}),dayPeriod:Oo({matchPatterns:eI,defaultMatchWidth:"any",parsePatterns:nI,defaultParseWidth:"any"})},aI={code:"en-US",formatDistance:DO,formatLong:IO,formatRelative:MO,localize:BO,match:rI,options:{weekStartsOn:0,firstWeekContainsDate:1}};function iI(r,t){const n=dr(r,t==null?void 0:t.in);return TO(n,AO(n))+1}function sI(r,t){const n=dr(r,t==null?void 0:t.in),i=+df(n)-+bO(n);return Math.round(i/zb)+1}function qb(r,t){var _,b,w,x;const n=dr(r,t==null?void 0:t.in),i=n.getFullYear(),l=Bf(),u=(t==null?void 0:t.firstWeekContainsDate)??((b=(_=t==null?void 0:t.locale)==null?void 0:_.options)==null?void 0:b.firstWeekContainsDate)??l.firstWeekContainsDate??((x=(w=l.locale)==null?void 0:w.options)==null?void 0:x.firstWeekContainsDate)??1,h=oi((t==null?void 0:t.in)||r,0);h.setFullYear(i+1,0,u),h.setHours(0,0,0,0);const m=Zo(h,t),g=oi((t==null?void 0:t.in)||r,0);g.setFullYear(i,0,u),g.setHours(0,0,0,0);const y=Zo(g,t);return+n>=+m?i+1:+n>=+y?i:i-1}function lI(r,t){var m,g,y,_;const n=Bf(),i=(t==null?void 0:t.firstWeekContainsDate)??((g=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??n.firstWeekContainsDate??((_=(y=n.locale)==null?void 0:y.options)==null?void 0:_.firstWeekContainsDate)??1,l=qb(r,t),u=oi((t==null?void 0:t.in)||r,0);return u.setFullYear(l,0,i),u.setHours(0,0,0,0),Zo(u,t)}function oI(r,t){const n=dr(r,t==null?void 0:t.in),i=+Zo(n,t)-+lI(n,t);return Math.round(i/zb)+1}function Jt(r,t){const n=r<0?"-":"",i=Math.abs(r).toString().padStart(t,"0");return n+i}const $a={y(r,t){const n=r.getFullYear(),i=n>0?n:1-n;return Jt(t==="yy"?i%100:i,t.length)},M(r,t){const n=r.getMonth();return t==="M"?String(n+1):Jt(n+1,2)},d(r,t){return Jt(r.getDate(),t.length)},a(r,t){const n=r.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(r,t){return Jt(r.getHours()%12||12,t.length)},H(r,t){return Jt(r.getHours(),t.length)},m(r,t){return Jt(r.getMinutes(),t.length)},s(r,t){return Jt(r.getSeconds(),t.length)},S(r,t){const n=t.length,i=r.getMilliseconds(),l=Math.trunc(i*Math.pow(10,n-3));return Jt(l,t.length)}},Zs={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},rE={G:function(r,t,n){const i=r.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(r,t,n){if(t==="yo"){const i=r.getFullYear(),l=i>0?i:1-i;return n.ordinalNumber(l,{unit:"year"})}return $a.y(r,t)},Y:function(r,t,n,i){const l=qb(r,i),u=l>0?l:1-l;if(t==="YY"){const h=u%100;return Jt(h,2)}return t==="Yo"?n.ordinalNumber(u,{unit:"year"}):Jt(u,t.length)},R:function(r,t){const n=Bb(r);return Jt(n,t.length)},u:function(r,t){const n=r.getFullYear();return Jt(n,t.length)},Q:function(r,t,n){const i=Math.ceil((r.getMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return Jt(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(r,t,n){const i=Math.ceil((r.getMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return Jt(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(r,t,n){const i=r.getMonth();switch(t){case"M":case"MM":return $a.M(r,t);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(r,t,n){const i=r.getMonth();switch(t){case"L":return String(i+1);case"LL":return Jt(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(r,t,n,i){const l=oI(r,i);return t==="wo"?n.ordinalNumber(l,{unit:"week"}):Jt(l,t.length)},I:function(r,t,n){const i=sI(r);return t==="Io"?n.ordinalNumber(i,{unit:"week"}):Jt(i,t.length)},d:function(r,t,n){return t==="do"?n.ordinalNumber(r.getDate(),{unit:"date"}):$a.d(r,t)},D:function(r,t,n){const i=iI(r);return t==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):Jt(i,t.length)},E:function(r,t,n){const i=r.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(r,t,n,i){const l=r.getDay(),u=(l-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(u);case"ee":return Jt(u,2);case"eo":return n.ordinalNumber(u,{unit:"day"});case"eee":return n.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(l,{width:"short",context:"formatting"});case"eeee":default:return n.day(l,{width:"wide",context:"formatting"})}},c:function(r,t,n,i){const l=r.getDay(),u=(l-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(u);case"cc":return Jt(u,t.length);case"co":return n.ordinalNumber(u,{unit:"day"});case"ccc":return n.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(l,{width:"narrow",context:"standalone"});case"cccccc":return n.day(l,{width:"short",context:"standalone"});case"cccc":default:return n.day(l,{width:"wide",context:"standalone"})}},i:function(r,t,n){const i=r.getDay(),l=i===0?7:i;switch(t){case"i":return String(l);case"ii":return Jt(l,t.length);case"io":return n.ordinalNumber(l,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(r,t,n){const l=r.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(r,t,n){const i=r.getHours();let l;switch(i===12?l=Zs.noon:i===0?l=Zs.midnight:l=i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(r,t,n){const i=r.getHours();let l;switch(i>=17?l=Zs.evening:i>=12?l=Zs.afternoon:i>=4?l=Zs.morning:l=Zs.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(r,t,n){if(t==="ho"){let i=r.getHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return $a.h(r,t)},H:function(r,t,n){return t==="Ho"?n.ordinalNumber(r.getHours(),{unit:"hour"}):$a.H(r,t)},K:function(r,t,n){const i=r.getHours()%12;return t==="Ko"?n.ordinalNumber(i,{unit:"hour"}):Jt(i,t.length)},k:function(r,t,n){let i=r.getHours();return i===0&&(i=24),t==="ko"?n.ordinalNumber(i,{unit:"hour"}):Jt(i,t.length)},m:function(r,t,n){return t==="mo"?n.ordinalNumber(r.getMinutes(),{unit:"minute"}):$a.m(r,t)},s:function(r,t,n){return t==="so"?n.ordinalNumber(r.getSeconds(),{unit:"second"}):$a.s(r,t)},S:function(r,t){return $a.S(r,t)},X:function(r,t,n){const i=r.getTimezoneOffset();if(i===0)return"Z";switch(t){case"X":return iE(i);case"XXXX":case"XX":return Qi(i);case"XXXXX":case"XXX":default:return Qi(i,":")}},x:function(r,t,n){const i=r.getTimezoneOffset();switch(t){case"x":return iE(i);case"xxxx":case"xx":return Qi(i);case"xxxxx":case"xxx":default:return Qi(i,":")}},O:function(r,t,n){const i=r.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+aE(i,":");case"OOOO":default:return"GMT"+Qi(i,":")}},z:function(r,t,n){const i=r.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+aE(i,":");case"zzzz":default:return"GMT"+Qi(i,":")}},t:function(r,t,n){const i=Math.trunc(+r/1e3);return Jt(i,t.length)},T:function(r,t,n){return Jt(+r,t.length)}};function aE(r,t=""){const n=r>0?"-":"+",i=Math.abs(r),l=Math.trunc(i/60),u=i%60;return u===0?n+String(l):n+String(l)+t+Jt(u,2)}function iE(r,t){return r%60===0?(r>0?"-":"+")+Jt(Math.abs(r)/60,2):Qi(r,t)}function Qi(r,t=""){const n=r>0?"-":"+",i=Math.abs(r),l=Jt(Math.trunc(i/60),2),u=Jt(i%60,2);return n+l+t+u}const sE=(r,t)=>{switch(r){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Hb=(r,t)=>{switch(r){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},uI=(r,t)=>{const n=r.match(/(P+)(p+)?/)||[],i=n[1],l=n[2];if(!l)return sE(r,t);let u;switch(i){case"P":u=t.dateTime({width:"short"});break;case"PP":u=t.dateTime({width:"medium"});break;case"PPP":u=t.dateTime({width:"long"});break;case"PPPP":default:u=t.dateTime({width:"full"});break}return u.replace("{{date}}",sE(i,t)).replace("{{time}}",Hb(l,t))},cI={p:Hb,P:uI},fI=/^D+$/,hI=/^Y+$/,dI=["D","DD","YY","YYYY"];function mI(r){return fI.test(r)}function gI(r){return hI.test(r)}function yI(r,t,n){const i=pI(r,t,n);if(console.warn(i),dI.includes(r))throw new RangeError(i)}function pI(r,t,n){const i=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${t}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const vI=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,_I=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,EI=/^'([^]*?)'?$/,TI=/''/g,bI=/[a-zA-Z]/;function lE(r,t,n){var _,b,w,x;const i=Bf(),l=i.locale??aI,u=i.firstWeekContainsDate??((b=(_=i.locale)==null?void 0:_.options)==null?void 0:b.firstWeekContainsDate)??1,h=i.weekStartsOn??((x=(w=i.locale)==null?void 0:w.options)==null?void 0:x.weekStartsOn)??0,m=dr(r,n==null?void 0:n.in);if(!SO(m))throw new RangeError("Invalid time value");let g=t.match(_I).map(D=>{const j=D[0];if(j==="p"||j==="P"){const L=cI[j];return L(D,l.formatLong)}return D}).join("").match(vI).map(D=>{if(D==="''")return{isToken:!1,value:"'"};const j=D[0];if(j==="'")return{isToken:!1,value:wI(D)};if(rE[j])return{isToken:!0,value:D};if(j.match(bI))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return{isToken:!1,value:D}});l.localize.preprocessor&&(g=l.localize.preprocessor(m,g));const y={firstWeekContainsDate:u,weekStartsOn:h,locale:l};return g.map(D=>{if(!D.isToken)return D.value;const j=D.value;(gI(j)||mI(j))&&yI(j,t,String(r));const L=rE[j[0]];return L(m,j,l.localize,y)}).join("")}function wI(r){const t=r.match(EI);return t?t[1].replace(TI,"'"):r}function oE(r,t,n,i=[]){const l={일:0,월:1,화:2,수:3,목:4,금:5,토:6};let u=[],h=new Date(r);for(;u.length<n;){const m=Object.keys(l).find(y=>l[y]===h.getDay()),g=h.toISOString().slice(0,10);t.includes(m)&&!i.includes(g)&&u.push({date:g,session:u.length+1}),h.setDate(h.getDate()+1)}return u}function SI(){const r=localStorage.getItem("studentId"),[t,n]=q.useState(null),[i,l]=q.useState({}),[u,h]=q.useState([]),[m,g]=q.useState([]),[y,_]=q.useState([]);return q.useEffect(()=>{if(!r)return;const b=rl(Xi(fn,"students",r),w=>{if(w.exists()){const x=w.data();n({id:w.id,...x})}});return(async()=>{const w=await ol(ma(fn,"attendance")),x={};w.docs.forEach(D=>{x[D.id]=D.data()}),l(x)})(),(async()=>{const w=await ol(ma(fn,"makeups"));h(w.docs.map(x=>({id:x.id,...x.data()})))})(),(async()=>{const w=await ol(ma(fn,"holidays"));g(w.docs.map(x=>x.data().date))})(),()=>b()},[r]),q.useEffect(()=>{(async()=>{if(!t)return;const w=t.schedules.map(yt=>yt.day),x=w.length*4,D=x*10,j=[...m];let L=oE(t.startDate,w,D*2,j);const G=new Date(t.startDate).getDay();w.includes(G)&&(!L.length||L[0].date!==t.startDate)?(console.log(`✅ 첫날(${t.startDate})이 요일에 맞아서 추가됨`),L.unshift({date:t.startDate})):console.log(`ℹ️ 첫날(${t.startDate})은 이미 포함됨 or 요일 안 맞음`);const ot=L.filter(yt=>!j.includes(yt.date)).map((yt,At)=>{var xt;const Y=(xt=i==null?void 0:i[yt.date])==null?void 0:xt[t.name];let it=(Y==null?void 0:Y.status)||"미정",dt=(Y==null?void 0:Y.time)||"";return{date:yt.date,status:it,time:dt,originalIndex:At}}),ut=u.filter(yt=>yt.name===t.name),pt=ut.filter(yt=>yt.type==="이월"),M=ut.filter(yt=>yt.type==="보강"),A=[];for(const yt of pt){const At=ot.find(Y=>Y.date===yt.sourceDate);At&&(At.status="이월"),yt.date&&A.push({date:yt.date,status:"미정",time:"",originalIndex:-1})}for(const yt of M)yt.date&&!ot.find(At=>At.date===yt.date&&At.status==="보강")&&A.push({date:yt.date,status:"보강",time:"",originalIndex:-1});let R=[...ot,...A].sort((yt,At)=>yt.date.localeCompare(At.date));const I=new Set(R.map(yt=>yt.date+"-"+yt.originalIndex));let V=R.length>0?R.at(-1).date:t.startDate;for(;!(R.filter(Y=>Y.status!=="이월").length>=D);){const At=oE(V,w,1,j).find(Y=>{const it=Y.date+"-"+Y.originalIndex;return!I.has(it)});if(!At)break;V=At.date,I.add(At.date+"-"+At.originalIndex),R.push({date:At.date,status:"미정",time:"",originalIndex:At.originalIndex})}const k=[];let C=1;for(let yt of R)k.push({...yt,session:yt.status==="이월"?"X":C++}),C>x&&(C=1);_(k)})()},[t,i,u,m]),t?U.jsxs("div",{style:{maxWidth:600,margin:"40px auto",textAlign:"center",fontSize:"18px"},children:[U.jsx("h1",{style:{fontSize:"24px"},children:"📅 출석 확인 "}),U.jsx(pO,{style:{display:"block",margin:"0 auto"},tileContent:({date:b,view:w})=>{if(w!=="month")return null;const x=lE(b,"yyyy-MM-dd"),D=y.find(rt=>rt.date===x);let j="";(D==null?void 0:D.status)==="보강"?j="yellowgreen":(D==null?void 0:D.status)==="이월"?j="skyblue":["출석","onTime"].includes(D==null?void 0:D.status)?j="green":["지각","tardy"].includes(D==null?void 0:D.status)?j="#ff9800":(D==null?void 0:D.status)==="결석"?j="#f44336":m.includes(x)&&(j="red");const L=new Date,G=b.toDateString()===L.toDateString();return D?U.jsxs("div",{style:{background:j||(G?"yellow":""),color:"black",borderRadius:4,padding:2,fontSize:12,textAlign:"center"},children:[U.jsx("div",{children:`${D.session}회차`}),D.time&&U.jsx("div",{style:{fontSize:10},children:D.time})]}):G?U.jsx("div",{style:{background:"yellow",borderRadius:4,padding:2,fontSize:12,textAlign:"center"}}):null},onClickDay:b=>{const w=lE(b,"yyyy-MM-dd"),x=y.find(D=>D.date===w);alert(x?`📅 ${w} → ${x.session}회차 (${x.status})`:`📅 ${w} → 출석 기록 없음`)}}),U.jsxs("p",{style:{marginTop:12,fontSize:14},children:["• 색상 설명:",U.jsx("br",{}),"출석(초록), 지각(주황), 결석(빨강), 보강(연두), 이월(하늘), 오늘(노랑)"]})]}):U.jsx("p",{children:"로딩 중…"})}function AI(){var ut,pt,M;const r=localStorage.getItem("studentId"),[t,n]=q.useState(null),[i,l]=q.useState([]),[u,h]=q.useState(""),[m,g]=q.useState(!1),[y,_]=q.useState(0),[b,w]=q.useState({}),[x,D]=q.useState({});q.useEffect(()=>{if(!r)return;const A=rl(Xi(fn,"students",r),R=>{R.exists()?(console.log("학생 정보 가져옴:",R.data()),n(R.data())):console.log("학생 정보 없음")});return()=>A()},[r]),q.useEffect(()=>{if(!r)return;const A=rl(ma(fn,"payments"),R=>{const I={};R.forEach(V=>{const k=V.data();k.studentId===r&&(I[k.routineNumber]=k.paymentMethod)}),w(I)});return()=>A()},[r]),q.useEffect(()=>{if(!r)return;const A=rl(ma(fn,"payment_completed"),R=>{const I={};R.forEach(V=>{const k=V.data();k.studentId===r&&(I[String(k.routineNumber)]=k.paymentComplete)}),D(I)});return()=>A()},[r]),q.useEffect(()=>{if(!r)return;const A=rl(Xi(fn,"routines",r),R=>{if(R.exists()){const I=R.data();console.log("루틴 데이터:",I);const V=I.lessons||[];console.log("lessons 배열:",V),l(V);const k=new Date().toISOString().slice(0,10),C={};V.forEach(Y=>{const it=Y.routineNumber||1;C[it]||(C[it]=[]),C[it].push(Y)});const At=Object.values(C).sort((Y,it)=>Y[0].routineNumber-it[0].routineNumber).findIndex(Y=>Y.some(it=>it.date===k));At!==-1?_(At):(console.log("루틴 문서 없음!"),_(0))}});return()=>{unsubStudent(),A()}},[r]),q.useEffect(()=>{console.log("sessions 변경됨:",i)},[i]);const j=async(A,R)=>{if(w(I=>({...I,[R]:A})),r&&R)try{await zx(Xi(fn,"payments",`${r}_routine_${R}`),{studentId:r,routineNumber:R,paymentMethod:A,paymentComplete:!1,updatedAt:new Date().toISOString()},{merge:!0}),console.log("✅ 결제방법 저장 완료 (루틴별): ",A,"(루틴:",R,")")}catch(I){console.error("❌ 결제방법 저장 오류: ",I)}};if(!t)return U.jsx("p",{children:"로딩 중…"});(ut=t.schedules)!=null&&ut.length&&t.schedules.length*4;const L={};i.forEach(A=>{const R=A.routineNumber||1;L[R]||(L[R]=[]),L[R].push(A)});const G=Object.values(L).sort((A,R)=>A[0].routineNumber-R[0].routineNumber),rt=G[y]||[],W=rt.length>0?rt[0].routineNumber:y+1,ot=(M=(pt=G[y+1])==null?void 0:pt[0])==null?void 0:M.date;return U.jsxs("div",{style:{maxWidth:800,margin:"0 auto",padding:16,textAlign:"center"},children:[U.jsxs("h1",{style:{marginBottom:16,fontSize:"20px"},children:["👀 ",t.name,"님의 수업 루틴 ",W??y+1]}),U.jsx("p",{style:{fontSize:18,marginBottom:16},children:x[String(W)]?"✅ 결제완료 되었습니다.":"⚠️ 아직 결제전입니다. 수업시작일 전에 결제 부탁드립니다."}),U.jsx("p",{style:{fontSize:16,marginBottom:32},children:ot?U.jsxs(U.Fragment,{children:["➡️ 다음수업시작일: ",ot,U.jsx("br",{}),"다음을 눌러 결제방법을 선택해 주세요. (수업시작일 전에 결제 부탁드립니다.)"]}):"다음 루틴 시작일 정보를 불러오지 못했습니다."}),U.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,justifyContent:"center",marginBottom:24},children:[U.jsx("h3",{style:{fontWeight:"bold",margin:0,fontSize:16},children:"결제방법선택"}),U.jsx("button",{className:"px-2 py-1 text-xs",onClick:()=>j("계좌이체",W),style:{padding:"4px 8px",background:"#4caf50",color:"white",borderRadius:4,fontSize:"12px",minWidth:"80px"},children:"계좌이체"}),U.jsx("button",{className:"px-2 py-1 text-xs",onClick:()=>j("결제선생",W),style:{padding:"4px 8px",background:"#2196f3",color:"white",borderRadius:4,fontSize:"12px",minWidth:"80px"},children:"결제선생"}),U.jsx("button",{className:"px-2 py-1 text-xs",onClick:()=>j("카드",W),style:{padding:"4px 8px",background:"#f44336",color:"white",borderRadius:4,fontSize:"12px",minWidth:"80px"},children:"카드"})]}),U.jsxs("p",{style:{fontSize:16,marginBottom:16},children:["✅ 현재 선택된 결제방법: ",b[W]||"없음",b[W]==="카드"&&U.jsx("span",{style:{display:"block",marginTop:8,fontSize:14,color:"#555"},children:"➡️ 마지막 수업일이나 다음 수업시작일 전에 보내주세요"}),b[W]==="결제선생"&&U.jsx("span",{style:{display:"block",marginTop:8,fontSize:14,color:"#555"},children:"➡️ 수업시작일 5일 전 보내드리겠습니다."}),b[W]==="계좌이체"&&U.jsx("span",{style:{display:"block",marginTop:8,fontSize:14,color:"#555"},children:"➡️ 3333-31-6107963 카카오뱅크 *교재비계좌와 다릅니다)"})]}),U.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:24},children:[U.jsx("button",{onClick:()=>_(A=>Math.max(A-1,0)),disabled:y===0,style:{padding:"8px 16px",borderRadius:4,background:y===0?"#ccc":"#1565c0",color:"white",border:"none",cursor:y===0?"default":"pointer"},children:"이전"}),U.jsx("button",{onClick:()=>_(A=>Math.min(A+1,G.length-1)),disabled:y>=G.length-1,style:{padding:"8px 16px",borderRadius:4,background:y>=G.length-1?"#ccc":"#1565c0",color:"white",border:"none",cursor:y>=G.length-1?"default":"pointer"},children:"다음"})]}),U.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:16},children:[U.jsx("thead",{children:U.jsxs("tr",{children:[U.jsx("th",{style:{border:"1px solid #ccc",padding:8},children:"회차"}),U.jsx("th",{style:{border:"1px solid #ccc",padding:8},children:"날짜"}),U.jsx("th",{style:{border:"1px solid #ccc",padding:8},children:"상태"}),U.jsx("th",{style:{border:"1px solid #ccc",padding:8},children:"시간"})]})}),U.jsxs("tbody",{children:[rt.map((A,R)=>U.jsxs("tr",{children:[U.jsx("td",{style:{border:"1px solid #ccc",padding:8,textAlign:"center"},children:A.session}),U.jsx("td",{style:{border:"1px solid #ccc",padding:8,textAlign:"center"},children:A.makeupDate?U.jsxs("div",{children:[U.jsx("s",{children:A.date})," ➔ ",U.jsx("span",{children:A.makeupDate})]}):A.date}),U.jsx("td",{style:{border:"1px solid #ccc",padding:8,textAlign:"center"},children:A.status}),U.jsx("td",{style:{border:"1px solid #ccc",padding:8,textAlign:"center"},children:A.time||"-"})]},R)),rt.length===0&&U.jsx("tr",{children:U.jsx("td",{colSpan:4,style:{textAlign:"center",padding:16,color:"#888"},children:"루틴 데이터가 없습니다."})})]})]})]})}function RI({children:r,...t}){return U.jsx("table",{...t,style:{width:"100%",borderCollapse:"collapse"},children:r})}function DI({children:r,...t}){return U.jsx("thead",{...t,children:r})}function xI({children:r,...t}){return U.jsx("tbody",{...t,children:r})}function uE({children:r,...t}){return U.jsx("tr",{...t,children:r})}function cE({children:r,...t}){return U.jsx("th",{...t,style:{border:"1px solid #ccc",padding:8,textAlign:"center",background:"#f5f5f5"},children:r})}function fE({children:r,...t}){return U.jsx("td",{...t,style:{border:"1px solid #ccc",padding:8,textAlign:"center"},children:r})}function CI(){const[r,t]=q.useState([]);return q.useEffect(()=>{const n=rl(ma(fn,"students"),i=>{const l=i.docs.map(u=>({id:u.id,...u.data()}));t(l)});return()=>n()},[]),U.jsxs("div",{children:[U.jsx("h1",{style:{fontSize:"24px"},children:"📖 포인트 관리 페이지 📖"}),U.jsxs(RI,{children:[U.jsx(DI,{children:U.jsxs(uE,{children:[U.jsx(cE,{children:"학생 이름"}),r.length>0&&Object.keys(r[0].points||{}).map(n=>U.jsx(cE,{children:n},n))]})}),U.jsx(xI,{children:r.map(n=>U.jsxs(uE,{children:[U.jsx(fE,{children:n.name}),(n.points?Object.entries(n.points):[]).map(([i,l])=>U.jsx(fE,{children:l},i))]},n.id))})]})]})}function OI(){const[r,t]=q.useState([]),[n,i]=q.useState(null),[l,u]=q.useState({});q.useEffect(()=>{(async()=>{const m=await ol(ma(fn,"notices"));t(m.docs.map(g=>({id:g.id,title:g.data().title,date:g.data().date})))})()},[]);const h=async m=>{if(n===m){i(null);return}if(!l[m]){const g=await fb(Xi(fn,"notices",m));g.exists()&&u(y=>({...y,[m]:g.data().content}))}i(m)};return U.jsxs("div",{style:{maxWidth:600,margin:"0 auto",padding:16},children:[U.jsx("h1",{style:{fontSize:"24px"},children:"📣 공지사항 📣"}),U.jsxs("ul",{style:{listStyle:"none",padding:0},children:[r.map(m=>U.jsxs("li",{style:{margin:"8px 0",borderBottom:"1px solid #ccc",paddingBottom:8},children:[U.jsxs("div",{onClick:()=>h(m.id),style:{cursor:"pointer",fontWeight:"bold"},children:[m.title," (",m.date,")"]}),n===m.id&&U.jsx("div",{style:{marginTop:8,whiteSpace:"pre-wrap"},children:l[m.id]||"불러오는 중..."})]},m.id)),r.length===0&&U.jsx("p",{children:"등록된 공지사항이 없습니다."})]})]})}function II(){const[r,t]=q.useState([]);return q.useEffect(()=>{(async()=>{const n=await ol(ma(fn,"holidays"));t(n.docs.map(i=>({id:i.id,...i.data()})))})()},[]),U.jsxs("div",{style:{maxWidth:400,margin:"0 auto",padding:16},children:[U.jsx("h1",{style:{fontSize:"24px"},children:"😍 휴일 목록 🤩 "}),U.jsxs("ul",{children:[r.map(n=>U.jsxs("li",{style:{margin:"4px 0"},children:[n.name," — ",U.jsx("span",{style:{color:"red"},children:n.date})," "]},n.id)),r.length===0&&U.jsx("p",{children:"등록된 휴일이 없습니다."})]})]})}function NI(){const{id:r}=tA(),[t,n]=q.useState(null);return q.useEffect(()=>{(async()=>{const i=await fb(Xi(fn,"notices",r));i.exists()&&n({id:i.id,...i.data()})})()},[r]),t?U.jsxs("div",{style:{maxWidth:600,margin:"0 auto",padding:16},children:[U.jsx("h1",{children:t.title}),U.jsxs("p",{children:[U.jsx("strong",{children:"날짜:"})," ",t.date]}),U.jsx("div",{style:{whiteSpace:"pre-wrap",marginTop:12},children:t.content}),U.jsx("p",{style:{marginTop:24},children:U.jsx(ng,{to:"/notices",children:"← 목록으로 돌아가기"})})]}):U.jsx("p",{children:"공지사항을 불러오는 중…"})}function MI(){return U.jsx(jA,{children:U.jsx(VI,{})})}function VI(){const[r,t]=q.useState(!!localStorage.getItem("studentId")),[n,i]=q.useState(!1),[l,u]=q.useState(""),h=_a();q.useEffect(()=>{const g=()=>{t(!!localStorage.getItem("studentId"))};return window.addEventListener("storage",g),()=>{window.removeEventListener("storage",g)}},[]),q.useEffect(()=>{t(!!localStorage.getItem("studentId"))},[h]);async function m(){const g=localStorage.getItem("studentId");if(!g||l.length!==4){alert("PIN은 4자리 숫자로 입력해야 합니다.");return}try{await Bx(Xi(fn,"students",g),{pin:l}),alert("PIN이 성공적으로 변경되었습니다."),i(!1),u("")}catch(y){console.error(y),alert("PIN 변경 중 오류가 발생했습니다.")}}return U.jsxs("div",{children:[r&&U.jsxs("nav",{style:{position:"sticky",top:0,backgroundColor:"#fff",padding:"8px 0",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",zIndex:1e3,textAlign:"center"},children:[U.jsx(Yi,{to:"/attendance",style:{marginRight:10},children:"달력/출석"}),U.jsx(Yi,{to:"/payment",style:{marginRight:10},children:"수업/결제"}),U.jsx(Yi,{to:"/points",style:{marginRight:10},children:"포인트"}),U.jsx(Yi,{to:"/notices",style:{marginRight:10},children:"공지사항"}),U.jsx(Yi,{to:"/holidays",style:{marginRight:10},children:"휴일"}),["/attendance","/payment","/points","/notices","/holidays"].map((g,y)=>U.jsx(Yi,{to:g,style:({isActive:_})=>({margin:"0 8px",padding:"6px 12px",borderRadius:4,textDecoration:"none",fontWeight:_?"bold":"normal",color:_?"#fff":"#333",backgroundColor:_?"#007bff":"transparent"}),children:{"/attendance":"달력/출석","/payment":"수업/결제","/points":"포인트","/notices":"공지사항","/holidays":"휴일"}[g]},g)),U.jsx("button",{onClick:()=>i(!0),style:{marginLeft:20,padding:"6px 12px",border:"none",borderRadius:4,backgroundColor:"#f0f0f0",cursor:"pointer"},children:"PIN 변경"}),U.jsx("button",{onClick:()=>{localStorage.clear(),t(!1),window.location.hash="#/login"},style:{marginLeft:8,padding:"6px 12px",border:"none",borderRadius:4,backgroundColor:"#f0f0f0",cursor:"pointer"},children:"로그아웃"}),n&&U.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center"},children:U.jsxs("div",{style:{background:"#fff",padding:20,borderRadius:8,width:300},children:[U.jsx("h2",{children:"PIN 변경"}),U.jsx("input",{type:"text",maxLength:4,value:l,onChange:g=>u(g.target.value.replace(/\D/g,"")),placeholder:"새 PIN (4자리)",style:{width:"100%",padding:8,margin:"12px 0"}}),U.jsxs("div",{style:{textAlign:"right"},children:[U.jsx("button",{onClick:()=>i(!1),style:{marginRight:8},children:"취소"}),U.jsx("button",{onClick:m,children:"변경"})]})]})})]}),U.jsxs(gA,{children:[U.jsx(fa,{path:"/login",element:U.jsx(Fx,{onLoginSuccess:()=>t(!0)})}),U.jsx(fa,{path:"/",element:r?U.jsx(Xa,{to:"/notices",replace:!0}):U.jsx(Xa,{to:"/login",replace:!0})}),U.jsx(fa,{path:"/attendance",element:r?U.jsx(SI,{}):U.jsx(Xa,{to:"/login",replace:!0})}),U.jsx(fa,{path:"/payment",element:r?U.jsx(AI,{}):U.jsx(Xa,{to:"/login",replace:!0})}),U.jsx(fa,{path:"/points",element:r?U.jsx(CI,{}):U.jsx(Xa,{to:"/login",replace:!0})}),U.jsx(fa,{path:"/notices",element:r?U.jsx(OI,{}):U.jsx(Xa,{to:"/login",replace:!0})}),U.jsx(fa,{path:"/notices/:id",element:r?U.jsx(NI,{}):U.jsx(Xa,{to:"/login",replace:!0})}),U.jsx(fa,{path:"/holidays",element:r?U.jsx(II,{}):U.jsx(Xa,{to:"/login",replace:!0})})]})]})}SS.createRoot(document.getElementById("root")).render(U.jsx(q.StrictMode,{children:U.jsx(MI,{})}));
