(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function e(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=e(s);fetch(s.href,o)}})();(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function e(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=e(s);fetch(s.href,o)}})();function SE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var fb={exports:{}},_l={};/**
* @license React
* react-jsx-runtime.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var pb;function kE(){if(pb)return _l;pb=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return _l.Fragment=e,_l.jsx=n,_l.jsxs=n,_l}var mb;function EE(){return mb||(mb=1,fb.exports=kE()),fb.exports}var _=EE(),gb={exports:{}},Ne={};/**
* @license React
* react.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var yb;function xE(){if(yb)return Ne;yb=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.iterator;function k(L){return L===null||typeof L!="object"?null:(L=S&&L[S]||L["@@iterator"],typeof L=="function"?L:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,R={};function z(L,te,oe){this.props=L,this.context=te,this.refs=R,this.updater=oe||D}z.prototype.isReactComponent={},z.prototype.setState=function(L,te){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,te,"setState")},z.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function K(){}K.prototype=z.prototype;function X(L,te,oe){this.props=L,this.context=te,this.refs=R,this.updater=oe||D}var ae=X.prototype=new K;ae.constructor=X,T(ae,z.prototype),ae.isPureReactComponent=!0;var ue=Array.isArray,ce={H:null,A:null,T:null,S:null,V:null},se=Object.prototype.hasOwnProperty;function P(L,te,oe,re,me,Te){return oe=Te.ref,{$$typeof:r,type:L,key:te,ref:oe!==void 0?oe:null,props:Te}}function C(L,te){return P(L.type,te,void 0,void 0,void 0,L.props)}function N(L){return typeof L=="object"&&L!==null&&L.$$typeof===r}function M(L){var te={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(oe){return te[oe]})}var I=/\/+/g;function j(L,te){return typeof L=="object"&&L!==null&&L.key!=null?M(""+L.key):te.toString(36)}function A(){}function Ye(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(A,A):(L.status="pending",L.then(function(te){L.status==="pending"&&(L.status="fulfilled",L.value=te)},function(te){L.status==="pending"&&(L.status="rejected",L.reason=te)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function et(L,te,oe,re,me){var Te=typeof L;(Te==="undefined"||Te==="boolean")&&(L=null);var ve=!1;if(L===null)ve=!0;else switch(Te){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(L.$$typeof){case r:case e:ve=!0;break;case v:return ve=L._init,et(ve(L._payload),te,oe,re,me)}}if(ve)return me=me(L),ve=re===""?"."+j(L,0):re,ue(me)?(oe="",ve!=null&&(oe=ve.replace(I,"$&/")+"/"),et(me,te,oe,"",function(vn){return vn})):me!=null&&(N(me)&&(me=C(me,oe+(me.key==null||L&&L.key===me.key?"":(""+me.key).replace(I,"$&/")+"/")+ve)),te.push(me)),1;ve=0;var ht=re===""?".":re+":";if(ue(L))for(var Re=0;Re<L.length;Re++)re=L[Re],Te=ht+j(re,Re),ve+=et(re,te,oe,Te,me);else if(Re=k(L),typeof Re=="function")for(L=Re.call(L),Re=0;!(re=L.next()).done;)re=re.value,Te=ht+j(re,Re++),ve+=et(re,te,oe,Te,me);else if(Te==="object"){if(typeof L.then=="function")return et(Ye(L),te,oe,re,me);throw te=String(L),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return ve}function H(L,te,oe){if(L==null)return L;var re=[],me=0;return et(L,re,"","",function(Te){return te.call(oe,Te,me++)}),re}function le(L){if(L._status===-1){var te=L._result;te=te(),te.then(function(oe){(L._status===0||L._status===-1)&&(L._status=1,L._result=oe)},function(oe){(L._status===0||L._status===-1)&&(L._status=2,L._result=oe)}),L._status===-1&&(L._status=0,L._result=te)}if(L._status===1)return L._result.default;throw L._result}var pe=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function be(){}return Ne.Children={map:H,forEach:function(L,te,oe){H(L,function(){te.apply(this,arguments)},oe)},count:function(L){var te=0;return H(L,function(){te++}),te},toArray:function(L){return H(L,function(te){return te})||[]},only:function(L){if(!N(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Ne.Component=z,Ne.Fragment=n,Ne.Profiler=o,Ne.PureComponent=X,Ne.StrictMode=s,Ne.Suspense=m,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ce,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(L){return ce.H.useMemoCache(L)}},Ne.cache=function(L){return function(){return L.apply(null,arguments)}},Ne.cloneElement=function(L,te,oe){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var re=T({},L.props),me=L.key,Te=void 0;if(te!=null)for(ve in te.ref!==void 0&&(Te=void 0),te.key!==void 0&&(me=""+te.key),te)!se.call(te,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&te.ref===void 0||(re[ve]=te[ve]);var ve=arguments.length-2;if(ve===1)re.children=oe;else if(1<ve){for(var ht=Array(ve),Re=0;Re<ve;Re++)ht[Re]=arguments[Re+2];re.children=ht}return P(L.type,me,void 0,void 0,Te,re)},Ne.createContext=function(L){return L={$$typeof:h,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:u,_context:L},L},Ne.createElement=function(L,te,oe){var re,me={},Te=null;if(te!=null)for(re in te.key!==void 0&&(Te=""+te.key),te)se.call(te,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(me[re]=te[re]);var ve=arguments.length-2;if(ve===1)me.children=oe;else if(1<ve){for(var ht=Array(ve),Re=0;Re<ve;Re++)ht[Re]=arguments[Re+2];me.children=ht}if(L&&L.defaultProps)for(re in ve=L.defaultProps,ve)me[re]===void 0&&(me[re]=ve[re]);return P(L,Te,void 0,void 0,null,me)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(L){return{$$typeof:p,render:L}},Ne.isValidElement=N,Ne.lazy=function(L){return{$$typeof:v,_payload:{_status:-1,_result:L},_init:le}},Ne.memo=function(L,te){return{$$typeof:g,type:L,compare:te===void 0?null:te}},Ne.startTransition=function(L){var te=ce.T,oe={};ce.T=oe;try{var re=L(),me=ce.S;me!==null&&me(oe,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(be,pe)}catch(Te){pe(Te)}finally{ce.T=te}},Ne.unstable_useCacheRefresh=function(){return ce.H.useCacheRefresh()},Ne.use=function(L){return ce.H.use(L)},Ne.useActionState=function(L,te,oe){return ce.H.useActionState(L,te,oe)},Ne.useCallback=function(L,te){return ce.H.useCallback(L,te)},Ne.useContext=function(L){return ce.H.useContext(L)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(L,te){return ce.H.useDeferredValue(L,te)},Ne.useEffect=function(L,te,oe){var re=ce.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return re.useEffect(L,te)},Ne.useId=function(){return ce.H.useId()},Ne.useImperativeHandle=function(L,te,oe){return ce.H.useImperativeHandle(L,te,oe)},Ne.useInsertionEffect=function(L,te){return ce.H.useInsertionEffect(L,te)},Ne.useLayoutEffect=function(L,te){return ce.H.useLayoutEffect(L,te)},Ne.useMemo=function(L,te){return ce.H.useMemo(L,te)},Ne.useOptimistic=function(L,te){return ce.H.useOptimistic(L,te)},Ne.useReducer=function(L,te,oe){return ce.H.useReducer(L,te,oe)},Ne.useRef=function(L){return ce.H.useRef(L)},Ne.useState=function(L){return ce.H.useState(L)},Ne.useSyncExternalStore=function(L,te,oe){return ce.H.useSyncExternalStore(L,te,oe)},Ne.useTransition=function(){return ce.H.useTransition()},Ne.version="19.1.0",Ne}var vb;function Yp(){return vb||(vb=1,gb.exports=xE()),gb.exports}var V=Yp(),Uf={exports:{}},Tl={},bb={exports:{}},wb={};/**
* @license React
* scheduler.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Sb;function CE(){return Sb||(Sb=1,function(r){function e(H,le){var pe=H.length;H.push(le);e:for(;0<pe;){var be=pe-1>>>1,L=H[be];if(0<o(L,le))H[be]=le,H[pe]=L,pe=be;else break e}}function n(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var le=H[0],pe=H.pop();if(pe!==le){H[0]=pe;e:for(var be=0,L=H.length,te=L>>>1;be<te;){var oe=2*(be+1)-1,re=H[oe],me=oe+1,Te=H[me];if(0>o(re,pe))me<L&&0>o(Te,re)?(H[be]=Te,H[me]=pe,be=me):(H[be]=re,H[oe]=pe,be=oe);else if(me<L&&0>o(Te,pe))H[be]=Te,H[me]=pe,be=me;else break e}}return le}function o(H,le){var pe=H.sortIndex-le.sortIndex;return pe!==0?pe:H.id-le.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,p=h.now();r.unstable_now=function(){return h.now()-p}}var m=[],g=[],v=1,S=null,k=3,D=!1,T=!1,R=!1,z=!1,K=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;function ue(H){for(var le=n(g);le!==null;){if(le.callback===null)s(g);else if(le.startTime<=H)s(g),le.sortIndex=le.expirationTime,e(m,le);else break;le=n(g)}}function ce(H){if(R=!1,ue(H),!T)if(n(m)!==null)T=!0,se||(se=!0,j());else{var le=n(g);le!==null&&et(ce,le.startTime-H)}}var se=!1,P=-1,C=5,N=-1;function M(){return z?!0:!(r.unstable_now()-N<C)}function I(){if(z=!1,se){var H=r.unstable_now();N=H;var le=!0;try{e:{T=!1,R&&(R=!1,X(P),P=-1),D=!0;var pe=k;try{t:{for(ue(H),S=n(m);S!==null&&!(S.expirationTime>H&&M());){var be=S.callback;if(typeof be=="function"){S.callback=null,k=S.priorityLevel;var L=be(S.expirationTime<=H);if(H=r.unstable_now(),typeof L=="function"){S.callback=L,ue(H),le=!0;break t}S===n(m)&&s(m),ue(H)}else s(m);S=n(m)}if(S!==null)le=!0;else{var te=n(g);te!==null&&et(ce,te.startTime-H),le=!1}}break e}finally{S=null,k=pe,D=!1}le=void 0}}finally{le?j():se=!1}}}var j;if(typeof ae=="function")j=function(){ae(I)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,Ye=A.port2;A.port1.onmessage=I,j=function(){Ye.postMessage(null)}}else j=function(){K(I,0)};function et(H,le){P=K(function(){H(r.unstable_now())},le)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return k},r.unstable_next=function(H){switch(k){case 1:case 2:case 3:var le=3;break;default:le=k}var pe=k;k=le;try{return H()}finally{k=pe}},r.unstable_requestPaint=function(){z=!0},r.unstable_runWithPriority=function(H,le){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var pe=k;k=H;try{return le()}finally{k=pe}},r.unstable_scheduleCallback=function(H,le,pe){var be=r.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?be+pe:be):pe=be,H){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=pe+L,H={id:v++,callback:le,priorityLevel:H,startTime:pe,expirationTime:L,sortIndex:-1},pe>be?(H.sortIndex=pe,e(g,H),n(m)===null&&H===n(g)&&(R?(X(P),P=-1):R=!0,et(ce,pe-be))):(H.sortIndex=L,e(m,H),T||D||(T=!0,se||(se=!0,j()))),H},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(H){var le=k;return function(){var pe=k;k=le;try{return H.apply(this,arguments)}finally{k=pe}}}}(wb)),wb}var kb;function _E(){return kb||(kb=1,bb.exports=CE()),bb.exports}var $f={exports:{}},on={};/**
* @license React
* react-dom.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Eb;function TE(){if(Eb)return on;Eb=1;var r=Yp();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,g,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:m,containerInfo:g,implementation:v}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,on.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(m,g,null,v)},on.flushSync=function(m){var g=h.T,v=s.p;try{if(h.T=null,s.p=2,m)return m()}finally{h.T=g,s.p=v,s.d.f()}},on.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},on.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},on.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,S=p(v,g.crossOrigin),k=typeof g.integrity=="string"?g.integrity:void 0,D=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:k,fetchPriority:D}):v==="script"&&s.d.X(m,{crossOrigin:S,integrity:k,fetchPriority:D,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},on.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=p(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},on.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,S=p(v,g.crossOrigin);s.d.L(m,v,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},on.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=p(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},on.requestFormReset=function(m){s.d.r(m)},on.unstable_batchedUpdates=function(m,g){return m(g)},on.useFormState=function(m,g,v){return h.H.useFormState(m,g,v)},on.useFormStatus=function(){return h.H.useHostTransitionStatus()},on.version="19.1.0",on}var xb;function NE(){if(xb)return $f.exports;xb=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),$f.exports=TE(),$f.exports}/**
* @license React
* react-dom-client.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Cb;function AE(){if(Cb)return Tl;Cb=1;var r=_E(),e=Yp(),n=NE();function s(t){var a="https://react.dev/errors/"+t;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)a+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var a=t,i=t;if(t.alternate)for(;a.return;)a=a.return;else{t=a;do a=t,(a.flags&4098)!==0&&(i=a.return),t=a.return;while(t)}return a.tag===3?i:null}function h(t){if(t.tag===13){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function m(t){var a=t.alternate;if(!a){if(a=u(t),a===null)throw Error(s(188));return a!==t?null:t}for(var i=t,l=a;;){var d=i.return;if(d===null)break;var f=d.alternate;if(f===null){if(l=d.return,l!==null){i=l;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===i)return p(d),t;if(f===l)return p(d),a;f=f.sibling}throw Error(s(188))}if(i.return!==l.return)i=d,l=f;else{for(var w=!1,E=d.child;E;){if(E===i){w=!0,i=d,l=f;break}if(E===l){w=!0,l=d,i=f;break}E=E.sibling}if(!w){for(E=f.child;E;){if(E===i){w=!0,i=f,l=d;break}if(E===l){w=!0,l=f,i=d;break}E=E.sibling}if(!w)throw Error(s(189))}}if(i.alternate!==l)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?t:a}function g(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t;for(t=t.child;t!==null;){if(a=g(t),a!==null)return a;t=t.sibling}return null}var v=Object.assign,S=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),X=Symbol.for("react.consumer"),ae=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var A=Symbol.for("react.client.reference");function Ye(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===A?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case T:return"Fragment";case z:return"Profiler";case R:return"StrictMode";case ce:return"Suspense";case se:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case D:return"Portal";case ae:return(t.displayName||"Context")+".Provider";case X:return(t._context.displayName||"Context")+".Consumer";case ue:var a=t.render;return t=t.displayName,t||(t=a.displayName||a.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case P:return a=t.displayName||null,a!==null?a:Ye(t.type)||"Memo";case C:a=t._payload,t=t._init;try{return Ye(t(a))}catch{}}return null}var et=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},be=[],L=-1;function te(t){return{current:t}}function oe(t){0>L||(t.current=be[L],be[L]=null,L--)}function re(t,a){L++,be[L]=t.current,t.current=a}var me=te(null),Te=te(null),ve=te(null),ht=te(null);function Re(t,a){switch(re(ve,a),re(Te,t),re(me,null),a.nodeType){case 9:case 11:t=(t=a.documentElement)&&(t=t.namespaceURI)?Bv(t):0;break;default:if(t=a.tagName,a=a.namespaceURI)a=Bv(a),t=Uv(a,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}oe(me),re(me,t)}function vn(){oe(me),oe(Te),oe(ve)}function Fn(t){t.memoizedState!==null&&re(ht,t);var a=me.current,i=Uv(a,t.type);a!==i&&(re(Te,t),re(me,i))}function _n(t){Te.current===t&&(oe(me),oe(Te)),ht.current===t&&(oe(ht),Sl._currentValue=pe)}var jn=Object.prototype.hasOwnProperty,zn=r.unstable_scheduleCallback,st=r.unstable_cancelCallback,Et=r.unstable_shouldYield,Fr=r.unstable_requestPaint,hn=r.unstable_now,ui=r.unstable_getCurrentPriorityLevel,ps=r.unstable_ImmediatePriority,wa=r.unstable_UserBlockingPriority,jr=r.unstable_NormalPriority,ci=r.unstable_LowPriority,Sa=r.unstable_IdlePriority,ms=r.log,di=r.unstable_setDisableYieldValue,ft=null,qe=null;function Wt(t){if(typeof ms=="function"&&di(t),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(ft,t)}catch{}}var Ot=Math.clz32?Math.clz32:Vn,gs=Math.log,To=Math.LN2;function Vn(t){return t>>>=0,t===0?32:31-(gs(t)/To|0)|0}var pr=256,zr=4194304;function bn(t){var a=t&42;if(a!==0)return a;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Vr(t,a,i){var l=t.pendingLanes;if(l===0)return 0;var d=0,f=t.suspendedLanes,w=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?d=bn(l):(w&=E,w!==0?d=bn(w):i||(i=E&~t,i!==0&&(d=bn(i))))):(E=l&~f,E!==0?d=bn(E):w!==0?d=bn(w):i||(i=l&~t,i!==0&&(d=bn(i)))),d===0?0:a!==0&&a!==d&&(a&f)===0&&(f=d&-d,i=a&-a,f>=i||f===32&&(i&4194048)!==0)?a:d}function nr(t,a){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&a)===0}function ys(t,a){switch(t){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ka(){var t=pr;return pr<<=1,(pr&4194048)===0&&(pr=256),t}function vs(){var t=zr;return zr<<=1,(zr&62914560)===0&&(zr=4194304),t}function Bn(t){for(var a=[],i=0;31>i;i++)a.push(t);return a}function pt(t,a){t.pendingLanes|=a,a!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Tt(t,a,i,l,d,f){var w=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var E=t.entanglements,O=t.expirationTimes,q=t.hiddenUpdates;for(i=w&~i;0<i;){var Q=31-Ot(i),Z=1<<Q;E[Q]=0,O[Q]=-1;var W=q[Q];if(W!==null)for(q[Q]=null,Q=0;Q<W.length;Q++){var G=W[Q];G!==null&&(G.lane&=-536870913)}i&=~Z}l!==0&&fn(t,l,0),f!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=f&~(w&~a))}function fn(t,a,i){t.pendingLanes|=a,t.suspendedLanes&=~a;var l=31-Ot(a);t.entangledLanes|=a,t.entanglements[l]=t.entanglements[l]|1073741824|i&4194090}function Qe(t,a){var i=t.entangledLanes|=a;for(t=t.entanglements;i;){var l=31-Ot(i),d=1<<l;d&a|t[l]&a&&(t[l]|=a),i&=~d}}function Pt(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ea(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Un(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:ob(t.type))}function bs(t,a){var i=le.p;try{return le.p=t,a()}finally{le.p=i}}var it=Math.random().toString(36).slice(2),vt="__reactFiber$"+it,ct="__reactProps$"+it,an="__reactContainer$"+it,Br="__reactEvents$"+it,ws="__reactListeners$"+it,mr="__reactHandles$"+it,xa="__reactResources$"+it,gr="__reactMarker$"+it;function yr(t){delete t[vt],delete t[ct],delete t[Br],delete t[ws],delete t[mr]}function rr(t){var a=t[vt];if(a)return a;for(var i=t.parentNode;i;){if(a=i[an]||i[vt]){if(i=a.alternate,a.child!==null||i!==null&&i.child!==null)for(t=Wv(t);t!==null;){if(i=t[vt])return i;t=Wv(t)}return a}t=i,i=t.parentNode}return null}function Ee(t){if(t=t[vt]||t[an]){var a=t.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return t}return null}function Ve(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t.stateNode;throw Error(s(33))}function Me(t){var a=t[xa];return a||(a=t[xa]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Be(t){t[gr]=!0}var Gt=new Set,vr={};function Tn(t,a){ar(t,a),ar(t+"Capture",a)}function ar(t,a){for(vr[t]=a,t=0;t<a.length;t++)Gt.add(a[t])}var du=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hu={},Ss={};function fu(t){return jn.call(Ss,t)?!0:jn.call(hu,t)?!1:du.test(t)?Ss[t]=!0:(hu[t]=!0,!1)}function Ca(t,a,i){if(fu(a))if(i===null)t.removeAttribute(a);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(a);return;case"boolean":var l=a.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(a);return}}t.setAttribute(a,""+i)}}function br(t,a,i){if(i===null)t.removeAttribute(a);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttribute(a,""+i)}}function Ht(t,a,i,l){if(l===null)t.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(a,i,""+l)}}var ks,pu;function Ur(t){if(ks===void 0)try{throw Error()}catch(i){var a=i.stack.trim().match(/\n( *(at )?)/);ks=a&&a[1]||"",pu=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ks+t+pu}var hi=!1;function fi(t,a){if(!t||hi)return"";hi=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(a){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(G){var W=G}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(G){W=G}t.call(Z.prototype)}}else{try{throw Error()}catch(G){W=G}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(G){if(G&&W&&typeof G.stack=="string")return[G.stack,W.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),w=f[0],E=f[1];if(w&&E){var O=w.split(`
`),q=E.split(`
`);for(d=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;d<q.length&&!q[d].includes("DetermineComponentFrameRoot");)d++;if(l===O.length||d===q.length)for(l=O.length-1,d=q.length-1;1<=l&&0<=d&&O[l]!==q[d];)d--;for(;1<=l&&0<=d;l--,d--)if(O[l]!==q[d]){if(l!==1||d!==1)do if(l--,d--,0>d||O[l]!==q[d]){var Q=`
`+O[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=d);break}}}finally{hi=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?Ur(i):""}function No(t){switch(t.tag){case 26:case 27:case 5:return Ur(t.type);case 16:return Ur("Lazy");case 13:return Ur("Suspense");case 19:return Ur("SuspenseList");case 0:case 15:return fi(t.type,!1);case 11:return fi(t.type.render,!1);case 1:return fi(t.type,!0);case 31:return Ur("Activity");default:return""}}function pi(t){try{var a="";do a+=No(t),t=t.return;while(t);return a}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function pn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ao(t){var a=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Kd(t){var a=Ao(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,a),l=""+t[a];if(!t.hasOwnProperty(a)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var d=i.get,f=i.set;return Object.defineProperty(t,a,{configurable:!0,get:function(){return d.call(this)},set:function(w){l=""+w,f.call(this,w)}}),Object.defineProperty(t,a,{enumerable:i.enumerable}),{getValue:function(){return l},setValue:function(w){l=""+w},stopTracking:function(){t._valueTracker=null,delete t[a]}}}}function mi(t){t._valueTracker||(t._valueTracker=Kd(t))}function Do(t){if(!t)return!1;var a=t._valueTracker;if(!a)return!0;var i=a.getValue(),l="";return t&&(l=Ao(t)?t.checked?"true":"false":t.value),t=l,t!==i?(a.setValue(t),!0):!1}function Es(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Wd=/[\n"\\]/g;function Mt(t){return t.replace(Wd,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Nn(t,a,i,l,d,f,w,E){t.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.type=w:t.removeAttribute("type"),a!=null?w==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+pn(a)):t.value!==""+pn(a)&&(t.value=""+pn(a)):w!=="submit"&&w!=="reset"||t.removeAttribute("value"),a!=null?_a(t,w,pn(a)):i!=null?_a(t,w,pn(i)):l!=null&&t.removeAttribute("value"),d==null&&f!=null&&(t.defaultChecked=!!f),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+pn(E):t.removeAttribute("name")}function xs(t,a,i,l,d,f,w,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),a!=null||i!=null){if(!(f!=="submit"&&f!=="reset"||a!=null))return;i=i!=null?""+pn(i):"",a=a!=null?""+pn(a):i,E||a===t.value||(t.value=a),t.defaultValue=a}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(t.name=w)}function _a(t,a,i){a==="number"&&Es(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function $r(t,a,i,l){if(t=t.options,a){a={};for(var d=0;d<i.length;d++)a["$"+i[d]]=!0;for(i=0;i<t.length;i++)d=a.hasOwnProperty("$"+t[i].value),t[i].selected!==d&&(t[i].selected=d),d&&l&&(t[i].defaultSelected=!0)}else{for(i=""+pn(i),a=null,d=0;d<t.length;d++){if(t[d].value===i){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}a!==null||t[d].disabled||(a=t[d])}a!==null&&(a.selected=!0)}}function tt(t,a,i){if(a!=null&&(a=""+pn(a),a!==t.value&&(t.value=a),i==null)){t.defaultValue!==a&&(t.defaultValue=a);return}t.defaultValue=i!=null?""+pn(i):""}function Cs(t,a,i,l){if(a==null){if(l!=null){if(i!=null)throw Error(s(92));if(et(l)){if(1<l.length)throw Error(s(93));l=l[0]}i=l}i==null&&(i=""),a=i}i=pn(a),t.defaultValue=i,l=t.textContent,l===i&&l!==""&&l!==null&&(t.value=l)}function $n(t,a){if(a){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=a;return}}t.textContent=a}var _s=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mu(t,a,i){var l=a.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?l?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="":l?t.setProperty(a,i):typeof i!="number"||i===0||_s.has(a)?a==="float"?t.cssFloat=i:t[a]=(""+i).trim():t[a]=i+"px"}function Io(t,a,i){if(a!=null&&typeof a!="object")throw Error(s(62));if(t=t.style,i!=null){for(var l in i)!i.hasOwnProperty(l)||a!=null&&a.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in a)l=a[d],a.hasOwnProperty(d)&&i[d]!==l&&mu(t,d,l)}else for(var f in a)a.hasOwnProperty(f)&&mu(t,f,a[f])}function Oo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function gi(t){return Hd.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var qr=null;function qn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Kr=null,Wr=null;function Po(t){var a=Ee(t);if(a&&(t=a.stateNode)){var i=t[ct]||null;e:switch(t=a.stateNode,a.type){case"input":if(Nn(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),a=i.name,i.type==="radio"&&a!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Mt(""+a)+'"][type="radio"]'),a=0;a<i.length;a++){var l=i[a];if(l!==t&&l.form===t.form){var d=l[ct]||null;if(!d)throw Error(s(90));Nn(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(a=0;a<i.length;a++)l=i[a],l.form===t.form&&Do(l)}break e;case"textarea":tt(t,i.value,i.defaultValue);break e;case"select":a=i.value,a!=null&&$r(t,!!i.multiple,a,!1)}}}var wr=!1;function gu(t,a,i){if(wr)return t(a,i);wr=!0;try{var l=t(a);return l}finally{if(wr=!1,(Kr!==null||Wr!==null)&&(uc(),Kr&&(a=Kr,t=Wr,Wr=Kr=null,Po(a),t)))for(a=0;a<t.length;a++)Po(t[a])}}function Ts(t,a){var i=t.stateNode;if(i===null)return null;var l=i[ct]||null;if(l===null)return null;i=l[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(s(231,a,typeof i));return i}var sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kn=!1;if(sr)try{var Ns={};Object.defineProperty(Ns,"passive",{get:function(){Kn=!0}}),window.addEventListener("test",Ns,Ns),window.removeEventListener("test",Ns,Ns)}catch{Kn=!1}var Sr=null,Ta=null,Gr=null;function Mo(){if(Gr)return Gr;var t,a=Ta,i=a.length,l,d="value"in Sr?Sr.value:Sr.textContent,f=d.length;for(t=0;t<i&&a[t]===d[t];t++);var w=i-t;for(l=1;l<=w&&a[i-l]===d[f-l];l++);return Gr=d.slice(t,1<l?1-l:void 0)}function kr(t){var a=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&a===13&&(t=13)):t=a,t===10&&(t=13),32<=t||t===13?t:0}function Er(){return!0}function Lo(){return!1}function Vt(t){function a(i,l,d,f,w){this._reactName=i,this._targetInst=d,this.type=l,this.nativeEvent=f,this.target=w,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(i=t[E],this[E]=i?i(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Er:Lo,this.isPropagationStopped=Lo,this}return v(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Er)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Er)},persist:function(){},isPersistent:Er}),a}var Ge={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yi=Vt(Ge),As=v({},Ge,{view:0,detail:0}),yu=Vt(As),vi,bi,xr,Ds=v({},As,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ps,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xr&&(xr&&t.type==="mousemove"?(vi=t.screenX-xr.screenX,bi=t.screenY-xr.screenY):bi=vi=0,xr=t),vi)},movementY:function(t){return"movementY"in t?t.movementY:bi}}),Wn=Vt(Ds),vu=v({},Ds,{dataTransfer:0}),Yd=Vt(vu),Is=v({},As,{relatedTarget:0}),wi=Vt(Is),Ro=v({},Ge,{animationName:0,elapsedTime:0,pseudoElement:0}),Si=Vt(Ro),bu=v({},Ge,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ki=Vt(bu),Qd=v({},Ge,{data:0}),Fo=Vt(Qd),Os={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Su={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jo(t){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(t):(t=Su[t])?!!a[t]:!1}function Ps(){return jo}var ku=v({},As,{key:function(t){if(t.key){var a=Os[t.key]||t.key;if(a!=="Unidentified")return a}return t.type==="keypress"?(t=kr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ps,charCode:function(t){return t.type==="keypress"?kr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?kr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ei=Vt(ku),Eu=v({},Ds,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zo=Vt(Eu),Hr=v({},As,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ps}),xu=Vt(Hr),Cu=v({},Ge,{propertyName:0,elapsedTime:0,pseudoElement:0}),_u=Vt(Cu),Tu=v({},Ds,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xi=Vt(Tu),mn=v({},Ge,{newState:0,oldState:0}),Nu=Vt(mn),Au=[9,13,27,32],Cr=sr&&"CompositionEvent"in window,c=null;sr&&"documentMode"in document&&(c=document.documentMode);var y=sr&&"TextEvent"in window&&!c,b=sr&&(!Cr||c&&8<c&&11>=c),x=" ",U=!1;function Y(t,a){switch(t){case"keyup":return Au.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ie(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ue=!1;function Lt(t,a){switch(t){case"compositionend":return ie(a);case"keypress":return a.which!==32?null:(U=!0,x);case"textInput":return t=a.data,t===x&&U?null:t;default:return null}}function Ke(t,a){if(Ue)return t==="compositionend"||!Cr&&Y(t,a)?(t=Mo(),Gr=Ta=Sr=null,Ue=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return b&&a.locale!=="ko"?null:a.data;default:return null}}var Bt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yt(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a==="input"?!!Bt[t.type]:a==="textarea"}function Yr(t,a,i,l){Kr?Wr?Wr.push(l):Wr=[l]:Kr=l,a=mc(a,"onChange"),0<a.length&&(i=new yi("onChange","change",null,i,l),t.push({event:i,listeners:a}))}var Qt=null,_r=null;function Vo(t){Rv(t,0)}function Du(t){var a=Ve(t);if(Do(a))return t}function rg(t,a){if(t==="change")return a}var ag=!1;if(sr){var Jd;if(sr){var Xd="oninput"in document;if(!Xd){var sg=document.createElement("div");sg.setAttribute("oninput","return;"),Xd=typeof sg.oninput=="function"}Jd=Xd}else Jd=!1;ag=Jd&&(!document.documentMode||9<document.documentMode)}function ig(){Qt&&(Qt.detachEvent("onpropertychange",og),_r=Qt=null)}function og(t){if(t.propertyName==="value"&&Du(_r)){var a=[];Yr(a,_r,t,qn(t)),gu(Vo,a)}}function J1(t,a,i){t==="focusin"?(ig(),Qt=a,_r=i,Qt.attachEvent("onpropertychange",og)):t==="focusout"&&ig()}function X1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Du(_r)}function Z1(t,a){if(t==="click")return Du(a)}function ek(t,a){if(t==="input"||t==="change")return Du(a)}function tk(t,a){return t===a&&(t!==0||1/t===1/a)||t!==t&&a!==a}var An=typeof Object.is=="function"?Object.is:tk;function Bo(t,a){if(An(t,a))return!0;if(typeof t!="object"||t===null||typeof a!="object"||a===null)return!1;var i=Object.keys(t),l=Object.keys(a);if(i.length!==l.length)return!1;for(l=0;l<i.length;l++){var d=i[l];if(!jn.call(a,d)||!An(t[d],a[d]))return!1}return!0}function lg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ug(t,a){var i=lg(t);t=0;for(var l;i;){if(i.nodeType===3){if(l=t+i.textContent.length,t<=a&&l>=a)return{node:i,offset:a-t};t=l}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=lg(i)}}function cg(t,a){return t&&a?t===a?!0:t&&t.nodeType===3?!1:a&&a.nodeType===3?cg(t,a.parentNode):"contains"in t?t.contains(a):t.compareDocumentPosition?!!(t.compareDocumentPosition(a)&16):!1:!1}function dg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var a=Es(t.document);a instanceof t.HTMLIFrameElement;){try{var i=typeof a.contentWindow.location.href=="string"}catch{i=!1}if(i)t=a.contentWindow;else break;a=Es(t.document)}return a}function Zd(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a&&(a==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||a==="textarea"||t.contentEditable==="true")}var nk=sr&&"documentMode"in document&&11>=document.documentMode,Ci=null,eh=null,Uo=null,th=!1;function hg(t,a,i){var l=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;th||Ci==null||Ci!==Es(l)||(l=Ci,"selectionStart"in l&&Zd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Uo&&Bo(Uo,l)||(Uo=l,l=mc(eh,"onSelect"),0<l.length&&(a=new yi("onSelect","select",null,a,i),t.push({event:a,listeners:l}),a.target=Ci)))}function Ms(t,a){var i={};return i[t.toLowerCase()]=a.toLowerCase(),i["Webkit"+t]="webkit"+a,i["Moz"+t]="moz"+a,i}var _i={animationend:Ms("Animation","AnimationEnd"),animationiteration:Ms("Animation","AnimationIteration"),animationstart:Ms("Animation","AnimationStart"),transitionrun:Ms("Transition","TransitionRun"),transitionstart:Ms("Transition","TransitionStart"),transitioncancel:Ms("Transition","TransitionCancel"),transitionend:Ms("Transition","TransitionEnd")},nh={},fg={};sr&&(fg=document.createElement("div").style,"AnimationEvent"in window||(delete _i.animationend.animation,delete _i.animationiteration.animation,delete _i.animationstart.animation),"TransitionEvent"in window||delete _i.transitionend.transition);function Ls(t){if(nh[t])return nh[t];if(!_i[t])return t;var a=_i[t],i;for(i in a)if(a.hasOwnProperty(i)&&i in fg)return nh[t]=a[i];return t}var pg=Ls("animationend"),mg=Ls("animationiteration"),gg=Ls("animationstart"),rk=Ls("transitionrun"),ak=Ls("transitionstart"),sk=Ls("transitioncancel"),yg=Ls("transitionend"),vg=new Map,rh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rh.push("scrollEnd");function ir(t,a){vg.set(t,a),Tn(a,[t])}var bg=new WeakMap;function Gn(t,a){if(typeof t=="object"&&t!==null){var i=bg.get(t);return i!==void 0?i:(a={value:t,source:a,stack:pi(a)},bg.set(t,a),a)}return{value:t,source:a,stack:pi(a)}}var Hn=[],Ti=0,ah=0;function Iu(){for(var t=Ti,a=ah=Ti=0;a<t;){var i=Hn[a];Hn[a++]=null;var l=Hn[a];Hn[a++]=null;var d=Hn[a];Hn[a++]=null;var f=Hn[a];if(Hn[a++]=null,l!==null&&d!==null){var w=l.pending;w===null?d.next=d:(d.next=w.next,w.next=d),l.pending=d}f!==0&&wg(i,d,f)}}function Ou(t,a,i,l){Hn[Ti++]=t,Hn[Ti++]=a,Hn[Ti++]=i,Hn[Ti++]=l,ah|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function sh(t,a,i,l){return Ou(t,a,i,l),Pu(t)}function Ni(t,a){return Ou(t,null,null,a),Pu(t)}function wg(t,a,i){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i);for(var d=!1,f=t.return;f!==null;)f.childLanes|=i,l=f.alternate,l!==null&&(l.childLanes|=i),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(d=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,d&&a!==null&&(d=31-Ot(i),t=f.hiddenUpdates,l=t[d],l===null?t[d]=[a]:l.push(a),a.lane=i|536870912),f):null}function Pu(t){if(50<fl)throw fl=0,hf=null,Error(s(185));for(var a=t.return;a!==null;)t=a,a=t.return;return t.tag===3?t.stateNode:null}var Ai={};function ik(t,a,i,l){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(t,a,i,l){return new ik(t,a,i,l)}function ih(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Qr(t,a){var i=t.alternate;return i===null?(i=Dn(t.tag,a,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=a,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,a=t.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function Sg(t,a){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=a,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,a=i.dependencies,t.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),t}function Mu(t,a,i,l,d,f){var w=0;if(l=t,typeof t=="function")ih(t)&&(w=1);else if(typeof t=="string")w=lE(t,i,me.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=Dn(31,i,a,d),t.elementType=N,t.lanes=f,t;case T:return Rs(i.children,d,f,a);case R:w=8,d|=24;break;case z:return t=Dn(12,i,a,d|2),t.elementType=z,t.lanes=f,t;case ce:return t=Dn(13,i,a,d),t.elementType=ce,t.lanes=f,t;case se:return t=Dn(19,i,a,d),t.elementType=se,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case K:case ae:w=10;break e;case X:w=9;break e;case ue:w=11;break e;case P:w=14;break e;case C:w=16,l=null;break e}w=29,i=Error(s(130,t===null?"null":typeof t,"")),l=null}return a=Dn(w,i,a,d),a.elementType=t,a.type=l,a.lanes=f,a}function Rs(t,a,i,l){return t=Dn(7,t,l,a),t.lanes=i,t}function oh(t,a,i){return t=Dn(6,t,null,a),t.lanes=i,t}function lh(t,a,i){return a=Dn(4,t.children!==null?t.children:[],t.key,a),a.lanes=i,a.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},a}var Di=[],Ii=0,Lu=null,Ru=0,Yn=[],Qn=0,Fs=null,Jr=1,Xr="";function js(t,a){Di[Ii++]=Ru,Di[Ii++]=Lu,Lu=t,Ru=a}function kg(t,a,i){Yn[Qn++]=Jr,Yn[Qn++]=Xr,Yn[Qn++]=Fs,Fs=t;var l=Jr;t=Xr;var d=32-Ot(l)-1;l&=~(1<<d),i+=1;var f=32-Ot(a)+d;if(30<f){var w=d-d%5;f=(l&(1<<w)-1).toString(32),l>>=w,d-=w,Jr=1<<32-Ot(a)+d|i<<d|l,Xr=f+t}else Jr=1<<f|i<<d|l,Xr=t}function uh(t){t.return!==null&&(js(t,1),kg(t,1,0))}function ch(t){for(;t===Lu;)Lu=Di[--Ii],Di[Ii]=null,Ru=Di[--Ii],Di[Ii]=null;for(;t===Fs;)Fs=Yn[--Qn],Yn[Qn]=null,Xr=Yn[--Qn],Yn[Qn]=null,Jr=Yn[--Qn],Yn[Qn]=null}var gn=null,St=null,We=!1,zs=null,Tr=!1,dh=Error(s(519));function Vs(t){var a=Error(s(418,""));throw Ko(Gn(a,t)),dh}function Eg(t){var a=t.stateNode,i=t.type,l=t.memoizedProps;switch(a[vt]=t,a[ct]=l,i){case"dialog":Pe("cancel",a),Pe("close",a);break;case"iframe":case"object":case"embed":Pe("load",a);break;case"video":case"audio":for(i=0;i<ml.length;i++)Pe(ml[i],a);break;case"source":Pe("error",a);break;case"img":case"image":case"link":Pe("error",a),Pe("load",a);break;case"details":Pe("toggle",a);break;case"input":Pe("invalid",a),xs(a,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),mi(a);break;case"select":Pe("invalid",a);break;case"textarea":Pe("invalid",a),Cs(a,l.value,l.defaultValue,l.children),mi(a)}i=l.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||a.textContent===""+i||l.suppressHydrationWarning===!0||Vv(a.textContent,i)?(l.popover!=null&&(Pe("beforetoggle",a),Pe("toggle",a)),l.onScroll!=null&&Pe("scroll",a),l.onScrollEnd!=null&&Pe("scrollend",a),l.onClick!=null&&(a.onclick=gc),a=!0):a=!1,a||Vs(t)}function xg(t){for(gn=t.return;gn;)switch(gn.tag){case 5:case 13:Tr=!1;return;case 27:case 3:Tr=!0;return;default:gn=gn.return}}function $o(t){if(t!==gn)return!1;if(!We)return xg(t),We=!0,!1;var a=t.tag,i;if((i=a!==3&&a!==27)&&((i=a===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||Nf(t.type,t.memoizedProps)),i=!i),i&&St&&Vs(t),xg(t),a===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,a=0;t;){if(t.nodeType===8)if(i=t.data,i==="/$"){if(a===0){St=lr(t.nextSibling);break e}a--}else i!=="$"&&i!=="$!"&&i!=="$?"||a++;t=t.nextSibling}St=null}}else a===27?(a=St,$a(t.type)?(t=Of,Of=null,St=t):St=a):St=gn?lr(t.stateNode.nextSibling):null;return!0}function qo(){St=gn=null,We=!1}function Cg(){var t=zs;return t!==null&&(kn===null?kn=t:kn.push.apply(kn,t),zs=null),t}function Ko(t){zs===null?zs=[t]:zs.push(t)}var hh=te(null),Bs=null,Zr=null;function Na(t,a,i){re(hh,a._currentValue),a._currentValue=i}function ea(t){t._currentValue=hh.current,oe(hh)}function fh(t,a,i){for(;t!==null;){var l=t.alternate;if((t.childLanes&a)!==a?(t.childLanes|=a,l!==null&&(l.childLanes|=a)):l!==null&&(l.childLanes&a)!==a&&(l.childLanes|=a),t===i)break;t=t.return}}function ph(t,a,i,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var f=d.dependencies;if(f!==null){var w=d.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=d;for(var O=0;O<a.length;O++)if(E.context===a[O]){f.lanes|=i,E=f.alternate,E!==null&&(E.lanes|=i),fh(f.return,i,t),l||(w=null);break e}f=E.next}}else if(d.tag===18){if(w=d.return,w===null)throw Error(s(341));w.lanes|=i,f=w.alternate,f!==null&&(f.lanes|=i),fh(w,i,t),w=null}else w=d.child;if(w!==null)w.return=d;else for(w=d;w!==null;){if(w===t){w=null;break}if(d=w.sibling,d!==null){d.return=w.return,w=d;break}w=w.return}d=w}}function Wo(t,a,i,l){t=null;for(var d=a,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var w=d.alternate;if(w===null)throw Error(s(387));if(w=w.memoizedProps,w!==null){var E=d.type;An(d.pendingProps.value,w.value)||(t!==null?t.push(E):t=[E])}}else if(d===ht.current){if(w=d.alternate,w===null)throw Error(s(387));w.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Sl):t=[Sl])}d=d.return}t!==null&&ph(a,t,i,l),a.flags|=262144}function Fu(t){for(t=t.firstContext;t!==null;){if(!An(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Us(t){Bs=t,Zr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function sn(t){return _g(Bs,t)}function ju(t,a){return Bs===null&&Us(t),_g(t,a)}function _g(t,a){var i=a._currentValue;if(a={context:a,memoizedValue:i,next:null},Zr===null){if(t===null)throw Error(s(308));Zr=a,t.dependencies={lanes:0,firstContext:a},t.flags|=524288}else Zr=Zr.next=a;return i}var ok=typeof AbortController<"u"?AbortController:function(){var t=[],a=this.signal={aborted:!1,addEventListener:function(i,l){t.push(l)}};this.abort=function(){a.aborted=!0,t.forEach(function(i){return i()})}},lk=r.unstable_scheduleCallback,uk=r.unstable_NormalPriority,Rt={$$typeof:ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mh(){return{controller:new ok,data:new Map,refCount:0}}function Go(t){t.refCount--,t.refCount===0&&lk(uk,function(){t.controller.abort()})}var Ho=null,gh=0,Oi=0,Pi=null;function ck(t,a){if(Ho===null){var i=Ho=[];gh=0,Oi=bf(),Pi={status:"pending",value:void 0,then:function(l){i.push(l)}}}return gh++,a.then(Tg,Tg),a}function Tg(){if(--gh===0&&Ho!==null){Pi!==null&&(Pi.status="fulfilled");var t=Ho;Ho=null,Oi=0,Pi=null;for(var a=0;a<t.length;a++)(0,t[a])()}}function dk(t,a){var i=[],l={status:"pending",value:null,reason:null,then:function(d){i.push(d)}};return t.then(function(){l.status="fulfilled",l.value=a;for(var d=0;d<i.length;d++)(0,i[d])(a)},function(d){for(l.status="rejected",l.reason=d,d=0;d<i.length;d++)(0,i[d])(void 0)}),l}var Ng=H.S;H.S=function(t,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&ck(t,a),Ng!==null&&Ng(t,a)};var $s=te(null);function yh(){var t=$s.current;return t!==null?t:lt.pooledCache}function zu(t,a){a===null?re($s,$s.current):re($s,a.pool)}function Ag(){var t=yh();return t===null?null:{parent:Rt._currentValue,pool:t}}var Yo=Error(s(460)),Dg=Error(s(474)),Vu=Error(s(542)),vh={then:function(){}};function Ig(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Bu(){}function Og(t,a,i){switch(i=t[i],i===void 0?t.push(a):i!==a&&(a.then(Bu,Bu),a=i),a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,Mg(t),t;default:if(typeof a.status=="string")a.then(Bu,Bu);else{if(t=lt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=a,t.status="pending",t.then(function(l){if(a.status==="pending"){var d=a;d.status="fulfilled",d.value=l}},function(l){if(a.status==="pending"){var d=a;d.status="rejected",d.reason=l}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,Mg(t),t}throw Qo=a,Yo}}var Qo=null;function Pg(){if(Qo===null)throw Error(s(459));var t=Qo;return Qo=null,t}function Mg(t){if(t===Yo||t===Vu)throw Error(s(483))}var Aa=!1;function bh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wh(t,a){t=t.updateQueue,a.updateQueue===t&&(a.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Da(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ia(t,a,i){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Je&2)!==0){var d=l.pending;return d===null?a.next=a:(a.next=d.next,d.next=a),l.pending=a,a=Pu(t),wg(t,null,i),a}return Ou(t,l,a,i),Pu(t)}function Jo(t,a,i){if(a=a.updateQueue,a!==null&&(a=a.shared,(i&4194048)!==0)){var l=a.lanes;l&=t.pendingLanes,i|=l,a.lanes=i,Qe(t,i)}}function Sh(t,a){var i=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,i===l)){var d=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var w={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};f===null?d=f=w:f=f.next=w,i=i.next}while(i!==null);f===null?d=f=a:f=f.next=a}else d=f=a;i={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=a:t.next=a,i.lastBaseUpdate=a}var kh=!1;function Xo(){if(kh){var t=Pi;if(t!==null)throw t}}function Zo(t,a,i,l){kh=!1;var d=t.updateQueue;Aa=!1;var f=d.firstBaseUpdate,w=d.lastBaseUpdate,E=d.shared.pending;if(E!==null){d.shared.pending=null;var O=E,q=O.next;O.next=null,w===null?f=q:w.next=q,w=O;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==w&&(E===null?Q.firstBaseUpdate=q:E.next=q,Q.lastBaseUpdate=O))}if(f!==null){var Z=d.baseState;w=0,Q=q=O=null,E=f;do{var W=E.lane&-536870913,G=W!==E.lane;if(G?(Fe&W)===W:(l&W)===W){W!==0&&W===Oi&&(kh=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ke=t,we=E;W=a;var at=i;switch(we.tag){case 1:if(ke=we.payload,typeof ke=="function"){Z=ke.call(at,Z,W);break e}Z=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=we.payload,W=typeof ke=="function"?ke.call(at,Z,W):ke,W==null)break e;Z=v({},Z,W);break e;case 2:Aa=!0}}W=E.callback,W!==null&&(t.flags|=64,G&&(t.flags|=8192),G=d.callbacks,G===null?d.callbacks=[W]:G.push(W))}else G={lane:W,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(q=Q=G,O=Z):Q=Q.next=G,w|=W;if(E=E.next,E===null){if(E=d.shared.pending,E===null)break;G=E,E=G.next,G.next=null,d.lastBaseUpdate=G,d.shared.pending=null}}while(!0);Q===null&&(O=Z),d.baseState=O,d.firstBaseUpdate=q,d.lastBaseUpdate=Q,f===null&&(d.shared.lanes=0),za|=w,t.lanes=w,t.memoizedState=Z}}function Lg(t,a){if(typeof t!="function")throw Error(s(191,t));t.call(a)}function Rg(t,a){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)Lg(i[t],a)}var Mi=te(null),Uu=te(0);function Fg(t,a){t=la,re(Uu,t),re(Mi,a),la=t|a.baseLanes}function Eh(){re(Uu,la),re(Mi,Mi.current)}function xh(){la=Uu.current,oe(Mi),oe(Uu)}var Oa=0,Ae=null,nt=null,Nt=null,$u=!1,Li=!1,qs=!1,qu=0,el=0,Ri=null,hk=0;function xt(){throw Error(s(321))}function Ch(t,a){if(a===null)return!1;for(var i=0;i<a.length&&i<t.length;i++)if(!An(t[i],a[i]))return!1;return!0}function _h(t,a,i,l,d,f){return Oa=f,Ae=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,H.H=t===null||t.memoizedState===null?wy:Sy,qs=!1,f=i(l,d),qs=!1,Li&&(f=zg(a,i,l,d)),jg(t),f}function jg(t){H.H=Qu;var a=nt!==null&&nt.next!==null;if(Oa=0,Nt=nt=Ae=null,$u=!1,el=0,Ri=null,a)throw Error(s(300));t===null||Ut||(t=t.dependencies,t!==null&&Fu(t)&&(Ut=!0))}function zg(t,a,i,l){Ae=t;var d=0;do{if(Li&&(Ri=null),el=0,Li=!1,25<=d)throw Error(s(301));if(d+=1,Nt=nt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=bk,f=a(i,l)}while(Li);return f}function fk(){var t=H.H,a=t.useState()[0];return a=typeof a.then=="function"?tl(a):a,t=t.useState()[0],(nt!==null?nt.memoizedState:null)!==t&&(Ae.flags|=1024),a}function Th(){var t=qu!==0;return qu=0,t}function Nh(t,a,i){a.updateQueue=t.updateQueue,a.flags&=-2053,t.lanes&=~i}function Ah(t){if($u){for(t=t.memoizedState;t!==null;){var a=t.queue;a!==null&&(a.pending=null),t=t.next}$u=!1}Oa=0,Nt=nt=Ae=null,Li=!1,el=qu=0,Ri=null}function wn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?Ae.memoizedState=Nt=t:Nt=Nt.next=t,Nt}function At(){if(nt===null){var t=Ae.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var a=Nt===null?Ae.memoizedState:Nt.next;if(a!==null)Nt=a,nt=t;else{if(t===null)throw Ae.alternate===null?Error(s(467)):Error(s(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},Nt===null?Ae.memoizedState=Nt=t:Nt=Nt.next=t}return Nt}function Dh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tl(t){var a=el;return el+=1,Ri===null&&(Ri=[]),t=Og(Ri,t,a),a=Ae,(Nt===null?a.memoizedState:Nt.next)===null&&(a=a.alternate,H.H=a===null||a.memoizedState===null?wy:Sy),t}function Ku(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return tl(t);if(t.$$typeof===ae)return sn(t)}throw Error(s(438,String(t)))}function Ih(t){var a=null,i=Ae.updateQueue;if(i!==null&&(a=i.memoCache),a==null){var l=Ae.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(a={data:l.data.map(function(d){return d.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),i===null&&(i=Dh(),Ae.updateQueue=i),i.memoCache=a,i=a.data[a.index],i===void 0)for(i=a.data[a.index]=Array(t),l=0;l<t;l++)i[l]=M;return a.index++,i}function ta(t,a){return typeof a=="function"?a(t):a}function Wu(t){var a=At();return Oh(a,nt,t)}function Oh(t,a,i){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=i;var d=t.baseQueue,f=l.pending;if(f!==null){if(d!==null){var w=d.next;d.next=f.next,f.next=w}a.baseQueue=d=f,l.pending=null}if(f=t.baseState,d===null)t.memoizedState=f;else{a=d.next;var E=w=null,O=null,q=a,Q=!1;do{var Z=q.lane&-536870913;if(Z!==q.lane?(Fe&Z)===Z:(Oa&Z)===Z){var W=q.revertLane;if(W===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),Z===Oi&&(Q=!0);else if((Oa&W)===W){q=q.next,W===Oi&&(Q=!0);continue}else Z={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},O===null?(E=O=Z,w=f):O=O.next=Z,Ae.lanes|=W,za|=W;Z=q.action,qs&&i(f,Z),f=q.hasEagerState?q.eagerState:i(f,Z)}else W={lane:Z,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},O===null?(E=O=W,w=f):O=O.next=W,Ae.lanes|=Z,za|=Z;q=q.next}while(q!==null&&q!==a);if(O===null?w=f:O.next=E,!An(f,t.memoizedState)&&(Ut=!0,Q&&(i=Pi,i!==null)))throw i;t.memoizedState=f,t.baseState=w,t.baseQueue=O,l.lastRenderedState=f}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Ph(t){var a=At(),i=a.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=t;var l=i.dispatch,d=i.pending,f=a.memoizedState;if(d!==null){i.pending=null;var w=d=d.next;do f=t(f,w.action),w=w.next;while(w!==d);An(f,a.memoizedState)||(Ut=!0),a.memoizedState=f,a.baseQueue===null&&(a.baseState=f),i.lastRenderedState=f}return[f,l]}function Vg(t,a,i){var l=Ae,d=At(),f=We;if(f){if(i===void 0)throw Error(s(407));i=i()}else i=a();var w=!An((nt||d).memoizedState,i);w&&(d.memoizedState=i,Ut=!0),d=d.queue;var E=$g.bind(null,l,d,t);if(nl(2048,8,E,[t]),d.getSnapshot!==a||w||Nt!==null&&Nt.memoizedState.tag&1){if(l.flags|=2048,Fi(9,Gu(),Ug.bind(null,l,d,i,a),null),lt===null)throw Error(s(349));f||(Oa&124)!==0||Bg(l,a,i)}return i}function Bg(t,a,i){t.flags|=16384,t={getSnapshot:a,value:i},a=Ae.updateQueue,a===null?(a=Dh(),Ae.updateQueue=a,a.stores=[t]):(i=a.stores,i===null?a.stores=[t]:i.push(t))}function Ug(t,a,i,l){a.value=i,a.getSnapshot=l,qg(a)&&Kg(t)}function $g(t,a,i){return i(function(){qg(a)&&Kg(t)})}function qg(t){var a=t.getSnapshot;t=t.value;try{var i=a();return!An(t,i)}catch{return!0}}function Kg(t){var a=Ni(t,2);a!==null&&Ln(a,t,2)}function Mh(t){var a=wn();if(typeof t=="function"){var i=t;if(t=i(),qs){Wt(!0);try{i()}finally{Wt(!1)}}}return a.memoizedState=a.baseState=t,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:t},a}function Wg(t,a,i,l){return t.baseState=i,Oh(t,nt,typeof l=="function"?l:ta)}function pk(t,a,i,l,d){if(Yu(t))throw Error(s(485));if(t=a.action,t!==null){var f={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){f.listeners.push(w)}};H.T!==null?i(!0):f.isTransition=!1,l(f),i=a.pending,i===null?(f.next=a.pending=f,Gg(a,f)):(f.next=i.next,a.pending=i.next=f)}}function Gg(t,a){var i=a.action,l=a.payload,d=t.state;if(a.isTransition){var f=H.T,w={};H.T=w;try{var E=i(d,l),O=H.S;O!==null&&O(w,E),Hg(t,a,E)}catch(q){Lh(t,a,q)}finally{H.T=f}}else try{f=i(d,l),Hg(t,a,f)}catch(q){Lh(t,a,q)}}function Hg(t,a,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(l){Yg(t,a,l)},function(l){return Lh(t,a,l)}):Yg(t,a,i)}function Yg(t,a,i){a.status="fulfilled",a.value=i,Qg(a),t.state=i,a=t.pending,a!==null&&(i=a.next,i===a?t.pending=null:(i=i.next,a.next=i,Gg(t,i)))}function Lh(t,a,i){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do a.status="rejected",a.reason=i,Qg(a),a=a.next;while(a!==l)}t.action=null}function Qg(t){t=t.listeners;for(var a=0;a<t.length;a++)(0,t[a])()}function Jg(t,a){return a}function Xg(t,a){if(We){var i=lt.formState;if(i!==null){e:{var l=Ae;if(We){if(St){t:{for(var d=St,f=Tr;d.nodeType!==8;){if(!f){d=null;break t}if(d=lr(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){St=lr(d.nextSibling),l=d.data==="F!";break e}}Vs(l)}l=!1}l&&(a=i[0])}}return i=wn(),i.memoizedState=i.baseState=a,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jg,lastRenderedState:a},i.queue=l,i=yy.bind(null,Ae,l),l.dispatch=i,l=Mh(!1),f=Vh.bind(null,Ae,!1,l.queue),l=wn(),d={state:a,dispatch:null,action:t,pending:null},l.queue=d,i=pk.bind(null,Ae,d,f,i),d.dispatch=i,l.memoizedState=t,[a,i,!1]}function Zg(t){var a=At();return ey(a,nt,t)}function ey(t,a,i){if(a=Oh(t,a,Jg)[0],t=Wu(ta)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var l=tl(a)}catch(w){throw w===Yo?Vu:w}else l=a;a=At();var d=a.queue,f=d.dispatch;return i!==a.memoizedState&&(Ae.flags|=2048,Fi(9,Gu(),mk.bind(null,d,i),null)),[l,f,t]}function mk(t,a){t.action=a}function ty(t){var a=At(),i=nt;if(i!==null)return ey(a,i,t);At(),a=a.memoizedState,i=At();var l=i.queue.dispatch;return i.memoizedState=t,[a,l,!1]}function Fi(t,a,i,l){return t={tag:t,create:i,deps:l,inst:a,next:null},a=Ae.updateQueue,a===null&&(a=Dh(),Ae.updateQueue=a),i=a.lastEffect,i===null?a.lastEffect=t.next=t:(l=i.next,i.next=t,t.next=l,a.lastEffect=t),t}function Gu(){return{destroy:void 0,resource:void 0}}function ny(){return At().memoizedState}function Hu(t,a,i,l){var d=wn();l=l===void 0?null:l,Ae.flags|=t,d.memoizedState=Fi(1|a,Gu(),i,l)}function nl(t,a,i,l){var d=At();l=l===void 0?null:l;var f=d.memoizedState.inst;nt!==null&&l!==null&&Ch(l,nt.memoizedState.deps)?d.memoizedState=Fi(a,f,i,l):(Ae.flags|=t,d.memoizedState=Fi(1|a,f,i,l))}function ry(t,a){Hu(8390656,8,t,a)}function ay(t,a){nl(2048,8,t,a)}function sy(t,a){return nl(4,2,t,a)}function iy(t,a){return nl(4,4,t,a)}function oy(t,a){if(typeof a=="function"){t=t();var i=a(t);return function(){typeof i=="function"?i():a(null)}}if(a!=null)return t=t(),a.current=t,function(){a.current=null}}function ly(t,a,i){i=i!=null?i.concat([t]):null,nl(4,4,oy.bind(null,a,t),i)}function Rh(){}function uy(t,a){var i=At();a=a===void 0?null:a;var l=i.memoizedState;return a!==null&&Ch(a,l[1])?l[0]:(i.memoizedState=[t,a],t)}function cy(t,a){var i=At();a=a===void 0?null:a;var l=i.memoizedState;if(a!==null&&Ch(a,l[1]))return l[0];if(l=t(),qs){Wt(!0);try{t()}finally{Wt(!1)}}return i.memoizedState=[l,a],l}function Fh(t,a,i){return i===void 0||(Oa&1073741824)!==0?t.memoizedState=a:(t.memoizedState=i,t=fv(),Ae.lanes|=t,za|=t,i)}function dy(t,a,i,l){return An(i,a)?i:Mi.current!==null?(t=Fh(t,i,l),An(t,a)||(Ut=!0),t):(Oa&42)===0?(Ut=!0,t.memoizedState=i):(t=fv(),Ae.lanes|=t,za|=t,a)}function hy(t,a,i,l,d){var f=le.p;le.p=f!==0&&8>f?f:8;var w=H.T,E={};H.T=E,Vh(t,!1,a,i);try{var O=d(),q=H.S;if(q!==null&&q(E,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var Q=dk(O,l);rl(t,a,Q,Mn(t))}else rl(t,a,l,Mn(t))}catch(Z){rl(t,a,{then:function(){},status:"rejected",reason:Z},Mn())}finally{le.p=f,H.T=w}}function gk(){}function jh(t,a,i,l){if(t.tag!==5)throw Error(s(476));var d=fy(t).queue;hy(t,d,a,pe,i===null?gk:function(){return py(t),i(l)})}function fy(t){var a=t.memoizedState;if(a!==null)return a;a={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:pe},next:null};var i={};return a.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:i},next:null},t.memoizedState=a,t=t.alternate,t!==null&&(t.memoizedState=a),a}function py(t){var a=fy(t).next.queue;rl(t,a,{},Mn())}function zh(){return sn(Sl)}function my(){return At().memoizedState}function gy(){return At().memoizedState}function yk(t){for(var a=t.return;a!==null;){switch(a.tag){case 24:case 3:var i=Mn();t=Da(i);var l=Ia(a,t,i);l!==null&&(Ln(l,a,i),Jo(l,a,i)),a={cache:mh()},t.payload=a;return}a=a.return}}function vk(t,a,i){var l=Mn();i={lane:l,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},Yu(t)?vy(a,i):(i=sh(t,a,i,l),i!==null&&(Ln(i,t,l),by(i,a,l)))}function yy(t,a,i){var l=Mn();rl(t,a,i,l)}function rl(t,a,i,l){var d={lane:l,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(Yu(t))vy(a,d);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=a.lastRenderedReducer,f!==null))try{var w=a.lastRenderedState,E=f(w,i);if(d.hasEagerState=!0,d.eagerState=E,An(E,w))return Ou(t,a,d,0),lt===null&&Iu(),!1}catch{}finally{}if(i=sh(t,a,d,l),i!==null)return Ln(i,t,l),by(i,a,l),!0}return!1}function Vh(t,a,i,l){if(l={lane:2,revertLane:bf(),action:l,hasEagerState:!1,eagerState:null,next:null},Yu(t)){if(a)throw Error(s(479))}else a=sh(t,i,l,2),a!==null&&Ln(a,t,2)}function Yu(t){var a=t.alternate;return t===Ae||a!==null&&a===Ae}function vy(t,a){Li=$u=!0;var i=t.pending;i===null?a.next=a:(a.next=i.next,i.next=a),t.pending=a}function by(t,a,i){if((i&4194048)!==0){var l=a.lanes;l&=t.pendingLanes,i|=l,a.lanes=i,Qe(t,i)}}var Qu={readContext:sn,use:Ku,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt},wy={readContext:sn,use:Ku,useCallback:function(t,a){return wn().memoizedState=[t,a===void 0?null:a],t},useContext:sn,useEffect:ry,useImperativeHandle:function(t,a,i){i=i!=null?i.concat([t]):null,Hu(4194308,4,oy.bind(null,a,t),i)},useLayoutEffect:function(t,a){return Hu(4194308,4,t,a)},useInsertionEffect:function(t,a){Hu(4,2,t,a)},useMemo:function(t,a){var i=wn();a=a===void 0?null:a;var l=t();if(qs){Wt(!0);try{t()}finally{Wt(!1)}}return i.memoizedState=[l,a],l},useReducer:function(t,a,i){var l=wn();if(i!==void 0){var d=i(a);if(qs){Wt(!0);try{i(a)}finally{Wt(!1)}}}else d=a;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=vk.bind(null,Ae,t),[l.memoizedState,t]},useRef:function(t){var a=wn();return t={current:t},a.memoizedState=t},useState:function(t){t=Mh(t);var a=t.queue,i=yy.bind(null,Ae,a);return a.dispatch=i,[t.memoizedState,i]},useDebugValue:Rh,useDeferredValue:function(t,a){var i=wn();return Fh(i,t,a)},useTransition:function(){var t=Mh(!1);return t=hy.bind(null,Ae,t.queue,!0,!1),wn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,a,i){var l=Ae,d=wn();if(We){if(i===void 0)throw Error(s(407));i=i()}else{if(i=a(),lt===null)throw Error(s(349));(Fe&124)!==0||Bg(l,a,i)}d.memoizedState=i;var f={value:i,getSnapshot:a};return d.queue=f,ry($g.bind(null,l,f,t),[t]),l.flags|=2048,Fi(9,Gu(),Ug.bind(null,l,f,i,a),null),i},useId:function(){var t=wn(),a=lt.identifierPrefix;if(We){var i=Xr,l=Jr;i=(l&~(1<<32-Ot(l)-1)).toString(32)+i,a="«"+a+"R"+i,i=qu++,0<i&&(a+="H"+i.toString(32)),a+="»"}else i=hk++,a="«"+a+"r"+i.toString(32)+"»";return t.memoizedState=a},useHostTransitionStatus:zh,useFormState:Xg,useActionState:Xg,useOptimistic:function(t){var a=wn();a.memoizedState=a.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=i,a=Vh.bind(null,Ae,!0,i),i.dispatch=a,[t,a]},useMemoCache:Ih,useCacheRefresh:function(){return wn().memoizedState=yk.bind(null,Ae)}},Sy={readContext:sn,use:Ku,useCallback:uy,useContext:sn,useEffect:ay,useImperativeHandle:ly,useInsertionEffect:sy,useLayoutEffect:iy,useMemo:cy,useReducer:Wu,useRef:ny,useState:function(){return Wu(ta)},useDebugValue:Rh,useDeferredValue:function(t,a){var i=At();return dy(i,nt.memoizedState,t,a)},useTransition:function(){var t=Wu(ta)[0],a=At().memoizedState;return[typeof t=="boolean"?t:tl(t),a]},useSyncExternalStore:Vg,useId:my,useHostTransitionStatus:zh,useFormState:Zg,useActionState:Zg,useOptimistic:function(t,a){var i=At();return Wg(i,nt,t,a)},useMemoCache:Ih,useCacheRefresh:gy},bk={readContext:sn,use:Ku,useCallback:uy,useContext:sn,useEffect:ay,useImperativeHandle:ly,useInsertionEffect:sy,useLayoutEffect:iy,useMemo:cy,useReducer:Ph,useRef:ny,useState:function(){return Ph(ta)},useDebugValue:Rh,useDeferredValue:function(t,a){var i=At();return nt===null?Fh(i,t,a):dy(i,nt.memoizedState,t,a)},useTransition:function(){var t=Ph(ta)[0],a=At().memoizedState;return[typeof t=="boolean"?t:tl(t),a]},useSyncExternalStore:Vg,useId:my,useHostTransitionStatus:zh,useFormState:ty,useActionState:ty,useOptimistic:function(t,a){var i=At();return nt!==null?Wg(i,nt,t,a):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:Ih,useCacheRefresh:gy},ji=null,al=0;function Ju(t){var a=al;return al+=1,ji===null&&(ji=[]),Og(ji,t,a)}function sl(t,a){a=a.props.ref,t.ref=a!==void 0?a:null}function Xu(t,a){throw a.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(a),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":t)))}function ky(t){var a=t._init;return a(t._payload)}function Ey(t){function a(B,F){if(t){var $=B.deletions;$===null?(B.deletions=[F],B.flags|=16):$.push(F)}}function i(B,F){if(!t)return null;for(;F!==null;)a(B,F),F=F.sibling;return null}function l(B){for(var F=new Map;B!==null;)B.key!==null?F.set(B.key,B):F.set(B.index,B),B=B.sibling;return F}function d(B,F){return B=Qr(B,F),B.index=0,B.sibling=null,B}function f(B,F,$){return B.index=$,t?($=B.alternate,$!==null?($=$.index,$<F?(B.flags|=67108866,F):$):(B.flags|=67108866,F)):(B.flags|=1048576,F)}function w(B){return t&&B.alternate===null&&(B.flags|=67108866),B}function E(B,F,$,J){return F===null||F.tag!==6?(F=oh($,B.mode,J),F.return=B,F):(F=d(F,$),F.return=B,F)}function O(B,F,$,J){var fe=$.type;return fe===T?Q(B,F,$.props.children,J,$.key):F!==null&&(F.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===C&&ky(fe)===F.type)?(F=d(F,$.props),sl(F,$),F.return=B,F):(F=Mu($.type,$.key,$.props,null,B.mode,J),sl(F,$),F.return=B,F)}function q(B,F,$,J){return F===null||F.tag!==4||F.stateNode.containerInfo!==$.containerInfo||F.stateNode.implementation!==$.implementation?(F=lh($,B.mode,J),F.return=B,F):(F=d(F,$.children||[]),F.return=B,F)}function Q(B,F,$,J,fe){return F===null||F.tag!==7?(F=Rs($,B.mode,J,fe),F.return=B,F):(F=d(F,$),F.return=B,F)}function Z(B,F,$){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=oh(""+F,B.mode,$),F.return=B,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case k:return $=Mu(F.type,F.key,F.props,null,B.mode,$),sl($,F),$.return=B,$;case D:return F=lh(F,B.mode,$),F.return=B,F;case C:var J=F._init;return F=J(F._payload),Z(B,F,$)}if(et(F)||j(F))return F=Rs(F,B.mode,$,null),F.return=B,F;if(typeof F.then=="function")return Z(B,Ju(F),$);if(F.$$typeof===ae)return Z(B,ju(B,F),$);Xu(B,F)}return null}function W(B,F,$,J){var fe=F!==null?F.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return fe!==null?null:E(B,F,""+$,J);if(typeof $=="object"&&$!==null){switch($.$$typeof){case k:return $.key===fe?O(B,F,$,J):null;case D:return $.key===fe?q(B,F,$,J):null;case C:return fe=$._init,$=fe($._payload),W(B,F,$,J)}if(et($)||j($))return fe!==null?null:Q(B,F,$,J,null);if(typeof $.then=="function")return W(B,F,Ju($),J);if($.$$typeof===ae)return W(B,F,ju(B,$),J);Xu(B,$)}return null}function G(B,F,$,J,fe){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return B=B.get($)||null,E(F,B,""+J,fe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case k:return B=B.get(J.key===null?$:J.key)||null,O(F,B,J,fe);case D:return B=B.get(J.key===null?$:J.key)||null,q(F,B,J,fe);case C:var Ie=J._init;return J=Ie(J._payload),G(B,F,$,J,fe)}if(et(J)||j(J))return B=B.get($)||null,Q(F,B,J,fe,null);if(typeof J.then=="function")return G(B,F,$,Ju(J),fe);if(J.$$typeof===ae)return G(B,F,$,ju(F,J),fe);Xu(F,J)}return null}function ke(B,F,$,J){for(var fe=null,Ie=null,ge=F,Se=F=0,qt=null;ge!==null&&Se<$.length;Se++){ge.index>Se?(qt=ge,ge=null):qt=ge.sibling;var $e=W(B,ge,$[Se],J);if($e===null){ge===null&&(ge=qt);break}t&&ge&&$e.alternate===null&&a(B,ge),F=f($e,F,Se),Ie===null?fe=$e:Ie.sibling=$e,Ie=$e,ge=qt}if(Se===$.length)return i(B,ge),We&&js(B,Se),fe;if(ge===null){for(;Se<$.length;Se++)ge=Z(B,$[Se],J),ge!==null&&(F=f(ge,F,Se),Ie===null?fe=ge:Ie.sibling=ge,Ie=ge);return We&&js(B,Se),fe}for(ge=l(ge);Se<$.length;Se++)qt=G(ge,B,Se,$[Se],J),qt!==null&&(t&&qt.alternate!==null&&ge.delete(qt.key===null?Se:qt.key),F=f(qt,F,Se),Ie===null?fe=qt:Ie.sibling=qt,Ie=qt);return t&&ge.forEach(function(Ha){return a(B,Ha)}),We&&js(B,Se),fe}function we(B,F,$,J){if($==null)throw Error(s(151));for(var fe=null,Ie=null,ge=F,Se=F=0,qt=null,$e=$.next();ge!==null&&!$e.done;Se++,$e=$.next()){ge.index>Se?(qt=ge,ge=null):qt=ge.sibling;var Ha=W(B,ge,$e.value,J);if(Ha===null){ge===null&&(ge=qt);break}t&&ge&&Ha.alternate===null&&a(B,ge),F=f(Ha,F,Se),Ie===null?fe=Ha:Ie.sibling=Ha,Ie=Ha,ge=qt}if($e.done)return i(B,ge),We&&js(B,Se),fe;if(ge===null){for(;!$e.done;Se++,$e=$.next())$e=Z(B,$e.value,J),$e!==null&&(F=f($e,F,Se),Ie===null?fe=$e:Ie.sibling=$e,Ie=$e);return We&&js(B,Se),fe}for(ge=l(ge);!$e.done;Se++,$e=$.next())$e=G(ge,B,Se,$e.value,J),$e!==null&&(t&&$e.alternate!==null&&ge.delete($e.key===null?Se:$e.key),F=f($e,F,Se),Ie===null?fe=$e:Ie.sibling=$e,Ie=$e);return t&&ge.forEach(function(wE){return a(B,wE)}),We&&js(B,Se),fe}function at(B,F,$,J){if(typeof $=="object"&&$!==null&&$.type===T&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case k:e:{for(var fe=$.key;F!==null;){if(F.key===fe){if(fe=$.type,fe===T){if(F.tag===7){i(B,F.sibling),J=d(F,$.props.children),J.return=B,B=J;break e}}else if(F.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===C&&ky(fe)===F.type){i(B,F.sibling),J=d(F,$.props),sl(J,$),J.return=B,B=J;break e}i(B,F);break}else a(B,F);F=F.sibling}$.type===T?(J=Rs($.props.children,B.mode,J,$.key),J.return=B,B=J):(J=Mu($.type,$.key,$.props,null,B.mode,J),sl(J,$),J.return=B,B=J)}return w(B);case D:e:{for(fe=$.key;F!==null;){if(F.key===fe)if(F.tag===4&&F.stateNode.containerInfo===$.containerInfo&&F.stateNode.implementation===$.implementation){i(B,F.sibling),J=d(F,$.children||[]),J.return=B,B=J;break e}else{i(B,F);break}else a(B,F);F=F.sibling}J=lh($,B.mode,J),J.return=B,B=J}return w(B);case C:return fe=$._init,$=fe($._payload),at(B,F,$,J)}if(et($))return ke(B,F,$,J);if(j($)){if(fe=j($),typeof fe!="function")throw Error(s(150));return $=fe.call($),we(B,F,$,J)}if(typeof $.then=="function")return at(B,F,Ju($),J);if($.$$typeof===ae)return at(B,F,ju(B,$),J);Xu(B,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,F!==null&&F.tag===6?(i(B,F.sibling),J=d(F,$),J.return=B,B=J):(i(B,F),J=oh($,B.mode,J),J.return=B,B=J),w(B)):i(B,F)}return function(B,F,$,J){try{al=0;var fe=at(B,F,$,J);return ji=null,fe}catch(ge){if(ge===Yo||ge===Vu)throw ge;var Ie=Dn(29,ge,null,B.mode);return Ie.lanes=J,Ie.return=B,Ie}finally{}}}var zi=Ey(!0),xy=Ey(!1),Jn=te(null),na=null;function Pa(t){var a=t.alternate;re(Ft,Ft.current&1),re(Jn,t),na===null&&(a===null||Mi.current!==null||a.memoizedState!==null)&&(na=t)}function Cy(t){if(t.tag===22){if(re(Ft,Ft.current),re(Jn,t),na===null){var a=t.alternate;a!==null&&a.memoizedState!==null&&(na=t)}}else Ma()}function Ma(){re(Ft,Ft.current),re(Jn,Jn.current)}function ra(t){oe(Jn),na===t&&(na=null),oe(Ft)}var Ft=te(0);function Zu(t){for(var a=t;a!==null;){if(a.tag===13){var i=a.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||If(i)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Bh(t,a,i,l){a=t.memoizedState,i=i(l,a),i=i==null?a:v({},a,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var Uh={enqueueSetState:function(t,a,i){t=t._reactInternals;var l=Mn(),d=Da(l);d.payload=a,i!=null&&(d.callback=i),a=Ia(t,d,l),a!==null&&(Ln(a,t,l),Jo(a,t,l))},enqueueReplaceState:function(t,a,i){t=t._reactInternals;var l=Mn(),d=Da(l);d.tag=1,d.payload=a,i!=null&&(d.callback=i),a=Ia(t,d,l),a!==null&&(Ln(a,t,l),Jo(a,t,l))},enqueueForceUpdate:function(t,a){t=t._reactInternals;var i=Mn(),l=Da(i);l.tag=2,a!=null&&(l.callback=a),a=Ia(t,l,i),a!==null&&(Ln(a,t,i),Jo(a,t,i))}};function _y(t,a,i,l,d,f,w){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,w):a.prototype&&a.prototype.isPureReactComponent?!Bo(i,l)||!Bo(d,f):!0}function Ty(t,a,i,l){t=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(i,l),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(i,l),a.state!==t&&Uh.enqueueReplaceState(a,a.state,null)}function Ks(t,a){var i=a;if("ref"in a){i={};for(var l in a)l!=="ref"&&(i[l]=a[l])}if(t=t.defaultProps){i===a&&(i=v({},i));for(var d in t)i[d]===void 0&&(i[d]=t[d])}return i}var ec=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Ny(t){ec(t)}function Ay(t){console.error(t)}function Dy(t){ec(t)}function tc(t,a){try{var i=t.onUncaughtError;i(a.value,{componentStack:a.stack})}catch(l){setTimeout(function(){throw l})}}function Iy(t,a,i){try{var l=t.onCaughtError;l(i.value,{componentStack:i.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function $h(t,a,i){return i=Da(i),i.tag=3,i.payload={element:null},i.callback=function(){tc(t,a)},i}function Oy(t){return t=Da(t),t.tag=3,t}function Py(t,a,i,l){var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var f=l.value;t.payload=function(){return d(f)},t.callback=function(){Iy(a,i,l)}}var w=i.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(t.callback=function(){Iy(a,i,l),typeof d!="function"&&(Va===null?Va=new Set([this]):Va.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function wk(t,a,i,l,d){if(i.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(a=i.alternate,a!==null&&Wo(a,i,d,!0),i=Jn.current,i!==null){switch(i.tag){case 13:return na===null?pf():i.alternate===null&&kt===0&&(kt=3),i.flags&=-257,i.flags|=65536,i.lanes=d,l===vh?i.flags|=16384:(a=i.updateQueue,a===null?i.updateQueue=new Set([l]):a.add(l),gf(t,l,d)),!1;case 22:return i.flags|=65536,l===vh?i.flags|=16384:(a=i.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([l])},i.updateQueue=a):(i=a.retryQueue,i===null?a.retryQueue=new Set([l]):i.add(l)),gf(t,l,d)),!1}throw Error(s(435,i.tag))}return gf(t,l,d),pf(),!1}if(We)return a=Jn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=d,l!==dh&&(t=Error(s(422),{cause:l}),Ko(Gn(t,i)))):(l!==dh&&(a=Error(s(423),{cause:l}),Ko(Gn(a,i))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=Gn(l,i),d=$h(t.stateNode,l,d),Sh(t,d),kt!==4&&(kt=2)),!1;var f=Error(s(520),{cause:l});if(f=Gn(f,i),hl===null?hl=[f]:hl.push(f),kt!==4&&(kt=2),a===null)return!0;l=Gn(l,i),i=a;do{switch(i.tag){case 3:return i.flags|=65536,t=d&-d,i.lanes|=t,t=$h(i.stateNode,l,t),Sh(i,t),!1;case 1:if(a=i.type,f=i.stateNode,(i.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Va===null||!Va.has(f))))return i.flags|=65536,d&=-d,i.lanes|=d,d=Oy(d),Py(d,t,i,l),Sh(i,d),!1}i=i.return}while(i!==null);return!1}var My=Error(s(461)),Ut=!1;function Jt(t,a,i,l){a.child=t===null?xy(a,null,i,l):zi(a,t.child,i,l)}function Ly(t,a,i,l,d){i=i.render;var f=a.ref;if("ref"in l){var w={};for(var E in l)E!=="ref"&&(w[E]=l[E])}else w=l;return Us(a),l=_h(t,a,i,w,f,d),E=Th(),t!==null&&!Ut?(Nh(t,a,d),aa(t,a,d)):(We&&E&&uh(a),a.flags|=1,Jt(t,a,l,d),a.child)}function Ry(t,a,i,l,d){if(t===null){var f=i.type;return typeof f=="function"&&!ih(f)&&f.defaultProps===void 0&&i.compare===null?(a.tag=15,a.type=f,Fy(t,a,f,l,d)):(t=Mu(i.type,null,l,a,a.mode,d),t.ref=a.ref,t.return=a,a.child=t)}if(f=t.child,!Jh(t,d)){var w=f.memoizedProps;if(i=i.compare,i=i!==null?i:Bo,i(w,l)&&t.ref===a.ref)return aa(t,a,d)}return a.flags|=1,t=Qr(f,l),t.ref=a.ref,t.return=a,a.child=t}function Fy(t,a,i,l,d){if(t!==null){var f=t.memoizedProps;if(Bo(f,l)&&t.ref===a.ref)if(Ut=!1,a.pendingProps=l=f,Jh(t,d))(t.flags&131072)!==0&&(Ut=!0);else return a.lanes=t.lanes,aa(t,a,d)}return qh(t,a,i,l,d)}function jy(t,a,i){var l=a.pendingProps,d=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((a.flags&128)!==0){if(l=f!==null?f.baseLanes|i:i,t!==null){for(d=a.child=t.child,f=0;d!==null;)f=f|d.lanes|d.childLanes,d=d.sibling;a.childLanes=f&~l}else a.childLanes=0,a.child=null;return zy(t,a,l,i)}if((i&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},t!==null&&zu(a,f!==null?f.cachePool:null),f!==null?Fg(a,f):Eh(),Cy(a);else return a.lanes=a.childLanes=536870912,zy(t,a,f!==null?f.baseLanes|i:i,i)}else f!==null?(zu(a,f.cachePool),Fg(a,f),Ma(),a.memoizedState=null):(t!==null&&zu(a,null),Eh(),Ma());return Jt(t,a,d,i),a.child}function zy(t,a,i,l){var d=yh();return d=d===null?null:{parent:Rt._currentValue,pool:d},a.memoizedState={baseLanes:i,cachePool:d},t!==null&&zu(a,null),Eh(),Cy(a),t!==null&&Wo(t,a,l,!0),null}function nc(t,a){var i=a.ref;if(i===null)t!==null&&t.ref!==null&&(a.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(s(284));(t===null||t.ref!==i)&&(a.flags|=4194816)}}function qh(t,a,i,l,d){return Us(a),i=_h(t,a,i,l,void 0,d),l=Th(),t!==null&&!Ut?(Nh(t,a,d),aa(t,a,d)):(We&&l&&uh(a),a.flags|=1,Jt(t,a,i,d),a.child)}function Vy(t,a,i,l,d,f){return Us(a),a.updateQueue=null,i=zg(a,l,i,d),jg(t),l=Th(),t!==null&&!Ut?(Nh(t,a,f),aa(t,a,f)):(We&&l&&uh(a),a.flags|=1,Jt(t,a,i,f),a.child)}function By(t,a,i,l,d){if(Us(a),a.stateNode===null){var f=Ai,w=i.contextType;typeof w=="object"&&w!==null&&(f=sn(w)),f=new i(l,f),a.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Uh,a.stateNode=f,f._reactInternals=a,f=a.stateNode,f.props=l,f.state=a.memoizedState,f.refs={},bh(a),w=i.contextType,f.context=typeof w=="object"&&w!==null?sn(w):Ai,f.state=a.memoizedState,w=i.getDerivedStateFromProps,typeof w=="function"&&(Bh(a,i,w,l),f.state=a.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(w=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),w!==f.state&&Uh.enqueueReplaceState(f,f.state,null),Zo(a,l,f,d),Xo(),f.state=a.memoizedState),typeof f.componentDidMount=="function"&&(a.flags|=4194308),l=!0}else if(t===null){f=a.stateNode;var E=a.memoizedProps,O=Ks(i,E);f.props=O;var q=f.context,Q=i.contextType;w=Ai,typeof Q=="object"&&Q!==null&&(w=sn(Q));var Z=i.getDerivedStateFromProps;Q=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=a.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||q!==w)&&Ty(a,f,l,w),Aa=!1;var W=a.memoizedState;f.state=W,Zo(a,l,f,d),Xo(),q=a.memoizedState,E||W!==q||Aa?(typeof Z=="function"&&(Bh(a,i,Z,l),q=a.memoizedState),(O=Aa||_y(a,i,O,l,W,q,w))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(a.flags|=4194308)):(typeof f.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=l,a.memoizedState=q),f.props=l,f.state=q,f.context=w,l=O):(typeof f.componentDidMount=="function"&&(a.flags|=4194308),l=!1)}else{f=a.stateNode,wh(t,a),w=a.memoizedProps,Q=Ks(i,w),f.props=Q,Z=a.pendingProps,W=f.context,q=i.contextType,O=Ai,typeof q=="object"&&q!==null&&(O=sn(q)),E=i.getDerivedStateFromProps,(q=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(w!==Z||W!==O)&&Ty(a,f,l,O),Aa=!1,W=a.memoizedState,f.state=W,Zo(a,l,f,d),Xo();var G=a.memoizedState;w!==Z||W!==G||Aa||t!==null&&t.dependencies!==null&&Fu(t.dependencies)?(typeof E=="function"&&(Bh(a,i,E,l),G=a.memoizedState),(Q=Aa||_y(a,i,Q,l,W,G,O)||t!==null&&t.dependencies!==null&&Fu(t.dependencies))?(q||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,G,O),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,G,O)),typeof f.componentDidUpdate=="function"&&(a.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof f.componentDidUpdate!="function"||w===t.memoizedProps&&W===t.memoizedState||(a.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&W===t.memoizedState||(a.flags|=1024),a.memoizedProps=l,a.memoizedState=G),f.props=l,f.state=G,f.context=O,l=Q):(typeof f.componentDidUpdate!="function"||w===t.memoizedProps&&W===t.memoizedState||(a.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&W===t.memoizedState||(a.flags|=1024),l=!1)}return f=l,nc(t,a),l=(a.flags&128)!==0,f||l?(f=a.stateNode,i=l&&typeof i.getDerivedStateFromError!="function"?null:f.render(),a.flags|=1,t!==null&&l?(a.child=zi(a,t.child,null,d),a.child=zi(a,null,i,d)):Jt(t,a,i,d),a.memoizedState=f.state,t=a.child):t=aa(t,a,d),t}function Uy(t,a,i,l){return qo(),a.flags|=256,Jt(t,a,i,l),a.child}var Kh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wh(t){return{baseLanes:t,cachePool:Ag()}}function Gh(t,a,i){return t=t!==null?t.childLanes&~i:0,a&&(t|=Xn),t}function $y(t,a,i){var l=a.pendingProps,d=!1,f=(a.flags&128)!==0,w;if((w=f)||(w=t!==null&&t.memoizedState===null?!1:(Ft.current&2)!==0),w&&(d=!0,a.flags&=-129),w=(a.flags&32)!==0,a.flags&=-33,t===null){if(We){if(d?Pa(a):Ma(),We){var E=St,O;if(O=E){e:{for(O=E,E=Tr;O.nodeType!==8;){if(!E){E=null;break e}if(O=lr(O.nextSibling),O===null){E=null;break e}}E=O}E!==null?(a.memoizedState={dehydrated:E,treeContext:Fs!==null?{id:Jr,overflow:Xr}:null,retryLane:536870912,hydrationErrors:null},O=Dn(18,null,null,0),O.stateNode=E,O.return=a,a.child=O,gn=a,St=null,O=!0):O=!1}O||Vs(a)}if(E=a.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return If(E)?a.lanes=32:a.lanes=536870912,null;ra(a)}return E=l.children,l=l.fallback,d?(Ma(),d=a.mode,E=rc({mode:"hidden",children:E},d),l=Rs(l,d,i,null),E.return=a,l.return=a,E.sibling=l,a.child=E,d=a.child,d.memoizedState=Wh(i),d.childLanes=Gh(t,w,i),a.memoizedState=Kh,l):(Pa(a),Hh(a,E))}if(O=t.memoizedState,O!==null&&(E=O.dehydrated,E!==null)){if(f)a.flags&256?(Pa(a),a.flags&=-257,a=Yh(t,a,i)):a.memoizedState!==null?(Ma(),a.child=t.child,a.flags|=128,a=null):(Ma(),d=l.fallback,E=a.mode,l=rc({mode:"visible",children:l.children},E),d=Rs(d,E,i,null),d.flags|=2,l.return=a,d.return=a,l.sibling=d,a.child=l,zi(a,t.child,null,i),l=a.child,l.memoizedState=Wh(i),l.childLanes=Gh(t,w,i),a.memoizedState=Kh,a=d);else if(Pa(a),If(E)){if(w=E.nextSibling&&E.nextSibling.dataset,w)var q=w.dgst;w=q,l=Error(s(419)),l.stack="",l.digest=w,Ko({value:l,source:null,stack:null}),a=Yh(t,a,i)}else if(Ut||Wo(t,a,i,!1),w=(i&t.childLanes)!==0,Ut||w){if(w=lt,w!==null&&(l=i&-i,l=(l&42)!==0?1:Pt(l),l=(l&(w.suspendedLanes|i))!==0?0:l,l!==0&&l!==O.retryLane))throw O.retryLane=l,Ni(t,l),Ln(w,t,l),My;E.data==="$?"||pf(),a=Yh(t,a,i)}else E.data==="$?"?(a.flags|=192,a.child=t.child,a=null):(t=O.treeContext,St=lr(E.nextSibling),gn=a,We=!0,zs=null,Tr=!1,t!==null&&(Yn[Qn++]=Jr,Yn[Qn++]=Xr,Yn[Qn++]=Fs,Jr=t.id,Xr=t.overflow,Fs=a),a=Hh(a,l.children),a.flags|=4096);return a}return d?(Ma(),d=l.fallback,E=a.mode,O=t.child,q=O.sibling,l=Qr(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,q!==null?d=Qr(q,d):(d=Rs(d,E,i,null),d.flags|=2),d.return=a,l.return=a,l.sibling=d,a.child=l,l=d,d=a.child,E=t.child.memoizedState,E===null?E=Wh(i):(O=E.cachePool,O!==null?(q=Rt._currentValue,O=O.parent!==q?{parent:q,pool:q}:O):O=Ag(),E={baseLanes:E.baseLanes|i,cachePool:O}),d.memoizedState=E,d.childLanes=Gh(t,w,i),a.memoizedState=Kh,l):(Pa(a),i=t.child,t=i.sibling,i=Qr(i,{mode:"visible",children:l.children}),i.return=a,i.sibling=null,t!==null&&(w=a.deletions,w===null?(a.deletions=[t],a.flags|=16):w.push(t)),a.child=i,a.memoizedState=null,i)}function Hh(t,a){return a=rc({mode:"visible",children:a},t.mode),a.return=t,t.child=a}function rc(t,a){return t=Dn(22,t,null,a),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Yh(t,a,i){return zi(a,t.child,null,i),t=Hh(a,a.pendingProps.children),t.flags|=2,a.memoizedState=null,t}function qy(t,a,i){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a),fh(t.return,a,i)}function Qh(t,a,i,l,d){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:d}:(f.isBackwards=a,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=i,f.tailMode=d)}function Ky(t,a,i){var l=a.pendingProps,d=l.revealOrder,f=l.tail;if(Jt(t,a,l.children,i),l=Ft.current,(l&2)!==0)l=l&1|2,a.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=a.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&qy(t,i,a);else if(t.tag===19)qy(t,i,a);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===a)break e;for(;t.sibling===null;){if(t.return===null||t.return===a)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(re(Ft,l),d){case"forwards":for(i=a.child,d=null;i!==null;)t=i.alternate,t!==null&&Zu(t)===null&&(d=i),i=i.sibling;i=d,i===null?(d=a.child,a.child=null):(d=i.sibling,i.sibling=null),Qh(a,!1,d,i,f);break;case"backwards":for(i=null,d=a.child,a.child=null;d!==null;){if(t=d.alternate,t!==null&&Zu(t)===null){a.child=d;break}t=d.sibling,d.sibling=i,i=d,d=t}Qh(a,!0,i,null,f);break;case"together":Qh(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function aa(t,a,i){if(t!==null&&(a.dependencies=t.dependencies),za|=a.lanes,(i&a.childLanes)===0)if(t!==null){if(Wo(t,a,i,!1),(i&a.childLanes)===0)return null}else return null;if(t!==null&&a.child!==t.child)throw Error(s(153));if(a.child!==null){for(t=a.child,i=Qr(t,t.pendingProps),a.child=i,i.return=a;t.sibling!==null;)t=t.sibling,i=i.sibling=Qr(t,t.pendingProps),i.return=a;i.sibling=null}return a.child}function Jh(t,a){return(t.lanes&a)!==0?!0:(t=t.dependencies,!!(t!==null&&Fu(t)))}function Sk(t,a,i){switch(a.tag){case 3:Re(a,a.stateNode.containerInfo),Na(a,Rt,t.memoizedState.cache),qo();break;case 27:case 5:Fn(a);break;case 4:Re(a,a.stateNode.containerInfo);break;case 10:Na(a,a.type,a.memoizedProps.value);break;case 13:var l=a.memoizedState;if(l!==null)return l.dehydrated!==null?(Pa(a),a.flags|=128,null):(i&a.child.childLanes)!==0?$y(t,a,i):(Pa(a),t=aa(t,a,i),t!==null?t.sibling:null);Pa(a);break;case 19:var d=(t.flags&128)!==0;if(l=(i&a.childLanes)!==0,l||(Wo(t,a,i,!1),l=(i&a.childLanes)!==0),d){if(l)return Ky(t,a,i);a.flags|=128}if(d=a.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),re(Ft,Ft.current),l)break;return null;case 22:case 23:return a.lanes=0,jy(t,a,i);case 24:Na(a,Rt,t.memoizedState.cache)}return aa(t,a,i)}function Wy(t,a,i){if(t!==null)if(t.memoizedProps!==a.pendingProps)Ut=!0;else{if(!Jh(t,i)&&(a.flags&128)===0)return Ut=!1,Sk(t,a,i);Ut=(t.flags&131072)!==0}else Ut=!1,We&&(a.flags&1048576)!==0&&kg(a,Ru,a.index);switch(a.lanes=0,a.tag){case 16:e:{t=a.pendingProps;var l=a.elementType,d=l._init;if(l=d(l._payload),a.type=l,typeof l=="function")ih(l)?(t=Ks(l,t),a.tag=1,a=By(null,a,l,t,i)):(a.tag=0,a=qh(null,a,l,t,i));else{if(l!=null){if(d=l.$$typeof,d===ue){a.tag=11,a=Ly(null,a,l,t,i);break e}else if(d===P){a.tag=14,a=Ry(null,a,l,t,i);break e}}throw a=Ye(l)||l,Error(s(306,a,""))}}return a;case 0:return qh(t,a,a.type,a.pendingProps,i);case 1:return l=a.type,d=Ks(l,a.pendingProps),By(t,a,l,d,i);case 3:e:{if(Re(a,a.stateNode.containerInfo),t===null)throw Error(s(387));l=a.pendingProps;var f=a.memoizedState;d=f.element,wh(t,a),Zo(a,l,null,i);var w=a.memoizedState;if(l=w.cache,Na(a,Rt,l),l!==f.cache&&ph(a,[Rt],i,!0),Xo(),l=w.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:w.cache},a.updateQueue.baseState=f,a.memoizedState=f,a.flags&256){a=Uy(t,a,l,i);break e}else if(l!==d){d=Gn(Error(s(424)),a),Ko(d),a=Uy(t,a,l,i);break e}else{switch(t=a.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(St=lr(t.firstChild),gn=a,We=!0,zs=null,Tr=!0,i=xy(a,null,l,i),a.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(qo(),l===d){a=aa(t,a,i);break e}Jt(t,a,l,i)}a=a.child}return a;case 26:return nc(t,a),t===null?(i=Qv(a.type,null,a.pendingProps,null))?a.memoizedState=i:We||(i=a.type,t=a.pendingProps,l=yc(ve.current).createElement(i),l[vt]=a,l[ct]=t,Zt(l,i,t),Be(l),a.stateNode=l):a.memoizedState=Qv(a.type,t.memoizedProps,a.pendingProps,t.memoizedState),null;case 27:return Fn(a),t===null&&We&&(l=a.stateNode=Gv(a.type,a.pendingProps,ve.current),gn=a,Tr=!0,d=St,$a(a.type)?(Of=d,St=lr(l.firstChild)):St=d),Jt(t,a,a.pendingProps.children,i),nc(t,a),t===null&&(a.flags|=4194304),a.child;case 5:return t===null&&We&&((d=l=St)&&(l=Yk(l,a.type,a.pendingProps,Tr),l!==null?(a.stateNode=l,gn=a,St=lr(l.firstChild),Tr=!1,d=!0):d=!1),d||Vs(a)),Fn(a),d=a.type,f=a.pendingProps,w=t!==null?t.memoizedProps:null,l=f.children,Nf(d,f)?l=null:w!==null&&Nf(d,w)&&(a.flags|=32),a.memoizedState!==null&&(d=_h(t,a,fk,null,null,i),Sl._currentValue=d),nc(t,a),Jt(t,a,l,i),a.child;case 6:return t===null&&We&&((t=i=St)&&(i=Qk(i,a.pendingProps,Tr),i!==null?(a.stateNode=i,gn=a,St=null,t=!0):t=!1),t||Vs(a)),null;case 13:return $y(t,a,i);case 4:return Re(a,a.stateNode.containerInfo),l=a.pendingProps,t===null?a.child=zi(a,null,l,i):Jt(t,a,l,i),a.child;case 11:return Ly(t,a,a.type,a.pendingProps,i);case 7:return Jt(t,a,a.pendingProps,i),a.child;case 8:return Jt(t,a,a.pendingProps.children,i),a.child;case 12:return Jt(t,a,a.pendingProps.children,i),a.child;case 10:return l=a.pendingProps,Na(a,a.type,l.value),Jt(t,a,l.children,i),a.child;case 9:return d=a.type._context,l=a.pendingProps.children,Us(a),d=sn(d),l=l(d),a.flags|=1,Jt(t,a,l,i),a.child;case 14:return Ry(t,a,a.type,a.pendingProps,i);case 15:return Fy(t,a,a.type,a.pendingProps,i);case 19:return Ky(t,a,i);case 31:return l=a.pendingProps,i=a.mode,l={mode:l.mode,children:l.children},t===null?(i=rc(l,i),i.ref=a.ref,a.child=i,i.return=a,a=i):(i=Qr(t.child,l),i.ref=a.ref,a.child=i,i.return=a,a=i),a;case 22:return jy(t,a,i);case 24:return Us(a),l=sn(Rt),t===null?(d=yh(),d===null&&(d=lt,f=mh(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=i),d=f),a.memoizedState={parent:l,cache:d},bh(a),Na(a,Rt,d)):((t.lanes&i)!==0&&(wh(t,a),Zo(a,null,null,i),Xo()),d=t.memoizedState,f=a.memoizedState,d.parent!==l?(d={parent:l,cache:l},a.memoizedState=d,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=d),Na(a,Rt,l)):(l=f.cache,Na(a,Rt,l),l!==d.cache&&ph(a,[Rt],i,!0))),Jt(t,a,a.pendingProps.children,i),a.child;case 29:throw a.pendingProps}throw Error(s(156,a.tag))}function sa(t){t.flags|=4}function Gy(t,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!tb(a)){if(a=Jn.current,a!==null&&((Fe&4194048)===Fe?na!==null:(Fe&62914560)!==Fe&&(Fe&536870912)===0||a!==na))throw Qo=vh,Dg;t.flags|=8192}}function ac(t,a){a!==null&&(t.flags|=4),t.flags&16384&&(a=t.tag!==22?vs():536870912,t.lanes|=a,$i|=a)}function il(t,a){if(!We)switch(t.tailMode){case"hidden":a=t.tail;for(var i=null;a!==null;)a.alternate!==null&&(i=a),a=a.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?a||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function bt(t){var a=t.alternate!==null&&t.alternate.child===t.child,i=0,l=0;if(a)for(var d=t.child;d!==null;)i|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)i|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=i,a}function kk(t,a,i){var l=a.pendingProps;switch(ch(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(a),null;case 1:return bt(a),null;case 3:return i=a.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),ea(Rt),vn(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&($o(a)?sa(a):t===null||t.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Cg())),bt(a),null;case 26:return i=a.memoizedState,t===null?(sa(a),i!==null?(bt(a),Gy(a,i)):(bt(a),a.flags&=-16777217)):i?i!==t.memoizedState?(sa(a),bt(a),Gy(a,i)):(bt(a),a.flags&=-16777217):(t.memoizedProps!==l&&sa(a),bt(a),a.flags&=-16777217),null;case 27:_n(a),i=ve.current;var d=a.type;if(t!==null&&a.stateNode!=null)t.memoizedProps!==l&&sa(a);else{if(!l){if(a.stateNode===null)throw Error(s(166));return bt(a),null}t=me.current,$o(a)?Eg(a):(t=Gv(d,l,i),a.stateNode=t,sa(a))}return bt(a),null;case 5:if(_n(a),i=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==l&&sa(a);else{if(!l){if(a.stateNode===null)throw Error(s(166));return bt(a),null}if(t=me.current,$o(a))Eg(a);else{switch(d=yc(ve.current),t){case 1:t=d.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:t=d.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":t=d.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":t=d.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?d.createElement("select",{is:l.is}):d.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?d.createElement(i,{is:l.is}):d.createElement(i)}}t[vt]=a,t[ct]=l;e:for(d=a.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break e;for(;d.sibling===null;){if(d.return===null||d.return===a)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}a.stateNode=t;e:switch(Zt(t,i,l),i){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&sa(a)}}return bt(a),a.flags&=-16777217,null;case 6:if(t&&a.stateNode!=null)t.memoizedProps!==l&&sa(a);else{if(typeof l!="string"&&a.stateNode===null)throw Error(s(166));if(t=ve.current,$o(a)){if(t=a.stateNode,i=a.memoizedProps,l=null,d=gn,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[vt]=a,t=!!(t.nodeValue===i||l!==null&&l.suppressHydrationWarning===!0||Vv(t.nodeValue,i)),t||Vs(a)}else t=yc(t).createTextNode(l),t[vt]=a,a.stateNode=t}return bt(a),null;case 13:if(l=a.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=$o(a),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(s(318));if(d=a.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[vt]=a}else qo(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;bt(a),d=!1}else d=Cg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return a.flags&256?(ra(a),a):(ra(a),null)}if(ra(a),(a.flags&128)!==0)return a.lanes=i,a;if(i=l!==null,t=t!==null&&t.memoizedState!==null,i){l=a.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==d&&(l.flags|=2048)}return i!==t&&i&&(a.child.flags|=8192),ac(a,a.updateQueue),bt(a),null;case 4:return vn(),t===null&&Ef(a.stateNode.containerInfo),bt(a),null;case 10:return ea(a.type),bt(a),null;case 19:if(oe(Ft),d=a.memoizedState,d===null)return bt(a),null;if(l=(a.flags&128)!==0,f=d.rendering,f===null)if(l)il(d,!1);else{if(kt!==0||t!==null&&(t.flags&128)!==0)for(t=a.child;t!==null;){if(f=Zu(t),f!==null){for(a.flags|=128,il(d,!1),t=f.updateQueue,a.updateQueue=t,ac(a,t),a.subtreeFlags=0,t=i,i=a.child;i!==null;)Sg(i,t),i=i.sibling;return re(Ft,Ft.current&1|2),a.child}t=t.sibling}d.tail!==null&&hn()>oc&&(a.flags|=128,l=!0,il(d,!1),a.lanes=4194304)}else{if(!l)if(t=Zu(f),t!==null){if(a.flags|=128,l=!0,t=t.updateQueue,a.updateQueue=t,ac(a,t),il(d,!0),d.tail===null&&d.tailMode==="hidden"&&!f.alternate&&!We)return bt(a),null}else 2*hn()-d.renderingStartTime>oc&&i!==536870912&&(a.flags|=128,l=!0,il(d,!1),a.lanes=4194304);d.isBackwards?(f.sibling=a.child,a.child=f):(t=d.last,t!==null?t.sibling=f:a.child=f,d.last=f)}return d.tail!==null?(a=d.tail,d.rendering=a,d.tail=a.sibling,d.renderingStartTime=hn(),a.sibling=null,t=Ft.current,re(Ft,l?t&1|2:t&1),a):(bt(a),null);case 22:case 23:return ra(a),xh(),l=a.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(a.flags|=8192):l&&(a.flags|=8192),l?(i&536870912)!==0&&(a.flags&128)===0&&(bt(a),a.subtreeFlags&6&&(a.flags|=8192)):bt(a),i=a.updateQueue,i!==null&&ac(a,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),l=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),l!==i&&(a.flags|=2048),t!==null&&oe($s),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),a.memoizedState.cache!==i&&(a.flags|=2048),ea(Rt),bt(a),null;case 25:return null;case 30:return null}throw Error(s(156,a.tag))}function Ek(t,a){switch(ch(a),a.tag){case 1:return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 3:return ea(Rt),vn(),t=a.flags,(t&65536)!==0&&(t&128)===0?(a.flags=t&-65537|128,a):null;case 26:case 27:case 5:return _n(a),null;case 13:if(ra(a),t=a.memoizedState,t!==null&&t.dehydrated!==null){if(a.alternate===null)throw Error(s(340));qo()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 19:return oe(Ft),null;case 4:return vn(),null;case 10:return ea(a.type),null;case 22:case 23:return ra(a),xh(),t!==null&&oe($s),t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 24:return ea(Rt),null;case 25:return null;default:return null}}function Hy(t,a){switch(ch(a),a.tag){case 3:ea(Rt),vn();break;case 26:case 27:case 5:_n(a);break;case 4:vn();break;case 13:ra(a);break;case 19:oe(Ft);break;case 10:ea(a.type);break;case 22:case 23:ra(a),xh(),t!==null&&oe($s);break;case 24:ea(Rt)}}function ol(t,a){try{var i=a.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var d=l.next;i=d;do{if((i.tag&t)===t){l=void 0;var f=i.create,w=i.inst;l=f(),w.destroy=l}i=i.next}while(i!==d)}}catch(E){ot(a,a.return,E)}}function La(t,a,i){try{var l=a.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var f=d.next;l=f;do{if((l.tag&t)===t){var w=l.inst,E=w.destroy;if(E!==void 0){w.destroy=void 0,d=a;var O=i,q=E;try{q()}catch(Q){ot(d,O,Q)}}}l=l.next}while(l!==f)}}catch(Q){ot(a,a.return,Q)}}function Yy(t){var a=t.updateQueue;if(a!==null){var i=t.stateNode;try{Rg(a,i)}catch(l){ot(t,t.return,l)}}}function Qy(t,a,i){i.props=Ks(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(l){ot(t,a,l)}}function ll(t,a){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof i=="function"?t.refCleanup=i(l):i.current=l}}catch(d){ot(t,a,d)}}function Nr(t,a){var i=t.ref,l=t.refCleanup;if(i!==null)if(typeof l=="function")try{l()}catch(d){ot(t,a,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(d){ot(t,a,d)}else i.current=null}function Jy(t){var a=t.type,i=t.memoizedProps,l=t.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":i.autoFocus&&l.focus();break e;case"img":i.src?l.src=i.src:i.srcSet&&(l.srcset=i.srcSet)}}catch(d){ot(t,t.return,d)}}function Xh(t,a,i){try{var l=t.stateNode;qk(l,t.type,i,a),l[ct]=a}catch(d){ot(t,t.return,d)}}function Xy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&$a(t.type)||t.tag===4}function Zh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Xy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&$a(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ef(t,a,i){var l=t.tag;if(l===5||l===6)t=t.stateNode,a?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,a):(a=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.appendChild(t),i=i._reactRootContainer,i!=null||a.onclick!==null||(a.onclick=gc));else if(l!==4&&(l===27&&$a(t.type)&&(i=t.stateNode,a=null),t=t.child,t!==null))for(ef(t,a,i),t=t.sibling;t!==null;)ef(t,a,i),t=t.sibling}function sc(t,a,i){var l=t.tag;if(l===5||l===6)t=t.stateNode,a?i.insertBefore(t,a):i.appendChild(t);else if(l!==4&&(l===27&&$a(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(sc(t,a,i),t=t.sibling;t!==null;)sc(t,a,i),t=t.sibling}function Zy(t){var a=t.stateNode,i=t.memoizedProps;try{for(var l=t.type,d=a.attributes;d.length;)a.removeAttributeNode(d[0]);Zt(a,l,i),a[vt]=t,a[ct]=i}catch(f){ot(t,t.return,f)}}var ia=!1,Ct=!1,tf=!1,ev=typeof WeakSet=="function"?WeakSet:Set,$t=null;function xk(t,a){if(t=t.containerInfo,_f=Ec,t=dg(t),Zd(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else e:{i=(i=t.ownerDocument)&&i.defaultView||window;var l=i.getSelection&&i.getSelection();if(l&&l.rangeCount!==0){i=l.anchorNode;var d=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var w=0,E=-1,O=-1,q=0,Q=0,Z=t,W=null;t:for(;;){for(var G;Z!==i||d!==0&&Z.nodeType!==3||(E=w+d),Z!==f||l!==0&&Z.nodeType!==3||(O=w+l),Z.nodeType===3&&(w+=Z.nodeValue.length),(G=Z.firstChild)!==null;)W=Z,Z=G;for(;;){if(Z===t)break t;if(W===i&&++q===d&&(E=w),W===f&&++Q===l&&(O=w),(G=Z.nextSibling)!==null)break;Z=W,W=Z.parentNode}Z=G}i=E===-1||O===-1?null:{start:E,end:O}}else i=null}i=i||{start:0,end:0}}else i=null;for(Tf={focusedElem:t,selectionRange:i},Ec=!1,$t=a;$t!==null;)if(a=$t,t=a.child,(a.subtreeFlags&1024)!==0&&t!==null)t.return=a,$t=t;else for(;$t!==null;){switch(a=$t,f=a.alternate,t=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,i=a,d=f.memoizedProps,f=f.memoizedState,l=i.stateNode;try{var ke=Ks(i.type,d,i.elementType===i.type);t=l.getSnapshotBeforeUpdate(ke,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(we){ot(i,i.return,we)}}break;case 3:if((t&1024)!==0){if(t=a.stateNode.containerInfo,i=t.nodeType,i===9)Df(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Df(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=a.sibling,t!==null){t.return=a.return,$t=t;break}$t=a.return}}function tv(t,a,i){var l=i.flags;switch(i.tag){case 0:case 11:case 15:Ra(t,i),l&4&&ol(5,i);break;case 1:if(Ra(t,i),l&4)if(t=i.stateNode,a===null)try{t.componentDidMount()}catch(w){ot(i,i.return,w)}else{var d=Ks(i.type,a.memoizedProps);a=a.memoizedState;try{t.componentDidUpdate(d,a,t.__reactInternalSnapshotBeforeUpdate)}catch(w){ot(i,i.return,w)}}l&64&&Yy(i),l&512&&ll(i,i.return);break;case 3:if(Ra(t,i),l&64&&(t=i.updateQueue,t!==null)){if(a=null,i.child!==null)switch(i.child.tag){case 27:case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}try{Rg(t,a)}catch(w){ot(i,i.return,w)}}break;case 27:a===null&&l&4&&Zy(i);case 26:case 5:Ra(t,i),a===null&&l&4&&Jy(i),l&512&&ll(i,i.return);break;case 12:Ra(t,i);break;case 13:Ra(t,i),l&4&&av(t,i),l&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=Pk.bind(null,i),Jk(t,i))));break;case 22:if(l=i.memoizedState!==null||ia,!l){a=a!==null&&a.memoizedState!==null||Ct,d=ia;var f=Ct;ia=l,(Ct=a)&&!f?Fa(t,i,(i.subtreeFlags&8772)!==0):Ra(t,i),ia=d,Ct=f}break;case 30:break;default:Ra(t,i)}}function nv(t){var a=t.alternate;a!==null&&(t.alternate=null,nv(a)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(a=t.stateNode,a!==null&&yr(a)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var mt=null,Sn=!1;function oa(t,a,i){for(i=i.child;i!==null;)rv(t,a,i),i=i.sibling}function rv(t,a,i){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(ft,i)}catch{}switch(i.tag){case 26:Ct||Nr(i,a),oa(t,a,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Ct||Nr(i,a);var l=mt,d=Sn;$a(i.type)&&(mt=i.stateNode,Sn=!1),oa(t,a,i),yl(i.stateNode),mt=l,Sn=d;break;case 5:Ct||Nr(i,a);case 6:if(l=mt,d=Sn,mt=null,oa(t,a,i),mt=l,Sn=d,mt!==null)if(Sn)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(i.stateNode)}catch(f){ot(i,a,f)}else try{mt.removeChild(i.stateNode)}catch(f){ot(i,a,f)}break;case 18:mt!==null&&(Sn?(t=mt,Kv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),Cl(t)):Kv(mt,i.stateNode));break;case 4:l=mt,d=Sn,mt=i.stateNode.containerInfo,Sn=!0,oa(t,a,i),mt=l,Sn=d;break;case 0:case 11:case 14:case 15:Ct||La(2,i,a),Ct||La(4,i,a),oa(t,a,i);break;case 1:Ct||(Nr(i,a),l=i.stateNode,typeof l.componentWillUnmount=="function"&&Qy(i,a,l)),oa(t,a,i);break;case 21:oa(t,a,i);break;case 22:Ct=(l=Ct)||i.memoizedState!==null,oa(t,a,i),Ct=l;break;default:oa(t,a,i)}}function av(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Cl(t)}catch(i){ot(a,a.return,i)}}function Ck(t){switch(t.tag){case 13:case 19:var a=t.stateNode;return a===null&&(a=t.stateNode=new ev),a;case 22:return t=t.stateNode,a=t._retryCache,a===null&&(a=t._retryCache=new ev),a;default:throw Error(s(435,t.tag))}}function nf(t,a){var i=Ck(t);a.forEach(function(l){var d=Mk.bind(null,t,l);i.has(l)||(i.add(l),l.then(d,d))})}function In(t,a){var i=a.deletions;if(i!==null)for(var l=0;l<i.length;l++){var d=i[l],f=t,w=a,E=w;e:for(;E!==null;){switch(E.tag){case 27:if($a(E.type)){mt=E.stateNode,Sn=!1;break e}break;case 5:mt=E.stateNode,Sn=!1;break e;case 3:case 4:mt=E.stateNode.containerInfo,Sn=!0;break e}E=E.return}if(mt===null)throw Error(s(160));rv(f,w,d),mt=null,Sn=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)sv(a,t),a=a.sibling}var or=null;function sv(t,a){var i=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:In(a,t),On(t),l&4&&(La(3,t,t.return),ol(3,t),La(5,t,t.return));break;case 1:In(a,t),On(t),l&512&&(Ct||i===null||Nr(i,i.return)),l&64&&ia&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?l:i.concat(l))));break;case 26:var d=or;if(In(a,t),On(t),l&512&&(Ct||i===null||Nr(i,i.return)),l&4){var f=i!==null?i.memoizedState:null;if(l=t.memoizedState,i===null)if(l===null)if(t.stateNode===null){e:{l=t.type,i=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":f=d.getElementsByTagName("title")[0],(!f||f[gr]||f[vt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(l),d.head.insertBefore(f,d.querySelector("head > title"))),Zt(f,l,i),f[vt]=t,Be(f),l=f;break e;case"link":var w=Zv("link","href",d).get(l+(i.href||""));if(w){for(var E=0;E<w.length;E++)if(f=w[E],f.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&f.getAttribute("rel")===(i.rel==null?null:i.rel)&&f.getAttribute("title")===(i.title==null?null:i.title)&&f.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){w.splice(E,1);break t}}f=d.createElement(l),Zt(f,l,i),d.head.appendChild(f);break;case"meta":if(w=Zv("meta","content",d).get(l+(i.content||""))){for(E=0;E<w.length;E++)if(f=w[E],f.getAttribute("content")===(i.content==null?null:""+i.content)&&f.getAttribute("name")===(i.name==null?null:i.name)&&f.getAttribute("property")===(i.property==null?null:i.property)&&f.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&f.getAttribute("charset")===(i.charSet==null?null:i.charSet)){w.splice(E,1);break t}}f=d.createElement(l),Zt(f,l,i),d.head.appendChild(f);break;default:throw Error(s(468,l))}f[vt]=t,Be(f),l=f}t.stateNode=l}else eb(d,t.type,t.stateNode);else t.stateNode=Xv(d,l,t.memoizedProps);else f!==l?(f===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):f.count--,l===null?eb(d,t.type,t.stateNode):Xv(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Xh(t,t.memoizedProps,i.memoizedProps)}break;case 27:In(a,t),On(t),l&512&&(Ct||i===null||Nr(i,i.return)),i!==null&&l&4&&Xh(t,t.memoizedProps,i.memoizedProps);break;case 5:if(In(a,t),On(t),l&512&&(Ct||i===null||Nr(i,i.return)),t.flags&32){d=t.stateNode;try{$n(d,"")}catch(G){ot(t,t.return,G)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,Xh(t,d,i!==null?i.memoizedProps:d)),l&1024&&(tf=!0);break;case 6:if(In(a,t),On(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,i=t.stateNode;try{i.nodeValue=l}catch(G){ot(t,t.return,G)}}break;case 3:if(wc=null,d=or,or=vc(a.containerInfo),In(a,t),or=d,On(t),l&4&&i!==null&&i.memoizedState.isDehydrated)try{Cl(a.containerInfo)}catch(G){ot(t,t.return,G)}tf&&(tf=!1,iv(t));break;case 4:l=or,or=vc(t.stateNode.containerInfo),In(a,t),On(t),or=l;break;case 12:In(a,t),On(t);break;case 13:In(a,t),On(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(uf=hn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,nf(t,l)));break;case 22:d=t.memoizedState!==null;var O=i!==null&&i.memoizedState!==null,q=ia,Q=Ct;if(ia=q||d,Ct=Q||O,In(a,t),Ct=Q,ia=q,On(t),l&8192)e:for(a=t.stateNode,a._visibility=d?a._visibility&-2:a._visibility|1,d&&(i===null||O||ia||Ct||Ws(t)),i=null,a=t;;){if(a.tag===5||a.tag===26){if(i===null){O=i=a;try{if(f=O.stateNode,d)w=f.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{E=O.stateNode;var Z=O.memoizedProps.style,W=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;E.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(G){ot(O,O.return,G)}}}else if(a.tag===6){if(i===null){O=a;try{O.stateNode.nodeValue=d?"":O.memoizedProps}catch(G){ot(O,O.return,G)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===t)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;i===a&&(i=null),a=a.return}i===a&&(i=null),a.sibling.return=a.return,a=a.sibling}l&4&&(l=t.updateQueue,l!==null&&(i=l.retryQueue,i!==null&&(l.retryQueue=null,nf(t,i))));break;case 19:In(a,t),On(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,nf(t,l)));break;case 30:break;case 21:break;default:In(a,t),On(t)}}function On(t){var a=t.flags;if(a&2){try{for(var i,l=t.return;l!==null;){if(Xy(l)){i=l;break}l=l.return}if(i==null)throw Error(s(160));switch(i.tag){case 27:var d=i.stateNode,f=Zh(t);sc(t,f,d);break;case 5:var w=i.stateNode;i.flags&32&&($n(w,""),i.flags&=-33);var E=Zh(t);sc(t,E,w);break;case 3:case 4:var O=i.stateNode.containerInfo,q=Zh(t);ef(t,q,O);break;default:throw Error(s(161))}}catch(Q){ot(t,t.return,Q)}t.flags&=-3}a&4096&&(t.flags&=-4097)}function iv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var a=t;iv(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),t=t.sibling}}function Ra(t,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)tv(t,a.alternate,a),a=a.sibling}function Ws(t){for(t=t.child;t!==null;){var a=t;switch(a.tag){case 0:case 11:case 14:case 15:La(4,a,a.return),Ws(a);break;case 1:Nr(a,a.return);var i=a.stateNode;typeof i.componentWillUnmount=="function"&&Qy(a,a.return,i),Ws(a);break;case 27:yl(a.stateNode);case 26:case 5:Nr(a,a.return),Ws(a);break;case 22:a.memoizedState===null&&Ws(a);break;case 30:Ws(a);break;default:Ws(a)}t=t.sibling}}function Fa(t,a,i){for(i=i&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var l=a.alternate,d=t,f=a,w=f.flags;switch(f.tag){case 0:case 11:case 15:Fa(d,f,i),ol(4,f);break;case 1:if(Fa(d,f,i),l=f,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(q){ot(l,l.return,q)}if(l=f,d=l.updateQueue,d!==null){var E=l.stateNode;try{var O=d.shared.hiddenCallbacks;if(O!==null)for(d.shared.hiddenCallbacks=null,d=0;d<O.length;d++)Lg(O[d],E)}catch(q){ot(l,l.return,q)}}i&&w&64&&Yy(f),ll(f,f.return);break;case 27:Zy(f);case 26:case 5:Fa(d,f,i),i&&l===null&&w&4&&Jy(f),ll(f,f.return);break;case 12:Fa(d,f,i);break;case 13:Fa(d,f,i),i&&w&4&&av(d,f);break;case 22:f.memoizedState===null&&Fa(d,f,i),ll(f,f.return);break;case 30:break;default:Fa(d,f,i)}a=a.sibling}}function rf(t,a){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(t=a.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&Go(i))}function af(t,a){t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&Go(t))}function Ar(t,a,i,l){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)ov(t,a,i,l),a=a.sibling}function ov(t,a,i,l){var d=a.flags;switch(a.tag){case 0:case 11:case 15:Ar(t,a,i,l),d&2048&&ol(9,a);break;case 1:Ar(t,a,i,l);break;case 3:Ar(t,a,i,l),d&2048&&(t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&Go(t)));break;case 12:if(d&2048){Ar(t,a,i,l),t=a.stateNode;try{var f=a.memoizedProps,w=f.id,E=f.onPostCommit;typeof E=="function"&&E(w,a.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){ot(a,a.return,O)}}else Ar(t,a,i,l);break;case 13:Ar(t,a,i,l);break;case 23:break;case 22:f=a.stateNode,w=a.alternate,a.memoizedState!==null?f._visibility&2?Ar(t,a,i,l):ul(t,a):f._visibility&2?Ar(t,a,i,l):(f._visibility|=2,Vi(t,a,i,l,(a.subtreeFlags&10256)!==0)),d&2048&&rf(w,a);break;case 24:Ar(t,a,i,l),d&2048&&af(a.alternate,a);break;default:Ar(t,a,i,l)}}function Vi(t,a,i,l,d){for(d=d&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var f=t,w=a,E=i,O=l,q=w.flags;switch(w.tag){case 0:case 11:case 15:Vi(f,w,E,O,d),ol(8,w);break;case 23:break;case 22:var Q=w.stateNode;w.memoizedState!==null?Q._visibility&2?Vi(f,w,E,O,d):ul(f,w):(Q._visibility|=2,Vi(f,w,E,O,d)),d&&q&2048&&rf(w.alternate,w);break;case 24:Vi(f,w,E,O,d),d&&q&2048&&af(w.alternate,w);break;default:Vi(f,w,E,O,d)}a=a.sibling}}function ul(t,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var i=t,l=a,d=l.flags;switch(l.tag){case 22:ul(i,l),d&2048&&rf(l.alternate,l);break;case 24:ul(i,l),d&2048&&af(l.alternate,l);break;default:ul(i,l)}a=a.sibling}}var cl=8192;function Bi(t){if(t.subtreeFlags&cl)for(t=t.child;t!==null;)lv(t),t=t.sibling}function lv(t){switch(t.tag){case 26:Bi(t),t.flags&cl&&t.memoizedState!==null&&cE(or,t.memoizedState,t.memoizedProps);break;case 5:Bi(t);break;case 3:case 4:var a=or;or=vc(t.stateNode.containerInfo),Bi(t),or=a;break;case 22:t.memoizedState===null&&(a=t.alternate,a!==null&&a.memoizedState!==null?(a=cl,cl=16777216,Bi(t),cl=a):Bi(t));break;default:Bi(t)}}function uv(t){var a=t.alternate;if(a!==null&&(t=a.child,t!==null)){a.child=null;do a=t.sibling,t.sibling=null,t=a;while(t!==null)}}function dl(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var i=0;i<a.length;i++){var l=a[i];$t=l,dv(l,t)}uv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)cv(t),t=t.sibling}function cv(t){switch(t.tag){case 0:case 11:case 15:dl(t),t.flags&2048&&La(9,t,t.return);break;case 3:dl(t);break;case 12:dl(t);break;case 22:var a=t.stateNode;t.memoizedState!==null&&a._visibility&2&&(t.return===null||t.return.tag!==13)?(a._visibility&=-3,ic(t)):dl(t);break;default:dl(t)}}function ic(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var i=0;i<a.length;i++){var l=a[i];$t=l,dv(l,t)}uv(t)}for(t=t.child;t!==null;){switch(a=t,a.tag){case 0:case 11:case 15:La(8,a,a.return),ic(a);break;case 22:i=a.stateNode,i._visibility&2&&(i._visibility&=-3,ic(a));break;default:ic(a)}t=t.sibling}}function dv(t,a){for(;$t!==null;){var i=$t;switch(i.tag){case 0:case 11:case 15:La(8,i,a);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var l=i.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Go(i.memoizedState.cache)}if(l=i.child,l!==null)l.return=i,$t=l;else e:for(i=t;$t!==null;){l=$t;var d=l.sibling,f=l.return;if(nv(l),l===i){$t=null;break e}if(d!==null){d.return=f,$t=d;break e}$t=f}}}var _k={getCacheForType:function(t){var a=sn(Rt),i=a.data.get(t);return i===void 0&&(i=t(),a.data.set(t,i)),i}},Tk=typeof WeakMap=="function"?WeakMap:Map,Je=0,lt=null,Oe=null,Fe=0,Xe=0,Pn=null,ja=!1,Ui=!1,sf=!1,la=0,kt=0,za=0,Gs=0,of=0,Xn=0,$i=0,hl=null,kn=null,lf=!1,uf=0,oc=1/0,lc=null,Va=null,Xt=0,Ba=null,qi=null,Ki=0,cf=0,df=null,hv=null,fl=0,hf=null;function Mn(){if((Je&2)!==0&&Fe!==0)return Fe&-Fe;if(H.T!==null){var t=Oi;return t!==0?t:bf()}return Un()}function fv(){Xn===0&&(Xn=(Fe&536870912)===0||We?ka():536870912);var t=Jn.current;return t!==null&&(t.flags|=32),Xn}function Ln(t,a,i){(t===lt&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(Wi(t,0),Ua(t,Fe,Xn,!1)),pt(t,i),((Je&2)===0||t!==lt)&&(t===lt&&((Je&2)===0&&(Gs|=i),kt===4&&Ua(t,Fe,Xn,!1)),Dr(t))}function pv(t,a,i){if((Je&6)!==0)throw Error(s(327));var l=!i&&(a&124)===0&&(a&t.expiredLanes)===0||nr(t,a),d=l?Dk(t,a):mf(t,a,!0),f=l;do{if(d===0){Ui&&!l&&Ua(t,a,0,!1);break}else{if(i=t.current.alternate,f&&!Nk(i)){d=mf(t,a,!1),f=!1;continue}if(d===2){if(f=a,t.errorRecoveryDisabledLanes&f)var w=0;else w=t.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){a=w;e:{var E=t;d=hl;var O=E.current.memoizedState.isDehydrated;if(O&&(Wi(E,w).flags|=256),w=mf(E,w,!1),w!==2){if(sf&&!O){E.errorRecoveryDisabledLanes|=f,Gs|=f,d=4;break e}f=kn,kn=d,f!==null&&(kn===null?kn=f:kn.push.apply(kn,f))}d=w}if(f=!1,d!==2)continue}}if(d===1){Wi(t,0),Ua(t,a,0,!0);break}e:{switch(l=t,f=d,f){case 0:case 1:throw Error(s(345));case 4:if((a&4194048)!==a)break;case 6:Ua(l,a,Xn,!ja);break e;case 2:kn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((a&62914560)===a&&(d=uf+300-hn(),10<d)){if(Ua(l,a,Xn,!ja),Vr(l,0,!0)!==0)break e;l.timeoutHandle=$v(mv.bind(null,l,i,kn,lc,lf,a,Xn,Gs,$i,ja,f,2,-0,0),d);break e}mv(l,i,kn,lc,lf,a,Xn,Gs,$i,ja,f,0,-0,0)}}break}while(!0);Dr(t)}function mv(t,a,i,l,d,f,w,E,O,q,Q,Z,W,G){if(t.timeoutHandle=-1,Z=a.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(wl={stylesheets:null,count:0,unsuspend:uE},lv(a),Z=dE(),Z!==null)){t.cancelPendingCommit=Z(kv.bind(null,t,a,f,i,l,d,w,E,O,Q,1,W,G)),Ua(t,f,w,!q);return}kv(t,a,f,i,l,d,w,E,O)}function Nk(t){for(var a=t;;){var i=a.tag;if((i===0||i===11||i===15)&&a.flags&16384&&(i=a.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var l=0;l<i.length;l++){var d=i[l],f=d.getSnapshot;d=d.value;try{if(!An(f(),d))return!1}catch{return!1}}if(i=a.child,a.subtreeFlags&16384&&i!==null)i.return=a,a=i;else{if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ua(t,a,i,l){a&=~of,a&=~Gs,t.suspendedLanes|=a,t.pingedLanes&=~a,l&&(t.warmLanes|=a),l=t.expirationTimes;for(var d=a;0<d;){var f=31-Ot(d),w=1<<f;l[f]=-1,d&=~w}i!==0&&fn(t,i,a)}function uc(){return(Je&6)===0?(pl(0),!1):!0}function ff(){if(Oe!==null){if(Xe===0)var t=Oe.return;else t=Oe,Zr=Bs=null,Ah(t),ji=null,al=0,t=Oe;for(;t!==null;)Hy(t.alternate,t),t=t.return;Oe=null}}function Wi(t,a){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,Wk(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),ff(),lt=t,Oe=i=Qr(t.current,null),Fe=a,Xe=0,Pn=null,ja=!1,Ui=nr(t,a),sf=!1,$i=Xn=of=Gs=za=kt=0,kn=hl=null,lf=!1,(a&8)!==0&&(a|=a&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=a;0<l;){var d=31-Ot(l),f=1<<d;a|=t[d],l&=~f}return la=a,Iu(),i}function gv(t,a){Ae=null,H.H=Qu,a===Yo||a===Vu?(a=Pg(),Xe=3):a===Dg?(a=Pg(),Xe=4):Xe=a===My?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Pn=a,Oe===null&&(kt=1,tc(t,Gn(a,t.current)))}function yv(){var t=H.H;return H.H=Qu,t===null?Qu:t}function vv(){var t=H.A;return H.A=_k,t}function pf(){kt=4,ja||(Fe&4194048)!==Fe&&Jn.current!==null||(Ui=!0),(za&134217727)===0&&(Gs&134217727)===0||lt===null||Ua(lt,Fe,Xn,!1)}function mf(t,a,i){var l=Je;Je|=2;var d=yv(),f=vv();(lt!==t||Fe!==a)&&(lc=null,Wi(t,a)),a=!1;var w=kt;e:do try{if(Xe!==0&&Oe!==null){var E=Oe,O=Pn;switch(Xe){case 8:ff(),w=6;break e;case 3:case 2:case 9:case 6:Jn.current===null&&(a=!0);var q=Xe;if(Xe=0,Pn=null,Gi(t,E,O,q),i&&Ui){w=0;break e}break;default:q=Xe,Xe=0,Pn=null,Gi(t,E,O,q)}}Ak(),w=kt;break}catch(Q){gv(t,Q)}while(!0);return a&&t.shellSuspendCounter++,Zr=Bs=null,Je=l,H.H=d,H.A=f,Oe===null&&(lt=null,Fe=0,Iu()),w}function Ak(){for(;Oe!==null;)bv(Oe)}function Dk(t,a){var i=Je;Je|=2;var l=yv(),d=vv();lt!==t||Fe!==a?(lc=null,oc=hn()+500,Wi(t,a)):Ui=nr(t,a);e:do try{if(Xe!==0&&Oe!==null){a=Oe;var f=Pn;t:switch(Xe){case 1:Xe=0,Pn=null,Gi(t,a,f,1);break;case 2:case 9:if(Ig(f)){Xe=0,Pn=null,wv(a);break}a=function(){Xe!==2&&Xe!==9||lt!==t||(Xe=7),Dr(t)},f.then(a,a);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Ig(f)?(Xe=0,Pn=null,wv(a)):(Xe=0,Pn=null,Gi(t,a,f,7));break;case 5:var w=null;switch(Oe.tag){case 26:w=Oe.memoizedState;case 5:case 27:var E=Oe;if(!w||tb(w)){Xe=0,Pn=null;var O=E.sibling;if(O!==null)Oe=O;else{var q=E.return;q!==null?(Oe=q,cc(q)):Oe=null}break t}}Xe=0,Pn=null,Gi(t,a,f,5);break;case 6:Xe=0,Pn=null,Gi(t,a,f,6);break;case 8:ff(),kt=6;break e;default:throw Error(s(462))}}Ik();break}catch(Q){gv(t,Q)}while(!0);return Zr=Bs=null,H.H=l,H.A=d,Je=i,Oe!==null?0:(lt=null,Fe=0,Iu(),kt)}function Ik(){for(;Oe!==null&&!Et();)bv(Oe)}function bv(t){var a=Wy(t.alternate,t,la);t.memoizedProps=t.pendingProps,a===null?cc(t):Oe=a}function wv(t){var a=t,i=a.alternate;switch(a.tag){case 15:case 0:a=Vy(i,a,a.pendingProps,a.type,void 0,Fe);break;case 11:a=Vy(i,a,a.pendingProps,a.type.render,a.ref,Fe);break;case 5:Ah(a);default:Hy(i,a),a=Oe=Sg(a,la),a=Wy(i,a,la)}t.memoizedProps=t.pendingProps,a===null?cc(t):Oe=a}function Gi(t,a,i,l){Zr=Bs=null,Ah(a),ji=null,al=0;var d=a.return;try{if(wk(t,d,a,i,Fe)){kt=1,tc(t,Gn(i,t.current)),Oe=null;return}}catch(f){if(d!==null)throw Oe=d,f;kt=1,tc(t,Gn(i,t.current)),Oe=null;return}a.flags&32768?(We||l===1?t=!0:Ui||(Fe&536870912)!==0?t=!1:(ja=t=!0,(l===2||l===9||l===3||l===6)&&(l=Jn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Sv(a,t)):cc(a)}function cc(t){var a=t;do{if((a.flags&32768)!==0){Sv(a,ja);return}t=a.return;var i=kk(a.alternate,a,la);if(i!==null){Oe=i;return}if(a=a.sibling,a!==null){Oe=a;return}Oe=a=t}while(a!==null);kt===0&&(kt=5)}function Sv(t,a){do{var i=Ek(t.alternate,t);if(i!==null){i.flags&=32767,Oe=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!a&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=i}while(t!==null);kt=6,Oe=null}function kv(t,a,i,l,d,f,w,E,O){t.cancelPendingCommit=null;do dc();while(Xt!==0);if((Je&6)!==0)throw Error(s(327));if(a!==null){if(a===t.current)throw Error(s(177));if(f=a.lanes|a.childLanes,f|=ah,Tt(t,i,f,w,E,O),t===lt&&(Oe=lt=null,Fe=0),qi=a,Ba=t,Ki=i,cf=f,df=d,hv=l,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Lk(jr,function(){return Tv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,d=le.p,le.p=2,w=Je,Je|=4;try{xk(t,a,i)}finally{Je=w,le.p=d,H.T=l}}Xt=1,Ev(),xv(),Cv()}}function Ev(){if(Xt===1){Xt=0;var t=Ba,a=qi,i=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||i){i=H.T,H.T=null;var l=le.p;le.p=2;var d=Je;Je|=4;try{sv(a,t);var f=Tf,w=dg(t.containerInfo),E=f.focusedElem,O=f.selectionRange;if(w!==E&&E&&E.ownerDocument&&cg(E.ownerDocument.documentElement,E)){if(O!==null&&Zd(E)){var q=O.start,Q=O.end;if(Q===void 0&&(Q=q),"selectionStart"in E)E.selectionStart=q,E.selectionEnd=Math.min(Q,E.value.length);else{var Z=E.ownerDocument||document,W=Z&&Z.defaultView||window;if(W.getSelection){var G=W.getSelection(),ke=E.textContent.length,we=Math.min(O.start,ke),at=O.end===void 0?we:Math.min(O.end,ke);!G.extend&&we>at&&(w=at,at=we,we=w);var B=ug(E,we),F=ug(E,at);if(B&&F&&(G.rangeCount!==1||G.anchorNode!==B.node||G.anchorOffset!==B.offset||G.focusNode!==F.node||G.focusOffset!==F.offset)){var $=Z.createRange();$.setStart(B.node,B.offset),G.removeAllRanges(),we>at?(G.addRange($),G.extend(F.node,F.offset)):($.setEnd(F.node,F.offset),G.addRange($))}}}}for(Z=[],G=E;G=G.parentNode;)G.nodeType===1&&Z.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Z.length;E++){var J=Z[E];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Ec=!!_f,Tf=_f=null}finally{Je=d,le.p=l,H.T=i}}t.current=a,Xt=2}}function xv(){if(Xt===2){Xt=0;var t=Ba,a=qi,i=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||i){i=H.T,H.T=null;var l=le.p;le.p=2;var d=Je;Je|=4;try{tv(t,a.alternate,a)}finally{Je=d,le.p=l,H.T=i}}Xt=3}}function Cv(){if(Xt===4||Xt===3){Xt=0,Fr();var t=Ba,a=qi,i=Ki,l=hv;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Xt=5:(Xt=0,qi=Ba=null,_v(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(Va=null),Ea(i),a=a.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(ft,a,void 0,(a.current.flags&128)===128)}catch{}if(l!==null){a=H.T,d=le.p,le.p=2,H.T=null;try{for(var f=t.onRecoverableError,w=0;w<l.length;w++){var E=l[w];f(E.value,{componentStack:E.stack})}}finally{H.T=a,le.p=d}}(Ki&3)!==0&&dc(),Dr(t),d=t.pendingLanes,(i&4194090)!==0&&(d&42)!==0?t===hf?fl++:(fl=0,hf=t):fl=0,pl(0)}}function _v(t,a){(t.pooledCacheLanes&=a)===0&&(a=t.pooledCache,a!=null&&(t.pooledCache=null,Go(a)))}function dc(t){return Ev(),xv(),Cv(),Tv()}function Tv(){if(Xt!==5)return!1;var t=Ba,a=cf;cf=0;var i=Ea(Ki),l=H.T,d=le.p;try{le.p=32>i?32:i,H.T=null,i=df,df=null;var f=Ba,w=Ki;if(Xt=0,qi=Ba=null,Ki=0,(Je&6)!==0)throw Error(s(331));var E=Je;if(Je|=4,cv(f.current),ov(f,f.current,w,i),Je=E,pl(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(ft,f)}catch{}return!0}finally{le.p=d,H.T=l,_v(t,a)}}function Nv(t,a,i){a=Gn(i,a),a=$h(t.stateNode,a,2),t=Ia(t,a,2),t!==null&&(pt(t,2),Dr(t))}function ot(t,a,i){if(t.tag===3)Nv(t,t,i);else for(;a!==null;){if(a.tag===3){Nv(a,t,i);break}else if(a.tag===1){var l=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Va===null||!Va.has(l))){t=Gn(i,t),i=Oy(2),l=Ia(a,i,2),l!==null&&(Py(i,l,a,t),pt(l,2),Dr(l));break}}a=a.return}}function gf(t,a,i){var l=t.pingCache;if(l===null){l=t.pingCache=new Tk;var d=new Set;l.set(a,d)}else d=l.get(a),d===void 0&&(d=new Set,l.set(a,d));d.has(i)||(sf=!0,d.add(i),t=Ok.bind(null,t,a,i),a.then(t,t))}function Ok(t,a,i){var l=t.pingCache;l!==null&&l.delete(a),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,lt===t&&(Fe&i)===i&&(kt===4||kt===3&&(Fe&62914560)===Fe&&300>hn()-uf?(Je&2)===0&&Wi(t,0):of|=i,$i===Fe&&($i=0)),Dr(t)}function Av(t,a){a===0&&(a=vs()),t=Ni(t,a),t!==null&&(pt(t,a),Dr(t))}function Pk(t){var a=t.memoizedState,i=0;a!==null&&(i=a.retryLane),Av(t,i)}function Mk(t,a){var i=0;switch(t.tag){case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(i=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(a),Av(t,i)}function Lk(t,a){return zn(t,a)}var hc=null,Hi=null,yf=!1,fc=!1,vf=!1,Hs=0;function Dr(t){t!==Hi&&t.next===null&&(Hi===null?hc=Hi=t:Hi=Hi.next=t),fc=!0,yf||(yf=!0,Fk())}function pl(t,a){if(!vf&&fc){vf=!0;do for(var i=!1,l=hc;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var f=0;else{var w=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Ot(42|t)+1)-1,f&=d&~(w&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(i=!0,Pv(l,f))}else f=Fe,f=Vr(l,l===lt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||nr(l,f)||(i=!0,Pv(l,f));l=l.next}while(i);vf=!1}}function Rk(){Dv()}function Dv(){fc=yf=!1;var t=0;Hs!==0&&(Kk()&&(t=Hs),Hs=0);for(var a=hn(),i=null,l=hc;l!==null;){var d=l.next,f=Iv(l,a);f===0?(l.next=null,i===null?hc=d:i.next=d,d===null&&(Hi=i)):(i=l,(t!==0||(f&3)!==0)&&(fc=!0)),l=d}pl(t)}function Iv(t,a){for(var i=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var w=31-Ot(f),E=1<<w,O=d[w];O===-1?((E&i)===0||(E&l)!==0)&&(d[w]=ys(E,a)):O<=a&&(t.expiredLanes|=E),f&=~E}if(a=lt,i=Fe,i=Vr(t,t===a?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,i===0||t===a&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&st(l),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||nr(t,i)){if(a=i&-i,a===t.callbackPriority)return a;switch(l!==null&&st(l),Ea(i)){case 2:case 8:i=wa;break;case 32:i=jr;break;case 268435456:i=Sa;break;default:i=jr}return l=Ov.bind(null,t),i=zn(i,l),t.callbackPriority=a,t.callbackNode=i,a}return l!==null&&l!==null&&st(l),t.callbackPriority=2,t.callbackNode=null,2}function Ov(t,a){if(Xt!==0&&Xt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(dc()&&t.callbackNode!==i)return null;var l=Fe;return l=Vr(t,t===lt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(pv(t,l,a),Iv(t,hn()),t.callbackNode!=null&&t.callbackNode===i?Ov.bind(null,t):null)}function Pv(t,a){if(dc())return null;pv(t,a,!0)}function Fk(){Gk(function(){(Je&6)!==0?zn(ps,Rk):Dv()})}function bf(){return Hs===0&&(Hs=ka()),Hs}function Mv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:gi(""+t)}function Lv(t,a){var i=a.ownerDocument.createElement("input");return i.name=a.name,i.value=a.value,t.id&&i.setAttribute("form",t.id),a.parentNode.insertBefore(i,a),t=new FormData(t),i.parentNode.removeChild(i),t}function jk(t,a,i,l,d){if(a==="submit"&&i&&i.stateNode===d){var f=Mv((d[ct]||null).action),w=l.submitter;w&&(a=(a=w[ct]||null)?Mv(a.formAction):w.getAttribute("formAction"),a!==null&&(f=a,w=null));var E=new yi("action","action",null,l,d);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Hs!==0){var O=w?Lv(d,w):new FormData(d);jh(i,{pending:!0,data:O,method:d.method,action:f},null,O)}}else typeof f=="function"&&(E.preventDefault(),O=w?Lv(d,w):new FormData(d),jh(i,{pending:!0,data:O,method:d.method,action:f},f,O))},currentTarget:d}]})}}for(var wf=0;wf<rh.length;wf++){var Sf=rh[wf],zk=Sf.toLowerCase(),Vk=Sf[0].toUpperCase()+Sf.slice(1);ir(zk,"on"+Vk)}ir(pg,"onAnimationEnd"),ir(mg,"onAnimationIteration"),ir(gg,"onAnimationStart"),ir("dblclick","onDoubleClick"),ir("focusin","onFocus"),ir("focusout","onBlur"),ir(rk,"onTransitionRun"),ir(ak,"onTransitionStart"),ir(sk,"onTransitionCancel"),ir(yg,"onTransitionEnd"),ar("onMouseEnter",["mouseout","mouseover"]),ar("onMouseLeave",["mouseout","mouseover"]),ar("onPointerEnter",["pointerout","pointerover"]),ar("onPointerLeave",["pointerout","pointerover"]),Tn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Tn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Tn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Tn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Tn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Tn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ml));function Rv(t,a){a=(a&4)!==0;for(var i=0;i<t.length;i++){var l=t[i],d=l.event;l=l.listeners;e:{var f=void 0;if(a)for(var w=l.length-1;0<=w;w--){var E=l[w],O=E.instance,q=E.currentTarget;if(E=E.listener,O!==f&&d.isPropagationStopped())break e;f=E,d.currentTarget=q;try{f(d)}catch(Q){ec(Q)}d.currentTarget=null,f=O}else for(w=0;w<l.length;w++){if(E=l[w],O=E.instance,q=E.currentTarget,E=E.listener,O!==f&&d.isPropagationStopped())break e;f=E,d.currentTarget=q;try{f(d)}catch(Q){ec(Q)}d.currentTarget=null,f=O}}}}function Pe(t,a){var i=a[Br];i===void 0&&(i=a[Br]=new Set);var l=t+"__bubble";i.has(l)||(Fv(a,t,2,!1),i.add(l))}function kf(t,a,i){var l=0;a&&(l|=4),Fv(i,t,l,a)}var pc="_reactListening"+Math.random().toString(36).slice(2);function Ef(t){if(!t[pc]){t[pc]=!0,Gt.forEach(function(i){i!=="selectionchange"&&(Bk.has(i)||kf(i,!1,t),kf(i,!0,t))});var a=t.nodeType===9?t:t.ownerDocument;a===null||a[pc]||(a[pc]=!0,kf("selectionchange",!1,a))}}function Fv(t,a,i,l){switch(ob(a)){case 2:var d=pE;break;case 8:d=mE;break;default:d=Ff}i=d.bind(null,a,i,t),d=void 0,!Kn||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(a,i,{capture:!0,passive:d}):t.addEventListener(a,i,!0):d!==void 0?t.addEventListener(a,i,{passive:d}):t.addEventListener(a,i,!1)}function xf(t,a,i,l,d){var f=l;if((a&1)===0&&(a&2)===0&&l!==null)e:for(;;){if(l===null)return;var w=l.tag;if(w===3||w===4){var E=l.stateNode.containerInfo;if(E===d)break;if(w===4)for(w=l.return;w!==null;){var O=w.tag;if((O===3||O===4)&&w.stateNode.containerInfo===d)return;w=w.return}for(;E!==null;){if(w=rr(E),w===null)return;if(O=w.tag,O===5||O===6||O===26||O===27){l=f=w;continue e}E=E.parentNode}}l=l.return}gu(function(){var q=f,Q=qn(i),Z=[];e:{var W=vg.get(t);if(W!==void 0){var G=yi,ke=t;switch(t){case"keypress":if(kr(i)===0)break e;case"keydown":case"keyup":G=Ei;break;case"focusin":ke="focus",G=wi;break;case"focusout":ke="blur",G=wi;break;case"beforeblur":case"afterblur":G=wi;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Wn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Yd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=xu;break;case pg:case mg:case gg:G=Si;break;case yg:G=_u;break;case"scroll":case"scrollend":G=yu;break;case"wheel":G=xi;break;case"copy":case"cut":case"paste":G=ki;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=zo;break;case"toggle":case"beforetoggle":G=Nu}var we=(a&4)!==0,at=!we&&(t==="scroll"||t==="scrollend"),B=we?W!==null?W+"Capture":null:W;we=[];for(var F=q,$;F!==null;){var J=F;if($=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||$===null||B===null||(J=Ts(F,B),J!=null&&we.push(gl(F,J,$))),at)break;F=F.return}0<we.length&&(W=new G(W,ke,null,i,Q),Z.push({event:W,listeners:we}))}}if((a&7)===0){e:{if(W=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",W&&i!==qr&&(ke=i.relatedTarget||i.fromElement)&&(rr(ke)||ke[an]))break e;if((G||W)&&(W=Q.window===Q?Q:(W=Q.ownerDocument)?W.defaultView||W.parentWindow:window,G?(ke=i.relatedTarget||i.toElement,G=q,ke=ke?rr(ke):null,ke!==null&&(at=u(ke),we=ke.tag,ke!==at||we!==5&&we!==27&&we!==6)&&(ke=null)):(G=null,ke=q),G!==ke)){if(we=Wn,J="onMouseLeave",B="onMouseEnter",F="mouse",(t==="pointerout"||t==="pointerover")&&(we=zo,J="onPointerLeave",B="onPointerEnter",F="pointer"),at=G==null?W:Ve(G),$=ke==null?W:Ve(ke),W=new we(J,F+"leave",G,i,Q),W.target=at,W.relatedTarget=$,J=null,rr(Q)===q&&(we=new we(B,F+"enter",ke,i,Q),we.target=$,we.relatedTarget=at,J=we),at=J,G&&ke)t:{for(we=G,B=ke,F=0,$=we;$;$=Yi($))F++;for($=0,J=B;J;J=Yi(J))$++;for(;0<F-$;)we=Yi(we),F--;for(;0<$-F;)B=Yi(B),$--;for(;F--;){if(we===B||B!==null&&we===B.alternate)break t;we=Yi(we),B=Yi(B)}we=null}else we=null;G!==null&&jv(Z,W,G,we,!1),ke!==null&&at!==null&&jv(Z,at,ke,we,!0)}}e:{if(W=q?Ve(q):window,G=W.nodeName&&W.nodeName.toLowerCase(),G==="select"||G==="input"&&W.type==="file")var fe=rg;else if(Yt(W))if(ag)fe=ek;else{fe=X1;var Ie=J1}else G=W.nodeName,!G||G.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?q&&Oo(q.elementType)&&(fe=rg):fe=Z1;if(fe&&(fe=fe(t,q))){Yr(Z,fe,i,Q);break e}Ie&&Ie(t,W,q),t==="focusout"&&q&&W.type==="number"&&q.memoizedProps.value!=null&&_a(W,"number",W.value)}switch(Ie=q?Ve(q):window,t){case"focusin":(Yt(Ie)||Ie.contentEditable==="true")&&(Ci=Ie,eh=q,Uo=null);break;case"focusout":Uo=eh=Ci=null;break;case"mousedown":th=!0;break;case"contextmenu":case"mouseup":case"dragend":th=!1,hg(Z,i,Q);break;case"selectionchange":if(nk)break;case"keydown":case"keyup":hg(Z,i,Q)}var ge;if(Cr)e:{switch(t){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else Ue?Y(t,i)&&(Se="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(Se="onCompositionStart");Se&&(b&&i.locale!=="ko"&&(Ue||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&Ue&&(ge=Mo()):(Sr=Q,Ta="value"in Sr?Sr.value:Sr.textContent,Ue=!0)),Ie=mc(q,Se),0<Ie.length&&(Se=new Fo(Se,t,null,i,Q),Z.push({event:Se,listeners:Ie}),ge?Se.data=ge:(ge=ie(i),ge!==null&&(Se.data=ge)))),(ge=y?Lt(t,i):Ke(t,i))&&(Se=mc(q,"onBeforeInput"),0<Se.length&&(Ie=new Fo("onBeforeInput","beforeinput",null,i,Q),Z.push({event:Ie,listeners:Se}),Ie.data=ge)),jk(Z,t,q,i,Q)}Rv(Z,a)})}function gl(t,a,i){return{instance:t,listener:a,currentTarget:i}}function mc(t,a){for(var i=a+"Capture",l=[];t!==null;){var d=t,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=Ts(t,i),d!=null&&l.unshift(gl(t,d,f)),d=Ts(t,a),d!=null&&l.push(gl(t,d,f))),t.tag===3)return l;t=t.return}return[]}function Yi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function jv(t,a,i,l,d){for(var f=a._reactName,w=[];i!==null&&i!==l;){var E=i,O=E.alternate,q=E.stateNode;if(E=E.tag,O!==null&&O===l)break;E!==5&&E!==26&&E!==27||q===null||(O=q,d?(q=Ts(i,f),q!=null&&w.unshift(gl(i,q,O))):d||(q=Ts(i,f),q!=null&&w.push(gl(i,q,O)))),i=i.return}w.length!==0&&t.push({event:a,listeners:w})}var Uk=/\r\n?/g,$k=/\u0000|\uFFFD/g;function zv(t){return(typeof t=="string"?t:""+t).replace(Uk,`
`).replace($k,"")}function Vv(t,a){return a=zv(a),zv(t)===a}function gc(){}function rt(t,a,i,l,d,f){switch(i){case"children":typeof l=="string"?a==="body"||a==="textarea"&&l===""||$n(t,l):(typeof l=="number"||typeof l=="bigint")&&a!=="body"&&$n(t,""+l);break;case"className":br(t,"class",l);break;case"tabIndex":br(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":br(t,i,l);break;case"style":Io(t,l,f);break;case"data":if(a!=="object"){br(t,"data",l);break}case"src":case"href":if(l===""&&(a!=="a"||i!=="href")){t.removeAttribute(i);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(i);break}l=gi(""+l),t.setAttribute(i,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(i==="formAction"?(a!=="input"&&rt(t,a,"name",d.name,d,null),rt(t,a,"formEncType",d.formEncType,d,null),rt(t,a,"formMethod",d.formMethod,d,null),rt(t,a,"formTarget",d.formTarget,d,null)):(rt(t,a,"encType",d.encType,d,null),rt(t,a,"method",d.method,d,null),rt(t,a,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(i);break}l=gi(""+l),t.setAttribute(i,l);break;case"onClick":l!=null&&(t.onclick=gc);break;case"onScroll":l!=null&&Pe("scroll",t);break;case"onScrollEnd":l!=null&&Pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(i=l.__html,i!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=i}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}i=gi(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(i,""+l):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":l===!0?t.setAttribute(i,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(i,l):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(i,l):t.removeAttribute(i);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(i):t.setAttribute(i,l);break;case"popover":Pe("beforetoggle",t),Pe("toggle",t),Ca(t,"popover",l);break;case"xlinkActuate":Ht(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ht(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ht(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ht(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ht(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ht(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ht(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ht(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ht(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ca(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Gd.get(i)||i,Ca(t,i,l))}}function Cf(t,a,i,l,d,f){switch(i){case"style":Io(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(i=l.__html,i!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=i}}break;case"children":typeof l=="string"?$n(t,l):(typeof l=="number"||typeof l=="bigint")&&$n(t,""+l);break;case"onScroll":l!=null&&Pe("scroll",t);break;case"onScrollEnd":l!=null&&Pe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=gc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vr.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(d=i.endsWith("Capture"),a=i.slice(2,d?i.length-7:void 0),f=t[ct]||null,f=f!=null?f[i]:null,typeof f=="function"&&t.removeEventListener(a,f,d),typeof l=="function")){typeof f!="function"&&f!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(a,l,d);break e}i in t?t[i]=l:l===!0?t.setAttribute(i,""):Ca(t,i,l)}}}function Zt(t,a,i){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",t),Pe("load",t);var l=!1,d=!1,f;for(f in i)if(i.hasOwnProperty(f)){var w=i[f];if(w!=null)switch(f){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:rt(t,a,f,w,i,null)}}d&&rt(t,a,"srcSet",i.srcSet,i,null),l&&rt(t,a,"src",i.src,i,null);return;case"input":Pe("invalid",t);var E=f=w=d=null,O=null,q=null;for(l in i)if(i.hasOwnProperty(l)){var Q=i[l];if(Q!=null)switch(l){case"name":d=Q;break;case"type":w=Q;break;case"checked":O=Q;break;case"defaultChecked":q=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,a));break;default:rt(t,a,l,Q,i,null)}}xs(t,f,E,O,q,w,d,!1),mi(t);return;case"select":Pe("invalid",t),l=w=f=null;for(d in i)if(i.hasOwnProperty(d)&&(E=i[d],E!=null))switch(d){case"value":f=E;break;case"defaultValue":w=E;break;case"multiple":l=E;default:rt(t,a,d,E,i,null)}a=f,i=w,t.multiple=!!l,a!=null?$r(t,!!l,a,!1):i!=null&&$r(t,!!l,i,!0);return;case"textarea":Pe("invalid",t),f=d=l=null;for(w in i)if(i.hasOwnProperty(w)&&(E=i[w],E!=null))switch(w){case"value":l=E;break;case"defaultValue":d=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:rt(t,a,w,E,i,null)}Cs(t,l,d,f),mi(t);return;case"option":for(O in i)if(i.hasOwnProperty(O)&&(l=i[O],l!=null))switch(O){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:rt(t,a,O,l,i,null)}return;case"dialog":Pe("beforetoggle",t),Pe("toggle",t),Pe("cancel",t),Pe("close",t);break;case"iframe":case"object":Pe("load",t);break;case"video":case"audio":for(l=0;l<ml.length;l++)Pe(ml[l],t);break;case"image":Pe("error",t),Pe("load",t);break;case"details":Pe("toggle",t);break;case"embed":case"source":case"link":Pe("error",t),Pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in i)if(i.hasOwnProperty(q)&&(l=i[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:rt(t,a,q,l,i,null)}return;default:if(Oo(a)){for(Q in i)i.hasOwnProperty(Q)&&(l=i[Q],l!==void 0&&Cf(t,a,Q,l,i,void 0));return}}for(E in i)i.hasOwnProperty(E)&&(l=i[E],l!=null&&rt(t,a,E,l,i,null))}function qk(t,a,i,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,w=null,E=null,O=null,q=null,Q=null;for(G in i){var Z=i[G];if(i.hasOwnProperty(G)&&Z!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":O=Z;default:l.hasOwnProperty(G)||rt(t,a,G,null,l,Z)}}for(var W in l){var G=l[W];if(Z=i[W],l.hasOwnProperty(W)&&(G!=null||Z!=null))switch(W){case"type":f=G;break;case"name":d=G;break;case"checked":q=G;break;case"defaultChecked":Q=G;break;case"value":w=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,a));break;default:G!==Z&&rt(t,a,W,G,l,Z)}}Nn(t,w,E,O,q,Q,f,d);return;case"select":G=w=E=W=null;for(f in i)if(O=i[f],i.hasOwnProperty(f)&&O!=null)switch(f){case"value":break;case"multiple":G=O;default:l.hasOwnProperty(f)||rt(t,a,f,null,l,O)}for(d in l)if(f=l[d],O=i[d],l.hasOwnProperty(d)&&(f!=null||O!=null))switch(d){case"value":W=f;break;case"defaultValue":E=f;break;case"multiple":w=f;default:f!==O&&rt(t,a,d,f,l,O)}a=E,i=w,l=G,W!=null?$r(t,!!i,W,!1):!!l!=!!i&&(a!=null?$r(t,!!i,a,!0):$r(t,!!i,i?[]:"",!1));return;case"textarea":G=W=null;for(E in i)if(d=i[E],i.hasOwnProperty(E)&&d!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:rt(t,a,E,null,l,d)}for(w in l)if(d=l[w],f=i[w],l.hasOwnProperty(w)&&(d!=null||f!=null))switch(w){case"value":W=d;break;case"defaultValue":G=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==f&&rt(t,a,w,d,l,f)}tt(t,W,G);return;case"option":for(var ke in i)if(W=i[ke],i.hasOwnProperty(ke)&&W!=null&&!l.hasOwnProperty(ke))switch(ke){case"selected":t.selected=!1;break;default:rt(t,a,ke,null,l,W)}for(O in l)if(W=l[O],G=i[O],l.hasOwnProperty(O)&&W!==G&&(W!=null||G!=null))switch(O){case"selected":t.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:rt(t,a,O,W,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in i)W=i[we],i.hasOwnProperty(we)&&W!=null&&!l.hasOwnProperty(we)&&rt(t,a,we,null,l,W);for(q in l)if(W=l[q],G=i[q],l.hasOwnProperty(q)&&W!==G&&(W!=null||G!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,a));break;default:rt(t,a,q,W,l,G)}return;default:if(Oo(a)){for(var at in i)W=i[at],i.hasOwnProperty(at)&&W!==void 0&&!l.hasOwnProperty(at)&&Cf(t,a,at,void 0,l,W);for(Q in l)W=l[Q],G=i[Q],!l.hasOwnProperty(Q)||W===G||W===void 0&&G===void 0||Cf(t,a,Q,W,l,G);return}}for(var B in i)W=i[B],i.hasOwnProperty(B)&&W!=null&&!l.hasOwnProperty(B)&&rt(t,a,B,null,l,W);for(Z in l)W=l[Z],G=i[Z],!l.hasOwnProperty(Z)||W===G||W==null&&G==null||rt(t,a,Z,W,l,G)}var _f=null,Tf=null;function yc(t){return t.nodeType===9?t:t.ownerDocument}function Bv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Uv(t,a){if(t===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&a==="foreignObject"?0:t}function Nf(t,a){return t==="textarea"||t==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Af=null;function Kk(){var t=window.event;return t&&t.type==="popstate"?t===Af?!1:(Af=t,!0):(Af=null,!1)}var $v=typeof setTimeout=="function"?setTimeout:void 0,Wk=typeof clearTimeout=="function"?clearTimeout:void 0,qv=typeof Promise=="function"?Promise:void 0,Gk=typeof queueMicrotask=="function"?queueMicrotask:typeof qv<"u"?function(t){return qv.resolve(null).then(t).catch(Hk)}:$v;function Hk(t){setTimeout(function(){throw t})}function $a(t){return t==="head"}function Kv(t,a){var i=a,l=0,d=0;do{var f=i.nextSibling;if(t.removeChild(i),f&&f.nodeType===8)if(i=f.data,i==="/$"){if(0<l&&8>l){i=l;var w=t.ownerDocument;if(i&1&&yl(w.documentElement),i&2&&yl(w.body),i&4)for(i=w.head,yl(i),w=i.firstChild;w;){var E=w.nextSibling,O=w.nodeName;w[gr]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&w.rel.toLowerCase()==="stylesheet"||i.removeChild(w),w=E}}if(d===0){t.removeChild(f),Cl(a);return}d--}else i==="$"||i==="$?"||i==="$!"?d++:l=i.charCodeAt(0)-48;else l=0;i=f}while(i);Cl(a)}function Df(t){var a=t.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var i=a;switch(a=a.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Df(i),yr(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function Yk(t,a,i,l){for(;t.nodeType===1;){var d=i;if(t.nodeName.toLowerCase()!==a.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[gr])switch(a){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence")||f!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(a==="input"&&t.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=lr(t.nextSibling),t===null)break}return null}function Qk(t,a,i){if(a==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=lr(t.nextSibling),t===null))return null;return t}function If(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Jk(t,a){var i=t.ownerDocument;if(t.data!=="$?"||i.readyState==="complete")a();else{var l=function(){a(),i.removeEventListener("DOMContentLoaded",l)};i.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function lr(t){for(;t!=null;t=t.nextSibling){var a=t.nodeType;if(a===1||a===3)break;if(a===8){if(a=t.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return t}var Of=null;function Wv(t){t=t.previousSibling;for(var a=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"){if(a===0)return t;a--}else i==="/$"&&a++}t=t.previousSibling}return null}function Gv(t,a,i){switch(a=yc(i),t){case"html":if(t=a.documentElement,!t)throw Error(s(452));return t;case"head":if(t=a.head,!t)throw Error(s(453));return t;case"body":if(t=a.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function yl(t){for(var a=t.attributes;a.length;)t.removeAttributeNode(a[0]);yr(t)}var Zn=new Map,Hv=new Set;function vc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ua=le.d;le.d={f:Xk,r:Zk,D:eE,C:tE,L:nE,m:rE,X:sE,S:aE,M:iE};function Xk(){var t=ua.f(),a=uc();return t||a}function Zk(t){var a=Ee(t);a!==null&&a.tag===5&&a.type==="form"?py(a):ua.r(t)}var Qi=typeof document>"u"?null:document;function Yv(t,a,i){var l=Qi;if(l&&typeof a=="string"&&a){var d=Mt(a);d='link[rel="'+t+'"][href="'+d+'"]',typeof i=="string"&&(d+='[crossorigin="'+i+'"]'),Hv.has(d)||(Hv.add(d),t={rel:t,crossOrigin:i,href:a},l.querySelector(d)===null&&(a=l.createElement("link"),Zt(a,"link",t),Be(a),l.head.appendChild(a)))}}function eE(t){ua.D(t),Yv("dns-prefetch",t,null)}function tE(t,a){ua.C(t,a),Yv("preconnect",t,a)}function nE(t,a,i){ua.L(t,a,i);var l=Qi;if(l&&t&&a){var d='link[rel="preload"][as="'+Mt(a)+'"]';a==="image"&&i&&i.imageSrcSet?(d+='[imagesrcset="'+Mt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(d+='[imagesizes="'+Mt(i.imageSizes)+'"]')):d+='[href="'+Mt(t)+'"]';var f=d;switch(a){case"style":f=Ji(t);break;case"script":f=Xi(t)}Zn.has(f)||(t=v({rel:"preload",href:a==="image"&&i&&i.imageSrcSet?void 0:t,as:a},i),Zn.set(f,t),l.querySelector(d)!==null||a==="style"&&l.querySelector(vl(f))||a==="script"&&l.querySelector(bl(f))||(a=l.createElement("link"),Zt(a,"link",t),Be(a),l.head.appendChild(a)))}}function rE(t,a){ua.m(t,a);var i=Qi;if(i&&t){var l=a&&typeof a.as=="string"?a.as:"script",d='link[rel="modulepreload"][as="'+Mt(l)+'"][href="'+Mt(t)+'"]',f=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Xi(t)}if(!Zn.has(f)&&(t=v({rel:"modulepreload",href:t},a),Zn.set(f,t),i.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(bl(f)))return}l=i.createElement("link"),Zt(l,"link",t),Be(l),i.head.appendChild(l)}}}function aE(t,a,i){ua.S(t,a,i);var l=Qi;if(l&&t){var d=Me(l).hoistableStyles,f=Ji(t);a=a||"default";var w=d.get(f);if(!w){var E={loading:0,preload:null};if(w=l.querySelector(vl(f)))E.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":a},i),(i=Zn.get(f))&&Pf(t,i);var O=w=l.createElement("link");Be(O),Zt(O,"link",t),O._p=new Promise(function(q,Q){O.onload=q,O.onerror=Q}),O.addEventListener("load",function(){E.loading|=1}),O.addEventListener("error",function(){E.loading|=2}),E.loading|=4,bc(w,a,l)}w={type:"stylesheet",instance:w,count:1,state:E},d.set(f,w)}}}function sE(t,a){ua.X(t,a);var i=Qi;if(i&&t){var l=Me(i).hoistableScripts,d=Xi(t),f=l.get(d);f||(f=i.querySelector(bl(d)),f||(t=v({src:t,async:!0},a),(a=Zn.get(d))&&Mf(t,a),f=i.createElement("script"),Be(f),Zt(f,"link",t),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function iE(t,a){ua.M(t,a);var i=Qi;if(i&&t){var l=Me(i).hoistableScripts,d=Xi(t),f=l.get(d);f||(f=i.querySelector(bl(d)),f||(t=v({src:t,async:!0,type:"module"},a),(a=Zn.get(d))&&Mf(t,a),f=i.createElement("script"),Be(f),Zt(f,"link",t),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function Qv(t,a,i,l){var d=(d=ve.current)?vc(d):null;if(!d)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(a=Ji(i.href),i=Me(d).hoistableStyles,l=i.get(a),l||(l={type:"style",instance:null,count:0,state:null},i.set(a,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=Ji(i.href);var f=Me(d).hoistableStyles,w=f.get(t);if(w||(d=d.ownerDocument||d,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,w),(f=d.querySelector(vl(t)))&&!f._p&&(w.instance=f,w.state.loading=5),Zn.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Zn.set(t,i),f||oE(d,t,i,w.state))),a&&l===null)throw Error(s(528,""));return w}if(a&&l!==null)throw Error(s(529,""));return null;case"script":return a=i.async,i=i.src,typeof i=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Xi(i),i=Me(d).hoistableScripts,l=i.get(a),l||(l={type:"script",instance:null,count:0,state:null},i.set(a,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ji(t){return'href="'+Mt(t)+'"'}function vl(t){return'link[rel="stylesheet"]['+t+"]"}function Jv(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function oE(t,a,i,l){t.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=t.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),Zt(a,"link",i),Be(a),t.head.appendChild(a))}function Xi(t){return'[src="'+Mt(t)+'"]'}function bl(t){return"script[async]"+t}function Xv(t,a,i){if(a.count++,a.instance===null)switch(a.type){case"style":var l=t.querySelector('style[data-href~="'+Mt(i.href)+'"]');if(l)return a.instance=l,Be(l),l;var d=v({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Be(l),Zt(l,"style",d),bc(l,i.precedence,t),a.instance=l;case"stylesheet":d=Ji(i.href);var f=t.querySelector(vl(d));if(f)return a.state.loading|=4,a.instance=f,Be(f),f;l=Jv(i),(d=Zn.get(d))&&Pf(l,d),f=(t.ownerDocument||t).createElement("link"),Be(f);var w=f;return w._p=new Promise(function(E,O){w.onload=E,w.onerror=O}),Zt(f,"link",l),a.state.loading|=4,bc(f,i.precedence,t),a.instance=f;case"script":return f=Xi(i.src),(d=t.querySelector(bl(f)))?(a.instance=d,Be(d),d):(l=i,(d=Zn.get(f))&&(l=v({},i),Mf(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),Be(d),Zt(d,"link",l),t.head.appendChild(d),a.instance=d);case"void":return null;default:throw Error(s(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(l=a.instance,a.state.loading|=4,bc(l,i.precedence,t));return a.instance}function bc(t,a,i){for(var l=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,f=d,w=0;w<l.length;w++){var E=l[w];if(E.dataset.precedence===a)f=E;else if(f!==d)break}f?f.parentNode.insertBefore(t,f.nextSibling):(a=i.nodeType===9?i.head:i,a.insertBefore(t,a.firstChild))}function Pf(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.title==null&&(t.title=a.title)}function Mf(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.integrity==null&&(t.integrity=a.integrity)}var wc=null;function Zv(t,a,i){if(wc===null){var l=new Map,d=wc=new Map;d.set(i,l)}else d=wc,l=d.get(i),l||(l=new Map,d.set(i,l));if(l.has(t))return l;for(l.set(t,null),i=i.getElementsByTagName(t),d=0;d<i.length;d++){var f=i[d];if(!(f[gr]||f[vt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var w=f.getAttribute(a)||"";w=t+w;var E=l.get(w);E?E.push(f):l.set(w,[f])}}return l}function eb(t,a,i){t=t.ownerDocument||t,t.head.insertBefore(i,a==="title"?t.querySelector("head > title"):null)}function lE(t,a,i){if(i===1||a.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return t=a.disabled,typeof a.precedence=="string"&&t==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function tb(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var wl=null;function uE(){}function cE(t,a,i){if(wl===null)throw Error(s(475));var l=wl;if(a.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=Ji(i.href),f=t.querySelector(vl(d));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Sc.bind(l),t.then(l,l)),a.state.loading|=4,a.instance=f,Be(f);return}f=t.ownerDocument||t,i=Jv(i),(d=Zn.get(d))&&Pf(i,d),f=f.createElement("link"),Be(f);var w=f;w._p=new Promise(function(E,O){w.onload=E,w.onerror=O}),Zt(f,"link",i),a.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(l.count++,a=Sc.bind(l),t.addEventListener("load",a),t.addEventListener("error",a))}}function dE(){if(wl===null)throw Error(s(475));var t=wl;return t.stylesheets&&t.count===0&&Lf(t,t.stylesheets),0<t.count?function(a){var i=setTimeout(function(){if(t.stylesheets&&Lf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(i)}}:null}function Sc(){if(this.count--,this.count===0){if(this.stylesheets)Lf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var kc=null;function Lf(t,a){t.stylesheets=null,t.unsuspend!==null&&(t.count++,kc=new Map,a.forEach(hE,t),kc=null,Sc.call(t))}function hE(t,a){if(!(a.state.loading&4)){var i=kc.get(t);if(i)var l=i.get(null);else{i=new Map,kc.set(t,i);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var w=d[f];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(i.set(w.dataset.precedence,w),l=w)}l&&i.set(null,l)}d=a.instance,w=d.getAttribute("data-precedence"),f=i.get(w)||l,f===l&&i.set(null,d),i.set(w,d),this.count++,l=Sc.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),f?f.parentNode.insertBefore(d,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),a.state.loading|=4}}var Sl={$$typeof:ae,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function fE(t,a,i,l,d,f,w,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bn(0),this.hiddenUpdates=Bn(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function nb(t,a,i,l,d,f,w,E,O,q,Q,Z){return t=new fE(t,a,i,w,E,O,q,Z),a=1,f===!0&&(a|=24),f=Dn(3,null,null,a),t.current=f,f.stateNode=t,a=mh(),a.refCount++,t.pooledCache=a,a.refCount++,f.memoizedState={element:l,isDehydrated:i,cache:a},bh(f),t}function rb(t){return t?(t=Ai,t):Ai}function ab(t,a,i,l,d,f){d=rb(d),l.context===null?l.context=d:l.pendingContext=d,l=Da(a),l.payload={element:i},f=f===void 0?null:f,f!==null&&(l.callback=f),i=Ia(t,l,a),i!==null&&(Ln(i,t,a),Jo(i,t,a))}function sb(t,a){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<a?i:a}}function Rf(t,a){sb(t,a),(t=t.alternate)&&sb(t,a)}function ib(t){if(t.tag===13){var a=Ni(t,67108864);a!==null&&Ln(a,t,67108864),Rf(t,67108864)}}var Ec=!0;function pE(t,a,i,l){var d=H.T;H.T=null;var f=le.p;try{le.p=2,Ff(t,a,i,l)}finally{le.p=f,H.T=d}}function mE(t,a,i,l){var d=H.T;H.T=null;var f=le.p;try{le.p=8,Ff(t,a,i,l)}finally{le.p=f,H.T=d}}function Ff(t,a,i,l){if(Ec){var d=jf(l);if(d===null)xf(t,a,l,xc,i),lb(t,l);else if(yE(d,t,a,i,l))l.stopPropagation();else if(lb(t,l),a&4&&-1<gE.indexOf(t)){for(;d!==null;){var f=Ee(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var w=bn(f.pendingLanes);if(w!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;w;){var O=1<<31-Ot(w);E.entanglements[1]|=O,w&=~O}Dr(f),(Je&6)===0&&(oc=hn()+500,pl(0))}}break;case 13:E=Ni(f,2),E!==null&&Ln(E,f,2),uc(),Rf(f,2)}if(f=jf(l),f===null&&xf(t,a,l,xc,i),f===d)break;d=f}d!==null&&l.stopPropagation()}else xf(t,a,l,null,i)}}function jf(t){return t=qn(t),zf(t)}var xc=null;function zf(t){if(xc=null,t=rr(t),t!==null){var a=u(t);if(a===null)t=null;else{var i=a.tag;if(i===13){if(t=h(a),t!==null)return t;t=null}else if(i===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;t=null}else a!==t&&(t=null)}}return xc=t,null}function ob(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ui()){case ps:return 2;case wa:return 8;case jr:case ci:return 32;case Sa:return 268435456;default:return 32}default:return 32}}var Vf=!1,qa=null,Ka=null,Wa=null,kl=new Map,El=new Map,Ga=[],gE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lb(t,a){switch(t){case"focusin":case"focusout":qa=null;break;case"dragenter":case"dragleave":Ka=null;break;case"mouseover":case"mouseout":Wa=null;break;case"pointerover":case"pointerout":kl.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":El.delete(a.pointerId)}}function xl(t,a,i,l,d,f){return t===null||t.nativeEvent!==f?(t={blockedOn:a,domEventName:i,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]},a!==null&&(a=Ee(a),a!==null&&ib(a)),t):(t.eventSystemFlags|=l,a=t.targetContainers,d!==null&&a.indexOf(d)===-1&&a.push(d),t)}function yE(t,a,i,l,d){switch(a){case"focusin":return qa=xl(qa,t,a,i,l,d),!0;case"dragenter":return Ka=xl(Ka,t,a,i,l,d),!0;case"mouseover":return Wa=xl(Wa,t,a,i,l,d),!0;case"pointerover":var f=d.pointerId;return kl.set(f,xl(kl.get(f)||null,t,a,i,l,d)),!0;case"gotpointercapture":return f=d.pointerId,El.set(f,xl(El.get(f)||null,t,a,i,l,d)),!0}return!1}function ub(t){var a=rr(t.target);if(a!==null){var i=u(a);if(i!==null){if(a=i.tag,a===13){if(a=h(i),a!==null){t.blockedOn=a,bs(t.priority,function(){if(i.tag===13){var l=Mn();l=Pt(l);var d=Ni(i,l);d!==null&&Ln(d,i,l),Rf(i,l)}});return}}else if(a===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Cc(t){if(t.blockedOn!==null)return!1;for(var a=t.targetContainers;0<a.length;){var i=jf(t.nativeEvent);if(i===null){i=t.nativeEvent;var l=new i.constructor(i.type,i);qr=l,i.target.dispatchEvent(l),qr=null}else return a=Ee(i),a!==null&&ib(a),t.blockedOn=i,!1;a.shift()}return!0}function cb(t,a,i){Cc(t)&&i.delete(a)}function vE(){Vf=!1,qa!==null&&Cc(qa)&&(qa=null),Ka!==null&&Cc(Ka)&&(Ka=null),Wa!==null&&Cc(Wa)&&(Wa=null),kl.forEach(cb),El.forEach(cb)}function _c(t,a){t.blockedOn===a&&(t.blockedOn=null,Vf||(Vf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,vE)))}var Tc=null;function db(t){Tc!==t&&(Tc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Tc===t&&(Tc=null);for(var a=0;a<t.length;a+=3){var i=t[a],l=t[a+1],d=t[a+2];if(typeof l!="function"){if(zf(l||i)===null)continue;break}var f=Ee(i);f!==null&&(t.splice(a,3),a-=3,jh(f,{pending:!0,data:d,method:i.method,action:l},l,d))}}))}function Cl(t){function a(O){return _c(O,t)}qa!==null&&_c(qa,t),Ka!==null&&_c(Ka,t),Wa!==null&&_c(Wa,t),kl.forEach(a),El.forEach(a);for(var i=0;i<Ga.length;i++){var l=Ga[i];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ga.length&&(i=Ga[0],i.blockedOn===null);)ub(i),i.blockedOn===null&&Ga.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(l=0;l<i.length;l+=3){var d=i[l],f=i[l+1],w=d[ct]||null;if(typeof f=="function")w||db(i);else if(w){var E=null;if(f&&f.hasAttribute("formAction")){if(d=f,w=f[ct]||null)E=w.formAction;else if(zf(d)!==null)continue}else E=w.action;typeof E=="function"?i[l+1]=E:(i.splice(l,3),l-=3),db(i)}}}function Bf(t){this._internalRoot=t}Nc.prototype.render=Bf.prototype.render=function(t){var a=this._internalRoot;if(a===null)throw Error(s(409));var i=a.current,l=Mn();ab(i,l,t,a,null,null)},Nc.prototype.unmount=Bf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var a=t.containerInfo;ab(t.current,2,null,t,null,null),uc(),a[an]=null}};function Nc(t){this._internalRoot=t}Nc.prototype.unstable_scheduleHydration=function(t){if(t){var a=Un();t={blockedOn:null,target:t,priority:a};for(var i=0;i<Ga.length&&a!==0&&a<Ga[i].priority;i++);Ga.splice(i,0,t),i===0&&ub(t)}};var hb=e.version;if(hb!=="19.1.0")throw Error(s(527,hb,"19.1.0"));le.findDOMNode=function(t){var a=t._reactInternals;if(a===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=m(a),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var bE={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ac.isDisabled&&Ac.supportsFiber)try{ft=Ac.inject(bE),qe=Ac}catch{}}return Tl.createRoot=function(t,a){if(!o(t))throw Error(s(299));var i=!1,l="",d=Ny,f=Ay,w=Dy,E=null;return a!=null&&(a.unstable_strictMode===!0&&(i=!0),a.identifierPrefix!==void 0&&(l=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(f=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(E=a.unstable_transitionCallbacks)),a=nb(t,1,!1,null,null,i,l,d,f,w,E,null),t[an]=a.current,Ef(t),new Bf(a)},Tl.hydrateRoot=function(t,a,i){if(!o(t))throw Error(s(299));var l=!1,d="",f=Ny,w=Ay,E=Dy,O=null,q=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(w=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(O=i.unstable_transitionCallbacks),i.formState!==void 0&&(q=i.formState)),a=nb(t,1,!0,a,i??null,l,d,f,w,E,O,q),a.context=rb(null),i=a.current,l=Mn(),l=Pt(l),d=Da(l),d.callback=null,Ia(i,d,l),i=l,a.current.lanes=i,pt(a,i),Dr(a),t[an]=a.current,Ef(t),new Nc(a)},Tl.version="19.1.0",Tl}var _b;function DE(){if(_b)return Uf.exports;_b=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Uf.exports=AE(),Uf.exports}var IE=DE(),Nl={},Tb;function OE(){if(Tb)return Nl;Tb=1,Object.defineProperty(Nl,"__esModule",{value:!0}),Nl.parse=h,Nl.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const k=function(){};return k.prototype=Object.create(null),k})();function h(k,D){const T=new u,R=k.length;if(R<2)return T;const z=(D==null?void 0:D.decode)||v;let K=0;do{const X=k.indexOf("=",K);if(X===-1)break;const ae=k.indexOf(";",K),ue=ae===-1?R:ae;if(X>ue){K=k.lastIndexOf(";",X-1)+1;continue}const ce=p(k,K,X),se=m(k,X,ce),P=k.slice(ce,se);if(T[P]===void 0){let C=p(k,X+1,ue),N=m(k,ue,C);const M=z(k.slice(C,N));T[P]=M}K=ue+1}while(K<R);return T}function p(k,D,T){do{const R=k.charCodeAt(D);if(R!==32&&R!==9)return D}while(++D<T);return T}function m(k,D,T){for(;D>T;){const R=k.charCodeAt(--D);if(R!==32&&R!==9)return D+1}return T}function g(k,D,T){const R=(T==null?void 0:T.encode)||encodeURIComponent;if(!r.test(k))throw new TypeError(`argument name is invalid: ${k}`);const z=R(D);if(!e.test(z))throw new TypeError(`argument val is invalid: ${D}`);let K=k+"="+z;if(!T)return K;if(T.maxAge!==void 0){if(!Number.isInteger(T.maxAge))throw new TypeError(`option maxAge is invalid: ${T.maxAge}`);K+="; Max-Age="+T.maxAge}if(T.domain){if(!n.test(T.domain))throw new TypeError(`option domain is invalid: ${T.domain}`);K+="; Domain="+T.domain}if(T.path){if(!s.test(T.path))throw new TypeError(`option path is invalid: ${T.path}`);K+="; Path="+T.path}if(T.expires){if(!S(T.expires)||!Number.isFinite(T.expires.valueOf()))throw new TypeError(`option expires is invalid: ${T.expires}`);K+="; Expires="+T.expires.toUTCString()}if(T.httpOnly&&(K+="; HttpOnly"),T.secure&&(K+="; Secure"),T.partitioned&&(K+="; Partitioned"),T.priority)switch(typeof T.priority=="string"?T.priority.toLowerCase():void 0){case"low":K+="; Priority=Low";break;case"medium":K+="; Priority=Medium";break;case"high":K+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${T.priority}`)}if(T.sameSite)switch(typeof T.sameSite=="string"?T.sameSite.toLowerCase():T.sameSite){case!0:case"strict":K+="; SameSite=Strict";break;case"lax":K+="; SameSite=Lax";break;case"none":K+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${T.sameSite}`)}return K}function v(k){if(k.indexOf("%")===-1)return k;try{return decodeURIComponent(k)}catch{return k}}function S(k){return o.call(k)==="[object Date]"}return Nl}OE();/**
* react-router v7.5.1
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/var Nb="popstate";function PE(r={}){function e(s,o){let{pathname:u,search:h,hash:p}=s.location;return cp("",{pathname:u,search:h,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Bl(o)}return LE(e,n,null,r)}function gt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ur(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ME(){return Math.random().toString(36).substring(2,10)}function Ab(r,e){return{usr:r.state,key:r.key,idx:e}}function cp(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?yo(e):e,state:n,key:e&&e.key||s||ME()}}function Bl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function yo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function LE(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,p="POP",m=null,g=v();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function v(){return(h.state||{idx:null}).idx}function S(){p="POP";let z=v(),K=z==null?null:z-g;g=z,m&&m({action:p,location:R.location,delta:K})}function k(z,K){p="PUSH";let X=cp(R.location,z,K);g=v()+1;let ae=Ab(X,g),ue=R.createHref(X);try{h.pushState(ae,"",ue)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;o.location.assign(ue)}u&&m&&m({action:p,location:R.location,delta:1})}function D(z,K){p="REPLACE";let X=cp(R.location,z,K);g=v();let ae=Ab(X,g),ue=R.createHref(X);h.replaceState(ae,"",ue),u&&m&&m({action:p,location:R.location,delta:0})}function T(z){let K=o.location.origin!=="null"?o.location.origin:o.location.href,X=typeof z=="string"?z:Bl(z);return X=X.replace(/ $/,"%20"),gt(K,`No window.location.(origin|href) available to create URL for href: ${X}`),new URL(X,K)}let R={get action(){return p},get location(){return r(o,h)},listen(z){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(Nb,S),m=z,()=>{o.removeEventListener(Nb,S),m=null}},createHref(z){return e(o,z)},createURL:T,encodeLocation(z){let K=T(z);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:k,replace:D,go(z){return h.go(z)}};return R}function yw(r,e,n="/"){return RE(r,e,n,!1)}function RE(r,e,n,s){let o=typeof e=="string"?yo(e):e,u=fa(o.pathname||"/",n);if(u==null)return null;let h=vw(r);FE(h);let p=null;for(let m=0;p==null&&m<h.length;++m){let g=HE(u);p=WE(h[m],g,s)}return p}function vw(r,e=[],n=[],s=""){let o=(u,h,p)=>{let m={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};m.relativePath.startsWith("/")&&(gt(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length));let g=da([s,m.relativePath]),v=n.concat(m);u.children&&u.children.length>0&&(gt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),vw(u.children,e,v,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:qE(g,u.index),routesMeta:v})};return r.forEach((u,h)=>{var p;if(u.path===""||!((p=u.path)!=null&&p.includes("?")))o(u,h);else for(let m of bw(u.path))o(u,h,m)}),e}function bw(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=bw(s.join("/")),p=[];return p.push(...h.map(m=>m===""?u:[u,m].join("/"))),o&&p.push(...h),p.map(m=>r.startsWith("/")&&m===""?"/":m)}function FE(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:KE(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var jE=/^:[\w-]+$/,zE=3,VE=2,BE=1,UE=10,$E=-2,Db=r=>r==="*";function qE(r,e){let n=r.split("/"),s=n.length;return n.some(Db)&&(s+=$E),e&&(s+=VE),n.filter(o=>!Db(o)).reduce((o,u)=>o+(jE.test(u)?zE:u===""?BE:UE),s)}function KE(r,e){return r.length===e.length&&r.slice(0,-1).every((n,s)=>n===e[s])?r[r.length-1]-e[e.length-1]:0}function WE(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let p=0;p<s.length;++p){let m=s[p],g=p===s.length-1,v=u==="/"?e:e.slice(u.length)||"/",S=Yc({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},v),k=m.route;if(!S&&g&&n&&!s[s.length-1].route.index&&(S=Yc({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!S)return null;Object.assign(o,S.params),h.push({params:o,pathname:da([u,S.pathname]),pathnameBase:XE(da([u,S.pathnameBase])),route:k}),S.pathnameBase!=="/"&&(u=da([u,S.pathnameBase]))}return h}function Yc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=GE(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((m,{paramName:g,isOptional:v},S)=>{if(g==="*"){let D=p[S]||"";h=u.slice(0,u.length-D.length).replace(/(.)\/+$/,"$1")}const k=p[S];return v&&!k?m[g]=void 0:m[g]=(k||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:h,pattern:r}}function GE(r,e=!1,n=!0){ur(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,p)=>(s.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function HE(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ur(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function fa(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function YE(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?yo(r):r;return{pathname:n?n.startsWith("/")?n:QE(n,e):e,search:ZE(s),hash:ex(o)}}function QE(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function qf(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function JE(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Qp(r){let e=JE(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Jp(r,e,n,s=!1){let o;typeof r=="string"?o=yo(r):(o={...r},gt(!o.pathname||!o.pathname.includes("?"),qf("?","pathname","search",o)),gt(!o.pathname||!o.pathname.includes("#"),qf("#","pathname","hash",o)),gt(!o.search||!o.search.includes("#"),qf("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,p;if(h==null)p=n;else{let S=e.length-1;if(!s&&h.startsWith("..")){let k=h.split("/");for(;k[0]==="..";)k.shift(),S-=1;o.pathname=k.join("/")}p=S>=0?e[S]:"/"}let m=YE(o,p),g=h&&h!=="/"&&h.endsWith("/"),v=(u||h===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||v)&&(m.pathname+="/"),m}var da=r=>r.join("/").replace(/\/\/+/g,"/"),XE=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),ZE=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,ex=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function tx(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var ww=["POST","PUT","PATCH","DELETE"];new Set(ww);var nx=["GET",...ww];new Set(nx);var vo=V.createContext(null);vo.displayName="DataRouter";var md=V.createContext(null);md.displayName="DataRouterState";var Sw=V.createContext({isTransitioning:!1});Sw.displayName="ViewTransition";var rx=V.createContext(new Map);rx.displayName="Fetchers";var ax=V.createContext(null);ax.displayName="Await";var dr=V.createContext(null);dr.displayName="Navigation";var Zl=V.createContext(null);Zl.displayName="Location";var hr=V.createContext({outlet:null,matches:[],isDataRoute:!1});hr.displayName="Route";var Xp=V.createContext(null);Xp.displayName="RouteError";function sx(r,{relative:e}={}){gt(bo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=V.useContext(dr),{hash:o,pathname:u,search:h}=eu(r,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:da([n,u])),s.createHref({pathname:p,search:h,hash:o})}function bo(){return V.useContext(Zl)!=null}function va(){return gt(bo(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(Zl).location}var kw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ew(r){V.useContext(dr).static||V.useLayoutEffect(r)}function Zp(){let{isDataRoute:r}=V.useContext(hr);return r?bx():ix()}function ix(){gt(bo(),"useNavigate() may be used only in the context of a <Router> component.");let r=V.useContext(vo),{basename:e,navigator:n}=V.useContext(dr),{matches:s}=V.useContext(hr),{pathname:o}=va(),u=JSON.stringify(Qp(s)),h=V.useRef(!1);return Ew(()=>{h.current=!0}),V.useCallback((p,m={})=>{if(ur(h.current,kw),!h.current)return;if(typeof p=="number"){n.go(p);return}let g=Jp(p,JSON.parse(u),o,m.relative==="path");r==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:da([e,g.pathname])),(m.replace?n.replace:n.push)(g,m.state,m)},[e,n,u,o,r])}V.createContext(null);function ox(){let{matches:r}=V.useContext(hr),e=r[r.length-1];return e?e.params:{}}function eu(r,{relative:e}={}){let{matches:n}=V.useContext(hr),{pathname:s}=va(),o=JSON.stringify(Qp(n));return V.useMemo(()=>Jp(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function lx(r,e){return xw(r,e)}function xw(r,e,n,s){var o;gt(bo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u,static:h}=V.useContext(dr),{matches:p}=V.useContext(hr),m=p[p.length-1],g=m?m.params:{},v=m?m.pathname:"/",S=m?m.pathnameBase:"/",k=m&&m.route;{let ae=k&&k.path||"";Cw(v,!k||ae.endsWith("*")||ae.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${ae}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ae}"> to <Route path="${ae==="/"?"*":`${ae}/*`}">.`)}let D=va(),T;if(e){let ae=typeof e=="string"?yo(e):e;gt(S==="/"||((o=ae.pathname)==null?void 0:o.startsWith(S)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${S}" but pathname "${ae.pathname}" was given in the \`location\` prop.`),T=ae}else T=D;let R=T.pathname||"/",z=R;if(S!=="/"){let ae=S.replace(/^\//,"").split("/");z="/"+R.replace(/^\//,"").split("/").slice(ae.length).join("/")}let K=!h&&n&&n.matches&&n.matches.length>0?n.matches:yw(r,{pathname:z});ur(k||K!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),ur(K==null||K[K.length-1].route.element!==void 0||K[K.length-1].route.Component!==void 0||K[K.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let X=fx(K&&K.map(ae=>Object.assign({},ae,{params:Object.assign({},g,ae.params),pathname:da([S,u.encodeLocation?u.encodeLocation(ae.pathname).pathname:ae.pathname]),pathnameBase:ae.pathnameBase==="/"?S:da([S,u.encodeLocation?u.encodeLocation(ae.pathnameBase).pathname:ae.pathnameBase])})),p,n,s);return e&&X?V.createElement(Zl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},X):X}function ux(){let r=vx(),e=tx(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=V.createElement(V.Fragment,null,V.createElement("p",null,"💿 Hey developer 👋"),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:u},"ErrorBoundary")," or"," ",V.createElement("code",{style:u},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:o},n):null,h)}var cx=V.createElement(ux,null),dx=class extends V.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?V.createElement(hr.Provider,{value:this.props.routeContext},V.createElement(Xp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function hx({routeContext:r,match:e,children:n}){let s=V.useContext(vo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(hr.Provider,{value:r},n)}function fx(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let m=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);gt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let h=!1,p=-1;if(n)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(p=m),g.route.id){let{loaderData:v,errors:S}=n,k=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!S||S[g.route.id]===void 0);if(g.route.lazy||k){h=!0,p>=0?o=o.slice(0,p+1):o=[o[0]];break}}}return o.reduceRight((m,g,v)=>{let S,k=!1,D=null,T=null;n&&(S=u&&g.route.id?u[g.route.id]:void 0,D=g.route.errorElement||cx,h&&(p<0&&v===0?(Cw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,T=null):p===v&&(k=!0,T=g.route.hydrateFallbackElement||null)));let R=e.concat(o.slice(0,v+1)),z=()=>{let K;return S?K=D:k?K=T:g.route.Component?K=V.createElement(g.route.Component,null):g.route.element?K=g.route.element:K=m,V.createElement(hx,{match:g,routeContext:{outlet:m,matches:R,isDataRoute:n!=null},children:K})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?V.createElement(dx,{location:n.location,revalidation:n.revalidation,component:D,error:S,children:z(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):z()},null)}function em(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function px(r){let e=V.useContext(vo);return gt(e,em(r)),e}function mx(r){let e=V.useContext(md);return gt(e,em(r)),e}function gx(r){let e=V.useContext(hr);return gt(e,em(r)),e}function tm(r){let e=gx(r),n=e.matches[e.matches.length-1];return gt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function yx(){return tm("useRouteId")}function vx(){var r;let e=V.useContext(Xp),n=mx("useRouteError"),s=tm("useRouteError");return e!==void 0?e:(r=n.errors)==null?void 0:r[s]}function bx(){let{router:r}=px("useNavigate"),e=tm("useNavigate"),n=V.useRef(!1);return Ew(()=>{n.current=!0}),V.useCallback(async(s,o={})=>{ur(n.current,kw),n.current&&(typeof s=="number"?r.navigate(s):await r.navigate(s,{fromRouteId:e,...o}))},[r,e])}var Ib={};function Cw(r,e,n){!e&&!Ib[r]&&(Ib[r]=!0,ur(!1,n))}V.memo(wx);function wx({routes:r,future:e,state:n}){return xw(r,void 0,n,e)}function Ys({to:r,replace:e,state:n,relative:s}){gt(bo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=V.useContext(dr);ur(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=V.useContext(hr),{pathname:h}=va(),p=Zp(),m=Jp(r,Qp(u),h,s==="path"),g=JSON.stringify(m);return V.useEffect(()=>{p(JSON.parse(g),{replace:e,state:n,relative:s})},[p,g,s,e,n]),null}function Qa(r){gt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Sx({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){gt(!bo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),p=V.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=yo(n));let{pathname:m="/",search:g="",hash:v="",state:S=null,key:k="default"}=n,D=V.useMemo(()=>{let T=fa(m,h);return T==null?null:{location:{pathname:T,search:g,hash:v,state:S,key:k},navigationType:s}},[h,m,g,v,S,k,s]);return ur(D!=null,`<Router basename="${h}"> is not able to match the URL "${m}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:V.createElement(dr.Provider,{value:p},V.createElement(Zl.Provider,{children:e,value:D}))}function kx({children:r,location:e}){return lx(dp(r),e)}function dp(r,e=[]){let n=[];return V.Children.forEach(r,(s,o)=>{if(!V.isValidElement(s))return;let u=[...e,o];if(s.type===V.Fragment){n.push.apply(n,dp(s.props.children,u));return}gt(s.type===Qa,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),gt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=dp(s.props.children,u)),n.push(h)}),n}var zc="get",Vc="application/x-www-form-urlencoded";function gd(r){return r!=null&&typeof r.tagName=="string"}function Ex(r){return gd(r)&&r.tagName.toLowerCase()==="button"}function xx(r){return gd(r)&&r.tagName.toLowerCase()==="form"}function Cx(r){return gd(r)&&r.tagName.toLowerCase()==="input"}function _x(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Tx(r,e){return r.button===0&&(!e||e==="_self")&&!_x(r)}var Dc=null;function Nx(){if(Dc===null)try{new FormData(document.createElement("form"),0),Dc=!1}catch{Dc=!0}return Dc}var Ax=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Kf(r){return r!=null&&!Ax.has(r)?(ur(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vc}"`),null):r}function Dx(r,e){let n,s,o,u,h;if(xx(r)){let p=r.getAttribute("action");s=p?fa(p,e):null,n=r.getAttribute("method")||zc,o=Kf(r.getAttribute("enctype"))||Vc,u=new FormData(r)}else if(Ex(r)||Cx(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=r.getAttribute("formaction")||p.getAttribute("action");if(s=m?fa(m,e):null,n=r.getAttribute("formmethod")||p.getAttribute("method")||zc,o=Kf(r.getAttribute("formenctype"))||Kf(p.getAttribute("enctype"))||Vc,u=new FormData(p,r),!Nx()){let{name:g,type:v,value:S}=r;if(v==="image"){let k=g?`${g}.`:"";u.append(`${k}x`,"0"),u.append(`${k}y`,"0")}else g&&u.append(g,S)}}else{if(gd(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=zc,s=null,o=Vc,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}function nm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function Ix(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ox(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Px(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await Ix(u,n);return h.links?h.links():[]}return[]}));return Fx(s.flat(1).filter(Ox).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Ob(r,e,n,s,o,u){let h=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,p=(m,g)=>{var v;return n[g].pathname!==m.pathname||((v=n[g].route.path)==null?void 0:v.endsWith("*"))&&n[g].params["*"]!==m.params["*"]};return u==="assets"?e.filter((m,g)=>h(m,g)||p(m,g)):u==="data"?e.filter((m,g)=>{var v;let S=s.routes[m.route.id];if(!S||!S.hasLoader)return!1;if(h(m,g)||p(m,g))return!0;if(m.route.shouldRevalidate){let k=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(r,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof k=="boolean")return k}return!0}):[]}function Mx(r,e,{includeHydrateFallback:n}={}){return Lx(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Lx(r){return[...new Set(r)]}function Rx(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function Fx(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(Rx(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}var jx=new Set([100,101,204,205]);function zx(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&fa(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function _w(){let r=V.useContext(vo);return nm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Vx(){let r=V.useContext(md);return nm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var rm=V.createContext(void 0);rm.displayName="FrameworkContext";function Tw(){let r=V.useContext(rm);return nm(r,"You must render this element inside a <HydratedRouter> element"),r}function Bx(r,e){let n=V.useContext(rm),[s,o]=V.useState(!1),[u,h]=V.useState(!1),{onFocus:p,onBlur:m,onMouseEnter:g,onMouseLeave:v,onTouchStart:S}=e,k=V.useRef(null);V.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let R=K=>{K.forEach(X=>{h(X.isIntersecting)})},z=new IntersectionObserver(R,{threshold:.5});return k.current&&z.observe(k.current),()=>{z.disconnect()}}},[r]),V.useEffect(()=>{if(s){let R=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(R)}}},[s]);let D=()=>{o(!0)},T=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,k,{}]:[u,k,{onFocus:Al(p,D),onBlur:Al(m,T),onMouseEnter:Al(g,D),onMouseLeave:Al(v,T),onTouchStart:Al(S,D)}]:[!1,k,{}]}function Al(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function Ux({page:r,...e}){let{router:n}=_w(),s=V.useMemo(()=>yw(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?V.createElement(qx,{page:r,matches:s,...e}):null}function $x(r){let{manifest:e,routeModules:n}=Tw(),[s,o]=V.useState([]);return V.useEffect(()=>{let u=!1;return Px(r,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,n]),s}function qx({page:r,matches:e,...n}){let s=va(),{manifest:o,routeModules:u}=Tw(),{basename:h}=_w(),{loaderData:p,matches:m}=Vx(),g=V.useMemo(()=>Ob(r,e,m,o,s,"data"),[r,e,m,o,s]),v=V.useMemo(()=>Ob(r,e,m,o,s,"assets"),[r,e,m,o,s]),S=V.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let T=new Set,R=!1;if(e.forEach(K=>{var X;let ae=o.routes[K.route.id];!ae||!ae.hasLoader||(!g.some(ue=>ue.route.id===K.route.id)&&K.route.id in p&&(X=u[K.route.id])!=null&&X.shouldRevalidate||ae.hasClientLoader?R=!0:T.add(K.route.id))}),T.size===0)return[];let z=zx(r,h);return R&&T.size>0&&z.searchParams.set("_routes",e.filter(K=>T.has(K.route.id)).map(K=>K.route.id).join(",")),[z.pathname+z.search]},[h,p,s,o,g,e,r,u]),k=V.useMemo(()=>Mx(v,o),[v,o]),D=$x(v);return V.createElement(V.Fragment,null,S.map(T=>V.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...n})),k.map(T=>V.createElement("link",{key:T,rel:"modulepreload",href:T,...n})),D.map(({key:T,link:R})=>V.createElement("link",{key:T,...R})))}function Kx(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Nw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Nw&&(window.__reactRouterVersion="7.5.1")}catch{}function Wx({basename:r,children:e,window:n}){let s=V.useRef();s.current==null&&(s.current=PE({window:n,v5Compat:!0}));let o=s.current,[u,h]=V.useState({action:o.action,location:o.location}),p=V.useCallback(m=>{V.startTransition(()=>h(m))},[h]);return V.useLayoutEffect(()=>o.listen(p),[o,p]),V.createElement(Sx,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var Aw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,am=V.forwardRef(function({onClick:r,discover:e="render",prefetch:n="none",relative:s,reloadDocument:o,replace:u,state:h,target:p,to:m,preventScrollReset:g,viewTransition:v,...S},k){let{basename:D}=V.useContext(dr),T=typeof m=="string"&&Aw.test(m),R,z=!1;if(typeof m=="string"&&T&&(R=m,Nw))try{let C=new URL(window.location.href),N=m.startsWith("//")?new URL(C.protocol+m):new URL(m),M=fa(N.pathname,D);N.origin===C.origin&&M!=null?m=M+N.search+N.hash:z=!0}catch{ur(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let K=sx(m,{relative:s}),[X,ae,ue]=Bx(n,S),ce=Yx(m,{replace:u,state:h,target:p,preventScrollReset:g,relative:s,viewTransition:v});function se(C){r&&r(C),C.defaultPrevented||ce(C)}let P=V.createElement("a",{...S,...ue,href:R||K,onClick:z||o?r:se,ref:Kx(k,ae),target:p,"data-discover":!T&&e==="render"?"true":void 0});return X&&!T?V.createElement(V.Fragment,null,P,V.createElement(Ux,{page:K})):P});am.displayName="Link";var Dw=V.forwardRef(function({"aria-current":r="page",caseSensitive:e=!1,className:n="",end:s=!1,style:o,to:u,viewTransition:h,children:p,...m},g){let v=eu(u,{relative:m.relative}),S=va(),k=V.useContext(md),{navigator:D,basename:T}=V.useContext(dr),R=k!=null&&eC(v)&&h===!0,z=D.encodeLocation?D.encodeLocation(v).pathname:v.pathname,K=S.pathname,X=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;e||(K=K.toLowerCase(),X=X?X.toLowerCase():null,z=z.toLowerCase()),X&&T&&(X=fa(X,T)||X);const ae=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let ue=K===z||!s&&K.startsWith(z)&&K.charAt(ae)==="/",ce=X!=null&&(X===z||!s&&X.startsWith(z)&&X.charAt(z.length)==="/"),se={isActive:ue,isPending:ce,isTransitioning:R},P=ue?r:void 0,C;typeof n=="function"?C=n(se):C=[n,ue?"active":null,ce?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let N=typeof o=="function"?o(se):o;return V.createElement(am,{...m,"aria-current":P,className:C,ref:g,style:N,to:u,viewTransition:h},typeof p=="function"?p(se):p)});Dw.displayName="NavLink";var Gx=V.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=zc,action:p,onSubmit:m,relative:g,preventScrollReset:v,viewTransition:S,...k},D)=>{let T=Xx(),R=Zx(p,{relative:g}),z=h.toLowerCase()==="get"?"get":"post",K=typeof p=="string"&&Aw.test(p),X=ae=>{if(m&&m(ae),ae.defaultPrevented)return;ae.preventDefault();let ue=ae.nativeEvent.submitter,ce=(ue==null?void 0:ue.getAttribute("formmethod"))||h;T(ue||ae.currentTarget,{fetcherKey:e,method:ce,navigate:n,replace:o,state:u,relative:g,preventScrollReset:v,viewTransition:S})};return V.createElement("form",{ref:D,method:z,action:R,onSubmit:s?m:X,...k,"data-discover":!K&&r==="render"?"true":void 0})});Gx.displayName="Form";function Hx(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Iw(r){let e=V.useContext(vo);return gt(e,Hx(r)),e}function Yx(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let p=Zp(),m=va(),g=eu(r,{relative:u});return V.useCallback(v=>{if(Tx(v,e)){v.preventDefault();let S=n!==void 0?n:Bl(m)===Bl(g);p(r,{replace:S,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[m,p,g,n,s,e,r,o,u,h])}var Qx=0,Jx=()=>`__${String(++Qx)}__`;function Xx(){let{router:r}=Iw("useSubmit"),{basename:e}=V.useContext(dr),n=yx();return V.useCallback(async(s,o={})=>{let{action:u,method:h,encType:p,formData:m,body:g}=Dx(s,e);if(o.navigate===!1){let v=o.fetcherKey||Jx();await r.fetch(v,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||h,formEncType:o.encType||p,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||h,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function Zx(r,{relative:e}={}){let{basename:n}=V.useContext(dr),s=V.useContext(hr);gt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...eu(r||".",{relative:e})},h=va();if(r==null){u.search=h.search;let p=new URLSearchParams(u.search),m=p.getAll("index");if(m.some(g=>g==="")){p.delete("index"),m.filter(v=>v).forEach(v=>p.append("index",v));let g=p.toString();u.search=g?`?${g}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:da([n,u.pathname])),Bl(u)}function eC(r,e={}){let n=V.useContext(Sw);gt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Iw("useViewTransitionState"),o=eu(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=fa(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=fa(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Yc(o.pathname,h)!=null||Yc(o.pathname,u)!=null}new TextEncoder;[...jx];const tC=()=>{};var Pb={};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ow=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},nC=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],p=r[n++],m=((o&7)<<18|(u&63)<<12|(h&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const u=r[n++],h=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},Pw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,p=h?r[o+1]:0,m=o+2<r.length,g=m?r[o+2]:0,v=u>>2,S=(u&3)<<4|p>>4;let k=(p&15)<<2|g>>6,D=g&63;m||(D=64,h||(k=64)),s.push(n[v],n[S],n[k],n[D])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Ow(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):nC(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],h=o<r.length?n[r.charAt(o)]:0;++o;const p=o<r.length?n[r.charAt(o)]:64;++o;const m=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||h==null||p==null||m==null)throw new rC;const g=u<<2|h>>4;if(s.push(g),p!==64){const v=h<<4&240|p>>2;if(s.push(v),m!==64){const S=p<<6&192|m;s.push(S)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class rC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aC=function(r){const e=Ow(r);return Pw.encodeByteArray(e,!0)},Qc=function(r){return aC(r).replace(/\./g,"")},sC=function(r){try{return Pw.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function iC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const oC=()=>iC().__FIREBASE_DEFAULTS__,lC=()=>{if(typeof process>"u"||typeof Pb>"u")return;const r=Pb.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},uC=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&sC(r[1]);return e&&JSON.parse(e)},sm=()=>{try{return tC()||oC()||lC()||uC()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},cC=r=>{var e,n;return(n=(e=sm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},dC=r=>{const e=cC(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Mw=()=>{var r;return(r=sm())===null||r===void 0?void 0:r.config};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class hC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function fC(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Qc(JSON.stringify(n)),Qc(JSON.stringify(h)),""].join(".")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function pC(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mC(){var r;const e=(r=sm())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gC(){return!mC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yC(){try{return typeof indexedDB=="object"}catch{return!1}}function vC(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const bC="FirebaseError";class wo extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=bC,Object.setPrototypeOf(this,wo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lw.prototype.create)}}class Lw{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?wC(u,s):"Error",p=`${this.serviceName}: ${h} (${o}).`;return new wo(o,p,s)}}function wC(r,e){return r.replace(SC,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const SC=/\{\$([^}]+)}/g;function Jc(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(Mb(u)&&Mb(h)){if(!Jc(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Mb(r){return r!==null&&typeof r=="object"}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Lr(r){return r&&r._delegate?r._delegate:r}class Ul{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Xs="[DEFAULT]";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class kC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new hC;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xC(e))try{this.getOrInitializeService({instanceIdentifier:Xs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Xs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xs){return this.instances.has(e)}getOptions(e=Xs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&h.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:EC(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Xs){return this.component?this.component.multipleInstances?e:Xs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function EC(r){return r===Xs?void 0:r}function xC(r){return r.instantiationMode==="EAGER"}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class CC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new kC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var ze;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(ze||(ze={}));const _C={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},TC=ze.INFO,NC={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},AC=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=NC[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rw{constructor(e){this.name=e,this._logLevel=TC,this._logHandler=AC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_C[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const DC=(r,e)=>e.some(n=>r instanceof n);let Lb,Rb;function IC(){return Lb||(Lb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OC(){return Rb||(Rb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Fw=new WeakMap,hp=new WeakMap,jw=new WeakMap,Wf=new WeakMap,im=new WeakMap;function PC(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(Xa(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&Fw.set(n,r)}).catch(()=>{}),im.set(e,r),e}function MC(r){if(hp.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});hp.set(r,e)}let fp={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return hp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||jw.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xa(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function LC(r){fp=r(fp)}function RC(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Gf(this),e,...n);return jw.set(s,e.sort?e.sort():[e]),Xa(s)}:OC().includes(r)?function(...e){return r.apply(Gf(this),e),Xa(Fw.get(this))}:function(...e){return Xa(r.apply(Gf(this),e))}}function FC(r){return typeof r=="function"?RC(r):(r instanceof IDBTransaction&&MC(r),DC(r,IC())?new Proxy(r,fp):r)}function Xa(r){if(r instanceof IDBRequest)return PC(r);if(Wf.has(r))return Wf.get(r);const e=FC(r);return e!==r&&(Wf.set(r,e),im.set(e,r)),e}const Gf=r=>im.get(r);function jC(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),p=Xa(h);return s&&h.addEventListener("upgradeneeded",m=>{s(Xa(h.result),m.oldVersion,m.newVersion,Xa(h.transaction),m)}),n&&h.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),p.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const zC=["get","getKey","getAll","getAllKeys","count"],VC=["put","add","delete","clear"],Hf=new Map;function Fb(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Hf.get(e))return Hf.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=VC.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||zC.includes(n)))return;const u=async function(h,...p){const m=this.transaction(h,o?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(p.shift())),(await Promise.all([g[n](...p),o&&m.done]))[0]};return Hf.set(e,u),u}LC(r=>({...r,get:(e,n,s)=>Fb(e,n)||r.get(e,n,s),has:(e,n)=>!!Fb(e,n)||r.has(e,n)}));/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class BC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(UC(e)){const n=e.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(e=>e).join(" ")}}function UC(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const pp="@firebase/app",jb="0.11.4";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const pa=new Rw("@firebase/app"),$C="@firebase/app-compat",qC="@firebase/analytics-compat",KC="@firebase/analytics",WC="@firebase/app-check-compat",GC="@firebase/app-check",HC="@firebase/auth",YC="@firebase/auth-compat",QC="@firebase/database",JC="@firebase/data-connect",XC="@firebase/database-compat",ZC="@firebase/functions",e_="@firebase/functions-compat",t_="@firebase/installations",n_="@firebase/installations-compat",r_="@firebase/messaging",a_="@firebase/messaging-compat",s_="@firebase/performance",i_="@firebase/performance-compat",o_="@firebase/remote-config",l_="@firebase/remote-config-compat",u_="@firebase/storage",c_="@firebase/storage-compat",d_="@firebase/firestore",h_="@firebase/vertexai",f_="@firebase/firestore-compat",p_="firebase",m_="11.6.0";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const mp="[DEFAULT]",g_={[pp]:"fire-core",[$C]:"fire-core-compat",[KC]:"fire-analytics",[qC]:"fire-analytics-compat",[GC]:"fire-app-check",[WC]:"fire-app-check-compat",[HC]:"fire-auth",[YC]:"fire-auth-compat",[QC]:"fire-rtdb",[JC]:"fire-data-connect",[XC]:"fire-rtdb-compat",[ZC]:"fire-fn",[e_]:"fire-fn-compat",[t_]:"fire-iid",[n_]:"fire-iid-compat",[r_]:"fire-fcm",[a_]:"fire-fcm-compat",[s_]:"fire-perf",[i_]:"fire-perf-compat",[o_]:"fire-rc",[l_]:"fire-rc-compat",[u_]:"fire-gcs",[c_]:"fire-gcs-compat",[d_]:"fire-fst",[f_]:"fire-fst-compat",[h_]:"fire-vertex","fire-js":"fire-js",[p_]:"fire-js-all"};/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Xc=new Map,y_=new Map,gp=new Map;function zb(r,e){try{r.container.addComponent(e)}catch(n){pa.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Zc(r){const e=r.name;if(gp.has(e))return pa.debug(`There were multiple attempts to register component ${e}.`),!1;gp.set(e,r);for(const n of Xc.values())zb(n,r);for(const n of y_.values())zb(n,r);return!0}function v_(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function b_(r){return r==null?!1:r.settings!==void 0}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const w_={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Za=new Lw("app","Firebase",w_);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class S_{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ul("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Za.create("app-deleted",{appName:this._name})}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const k_=m_;function zw(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:mp,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Za.create("bad-app-name",{appName:String(o)});if(n||(n=Mw()),!n)throw Za.create("no-options");const u=Xc.get(o);if(u){if(Jc(n,u.options)&&Jc(s,u.config))return u;throw Za.create("duplicate-app",{appName:o})}const h=new CC(o);for(const m of gp.values())h.addComponent(m);const p=new S_(n,s,h);return Xc.set(o,p),p}function E_(r=mp){const e=Xc.get(r);if(!e&&r===mp&&Mw())return zw();if(!e)throw Za.create("no-app",{appName:r});return e}function oo(r,e,n){var s;let o=(s=g_[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const p=[`Unable to register library "${o}" with version "${e}":`];u&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&p.push("and"),h&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pa.warn(p.join(" "));return}Zc(new Ul(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const x_="firebase-heartbeat-database",C_=1,$l="firebase-heartbeat-store";let Yf=null;function Vw(){return Yf||(Yf=jC(x_,C_,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore($l)}catch(n){console.warn(n)}}}}).catch(r=>{throw Za.create("idb-open",{originalErrorMessage:r.message})})),Yf}async function __(r){try{const e=(await Vw()).transaction($l),n=await e.objectStore($l).get(Bw(r));return await e.done,n}catch(e){if(e instanceof wo)pa.warn(e.message);else{const n=Za.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});pa.warn(n.message)}}}async function Vb(r,e){try{const n=(await Vw()).transaction($l,"readwrite");await n.objectStore($l).put(e,Bw(r)),await n.done}catch(n){if(n instanceof wo)pa.warn(n.message);else{const s=Za.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});pa.warn(s.message)}}}function Bw(r){return`${r.name}!${r.options.appId}`}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const T_=1024,N_=30;class A_{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new I_(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Bb();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>N_){const u=O_(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){pa.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Bb(),{heartbeatsToSend:s,unsentEntries:o}=D_(this._heartbeatsCache.heartbeats),u=Qc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return pa.warn(n),""}}}function Bb(){return new Date().toISOString().substring(0,10)}function D_(r,e=T_){const n=[];let s=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),Ub(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Ub(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class I_{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yC()?vC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await __(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Vb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Vb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Ub(r){return Qc(JSON.stringify({version:2,heartbeats:r})).length}function O_(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function P_(r){Zc(new Ul("platform-logger",e=>new BC(e),"PRIVATE")),Zc(new Ul("heartbeat",e=>new A_(e),"PRIVATE")),oo(pp,jb,r),oo(pp,jb,"esm2017"),oo("fire-js","")}P_("");var M_="firebase",L_="11.6.0";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/oo(M_,L_,"app");var $b=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var es,Uw;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,C){function N(){}N.prototype=C.prototype,P.D=C.prototype,P.prototype=new N,P.prototype.constructor=P,P.C=function(M,I,j){for(var A=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)A[Ye-2]=arguments[Ye];return C.prototype[I].apply(M,A)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,C,N){N||(N=0);var M=Array(16);if(typeof C=="string")for(var I=0;16>I;++I)M[I]=C.charCodeAt(N++)|C.charCodeAt(N++)<<8|C.charCodeAt(N++)<<16|C.charCodeAt(N++)<<24;else for(I=0;16>I;++I)M[I]=C[N++]|C[N++]<<8|C[N++]<<16|C[N++]<<24;C=P.g[0],N=P.g[1],I=P.g[2];var j=P.g[3],A=C+(j^N&(I^j))+M[0]+3614090360&4294967295;C=N+(A<<7&4294967295|A>>>25),A=j+(I^C&(N^I))+M[1]+3905402710&4294967295,j=C+(A<<12&4294967295|A>>>20),A=I+(N^j&(C^N))+M[2]+606105819&4294967295,I=j+(A<<17&4294967295|A>>>15),A=N+(C^I&(j^C))+M[3]+3250441966&4294967295,N=I+(A<<22&4294967295|A>>>10),A=C+(j^N&(I^j))+M[4]+4118548399&4294967295,C=N+(A<<7&4294967295|A>>>25),A=j+(I^C&(N^I))+M[5]+1200080426&4294967295,j=C+(A<<12&4294967295|A>>>20),A=I+(N^j&(C^N))+M[6]+2821735955&4294967295,I=j+(A<<17&4294967295|A>>>15),A=N+(C^I&(j^C))+M[7]+4249261313&4294967295,N=I+(A<<22&4294967295|A>>>10),A=C+(j^N&(I^j))+M[8]+1770035416&4294967295,C=N+(A<<7&4294967295|A>>>25),A=j+(I^C&(N^I))+M[9]+2336552879&4294967295,j=C+(A<<12&4294967295|A>>>20),A=I+(N^j&(C^N))+M[10]+4294925233&4294967295,I=j+(A<<17&4294967295|A>>>15),A=N+(C^I&(j^C))+M[11]+2304563134&4294967295,N=I+(A<<22&4294967295|A>>>10),A=C+(j^N&(I^j))+M[12]+1804603682&4294967295,C=N+(A<<7&4294967295|A>>>25),A=j+(I^C&(N^I))+M[13]+4254626195&4294967295,j=C+(A<<12&4294967295|A>>>20),A=I+(N^j&(C^N))+M[14]+2792965006&4294967295,I=j+(A<<17&4294967295|A>>>15),A=N+(C^I&(j^C))+M[15]+1236535329&4294967295,N=I+(A<<22&4294967295|A>>>10),A=C+(I^j&(N^I))+M[1]+4129170786&4294967295,C=N+(A<<5&4294967295|A>>>27),A=j+(N^I&(C^N))+M[6]+3225465664&4294967295,j=C+(A<<9&4294967295|A>>>23),A=I+(C^N&(j^C))+M[11]+643717713&4294967295,I=j+(A<<14&4294967295|A>>>18),A=N+(j^C&(I^j))+M[0]+3921069994&4294967295,N=I+(A<<20&4294967295|A>>>12),A=C+(I^j&(N^I))+M[5]+3593408605&4294967295,C=N+(A<<5&4294967295|A>>>27),A=j+(N^I&(C^N))+M[10]+38016083&4294967295,j=C+(A<<9&4294967295|A>>>23),A=I+(C^N&(j^C))+M[15]+3634488961&4294967295,I=j+(A<<14&4294967295|A>>>18),A=N+(j^C&(I^j))+M[4]+3889429448&4294967295,N=I+(A<<20&4294967295|A>>>12),A=C+(I^j&(N^I))+M[9]+568446438&4294967295,C=N+(A<<5&4294967295|A>>>27),A=j+(N^I&(C^N))+M[14]+3275163606&4294967295,j=C+(A<<9&4294967295|A>>>23),A=I+(C^N&(j^C))+M[3]+4107603335&4294967295,I=j+(A<<14&4294967295|A>>>18),A=N+(j^C&(I^j))+M[8]+1163531501&4294967295,N=I+(A<<20&4294967295|A>>>12),A=C+(I^j&(N^I))+M[13]+2850285829&4294967295,C=N+(A<<5&4294967295|A>>>27),A=j+(N^I&(C^N))+M[2]+4243563512&4294967295,j=C+(A<<9&4294967295|A>>>23),A=I+(C^N&(j^C))+M[7]+1735328473&4294967295,I=j+(A<<14&4294967295|A>>>18),A=N+(j^C&(I^j))+M[12]+2368359562&4294967295,N=I+(A<<20&4294967295|A>>>12),A=C+(N^I^j)+M[5]+4294588738&4294967295,C=N+(A<<4&4294967295|A>>>28),A=j+(C^N^I)+M[8]+2272392833&4294967295,j=C+(A<<11&4294967295|A>>>21),A=I+(j^C^N)+M[11]+1839030562&4294967295,I=j+(A<<16&4294967295|A>>>16),A=N+(I^j^C)+M[14]+4259657740&4294967295,N=I+(A<<23&4294967295|A>>>9),A=C+(N^I^j)+M[1]+2763975236&4294967295,C=N+(A<<4&4294967295|A>>>28),A=j+(C^N^I)+M[4]+1272893353&4294967295,j=C+(A<<11&4294967295|A>>>21),A=I+(j^C^N)+M[7]+4139469664&4294967295,I=j+(A<<16&4294967295|A>>>16),A=N+(I^j^C)+M[10]+3200236656&4294967295,N=I+(A<<23&4294967295|A>>>9),A=C+(N^I^j)+M[13]+681279174&4294967295,C=N+(A<<4&4294967295|A>>>28),A=j+(C^N^I)+M[0]+3936430074&4294967295,j=C+(A<<11&4294967295|A>>>21),A=I+(j^C^N)+M[3]+3572445317&4294967295,I=j+(A<<16&4294967295|A>>>16),A=N+(I^j^C)+M[6]+76029189&4294967295,N=I+(A<<23&4294967295|A>>>9),A=C+(N^I^j)+M[9]+3654602809&4294967295,C=N+(A<<4&4294967295|A>>>28),A=j+(C^N^I)+M[12]+3873151461&4294967295,j=C+(A<<11&4294967295|A>>>21),A=I+(j^C^N)+M[15]+530742520&4294967295,I=j+(A<<16&4294967295|A>>>16),A=N+(I^j^C)+M[2]+3299628645&4294967295,N=I+(A<<23&4294967295|A>>>9),A=C+(I^(N|~j))+M[0]+4096336452&4294967295,C=N+(A<<6&4294967295|A>>>26),A=j+(N^(C|~I))+M[7]+1126891415&4294967295,j=C+(A<<10&4294967295|A>>>22),A=I+(C^(j|~N))+M[14]+2878612391&4294967295,I=j+(A<<15&4294967295|A>>>17),A=N+(j^(I|~C))+M[5]+4237533241&4294967295,N=I+(A<<21&4294967295|A>>>11),A=C+(I^(N|~j))+M[12]+1700485571&4294967295,C=N+(A<<6&4294967295|A>>>26),A=j+(N^(C|~I))+M[3]+2399980690&4294967295,j=C+(A<<10&4294967295|A>>>22),A=I+(C^(j|~N))+M[10]+4293915773&4294967295,I=j+(A<<15&4294967295|A>>>17),A=N+(j^(I|~C))+M[1]+2240044497&4294967295,N=I+(A<<21&4294967295|A>>>11),A=C+(I^(N|~j))+M[8]+1873313359&4294967295,C=N+(A<<6&4294967295|A>>>26),A=j+(N^(C|~I))+M[15]+4264355552&4294967295,j=C+(A<<10&4294967295|A>>>22),A=I+(C^(j|~N))+M[6]+2734768916&4294967295,I=j+(A<<15&4294967295|A>>>17),A=N+(j^(I|~C))+M[13]+1309151649&4294967295,N=I+(A<<21&4294967295|A>>>11),A=C+(I^(N|~j))+M[4]+4149444226&4294967295,C=N+(A<<6&4294967295|A>>>26),A=j+(N^(C|~I))+M[11]+3174756917&4294967295,j=C+(A<<10&4294967295|A>>>22),A=I+(C^(j|~N))+M[2]+718787259&4294967295,I=j+(A<<15&4294967295|A>>>17),A=N+(j^(I|~C))+M[9]+3951481745&4294967295,P.g[0]=P.g[0]+C&4294967295,P.g[1]=P.g[1]+(I+(A<<21&4294967295|A>>>11))&4294967295,P.g[2]=P.g[2]+I&4294967295,P.g[3]=P.g[3]+j&4294967295}s.prototype.u=function(P,C){C===void 0&&(C=P.length);for(var N=C-this.blockSize,M=this.B,I=this.h,j=0;j<C;){if(I==0)for(;j<=N;)o(this,P,j),j+=this.blockSize;if(typeof P=="string"){for(;j<C;)if(M[I++]=P.charCodeAt(j++),I==this.blockSize){o(this,M),I=0;break}}else for(;j<C;)if(M[I++]=P[j++],I==this.blockSize){o(this,M),I=0;break}}this.h=I,this.o+=C},s.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var C=1;C<P.length-8;++C)P[C]=0;var N=8*this.o;for(C=P.length-8;C<P.length;++C)P[C]=N&255,N/=256;for(this.u(P),P=Array(16),C=N=0;4>C;++C)for(var M=0;32>M;M+=8)P[N++]=this.g[C]>>>M&255;return P};function u(P,C){var N=p;return Object.prototype.hasOwnProperty.call(N,P)?N[P]:N[P]=C(P)}function h(P,C){this.h=C;for(var N=[],M=!0,I=P.length-1;0<=I;I--){var j=P[I]|0;M&&j==C||(N[I]=j,M=!1)}this.g=N}var p={};function m(P){return-128<=P&&128>P?u(P,function(C){return new h([C|0],0>C?-1:0)}):new h([P|0],0>P?-1:0)}function g(P){if(isNaN(P)||!isFinite(P))return S;if(0>P)return z(g(-P));for(var C=[],N=1,M=0;P>=N;M++)C[M]=P/N|0,N*=4294967296;return new h(C,0)}function v(P,C){if(P.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(P.charAt(0)=="-")return z(v(P.substring(1),C));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=g(Math.pow(C,8)),M=S,I=0;I<P.length;I+=8){var j=Math.min(8,P.length-I),A=parseInt(P.substring(I,I+j),C);8>j?(j=g(Math.pow(C,j)),M=M.j(j).add(g(A))):(M=M.j(N),M=M.add(g(A)))}return M}var S=m(0),k=m(1),D=m(16777216);r=h.prototype,r.m=function(){if(R(this))return-z(this).m();for(var P=0,C=1,N=0;N<this.g.length;N++){var M=this.i(N);P+=(0<=M?M:4294967296+M)*C,C*=4294967296}return P},r.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(T(this))return"0";if(R(this))return"-"+z(this).toString(P);for(var C=g(Math.pow(P,6)),N=this,M="";;){var I=ue(N,C).g;N=K(N,I.j(C));var j=((0<N.g.length?N.g[0]:N.h)>>>0).toString(P);if(N=I,T(N))return j+M;for(;6>j.length;)j="0"+j;M=j+M}},r.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function T(P){if(P.h!=0)return!1;for(var C=0;C<P.g.length;C++)if(P.g[C]!=0)return!1;return!0}function R(P){return P.h==-1}r.l=function(P){return P=K(this,P),R(P)?-1:T(P)?0:1};function z(P){for(var C=P.g.length,N=[],M=0;M<C;M++)N[M]=~P.g[M];return new h(N,~P.h).add(k)}r.abs=function(){return R(this)?z(this):this},r.add=function(P){for(var C=Math.max(this.g.length,P.g.length),N=[],M=0,I=0;I<=C;I++){var j=M+(this.i(I)&65535)+(P.i(I)&65535),A=(j>>>16)+(this.i(I)>>>16)+(P.i(I)>>>16);M=A>>>16,j&=65535,A&=65535,N[I]=A<<16|j}return new h(N,N[N.length-1]&-2147483648?-1:0)};function K(P,C){return P.add(z(C))}r.j=function(P){if(T(this)||T(P))return S;if(R(this))return R(P)?z(this).j(z(P)):z(z(this).j(P));if(R(P))return z(this.j(z(P)));if(0>this.l(D)&&0>P.l(D))return g(this.m()*P.m());for(var C=this.g.length+P.g.length,N=[],M=0;M<2*C;M++)N[M]=0;for(M=0;M<this.g.length;M++)for(var I=0;I<P.g.length;I++){var j=this.i(M)>>>16,A=this.i(M)&65535,Ye=P.i(I)>>>16,et=P.i(I)&65535;N[2*M+2*I]+=A*et,X(N,2*M+2*I),N[2*M+2*I+1]+=j*et,X(N,2*M+2*I+1),N[2*M+2*I+1]+=A*Ye,X(N,2*M+2*I+1),N[2*M+2*I+2]+=j*Ye,X(N,2*M+2*I+2)}for(M=0;M<C;M++)N[M]=N[2*M+1]<<16|N[2*M];for(M=C;M<2*C;M++)N[M]=0;return new h(N,0)};function X(P,C){for(;(P[C]&65535)!=P[C];)P[C+1]+=P[C]>>>16,P[C]&=65535,C++}function ae(P,C){this.g=P,this.h=C}function ue(P,C){if(T(C))throw Error("division by zero");if(T(P))return new ae(S,S);if(R(P))return C=ue(z(P),C),new ae(z(C.g),z(C.h));if(R(C))return C=ue(P,z(C)),new ae(z(C.g),C.h);if(30<P.g.length){if(R(P)||R(C))throw Error("slowDivide_ only works with positive integers.");for(var N=k,M=C;0>=M.l(P);)N=ce(N),M=ce(M);var I=se(N,1),j=se(M,1);for(M=se(M,2),N=se(N,2);!T(M);){var A=j.add(M);0>=A.l(P)&&(I=I.add(N),j=A),M=se(M,1),N=se(N,1)}return C=K(P,I.j(C)),new ae(I,C)}for(I=S;0<=P.l(C);){for(N=Math.max(1,Math.floor(P.m()/C.m())),M=Math.ceil(Math.log(N)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),j=g(N),A=j.j(C);R(A)||0<A.l(P);)N-=M,j=g(N),A=j.j(C);T(j)&&(j=k),I=I.add(j),P=K(P,A)}return new ae(I,P)}r.A=function(P){return ue(this,P).h},r.and=function(P){for(var C=Math.max(this.g.length,P.g.length),N=[],M=0;M<C;M++)N[M]=this.i(M)&P.i(M);return new h(N,this.h&P.h)},r.or=function(P){for(var C=Math.max(this.g.length,P.g.length),N=[],M=0;M<C;M++)N[M]=this.i(M)|P.i(M);return new h(N,this.h|P.h)},r.xor=function(P){for(var C=Math.max(this.g.length,P.g.length),N=[],M=0;M<C;M++)N[M]=this.i(M)^P.i(M);return new h(N,this.h^P.h)};function ce(P){for(var C=P.g.length+1,N=[],M=0;M<C;M++)N[M]=P.i(M)<<1|P.i(M-1)>>>31;return new h(N,P.h)}function se(P,C){var N=C>>5;C%=32;for(var M=P.g.length-N,I=[],j=0;j<M;j++)I[j]=0<C?P.i(j+N)>>>C|P.i(j+N+1)<<32-C:P.i(j+N);return new h(I,P.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Uw=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=v,es=h}).apply(typeof $b<"u"?$b:typeof self<"u"?self:typeof window<"u"?window:{});var Ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $w,Ol,qw,Bc,yp,Kw,Ww,Gw;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,b){return c==Array.prototype||c==Object.prototype||(c[y]=b.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ic=="object"&&Ic];for(var y=0;y<c.length;++y){var b=c[y];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var b=s;c=c.split(".");for(var x=0;x<c.length-1;x++){var U=c[x];if(!(U in b))break e;b=b[U]}c=c[c.length-1],x=b[c],y=y(x),y!=x&&y!=null&&e(b,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var b=0,x=!1,U={next:function(){if(!x&&b<c.length){var Y=b++;return{value:y(Y,c[Y]),done:!1}}return x=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},p=this||self;function m(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,b){return c.call.apply(c.bind,arguments)}function S(c,y,b){if(!c)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,x),c.apply(y,U)}}return function(){return c.apply(y,arguments)}}function k(c,y,b){return k=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:S,k.apply(null,arguments)}function D(c,y){var b=Array.prototype.slice.call(arguments,1);return function(){var x=b.slice();return x.push.apply(x,arguments),c.apply(this,x)}}function T(c,y){function b(){}b.prototype=y.prototype,c.aa=y.prototype,c.prototype=new b,c.prototype.constructor=c,c.Qb=function(x,U,Y){for(var ie=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)ie[Ue-2]=arguments[Ue];return y.prototype[U].apply(x,ie)}}function R(c){const y=c.length;if(0<y){const b=Array(y);for(let x=0;x<y;x++)b[x]=c[x];return b}return[]}function z(c,y){for(let b=1;b<arguments.length;b++){const x=arguments[b];if(m(x)){const U=c.length||0,Y=x.length||0;c.length=U+Y;for(let ie=0;ie<Y;ie++)c[U+ie]=x[ie]}else c.push(x)}}class K{constructor(y,b){this.i=y,this.j=b,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function X(c){return/^[\s\xa0]*$/.test(c)}function ae(){var c=p.navigator;return c&&(c=c.userAgent)?c:""}function ue(c){return ue[" "](c),c}ue[" "]=function(){};var ce=ae().indexOf("Gecko")!=-1&&!(ae().toLowerCase().indexOf("webkit")!=-1&&ae().indexOf("Edge")==-1)&&!(ae().indexOf("Trident")!=-1||ae().indexOf("MSIE")!=-1)&&ae().indexOf("Edge")==-1;function se(c,y,b){for(const x in c)y.call(b,c[x],x,c)}function P(c,y){for(const b in c)y.call(void 0,c[b],b,c)}function C(c){const y={};for(const b in c)y[b]=c[b];return y}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,y){let b,x;for(let U=1;U<arguments.length;U++){x=arguments[U];for(b in x)c[b]=x[b];for(let Y=0;Y<N.length;Y++)b=N[Y],Object.prototype.hasOwnProperty.call(x,b)&&(c[b]=x[b])}}function I(c){var y=1;c=c.split(":");const b=[];for(;0<y&&c.length;)b.push(c.shift()),y--;return c.length&&b.push(c.join(":")),b}function j(c){p.setTimeout(()=>{throw c},0)}function A(){var c=be;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Ye{constructor(){this.h=this.g=null}add(y,b){const x=et.get();x.set(y,b),this.h?this.h.next=x:this.g=x,this.h=x}}var et=new K(()=>new H,c=>c.reset());class H{constructor(){this.next=this.g=this.h=null}set(y,b){this.h=y,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let le,pe=!1,be=new Ye,L=()=>{const c=p.Promise.resolve(void 0);le=()=>{c.then(te)}};var te=()=>{for(var c;c=A();){try{c.h.call(c.g)}catch(b){j(b)}var y=et;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}pe=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const b=()=>{};p.addEventListener("test",b,y),p.removeEventListener("test",b,y)}catch{}return c}();function Te(c,y){if(re.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var b=this.type=c.type,x=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ce){e:{try{ue(y.nodeName);var U=!0;break e}catch{}U=!1}U||(y=null)}}else b=="mouseover"?y=c.fromElement:b=="mouseout"&&(y=c.toElement);this.relatedTarget=y,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ve[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Te.aa.h.call(this)}}T(Te,re);var ve={2:"touch",3:"pen",4:"mouse"};Te.prototype.h=function(){Te.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ht="closure_listenable_"+(1e6*Math.random()|0),Re=0;function vn(c,y,b,x,U){this.listener=c,this.proxy=null,this.src=y,this.type=b,this.capture=!!x,this.ha=U,this.key=++Re,this.da=this.fa=!1}function Fn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function _n(c){this.src=c,this.g={},this.h=0}_n.prototype.add=function(c,y,b,x,U){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var ie=zn(c,y,x,U);return-1<ie?(y=c[ie],b||(y.fa=!1)):(y=new vn(y,this.src,Y,!!x,U),y.fa=b,c.push(y)),y};function jn(c,y){var b=y.type;if(b in c.g){var x=c.g[b],U=Array.prototype.indexOf.call(x,y,void 0),Y;(Y=0<=U)&&Array.prototype.splice.call(x,U,1),Y&&(Fn(y),c.g[b].length==0&&(delete c.g[b],c.h--))}}function zn(c,y,b,x){for(var U=0;U<c.length;++U){var Y=c[U];if(!Y.da&&Y.listener==y&&Y.capture==!!b&&Y.ha==x)return U}return-1}var st="closure_lm_"+(1e6*Math.random()|0),Et={};function Fr(c,y,b,x,U){if(Array.isArray(y)){for(var Y=0;Y<y.length;Y++)Fr(c,y[Y],b,x,U);return null}return b=di(b),c&&c[ht]?c.K(y,b,g(x)?!!x.capture:!1,U):hn(c,y,b,!1,x,U)}function hn(c,y,b,x,U,Y){if(!y)throw Error("Invalid event type");var ie=g(U)?!!U.capture:!!U,Ue=Sa(c);if(Ue||(c[st]=Ue=new _n(c)),b=Ue.add(y,b,x,ie,Y),b.proxy)return b;if(x=ui(),b.proxy=x,x.src=c,x.listener=b,c.addEventListener)me||(U=ie),U===void 0&&(U=!1),c.addEventListener(y.toString(),x,U);else if(c.attachEvent)c.attachEvent(jr(y.toString()),x);else if(c.addListener&&c.removeListener)c.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return b}function ui(){function c(b){return y.call(c.src,c.listener,b)}const y=ci;return c}function ps(c,y,b,x,U){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)ps(c,y[Y],b,x,U);else x=g(x)?!!x.capture:!!x,b=di(b),c&&c[ht]?(c=c.i,y=String(y).toString(),y in c.g&&(Y=c.g[y],b=zn(Y,b,x,U),-1<b&&(Fn(Y[b]),Array.prototype.splice.call(Y,b,1),Y.length==0&&(delete c.g[y],c.h--)))):c&&(c=Sa(c))&&(y=c.g[y.toString()],c=-1,y&&(c=zn(y,b,x,U)),(b=-1<c?y[c]:null)&&wa(b))}function wa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ht])jn(y.i,c);else{var b=c.type,x=c.proxy;y.removeEventListener?y.removeEventListener(b,x,c.capture):y.detachEvent?y.detachEvent(jr(b),x):y.addListener&&y.removeListener&&y.removeListener(x),(b=Sa(y))?(jn(b,c),b.h==0&&(b.src=null,y[st]=null)):Fn(c)}}}function jr(c){return c in Et?Et[c]:Et[c]="on"+c}function ci(c,y){if(c.da)c=!0;else{y=new Te(y,this);var b=c.listener,x=c.ha||c.src;c.fa&&wa(c),c=b.call(x,y)}return c}function Sa(c){return c=c[st],c instanceof _n?c:null}var ms="__closure_events_fn_"+(1e9*Math.random()>>>0);function di(c){return typeof c=="function"?c:(c[ms]||(c[ms]=function(y){return c.handleEvent(y)}),c[ms])}function ft(){oe.call(this),this.i=new _n(this),this.M=this,this.F=null}T(ft,oe),ft.prototype[ht]=!0,ft.prototype.removeEventListener=function(c,y,b,x){ps(this,c,y,b,x)};function qe(c,y){var b,x=c.F;if(x)for(b=[];x;x=x.F)b.push(x);if(c=c.M,x=y.type||y,typeof y=="string")y=new re(y,c);else if(y instanceof re)y.target=y.target||c;else{var U=y;y=new re(x,c),M(y,U)}if(U=!0,b)for(var Y=b.length-1;0<=Y;Y--){var ie=y.g=b[Y];U=Wt(ie,x,!0,y)&&U}if(ie=y.g=c,U=Wt(ie,x,!0,y)&&U,U=Wt(ie,x,!1,y)&&U,b)for(Y=0;Y<b.length;Y++)ie=y.g=b[Y],U=Wt(ie,x,!1,y)&&U}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var b=c.g[y],x=0;x<b.length;x++)Fn(b[x]);delete c.g[y],c.h--}}this.F=null},ft.prototype.K=function(c,y,b,x){return this.i.add(String(c),y,!1,b,x)},ft.prototype.L=function(c,y,b,x){return this.i.add(String(c),y,!0,b,x)};function Wt(c,y,b,x){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var U=!0,Y=0;Y<y.length;++Y){var ie=y[Y];if(ie&&!ie.da&&ie.capture==b){var Ue=ie.listener,Lt=ie.ha||ie.src;ie.fa&&jn(c.i,ie),U=Ue.call(Lt,x)!==!1&&U}}return U&&!x.defaultPrevented}function Ot(c,y,b){if(typeof c=="function")b&&(c=k(c,b));else if(c&&typeof c.handleEvent=="function")c=k(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:p.setTimeout(c,y||0)}function gs(c){c.g=Ot(()=>{c.g=null,c.i&&(c.i=!1,gs(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class To extends oe{constructor(y,b){super(),this.m=y,this.l=b,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:gs(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vn(c){oe.call(this),this.h=c,this.g={}}T(Vn,oe);var pr=[];function zr(c){se(c.g,function(y,b){this.g.hasOwnProperty(b)&&wa(y)},c),c.g={}}Vn.prototype.N=function(){Vn.aa.N.call(this),zr(this)},Vn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bn=p.JSON.stringify,Vr=p.JSON.parse,nr=class{stringify(c){return p.JSON.stringify(c,void 0)}parse(c){return p.JSON.parse(c,void 0)}};function ys(){}ys.prototype.h=null;function ka(c){return c.h||(c.h=c.i())}function vs(){}var Bn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pt(){re.call(this,"d")}T(pt,re);function Tt(){re.call(this,"c")}T(Tt,re);var fn={},Qe=null;function Pt(){return Qe=Qe||new ft}fn.La="serverreachability";function Ea(c){re.call(this,fn.La,c)}T(Ea,re);function Un(c){const y=Pt();qe(y,new Ea(y))}fn.STAT_EVENT="statevent";function bs(c,y){re.call(this,fn.STAT_EVENT,c),this.stat=y}T(bs,re);function it(c){const y=Pt();qe(y,new bs(y,c))}fn.Ma="timingevent";function vt(c,y){re.call(this,fn.Ma,c),this.size=y}T(vt,re);function ct(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){c()},y)}function an(){this.g=!0}an.prototype.xa=function(){this.g=!1};function Br(c,y,b,x,U,Y){c.info(function(){if(c.g)if(Y)for(var ie="",Ue=Y.split("&"),Lt=0;Lt<Ue.length;Lt++){var Ke=Ue[Lt].split("=");if(1<Ke.length){var Bt=Ke[0];Ke=Ke[1];var Yt=Bt.split("_");ie=2<=Yt.length&&Yt[1]=="type"?ie+(Bt+"="+Ke+"&"):ie+(Bt+"=redacted&")}}else ie=null;else ie=Y;return"XMLHTTP REQ ("+x+") [attempt "+U+"]: "+y+`
`+b+`
`+ie})}function ws(c,y,b,x,U,Y,ie){c.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+U+"]: "+y+`
`+b+`
`+Y+" "+ie})}function mr(c,y,b,x){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+gr(c,b)+(x?" "+x:"")})}function xa(c,y){c.info(function(){return"TIMEOUT: "+y})}an.prototype.info=function(){};function gr(c,y){if(!c.g)return y;if(!y)return null;try{var b=JSON.parse(y);if(b){for(c=0;c<b.length;c++)if(Array.isArray(b[c])){var x=b[c];if(!(2>x.length)){var U=x[1];if(Array.isArray(U)&&!(1>U.length)){var Y=U[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ie=1;ie<U.length;ie++)U[ie]=""}}}}return bn(b)}catch{return y}}var yr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},rr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ee;function Ve(){}T(Ve,ys),Ve.prototype.g=function(){return new XMLHttpRequest},Ve.prototype.i=function(){return{}},Ee=new Ve;function Me(c,y,b,x){this.j=c,this.i=y,this.l=b,this.R=x||1,this.U=new Vn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Be}function Be(){this.i=null,this.g="",this.h=!1}var Gt={},vr={};function Tn(c,y,b){c.L=1,c.v=Cs(Nn(y)),c.m=b,c.P=!0,ar(c,null)}function ar(c,y){c.F=Date.now(),Ss(c),c.A=Nn(c.v);var b=c.A,x=c.R;Array.isArray(x)||(x=[String(x)]),Po(b.i,"t",x),c.C=0,b=c.j.J,c.h=new Be,c.g=_u(c.j,b?y:null,!c.m),0<c.O&&(c.M=new To(k(c.Y,c,c.g),c.O)),y=c.U,b=c.g,x=c.ca;var U="readystatechange";Array.isArray(U)||(U&&(pr[0]=U.toString()),U=pr);for(var Y=0;Y<U.length;Y++){var ie=Fr(b,U[Y],x||y.handleEvent,!1,y.h||y);if(!ie)break;y.g[ie.key]=ie}y=c.H?C(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Un(),Br(c.i,c.u,c.A,c.l,c.R,c.m)}Me.prototype.ca=function(c){c=c.target;const y=this.M;y&&Wn(c)==3?y.j():this.Y(c)},Me.prototype.Y=function(c){try{if(c==this.g)e:{const Yt=Wn(this.g);var y=this.g.Ba();const Yr=this.g.Z();if(!(3>Yt)&&(Yt!=3||this.g&&(this.h.h||this.g.oa()||vu(this.g)))){this.J||Yt!=4||y==7||(y==8||0>=Yr?Un(3):Un(2)),Ca(this);var b=this.g.Z();this.X=b;t:if(du(this)){var x=vu(this.g);c="";var U=x.length,Y=Wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ht(this),br(this);var ie="";break t}this.h.i=new p.TextDecoder}for(y=0;y<U;y++)this.h.h=!0,c+=this.h.i.decode(x[y],{stream:!(Y&&y==U-1)});x.length=0,this.h.g+=c,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=b==200,ws(this.i,this.u,this.A,this.l,this.R,Yt,b),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,Lt=this.g;if((Ue=Lt.g?Lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(Ue)){var Ke=Ue;break t}}Ke=null}if(b=Ke)mr(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ks(this,b);else{this.o=!1,this.s=3,it(12),Ht(this),br(this);break e}}if(this.P){b=!0;let Qt;for(;!this.J&&this.C<ie.length;)if(Qt=hu(this,ie),Qt==vr){Yt==4&&(this.s=4,it(14),b=!1),mr(this.i,this.l,null,"[Incomplete Response]");break}else if(Qt==Gt){this.s=4,it(15),mr(this.i,this.l,ie,"[Invalid Chunk]"),b=!1;break}else mr(this.i,this.l,Qt,null),ks(this,Qt);if(du(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Yt!=4||ie.length!=0||this.h.h||(this.s=1,it(16),b=!1),this.o=this.o&&b,!b)mr(this.i,this.l,ie,"[Invalid Chunked Response]"),Ht(this),br(this);else if(0<ie.length&&!this.W){this.W=!0;var Bt=this.j;Bt.g==this&&Bt.ba&&!Bt.M&&(Bt.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),Ps(Bt),Bt.M=!0,it(11))}}else mr(this.i,this.l,ie,null),ks(this,ie);Yt==4&&Ht(this),this.o&&!this.J&&(Yt==4?Eu(this.j,this):(this.o=!1,Ss(this)))}else Yd(this.g),b==400&&0<ie.indexOf("Unknown SID")?(this.s=3,it(12)):(this.s=0,it(13)),Ht(this),br(this)}}}catch{}finally{}};function du(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function hu(c,y){var b=c.C,x=y.indexOf(`
`,b);return x==-1?vr:(b=Number(y.substring(b,x)),isNaN(b)?Gt:(x+=1,x+b>y.length?vr:(y=y.slice(x,x+b),c.C=x+b,y)))}Me.prototype.cancel=function(){this.J=!0,Ht(this)};function Ss(c){c.S=Date.now()+c.I,fu(c,c.I)}function fu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ct(k(c.ba,c),y)}function Ca(c){c.B&&(p.clearTimeout(c.B),c.B=null)}Me.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(xa(this.i,this.A),this.L!=2&&(Un(),it(17)),Ht(this),this.s=2,br(this)):fu(this,this.S-c)};function br(c){c.j.G==0||c.J||Eu(c.j,c)}function Ht(c){Ca(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,zr(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function ks(c,y){try{var b=c.j;if(b.G!=0&&(b.g==c||No(b.h,c))){if(!c.K&&No(b.h,c)&&b.G==3){try{var x=b.Da.g.parse(y)}catch{x=null}if(Array.isArray(x)&&x.length==3){var U=x;if(U[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<c.F)Ei(b),Si(b);else break e;jo(b),it(18)}}else b.za=U[1],0<b.za-b.T&&37500>U[2]&&b.F&&b.v==0&&!b.C&&(b.C=ct(k(b.Za,b),6e3));if(1>=fi(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else Hr(b,11)}else if((c.K||b.g==c)&&Ei(b),!X(y))for(U=b.Da.g.parse(y),y=0;y<U.length;y++){let Ke=U[y];if(b.T=Ke[0],Ke=Ke[1],b.G==2)if(Ke[0]=="c"){b.K=Ke[1],b.ia=Ke[2];const Bt=Ke[3];Bt!=null&&(b.la=Bt,b.j.info("VER="+b.la));const Yt=Ke[4];Yt!=null&&(b.Aa=Yt,b.j.info("SVER="+b.Aa));const Yr=Ke[5];Yr!=null&&typeof Yr=="number"&&0<Yr&&(x=1.5*Yr,b.L=x,b.j.info("backChannelRequestTimeoutMs_="+x)),x=b;const Qt=c.g;if(Qt){const _r=Qt.g?Qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_r){var Y=x.h;Y.g||_r.indexOf("spdy")==-1&&_r.indexOf("quic")==-1&&_r.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(pi(Y,Y.h),Y.h=null))}if(x.D){const Vo=Qt.g?Qt.g.getResponseHeader("X-HTTP-Session-Id"):null;Vo&&(x.ya=Vo,tt(x.I,x.D,Vo))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-c.F,b.j.info("Handshake RTT: "+b.R+"ms")),x=b;var ie=c;if(x.qa=Cu(x,x.J?x.ia:null,x.W),ie.K){pn(x.h,ie);var Ue=ie,Lt=x.L;Lt&&(Ue.I=Lt),Ue.B&&(Ca(Ue),Ss(Ue)),x.g=ie}else Su(x);0<b.i.length&&ki(b)}else Ke[0]!="stop"&&Ke[0]!="close"||Hr(b,7);else b.G==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Hr(b,7):Ro(b):Ke[0]!="noop"&&b.l&&b.l.ta(Ke),b.v=0)}}Un(4)}catch{}}var pu=class{constructor(c,y){this.g=c,this.map=y}};function Ur(c){this.l=c||10,p.PerformanceNavigationTiming?(c=p.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hi(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function fi(c){return c.h?1:c.g?c.g.size:0}function No(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function pi(c,y){c.g?c.g.add(y):c.h=y}function pn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ur.prototype.cancel=function(){if(this.i=Ao(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ao(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const b of c.g.values())y=y.concat(b.D);return y}return R(c.i)}function Kd(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(m(c)){for(var y=[],b=c.length,x=0;x<b;x++)y.push(c[x]);return y}y=[],b=0;for(x in c)y[b++]=c[x];return y}function mi(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(m(c)||typeof c=="string"){var y=[];c=c.length;for(var b=0;b<c;b++)y.push(b);return y}y=[],b=0;for(const x in c)y[b++]=x;return y}}}function Do(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(m(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var b=mi(c),x=Kd(c),U=x.length,Y=0;Y<U;Y++)y.call(void 0,x[Y],b&&b[Y],c)}var Es=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wd(c,y){if(c){c=c.split("&");for(var b=0;b<c.length;b++){var x=c[b].indexOf("="),U=null;if(0<=x){var Y=c[b].substring(0,x);U=c[b].substring(x+1)}else Y=c[b];y(Y,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Mt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Mt){this.h=c.h,xs(this,c.j),this.o=c.o,this.g=c.g,_a(this,c.s),this.l=c.l;var y=c.i,b=new qr;b.i=y.i,y.g&&(b.g=new Map(y.g),b.h=y.h),$r(this,b),this.m=c.m}else c&&(y=String(c).match(Es))?(this.h=!1,xs(this,y[1]||"",!0),this.o=$n(y[2]||""),this.g=$n(y[3]||"",!0),_a(this,y[4]),this.l=$n(y[5]||"",!0),$r(this,y[6]||"",!0),this.m=$n(y[7]||"")):(this.h=!1,this.i=new qr(null,this.h))}Mt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(_s(y,Io,!0),":");var b=this.g;return(b||y=="file")&&(c.push("//"),(y=this.o)&&c.push(_s(y,Io,!0),"@"),c.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&c.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&c.push("/"),c.push(_s(b,b.charAt(0)=="/"?Gd:Oo,!0))),(b=this.i.toString())&&c.push("?",b),(b=this.m)&&c.push("#",_s(b,gi)),c.join("")};function Nn(c){return new Mt(c)}function xs(c,y,b){c.j=b?$n(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function _a(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function $r(c,y,b){y instanceof qr?(c.i=y,gu(c.i,c.h)):(b||(y=_s(y,Hd)),c.i=new qr(y,c.h))}function tt(c,y,b){c.i.set(y,b)}function Cs(c){return tt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function $n(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function _s(c,y,b){return typeof c=="string"?(c=encodeURI(c).replace(y,mu),b&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function mu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Io=/[#\/\?@]/g,Oo=/[#\?:]/g,Gd=/[#\?]/g,Hd=/[#\?@]/g,gi=/#/g;function qr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function qn(c){c.g||(c.g=new Map,c.h=0,c.i&&Wd(c.i,function(y,b){c.add(decodeURIComponent(y.replace(/\+/g," ")),b)}))}r=qr.prototype,r.add=function(c,y){qn(this),this.i=null,c=wr(this,c);var b=this.g.get(c);return b||this.g.set(c,b=[]),b.push(y),this.h+=1,this};function Kr(c,y){qn(c),y=wr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Wr(c,y){return qn(c),y=wr(c,y),c.g.has(y)}r.forEach=function(c,y){qn(this),this.g.forEach(function(b,x){b.forEach(function(U){c.call(y,U,x,this)},this)},this)},r.na=function(){qn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),b=[];for(let x=0;x<y.length;x++){const U=c[x];for(let Y=0;Y<U.length;Y++)b.push(y[x])}return b},r.V=function(c){qn(this);let y=[];if(typeof c=="string")Wr(this,c)&&(y=y.concat(this.g.get(wr(this,c))));else{c=Array.from(this.g.values());for(let b=0;b<c.length;b++)y=y.concat(c[b])}return y},r.set=function(c,y){return qn(this),this.i=null,c=wr(this,c),Wr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Po(c,y,b){Kr(c,y),0<b.length&&(c.i=null,c.g.set(wr(c,y),R(b)),c.h+=b.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var b=0;b<y.length;b++){var x=y[b];const Y=encodeURIComponent(String(x)),ie=this.V(x);for(x=0;x<ie.length;x++){var U=Y;ie[x]!==""&&(U+="="+encodeURIComponent(String(ie[x]))),c.push(U)}}return this.i=c.join("&")};function wr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function gu(c,y){y&&!c.j&&(qn(c),c.i=null,c.g.forEach(function(b,x){var U=x.toLowerCase();x!=U&&(Kr(this,x),Po(this,U,b))},c)),c.j=y}function Ts(c,y){const b=new an;if(p.Image){const x=new Image;x.onload=D(Kn,b,"TestLoadImage: loaded",!0,y,x),x.onerror=D(Kn,b,"TestLoadImage: error",!1,y,x),x.onabort=D(Kn,b,"TestLoadImage: abort",!1,y,x),x.ontimeout=D(Kn,b,"TestLoadImage: timeout",!1,y,x),p.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=c}else y(!1)}function sr(c,y){const b=new an,x=new AbortController,U=setTimeout(()=>{x.abort(),Kn(b,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:x.signal}).then(Y=>{clearTimeout(U),Y.ok?Kn(b,"TestPingServer: ok",!0,y):Kn(b,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(U),Kn(b,"TestPingServer: error",!1,y)})}function Kn(c,y,b,x,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),x(b)}catch{}}function Ns(){this.g=new nr}function Sr(c,y,b){const x=b||"";try{Do(c,function(U,Y){let ie=U;g(U)&&(ie=bn(U)),y.push(x+Y+"="+encodeURIComponent(ie))})}catch(U){throw y.push(x+"type="+encodeURIComponent("_badmap")),U}}function Ta(c){this.l=c.Ub||null,this.j=c.eb||!1}T(Ta,ys),Ta.prototype.g=function(){return new Gr(this.l,this.j)},Ta.prototype.i=function(c){return function(){return c}}({});function Gr(c,y){ft.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Gr,ft),r=Gr.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Er(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||p).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,kr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Er(this)),this.g&&(this.readyState=3,Er(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Mo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Mo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?kr(this):Er(this),this.readyState==3&&Mo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,kr(this))},r.Qa=function(c){this.g&&(this.response=c,kr(this))},r.ga=function(){this.g&&kr(this)};function kr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Er(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var b=y.next();!b.done;)b=b.value,c.push(b[0]+": "+b[1]),b=y.next();return c.join(`\r
`)};function Er(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Gr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Lo(c){let y="";return se(c,function(b,x){y+=x,y+=":",y+=b,y+=`\r
`}),y}function Vt(c,y,b){e:{for(x in b){var x=!1;break e}x=!0}x||(b=Lo(b),typeof c=="string"?b!=null&&encodeURIComponent(String(b)):tt(c,y,b))}function Ge(c){ft.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Ge,ft);var yi=/^https?$/i,As=["POST","PUT"];r=Ge.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,b,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ee.g(),this.v=this.o?ka(this.o):ka(Ee),this.g.onreadystatechange=k(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Y){yu(this,Y);return}if(c=b||"",b=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var U in x)b.set(U,x[U]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const Y of x.keys())b.set(Y,x.get(Y));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(b.keys()).find(Y=>Y.toLowerCase()=="content-type"),U=p.FormData&&c instanceof p.FormData,!(0<=Array.prototype.indexOf.call(As,y,void 0))||x||U||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ie]of b)this.g.setRequestHeader(Y,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ds(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){yu(this,Y)}};function yu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,vi(c),xr(c)}function vi(c){c.A||(c.A=!0,qe(c,"complete"),qe(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,qe(this,"complete"),qe(this,"abort"),xr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xr(this,!0)),Ge.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?bi(this):this.bb())},r.bb=function(){bi(this)};function bi(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Wn(c)!=4||c.Z()!=2)){if(c.u&&Wn(c)==4)Ot(c.Ea,0,c);else if(qe(c,"readystatechange"),Wn(c)==4){c.h=!1;try{const ie=c.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var b;if(!(b=y)){var x;if(x=ie===0){var U=String(c.D).match(Es)[1]||null;!U&&p.self&&p.self.location&&(U=p.self.location.protocol.slice(0,-1)),x=!yi.test(U?U.toLowerCase():"")}b=x}if(b)qe(c,"complete"),qe(c,"success");else{c.m=6;try{var Y=2<Wn(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",vi(c)}}finally{xr(c)}}}}function xr(c,y){if(c.g){Ds(c);const b=c.g,x=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||qe(c,"ready");try{b.onreadystatechange=x}catch{}}}function Ds(c){c.I&&(p.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Wn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Wn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Vr(y)}};function vu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Yd(c){const y={};c=(c.g&&2<=Wn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<c.length;x++){if(X(c[x]))continue;var b=I(c[x]);const U=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const Y=y[U]||[];y[U]=Y,Y.push(b)}P(y,function(x){return x.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Is(c,y,b){return b&&b.internalChannelParams&&b.internalChannelParams[c]||y}function wi(c){this.Aa=0,this.i=[],this.j=new an,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Is("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Is("baseRetryDelayMs",5e3,c),this.cb=Is("retryDelaySeedMs",1e4,c),this.Wa=Is("forwardChannelMaxRetries",2,c),this.wa=Is("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ur(c&&c.concurrentRequestLimit),this.Da=new Ns,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=wi.prototype,r.la=8,r.G=1,r.connect=function(c,y,b,x){it(0),this.W=c,this.H=y||{},b&&x!==void 0&&(this.H.OSID=b,this.H.OAID=x),this.F=this.X,this.I=Cu(this,null,this.W),ki(this)};function Ro(c){if(bu(c),c.G==3){var y=c.U++,b=Nn(c.I);if(tt(b,"SID",c.K),tt(b,"RID",y),tt(b,"TYPE","terminate"),Os(c,b),y=new Me(c,c.j,y),y.L=2,y.v=Cs(Nn(b)),b=!1,p.navigator&&p.navigator.sendBeacon)try{b=p.navigator.sendBeacon(y.v.toString(),"")}catch{}!b&&p.Image&&(new Image().src=y.v,b=!0),b||(y.g=_u(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ss(y)}xu(c)}function Si(c){c.g&&(Ps(c),c.g.cancel(),c.g=null)}function bu(c){Si(c),c.u&&(p.clearTimeout(c.u),c.u=null),Ei(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&p.clearTimeout(c.s),c.s=null)}function ki(c){if(!hi(c.h)&&!c.s){c.s=!0;var y=c.Ga;le||L(),pe||(le(),pe=!0),be.add(y,c),c.B=0}}function Qd(c,y){return fi(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ct(k(c.Ga,c,y),zo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const U=new Me(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=C(Y),M(Y,this.S)):Y=this.S),this.m!==null||this.O||(U.H=Y,Y=null),this.P)e:{for(var y=0,b=0;b<this.i.length;b++){t:{var x=this.i[b];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(y+=x,4096<y){y=b;break e}if(y===4096||b===this.i.length-1){y=b+1;break e}}y=1e3}else y=1e3;y=wu(this,U,y),b=Nn(this.I),tt(b,"RID",c),tt(b,"CVER",22),this.D&&tt(b,"X-HTTP-Session-Id",this.D),Os(this,b),Y&&(this.O?y="headers="+encodeURIComponent(String(Lo(Y)))+"&"+y:this.m&&Vt(b,this.m,Y)),pi(this.h,U),this.Ua&&tt(b,"TYPE","init"),this.P?(tt(b,"$req",y),tt(b,"SID","null"),U.T=!0,Tn(U,b,null)):Tn(U,b,y),this.G=2}}else this.G==3&&(c?Fo(this,c):this.i.length==0||hi(this.h)||Fo(this))};function Fo(c,y){var b;y?b=y.l:b=c.U++;const x=Nn(c.I);tt(x,"SID",c.K),tt(x,"RID",b),tt(x,"AID",c.T),Os(c,x),c.m&&c.o&&Vt(x,c.m,c.o),b=new Me(c,c.j,b,c.B+1),c.m===null&&(b.H=c.o),y&&(c.i=y.D.concat(c.i)),y=wu(c,b,1e3),b.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),pi(c.h,b),Tn(b,x,y)}function Os(c,y){c.H&&se(c.H,function(b,x){tt(y,x,b)}),c.l&&Do({},function(b,x){tt(y,x,b)})}function wu(c,y,b){b=Math.min(c.i.length,b);var x=c.l?k(c.l.Na,c.l,c):null;e:{var U=c.i;let Y=-1;for(;;){const ie=["count="+b];Y==-1?0<b?(Y=U[0].g,ie.push("ofs="+Y)):Y=0:ie.push("ofs="+Y);let Ue=!0;for(let Lt=0;Lt<b;Lt++){let Ke=U[Lt].g;const Bt=U[Lt].map;if(Ke-=Y,0>Ke)Y=Math.max(0,U[Lt].g-100),Ue=!1;else try{Sr(Bt,ie,"req"+Ke+"_")}catch{x&&x(Bt)}}if(Ue){x=ie.join("&");break e}}}return c=c.i.splice(0,b),y.D=c,x}function Su(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;le||L(),pe||(le(),pe=!0),be.add(y,c),c.v=0}}function jo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ct(k(c.Fa,c),zo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,ku(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ct(k(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,it(10),Si(this),ku(this))};function Ps(c){c.A!=null&&(p.clearTimeout(c.A),c.A=null)}function ku(c){c.g=new Me(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Nn(c.qa);tt(y,"RID","rpc"),tt(y,"SID",c.K),tt(y,"AID",c.T),tt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&tt(y,"TO",c.ja),tt(y,"TYPE","xmlhttp"),Os(c,y),c.m&&c.o&&Vt(y,c.m,c.o),c.L&&(c.g.I=c.L);var b=c.g;c=c.ia,b.L=1,b.v=Cs(Nn(y)),b.m=null,b.P=!0,ar(b,c)}r.Za=function(){this.C!=null&&(this.C=null,Si(this),jo(this),it(19))};function Ei(c){c.C!=null&&(p.clearTimeout(c.C),c.C=null)}function Eu(c,y){var b=null;if(c.g==y){Ei(c),Ps(c),c.g=null;var x=2}else if(No(c.h,y))b=y.D,pn(c.h,y),x=1;else return;if(c.G!=0){if(y.o)if(x==1){b=y.m?y.m.length:0,y=Date.now()-y.F;var U=c.B;x=Pt(),qe(x,new vt(x,b)),ki(c)}else Su(c);else if(U=y.s,U==3||U==0&&0<y.X||!(x==1&&Qd(c,y)||x==2&&jo(c)))switch(b&&0<b.length&&(y=c.h,y.i=y.i.concat(b)),U){case 1:Hr(c,5);break;case 4:Hr(c,10);break;case 3:Hr(c,6);break;default:Hr(c,2)}}}function zo(c,y){let b=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(b*=2),b*y}function Hr(c,y){if(c.j.info("Error code "+y),y==2){var b=k(c.fb,c),x=c.Xa;const U=!x;x=new Mt(x||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||xs(x,"https"),Cs(x),U?Ts(x.toString(),b):sr(x.toString(),b)}else it(2);c.G=0,c.l&&c.l.sa(y),xu(c),bu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function xu(c){if(c.G=0,c.ka=[],c.l){const y=Ao(c.h);(y.length!=0||c.i.length!=0)&&(z(c.ka,y),z(c.ka,c.i),c.h.i.length=0,R(c.i),c.i.length=0),c.l.ra()}}function Cu(c,y,b){var x=b instanceof Mt?Nn(b):new Mt(b);if(x.g!="")y&&(x.g=y+"."+x.g),_a(x,x.s);else{var U=p.location;x=U.protocol,y=y?y+"."+U.hostname:U.hostname,U=+U.port;var Y=new Mt(null);x&&xs(Y,x),y&&(Y.g=y),U&&_a(Y,U),b&&(Y.l=b),x=Y}return b=c.D,y=c.ya,b&&y&&tt(x,b,y),tt(x,"VER",c.la),Os(c,x),x}function _u(c,y,b){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ge(new Ta({eb:b})):new Ge(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tu(){}r=Tu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function xi(){}xi.prototype.g=function(c,y){return new mn(c,y)};function mn(c,y){ft.call(this),this.g=new wi(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!X(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!X(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Cr(this)}T(mn,ft),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Ro(this.g)},mn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var b={};b.__data__=c,c=b}else this.u&&(b={},b.__data__=bn(c),c=b);y.i.push(new pu(y.Ya++,c)),y.G==3&&ki(y)},mn.prototype.N=function(){this.g.l=null,delete this.j,Ro(this.g),delete this.g,mn.aa.N.call(this)};function Nu(c){pt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const b in y){c=b;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(Nu,pt);function Au(){Tt.call(this),this.status=1}T(Au,Tt);function Cr(c){this.g=c}T(Cr,Tu),Cr.prototype.ua=function(){qe(this.g,"a")},Cr.prototype.ta=function(c){qe(this.g,new Nu(c))},Cr.prototype.sa=function(c){qe(this.g,new Au)},Cr.prototype.ra=function(){qe(this.g,"b")},xi.prototype.createWebChannel=xi.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,Gw=function(){return new xi},Ww=function(){return Pt()},Kw=fn,yp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},yr.NO_ERROR=0,yr.TIMEOUT=8,yr.HTTP_ERROR=6,Bc=yr,rr.COMPLETE="complete",qw=rr,vs.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",ft.prototype.listen=ft.prototype.K,Ol=vs,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,$w=Ge}).apply(typeof Ic<"u"?Ic:typeof self<"u"?self:typeof window<"u"?window:{});const qb="@firebase/firestore",Kb="4.7.10";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let So="11.5.0";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ni=new Rw("@firebase/firestore");function to(){return ni.logLevel}function de(r,...e){if(ni.logLevel<=ze.DEBUG){const n=e.map(om);ni.debug(`Firestore (${So}): ${r}`,...n)}}function ma(r,...e){if(ni.logLevel<=ze.ERROR){const n=e.map(om);ni.error(`Firestore (${So}): ${r}`,...n)}}function uo(r,...e){if(ni.logLevel<=ze.WARN){const n=e.map(om);ni.warn(`Firestore (${So}): ${r}`,...n)}}function om(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(r)}catch{return r}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function xe(r="Unexpected state"){const e=`FIRESTORE (${So}) INTERNAL ASSERTION FAILED: `+r;throw ma(e),new Error(e)}function He(r,e){r||xe()}function _e(r,e){return r}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends wo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ha{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Hw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class R_{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(un.UNAUTHENTICATED))}shutdown(){}}class F_{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class j_{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){He(this.o===void 0);let s=this.i;const o=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let u=new ha;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ha,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const m=u;e.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},p=m=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(m=>p(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?p(m):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ha)}},0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(He(typeof s.accessToken=="string"),new Hw(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string"),new un(e)}}class z_{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=un.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class V_{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new z_(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Wb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class B_{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,b_(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){He(this.o===void 0);const s=u=>{u.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,de("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Wb(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(He(typeof n.token=="string"),this.R=n.token,new Wb(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function U_(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Yw(){return new TextEncoder}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Qw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=U_(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function De(r,e){return r<e?-1:r>e?1:0}function vp(r,e){let n=0;for(;n<r.length&&n<e.length;){const s=r.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return De(s,o);{const u=Yw(),h=$_(u.encode(Gb(r,n)),u.encode(Gb(e,n)));return h!==0?h:De(s,o)}}n+=s>65535?2:1}return De(r.length,e.length)}function Gb(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function $_(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return De(r[n],e[n]);return De(r.length,e.length)}function co(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Hb=-62135596800,Yb=1e6;class jt{static now(){return jt.fromMillis(Date.now())}static fromDate(e){return jt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Yb);return new jt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Hb)throw new he(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Yb}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Hb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new jt(0,0))}static max(){return new Ce(new jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Qb="__name__";class Or{constructor(e,n,s){n===void 0?n=0:n>e.length&&xe(),s===void 0?s=e.length-n:s>e.length-n&&xe(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Or.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Or?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Or.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return De(e.length,n.length)}static compareSegments(e,n){const s=Or.isNumericId(e),o=Or.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Or.extractNumericId(e).compare(Or.extractNumericId(n)):vp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return es.fromString(e.substring(4,e.length-2))}}class dt extends Or{construct(e,n,s){return new dt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new dt(n)}static emptyPath(){return new dt([])}}const q_=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Or{construct(e,n,s){return new tn(e,n,s)}static isValidIdentifier(e){return q_.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Qb}static keyField(){return new tn([Qb])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new he(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new he(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new he(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,o+=2}else p==="`"?(h=!h,o++):p!=="."||h?(s+=p,o++):(u(),o++)}if(u(),h)throw new he(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(n)}static emptyPath(){return new tn([])}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ye{constructor(e){this.path=e}static fromPath(e){return new ye(dt.fromString(e))}static fromName(e){return new ye(dt.fromString(e).popFirst(5))}static empty(){return new ye(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return dt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new dt(e.slice()))}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ql=-1;function K_(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ce.fromTimestamp(s===1e9?new jt(n+1,0):new jt(n,s));return new rs(o,ye.empty(),e)}function W_(r){return new rs(r.readTime,r.key,ql)}class rs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new rs(Ce.min(),ye.empty(),ql)}static max(){return new rs(Ce.max(),ye.empty(),ql)}}function G_(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(r.documentKey,e.documentKey),n!==0?n:De(r.largestBatchId,e.largestBatchId))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const H_="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Y_{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function ko(r){if(r.code!==ne.FAILED_PRECONDITION||r.message!==H_)throw r;de("LocalStore","Unexpectedly lost primary lease")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,s)=>{n(e)})}static reject(e){return new ee((n,s)=>{s(e)})}static waitFor(e){return new ee((n,s)=>{let o=0,u=0,h=!1;e.forEach(p=>{++o,p.next(()=>{++u,h&&u===o&&n()},m=>s(m))}),h=!0,u===o&&n()})}static or(e){let n=ee.resolve(!1);for(const s of e)n=n.next(o=>o?ee.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new ee((s,o)=>{const u=e.length,h=new Array(u);let p=0;for(let m=0;m<u;m++){const g=m;n(e[g]).next(v=>{h[g]=v,++p,p===u&&s(h)},v=>o(v))}})}static doWhile(e,n){return new ee((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function Q_(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Eo(r){return r.name==="IndexedDbTransactionError"}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class yd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}yd.ae=-1;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const lm=-1;function vd(r){return r==null}function ed(r){return r===0&&1/r==-1/0}function J_(r){return typeof r=="number"&&Number.isInteger(r)&&!ed(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Jw="";function X_(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=Jb(e)),e=Z_(r.get(n),e);return Jb(e)}function Z_(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case Jw:n+="";break;default:n+=u}}return n}function Jb(r){return r+Jw+""}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Xb(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function cs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function Xw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class wt{constructor(e,n){this.comparator=e,this.root=n||en.EMPTY}insert(e,n){return new wt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Oc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Oc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Oc(this.root,e,this.comparator,!0)}}class Oc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??en.RED,this.left=o??en.EMPTY,this.right=u??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new en(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return en.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xe();const e=this.left.check();if(e!==this.right.check())throw xe();return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw xe()}get value(){throw xe()}get color(){throw xe()}get left(){throw xe()}get right(){throw xe()}copy(r,e,n,s,o){return this}insert(r,e,n){return new en(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class zt{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Zb(this.data.getIterator())}getIteratorFrom(e){return new Zb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new zt(this.comparator);return n.data=e,n}}class Zb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Rn{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new Rn([])}unionWith(e){let n=new zt(tn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return co(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Zw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Zw("Invalid base64 string: "+o):o}}(e);return new rn(n)}static fromUint8Array(e){const n=function(s){let o="";for(let u=0;u<s.length;++u)o+=String.fromCharCode(s[u]);return o}(e);return new rn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const e2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function as(r){if(He(!!r),typeof r=="string"){let e=0;const n=e2.exec(r);if(He(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_t(r.seconds),nanos:_t(r.nanos)}}function _t(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ss(r){return typeof r=="string"?rn.fromBase64String(r):rn.fromUint8Array(r)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const eS="server_timestamp",tS="__type__",nS="__previous_value__",rS="__local_write_time__";function um(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[tS])===null||n===void 0?void 0:n.stringValue)===eS}function bd(r){const e=r.mapValue.fields[nS];return um(e)?bd(e):e}function Kl(r){const e=as(r.mapValue.fields[rS].timestampValue);return new jt(e.seconds,e.nanos)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class t2{constructor(e,n,s,o,u,h,p,m,g){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=p,this.longPollingOptions=m,this.useFetchStreams=g}}const td="(default)";class Wl{constructor(e,n){this.projectId=e,this.database=n||td}static empty(){return new Wl("","")}get isDefaultDatabase(){return this.database===td}isEqual(e){return e instanceof Wl&&e.projectId===this.projectId&&e.database===this.database}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const aS="__type__",n2="__max__",Pc={mapValue:{}},sS="__vector__",nd="value";function is(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?um(r)?4:a2(r)?9007199254740991:r2(r)?10:11:xe()}function Rr(r,e){if(r===e)return!0;const n=is(r);if(n!==is(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Kl(r).isEqual(Kl(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const u=as(s.timestampValue),h=as(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(s,o){return ss(s.bytesValue).isEqual(ss(o.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,o){return _t(s.geoPointValue.latitude)===_t(o.geoPointValue.latitude)&&_t(s.geoPointValue.longitude)===_t(o.geoPointValue.longitude)}(r,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return _t(s.integerValue)===_t(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const u=_t(s.doubleValue),h=_t(o.doubleValue);return u===h?ed(u)===ed(h):isNaN(u)&&isNaN(h)}return!1}(r,e);case 9:return co(r.arrayValue.values||[],e.arrayValue.values||[],Rr);case 10:case 11:return function(s,o){const u=s.mapValue.fields||{},h=o.mapValue.fields||{};if(Xb(u)!==Xb(h))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(h[p]===void 0||!Rr(u[p],h[p])))return!1;return!0}(r,e);default:return xe()}}function Gl(r,e){return(r.values||[]).find(n=>Rr(n,e))!==void 0}function ho(r,e){if(r===e)return 0;const n=is(r),s=is(e);if(n!==s)return De(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return De(r.booleanValue,e.booleanValue);case 2:return function(o,u){const h=_t(o.integerValue||o.doubleValue),p=_t(u.integerValue||u.doubleValue);return h<p?-1:h>p?1:h===p?0:isNaN(h)?isNaN(p)?0:-1:1}(r,e);case 3:return e0(r.timestampValue,e.timestampValue);case 4:return e0(Kl(r),Kl(e));case 5:return vp(r.stringValue,e.stringValue);case 6:return function(o,u){const h=ss(o),p=ss(u);return h.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(o,u){const h=o.split("/"),p=u.split("/");for(let m=0;m<h.length&&m<p.length;m++){const g=De(h[m],p[m]);if(g!==0)return g}return De(h.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(o,u){const h=De(_t(o.latitude),_t(u.latitude));return h!==0?h:De(_t(o.longitude),_t(u.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return t0(r.arrayValue,e.arrayValue);case 10:return function(o,u){var h,p,m,g;const v=o.fields||{},S=u.fields||{},k=(h=v[nd])===null||h===void 0?void 0:h.arrayValue,D=(p=S[nd])===null||p===void 0?void 0:p.arrayValue,T=De(((m=k==null?void 0:k.values)===null||m===void 0?void 0:m.length)||0,((g=D==null?void 0:D.values)===null||g===void 0?void 0:g.length)||0);return T!==0?T:t0(k,D)}(r.mapValue,e.mapValue);case 11:return function(o,u){if(o===Pc.mapValue&&u===Pc.mapValue)return 0;if(o===Pc.mapValue)return 1;if(u===Pc.mapValue)return-1;const h=o.fields||{},p=Object.keys(h),m=u.fields||{},g=Object.keys(m);p.sort(),g.sort();for(let v=0;v<p.length&&v<g.length;++v){const S=vp(p[v],g[v]);if(S!==0)return S;const k=ho(h[p[v]],m[g[v]]);if(k!==0)return k}return De(p.length,g.length)}(r.mapValue,e.mapValue);default:throw xe()}}function e0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return De(r,e);const n=as(r),s=as(e),o=De(n.seconds,s.seconds);return o!==0?o:De(n.nanos,s.nanos)}function t0(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=ho(n[o],s[o]);if(u)return u}return De(n.length,s.length)}function fo(r){return bp(r)}function bp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(e){const n=as(e);return`time(${n.seconds},${n.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(e){return ss(e).toBase64()}(r.bytesValue):"referenceValue"in r?function(e){return ye.fromName(e).toString()}(r.referenceValue):"geoPointValue"in r?function(e){return`geo(${e.latitude},${e.longitude})`}(r.geoPointValue):"arrayValue"in r?function(e){let n="[",s=!0;for(const o of e.values||[])s?s=!1:n+=",",n+=bp(o);return n+"]"}(r.arrayValue):"mapValue"in r?function(e){const n=Object.keys(e.fields||{}).sort();let s="{",o=!0;for(const u of n)o?o=!1:s+=",",s+=`${u}:${bp(e.fields[u])}`;return s+"}"}(r.mapValue):xe()}function Uc(r){switch(is(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bd(r);return e?16+Uc(e):16;case 5:return 2*r.stringValue.length;case 6:return ss(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((s,o)=>s+Uc(o),0)}(r.arrayValue);case 10:case 11:return function(n){let s=0;return cs(n.fields,(o,u)=>{s+=o.length+Uc(u)}),s}(r.mapValue);default:throw xe()}}function n0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function wp(r){return!!r&&"integerValue"in r}function cm(r){return!!r&&"arrayValue"in r}function r0(r){return!!r&&"nullValue"in r}function a0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function $c(r){return!!r&&"mapValue"in r}function r2(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[aS])===null||n===void 0?void 0:n.stringValue)===sS}function Fl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return cs(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Fl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Fl(r.arrayValue.values[n]);return e}return Object.assign({},r)}function a2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===n2}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!$c(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fl(n)}setAll(e){let n=tn.emptyPath(),s={},o=[];e.forEach((h,p)=>{if(!n.isImmediateParentOf(p)){const m=this.getFieldsMap(n);this.applyChanges(m,s,o),s={},o=[],n=p.popLast()}h?s[p.lastSegment()]=Fl(h):o.push(p.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());$c(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Rr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];$c(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){cs(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new xn(Fl(this.value))}}function iS(r){const e=[];return cs(r.fields,(n,s)=>{const o=new tn([n]);if($c(s)){const u=iS(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new Rn(e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class cn{constructor(e,n,s,o,u,h,p){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=p}static newInvalidDocument(e){return new cn(e,0,Ce.min(),Ce.min(),Ce.min(),xn.empty(),0)}static newFoundDocument(e,n,s,o){return new cn(e,1,n,Ce.min(),s,o,0)}static newNoDocument(e,n){return new cn(e,2,n,Ce.min(),Ce.min(),xn.empty(),0)}static newUnknownDocument(e,n){return new cn(e,3,n,Ce.min(),Ce.min(),xn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rd{constructor(e,n){this.position=e,this.inclusive=n}}function s0(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(h.referenceValue),n.key):s=ho(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function i0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Rr(r.position[n],e.position[n]))return!1;return!0}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ad{constructor(e,n="asc"){this.field=e,this.dir=n}}function s2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class oS{}class It extends oS{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new o2(e,n,s):n==="array-contains"?new c2(e,s):n==="in"?new d2(e,s):n==="not-in"?new h2(e,s):n==="array-contains-any"?new f2(e,s):new It(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new l2(e,s):new u2(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ho(n,this.value)):n!==null&&is(this.value)===is(n)&&this.matchesComparison(ho(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cr extends oS{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new cr(e,n)}matches(e){return lS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function lS(r){return r.op==="and"}function uS(r){return i2(r)&&lS(r)}function i2(r){for(const e of r.filters)if(e instanceof cr)return!1;return!0}function Sp(r){if(r instanceof It)return r.field.canonicalString()+r.op.toString()+fo(r.value);if(uS(r))return r.filters.map(e=>Sp(e)).join(",");{const e=r.filters.map(n=>Sp(n)).join(",");return`${r.op}(${e})`}}function cS(r,e){return r instanceof It?function(n,s){return s instanceof It&&n.op===s.op&&n.field.isEqual(s.field)&&Rr(n.value,s.value)}(r,e):r instanceof cr?function(n,s){return s instanceof cr&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce((o,u,h)=>o&&cS(u,s.filters[h]),!0):!1}(r,e):void xe()}function dS(r){return r instanceof It?function(e){return`${e.field.canonicalString()} ${e.op} ${fo(e.value)}`}(r):r instanceof cr?function(e){return e.op.toString()+" {"+e.getFilters().map(dS).join(" ,")+"}"}(r):"Filter"}class o2 extends It{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class l2 extends It{constructor(e,n){super(e,"in",n),this.keys=hS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class u2 extends It{constructor(e,n){super(e,"not-in",n),this.keys=hS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function hS(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ye.fromName(s.referenceValue))}class c2 extends It{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return cm(n)&&Gl(n.arrayValue,this.value)}}class d2 extends It{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Gl(this.value.arrayValue,n)}}class h2 extends It{constructor(e,n){super(e,"not-in",n)}matches(e){if(Gl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Gl(this.value.arrayValue,n)}}class f2 extends It{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!cm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Gl(this.value.arrayValue,s))}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class p2{constructor(e,n=null,s=[],o=[],u=null,h=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=p,this.le=null}}function o0(r,e=null,n=[],s=[],o=null,u=null,h=null){return new p2(r,e,n,s,o,u,h)}function dm(r){const e=_e(r);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Sp(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(o){return o.field.canonicalString()+o.dir}(s)).join(","),vd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>fo(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>fo(s)).join(",")),e.le=n}return e.le}function hm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!s2(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!cS(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!i0(r.startAt,e.startAt)&&i0(r.endAt,e.endAt)}function kp(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tu{constructor(e,n=null,s=[],o=[],u=null,h="F",p=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=p,this.endAt=m,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function m2(r,e,n,s,o,u,h,p){return new tu(r,e,n,s,o,u,h,p)}function wd(r){return new tu(r)}function l0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function fS(r){return r.collectionGroup!==null}function jl(r){const e=_e(r);if(e.he===null){e.he=[];const n=new Set;for(const o of e.explicitOrderBy)e.he.push(o),n.add(o.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let u=new zt(tn.comparator);return o.filters.forEach(h=>{h.getFlattenedFilters().forEach(p=>{p.isInequality()&&(u=u.add(p.field))})}),u})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.he.push(new ad(o,s))}),n.has(tn.keyField().canonicalString())||e.he.push(new ad(tn.keyField(),s))}return e.he}function Pr(r){const e=_e(r);return e.Pe||(e.Pe=g2(e,jl(r))),e.Pe}function g2(r,e){if(r.limitType==="F")return o0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new ad(o.field,u)});const n=r.endAt?new rd(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new rd(r.startAt.position,r.startAt.inclusive):null;return o0(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Ep(r,e){const n=r.filters.concat([e]);return new tu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function xp(r,e,n){return new tu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Sd(r,e){return hm(Pr(r),Pr(e))&&r.limitType===e.limitType}function pS(r){return`${dm(Pr(r))}|lt:${r.limitType}`}function no(r){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(s=>dS(s)).join(", ")}]`),vd(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>fo(s)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>fo(s)).join(",")),`Target(${n})`}(Pr(r))}; limitType=${r.limitType})`}function kd(r,e){return e.isFoundDocument()&&function(n,s){const o=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):ye.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(r,e)&&function(n,s){for(const o of jl(n))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(r,e)&&function(n,s){for(const o of n.filters)if(!o.matches(s))return!1;return!0}(r,e)&&function(n,s){return!(n.startAt&&!function(o,u,h){const p=s0(o,u,h);return o.inclusive?p<=0:p<0}(n.startAt,jl(n),s)||n.endAt&&!function(o,u,h){const p=s0(o,u,h);return o.inclusive?p>=0:p>0}(n.endAt,jl(n),s))}(r,e)}function y2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function mS(r){return(e,n)=>{let s=!1;for(const o of jl(r)){const u=v2(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function v2(r,e,n){const s=r.field.isKeyField()?ye.comparator(e.key,n.key):function(o,u,h){const p=u.data.field(o),m=h.data.field(o);return p!==null&&m!==null?ho(p,m):xe()}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return xe()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ai{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){cs(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return Xw(this.inner)}size(){return this.innerSize}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const b2=new wt(ye.comparator);function ga(){return b2}const gS=new wt(ye.comparator);function Pl(...r){let e=gS;for(const n of r)e=e.insert(n.key,n);return e}function yS(r){let e=gS;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function ei(){return zl()}function vS(){return zl()}function zl(){return new ai(r=>r.toString(),(r,e)=>r.isEqual(e))}const w2=new wt(ye.comparator),S2=new zt(ye.comparator);function Le(...r){let e=S2;for(const n of r)e=e.add(n);return e}const k2=new zt(De);function E2(){return k2}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function fm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ed(e)?"-0":e}}function bS(r){return{integerValue:""+r}}function x2(r,e){return J_(e)?bS(e):fm(r,e)}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ed{constructor(){this._=void 0}}function C2(r,e,n){return r instanceof sd?function(s,o){const u={fields:{[tS]:{stringValue:eS},[rS]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&um(o)&&(o=bd(o)),o&&(u.fields[nS]=o),{mapValue:u}}(n,e):r instanceof Hl?SS(r,e):r instanceof Yl?kS(r,e):function(s,o){const u=wS(s,o),h=u0(u)+u0(s.Ie);return wp(u)&&wp(s.Ie)?bS(h):fm(s.serializer,h)}(r,e)}function _2(r,e,n){return r instanceof Hl?SS(r,e):r instanceof Yl?kS(r,e):n}function wS(r,e){return r instanceof id?function(n){return wp(n)||function(s){return!!s&&"doubleValue"in s}(n)}(e)?e:{integerValue:0}:null}class sd extends Ed{}class Hl extends Ed{constructor(e){super(),this.elements=e}}function SS(r,e){const n=ES(e);for(const s of r.elements)n.some(o=>Rr(o,s))||n.push(s);return{arrayValue:{values:n}}}class Yl extends Ed{constructor(e){super(),this.elements=e}}function kS(r,e){let n=ES(e);for(const s of r.elements)n=n.filter(o=>!Rr(o,s));return{arrayValue:{values:n}}}class id extends Ed{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function u0(r){return _t(r.integerValue||r.doubleValue)}function ES(r){return cm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function T2(r,e){return r.field.isEqual(e.field)&&function(n,s){return n instanceof Hl&&s instanceof Hl||n instanceof Yl&&s instanceof Yl?co(n.elements,s.elements,Rr):n instanceof id&&s instanceof id?Rr(n.Ie,s.Ie):n instanceof sd&&s instanceof sd}(r.transform,e.transform)}class N2{constructor(e,n){this.version=e,this.transformResults=n}}class er{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new er}static exists(e){return new er(void 0,e)}static updateTime(e){return new er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class xd{}function xS(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new pm(r.key,er.none()):new nu(r.key,r.data,er.none());{const n=r.data,s=xn.empty();let o=new zt(tn.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new ds(r.key,s,new Rn(o.toArray()),er.none())}}function A2(r,e,n){r instanceof nu?function(s,o,u){const h=s.value.clone(),p=d0(s.fieldTransforms,o,u.transformResults);h.setAll(p),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(r,e,n):r instanceof ds?function(s,o,u){if(!qc(s.precondition,o))return void o.convertToUnknownDocument(u.version);const h=d0(s.fieldTransforms,o,u.transformResults),p=o.data;p.setAll(CS(s)),p.setAll(h),o.convertToFoundDocument(u.version,p).setHasCommittedMutations()}(r,e,n):function(s,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function Vl(r,e,n,s){return r instanceof nu?function(o,u,h,p){if(!qc(o.precondition,u))return h;const m=o.value.clone(),g=h0(o.fieldTransforms,p,u);return m.setAll(g),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(r,e,n,s):r instanceof ds?function(o,u,h,p){if(!qc(o.precondition,u))return h;const m=h0(o.fieldTransforms,p,u),g=u.data;return g.setAll(CS(o)),g.setAll(m),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(r,e,n,s):function(o,u,h){return qc(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(r,e,n)}function D2(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=wS(s.transform,o||null);u!=null&&(n===null&&(n=xn.empty()),n.set(s.field,u))}return n||null}function c0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&co(n,s,(o,u)=>T2(o,u))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class nu extends xd{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ds extends xd{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function CS(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function d0(r,e,n){const s=new Map;He(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,p=e.data.field(u.field);s.set(u.field,_2(h,p,n[o]))}return s}function h0(r,e,n){const s=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);s.set(o.field,C2(u,h,e))}return s}class pm extends xd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class I2 extends xd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class O2{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&A2(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Vl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Vl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=vS();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let p=this.applyToLocalView(h,u.mutatedFields);p=n.has(o.key)?null:p;const m=xS(h,p);m!==null&&s.set(o.key,m),h.isValidDocument()||h.convertToNoDocument(Ce.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Le())}isEqual(e){return this.batchId===e.batchId&&co(this.mutations,e.mutations,(n,s)=>c0(n,s))&&co(this.baseMutations,e.baseMutations,(n,s)=>c0(n,s))}}class mm{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){He(e.mutations.length===s.length);let o=function(){return w2}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new mm(e,n,s,o)}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class P2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class M2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Dt,je;function L2(r){switch(r){case ne.OK:return xe();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return xe()}}function _S(r){if(r===void 0)return ma("GRPC error has no .code"),ne.UNKNOWN;switch(r){case Dt.OK:return ne.OK;case Dt.CANCELLED:return ne.CANCELLED;case Dt.UNKNOWN:return ne.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return ne.INTERNAL;case Dt.UNAVAILABLE:return ne.UNAVAILABLE;case Dt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Dt.NOT_FOUND:return ne.NOT_FOUND;case Dt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Dt.ABORTED:return ne.ABORTED;case Dt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Dt.DATA_LOSS:return ne.DATA_LOSS;default:return xe()}}(je=Dt||(Dt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const R2=new es([4294967295,4294967295],0);function f0(r){const e=Yw().encode(r),n=new Uw;return n.update(e),new Uint8Array(n.digest())}function p0(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new es([n,s],0),new es([o,u],0)]}class gm{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ml(`Invalid padding: ${n}`);if(s<0)throw new Ml(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ml(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ml(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=es.fromNumber(this.Ee)}Ae(e,n,s){let o=e.add(n.multiply(es.fromNumber(s)));return o.compare(R2)===1&&(o=new es([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=f0(e),[s,o]=p0(n);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,o,u);if(!this.Re(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new gm(u,o,n);return s.forEach(p=>h.insert(p)),h}insert(e){if(this.Ee===0)return;const n=f0(e),[s,o]=p0(n);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,o,u);this.Ve(h)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Cd{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,ru.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Cd(Ce.min(),o,new wt(De),ga(),Le())}}class ru{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new ru(s,n,Le(),Le(),Le())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Kc{constructor(e,n,s,o){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=o}}class TS{constructor(e,n){this.targetId=e,this.ge=n}}class NS{constructor(e,n,s=rn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class m0{constructor(){this.pe=0,this.ye=g0(),this.we=rn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Le(),n=Le(),s=Le();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:xe()}}),new ru(this.we,this.Se,e,n,s)}Me(){this.be=!1,this.ye=g0()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,He(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class F2{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ga(),this.$e=Mc(),this.Ue=Mc(),this.Ke=new wt(De)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:xe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,s=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(kp(u))if(s===0){const h=new ye(u.path);this.ze(n,h,cn.newNoDocument(h,Ce.min()))}else He(s===1);else{const h=this.et(n);if(h!==s){const p=this.tt(e),m=p?this.nt(p,e,h):1;if(m!==0){this.Ye(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,g)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,p;try{h=ss(s).toUint8Array()}catch(m){if(m instanceof Zw)return uo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{p=new gm(h,o,u)}catch(m){return uo(m instanceof Ml?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return p.Ee===0?null:p}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const h=this.ke.it(),p=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,h)=>{const p=this.Xe(h);if(p){if(u.current&&kp(p.target)){const m=new ye(p.target.path);this._t(m).has(h)||this.ut(h,m)||this.ze(h,m,cn.newNoDocument(m,e))}u.ve&&(n.set(h,u.Fe()),u.Me())}});let s=Le();this.Ue.forEach((u,h)=>{let p=!0;h.forEachWhile(m=>{const g=this.Xe(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(s=s.add(u))}),this.Qe.forEach((u,h)=>h.setReadTime(e));const o=new Cd(e,n,this.Ke,this.Qe,s);return this.Qe=ga(),this.$e=Mc(),this.Ue=Mc(),this.Ke=new wt(De),o}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new m0,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new zt(De),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new zt(De),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new m0),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Mc(){return new wt(ye.comparator)}function g0(){return new wt(ye.comparator)}const j2={asc:"ASCENDING",desc:"DESCENDING"},z2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},V2={and:"AND",or:"OR"};class B2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Cp(r,e){return r.useProto3Json||vd(e)?e:{value:e}}function od(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function AS(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function U2(r,e){return od(r,e.toTimestamp())}function Mr(r){return He(!!r),Ce.fromTimestamp(function(e){const n=as(e);return new jt(n.seconds,n.nanos)}(r))}function ym(r,e){return _p(r,e).canonicalString()}function _p(r,e){const n=function(s){return new dt(["projects",s.projectId,"databases",s.database])}(r).child("documents");return e===void 0?n:n.child(e)}function DS(r){const e=dt.fromString(r);return He(LS(e)),e}function Tp(r,e){return ym(r.databaseId,e.path)}function Qf(r,e){const n=DS(e);if(n.get(1)!==r.databaseId.projectId)throw new he(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new he(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ye(OS(n))}function IS(r,e){return ym(r.databaseId,e)}function $2(r){const e=DS(r);return e.length===4?dt.emptyPath():OS(e)}function Np(r){return new dt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function OS(r){return He(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function y0(r,e,n){return{name:Tp(r,e),fields:n.value.mapValue.fields}}function q2(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:xe()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(m,g){return m.useProto3Json?(He(g===void 0||typeof g=="string"),rn.fromBase64String(g||"")):(He(g===void 0||g instanceof Buffer||g instanceof Uint8Array),rn.fromUint8Array(g||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,p=h&&function(m){const g=m.code===void 0?ne.UNKNOWN:_S(m.code);return new he(g,m.message||"")}(h);n=new NS(s,o,u,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Qf(r,s.document.name),u=Mr(s.document.updateTime),h=s.document.createTime?Mr(s.document.createTime):Ce.min(),p=new xn({mapValue:{fields:s.document.fields}}),m=cn.newFoundDocument(o,u,h,p),g=s.targetIds||[],v=s.removedTargetIds||[];n=new Kc(g,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Qf(r,s.document),u=s.readTime?Mr(s.readTime):Ce.min(),h=cn.newNoDocument(o,u),p=s.removedTargetIds||[];n=new Kc([],p,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Qf(r,s.document),u=s.removedTargetIds||[];n=new Kc([],u,o,null)}else{if(!("filter"in e))return xe();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new M2(o,u),p=s.targetId;n=new TS(p,h)}}return n}function K2(r,e){let n;if(e instanceof nu)n={update:y0(r,e.key,e.value)};else if(e instanceof pm)n={delete:Tp(r,e.key)};else if(e instanceof ds)n={update:y0(r,e.key,e.data),updateMask:eT(e.fieldMask)};else{if(!(e instanceof I2))return xe();n={verify:Tp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(o,u){const h=u.transform;if(h instanceof sd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Hl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Yl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof id)return{fieldPath:u.field.canonicalString(),increment:h.Ie};throw xe()}(0,s))),e.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:U2(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:xe()}(r,e.precondition)),n}function W2(r,e){return r&&r.length>0?(He(e!==void 0),r.map(n=>function(s,o){let u=s.updateTime?Mr(s.updateTime):Mr(o);return u.isEqual(Ce.min())&&(u=Mr(o)),new N2(u,s.transformResults||[])}(n,e))):[]}function G2(r,e){return{documents:[IS(r,e.path)]}}function H2(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=IS(r,o);const u=function(m){if(m.length!==0)return MS(cr.create(m,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const h=function(m){if(m.length!==0)return m.map(g=>function(v){return{field:ro(v.field),direction:J2(v.dir)}}(g))}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const p=Cp(r,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ht:n,parent:o}}function Y2(r){let e=$2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){He(s===1);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];n.where&&(u=function(v){const S=PS(v);return S instanceof cr&&uS(S)?S.getFilters():[S]}(n.where));let h=[];n.orderBy&&(h=function(v){return v.map(S=>function(k){return new ad(ao(k.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(S))}(n.orderBy));let p=null;n.limit&&(p=function(v){let S;return S=typeof v=="object"?v.value:v,vd(S)?null:S}(n.limit));let m=null;n.startAt&&(m=function(v){const S=!!v.before,k=v.values||[];return new rd(k,S)}(n.startAt));let g=null;return n.endAt&&(g=function(v){const S=!v.before,k=v.values||[];return new rd(k,S)}(n.endAt)),m2(e,o,h,u,p,"F",m,g)}function Q2(r,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function PS(r){return r.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=ao(e.unaryFilter.field);return It.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=ao(e.unaryFilter.field);return It.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ao(e.unaryFilter.field);return It.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ao(e.unaryFilter.field);return It.create(u,"!=",{nullValue:"NULL_VALUE"});default:return xe()}}(r):r.fieldFilter!==void 0?function(e){return It.create(ao(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xe()}}(e.fieldFilter.op),e.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(e){return cr.create(e.compositeFilter.filters.map(n=>PS(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return xe()}}(e.compositeFilter.op))}(r):xe()}function J2(r){return j2[r]}function X2(r){return z2[r]}function Z2(r){return V2[r]}function ro(r){return{fieldPath:r.canonicalString()}}function ao(r){return tn.fromServerFormat(r.fieldPath)}function MS(r){return r instanceof It?function(e){if(e.op==="=="){if(a0(e.value))return{unaryFilter:{field:ro(e.field),op:"IS_NAN"}};if(r0(e.value))return{unaryFilter:{field:ro(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(a0(e.value))return{unaryFilter:{field:ro(e.field),op:"IS_NOT_NAN"}};if(r0(e.value))return{unaryFilter:{field:ro(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ro(e.field),op:X2(e.op),value:e.value}}}(r):r instanceof cr?function(e){const n=e.getFilters().map(s=>MS(s));return n.length===1?n[0]:{compositeFilter:{op:Z2(e.op),filters:n}}}(r):xe()}function eT(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function LS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ja{constructor(e,n,s,o,u=Ce.min(),h=Ce.min(),p=rn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=p,this.expectedCount=m}withSequenceNumber(e){return new Ja(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tT{constructor(e){this.Tt=e}}function nT(r){const e=Y2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?xp(e,e.limit,"L"):e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rT{constructor(){this.Tn=new aT}addToCollectionParentIndex(e,n){return this.Tn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(rs.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(rs.min())}updateCollectionGroup(e,n,s){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class aT{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new zt(dt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new zt(dt.comparator)).toArray()}}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const v0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},RS=41943040;class En{static withCacheSize(e){return new En(e,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(RS,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class po{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new po(0)}static Kn(){return new po(-1)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const b0="LruGarbageCollector",sT=1048576;function w0([r,e],[n,s]){const o=De(r,n);return o===0?De(e,s):o}class iT{constructor(e){this.Hn=e,this.buffer=new zt(w0),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();w0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class oT{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){de(b0,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Eo(n)?de(b0,"Ignoring IndexedDB error during garbage collection: ",n):await ko(n)}await this.er(3e5)})}}class lT{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(yd.ae);const s=new iT(n);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(v0)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),v0):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,o,u,h,p,m,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,h=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(s=S,p=Date.now(),this.removeTargets(e,s,n))).next(S=>(u=S,m=Date.now(),this.removeOrphanedDocuments(e,s))).next(S=>(g=Date.now(),to()<=ze.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${o} in `+(p-h)+`ms
	Removed ${u} targets in `+(m-p)+`ms
	Removed ${S} documents in `+(g-m)+`ms
Total Duration: ${g-v}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}function uT(r,e){return new lT(r,e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class cT{constructor(){this.changes=new ai(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ee.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class dT{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class hT{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Vl(s.mutation,o,Rn.empty(),jt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Le()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Le()){const o=ei();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let h=Pl();return u.forEach((p,m)=>{h=h.insert(p,m.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const s=ei();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Le()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,p)=>{n.set(h,p)})})}computeViews(e,n,s,o){let u=ga();const h=zl(),p=function(){return zl()}();return n.forEach((m,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof ds)?u=u.insert(g.key,g):v!==void 0?(h.set(g.key,v.mutation.getFieldMask()),Vl(v.mutation,g,v.mutation.getFieldMask(),jt.now())):h.set(g.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,u).next(m=>(m.forEach((g,v)=>h.set(g,v)),n.forEach((g,v)=>{var S;return p.set(g,new dT(v,(S=h.get(g))!==null&&S!==void 0?S:null))}),p))}recalculateAndSaveOverlays(e,n){const s=zl();let o=new wt((h,p)=>h-p),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const p of h)p.keys().forEach(m=>{const g=n.get(m);if(g===null)return;let v=s.get(m)||Rn.empty();v=p.applyToLocalView(g,v),s.set(m,v);const S=(o.get(p.batchId)||Le()).add(m);o=o.insert(p.batchId,S)})}).next(()=>{const h=[],p=o.getReverseIterator();for(;p.hasNext();){const m=p.getNext(),g=m.key,v=m.value,S=vS();v.forEach(k=>{if(!u.has(k)){const D=xS(n.get(k),s.get(k));D!==null&&S.set(k,D),u=u.add(k)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,S))}return ee.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(u){return ye.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):fS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ee.resolve(ei());let p=ql,m=u;return h.next(g=>ee.forEach(g,(v,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),u.get(v)?ee.resolve():this.remoteDocumentCache.getEntry(e,v).next(k=>{m=m.insert(v,k)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,m,g,Le())).next(v=>({batchId:p,changes:yS(v)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(s=>{let o=Pl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=Pl();return this.indexManager.getCollectionParents(e,u).next(p=>ee.forEach(p,m=>{const g=function(v,S){return new tu(S,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,m.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(v=>{v.forEach((S,k)=>{h=h.insert(S,k)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(h=>{u.forEach((m,g)=>{const v=g.getKey();h.get(v)===null&&(h=h.insert(v,cn.newInvalidDocument(v)))});let p=Pl();return h.forEach((m,g)=>{const v=u.get(m);v!==void 0&&Vl(v.mutation,g,Rn.empty(),jt.now()),kd(n,g)&&(p=p.insert(m,g))}),p})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class fT{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return ee.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Mr(s.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(s){return{name:s.name,query:nT(s.bundledQuery),readTime:Mr(s.readTime)}}(n)),ee.resolve()}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class pT{constructor(){this.overlays=new wt(ye.comparator),this.Rr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ei();return ee.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Et(e,n,u)}),ee.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),ee.resolve()}getOverlaysForCollection(e,n,s){const o=ei(),u=n.length+1,h=new ye(n.child("")),p=this.overlays.getIteratorFrom(h);for(;p.hasNext();){const m=p.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&m.largestBatchId>s&&o.set(m.getKey(),m)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new wt((g,v)=>g-v);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let v=u.get(g.largestBatchId);v===null&&(v=ei(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const p=ei(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,v)=>p.set(g,v)),!(p.size()>=o)););return ee.resolve(p)}Et(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new P2(n,s));let u=this.Rr.get(n);u===void 0&&(u=Le(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class mT{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class vm{constructor(){this.Vr=new zt(Kt.mr),this.gr=new zt(Kt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new Kt(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new Kt(e,n))}Sr(e,n){e.forEach(s=>this.removeReference(s,n))}br(e){const n=new ye(new dt([])),s=new Kt(n,e),o=new Kt(n,e+1),u=[];return this.gr.forEachInRange([s,o],h=>{this.wr(h),u.push(h.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new ye(new dt([])),s=new Kt(n,e),o=new Kt(n,e+1);let u=Le();return this.gr.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const n=new Kt(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Kt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return ye.comparator(e.key,n.key)||De(e.Cr,n.Cr)}static pr(e,n){return De(e.Cr,n.Cr)||ye.comparator(e.key,n.key)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class gT{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new zt(Kt.mr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new O2(u,n,s,o);this.mutationQueue.push(h);for(const p of o)this.Mr=this.Mr.add(new Kt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ee.resolve(h)}lookupMutationBatch(e,n){return ee.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?lm:this.Fr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Kt(n,0),o=new Kt(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],h=>{const p=this.Or(h.Cr);u.push(p)}),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new zt(De);return n.forEach(o=>{const u=new Kt(o,0),h=new Kt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,h],p=>{s=s.add(p.Cr)})}),ee.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const h=new Kt(new ye(u),0);let p=new zt(De);return this.Mr.forEachWhile(m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(p=p.add(m.Cr)),!0)},h),ee.resolve(this.Br(p))}Br(e){const n=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){He(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return ee.forEach(n.mutations,o=>{const u=new Kt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new Kt(n,0),o=this.Mr.firstAfterOrEqual(s);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class yT{constructor(e){this.kr=e,this.docs=function(){return new wt(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ee.resolve(s?s.document.mutableCopy():cn.newInvalidDocument(n))}getEntries(e,n){let s=ga();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():cn.newInvalidDocument(o))}),ee.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=ga();const h=n.path,p=new ye(h.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(p);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||G_(W_(v),s)<=0||(o.has(v.key)||kd(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,s,o){xe()}qr(e,n){return ee.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new vT(this)}getSize(e){return ee.resolve(this.size)}}class vT extends cT{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),ee.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class bT{constructor(e){this.persistence=e,this.Qr=new ai(n=>dm(n),hm),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.$r=0,this.Ur=new vm,this.targetCount=0,this.Kr=po.Un()}forEachTarget(e,n){return this.Qr.forEach((s,o)=>n(o)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),ee.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new po(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.zn(n),ee.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Qr.forEach((h,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.Qr.delete(h),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)}),ee.waitFor(u).next(()=>o)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return ee.resolve(s)}addMatchingKeys(e,n,s){return this.Ur.yr(n,s),ee.resolve()}removeMatchingKeys(e,n,s){this.Ur.Sr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Ur.vr(n);return ee.resolve(s)}containsKey(e,n){return ee.resolve(this.Ur.containsKey(n))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class FS{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new yd(0),this.zr=!1,this.zr=!0,this.jr=new mT,this.referenceDelegate=e(this),this.Hr=new bT(this),this.indexManager=new rT,this.remoteDocumentCache=function(s){return new yT(s)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new tT(n),this.Yr=new fT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new pT,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new gT(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){de("MemoryPersistence","Starting transaction:",e);const o=new wT(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return ee.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class wT extends Y_{constructor(e){super(),this.currentSequenceNumber=e}}class bm{constructor(e){this.persistence=e,this.ti=new vm,this.ni=null}static ri(e){return new bm(e)}get ii(){if(this.ni)return this.ni;throw xe()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),ee.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),ee.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.ii,s=>{const o=ye.fromPath(s);return this.si(e,o).next(u=>{u||n.removeEntry(o,Ce.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return ee.or([()=>ee.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class ld{constructor(e,n){this.persistence=e,this.oi=new ai(s=>X_(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=uT(this,n)}static ri(e,n){return new ld(e,n)}Zr(){}Xr(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return ee.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?ee.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,h=>this.ar(e,h,n).next(p=>{p||(s++,u.removeEntry(h,Ce.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),ee.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Uc(e.data.value)),n}ar(e,n,s){return ee.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class wm{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(e,n){let s=Le(),o=Le();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new wm(e,n.fromCache,s,o)}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ST{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class kT{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return gC()?8:Q_(pC())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.rs(e,n).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ss(e,n,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new ST;return this._s(e,n,h).next(p=>{if(u.result=p,this.Xi)return this.us(e,n,h,p.size)})}).next(()=>u.result)}us(e,n,s,o){return s.documentReadCount<this.es?(to()<=ze.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",no(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ee.resolve()):(to()<=ze.DEBUG&&de("QueryEngine","Query:",no(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(to()<=ze.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",no(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pr(n))):ee.resolve())}rs(e,n){if(l0(n))return ee.resolve(null);let s=Pr(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=xp(n,null,"F"),s=Pr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Le(...u);return this.ns.getDocuments(e,h).next(p=>this.indexManager.getMinOffset(e,s).next(m=>{const g=this.cs(n,p);return this.ls(n,g,h,m.readTime)?this.rs(e,xp(n,null,"F")):this.hs(e,g,n,m)}))})))}ss(e,n,s,o){return l0(n)||o.isEqual(Ce.min())?ee.resolve(null):this.ns.getDocuments(e,s).next(u=>{const h=this.cs(n,u);return this.ls(n,h,s,o)?ee.resolve(null):(to()<=ze.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),no(n)),this.hs(e,h,n,K_(o,ql)).next(p=>p))})}cs(e,n){let s=new zt(mS(e));return n.forEach((o,u)=>{kd(e,u)&&(s=s.add(u))}),s}ls(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,s){return to()<=ze.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",no(n)),this.ns.getDocumentsMatchingQuery(e,n,rs.min(),s)}hs(e,n,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Sm="LocalStore",ET=3e8;class xT{constructor(e,n,s,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new wt(De),this.Is=new ai(u=>dm(u),hm),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hT(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function CT(r,e,n,s){return new xT(r,e,n,s)}async function jS(r,e){const n=_e(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],p=[];let m=Le();for(const g of o){h.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of u){p.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return n.localDocuments.getDocuments(s,m).next(g=>({Rs:g,removedBatchIds:h,addedBatchIds:p}))})})}function _T(r,e){const n=_e(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(h,p,m,g){const v=m.batch,S=v.keys();let k=ee.resolve();return S.forEach(D=>{k=k.next(()=>g.getEntry(p,D)).next(T=>{const R=m.docVersions.get(D);He(R!==null),T.version.compareTo(R)<0&&(v.applyToRemoteDocument(T,m),T.isValidDocument()&&(T.setReadTime(m.commitVersion),g.addEntry(T)))})}),k.next(()=>h.mutationQueue.removeMutationBatch(p,v))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(h){let p=Le();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(p=p.add(h.batch.mutations[m].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function zS(r){const e=_e(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function TT(r,e){const n=_e(r),s=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const p=[];e.targetChanges.forEach((v,S)=>{const k=o.get(S);if(!k)return;p.push(n.Hr.removeMatchingKeys(u,v.removedDocuments,S).next(()=>n.Hr.addMatchingKeys(u,v.addedDocuments,S)));let D=k.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?D=D.withResumeToken(rn.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):v.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(v.resumeToken,s)),o=o.insert(S,D),function(T,R,z){return T.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=ET?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0}(k,D,v)&&p.push(n.Hr.updateTargetData(u,D))});let m=ga(),g=Le();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))}),p.push(NT(u,h,e.documentUpdates).next(v=>{m=v.Vs,g=v.fs})),!s.isEqual(Ce.min())){const v=n.Hr.getLastRemoteSnapshotVersion(u).next(S=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));p.push(v)}return ee.waitFor(p).next(()=>h.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,m,g)).next(()=>m)}).then(u=>(n.Ts=o,u))}function NT(r,e,n){let s=Le(),o=Le();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let h=ga();return n.forEach((p,m)=>{const g=u.get(p);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(p)),m.isNoDocument()&&m.version.isEqual(Ce.min())?(e.removeEntry(p,m.readTime),h=h.insert(p,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),h=h.insert(p,m)):de(Sm,"Ignoring outdated watch update for ",p,". Current version:",g.version," Watch version:",m.version)}),{Vs:h,fs:o}})}function AT(r,e){const n=_e(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=lm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function DT(r,e){const n=_e(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,e).next(u=>u?(o=u,ee.resolve(o)):n.Hr.allocateTargetId(s).next(h=>(o=new Ja(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function Ap(r,e,n){const s=_e(r),o=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Eo(h))throw h;de(Sm,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function S0(r,e,n){const s=_e(r);let o=Ce.min(),u=Le();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,m,g){const v=_e(p),S=v.Is.get(g);return S!==void 0?ee.resolve(v.Ts.get(S)):v.Hr.getTargetData(m,g)}(s,h,Pr(e)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(h,p.targetId).next(m=>{u=m})}).next(()=>s.Ps.getDocumentsMatchingQuery(h,e,n?o:Ce.min(),n?u:Le())).next(p=>(IT(s,y2(e),p),{documents:p,gs:u})))}function IT(r,e,n){let s=r.Es.get(e)||Ce.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Es.set(e,s)}class k0{constructor(){this.activeTargetIds=E2()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OT{constructor(){this.ho=new k0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new k0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class PT{To(e){}shutdown(){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const E0="ConnectivityMonitor";class x0{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){de(E0,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){de(E0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Lc=null;function Dp(){return Lc===null?Lc=function(){return 268435456+Math.round(2147483648*Math.random())}():Lc++,"0x"+Lc.toString(16)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Jf="RestConnection",MT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LT{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===td?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,n,s,o,u){const h=Dp(),p=this.bo(e,n.toUriEncodedString());de(Jf,`Sending RPC '${e}' ${h}:`,p,s);const m={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(m,o,u),this.vo(e,p,m,s).then(g=>(de(Jf,`Received RPC '${e}' ${h}: `,g),g),g=>{throw uo(Jf,`RPC '${e}' ${h} failed with error: `,g,"url: ",p,"request:",s),g})}Co(e,n,s,o,u,h){return this.So(e,n,s,o,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+So}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}bo(e,n){const s=MT[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class RT{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ln="WebChannelConnection";class FT extends LT{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,o){const u=Dp();return new Promise((h,p)=>{const m=new $w;m.setWithCredentials(!0),m.listenOnce(qw.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Bc.NO_ERROR:const v=m.getResponseJson();de(ln,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),h(v);break;case Bc.TIMEOUT:de(ln,`RPC '${e}' ${u} timed out`),p(new he(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Bc.HTTP_ERROR:const S=m.getStatus();if(de(ln,`RPC '${e}' ${u} failed with status:`,S,"response text:",m.getResponseText()),S>0){let k=m.getResponseJson();Array.isArray(k)&&(k=k[0]);const D=k==null?void 0:k.error;if(D&&D.status&&D.message){const T=function(R){const z=R.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(z)>=0?z:ne.UNKNOWN}(D.status);p(new he(T,D.message))}else p(new he(ne.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new he(ne.UNAVAILABLE,"Connection failed."));break;default:xe()}}finally{de(ln,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);de(ln,`RPC '${e}' ${u} sending request:`,o),m.send(n,"POST",g,s,15)})}Wo(e,n,s){const o=Dp(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Gw(),p=Ww(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Do(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const v=u.join("");de(ln,`Creating RPC '${e}' stream ${o}: ${v}`,m);const S=h.createWebChannel(v,m);let k=!1,D=!1;const T=new RT({Fo:z=>{D?de(ln,`Not sending because RPC '${e}' stream ${o} is closed:`,z):(k||(de(ln,`Opening RPC '${e}' stream ${o} transport.`),S.open(),k=!0),de(ln,`RPC '${e}' stream ${o} sending:`,z),S.send(z))},Mo:()=>S.close()}),R=(z,K,X)=>{z.listen(K,ae=>{try{X(ae)}catch(ue){setTimeout(()=>{throw ue},0)}})};return R(S,Ol.EventType.OPEN,()=>{D||(de(ln,`RPC '${e}' stream ${o} transport opened.`),T.Qo())}),R(S,Ol.EventType.CLOSE,()=>{D||(D=!0,de(ln,`RPC '${e}' stream ${o} transport closed`),T.Uo())}),R(S,Ol.EventType.ERROR,z=>{D||(D=!0,uo(ln,`RPC '${e}' stream ${o} transport errored:`,z),T.Uo(new he(ne.UNAVAILABLE,"The operation could not be completed")))}),R(S,Ol.EventType.MESSAGE,z=>{var K;if(!D){const X=z.data[0];He(!!X);const ae=X,ue=(ae==null?void 0:ae.error)||((K=ae[0])===null||K===void 0?void 0:K.error);if(ue){de(ln,`RPC '${e}' stream ${o} received error:`,ue);const ce=ue.status;let se=function(C){const N=Dt[C];if(N!==void 0)return _S(N)}(ce),P=ue.message;se===void 0&&(se=ne.INTERNAL,P="Unknown error status: "+ce+" with message "+ue.message),D=!0,T.Uo(new he(se,P)),S.close()}else de(ln,`RPC '${e}' stream ${o} received:`,X),T.Ko(X)}}),R(p,Kw.STAT_EVENT,z=>{z.stat===yp.PROXY?de(ln,`RPC '${e}' stream ${o} detected buffering proxy`):z.stat===yp.NOPROXY&&de(ln,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{T.$o()},0),T}}function Xf(){return typeof document<"u"?document:null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function _d(r){return new B2(r,!0)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class VS{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const C0="PersistentStream";class BS{constructor(e,n,s,o,u,h,p,m){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=p,this.listener=m,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new VS(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(ma(n.toString()),ma("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{e(()=>{const o=new he(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return de(C0,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(de(C0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jT extends BS{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=q2(this.serializer,e),s=function(o){if(!("targetChange"in o))return Ce.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Ce.min():u.readTime?Mr(u.readTime):Ce.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=Np(this.serializer),n.addTarget=function(o,u){let h;const p=u.target;if(h=kp(p)?{documents:G2(o,p)}:{query:H2(o,p).ht},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=AS(o,u.resumeToken);const m=Cp(o,u.expectedCount);m!==null&&(h.expectedCount=m)}else if(u.snapshotVersion.compareTo(Ce.min())>0){h.readTime=od(o,u.snapshotVersion.toTimestamp());const m=Cp(o,u.expectedCount);m!==null&&(h.expectedCount=m)}return h}(this.serializer,e);const s=Q2(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=Np(this.serializer),n.removeTarget=e,this.I_(n)}}class zT extends BS{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return He(!!e.streamToken),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){He(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=W2(e.writeResults,e.commitTime),s=Mr(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=Np(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>K2(this.serializer,s))};this.I_(n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class VT{}class BT extends VT{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new he(ne.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.So(e,_p(n,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(ne.UNKNOWN,u.toString())})}Co(e,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,p])=>this.connection.Co(e,_p(n,s),o,h,p,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new he(ne.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class UT{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ma(n),this.N_=!1):de("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ri="RemoteStore";class $T{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(h=>{s.enqueueAndForget(async()=>{si(this)&&(de(ri,"Restarting streams for network reachability change."),await async function(p){const m=_e(p);m.W_.add(4),await au(m),m.j_.set("Unknown"),m.W_.delete(4),await Td(m)}(this))})}),this.j_=new UT(s,o)}}async function Td(r){if(si(r))for(const e of r.G_)await e(!0)}async function au(r){for(const e of r.G_)await e(!1)}function US(r,e){const n=_e(r);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),Cm(n)?xm(n):xo(n).c_()&&Em(n,e))}function km(r,e){const n=_e(r),s=xo(n);n.K_.delete(e),s.c_()&&$S(n,e),n.K_.size===0&&(s.c_()?s.P_():si(n)&&n.j_.set("Unknown"))}function Em(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xo(r).y_(e)}function $S(r,e){r.H_.Ne(e),xo(r).w_(e)}function xm(r){r.H_=new F2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.K_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),xo(r).start(),r.j_.B_()}function Cm(r){return si(r)&&!xo(r).u_()&&r.K_.size>0}function si(r){return _e(r).W_.size===0}function qS(r){r.H_=void 0}async function qT(r){r.j_.set("Online")}async function KT(r){r.K_.forEach((e,n)=>{Em(r,e)})}async function WT(r,e){qS(r),Cm(r)?(r.j_.q_(e),xm(r)):r.j_.set("Unknown")}async function GT(r,e,n){if(r.j_.set("Online"),e instanceof NS&&e.state===2&&e.cause)try{await async function(s,o){const u=o.cause;for(const h of o.targetIds)s.K_.has(h)&&(await s.remoteSyncer.rejectListen(h,u),s.K_.delete(h),s.H_.removeTarget(h))}(r,e)}catch(s){de(ri,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ud(r,s)}else if(e instanceof Kc?r.H_.We(e):e instanceof TS?r.H_.Ze(e):r.H_.je(e),!n.isEqual(Ce.min()))try{const s=await zS(r.localStore);n.compareTo(s)>=0&&await function(o,u){const h=o.H_.ot(u);return h.targetChanges.forEach((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const g=o.K_.get(m);g&&o.K_.set(m,g.withResumeToken(p.resumeToken,u))}}),h.targetMismatches.forEach((p,m)=>{const g=o.K_.get(p);if(!g)return;o.K_.set(p,g.withResumeToken(rn.EMPTY_BYTE_STRING,g.snapshotVersion)),$S(o,p);const v=new Ja(g.target,p,m,g.sequenceNumber);Em(o,v)}),o.remoteSyncer.applyRemoteEvent(h)}(r,n)}catch(s){de(ri,"Failed to raise snapshot:",s),await ud(r,s)}}async function ud(r,e,n){if(!Eo(e))throw e;r.W_.add(1),await au(r),r.j_.set("Offline"),n||(n=()=>zS(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{de(ri,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await Td(r)})}function KS(r,e){return e().catch(n=>ud(r,n,e))}async function Nd(r){const e=_e(r),n=os(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:lm;for(;HT(e);)try{const o=await AT(e.localStore,s);if(o===null){e.U_.length===0&&n.P_();break}s=o.batchId,YT(e,o)}catch(o){await ud(e,o)}WS(e)&&GS(e)}function HT(r){return si(r)&&r.U_.length<10}function YT(r,e){r.U_.push(e);const n=os(r);n.c_()&&n.S_&&n.b_(e.mutations)}function WS(r){return si(r)&&!os(r).u_()&&r.U_.length>0}function GS(r){os(r).start()}async function QT(r){os(r).C_()}async function JT(r){const e=os(r);for(const n of r.U_)e.b_(n.mutations)}async function XT(r,e,n){const s=r.U_.shift(),o=mm.from(s,e,n);await KS(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Nd(r)}async function ZT(r,e){e&&os(r).S_&&await async function(n,s){if(function(o){return L2(o)&&o!==ne.ABORTED}(s.code)){const o=n.U_.shift();os(n).h_(),await KS(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,s)),await Nd(n)}}(r,e),WS(r)&&GS(r)}async function _0(r,e){const n=_e(r);n.asyncQueue.verifyOperationInProgress(),de(ri,"RemoteStore received new credentials");const s=si(n);n.W_.add(3),await au(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Td(n)}async function eN(r,e){const n=_e(r);e?(n.W_.delete(2),await Td(n)):e||(n.W_.add(2),await au(n),n.j_.set("Unknown"))}function xo(r){return r.J_||(r.J_=function(e,n,s){const o=_e(e);return o.M_(),new jT(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(r.datastore,r.asyncQueue,{xo:qT.bind(null,r),No:KT.bind(null,r),Lo:WT.bind(null,r),p_:GT.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),Cm(r)?xm(r):r.j_.set("Unknown")):(await r.J_.stop(),qS(r))})),r.J_}function os(r){return r.Y_||(r.Y_=function(e,n,s){const o=_e(e);return o.M_(),new zT(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:QT.bind(null,r),Lo:ZT.bind(null,r),D_:JT.bind(null,r),v_:XT.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await Nd(r)):(await r.Y_.stop(),r.U_.length>0&&(de(ri,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _m{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ha,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,p=new _m(e,n,h,o,u);return p.start(s),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tm(r,e){if(ma("AsyncQueue",`${e}: ${r}`),Eo(r))return new he(ne.UNAVAILABLE,`${e}: ${r}`);throw r}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class lo{static emptySet(e){return new lo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=Pl(),this.sortedSet=new wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof lo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new lo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class T0{constructor(){this.Z_=new wt(ye.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):xe():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class mo{constructor(e,n,s,o,u,h,p,m,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=p,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach(p=>{h.push({type:0,doc:p})}),new mo(e,n,lo.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tN{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class nN{constructor(){this.queries=N0(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(e,n){const s=_e(e),o=s.queries;s.queries=N0(),o.forEach((u,h)=>{for(const p of h.ta)p.onError(n)})})(this,new he(ne.ABORTED,"Firestore shutting down"))}}function N0(){return new ai(r=>pS(r),Sd)}async function Nm(r,e){const n=_e(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new tN,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const p=Tm(h,`Initialization of query '${no(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&Dm(n)}async function Am(r,e){const n=_e(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.ta.indexOf(e);h>=0&&(u.ta.splice(h,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function rN(r,e){const n=_e(r);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const p of h.ta)p.oa(o)&&(s=!0);h.ea=o}}s&&Dm(n)}function aN(r,e,n){const s=_e(r),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(e)}function Dm(r){r.ia.forEach(e=>{e.next()})}var Ip,A0;(A0=Ip||(Ip={}))._a="default",A0.Cache="cache";class Im{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new mo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=mo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Ip.Cache}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class HS{constructor(e){this.key=e}}class YS{constructor(e){this.key=e}}class sN{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Le(),this.mutatedKeys=Le(),this.ya=mS(e),this.wa=new lo(this.ya)}get Sa(){return this.fa}ba(e,n){const s=n?n.Da:new T0,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,p=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,S)=>{const k=o.get(v),D=kd(this.query,S)?S:null,T=!!k&&this.mutatedKeys.has(k.key),R=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let z=!1;k&&D?k.data.isEqual(D.data)?T!==R&&(s.track({type:3,doc:D}),z=!0):this.va(k,D)||(s.track({type:2,doc:D}),z=!0,(m&&this.ya(D,m)>0||g&&this.ya(D,g)<0)&&(p=!0)):!k&&D?(s.track({type:0,doc:D}),z=!0):k&&!D&&(s.track({type:1,doc:k}),z=!0,(m||g)&&(p=!0)),z&&(D?(h=h.add(D),u=R?u.add(v):u.delete(v)):(h=h.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{wa:h,Da:s,ls:p,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((v,S)=>function(k,D){const T=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe()}};return T(k)-T(D)}(v.type,S.type)||this.ya(v.doc,S.doc)),this.Ca(s),o=o!=null&&o;const p=n&&!o?this.Fa():[],m=this.pa.size===0&&this.current&&!o?1:0,g=m!==this.ga;return this.ga=m,h.length!==0||g?{snapshot:new mo(this.query,e.wa,u,h,e.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:p}:{Ma:p}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new T0,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Le(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new YS(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new HS(s))}),n}Oa(e){this.fa=e.gs,this.pa=Le();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return mo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Om="SyncEngine";class iN{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class oN{constructor(e){this.key=e,this.Ba=!1}}class lN{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new ai(p=>pS(p),Sd),this.qa=new Map,this.Qa=new Set,this.$a=new wt(ye.comparator),this.Ua=new Map,this.Ka=new vm,this.Wa={},this.Ga=new Map,this.za=po.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function uN(r,e,n=!0){const s=t1(r);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await QS(s,e,n,!0),o}async function cN(r,e){const n=t1(r);await QS(n,e,!0,!1)}async function QS(r,e,n,s){const o=await DT(r.localStore,Pr(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let p;return s&&(p=await dN(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&US(r.remoteStore,o),p}async function dN(r,e,n,s,o){r.Ha=(S,k,D)=>async function(T,R,z,K){let X=R.view.ba(z);X.ls&&(X=await S0(T.localStore,R.query,!1).then(({documents:se})=>R.view.ba(se,X)));const ae=K&&K.targetChanges.get(R.targetId),ue=K&&K.targetMismatches.get(R.targetId)!=null,ce=R.view.applyChanges(X,T.isPrimaryClient,ae,ue);return I0(T,R.targetId,ce.Ma),ce.snapshot}(r,S,k,D);const u=await S0(r.localStore,e,!0),h=new sN(e,u.gs),p=h.ba(u.documents),m=ru.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=h.applyChanges(p,r.isPrimaryClient,m);I0(r,n,g.Ma);const v=new iN(e,n,h);return r.ka.set(e,v),r.qa.has(n)?r.qa.get(n).push(e):r.qa.set(n,[e]),g.snapshot}async function hN(r,e,n){const s=_e(r),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(h=>!Sd(h,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Ap(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&km(s.remoteStore,o.targetId),Op(s,o.targetId)}).catch(ko)):(Op(s,o.targetId),await Ap(s.localStore,o.targetId,!0))}async function fN(r,e){const n=_e(r),s=n.ka.get(e),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),km(n.remoteStore,s.targetId))}async function pN(r,e,n){const s=SN(r);try{const o=await function(u,h){const p=_e(u),m=jt.now(),g=h.reduce((k,D)=>k.add(D.key),Le());let v,S;return p.persistence.runTransaction("Locally write mutations","readwrite",k=>{let D=ga(),T=Le();return p.ds.getEntries(k,g).next(R=>{D=R,D.forEach((z,K)=>{K.isValidDocument()||(T=T.add(z))})}).next(()=>p.localDocuments.getOverlayedDocuments(k,D)).next(R=>{v=R;const z=[];for(const K of h){const X=D2(K,v.get(K.key).overlayedDocument);X!=null&&z.push(new ds(K.key,X,iS(X.value.mapValue),er.exists(!0)))}return p.mutationQueue.addMutationBatch(k,m,z,h)}).next(R=>{S=R;const z=R.applyToLocalDocumentSet(v,T);return p.documentOverlayCache.saveOverlays(k,R.batchId,z)})}).then(()=>({batchId:S.batchId,changes:yS(v)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(u,h,p){let m=u.Wa[u.currentUser.toKey()];m||(m=new wt(De)),m=m.insert(h,p),u.Wa[u.currentUser.toKey()]=m}(s,o.batchId,n),await su(s,o.changes),await Nd(s.remoteStore)}catch(o){const u=Tm(o,"Failed to persist write");n.reject(u)}}async function JS(r,e){const n=_e(r);try{const s=await TT(n.localStore,e);e.targetChanges.forEach((o,u)=>{const h=n.Ua.get(u);h&&(He(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Ba=!0:o.modifiedDocuments.size>0?He(h.Ba):o.removedDocuments.size>0&&(He(h.Ba),h.Ba=!1))}),await su(n,s,e)}catch(s){await ko(s)}}function D0(r,e,n){const s=_e(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,h)=>{const p=h.view.sa(e);p.snapshot&&o.push(p.snapshot)}),function(u,h){const p=_e(u);p.onlineState=h;let m=!1;p.queries.forEach((g,v)=>{for(const S of v.ta)S.sa(h)&&(m=!0)}),m&&Dm(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function mN(r,e,n){const s=_e(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Ua.get(e),u=o&&o.key;if(u){let h=new wt(ye.comparator);h=h.insert(u,cn.newNoDocument(u,Ce.min()));const p=Le().add(u),m=new Cd(Ce.min(),new Map,new wt(De),h,p);await JS(s,m),s.$a=s.$a.remove(u),s.Ua.delete(e),Pm(s)}else await Ap(s.localStore,e,!1).then(()=>Op(s,e,n)).catch(ko)}async function gN(r,e){const n=_e(r),s=e.batch.batchId;try{const o=await _T(n.localStore,e);ZS(n,s,null),XS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await su(n,o)}catch(o){await ko(o)}}async function yN(r,e,n){const s=_e(r);try{const o=await function(u,h){const p=_e(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let g;return p.mutationQueue.lookupMutationBatch(m,h).next(v=>(He(v!==null),g=v.keys(),p.mutationQueue.removeMutationBatch(m,v))).next(()=>p.mutationQueue.performConsistencyCheck(m)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(m,g,h)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,g)).next(()=>p.localDocuments.getDocuments(m,g))})}(s.localStore,e);ZS(s,e,n),XS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await su(s,o)}catch(o){await ko(o)}}function XS(r,e){(r.Ga.get(e)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(e)}function ZS(r,e,n){const s=_e(r);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function Op(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(e),r.isPrimaryClient&&r.Ka.br(e).forEach(s=>{r.Ka.containsKey(s)||e1(r,s)})}function e1(r,e){r.Qa.delete(e.path.canonicalString());const n=r.$a.get(e);n!==null&&(km(r.remoteStore,n),r.$a=r.$a.remove(e),r.Ua.delete(n),Pm(r))}function I0(r,e,n){for(const s of n)s instanceof HS?(r.Ka.addReference(s.key,e),vN(r,s)):s instanceof YS?(de(Om,"Document no longer in limbo: "+s.key),r.Ka.removeReference(s.key,e),r.Ka.containsKey(s.key)||e1(r,s.key)):xe()}function vN(r,e){const n=e.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(de(Om,"New document in limbo: "+n),r.Qa.add(s),Pm(r))}function Pm(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const n=new ye(dt.fromString(e)),s=r.za.next();r.Ua.set(s,new oN(n)),r.$a=r.$a.insert(n,s),US(r.remoteStore,new Ja(Pr(wd(n.path)),s,"TargetPurposeLimboResolution",yd.ae))}}async function su(r,e,n){const s=_e(r),o=[],u=[],h=[];s.ka.isEmpty()||(s.ka.forEach((p,m)=>{h.push(s.Ha(m,e,n).then(g=>{var v;if((g||n)&&s.isPrimaryClient){const S=g?!g.fromCache:(v=n==null?void 0:n.targetChanges.get(m.targetId))===null||v===void 0?void 0:v.current;s.sharedClientState.updateQueryState(m.targetId,S?"current":"not-current")}if(g){o.push(g);const S=wm.Yi(m.targetId,g);u.push(S)}}))}),await Promise.all(h),s.La.p_(o),await async function(p,m){const g=_e(p);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>ee.forEach(m,S=>ee.forEach(S.Hi,k=>g.persistence.referenceDelegate.addReference(v,S.targetId,k)).next(()=>ee.forEach(S.Ji,k=>g.persistence.referenceDelegate.removeReference(v,S.targetId,k)))))}catch(v){if(!Eo(v))throw v;de(Sm,"Failed to update sequence numbers: "+v)}for(const v of m){const S=v.targetId;if(!v.fromCache){const k=g.Ts.get(S),D=k.snapshotVersion,T=k.withLastLimboFreeSnapshotVersion(D);g.Ts=g.Ts.insert(S,T)}}}(s.localStore,u))}async function bN(r,e){const n=_e(r);if(!n.currentUser.isEqual(e)){de(Om,"User change. New user:",e.toKey());const s=await jS(n.localStore,e);n.currentUser=e,function(o,u){o.Ga.forEach(h=>{h.forEach(p=>{p.reject(new he(ne.CANCELLED,u))})}),o.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await su(n,s.Rs)}}function wN(r,e){const n=_e(r),s=n.Ua.get(e);if(s&&s.Ba)return Le().add(s.key);{let o=Le();const u=n.qa.get(e);if(!u)return o;for(const h of u){const p=n.ka.get(h);o=o.unionWith(p.view.Sa)}return o}}function t1(r){const e=_e(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=JS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mN.bind(null,e),e.La.p_=rN.bind(null,e.eventManager),e.La.Ja=aN.bind(null,e.eventManager),e}function SN(r){const e=_e(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yN.bind(null,e),e}class cd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_d(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return CT(this.persistence,new kT,e.initialUser,this.serializer)}Xa(e){return new FS(bm.ri,this.serializer)}Za(e){return new OT}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cd.provider={build:()=>new cd};class kN extends cd{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){He(this.persistence.referenceDelegate instanceof ld);const s=this.persistence.referenceDelegate.garbageCollector;return new oT(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new FS(s=>ld.ri(s,n),this.serializer)}}class Pp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>D0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=bN.bind(null,this.syncEngine),await eN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new nN}()}createDatastore(e){const n=_d(e.databaseInfo.databaseId),s=function(o){return new FT(o)}(e.databaseInfo);return function(o,u,h,p){return new BT(o,u,h,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(n,s,o,u,h){return new $T(n,s,o,u,h)}(this.localStore,this.datastore,e.asyncQueue,n=>D0(this.syncEngine,n,0),function(){return x0.D()?new x0:new PT}())}createSyncEngine(e,n){return function(s,o,u,h,p,m,g){const v=new lN(s,o,u,h,p,m);return g&&(v.ja=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const o=_e(s);de(ri,"RemoteStore shutting down."),o.W_.add(5),await au(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Pp.provider={build:()=>new Pp};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Mm{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ma("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ls="FirestoreClient";class EN{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=un.UNAUTHENTICATED,this.clientId=Qw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{de(ls,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(de(ls,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ha;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Tm(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Zf(r,e){r.asyncQueue.verifyOperationInProgress(),de(ls,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await jS(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function O0(r,e){r.asyncQueue.verifyOperationInProgress();const n=await xN(r);de(ls,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>_0(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>_0(e.remoteStore,o)),r._onlineComponents=e}async function xN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){de(ls,"Using user provided OfflineComponentProvider");try{await Zf(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===ne.FAILED_PRECONDITION||s.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;uo("Error using user provided cache. Falling back to memory cache: "+n),await Zf(r,new cd)}}else de(ls,"Using default OfflineComponentProvider"),await Zf(r,new kN(void 0));return r._offlineComponents}async function n1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(de(ls,"Using user provided OnlineComponentProvider"),await O0(r,r._uninitializedComponentsProvider._online)):(de(ls,"Using default OnlineComponentProvider"),await O0(r,new Pp))),r._onlineComponents}function CN(r){return n1(r).then(e=>e.syncEngine)}async function dd(r){const e=await n1(r),n=e.eventManager;return n.onListen=uN.bind(null,e.syncEngine),n.onUnlisten=hN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=cN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=fN.bind(null,e.syncEngine),n}function _N(r,e,n={}){const s=new ha;return r.asyncQueue.enqueueAndForget(async()=>function(o,u,h,p,m){const g=new Mm({next:S=>{g.su(),u.enqueueAndForget(()=>Am(o,v));const k=S.docs.has(h);!k&&S.fromCache?m.reject(new he(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&S.fromCache&&p&&p.source==="server"?m.reject(new he(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(S)},error:S=>m.reject(S)}),v=new Im(wd(h.path),g,{includeMetadataChanges:!0,Ta:!0});return Nm(o,v)}(await dd(r),r.asyncQueue,e,n,s)),s.promise}function TN(r,e,n={}){const s=new ha;return r.asyncQueue.enqueueAndForget(async()=>function(o,u,h,p,m){const g=new Mm({next:S=>{g.su(),u.enqueueAndForget(()=>Am(o,v)),S.fromCache&&p.source==="server"?m.reject(new he(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(S)},error:S=>m.reject(S)}),v=new Im(h,g,{includeMetadataChanges:!0,Ta:!0});return Nm(o,v)}(await dd(r),r.asyncQueue,e,n,s)),s.promise}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function r1(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const P0=new Map;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function a1(r,e,n){if(!n)throw new he(ne.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function NN(r,e,n,s){if(e===!0&&s===!0)throw new he(ne.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function M0(r){if(!ye.isDocumentKey(r))throw new he(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function L0(r){if(ye.isDocumentKey(r))throw new he(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Ad(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":xe()}function Cn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new he(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ad(r);throw new he(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const s1="firestore.googleapis.com",R0=!0;class F0{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new he(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=s1,this.ssl=R0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:R0;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=RS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<sT)throw new he(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}NN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=r1((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,s){return n.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dd{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new F0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new F0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new R_;switch(n.type){case"firstParty":return new V_(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new he(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=P0.get(e);n&&(de("ComponentProvider","Removing Datastore"),P0.delete(e),n.terminate())}(this),Promise.resolve()}}function AN(r,e,n,s={}){var o;const u=(r=Cn(r,Dd))._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),p=`${e}:${n}`;u.host!==s1&&u.host!==p&&uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},u),{host:p,ssl:!1,emulatorOptions:s});if(!Jc(m,h)&&(r._setSettings(m),s.mockUserToken)){let g,v;if(typeof s.mockUserToken=="string")g=s.mockUserToken,v=un.MOCK_USER;else{g=fC(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new he(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new un(S)}r._authCredentials=new F_(new Hw(g,v))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ii{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ii(this.firestore,e,this._query)}}class dn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ts(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dn(this.firestore,e,this._key)}}class ts extends ii{constructor(e,n,s){super(e,n,wd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dn(this.firestore,null,new ye(e))}withConverter(e){return new ts(this.firestore,e,this._path)}}function yn(r,e,...n){if(r=Lr(r),a1("collection","path",e),r instanceof Dd){const s=dt.fromString(e,...n);return L0(s),new ts(r,null,s)}{if(!(r instanceof dn||r instanceof ts))throw new he(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(dt.fromString(e,...n));return L0(s),new ts(r.firestore,null,s)}}function tr(r,e,...n){if(r=Lr(r),arguments.length===1&&(e=Qw.newId()),a1("doc","path",e),r instanceof Dd){const s=dt.fromString(e,...n);return M0(s),new dn(r,null,new ye(s))}{if(!(r instanceof dn||r instanceof ts))throw new he(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(dt.fromString(e,...n));return M0(s),new dn(r.firestore,r instanceof ts?r.converter:null,new ye(s))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const j0="AsyncQueue";class z0{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new VS(this,"async_queue_retry"),this.Su=()=>{const s=Xf();s&&de(j0,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const n=Xf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Xf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new ha;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Eo(e))throw e;de(j0,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),h}(s);throw ma("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=_m.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&xe()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function V0(r){return function(e,n){if(typeof e!="object"||e===null)return!1;const s=e;for(const o of n)if(o in s&&typeof s[o]=="function")return!0;return!1}(r,["next","error","complete"])}class ya extends Dd{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new z0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new z0(e),this._firestoreClient=void 0,await e}}}function DN(r,e){const n=typeof r=="object"?r:E_(),s=typeof r=="string"?r:td,o=v_(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=dC("firestore");u&&AN(o,...u)}return o}function Id(r){if(r._terminated)throw new he(ne.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||IN(r),r._firestoreClient}function IN(r){var e,n,s;const o=r._freezeSettings(),u=function(h,p,m,g){return new t2(h,p,m,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,r1(g.experimentalLongPollingOptions),g.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new EN(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(h){const p=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(p),_online:p}}(r._componentsProvider))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class go{constructor(e){this._byteString=e}static fromBase64String(e){try{return new go(rn.fromBase64String(e))}catch(n){throw new he(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new go(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Od{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Lm{constructor(e){this._methodName=e}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Rm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Fm{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,s){if(n.length!==s.length)return!1;for(let o=0;o<n.length;++o)if(n[o]!==s[o])return!1;return!0}(this._values,e._values)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ON=/^__.*__$/;class PN{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ds(e,this.data,this.fieldMask,n,this.fieldTransforms):new nu(e,this.data,n,this.fieldTransforms)}}class i1{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ds(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function o1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe()}}class jm{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new jm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Uu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return hd(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(o1(this.Lu)&&ON.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class MN{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||_d(e)}ju(e,n,s,o=!1){return new jm({Lu:e,methodName:n,zu:s,path:tn.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pd(r){const e=r._freezeSettings(),n=_d(r._databaseId);return new MN(r._databaseId,!!e.ignoreUndefinedProperties,n)}function l1(r,e,n,s,o,u={}){const h=r.ju(u.merge||u.mergeFields?2:0,e,n,o);zm("Data must be an object, but it was:",h,s);const p=u1(s,h);let m,g;if(u.merge)m=new Rn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const v=[];for(const S of u.mergeFields){const k=Mp(e,S,n);if(!h.contains(k))throw new he(ne.INVALID_ARGUMENT,`Field '${k}' is specified in your field mask but missing from your input data.`);d1(v,k)||v.push(k)}m=new Rn(v),g=h.fieldTransforms.filter(S=>m.covers(S.field))}else m=null,g=h.fieldTransforms;return new PN(new xn(p),m,g)}class Md extends Lm{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Md}}function LN(r,e,n,s){const o=r.ju(1,e,n);zm("Data must be an object, but it was:",o,s);const u=[],h=xn.empty();cs(s,(m,g)=>{const v=Vm(e,m,n);g=Lr(g);const S=o.Uu(v);if(g instanceof Md)u.push(v);else{const k=iu(g,S);k!=null&&(u.push(v),h.set(v,k))}});const p=new Rn(u);return new i1(h,p,o.fieldTransforms)}function RN(r,e,n,s,o,u){const h=r.ju(1,e,n),p=[Mp(e,s,n)],m=[o];if(u.length%2!=0)throw new he(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let k=0;k<u.length;k+=2)p.push(Mp(e,u[k])),m.push(u[k+1]);const g=[],v=xn.empty();for(let k=p.length-1;k>=0;--k)if(!d1(g,p[k])){const D=p[k];let T=m[k];T=Lr(T);const R=h.Uu(D);if(T instanceof Md)g.push(D);else{const z=iu(T,R);z!=null&&(g.push(D),v.set(D,z))}}const S=new Rn(g);return new i1(v,S,h.fieldTransforms)}function FN(r,e,n,s=!1){return iu(n,r.ju(s?4:3,e))}function iu(r,e){if(c1(r=Lr(r)))return zm("Unsupported field value:",e,r),u1(r,e);if(r instanceof Lm)return function(n,s){if(!o1(s.Lu))throw s.Wu(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(n,s){const o=[];let u=0;for(const h of n){let p=iu(h,s.Ku(u));p==null&&(p={nullValue:"NULL_VALUE"}),o.push(p),u++}return{arrayValue:{values:o}}}(r,e)}return function(n,s){if((n=Lr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return x2(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=jt.fromDate(n);return{timestampValue:od(s.serializer,o)}}if(n instanceof jt){const o=new jt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:od(s.serializer,o)}}if(n instanceof Rm)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof go)return{bytesValue:AS(s.serializer,n._byteString)};if(n instanceof dn){const o=s.databaseId,u=n.firestore._databaseId;if(!u.isEqual(o))throw s.Wu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ym(n.firestore._databaseId||s.databaseId,n._key.path)}}if(n instanceof Fm)return function(o,u){return{mapValue:{fields:{[aS]:{stringValue:sS},[nd]:{arrayValue:{values:o.toArray().map(h=>{if(typeof h!="number")throw u.Wu("VectorValues must only contain numeric values.");return fm(u.serializer,h)})}}}}}}(n,s);throw s.Wu(`Unsupported field value: ${Ad(n)}`)}(r,e)}function u1(r,e){const n={};return Xw(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cs(r,(s,o)=>{const u=iu(o,e.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function c1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof jt||r instanceof Rm||r instanceof go||r instanceof dn||r instanceof Lm||r instanceof Fm)}function zm(r,e,n){if(!c1(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const s=Ad(n);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function Mp(r,e,n){if((e=Lr(e))instanceof Od)return e._internalPath;if(typeof e=="string")return Vm(r,e);throw hd("Field path arguments must be of type string or ",r,!1,void 0,n)}const jN=new RegExp("[~\\*/\\[\\]]");function Vm(r,e,n){if(e.search(jN)>=0)throw hd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Od(...e.split("."))._internalPath}catch{throw hd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function hd(r,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let m="";return(u||h)&&(m+=" (found",u&&(m+=` in field ${s}`),h&&(m+=` in document ${o}`),m+=")"),new he(ne.INVALID_ARGUMENT,p+r+m)}function d1(r,e){return r.some(n=>n.isEqual(e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class h1{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new zN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Bm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class zN extends h1{data(){return super.data()}}function Bm(r,e){return typeof e=="string"?Vm(r,e):e instanceof Od?e._internalPath:e._delegate._internalPath}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function f1(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new he(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Um{}class VN extends Um{}function BN(r,e,...n){let s=[];e instanceof Um&&s.push(e),s=s.concat(n),function(o){const u=o.filter(p=>p instanceof $m).length,h=o.filter(p=>p instanceof Ld).length;if(u>1||u>0&&h>0)throw new he(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class Ld extends VN{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Ld(e,n,s)}_apply(e){const n=this._parse(e);return p1(e._query,n),new ii(e.firestore,e.converter,Ep(e._query,n))}_parse(e){const n=Pd(e.firestore);return function(s,o,u,h,p,m,g){let v;if(p.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new he(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){U0(g,m);const S=[];for(const k of g)S.push(B0(h,s,k));v={arrayValue:{values:S}}}else v=B0(h,s,g)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||U0(g,m),v=FN(u,o,g,m==="in"||m==="not-in");return It.create(p,m,v)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function UN(r,e,n){const s=e,o=Bm("where",r);return Ld._create(o,s,n)}class $m extends Um{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new $m(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:cr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,o){let u=s;const h=o.getFlattenedFilters();for(const p of h)p1(u,p),u=Ep(u,p)}(e._query,n),new ii(e.firestore,e.converter,Ep(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function B0(r,e,n){if(typeof(n=Lr(n))=="string"){if(n==="")throw new he(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fS(e)&&n.indexOf("/")!==-1)throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(dt.fromString(n));if(!ye.isDocumentKey(s))throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return n0(r,new ye(s))}if(n instanceof dn)return n0(r,n._key);throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ad(n)}.`)}function U0(r,e){if(!Array.isArray(r)||r.length===0)throw new he(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function p1(r,e){const n=function(s,o){for(const u of s)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null}(r.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new he(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class $N{convertValue(e,n="none"){switch(is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return cs(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[nd].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>_t(h.doubleValue));return new Fm(u)}convertGeoPoint(e){return new Rm(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=bd(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Kl(e));default:return null}}convertTimestamp(e){const n=as(e);return new jt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=dt.fromString(e);He(LS(s));const o=new Wl(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(n)||ma(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function m1(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ll{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class g1 extends h1{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Wc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Bm("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Wc extends g1{data(e={}){return super.data(e)}}class y1{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ll(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Wc(this._firestore,this._userDataWriter,s.key,s,new Ll(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(h=>{const p=new Wc(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Ll(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const p=new Wc(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Ll(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let m=-1,g=-1;return h.type!==0&&(m=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),g=u.indexOf(h.doc.key)),{type:qN(h.type),doc:p,oldIndex:m,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function qN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function qm(r){r=Cn(r,dn);const e=Cn(r.firestore,ya);return _N(Id(e),r._key).then(n=>w1(e,r,n))}class Km extends $N{constructor(e){super(),this.firestore=e}convertBytes(e){return new go(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new dn(this.firestore,null,n)}}function ns(r){r=Cn(r,ii);const e=Cn(r.firestore,ya),n=Id(e),s=new Km(e);return f1(r._query),TN(n,r._query).then(o=>new y1(e,s,r,o))}function KN(r,e,n){r=Cn(r,dn);const s=Cn(r.firestore,ya),o=m1(r.converter,e,n);return Rd(s,[l1(Pd(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,er.none())])}function v1(r,e,n,...s){r=Cn(r,dn);const o=Cn(r.firestore,ya),u=Pd(o);let h;return h=typeof(e=Lr(e))=="string"||e instanceof Od?RN(u,"updateDoc",r._key,e,n,s):LN(u,"updateDoc",r._key,e),Rd(o,[h.toMutation(r._key,er.exists(!0))])}function WN(r){return Rd(Cn(r.firestore,ya),[new pm(r._key,er.none())])}function b1(r,e){const n=Cn(r.firestore,ya),s=tr(r),o=m1(r.converter,e);return Rd(n,[l1(Pd(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,er.exists(!1))]).then(()=>s)}function ca(r,...e){var n,s,o;r=Lr(r);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||V0(e[h])||(u=e[h],h++);const p={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(V0(e[h])){const S=e[h];e[h]=(n=S.next)===null||n===void 0?void 0:n.bind(S),e[h+1]=(s=S.error)===null||s===void 0?void 0:s.bind(S),e[h+2]=(o=S.complete)===null||o===void 0?void 0:o.bind(S)}let m,g,v;if(r instanceof dn)g=Cn(r.firestore,ya),v=wd(r._key.path),m={next:S=>{e[h]&&e[h](w1(g,r,S))},error:e[h+1],complete:e[h+2]};else{const S=Cn(r,ii);g=Cn(S.firestore,ya),v=S._query;const k=new Km(g);m={next:D=>{e[h]&&e[h](new y1(g,k,S,D))},error:e[h+1],complete:e[h+2]},f1(r._query)}return function(S,k,D,T){const R=new Mm(T),z=new Im(k,R,D);return S.asyncQueue.enqueueAndForget(async()=>Nm(await dd(S),z)),()=>{R.su(),S.asyncQueue.enqueueAndForget(async()=>Am(await dd(S),z))}}(Id(g),v,p,m)}function Rd(r,e){return function(n,s){const o=new ha;return n.asyncQueue.enqueueAndForget(async()=>pN(await CN(n),s,o)),o.promise}(Id(r),e)}function w1(r,e,n){const s=n.docs.get(e._key),o=new Km(r);return new g1(r,o,e._key,s,new Ll(n.hasPendingWrites,n.fromCache),e.converter)}(function(r,e=!0){(function(n){So=n})(k_),Zc(new Ul("firestore",(n,{instanceIdentifier:s,options:o})=>{const u=n.getProvider("app").getImmediate(),h=new ya(new j_(n.getProvider("auth-internal")),new B_(u,n.getProvider("app-check-internal")),function(p,m){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new he(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wl(p.options.projectId,m)}(u,s),u);return o=Object.assign({useFetchStreams:e},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),oo(qb,Kb,r),oo(qb,Kb,"esm2017")})();const GN={apiKey:"AIzaSyA…",authDomain:"myattendanceproject-45c1b.firebaseapp.com",projectId:"myattendanceproject-45c1b",storageBucket:"myattendanceproject-45c1b.appspot.com",messagingSenderId:"347137303283",appId:"1:347137303283:web:9369753f976dffcf65cd86"},HN=zw(GN),ut=DN(HN);function YN({onLoginSuccess:r}){const[e,n]=V.useState(""),[s,o]=V.useState(""),[u,h]=V.useState(""),[p,m]=V.useState(!0),g=Zp();V.useEffect(()=>{const S=localStorage.getItem("lastBirthId"),k=localStorage.getItem("lastPin");S&&n(S),k&&o(k)},[]);const v=async()=>{if(h(""),e.trim().length!==6||s.trim().length!==4){h("생년월일 6자리와 전화번호 뒤 4자리를 입력해주세요.");return}try{const S=BN(yn(ut,"students"),UN("birth",">=","")),k=(await ns(S)).docs.find(D=>{var T,R;const z=D.data(),K=(T=z.birth)==null?void 0:T.replace(/[^0-9]/g,""),X=(R=z.parentPhone)==null?void 0:R.replace(/[^0-9]/g,""),ae=(K==null?void 0:K.slice(-6))===e.trim(),ue=(X?X.slice(-4):null)===s.trim();return ae&&ue});if(k){const D=k.data(),T=k.id;localStorage.setItem("studentId",T),localStorage.setItem("studentName",D.name),p?(localStorage.setItem("lastBirthId",e),localStorage.setItem("lastPin",s)):(localStorage.removeItem("lastBirthId"),localStorage.removeItem("lastPin")),await b1(yn(ut,"parentLogins"),{studentName:D.name,loginTime:new Date().toISOString()}),r&&r(),g("/attendance")}else h("아이디 또는 비밀번호가 일치하지 않습니다.")}catch{h("로그인 중 오류가 발생했습니다.")}};return _.jsxs("div",{className:"container",style:{textAlign:"center"},children:[_.jsx("h1",{style:{fontSize:"24px"},children:"학부모 로그인"}),_.jsx("input",{style:{width:"100%",padding:8,margin:"8px 0"},value:e,onChange:S=>{const k=S.target.value.replace(/\D/g,"");n(k),p&&localStorage.setItem("lastBirthId",k)},placeholder:"자녀 생년월일 6자리 (예: 170806)",maxLength:6}),_.jsx("input",{style:{width:"100%",padding:8,margin:"8px 0"},value:s,onChange:S=>{const k=S.target.value.replace(/\D/g,"");o(k),p&&localStorage.setItem("lastPin",k)},placeholder:"전화번호 뒤 4자리",maxLength:4,type:"password"}),_.jsx("div",{style:{margin:"8px 0",textAlign:"left"},children:_.jsxs("label",{children:[_.jsx("input",{type:"checkbox",checked:p,onChange:S=>m(S.target.checked),style:{marginRight:8}}),"자동입력 기억하기"]})}),_.jsx("button",{style:{width:"100%",padding:8,margin:"8px 0"},onClick:v,children:"로그인"}),u&&_.jsx("p",{style:{color:"red"},children:u})]})}function S1(r){var e,n,s="";if(typeof r=="string"||typeof r=="number")s+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(e=0;e<o;e++)r[e]&&(n=S1(r[e]))&&(s&&(s+=" "),s+=n)}else for(n in r)r[n]&&(s&&(s+=" "),s+=n);return s}function Fd(){for(var r,e,n=0,s="",o=arguments.length;n<o;n++)(r=arguments[n])&&(e=S1(r))&&(s&&(s+=" "),s+=e);return s}var ep,$0;function QN(){if($0)return ep;$0=1;const r=(p,m,g,v)=>{if(g==="length"||g==="prototype"||g==="arguments"||g==="caller")return;const S=Object.getOwnPropertyDescriptor(p,g),k=Object.getOwnPropertyDescriptor(m,g);!e(S,k)&&v||Object.defineProperty(p,g,k)},e=function(p,m){return p===void 0||p.configurable||p.writable===m.writable&&p.enumerable===m.enumerable&&p.configurable===m.configurable&&(p.writable||p.value===m.value)},n=(p,m)=>{const g=Object.getPrototypeOf(m);g!==Object.getPrototypeOf(p)&&Object.setPrototypeOf(p,g)},s=(p,m)=>`/* Wrapped ${p}*/
${m}`,o=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),u=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),h=(p,m,g)=>{const v=g===""?"":`with ${g.trim()}() `,S=s.bind(null,v,m.toString());Object.defineProperty(S,"name",u),Object.defineProperty(p,"toString",{...o,value:S})};return ep=(p,m,{ignoreNonConfigurable:g=!1}={})=>{const{name:v}=p;for(const S of Reflect.ownKeys(m))r(p,m,S,g);return n(p,m),h(p,m,v),p},ep}var Gc={exports:{}},q0,K0;function JN(){return K0||(K0=1,q0=()=>{const r={};return r.promise=new Promise((e,n)=>{r.resolve=e,r.reject=n}),r}),q0}var Rc=Gc.exports,W0;function XN(){return W0||(W0=1,function(r,e){var n=Rc&&Rc.__awaiter||function(h,p,m,g){return new(m||(m=Promise))(function(v,S){function k(R){try{T(g.next(R))}catch(z){S(z)}}function D(R){try{T(g.throw(R))}catch(z){S(z)}}function T(R){R.done?v(R.value):new m(function(z){z(R.value)}).then(k,D)}T((g=g.apply(h,p||[])).next())})},s=Rc&&Rc.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(e,"__esModule",{value:!0});const o=s(JN());function u(h,p="maxAge"){let m,g,v;const S=()=>n(this,void 0,void 0,function*(){if(m!==void 0)return;const T=R=>n(this,void 0,void 0,function*(){v=o.default();const z=R[1][p]-Date.now();if(z<=0){h.delete(R[0]),v.resolve();return}return m=R[0],g=setTimeout(()=>{h.delete(R[0]),v&&v.resolve()},z),typeof g.unref=="function"&&g.unref(),v.promise});try{for(const R of h)yield T(R)}catch{}m=void 0}),k=()=>{m=void 0,g!==void 0&&(clearTimeout(g),g=void 0),v!==void 0&&(v.reject(void 0),v=void 0)},D=h.set.bind(h);return h.set=(T,R)=>{h.has(T)&&h.delete(T);const z=D(T,R);return m&&m===T&&k(),S(),z},S(),h}e.default=u,r.exports=u,r.exports.default=u}(Gc,Gc.exports)),Gc.exports}var tp,G0;function ZN(){if(G0)return tp;G0=1;const r=QN(),e=XN(),n=new WeakMap,s=new WeakMap,o=(u,{cacheKey:h,cache:p=new Map,maxAge:m}={})=>{typeof m=="number"&&e(p);const g=function(...v){const S=h?h(v):v[0],k=p.get(S);if(k)return k.data;const D=u.apply(this,v);return p.set(S,{data:D,maxAge:m?Date.now()+m:Number.POSITIVE_INFINITY}),D};return r(g,u,{ignoreNonConfigurable:!0}),s.set(g,p),g};return o.decorator=(u={})=>(h,p,m)=>{const g=h[p];if(typeof g!="function")throw new TypeError("The decorated value must be a function");delete m.value,delete m.writable,m.get=function(){if(!n.has(this)){const v=o(g,u);return n.set(this,v),v}return n.get(this)}},o.clear=u=>{const h=s.get(u);if(!h)throw new TypeError("Can't clear a function that was not memoized!");if(typeof h.clear!="function")throw new TypeError("The cache Map can't be cleared!");h.clear()},tp=o,tp}var eA=ZN();const k1=SE(eA);function tA(r){return typeof r=="string"}function nA(r,e,n){return n.indexOf(r)===e}function rA(r){return r.toLowerCase()===r}function H0(r){return r.indexOf(",")===-1?r:r.split(",")}function Lp(r){if(!r)return r;if(r==="C"||r==="posix"||r==="POSIX")return"en-US";if(r.indexOf(".")!==-1){var e=r.split(".")[0],n=e===void 0?"":e;return Lp(n)}if(r.indexOf("@")!==-1){var s=r.split("@")[0],n=s===void 0?"":s;return Lp(n)}if(r.indexOf("-")===-1||!rA(r))return r;var o=r.split("-"),u=o[0],h=o[1],p=h===void 0?"":h;return"".concat(u,"-").concat(p.toUpperCase())}function aA(r){var e=r===void 0?{}:r,n=e.useFallbackLocale,s=n===void 0?!0:n,o=e.fallbackLocale,u=o===void 0?"en-US":o,h=[];if(typeof navigator<"u"){for(var p=navigator.languages||[],m=[],g=0,v=p;g<v.length;g++){var S=v[g];m=m.concat(H0(S))}var k=navigator.language,D=k&&H0(k);h=h.concat(m,D)}return s&&h.push(u),h.filter(tA).map(Lp).filter(nA)}var sA=k1(aA,{cacheKey:JSON.stringify});function iA(r){return sA(r)[0]||null}var E1=k1(iA,{cacheKey:JSON.stringify});function ba(r,e,n){return function(s,o){o===void 0&&(o=n);var u=r(s)+o;return e(u)}}function ou(r){return function(e){return new Date(r(e).getTime()-1)}}function lu(r,e){return function(n){return[r(n),e(n)]}}function yt(r){if(r instanceof Date)return r.getFullYear();if(typeof r=="number")return r;var e=parseInt(r,10);if(typeof r=="string"&&!isNaN(e))return e;throw new Error("Failed to get year from date: ".concat(r,"."))}function hs(r){if(r instanceof Date)return r.getMonth();throw new Error("Failed to get month from date: ".concat(r,"."))}function jd(r){if(r instanceof Date)return r.getDate();throw new Error("Failed to get year from date: ".concat(r,"."))}function Co(r){var e=yt(r),n=e+(-e+1)%100,s=new Date;return s.setFullYear(n,0,1),s.setHours(0,0,0,0),s}var oA=ba(yt,Co,-100),x1=ba(yt,Co,100),Wm=ou(x1),lA=ba(yt,Wm,-100),C1=lu(Co,Wm);function fs(r){var e=yt(r),n=e+(-e+1)%10,s=new Date;return s.setFullYear(n,0,1),s.setHours(0,0,0,0),s}var _1=ba(yt,fs,-10),Gm=ba(yt,fs,10),zd=ou(Gm),T1=ba(yt,zd,-10),N1=lu(fs,zd);function _o(r){var e=yt(r),n=new Date;return n.setFullYear(e,0,1),n.setHours(0,0,0,0),n}var A1=ba(yt,_o,-1),Hm=ba(yt,_o,1),Vd=ou(Hm),D1=ba(yt,Vd,-1),uA=lu(_o,Vd);function Ym(r,e){return function(n,s){s===void 0&&(s=e);var o=yt(n),u=hs(n)+s,h=new Date;return h.setFullYear(o,u,1),h.setHours(0,0,0,0),r(h)}}function oi(r){var e=yt(r),n=hs(r),s=new Date;return s.setFullYear(e,n,1),s.setHours(0,0,0,0),s}var I1=Ym(oi,-1),Qm=Ym(oi,1),uu=ou(Qm),O1=Ym(uu,-1),cA=lu(oi,uu);function dA(r,e){return function(n,s){s===void 0&&(s=e);var o=yt(n),u=hs(n),h=jd(n)+s,p=new Date;return p.setFullYear(o,u,h),p.setHours(0,0,0,0),r(p)}}function cu(r){var e=yt(r),n=hs(r),s=jd(r),o=new Date;return o.setFullYear(e,n,s),o.setHours(0,0,0,0),o}var hA=dA(cu,1),Jm=ou(hA),fA=lu(cu,Jm);function P1(r){return jd(uu(r))}var nn={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},pA={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},Xm=[0,1,2,3,4,5,6],np=new Map;function mA(r){return function(e,n){var s=e||E1();np.has(s)||np.set(s,new Map);var o=np.get(s);return o.has(r)||o.set(r,new Intl.DateTimeFormat(s||void 0,r).format),o.get(r)(n)}}function gA(r){var e=new Date(r);return new Date(e.setHours(12))}function li(r){return function(e,n){return mA(r)(e,gA(n))}}var yA={day:"numeric"},vA={day:"numeric",month:"long",year:"numeric"},bA={month:"long"},wA={month:"long",year:"numeric"},SA={weekday:"short"},kA={weekday:"long"},EA={year:"numeric"},xA=li(yA),CA=li(vA),_A=li(bA),M1=li(wA),TA=li(SA),NA=li(kA),Bd=li(EA),AA=Xm[0],DA=Xm[5],Y0=Xm[6];function Ql(r,e){e===void 0&&(e=nn.ISO_8601);var n=r.getDay();switch(e){case nn.ISO_8601:return(n+6)%7;case nn.ISLAMIC:return(n+1)%7;case nn.HEBREW:case nn.GREGORY:return n;default:throw new Error("Unsupported calendar type.")}}function IA(r){var e=Co(r);return yt(e)}function OA(r){var e=fs(r);return yt(e)}function Rp(r,e){e===void 0&&(e=nn.ISO_8601);var n=yt(r),s=hs(r),o=r.getDate()-Ql(r,e);return new Date(n,s,o)}function PA(r,e){e===void 0&&(e=nn.ISO_8601);var n=e===nn.GREGORY?nn.GREGORY:nn.ISO_8601,s=Rp(r,e),o=yt(r)+1,u,h;do u=new Date(o,0,n===nn.ISO_8601?4:1),h=Rp(u,e),o-=1;while(r<h);return Math.round((s.getTime()-h.getTime())/(864e5*7))+1}function ti(r,e){switch(r){case"century":return Co(e);case"decade":return fs(e);case"year":return _o(e);case"month":return oi(e);case"day":return cu(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function MA(r,e){switch(r){case"century":return oA(e);case"decade":return _1(e);case"year":return A1(e);case"month":return I1(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function L1(r,e){switch(r){case"century":return x1(e);case"decade":return Gm(e);case"year":return Hm(e);case"month":return Qm(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function LA(r,e){switch(r){case"decade":return _1(e,-100);case"year":return A1(e,-10);case"month":return I1(e,-12);default:throw new Error("Invalid rangeType: ".concat(r))}}function RA(r,e){switch(r){case"decade":return Gm(e,100);case"year":return Hm(e,10);case"month":return Qm(e,12);default:throw new Error("Invalid rangeType: ".concat(r))}}function R1(r,e){switch(r){case"century":return Wm(e);case"decade":return zd(e);case"year":return Vd(e);case"month":return uu(e);case"day":return Jm(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function FA(r,e){switch(r){case"century":return lA(e);case"decade":return T1(e);case"year":return D1(e);case"month":return O1(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function jA(r,e){switch(r){case"decade":return T1(e,-100);case"year":return D1(e,-10);case"month":return O1(e,-12);default:throw new Error("Invalid rangeType: ".concat(r))}}function Q0(r,e){switch(r){case"century":return C1(e);case"decade":return N1(e);case"year":return uA(e);case"month":return cA(e);case"day":return fA(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function zA(r,e,n){var s=[e,n].sort(function(o,u){return o.getTime()-u.getTime()});return[ti(r,s[0]),R1(r,s[1])]}function F1(r,e,n){return n.map(function(s){return(e||Bd)(r,s)}).join(" – ")}function VA(r,e,n){return F1(r,e,C1(n))}function j1(r,e,n){return F1(r,e,N1(n))}function BA(r){return r.getDay()===new Date().getDay()}function z1(r,e){e===void 0&&(e=nn.ISO_8601);var n=r.getDay();switch(e){case nn.ISLAMIC:case nn.HEBREW:return n===DA||n===Y0;case nn.ISO_8601:case nn.GREGORY:return n===Y0||n===AA;default:throw new Error("Unsupported calendar type.")}}var Ir="react-calendar__navigation";function UA(r){var e=r.activeStartDate,n=r.drillUp,s=r.formatMonthYear,o=s===void 0?M1:s,u=r.formatYear,h=u===void 0?Bd:u,p=r.locale,m=r.maxDate,g=r.minDate,v=r.navigationAriaLabel,S=v===void 0?"":v,k=r.navigationAriaLive,D=r.navigationLabel,T=r.next2AriaLabel,R=T===void 0?"":T,z=r.next2Label,K=z===void 0?"»":z,X=r.nextAriaLabel,ae=X===void 0?"":X,ue=r.nextLabel,ce=ue===void 0?"›":ue,se=r.prev2AriaLabel,P=se===void 0?"":se,C=r.prev2Label,N=C===void 0?"«":C,M=r.prevAriaLabel,I=M===void 0?"":M,j=r.prevLabel,A=j===void 0?"‹":j,Ye=r.setActiveStartDate,et=r.showDoubleView,H=r.view,le=r.views,pe=le.indexOf(H)>0,be=H!=="century",L=MA(H,e),te=be?LA(H,e):void 0,oe=L1(H,e),re=be?RA(H,e):void 0,me=function(){if(L.getFullYear()<0)return!0;var st=FA(H,e);return g&&g>=st}(),Te=be&&function(){if(te.getFullYear()<0)return!0;var st=jA(H,e);return g&&g>=st}(),ve=m&&m<oe,ht=be&&m&&m<re;function Re(){Ye(L,"prev")}function vn(){Ye(te,"prev2")}function Fn(){Ye(oe,"next")}function _n(){Ye(re,"next2")}function jn(st){var Et=function(){switch(H){case"century":return VA(p,h,st);case"decade":return j1(p,h,st);case"year":return h(p,st);case"month":return o(p,st);default:throw new Error("Invalid view: ".concat(H,"."))}}();return D?D({date:st,label:Et,locale:p||E1()||void 0,view:H}):Et}function zn(){var st="".concat(Ir,"__label");return _.jsxs("button",{"aria-label":S,"aria-live":k,className:st,disabled:!pe,onClick:n,style:{flexGrow:1},type:"button",children:[_.jsx("span",{className:"".concat(st,"__labelText ").concat(st,"__labelText--from"),children:jn(e)}),et?_.jsxs(_.Fragment,{children:[_.jsx("span",{className:"".concat(st,"__divider"),children:" – "}),_.jsx("span",{className:"".concat(st,"__labelText ").concat(st,"__labelText--to"),children:jn(oe)})]}):null]})}return _.jsxs("div",{className:Ir,children:[N!==null&&be?_.jsx("button",{"aria-label":P,className:"".concat(Ir,"__arrow ").concat(Ir,"__prev2-button"),disabled:Te,onClick:vn,type:"button",children:N}):null,A!==null&&_.jsx("button",{"aria-label":I,className:"".concat(Ir,"__arrow ").concat(Ir,"__prev-button"),disabled:me,onClick:Re,type:"button",children:A}),zn(),ce!==null&&_.jsx("button",{"aria-label":ae,className:"".concat(Ir,"__arrow ").concat(Ir,"__next-button"),disabled:ve,onClick:Fn,type:"button",children:ce}),K!==null&&be?_.jsx("button",{"aria-label":R,className:"".concat(Ir,"__arrow ").concat(Ir,"__next2-button"),disabled:ht,onClick:_n,type:"button",children:K}):null]})}var so=function(){return so=Object.assign||function(r){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},so.apply(this,arguments)},$A=function(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n};function J0(r){return"".concat(r,"%")}function Zm(r){var e=r.children,n=r.className,s=r.count,o=r.direction,u=r.offset,h=r.style,p=r.wrap,m=$A(r,["children","className","count","direction","offset","style","wrap"]);return _.jsx("div",so({className:n,style:so({display:"flex",flexDirection:o,flexWrap:p?"wrap":"nowrap"},h)},m,{children:V.Children.map(e,function(g,v){var S=u&&v===0?J0(100*u/s):null;return V.cloneElement(g,so(so({},g.props),{style:{flexBasis:J0(100/s),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:S,marginInlineStart:S,marginInlineEnd:0}}))})}))}function qA(r,e,n){return e&&e>r?e:n&&n<r?n:r}function Jl(r,e){return e[0]<=r&&e[1]>=r}function KA(r,e){return r[0]<=e[0]&&r[1]>=e[1]}function V1(r,e){return Jl(r[0],e)||Jl(r[1],e)}function X0(r,e,n){var s=V1(e,r),o=[];if(s){o.push(n);var u=Jl(r[0],e),h=Jl(r[1],e);u&&o.push("".concat(n,"Start")),h&&o.push("".concat(n,"End")),u&&h&&o.push("".concat(n,"BothEnds"))}return o}function WA(r){return Array.isArray(r)?r[0]!==null&&r[1]!==null:r!==null}function GA(r){if(!r)throw new Error("args is required");var e=r.value,n=r.date,s=r.hover,o="react-calendar__tile",u=[o];if(!n)return u;var h=new Date,p=function(){if(Array.isArray(n))return n;var D=r.dateType;if(!D)throw new Error("dateType is required when date is not an array of two dates");return Q0(D,n)}();if(Jl(h,p)&&u.push("".concat(o,"--now")),!e||!WA(e))return u;var m=function(){if(Array.isArray(e))return e;var D=r.valueType;if(!D)throw new Error("valueType is required when value is not an array of two dates");return Q0(D,e)}();KA(m,p)?u.push("".concat(o,"--active")):V1(m,p)&&u.push("".concat(o,"--hasActive"));var g=X0(m,p,"".concat(o,"--range"));u.push.apply(u,g);var v=Array.isArray(e)?e:[e];if(s&&v.length===1){var S=s>m[0]?[m[0],s]:[s,m[0]],k=X0(S,p,"".concat(o,"--hover"));u.push.apply(u,k)}return u}function Ud(r){for(var e=r.className,n=r.count,s=n===void 0?3:n,o=r.dateTransform,u=r.dateType,h=r.end,p=r.hover,m=r.offset,g=r.renderTile,v=r.start,S=r.step,k=S===void 0?1:S,D=r.value,T=r.valueType,R=[],z=v;z<=h;z+=k){var K=o(z);R.push(g({classes:GA({date:K,dateType:u,hover:p,value:D,valueType:T}),date:K}))}return _.jsx(Zm,{className:e,count:s,offset:m,wrap:!0,children:R})}function $d(r){var e=r.activeStartDate,n=r.children,s=r.classes,o=r.date,u=r.formatAbbr,h=r.locale,p=r.maxDate,m=r.maxDateTransform,g=r.minDate,v=r.minDateTransform,S=r.onClick,k=r.onMouseOver,D=r.style,T=r.tileClassName,R=r.tileContent,z=r.tileDisabled,K=r.view,X=V.useMemo(function(){var ue={activeStartDate:e,date:o,view:K};return typeof T=="function"?T(ue):T},[e,o,T,K]),ae=V.useMemo(function(){var ue={activeStartDate:e,date:o,view:K};return typeof R=="function"?R(ue):R},[e,o,R,K]);return _.jsxs("button",{className:Fd(s,X),disabled:g&&v(g)>o||p&&m(p)<o||(z==null?void 0:z({activeStartDate:e,date:o,view:K})),onClick:S?function(ue){return S(o,ue)}:void 0,onFocus:k?function(){return k(o)}:void 0,onMouseOver:k?function(){return k(o)}:void 0,style:D,type:"button",children:[u?_.jsx("abbr",{"aria-label":u(h,o),children:n}):n,ae]})}var Fp=function(){return Fp=Object.assign||function(r){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Fp.apply(this,arguments)},HA=function(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n},Z0="react-calendar__century-view__decades__decade";function YA(r){var e=r.classes,n=e===void 0?[]:e,s=r.currentCentury,o=r.formatYear,u=o===void 0?Bd:o,h=HA(r,["classes","currentCentury","formatYear"]),p=h.date,m=h.locale,g=[];return n&&g.push.apply(g,n),g.push(Z0),Co(p).getFullYear()!==s&&g.push("".concat(Z0,"--neighboringCentury")),_.jsx($d,Fp({},h,{classes:g,maxDateTransform:zd,minDateTransform:fs,view:"century",children:j1(m,u,p)}))}var jp=function(){return jp=Object.assign||function(r){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},jp.apply(this,arguments)},ew=function(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n};function QA(r){var e=r.activeStartDate,n=r.hover,s=r.showNeighboringCentury,o=r.value,u=r.valueType,h=ew(r,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),p=IA(e),m=p+(s?119:99);return _.jsx(Ud,{className:"react-calendar__century-view__decades",dateTransform:fs,dateType:"decade",end:m,hover:n,renderTile:function(g){var v=g.date,S=ew(g,["date"]);return _.jsx(YA,jp({},h,S,{activeStartDate:e,currentCentury:p,date:v}),v.getTime())},start:p,step:10,value:o,valueType:u})}var zp=function(){return zp=Object.assign||function(r){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},zp.apply(this,arguments)};function JA(r){function e(){return _.jsx(QA,zp({},r))}return _.jsx("div",{className:"react-calendar__century-view",children:e()})}var Vp=function(){return Vp=Object.assign||function(r){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Vp.apply(this,arguments)},XA=function(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n},tw="react-calendar__decade-view__years__year";function ZA(r){var e=r.classes,n=e===void 0?[]:e,s=r.currentDecade,o=r.formatYear,u=o===void 0?Bd:o,h=XA(r,["classes","currentDecade","formatYear"]),p=h.date,m=h.locale,g=[];return n&&g.push.apply(g,n),g.push(tw),fs(p).getFullYear()!==s&&g.push("".concat(tw,"--neighboringDecade")),_.jsx($d,Vp({},h,{classes:g,maxDateTransform:Vd,minDateTransform:_o,view:"decade",children:u(m,p)}))}var Bp=function(){return Bp=Object.assign||function(r){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Bp.apply(this,arguments)},nw=function(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n};function eD(r){var e=r.activeStartDate,n=r.hover,s=r.showNeighboringDecade,o=r.value,u=r.valueType,h=nw(r,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),p=OA(e),m=p+(s?11:9);return _.jsx(Ud,{className:"react-calendar__decade-view__years",dateTransform:_o,dateType:"year",end:m,hover:n,renderTile:function(g){var v=g.date,S=nw(g,["date"]);return _.jsx(ZA,Bp({},h,S,{activeStartDate:e,currentDecade:p,date:v}),v.getTime())},start:p,value:o,valueType:u})}var Up=function(){return Up=Object.assign||function(r){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Up.apply(this,arguments)};function tD(r){function e(){return _.jsx(eD,Up({},r))}return _.jsx("div",{className:"react-calendar__decade-view",children:e()})}var $p=function(){return $p=Object.assign||function(r){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},$p.apply(this,arguments)},nD=function(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n},rw=function(r,e,n){if(n||arguments.length===2)for(var s=0,o=e.length,u;s<o;s++)(u||!(s in e))&&(u||(u=Array.prototype.slice.call(e,0,s)),u[s]=e[s]);return r.concat(u||Array.prototype.slice.call(e))},rD="react-calendar__year-view__months__month";function aD(r){var e=r.classes,n=e===void 0?[]:e,s=r.formatMonth,o=s===void 0?_A:s,u=r.formatMonthYear,h=u===void 0?M1:u,p=nD(r,["classes","formatMonth","formatMonthYear"]),m=p.date,g=p.locale;return _.jsx($d,$p({},p,{classes:rw(rw([],n,!0),[rD],!1),formatAbbr:h,maxDateTransform:uu,minDateTransform:oi,view:"year",children:o(g,m)}))}var qp=function(){return qp=Object.assign||function(r){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},qp.apply(this,arguments)},aw=function(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n};function sD(r){var e=r.activeStartDate,n=r.hover,s=r.value,o=r.valueType,u=aw(r,["activeStartDate","hover","value","valueType"]),h=0,p=11,m=yt(e);return _.jsx(Ud,{className:"react-calendar__year-view__months",dateTransform:function(g){var v=new Date;return v.setFullYear(m,g,1),oi(v)},dateType:"month",end:p,hover:n,renderTile:function(g){var v=g.date,S=aw(g,["date"]);return _.jsx(aD,qp({},u,S,{activeStartDate:e,date:v}),v.getTime())},start:h,value:s,valueType:o})}var Kp=function(){return Kp=Object.assign||function(r){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Kp.apply(this,arguments)};function iD(r){function e(){return _.jsx(sD,Kp({},r))}return _.jsx("div",{className:"react-calendar__year-view",children:e()})}var Wp=function(){return Wp=Object.assign||function(r){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Wp.apply(this,arguments)},oD=function(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n},rp="react-calendar__month-view__days__day";function lD(r){var e=r.calendarType,n=r.classes,s=n===void 0?[]:n,o=r.currentMonthIndex,u=r.formatDay,h=u===void 0?xA:u,p=r.formatLongDate,m=p===void 0?CA:p,g=oD(r,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),v=g.date,S=g.locale,k=[];return s&&k.push.apply(k,s),k.push(rp),z1(v,e)&&k.push("".concat(rp,"--weekend")),v.getMonth()!==o&&k.push("".concat(rp,"--neighboringMonth")),_.jsx($d,Wp({},g,{classes:k,formatAbbr:m,maxDateTransform:Jm,minDateTransform:cu,view:"month",children:h(S,v)}))}var Gp=function(){return Gp=Object.assign||function(r){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Gp.apply(this,arguments)},sw=function(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n};function uD(r){var e=r.activeStartDate,n=r.calendarType,s=r.hover,o=r.showFixedNumberOfWeeks,u=r.showNeighboringMonth,h=r.value,p=r.valueType,m=sw(r,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),g=yt(e),v=hs(e),S=o||u,k=Ql(e,n),D=S?0:k,T=(S?-k:0)+1,R=function(){if(o)return T+6*7-1;var z=P1(e);if(u){var K=new Date;K.setFullYear(g,v,z),K.setHours(0,0,0,0);var X=7-Ql(K,n)-1;return z+X}return z}();return _.jsx(Ud,{className:"react-calendar__month-view__days",count:7,dateTransform:function(z){var K=new Date;return K.setFullYear(g,v,z),cu(K)},dateType:"day",hover:s,end:R,renderTile:function(z){var K=z.date,X=sw(z,["date"]);return _.jsx(lD,Gp({},m,X,{activeStartDate:e,calendarType:n,currentMonthIndex:v,date:K}),K.getTime())},offset:D,start:T,value:h,valueType:p})}var B1="react-calendar__month-view__weekdays",ap="".concat(B1,"__weekday");function cD(r){for(var e=r.calendarType,n=r.formatShortWeekday,s=n===void 0?TA:n,o=r.formatWeekday,u=o===void 0?NA:o,h=r.locale,p=r.onMouseLeave,m=new Date,g=oi(m),v=yt(g),S=hs(g),k=[],D=1;D<=7;D+=1){var T=new Date(v,S,D-Ql(g,e)),R=u(h,T);k.push(_.jsx("div",{className:Fd(ap,BA(T)&&"".concat(ap,"--current"),z1(T,e)&&"".concat(ap,"--weekend")),children:_.jsx("abbr",{"aria-label":R,title:R,children:s(h,T).replace(".","")})},D))}return _.jsx(Zm,{className:B1,count:7,onFocus:p,onMouseOver:p,children:k})}var fd=function(){return fd=Object.assign||function(r){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},fd.apply(this,arguments)},iw=function(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n},ow="react-calendar__tile";function dD(r){var e=r.onClickWeekNumber,n=r.weekNumber,s=_.jsx("span",{children:n});if(e){var o=r.date,u=r.onClickWeekNumber,h=r.weekNumber,p=iw(r,["date","onClickWeekNumber","weekNumber"]);return _.jsx("button",fd({},p,{className:ow,onClick:function(m){return u(h,o,m)},type:"button",children:s}))}else{r.date,r.onClickWeekNumber,r.weekNumber;var p=iw(r,["date","onClickWeekNumber","weekNumber"]);return _.jsx("div",fd({},p,{className:ow,children:s}))}}function hD(r){var e=r.activeStartDate,n=r.calendarType,s=r.onClickWeekNumber,o=r.onMouseLeave,u=r.showFixedNumberOfWeeks,h=function(){if(u)return 6;var g=P1(e),v=Ql(e,n),S=g-(7-v);return 1+Math.ceil(S/7)}(),p=function(){for(var g=yt(e),v=hs(e),S=jd(e),k=[],D=0;D<h;D+=1)k.push(Rp(new Date(g,v,S+D*7),n));return k}(),m=p.map(function(g){return PA(g,n)});return _.jsx(Zm,{className:"react-calendar__month-view__weekNumbers",count:h,direction:"column",onFocus:o,onMouseOver:o,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:m.map(function(g,v){var S=p[v];if(!S)throw new Error("date is not defined");return _.jsx(dD,{date:S,onClickWeekNumber:s,weekNumber:g},g)})})}var Hp=function(){return Hp=Object.assign||function(r){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Hp.apply(this,arguments)},fD=function(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n};function pD(r){if(r)for(var e=0,n=Object.entries(pA);e<n.length;e++){var s=n[e],o=s[0],u=s[1];if(u.includes(r))return o}return nn.ISO_8601}function mD(r){var e=r.activeStartDate,n=r.locale,s=r.onMouseLeave,o=r.showFixedNumberOfWeeks,u=r.calendarType,h=u===void 0?pD(n):u,p=r.formatShortWeekday,m=r.formatWeekday,g=r.onClickWeekNumber,v=r.showWeekNumbers,S=fD(r,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function k(){return _.jsx(cD,{calendarType:h,formatShortWeekday:p,formatWeekday:m,locale:n,onMouseLeave:s})}function D(){return v?_.jsx(hD,{activeStartDate:e,calendarType:h,onClickWeekNumber:g,onMouseLeave:s,showFixedNumberOfWeeks:o}):null}function T(){return _.jsx(uD,Hp({calendarType:h},S))}var R="react-calendar__month-view";return _.jsx("div",{className:Fd(R,v?"".concat(R,"--weekNumbers"):""),children:_.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[D(),_.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[k(),T()]})]})})}var io=function(){return io=Object.assign||function(r){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},io.apply(this,arguments)},Fc="react-calendar",Hc=["century","decade","year","month"],gD=["decade","year","month","day"],eg=new Date;eg.setFullYear(1,0,1);eg.setHours(0,0,0,0);var yD=new Date(864e13);function Rl(r){return r instanceof Date?r:new Date(r)}function U1(r,e){return Hc.slice(Hc.indexOf(r),Hc.indexOf(e)+1)}function vD(r,e,n){var s=U1(e,n);return s.indexOf(r)!==-1}function tg(r,e,n){return r&&vD(r,e,n)?r:n}function $1(r){var e=Hc.indexOf(r);return gD[e]}function bD(r,e){var n=Array.isArray(r)?r[e]:r;if(!n)return null;var s=Rl(n);if(Number.isNaN(s.getTime()))throw new Error("Invalid date: ".concat(r));return s}function q1(r,e){var n=r.value,s=r.minDate,o=r.maxDate,u=r.maxDetail,h=bD(n,e);if(!h)return null;var p=$1(u),m=function(){switch(e){case 0:return ti(p,h);case 1:return R1(p,h);default:throw new Error("Invalid index value: ".concat(e))}}();return qA(m,s,o)}var ng=function(r){return q1(r,0)},K1=function(r){return q1(r,1)},wD=function(r){return[ng,K1].map(function(e){return e(r)})};function W1(r){var e=r.maxDate,n=r.maxDetail,s=r.minDate,o=r.minDetail,u=r.value,h=r.view,p=tg(h,o,n),m=ng({value:u,minDate:s,maxDate:e,maxDetail:n})||new Date;return ti(p,m)}function SD(r){var e=r.activeStartDate,n=r.defaultActiveStartDate,s=r.defaultValue,o=r.defaultView,u=r.maxDate,h=r.maxDetail,p=r.minDate,m=r.minDetail,g=r.value,v=r.view,S=tg(v,m,h),k=e||n;return k?ti(S,k):W1({maxDate:u,maxDetail:h,minDate:p,minDetail:m,value:g||s,view:v||o})}function sp(r){return r&&(!Array.isArray(r)||r.length===1)}function jc(r,e){return r instanceof Date&&e instanceof Date&&r.getTime()===e.getTime()}var kD=V.forwardRef(function(r,e){var n=r.activeStartDate,s=r.allowPartialRange,o=r.calendarType,u=r.className,h=r.defaultActiveStartDate,p=r.defaultValue,m=r.defaultView,g=r.formatDay,v=r.formatLongDate,S=r.formatMonth,k=r.formatMonthYear,D=r.formatShortWeekday,T=r.formatWeekday,R=r.formatYear,z=r.goToRangeStartOnSelect,K=z===void 0?!0:z,X=r.inputRef,ae=r.locale,ue=r.maxDate,ce=ue===void 0?yD:ue,se=r.maxDetail,P=se===void 0?"month":se,C=r.minDate,N=C===void 0?eg:C,M=r.minDetail,I=M===void 0?"century":M,j=r.navigationAriaLabel,A=r.navigationAriaLive,Ye=r.navigationLabel,et=r.next2AriaLabel,H=r.next2Label,le=r.nextAriaLabel,pe=r.nextLabel,be=r.onActiveStartDateChange,L=r.onChange,te=r.onClickDay,oe=r.onClickDecade,re=r.onClickMonth,me=r.onClickWeekNumber,Te=r.onClickYear,ve=r.onDrillDown,ht=r.onDrillUp,Re=r.onViewChange,vn=r.prev2AriaLabel,Fn=r.prev2Label,_n=r.prevAriaLabel,jn=r.prevLabel,zn=r.returnValue,st=zn===void 0?"start":zn,Et=r.selectRange,Fr=r.showDoubleView,hn=r.showFixedNumberOfWeeks,ui=r.showNavigation,ps=ui===void 0?!0:ui,wa=r.showNeighboringCentury,jr=r.showNeighboringDecade,ci=r.showNeighboringMonth,Sa=ci===void 0?!0:ci,ms=r.showWeekNumbers,di=r.tileClassName,ft=r.tileContent,qe=r.tileDisabled,Wt=r.value,Ot=r.view,gs=V.useState(h),To=gs[0],Vn=gs[1],pr=V.useState(null),zr=pr[0],bn=pr[1],Vr=V.useState(Array.isArray(p)?p.map(function(Ee){return Ee!==null?Rl(Ee):null}):p!=null?Rl(p):null),nr=Vr[0],ys=Vr[1],ka=V.useState(m),vs=ka[0],Bn=ka[1],pt=n||To||SD({activeStartDate:n,defaultActiveStartDate:h,defaultValue:p,defaultView:m,maxDate:ce,maxDetail:P,minDate:N,minDetail:I,value:Wt,view:Ot}),Tt=function(){var Ee=function(){return Et&&sp(nr)?nr:Wt!==void 0?Wt:nr}();return Ee?Array.isArray(Ee)?Ee.map(function(Ve){return Ve!==null?Rl(Ve):null}):Ee!==null?Rl(Ee):null:null}(),fn=$1(P),Qe=tg(Ot||vs,I,P),Pt=U1(I,P),Ea=Et?zr:null,Un=Pt.indexOf(Qe)<Pt.length-1,bs=Pt.indexOf(Qe)>0,it=V.useCallback(function(Ee){var Ve=function(){switch(st){case"start":return ng;case"end":return K1;case"range":return wD;default:throw new Error("Invalid returnValue.")}}();return Ve({maxDate:ce,maxDetail:P,minDate:N,value:Ee})},[ce,P,N,st]),vt=V.useCallback(function(Ee,Ve){Vn(Ee);var Me={action:Ve,activeStartDate:Ee,value:Tt,view:Qe};be&&!jc(pt,Ee)&&be(Me)},[pt,be,Tt,Qe]),ct=V.useCallback(function(Ee,Ve){var Me=function(){switch(Qe){case"century":return oe;case"decade":return Te;case"year":return re;case"month":return te;default:throw new Error("Invalid view: ".concat(Qe,"."))}}();Me&&Me(Ee,Ve)},[te,oe,re,Te,Qe]),an=V.useCallback(function(Ee,Ve){if(Un){ct(Ee,Ve);var Me=Pt[Pt.indexOf(Qe)+1];if(!Me)throw new Error("Attempted to drill down from the lowest view.");Vn(Ee),Bn(Me);var Be={action:"drillDown",activeStartDate:Ee,value:Tt,view:Me};be&&!jc(pt,Ee)&&be(Be),Re&&Qe!==Me&&Re(Be),ve&&ve(Be)}},[pt,Un,be,ct,ve,Re,Tt,Qe,Pt]),Br=V.useCallback(function(){if(bs){var Ee=Pt[Pt.indexOf(Qe)-1];if(!Ee)throw new Error("Attempted to drill up from the highest view.");var Ve=ti(Ee,pt);Vn(Ve),Bn(Ee);var Me={action:"drillUp",activeStartDate:Ve,value:Tt,view:Ee};be&&!jc(pt,Ve)&&be(Me),Re&&Qe!==Ee&&Re(Me),ht&&ht(Me)}},[pt,bs,be,ht,Re,Tt,Qe,Pt]),ws=V.useCallback(function(Ee,Ve){var Me=Tt;ct(Ee,Ve);var Be=Et&&!sp(Me),Gt;if(Et)if(Be)Gt=ti(fn,Ee);else{if(!Me)throw new Error("previousValue is required");if(Array.isArray(Me))throw new Error("previousValue must not be an array");Gt=zA(fn,Me,Ee)}else Gt=it(Ee);var vr=!Et||Be||K?W1({maxDate:ce,maxDetail:P,minDate:N,minDetail:I,value:Gt,view:Qe}):null;Ve.persist(),Vn(vr),ys(Gt);var Tn={action:"onChange",activeStartDate:vr,value:Gt,view:Qe};if(be&&!jc(pt,vr)&&be(Tn),L)if(Et){var ar=sp(Gt);if(!ar)L(Gt||null,Ve);else if(s){if(Array.isArray(Gt))throw new Error("value must not be an array");L([Gt||null,null],Ve)}}else L(Gt||null,Ve)},[pt,s,it,K,ce,P,N,I,be,L,ct,Et,Tt,fn,Qe]);function mr(Ee){bn(Ee)}function xa(){bn(null)}V.useImperativeHandle(e,function(){return{activeStartDate:pt,drillDown:an,drillUp:Br,onChange:ws,setActiveStartDate:vt,value:Tt,view:Qe}},[pt,an,Br,ws,vt,Tt,Qe]);function gr(Ee){var Ve=Ee?L1(Qe,pt):ti(Qe,pt),Me=Un?an:ws,Be={activeStartDate:Ve,hover:Ea,locale:ae,maxDate:ce,minDate:N,onClick:Me,onMouseOver:Et?mr:void 0,tileClassName:di,tileContent:ft,tileDisabled:qe,value:Tt,valueType:fn};switch(Qe){case"century":return _.jsx(JA,io({formatYear:R,showNeighboringCentury:wa},Be));case"decade":return _.jsx(tD,io({formatYear:R,showNeighboringDecade:jr},Be));case"year":return _.jsx(iD,io({formatMonth:S,formatMonthYear:k},Be));case"month":return _.jsx(mD,io({calendarType:o,formatDay:g,formatLongDate:v,formatShortWeekday:D,formatWeekday:T,onClickWeekNumber:me,onMouseLeave:Et?xa:void 0,showFixedNumberOfWeeks:typeof hn<"u"?hn:Fr,showNeighboringMonth:Sa,showWeekNumbers:ms},Be));default:throw new Error("Invalid view: ".concat(Qe,"."))}}function yr(){return ps?_.jsx(UA,{activeStartDate:pt,drillUp:Br,formatMonthYear:k,formatYear:R,locale:ae,maxDate:ce,minDate:N,navigationAriaLabel:j,navigationAriaLive:A,navigationLabel:Ye,next2AriaLabel:et,next2Label:H,nextAriaLabel:le,nextLabel:pe,prev2AriaLabel:vn,prev2Label:Fn,prevAriaLabel:_n,prevLabel:jn,setActiveStartDate:vt,showDoubleView:Fr,view:Qe,views:Pt}):null}var rr=Array.isArray(Tt)?Tt:[Tt];return _.jsxs("div",{className:Fd(Fc,Et&&rr.length===1&&"".concat(Fc,"--selectRange"),Fr&&"".concat(Fc,"--doubleView"),u),ref:X,children:[yr(),_.jsxs("div",{className:"".concat(Fc,"__viewContainer"),onBlur:Et?xa:void 0,onMouseLeave:Et?xa:void 0,children:[gr(),Fr?gr(!0):null]})]})});const G1=6048e5,ED=864e5,lw=Symbol.for("constructDateFrom");function us(r,e){return typeof r=="function"?r(e):r&&typeof r=="object"&&lw in r?r[lw](e):r instanceof Date?new r.constructor(e):new Date(e)}function fr(r,e){return us(e||r,r)}let xD={};function qd(){return xD}function Xl(r,e){var n,s,o,u;const h=qd(),p=(e==null?void 0:e.weekStartsOn)??((s=(n=e==null?void 0:e.locale)==null?void 0:n.options)==null?void 0:s.weekStartsOn)??h.weekStartsOn??((u=(o=h.locale)==null?void 0:o.options)==null?void 0:u.weekStartsOn)??0,m=fr(r,e==null?void 0:e.in),g=m.getDay(),v=(g<p?7:0)+g-p;return m.setDate(m.getDate()-v),m.setHours(0,0,0,0),m}function pd(r,e){return Xl(r,{...e,weekStartsOn:1})}function H1(r,e){const n=fr(r,void 0),s=n.getFullYear(),o=us(n,0);o.setFullYear(s+1,0,4),o.setHours(0,0,0,0);const u=pd(o),h=us(n,0);h.setFullYear(s,0,4),h.setHours(0,0,0,0);const p=pd(h);return n.getTime()>=u.getTime()?s+1:n.getTime()>=p.getTime()?s:s-1}function uw(r){const e=fr(r),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+r-+n}function CD(r,...e){const n=us.bind(null,e.find(s=>typeof s=="object"));return e.map(n)}function cw(r,e){const n=fr(r,void 0);return n.setHours(0,0,0,0),n}function _D(r,e,n){const[s,o]=CD(void 0,r,e),u=cw(s),h=cw(o),p=+u-uw(u),m=+h-uw(h);return Math.round((p-m)/ED)}function TD(r,e){const n=H1(r),s=us(r,0);return s.setFullYear(n,0,4),s.setHours(0,0,0,0),pd(s)}function ND(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function AD(r){return!(!ND(r)&&typeof r!="number"||isNaN(+fr(r)))}function DD(r,e){const n=fr(r,void 0);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const ID={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},OD=(r,e,n)=>{let s;const o=ID[r];return typeof o=="string"?s=o:e===1?s=o.one:s=o.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function ip(r){return(e={})=>{const n=e.width?String(e.width):r.defaultWidth;return r.formats[n]||r.formats[r.defaultWidth]}}const PD={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},MD={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},LD={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},RD={date:ip({formats:PD,defaultWidth:"full"}),time:ip({formats:MD,defaultWidth:"full"}),dateTime:ip({formats:LD,defaultWidth:"full"})},FD={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},jD=(r,e,n,s)=>FD[r];function Dl(r){return(e,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let o;if(s==="formatting"&&r.formattingValues){const h=r.defaultFormattingWidth||r.defaultWidth,p=n!=null&&n.width?String(n.width):h;o=r.formattingValues[p]||r.formattingValues[h]}else{const h=r.defaultWidth,p=n!=null&&n.width?String(n.width):r.defaultWidth;o=r.values[p]||r.values[h]}const u=r.argumentCallback?r.argumentCallback(e):e;return o[u]}}const zD={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},VD={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},BD={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},UD={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},$D={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},qD={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},KD=(r,e)=>{const n=Number(r),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},WD={ordinalNumber:KD,era:Dl({values:zD,defaultWidth:"wide"}),quarter:Dl({values:VD,defaultWidth:"wide",argumentCallback:r=>r-1}),month:Dl({values:BD,defaultWidth:"wide"}),day:Dl({values:UD,defaultWidth:"wide"}),dayPeriod:Dl({values:$D,defaultWidth:"wide",formattingValues:qD,defaultFormattingWidth:"wide"})};function Il(r){return(e,n={})=>{const s=n.width,o=s&&r.matchPatterns[s]||r.matchPatterns[r.defaultMatchWidth],u=e.match(o);if(!u)return null;const h=u[0],p=s&&r.parsePatterns[s]||r.parsePatterns[r.defaultParseWidth],m=Array.isArray(p)?HD(p,S=>S.test(h)):GD(p,S=>S.test(h));let g;g=r.valueCallback?r.valueCallback(m):m,g=n.valueCallback?n.valueCallback(g):g;const v=e.slice(h.length);return{value:g,rest:v}}}function GD(r,e){for(const n in r)if(Object.prototype.hasOwnProperty.call(r,n)&&e(r[n]))return n}function HD(r,e){for(let n=0;n<r.length;n++)if(e(r[n]))return n}function YD(r){return(e,n={})=>{const s=e.match(r.matchPattern);if(!s)return null;const o=s[0],u=e.match(r.parsePattern);if(!u)return null;let h=r.valueCallback?r.valueCallback(u[0]):u[0];h=n.valueCallback?n.valueCallback(h):h;const p=e.slice(o.length);return{value:h,rest:p}}}const QD=/^(\d+)(th|st|nd|rd)?/i,JD=/\d+/i,XD={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ZD={any:[/^b/i,/^(a|c)/i]},eI={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},tI={any:[/1/i,/2/i,/3/i,/4/i]},nI={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},rI={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},aI={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},sI={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},iI={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},oI={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},lI={ordinalNumber:YD({matchPattern:QD,parsePattern:JD,valueCallback:r=>parseInt(r,10)}),era:Il({matchPatterns:XD,defaultMatchWidth:"wide",parsePatterns:ZD,defaultParseWidth:"any"}),quarter:Il({matchPatterns:eI,defaultMatchWidth:"wide",parsePatterns:tI,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Il({matchPatterns:nI,defaultMatchWidth:"wide",parsePatterns:rI,defaultParseWidth:"any"}),day:Il({matchPatterns:aI,defaultMatchWidth:"wide",parsePatterns:sI,defaultParseWidth:"any"}),dayPeriod:Il({matchPatterns:iI,defaultMatchWidth:"any",parsePatterns:oI,defaultParseWidth:"any"})},uI={code:"en-US",formatDistance:OD,formatLong:RD,formatRelative:jD,localize:WD,match:lI,options:{weekStartsOn:0,firstWeekContainsDate:1}};function cI(r,e){const n=fr(r,void 0);return _D(n,DD(n))+1}function dI(r,e){const n=fr(r,void 0),s=+pd(n)-+TD(n);return Math.round(s/G1)+1}function Y1(r,e){var n,s,o,u;const h=fr(r,e==null?void 0:e.in),p=h.getFullYear(),m=qd(),g=(e==null?void 0:e.firstWeekContainsDate)??((s=(n=e==null?void 0:e.locale)==null?void 0:n.options)==null?void 0:s.firstWeekContainsDate)??m.firstWeekContainsDate??((u=(o=m.locale)==null?void 0:o.options)==null?void 0:u.firstWeekContainsDate)??1,v=us((e==null?void 0:e.in)||r,0);v.setFullYear(p+1,0,g),v.setHours(0,0,0,0);const S=Xl(v,e),k=us((e==null?void 0:e.in)||r,0);k.setFullYear(p,0,g),k.setHours(0,0,0,0);const D=Xl(k,e);return+h>=+S?p+1:+h>=+D?p:p-1}function hI(r,e){var n,s,o,u;const h=qd(),p=(e==null?void 0:e.firstWeekContainsDate)??((s=(n=e==null?void 0:e.locale)==null?void 0:n.options)==null?void 0:s.firstWeekContainsDate)??h.firstWeekContainsDate??((u=(o=h.locale)==null?void 0:o.options)==null?void 0:u.firstWeekContainsDate)??1,m=Y1(r,e),g=us((e==null?void 0:e.in)||r,0);return g.setFullYear(m,0,p),g.setHours(0,0,0,0),Xl(g,e)}function fI(r,e){const n=fr(r,e==null?void 0:e.in),s=+Xl(n,e)-+hI(n,e);return Math.round(s/G1)+1}function Ze(r,e){const n=r<0?"-":"",s=Math.abs(r).toString().padStart(e,"0");return n+s}const Ya={y(r,e){const n=r.getFullYear(),s=n>0?n:1-n;return Ze(e==="yy"?s%100:s,e.length)},M(r,e){const n=r.getMonth();return e==="M"?String(n+1):Ze(n+1,2)},d(r,e){return Ze(r.getDate(),e.length)},a(r,e){const n=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(r,e){return Ze(r.getHours()%12||12,e.length)},H(r,e){return Ze(r.getHours(),e.length)},m(r,e){return Ze(r.getMinutes(),e.length)},s(r,e){return Ze(r.getSeconds(),e.length)},S(r,e){const n=e.length,s=r.getMilliseconds(),o=Math.trunc(s*Math.pow(10,n-3));return Ze(o,e.length)}},Zi={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},dw={G:function(r,e,n){const s=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(r,e,n){if(e==="yo"){const s=r.getFullYear(),o=s>0?s:1-s;return n.ordinalNumber(o,{unit:"year"})}return Ya.y(r,e)},Y:function(r,e,n,s){const o=Y1(r,s),u=o>0?o:1-o;if(e==="YY"){const h=u%100;return Ze(h,2)}return e==="Yo"?n.ordinalNumber(u,{unit:"year"}):Ze(u,e.length)},R:function(r,e){const n=H1(r);return Ze(n,e.length)},u:function(r,e){const n=r.getFullYear();return Ze(n,e.length)},Q:function(r,e,n){const s=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return Ze(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(r,e,n){const s=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return Ze(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(r,e,n){const s=r.getMonth();switch(e){case"M":case"MM":return Ya.M(r,e);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(r,e,n){const s=r.getMonth();switch(e){case"L":return String(s+1);case"LL":return Ze(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(r,e,n,s){const o=fI(r,s);return e==="wo"?n.ordinalNumber(o,{unit:"week"}):Ze(o,e.length)},I:function(r,e,n){const s=dI(r);return e==="Io"?n.ordinalNumber(s,{unit:"week"}):Ze(s,e.length)},d:function(r,e,n){return e==="do"?n.ordinalNumber(r.getDate(),{unit:"date"}):Ya.d(r,e)},D:function(r,e,n){const s=cI(r);return e==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):Ze(s,e.length)},E:function(r,e,n){const s=r.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(r,e,n,s){const o=r.getDay(),u=(o-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(u);case"ee":return Ze(u,2);case"eo":return n.ordinalNumber(u,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(r,e,n,s){const o=r.getDay(),u=(o-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(u);case"cc":return Ze(u,e.length);case"co":return n.ordinalNumber(u,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(r,e,n){const s=r.getDay(),o=s===0?7:s;switch(e){case"i":return String(o);case"ii":return Ze(o,e.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(r,e,n){const s=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(r,e,n){const s=r.getHours();let o;switch(s===12?o=Zi.noon:s===0?o=Zi.midnight:o=s/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(r,e,n){const s=r.getHours();let o;switch(s>=17?o=Zi.evening:s>=12?o=Zi.afternoon:s>=4?o=Zi.morning:o=Zi.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(r,e,n){if(e==="ho"){let s=r.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return Ya.h(r,e)},H:function(r,e,n){return e==="Ho"?n.ordinalNumber(r.getHours(),{unit:"hour"}):Ya.H(r,e)},K:function(r,e,n){const s=r.getHours()%12;return e==="Ko"?n.ordinalNumber(s,{unit:"hour"}):Ze(s,e.length)},k:function(r,e,n){let s=r.getHours();return s===0&&(s=24),e==="ko"?n.ordinalNumber(s,{unit:"hour"}):Ze(s,e.length)},m:function(r,e,n){return e==="mo"?n.ordinalNumber(r.getMinutes(),{unit:"minute"}):Ya.m(r,e)},s:function(r,e,n){return e==="so"?n.ordinalNumber(r.getSeconds(),{unit:"second"}):Ya.s(r,e)},S:function(r,e){return Ya.S(r,e)},X:function(r,e,n){const s=r.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return fw(s);case"XXXX":case"XX":return Zs(s);case"XXXXX":case"XXX":default:return Zs(s,":")}},x:function(r,e,n){const s=r.getTimezoneOffset();switch(e){case"x":return fw(s);case"xxxx":case"xx":return Zs(s);case"xxxxx":case"xxx":default:return Zs(s,":")}},O:function(r,e,n){const s=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+hw(s,":");case"OOOO":default:return"GMT"+Zs(s,":")}},z:function(r,e,n){const s=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+hw(s,":");case"zzzz":default:return"GMT"+Zs(s,":")}},t:function(r,e,n){const s=Math.trunc(+r/1e3);return Ze(s,e.length)},T:function(r,e,n){return Ze(+r,e.length)}};function hw(r,e=""){const n=r>0?"-":"+",s=Math.abs(r),o=Math.trunc(s/60),u=s%60;return u===0?n+String(o):n+String(o)+e+Ze(u,2)}function fw(r,e){return r%60===0?(r>0?"-":"+")+Ze(Math.abs(r)/60,2):Zs(r,e)}function Zs(r,e=""){const n=r>0?"-":"+",s=Math.abs(r),o=Ze(Math.trunc(s/60),2),u=Ze(s%60,2);return n+o+e+u}const pw=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Q1=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},pI=(r,e)=>{const n=r.match(/(P+)(p+)?/)||[],s=n[1],o=n[2];if(!o)return pw(r,e);let u;switch(s){case"P":u=e.dateTime({width:"short"});break;case"PP":u=e.dateTime({width:"medium"});break;case"PPP":u=e.dateTime({width:"long"});break;case"PPPP":default:u=e.dateTime({width:"full"});break}return u.replace("{{date}}",pw(s,e)).replace("{{time}}",Q1(o,e))},mI={p:Q1,P:pI},gI=/^D+$/,yI=/^Y+$/,vI=["D","DD","YY","YYYY"];function bI(r){return gI.test(r)}function wI(r){return yI.test(r)}function SI(r,e,n){const s=kI(r,e,n);if(console.warn(s),vI.includes(r))throw new RangeError(s)}function kI(r,e,n){const s=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const EI=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,xI=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,CI=/^'([^]*?)'?$/,_I=/''/g,TI=/[a-zA-Z]/;function mw(r,e,n){var s,o,u,h;const p=qd(),m=p.locale??uI,g=p.firstWeekContainsDate??((o=(s=p.locale)==null?void 0:s.options)==null?void 0:o.firstWeekContainsDate)??1,v=p.weekStartsOn??((h=(u=p.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??0,S=fr(r,void 0);if(!AD(S))throw new RangeError("Invalid time value");let k=e.match(xI).map(T=>{const R=T[0];if(R==="p"||R==="P"){const z=mI[R];return z(T,m.formatLong)}return T}).join("").match(EI).map(T=>{if(T==="''")return{isToken:!1,value:"'"};const R=T[0];if(R==="'")return{isToken:!1,value:NI(T)};if(dw[R])return{isToken:!0,value:T};if(R.match(TI))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");return{isToken:!1,value:T}});m.localize.preprocessor&&(k=m.localize.preprocessor(S,k));const D={firstWeekContainsDate:g,weekStartsOn:v,locale:m};return k.map(T=>{if(!T.isToken)return T.value;const R=T.value;(wI(R)||bI(R))&&SI(R,e,String(r));const z=dw[R[0]];return z(S,R,m.localize,D)}).join("")}function NI(r){const e=r.match(CI);return e?e[1].replace(_I,"'"):r}function gw(r,e,n,s=[]){const o={일:0,월:1,화:2,수:3,목:4,금:5,토:6};let u=[],h=new Date(r);for(;u.length<n;){const p=Object.keys(o).find(g=>o[g]===h.getDay()),m=h.toISOString().slice(0,10);e.includes(p)&&!s.includes(m)&&u.push({date:m,session:u.length+1}),h.setDate(h.getDate()+1)}return u}function AI(){const r=localStorage.getItem("studentId"),[e,n]=V.useState(null),[s,o]=V.useState({}),[u,h]=V.useState([]),[p,m]=V.useState([]),[g,v]=V.useState([]);return V.useEffect(()=>{if(!r)return;const S=ca(tr(ut,"students",r),k=>{if(k.exists()){const D=k.data();n({id:k.id,...D})}});return(async()=>{const k=await ns(yn(ut,"attendance")),D={};k.docs.forEach(T=>{D[T.id]=T.data()}),o(D)})(),(async()=>{const k=await ns(yn(ut,"makeups"));h(k.docs.map(D=>({id:D.id,...D.data()})))})(),(async()=>{const k=await ns(yn(ut,"holidays"));m(k.docs.map(D=>D.data().date))})(),()=>S()},[r]),V.useEffect(()=>{(async()=>{if(!e)return;const S=e.schedules.map(I=>I.day),k=S.length*4,D=k*10,T=[...p];let R=gw(e.startDate,S,D*2,T);const z=new Date(e.startDate).getDay();S.includes(z)&&(!R.length||R[0].date!==e.startDate)?(console.log(`✅ 첫날(${e.startDate})이 요일에 맞아서 추가됨`),R.unshift({date:e.startDate})):console.log(`ℹ️ 첫날(${e.startDate})은 이미 포함됨 or 요일 안 맞음`);const K=R.filter(I=>!T.includes(I.date)).map((I,j)=>{var A;const Ye=(A=s==null?void 0:s[I.date])==null?void 0:A[e.name];let et=(Ye==null?void 0:Ye.status)||"미정",H=(Ye==null?void 0:Ye.time)||"";return{date:I.date,status:et,time:H,originalIndex:j}}),X=u.filter(I=>I.name===e.name),ae=X.filter(I=>I.type==="이월"),ue=X.filter(I=>I.type==="보강"),ce=[];for(const I of ae){const j=K.find(A=>A.date===I.sourceDate);j&&(j.status="이월"),I.date&&ce.push({date:I.date,status:"미정",time:"",originalIndex:-1})}for(const I of ue)I.date&&!K.find(j=>j.date===I.date&&j.status==="보강")&&ce.push({date:I.date,status:"보강",time:"",originalIndex:-1});let se=[...K,...ce].sort((I,j)=>I.date.localeCompare(j.date));const P=new Set(se.map(I=>I.date+"-"+I.originalIndex));let C=se.length>0?se.at(-1).date:e.startDate;for(;!(se.filter(I=>I.status!=="이월").length>=D);){const I=gw(C,S,1,T).find(j=>{const A=j.date+"-"+j.originalIndex;return!P.has(A)});if(!I)break;C=I.date,P.add(I.date+"-"+I.originalIndex),se.push({date:I.date,status:"미정",time:"",originalIndex:I.originalIndex})}const N=[];let M=1;for(let I of se)N.push({...I,session:I.status==="이월"?"X":M++}),M>k&&(M=1);v(N)})()},[e,s,u,p]),e?_.jsxs("div",{className:"container",style:{textAlign:"center",fontSize:"18px"},children:[_.jsx("h1",{style:{fontSize:"24px"},children:"📅 출석 확인 "}),_.jsx(kD,{style:{display:"block",margin:"0 auto"},tileContent:({date:S,view:k})=>{if(k!=="month")return null;const D=mw(S,"yyyy-MM-dd"),T=g.find(X=>X.date===D);let R="";(T==null?void 0:T.status)==="보강"?R="yellowgreen":(T==null?void 0:T.status)==="이월"?R="skyblue":["출석","onTime"].includes(T==null?void 0:T.status)?R="green":["지각","tardy"].includes(T==null?void 0:T.status)?R="#ff9800":(T==null?void 0:T.status)==="결석"?R="#f44336":p.includes(D)&&(R="red");const z=new Date,K=S.toDateString()===z.toDateString();return T?_.jsxs("div",{style:{background:R||(K?"yellow":""),color:"black",borderRadius:4,padding:2,fontSize:12,textAlign:"center"},children:[_.jsx("div",{children:`${T.session}회차`}),T.time&&_.jsx("div",{style:{fontSize:10},children:T.time})]}):K?_.jsx("div",{style:{background:"yellow",borderRadius:4,padding:2,fontSize:12,textAlign:"center"}}):null},onClickDay:S=>{const k=mw(S,"yyyy-MM-dd"),D=g.find(T=>T.date===k);alert(D?`📅 ${k} → ${D.session}회차 (${D.status})`:`📅 ${k} → 출석 기록 없음`)}}),_.jsxs("p",{style:{marginTop:12,fontSize:14},children:["• 색상 설명:",_.jsx("br",{}),"출석(초록), 지각(주황), 결석(빨강), 보강(연두), 이월(하늘), 오늘(노랑)"]})]}):_.jsx("p",{children:"로딩 중…"})}function DI(){var r,e,n;const s=localStorage.getItem("studentId"),o=V.useRef(!1),[u,h]=V.useState(null),[p,m]=V.useState([]),[g,v]=V.useState(0),[S,k]=V.useState({}),[D,T]=V.useState({}),R=["계좌이체","결제선생","카드"];V.useEffect(()=>{if(!s)return;const se=ca(tr(ut,"students",s),P=>{P.exists()&&h({id:P.id,...P.data()})});return()=>se()},[s]),V.useEffect(()=>{if(!s)return;const se=ca(yn(ut,"payments"),P=>{const C={};P.docs.forEach(N=>{const M=N.data();M.studentId===s&&(C[M.routineNumber]=M.paymentMethod)}),k(C)});return()=>se()},[s]),V.useEffect(()=>{if(!s)return;const se=ca(yn(ut,"payment_completed"),P=>{const C={};P.docs.forEach(N=>{const M=N.data();M.studentId===s&&(C[String(M.routineNumber)]=M.paymentComplete)}),T(C)});return()=>se()},[s]),V.useEffect(()=>{if(!s)return;const se=ca(tr(ut,"routines",s),P=>{if(!P.exists())return;const C=P.data().lessons||[];if(m(C),!o.current){o.current=!0;const N=new Date().toISOString().slice(0,10),M={};C.forEach(j=>{const A=j.routineNumber||1;M[A]||(M[A]=[]),M[A].push(j)});const I=Object.values(M).sort((j,A)=>j[0].routineNumber-A[0].routineNumber).findIndex(j=>j.some(A=>A.date===N));v(I>=0?I:0)}});return()=>se()},[s]);const z=async(se,P)=>{k(C=>({...C,[P]:se})),await KN(tr(ut,"payments",`${s}_routine_${P}`),{studentId:s,routineNumber:P,paymentMethod:se,paymentComplete:!1,updatedAt:new Date().toISOString()},{merge:!0})};if(!u)return _.jsx("p",{children:"로딩 중…"});const K={};p.forEach(se=>{const P=se.routineNumber||1;K[P]||(K[P]=[]),K[P].push(se)});const X=Object.values(K).sort((se,P)=>se[0].routineNumber-P[0].routineNumber),ae=X[g]||[],ue=((r=ae[0])==null?void 0:r.routineNumber)??g+1,ce=(n=(e=X[g+1])==null?void 0:e[0])==null?void 0:n.date;return _.jsxs("div",{className:"container-wide",style:{textAlign:"center"},children:[_.jsxs("h1",{style:{fontSize:20,marginBottom:16},children:["👀 ",u.name,"님의 수업 루틴 ",ue,"회차"]}),_.jsx("p",{style:{fontSize:18,marginBottom:16},children:D[ue]?"✅ 결제완료 되었습니다.":"⚠️ 아직 결제전입니다. 수업시작일 전에 결제 부탁드립니다."}),_.jsx("p",{style:{fontSize:16,marginBottom:32},children:ce?_.jsxs(_.Fragment,{children:["➡️ 다음수업시작일: ",ce,_.jsx("br",{}),"다음 루틴 결제방법은 다음을 누르고 선택해주세요."]}):"다음 루틴 시작일 정보를 불러오지 못했습니다."}),_.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:8,marginBottom:24},children:[_.jsx("h3",{style:{margin:0,fontSize:16,fontWeight:"bold"},children:"결제방법선택"}),R.map(se=>_.jsx("button",{onClick:()=>z(se,ue),style:{padding:"4px 8px",background:se==="계좌이체"?"#4caf50":se==="결제선생"?"#2196f3":"#f44336",color:"white",borderRadius:4,minWidth:80},children:se},se))]}),_.jsxs("p",{style:{fontSize:16,marginBottom:16},children:["✅ 현재 선택된 결제방법: ",S[ue]||"없음",S[ue]==="카드"&&_.jsx("span",{style:{display:"block",marginTop:8,fontSize:14,color:"#555"},children:"➡️ 마지막 수업일이나 다음 수업시작일 전에 보내주세요"}),S[ue]==="결제선생"&&_.jsx("span",{style:{display:"block",marginTop:8,fontSize:14,color:"#555"},children:"➡️ 다음수업시작일 5일 전 보내드리겠습니다."}),S[ue]==="계좌이체"&&_.jsx("span",{style:{display:"block",marginTop:8,fontSize:14,color:"#555"},children:"➡️ 3333-31-6107963 카카오뱅크 *교재비계좌와 다릅니다"})]}),_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:24},children:[_.jsx("button",{onClick:()=>v(se=>Math.max(se-1,0)),disabled:g===0,style:{padding:"8px 16px",background:g===0?"#ccc":"#1565c0",color:"white",border:"none",borderRadius:4,cursor:g===0?"default":"pointer"},children:"이전"}),_.jsx("button",{onClick:()=>v(se=>Math.min(se+1,X.length-1)),disabled:g>=X.length-1,style:{padding:"8px 16px",background:g>=X.length-1?"#ccc":"#1565c0",color:"white",border:"none",borderRadius:4,cursor:g>=X.length-1?"default":"pointer"},children:"다음"})]}),_.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{style:{border:"1px solid #ccc",padding:8},children:"회차"}),_.jsx("th",{style:{border:"1px solid #ccc",padding:8},children:"날짜"}),_.jsx("th",{style:{border:"1px solid #ccc",padding:8},children:"상태"}),_.jsx("th",{style:{border:"1px solid #ccc",padding:8},children:"시간"})]})}),_.jsxs("tbody",{children:[ae.map((se,P)=>_.jsxs("tr",{children:[_.jsx("td",{style:{border:"1px solid #ccc",padding:8,textAlign:"center"},children:se.session}),_.jsx("td",{style:{border:"1px solid #ccc",padding:8,textAlign:"center"},children:se.makeupDate?_.jsxs("span",{children:[_.jsx("s",{children:se.date})," ➔ ",se.makeupDate]}):se.date}),_.jsx("td",{style:{border:"1px solid #ccc",padding:8,textAlign:"center"},children:se.status}),_.jsx("td",{style:{border:"1px solid #ccc",padding:8,textAlign:"center"},children:se.time||"-"})]},P)),ae.length===0&&_.jsx("tr",{children:_.jsx("td",{colSpan:4,style:{padding:16,textAlign:"center",color:"#888"},children:"루틴 정보가 없습니다."})})]})]})]})}function II(){const[r,e]=V.useState([]),[n,s]=V.useState(null),[o,u]=V.useState({}),[h,p]=V.useState([]);V.useEffect(()=>{(async()=>{const g=await ns(yn(ut,"notices"));e(g.docs.map(v=>({id:v.id,title:v.data().title,date:v.data().date})))})(),(async()=>{const g=await ns(yn(ut,"holidays")),v=new Date,S=z=>`${z.getFullYear()}-${String(z.getMonth()+1).padStart(2,"0")}`,k=S(v),D=S(new Date(v.getFullYear(),v.getMonth()-1,1)),T=S(new Date(v.getFullYear(),v.getMonth()+1,1)),R=[D,k,T];p(g.docs.map(z=>({id:z.id,...z.data()})).filter(z=>R.some(K=>z.date.startsWith(K))).sort((z,K)=>z.date.localeCompare(K.date)))})()},[]);const m=async g=>{if(n===g){s(null);return}if(!o[g]){const v=await qm(tr(ut,"notices",g));v.exists()&&u(S=>({...S,[g]:v.data().content}))}s(g)};return _.jsxs("div",{className:"container",children:[_.jsxs("div",{style:{background:"#f9f9f9",padding:"12px",borderRadius:"8px",marginBottom:"16px"},children:[_.jsx("h2",{style:{fontSize:"18px",marginBottom:"8px"},children:"📅 이번 달 휴일"}),h.length>0?_.jsx("ul",{style:{listStyle:"none",padding:0},children:h.map(g=>_.jsxs("li",{style:{marginBottom:"4px"},children:[g.name," — ",_.jsx("span",{style:{color:"red"},children:g.date})]},g.id))}):_.jsx("p",{children:"이번 달 휴일이 없습니다."})]}),_.jsx("h1",{style:{fontSize:"24px"},children:"📣 공지사항 📣"}),_.jsxs("ul",{style:{listStyle:"none",padding:0},children:[r.map(g=>_.jsxs("li",{style:{margin:"8px 0",borderBottom:"1px solid #ccc",paddingBottom:8},children:[_.jsxs("div",{onClick:()=>m(g.id),style:{cursor:"pointer",fontWeight:"bold"},children:[g.title," (",g.date,")"]}),n===g.id&&_.jsx("div",{style:{marginTop:8},children:o[g.id]?_.jsx("div",{dangerouslySetInnerHTML:{__html:o[g.id]}}):"불러오는 중..."})]},g.id)),r.length===0&&_.jsx("p",{children:"등록된 공지사항이 없습니다."})]})]})}function OI(){const{id:r}=ox(),[e,n]=V.useState(null);return V.useEffect(()=>{(async()=>{const s=await qm(tr(ut,"notices",r));s.exists()&&n({id:s.id,...s.data()})})()},[r]),e?_.jsxs("div",{className:"container",children:[_.jsx("h1",{children:e.title}),_.jsxs("p",{children:[_.jsx("strong",{children:"날짜:"})," ",e.date]}),_.jsx("div",{style:{whiteSpace:"pre-wrap",marginTop:12},children:e.content}),_.jsx("p",{style:{marginTop:24},children:_.jsx(am,{to:"/notices",children:"← 목록으로 돌아가기"})})]}):_.jsx("p",{children:"공지사항을 불러오는 중…"})}function op({children:r,...e}){return _.jsx("table",{...e,style:{width:"100%",borderCollapse:"collapse"},children:r})}function lp({children:r,...e}){return _.jsx("thead",{...e,children:r})}function up({children:r,...e}){return _.jsx("tbody",{...e,children:r})}function eo({children:r,...e}){return _.jsx("tr",{...e,children:r})}function Qs({children:r,...e}){return _.jsx("th",{...e,style:{border:"1px solid #ccc",padding:8,textAlign:"center",background:"#f5f5f5"},children:r})}function Js({children:r,...e}){return _.jsx("td",{...e,style:{border:"1px solid #ccc",padding:8,textAlign:"center"},children:r})}function PI(){const r=localStorage.getItem("studentId"),[e,n]=V.useState(null),[s,o]=V.useState([]),[u,h]=V.useState([]);if(V.useEffect(()=>{if(!r)return;const v=ca(tr(ut,"students",r),S=>{if(S.exists()){const k={id:S.id,...S.data()};n(k),k.points&&h(Object.keys(k.points))}});return()=>v()},[r]),V.useEffect(()=>{const v=ca(yn(ut,"students"),S=>{const k=S.docs.map(D=>({id:D.id,...D.data()}));o(k)});return()=>v()},[]),!e)return _.jsx("p",{children:"로딩 중…"});const p=u.reduce((v,S)=>v+(e.points[S]||0),0),m=s.map(v=>({name:v.name,total:u.reduce((S,k)=>{var D;return S+(((D=v.points)==null?void 0:D[k])||0)},0)})).sort((v,S)=>S.total-v.total).slice(0,5),g={};return u.forEach(v=>{g[v]=[...s].map(S=>{var k;return{name:S.name,value:((k=S.points)==null?void 0:k[v])||0}}).sort((S,k)=>k.value-S.value).slice(0,5)}),_.jsxs("div",{className:"container-wide",style:{textAlign:"center"},children:[_.jsx("h1",{style:{fontSize:"24px"},children:"📖 포인트 관리"}),_.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"baseline",gap:16,marginTop:16},children:[_.jsx("h2",{style:{margin:0},children:"💡 내 포인트"}),_.jsxs("span",{style:{fontSize:18,fontWeight:"bold"},children:["총 포인트: ",p,"pt"]})]}),_.jsxs(op,{children:[_.jsx(lp,{children:_.jsx(eo,{children:u.map(v=>_.jsx(Qs,{children:v},v))})}),_.jsx(up,{children:_.jsx(eo,{children:u.map(v=>_.jsx(Js,{children:e.points[v]||0},v))})})]}),_.jsx("h2",{style:{margin:"32px 0 16px"},children:"🏆 전체 랭킹 (Top 5)"}),_.jsxs(op,{children:[_.jsx(lp,{children:_.jsxs(eo,{children:[_.jsx(Qs,{children:"순위"}),_.jsx(Qs,{children:"학생 이름"}),_.jsx(Qs,{children:"총합"})]})}),_.jsx(up,{children:m.map((v,S)=>_.jsxs(eo,{children:[_.jsx(Js,{children:S+1}),_.jsx(Js,{children:v.name}),_.jsx(Js,{children:v.total})]},v.name))})]}),_.jsx("h2",{style:{margin:"32px 0 16px"},children:"📊 항목별 랭킹 (Top 5)"}),u.map(v=>_.jsxs("div",{style:{marginBottom:24},children:[_.jsxs("h3",{style:{margin:"8px 0"},children:[v," TOP 5"]}),_.jsxs(op,{children:[_.jsx(lp,{children:_.jsxs(eo,{children:[_.jsx(Qs,{children:"순위"}),_.jsx(Qs,{children:"학생 이름"}),_.jsx(Qs,{children:v})]})}),_.jsx(up,{children:g[v].map((S,k)=>_.jsxs(eo,{children:[_.jsx(Js,{children:k+1}),_.jsx(Js,{children:S.name}),_.jsx(Js,{children:S.value})]},v+S.name))})]})]},v))]})}function MI(){console.log("📚 바뀜 감지!");const[r,e]=V.useState([]),[n,s]=V.useState(""),o=localStorage.getItem("studentId");V.useEffect(()=>{const p=yn(ut,"books");return ca(p,m=>{const g=m.docs.map(v=>({id:v.id,...v.data()})).filter(v=>v.studentId===o);e(g)})},[o]);const u=V.useMemo(()=>n?[...r].sort((p,m)=>n==="grade"?p.grade-m.grade:n==="title"?p.title.localeCompare(m.title):n==="completedDate"?p.completedDate.localeCompare(m.completedDate):0):r,[r,n]),h=()=>{const p=["번호","이름","학년","책 제목","완료일"],m=u.map((D,T)=>[T+1,D.name,D.grade,D.title,D.completedDate]);let g=p.join(",")+`
`;m.forEach(D=>{g+=D.join(",")+`
`});const v=new Blob([g],{type:"text/csv;charset=utf-8;"}),S=URL.createObjectURL(v),k=document.createElement("a");k.href=S,k.download=`문제집목록_${new Date().toISOString().slice(0,10)}.csv`,k.click(),URL.revokeObjectURL(S)};return _.jsxs("div",{className:"container",children:[_.jsxs("h1",{style:{fontSize:"24px",marginBottom:"20px"},children:["📚 문제집 관리 (총 갯수: ",r.length,")"]}),_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px"},children:[_.jsx("button",{onClick:h,style:{padding:"8px 16px",backgroundColor:"#007bff",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"},children:"엑셀 다운로드"}),_.jsx("button",{onClick:()=>s("grade"),style:{padding:"8px 12px",marginLeft:"4px",backgroundColor:"#28a745",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"},children:"학년 정렬"}),_.jsx("button",{onClick:()=>s("title"),style:{padding:"8px 12px",backgroundColor:"#17a2b8",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"},children:"문제집 정렬"}),_.jsx("button",{onClick:()=>s("completedDate"),style:{padding:"8px 12px",backgroundColor:"#ffc107",color:"#000",border:"none",borderRadius:"4px",cursor:"pointer"},children:"완료일 정렬"})]}),_.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"20px"},children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{style:{border:"1px solid #ccc",padding:"8px"},children:"번호"}),_.jsx("th",{style:{border:"1px solid #ccc",padding:"8px"},children:"이름"}),_.jsx("th",{style:{border:"1px solid #ccc",padding:"8px"},children:"학년"}),_.jsx("th",{style:{border:"1px solid #ccc",padding:"8px"},children:"책 제목"}),_.jsx("th",{style:{border:"1px solid #ccc",padding:"8px"},children:"완료일"})]})}),_.jsx("tbody",{children:u.length>0?u.map((p,m)=>_.jsxs("tr",{children:[_.jsx("td",{style:{border:"1px solid #ccc",padding:"8px"},children:m+1}),_.jsx("td",{style:{border:"1px solid #ccc",padding:"8px"},children:p.name}),_.jsx("td",{style:{border:"1px solid #ccc",padding:"8px"},children:p.grade}),_.jsx("td",{style:{border:"1px solid #ccc",padding:"8px"},children:p.title}),_.jsx("td",{style:{border:"1px solid #ccc",padding:"8px"},children:p.completedDate})]},p.id)):_.jsx("tr",{children:_.jsx("td",{colSpan:"5",style:{border:"1px solid #ccc",padding:"8px",textAlign:"center"},children:"등록된 데이터가 없습니다."})})})]})]})}function LI(){const[r,e]=V.useState([]),[n,s]=V.useState({}),[o,u]=V.useState(null),[h,p]=V.useState(""),m=localStorage.getItem("studentId");V.useEffect(()=>{const k=yn(ut,"comments");return ca(k,D=>{const T=D.docs.map(R=>({id:R.id,...R.data()})).filter(R=>R.studentId===m);e(T.sort((R,z)=>(z.createdAt||"").localeCompare(R.createdAt||"")))})},[m]);const g=async k=>{var D;const T=(D=n[k])==null?void 0:D.trim();if(!T)return alert("답변을 입력해주세요!");const R=await qm(tr(ut,"students",m)),z=R.exists()?R.data().name:"이름없음";await b1(yn(ut,"comments"),{studentId:m,name:z,comment:`답변:${T}`,date:new Date().toISOString().slice(0,10),createdAt:new Date().toISOString(),parentId:k}),s(K=>({...K,[k]:""})),alert("답변이 저장되었습니다!")},v=async k=>{window.confirm("정말 이 답변을 삭제하시겠습니까?")&&await WN(tr(ut,"comments",k))},S=async k=>{if(!h.trim())return alert("수정할 답변을 입력하세요!");await v1(tr(ut,"comments",k),{comment:`답변:${h}`}),u(null),p("")};return _.jsxs("div",{className:"container",style:{textAlign:"center",marginTop:"40px"},children:[_.jsx("h2",{style:{fontSize:"20px",marginBottom:"16px"},children:"📝 저장된 코멘트"}),_.jsxs("ul",{style:{listStyle:"none",padding:0,textAlign:"left"},children:[r.filter(k=>!k.comment.startsWith("답변:")).map(k=>{var D;const T=r.filter(R=>R.parentId===k.id);return _.jsxs("li",{style:{marginBottom:16,borderBottom:"1px solid #eee",paddingBottom:8},children:[_.jsxs("div",{children:[k.comment," ",_.jsxs("span",{style:{color:"#888",fontSize:"12px"},children:["(",k.date,")"]})]}),_.jsxs("div",{style:{fontSize:"12px",color:"#aaa"},children:["저장시간: ",(D=k.createdAt)==null?void 0:D.slice(0,19).replace("T"," ")]}),T.map(R=>_.jsx("div",{style:{marginTop:4,marginLeft:10,background:"#f8f8f8",padding:"4px 8px",borderRadius:4},children:o===R.id?_.jsxs(_.Fragment,{children:[_.jsx("input",{value:h,onChange:z=>p(z.target.value),style:{width:"60%",padding:4}}),_.jsx("button",{onClick:()=>S(R.id),style:{marginLeft:8},children:"저장"}),_.jsx("button",{onClick:()=>u(null),style:{marginLeft:4},children:"취소"})]}):_.jsxs(_.Fragment,{children:[_.jsxs("div",{style:{fontSize:"13px",color:"#333"},children:["💬 ",R.comment.replace("답변:","")]}),_.jsxs("div",{style:{marginTop:4},children:[_.jsx("button",{onClick:()=>{u(R.id),p(R.comment.replace("답변:",""))},style:{marginRight:6},children:"수정"}),_.jsx("button",{onClick:()=>v(R.id),children:"삭제"})]})]})},R.id)),_.jsxs("div",{style:{marginTop:8},children:[_.jsx("input",{placeholder:"답변 입력",value:n[k.id]||"",onChange:R=>s(z=>({...z,[k.id]:R.target.value})),style:{width:"70%",padding:4}}),_.jsx("button",{onClick:()=>g(k.id),style:{marginLeft:8,padding:"4px 12px"},children:"저장"})]})]},k.id)}),r.filter(k=>!k.comment.startsWith("답변:")).length===0&&_.jsx("li",{style:{color:"#888"},children:"등록된 코멘트가 없습니다."})]})]})}function RI(){const[r,e]=V.useState("comments");return _.jsxs("div",{className:"container",style:{textAlign:"center",marginTop:"40px"},children:[_.jsx("h1",{style:{fontSize:"24px",marginBottom:"20px"},children:"📚 내 아이 수업 현황"}),_.jsxs("div",{style:{marginBottom:"16px"},children:[_.jsx("button",{onClick:()=>e("comments"),style:{padding:"8px 16px",marginRight:"8px",backgroundColor:r==="comments"?"#007bff":"#f0f0f0",color:r==="comments"?"#fff":"#333",border:"none",borderRadius:"4px",cursor:"pointer"},children:"코멘트"}),_.jsx("button",{onClick:()=>e("books"),style:{padding:"8px 16px",marginRight:"8px",backgroundColor:r==="books"?"#007bff":"#f0f0f0",color:r==="books"?"#fff":"#333",border:"none",borderRadius:"4px",cursor:"pointer"},children:"문제집"}),_.jsx("button",{onClick:()=>e("points"),style:{padding:"8px 16px",backgroundColor:r==="points"?"#007bff":"#f0f0f0",color:r==="points"?"#fff":"#333",border:"none",borderRadius:"4px",cursor:"pointer"},children:"포인트"})]}),r==="comments"&&_.jsx(LI,{}),_.jsx("div",{className:"page-books",children:r==="books"&&_.jsx(MI,{})}),r==="points"&&_.jsx(PI,{})]})}function FI(){return _.jsx(jI,{})}function jI(){const[r,e]=V.useState(!!localStorage.getItem("studentId")),[n,s]=V.useState(!1),[o,u]=V.useState(""),h=va();V.useEffect(()=>{const v=()=>{e(!!localStorage.getItem("studentId"))};return window.addEventListener("storage",v),()=>{window.removeEventListener("storage",v)}},[]),V.useEffect(()=>{e(!!localStorage.getItem("studentId"))},[h]),V.useEffect(()=>{const v=localStorage.getItem("studentId");v&&(async()=>{const S=new Date,k=new Date;k.setDate(S.getDate()-3);const D=await ns(yn(ut,"comments")),T=await ns(yn(ut,"books")),R=D.docs.some(K=>{const X=K.data();return X.studentId===v&&new Date(X.createdAt||X.date)>=k}),z=T.docs.some(K=>{const X=K.data();return X.studentId===v&&new Date(X.createdAt||X.completedDate)>=k});g(R||z)})()},[]),V.useEffect(()=>{let v;const S=()=>{clearTimeout(v),v=setTimeout(()=>{localStorage.clear(),e(!1),window.location.hash="#/login",alert("1시간 동안 활동이 없어 자동 로그아웃되었습니다.")},36e5)};if(r){const k=["mousemove","keydown","click","scroll","touchstart"];return k.forEach(D=>window.addEventListener(D,S)),S(),()=>{clearTimeout(v),k.forEach(D=>window.removeEventListener(D,S))}}},[r]);async function p(){const v=localStorage.getItem("studentId");if(!v||o.length!==4){alert("PIN은 4자리 숫자로 입력해야 합니다.");return}try{await v1(tr(ut,"students",v),{pin:o}),alert("PIN이 성공적으로 변경되었습니다."),s(!1),u("")}catch(S){console.error(S),alert("PIN 변경 중 오류가 발생했습니다.")}}const[m,g]=V.useState(!1);return _.jsxs("div",{children:[r&&_.jsxs("nav",{style:{position:"sticky",top:0,backgroundColor:"#fff",padding:"8px 0",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",zIndex:1e3,textAlign:"center"},children:[["/attendance","/payment","/notices","/myclass"].map(v=>_.jsx(Dw,{to:v,style:({isActive:S})=>({margin:"0 8px",padding:"6px 12px",borderRadius:4,textDecoration:"none",fontWeight:S?"bold":"normal",color:S?"#fff":"#333",backgroundColor:S?"#007bff":"transparent",position:"relative",display:"inline-block"}),children:{"/attendance":"출석","/payment":"결제","/notices":"공지사항","/myclass":_.jsxs(_.Fragment,{children:["내아이수업현황",m&&_.jsx("span",{className:"pulse wiggle",style:{position:"absolute",top:-8,right:-12,backgroundColor:"red",color:"white",borderRadius:"12px",padding:"2px 6px",fontSize:"10px",fontWeight:"bold",fontFamily:"'Segoe UI', 'Apple SD Gothic Neo', sans-serif"},children:"🔥 새글"})]})}[v]},v)),_.jsx("button",{onClick:()=>s(!0),style:{marginLeft:20,padding:"6px 12px",border:"none",borderRadius:4,backgroundColor:"#f0f0f0",cursor:"pointer"},children:"PIN 변경"}),_.jsx("button",{onClick:()=>{localStorage.clear(),e(!1),window.location.hash="#/login"},style:{marginLeft:8,padding:"6px 12px",border:"none",borderRadius:4,backgroundColor:"#f0f0f0",cursor:"pointer"},children:"로그아웃"}),n&&_.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center"},children:_.jsxs("div",{style:{background:"#fff",padding:20,borderRadius:8,width:300},children:[_.jsx("h2",{children:"PIN 변경"}),_.jsx("input",{type:"text",maxLength:4,value:o,onChange:v=>u(v.target.value.replace(/\D/g,"")),placeholder:"새 PIN (4자리)",style:{width:"100%",padding:8,margin:"12px 0"}}),_.jsxs("div",{style:{textAlign:"right"},children:[_.jsx("button",{onClick:()=>s(!1),style:{marginRight:8},children:"취소"}),_.jsx("button",{onClick:p,children:"변경"})]})]})})]}),_.jsxs(kx,{children:[_.jsx(Qa,{path:"/login",element:_.jsx(YN,{onLoginSuccess:()=>e(!0)})}),_.jsx(Qa,{path:"/",element:r?_.jsx(Ys,{to:"/notices",replace:!0}):_.jsx(Ys,{to:"/login",replace:!0})}),_.jsx(Qa,{path:"/attendance",element:r?_.jsx(AI,{}):_.jsx(Ys,{to:"/login",replace:!0})}),_.jsx(Qa,{path:"/payment",element:r?_.jsx(DI,{}):_.jsx(Ys,{to:"/login",replace:!0})}),_.jsx(Qa,{path:"/notices",element:r?_.jsx(II,{}):_.jsx(Ys,{to:"/login",replace:!0})}),_.jsx(Qa,{path:"/notices/:id",element:r?_.jsx(OI,{}):_.jsx(Ys,{to:"/login",replace:!0})}),_.jsx(Qa,{path:"/myclass",element:r?_.jsx(RI,{}):_.jsx(Ys,{to:"/login",replace:!0})})]})]})}IE.createRoot(document.getElementById("root")).render(_.jsx(V.StrictMode,{children:_.jsx(Wx,{children:_.jsx(FI,{})})}));
