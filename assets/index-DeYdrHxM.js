(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function TS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var qd={exports:{}},Do={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v_;function bS(){if(v_)return Do;v_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,l,u){var h=null;if(u!==void 0&&(h=""+u),l.key!==void 0&&(h=""+l.key),"key"in l){u={};for(var m in l)m!=="key"&&(u[m]=l[m])}else u=l;return l=u.ref,{$$typeof:r,type:i,key:h,ref:l!==void 0?l:null,props:u}}return Do.Fragment=t,Do.jsx=n,Do.jsxs=n,Do}var __;function wS(){return __||(__=1,qd.exports=bS()),qd.exports}var x=wS(),Hd={exports:{}},It={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E_;function SS(){if(E_)return It;E_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.iterator;function b(V){return V===null||typeof V!="object"?null:(V=T&&V[T]||V["@@iterator"],typeof V=="function"?V:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,k={};function P(V,J,ot){this.props=V,this.context=J,this.refs=k,this.updater=ot||R}P.prototype.isReactComponent={},P.prototype.setState=function(V,J){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,J,"setState")},P.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function F(){}F.prototype=P.prototype;function rt(V,J,ot){this.props=V,this.context=J,this.refs=k,this.updater=ot||R}var Z=rt.prototype=new F;Z.constructor=rt,D(Z,P.prototype),Z.isPureReactComponent=!0;var ut=Array.isArray,ct={H:null,A:null,T:null,S:null,V:null},it=Object.prototype.hasOwnProperty;function M(V,J,ot,at,pt,Ct){return ot=Ct.ref,{$$typeof:r,type:V,key:J,ref:ot!==void 0?ot:null,props:Ct}}function A(V,J){return M(V.type,J,void 0,void 0,void 0,V.props)}function C(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function N(V){var J={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ot){return J[ot]})}var j=/\/+/g;function U(V,J){return typeof V=="object"&&V!==null&&V.key!=null?N(""+V.key):J.toString(36)}function O(){}function mt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(O,O):(V.status="pending",V.then(function(J){V.status==="pending"&&(V.status="fulfilled",V.value=J)},function(J){V.status==="pending"&&(V.status="rejected",V.reason=J)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Dt(V,J,ot,at,pt){var Ct=typeof V;(Ct==="undefined"||Ct==="boolean")&&(V=null);var _t=!1;if(V===null)_t=!0;else switch(Ct){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(V.$$typeof){case r:case t:_t=!0;break;case v:return _t=V._init,Dt(_t(V._payload),J,ot,at,pt)}}if(_t)return pt=pt(V),_t=at===""?"."+U(V,0):at,ut(pt)?(ot="",_t!=null&&(ot=_t.replace(j,"$&/")+"/"),Dt(pt,J,ot,"",function(Ne){return Ne})):pt!=null&&(C(pt)&&(pt=A(pt,ot+(pt.key==null||V&&V.key===pt.key?"":(""+pt.key).replace(j,"$&/")+"/")+_t)),J.push(pt)),1;_t=0;var fe=at===""?".":at+":";if(ut(V))for(var Ft=0;Ft<V.length;Ft++)at=V[Ft],Ct=fe+U(at,Ft),_t+=Dt(at,J,ot,Ct,pt);else if(Ft=b(V),typeof Ft=="function")for(V=Ft.call(V),Ft=0;!(at=V.next()).done;)at=at.value,Ct=fe+U(at,Ft++),_t+=Dt(at,J,ot,Ct,pt);else if(Ct==="object"){if(typeof V.then=="function")return Dt(mt(V),J,ot,at,pt);throw J=String(V),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return _t}function Q(V,J,ot){if(V==null)return V;var at=[],pt=0;return Dt(V,at,"","",function(Ct){return J.call(ot,Ct,pt++)}),at}function st(V){if(V._status===-1){var J=V._result;J=J(),J.then(function(ot){(V._status===0||V._status===-1)&&(V._status=1,V._result=ot)},function(ot){(V._status===0||V._status===-1)&&(V._status=2,V._result=ot)}),V._status===-1&&(V._status=0,V._result=J)}if(V._status===1)return V._result.default;throw V._result}var gt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function xt(){}return It.Children={map:Q,forEach:function(V,J,ot){Q(V,function(){J.apply(this,arguments)},ot)},count:function(V){var J=0;return Q(V,function(){J++}),J},toArray:function(V){return Q(V,function(J){return J})||[]},only:function(V){if(!C(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},It.Component=P,It.Fragment=n,It.Profiler=l,It.PureComponent=rt,It.StrictMode=i,It.Suspense=p,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ct,It.__COMPILER_RUNTIME={__proto__:null,c:function(V){return ct.H.useMemoCache(V)}},It.cache=function(V){return function(){return V.apply(null,arguments)}},It.cloneElement=function(V,J,ot){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var at=D({},V.props),pt=V.key,Ct=void 0;if(J!=null)for(_t in J.ref!==void 0&&(Ct=void 0),J.key!==void 0&&(pt=""+J.key),J)!it.call(J,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&J.ref===void 0||(at[_t]=J[_t]);var _t=arguments.length-2;if(_t===1)at.children=ot;else if(1<_t){for(var fe=Array(_t),Ft=0;Ft<_t;Ft++)fe[Ft]=arguments[Ft+2];at.children=fe}return M(V.type,pt,void 0,void 0,Ct,at)},It.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},It.createElement=function(V,J,ot){var at,pt={},Ct=null;if(J!=null)for(at in J.key!==void 0&&(Ct=""+J.key),J)it.call(J,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(pt[at]=J[at]);var _t=arguments.length-2;if(_t===1)pt.children=ot;else if(1<_t){for(var fe=Array(_t),Ft=0;Ft<_t;Ft++)fe[Ft]=arguments[Ft+2];pt.children=fe}if(V&&V.defaultProps)for(at in _t=V.defaultProps,_t)pt[at]===void 0&&(pt[at]=_t[at]);return M(V,Ct,void 0,void 0,null,pt)},It.createRef=function(){return{current:null}},It.forwardRef=function(V){return{$$typeof:m,render:V}},It.isValidElement=C,It.lazy=function(V){return{$$typeof:v,_payload:{_status:-1,_result:V},_init:st}},It.memo=function(V,J){return{$$typeof:g,type:V,compare:J===void 0?null:J}},It.startTransition=function(V){var J=ct.T,ot={};ct.T=ot;try{var at=V(),pt=ct.S;pt!==null&&pt(ot,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(xt,gt)}catch(Ct){gt(Ct)}finally{ct.T=J}},It.unstable_useCacheRefresh=function(){return ct.H.useCacheRefresh()},It.use=function(V){return ct.H.use(V)},It.useActionState=function(V,J,ot){return ct.H.useActionState(V,J,ot)},It.useCallback=function(V,J){return ct.H.useCallback(V,J)},It.useContext=function(V){return ct.H.useContext(V)},It.useDebugValue=function(){},It.useDeferredValue=function(V,J){return ct.H.useDeferredValue(V,J)},It.useEffect=function(V,J,ot){var at=ct.H;if(typeof ot=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return at.useEffect(V,J)},It.useId=function(){return ct.H.useId()},It.useImperativeHandle=function(V,J,ot){return ct.H.useImperativeHandle(V,J,ot)},It.useInsertionEffect=function(V,J){return ct.H.useInsertionEffect(V,J)},It.useLayoutEffect=function(V,J){return ct.H.useLayoutEffect(V,J)},It.useMemo=function(V,J){return ct.H.useMemo(V,J)},It.useOptimistic=function(V,J){return ct.H.useOptimistic(V,J)},It.useReducer=function(V,J,ot){return ct.H.useReducer(V,J,ot)},It.useRef=function(V){return ct.H.useRef(V)},It.useState=function(V){return ct.H.useState(V)},It.useSyncExternalStore=function(V,J,ot){return ct.H.useSyncExternalStore(V,J,ot)},It.useTransition=function(){return ct.H.useTransition()},It.version="19.1.0",It}var T_;function tg(){return T_||(T_=1,Hd.exports=SS()),Hd.exports}var z=tg(),Fd={exports:{}},xo={},Yd={exports:{}},Gd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b_;function AS(){return b_||(b_=1,function(r){function t(Q,st){var gt=Q.length;Q.push(st);t:for(;0<gt;){var xt=gt-1>>>1,V=Q[xt];if(0<l(V,st))Q[xt]=st,Q[gt]=V,gt=xt;else break t}}function n(Q){return Q.length===0?null:Q[0]}function i(Q){if(Q.length===0)return null;var st=Q[0],gt=Q.pop();if(gt!==st){Q[0]=gt;t:for(var xt=0,V=Q.length,J=V>>>1;xt<J;){var ot=2*(xt+1)-1,at=Q[ot],pt=ot+1,Ct=Q[pt];if(0>l(at,gt))pt<V&&0>l(Ct,at)?(Q[xt]=Ct,Q[pt]=gt,xt=pt):(Q[xt]=at,Q[ot]=gt,xt=ot);else if(pt<V&&0>l(Ct,gt))Q[xt]=Ct,Q[pt]=gt,xt=pt;else break t}}return st}function l(Q,st){var gt=Q.sortIndex-st.sortIndex;return gt!==0?gt:Q.id-st.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var p=[],g=[],v=1,T=null,b=3,R=!1,D=!1,k=!1,P=!1,F=typeof setTimeout=="function"?setTimeout:null,rt=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function ut(Q){for(var st=n(g);st!==null;){if(st.callback===null)i(g);else if(st.startTime<=Q)i(g),st.sortIndex=st.expirationTime,t(p,st);else break;st=n(g)}}function ct(Q){if(k=!1,ut(Q),!D)if(n(p)!==null)D=!0,it||(it=!0,U());else{var st=n(g);st!==null&&Dt(ct,st.startTime-Q)}}var it=!1,M=-1,A=5,C=-1;function N(){return P?!0:!(r.unstable_now()-C<A)}function j(){if(P=!1,it){var Q=r.unstable_now();C=Q;var st=!0;try{t:{D=!1,k&&(k=!1,rt(M),M=-1),R=!0;var gt=b;try{e:{for(ut(Q),T=n(p);T!==null&&!(T.expirationTime>Q&&N());){var xt=T.callback;if(typeof xt=="function"){T.callback=null,b=T.priorityLevel;var V=xt(T.expirationTime<=Q);if(Q=r.unstable_now(),typeof V=="function"){T.callback=V,ut(Q),st=!0;break e}T===n(p)&&i(p),ut(Q)}else i(p);T=n(p)}if(T!==null)st=!0;else{var J=n(g);J!==null&&Dt(ct,J.startTime-Q),st=!1}}break t}finally{T=null,b=gt,R=!1}st=void 0}}finally{st?U():it=!1}}}var U;if(typeof Z=="function")U=function(){Z(j)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,mt=O.port2;O.port1.onmessage=j,U=function(){mt.postMessage(null)}}else U=function(){F(j,0)};function Dt(Q,st){M=F(function(){Q(r.unstable_now())},st)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function(Q){switch(b){case 1:case 2:case 3:var st=3;break;default:st=b}var gt=b;b=st;try{return Q()}finally{b=gt}},r.unstable_requestPaint=function(){P=!0},r.unstable_runWithPriority=function(Q,st){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var gt=b;b=Q;try{return st()}finally{b=gt}},r.unstable_scheduleCallback=function(Q,st,gt){var xt=r.unstable_now();switch(typeof gt=="object"&&gt!==null?(gt=gt.delay,gt=typeof gt=="number"&&0<gt?xt+gt:xt):gt=xt,Q){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=gt+V,Q={id:v++,callback:st,priorityLevel:Q,startTime:gt,expirationTime:V,sortIndex:-1},gt>xt?(Q.sortIndex=gt,t(g,Q),n(p)===null&&Q===n(g)&&(k?(rt(M),M=-1):k=!0,Dt(ct,gt-xt))):(Q.sortIndex=V,t(p,Q),D||R||(D=!0,it||(it=!0,U()))),Q},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(Q){var st=b;return function(){var gt=b;b=st;try{return Q.apply(this,arguments)}finally{b=gt}}}}(Gd)),Gd}var w_;function RS(){return w_||(w_=1,Yd.exports=AS()),Yd.exports}var Qd={exports:{}},on={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_;function DS(){if(S_)return on;S_=1;var r=tg();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,g,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:T==null?null:""+T,children:p,containerInfo:g,implementation:v}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,on.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,v)},on.flushSync=function(p){var g=h.T,v=i.p;try{if(h.T=null,i.p=2,p)return p()}finally{h.T=g,i.p=v,i.d.f()}},on.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(p,g))},on.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},on.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,T=m(v,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,R=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?i.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:b,fetchPriority:R}):v==="script"&&i.d.X(p,{crossOrigin:T,integrity:b,fetchPriority:R,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},on.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);i.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(p)},on.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,T=m(v,g.crossOrigin);i.d.L(p,v,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},on.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);i.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(p)},on.requestFormReset=function(p){i.d.r(p)},on.unstable_batchedUpdates=function(p,g){return p(g)},on.useFormState=function(p,g,v){return h.H.useFormState(p,g,v)},on.useFormStatus=function(){return h.H.useHostTransitionStatus()},on.version="19.1.0",on}var A_;function xS(){if(A_)return Qd.exports;A_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Qd.exports=DS(),Qd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R_;function CS(){if(R_)return xo;R_=1;var r=RS(),t=tg(),n=xS();function i(e){var a="https://react.dev/errors/"+e;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)a+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var a=e,s=e;if(e.alternate)for(;a.return;)a=a.return;else{e=a;do a=e,(a.flags&4098)!==0&&(s=a.return),e=a.return;while(e)}return a.tag===3?s:null}function h(e){if(e.tag===13){var a=e.memoizedState;if(a===null&&(e=e.alternate,e!==null&&(a=e.memoizedState)),a!==null)return a.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(i(188))}function p(e){var a=e.alternate;if(!a){if(a=u(e),a===null)throw Error(i(188));return a!==e?null:e}for(var s=e,o=a;;){var f=s.return;if(f===null)break;var d=f.alternate;if(d===null){if(o=f.return,o!==null){s=o;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===s)return m(f),e;if(d===o)return m(f),a;d=d.sibling}throw Error(i(188))}if(s.return!==o.return)s=f,o=d;else{for(var E=!1,w=f.child;w;){if(w===s){E=!0,s=f,o=d;break}if(w===o){E=!0,o=f,s=d;break}w=w.sibling}if(!E){for(w=d.child;w;){if(w===s){E=!0,s=d,o=f;break}if(w===o){E=!0,o=d,s=f;break}w=w.sibling}if(!E)throw Error(i(189))}}if(s.alternate!==o)throw Error(i(190))}if(s.tag!==3)throw Error(i(188));return s.stateNode.current===s?e:a}function g(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e;for(e=e.child;e!==null;){if(a=g(e),a!==null)return a;e=e.sibling}return null}var v=Object.assign,T=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),rt=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),ut=Symbol.for("react.forward_ref"),ct=Symbol.for("react.suspense"),it=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=j&&e[j]||e["@@iterator"],typeof e=="function"?e:null)}var O=Symbol.for("react.client.reference");function mt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===O?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case D:return"Fragment";case P:return"Profiler";case k:return"StrictMode";case ct:return"Suspense";case it:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case R:return"Portal";case Z:return(e.displayName||"Context")+".Provider";case rt:return(e._context.displayName||"Context")+".Consumer";case ut:var a=e.render;return e=e.displayName,e||(e=a.displayName||a.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case M:return a=e.displayName||null,a!==null?a:mt(e.type)||"Memo";case A:a=e._payload,e=e._init;try{return mt(e(a))}catch{}}return null}var Dt=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt={pending:!1,data:null,method:null,action:null},xt=[],V=-1;function J(e){return{current:e}}function ot(e){0>V||(e.current=xt[V],xt[V]=null,V--)}function at(e,a){V++,xt[V]=e.current,e.current=a}var pt=J(null),Ct=J(null),_t=J(null),fe=J(null);function Ft(e,a){switch(at(_t,a),at(Ct,e),at(pt,null),a.nodeType){case 9:case 11:e=(e=a.documentElement)&&(e=e.namespaceURI)?Gv(e):0;break;default:if(e=a.tagName,a=a.namespaceURI)a=Gv(a),e=Qv(a,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ot(pt),at(pt,e)}function Ne(){ot(pt),ot(Ct),ot(_t)}function kn(e){e.memoizedState!==null&&at(fe,e);var a=pt.current,s=Qv(a,e.type);a!==s&&(at(Ct,e),at(pt,s))}function An(e){Ct.current===e&&(ot(pt),ot(Ct)),fe.current===e&&(ot(fe),bo._currentValue=gt)}var Ln=Object.prototype.hasOwnProperty,nr=r.unstable_scheduleCallback,ae=r.unstable_cancelCallback,rr=r.unstable_shouldYield,Ge=r.unstable_requestPaint,Qe=r.unstable_now,us=r.unstable_getCurrentPriorityLevel,wa=r.unstable_ImmediatePriority,Sa=r.unstable_UserBlockingPriority,zr=r.unstable_NormalPriority,Dl=r.unstable_LowPriority,Br=r.unstable_IdlePriority,pi=r.log,cs=r.unstable_setDisableYieldValue,he=null,Qt=null;function dn(e){if(typeof pi=="function"&&cs(e),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(he,e)}catch{}}var Ae=Math.clz32?Math.clz32:qr,yi=Math.log,fs=Math.LN2;function qr(e){return e>>>=0,e===0?32:31-(yi(e)/fs|0)|0}var jn=256,yr=4194304;function Rn(e){var a=e&42;if(a!==0)return a;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Hr(e,a,s){var o=e.pendingLanes;if(o===0)return 0;var f=0,d=e.suspendedLanes,E=e.pingedLanes;e=e.warmLanes;var w=o&134217727;return w!==0?(o=w&~d,o!==0?f=Rn(o):(E&=w,E!==0?f=Rn(E):s||(s=w&~e,s!==0&&(f=Rn(s))))):(w=o&~d,w!==0?f=Rn(w):E!==0?f=Rn(E):s||(s=o&~e,s!==0&&(f=Rn(s)))),f===0?0:a!==0&&a!==f&&(a&d)===0&&(d=f&-f,s=a&-a,d>=s||d===32&&(s&4194048)!==0)?a:f}function vr(e,a){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&a)===0}function Fr(e,a){switch(e){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vi(){var e=jn;return jn<<=1,(jn&4194048)===0&&(jn=256),e}function Aa(){var e=yr;return yr<<=1,(yr&62914560)===0&&(yr=4194304),e}function ar(e){for(var a=[],s=0;31>s;s++)a.push(e);return a}function Un(e,a){e.pendingLanes|=a,a!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Re(e,a,s,o,f,d){var E=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var w=e.entanglements,I=e.expirationTimes,Y=e.hiddenUpdates;for(s=E&~s;0<s;){var X=31-Ae(s),tt=1<<X;w[X]=0,I[X]=-1;var G=Y[X];if(G!==null)for(Y[X]=null,X=0;X<G.length;X++){var K=G[X];K!==null&&(K.lane&=-536870913)}s&=~tt}o!==0&&ue(e,o,0),d!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=d&~(E&~a))}function ue(e,a,s){e.pendingLanes|=a,e.suspendedLanes&=~a;var o=31-Ae(a);e.entangledLanes|=a,e.entanglements[o]=e.entanglements[o]|1073741824|s&4194090}function _r(e,a){var s=e.entangledLanes|=a;for(e=e.entanglements;s;){var o=31-Ae(s),f=1<<o;f&a|e[o]&a&&(e[o]|=a),s&=~f}}function Yt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ke(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Er(){var e=st.p;return e!==0?e:(e=window.event,e===void 0?32:h_(e.type))}function Ra(e,a){var s=st.p;try{return st.p=e,a()}finally{st.p=s}}var ie=Math.random().toString(36).slice(2),_e="__reactFiber$"+ie,de="__reactProps$"+ie,$e="__reactContainer$"+ie,Yr="__reactEvents$"+ie,_i="__reactListeners$"+ie,zn="__reactHandles$"+ie,hs="__reactResources$"+ie,ir="__reactMarker$"+ie;function sr(e){delete e[_e],delete e[de],delete e[Yr],delete e[_i],delete e[zn]}function lr(e){var a=e[_e];if(a)return a;for(var s=e.parentNode;s;){if(a=s[$e]||s[_e]){if(s=a.alternate,a.child!==null||s!==null&&s.child!==null)for(e=Wv(e);e!==null;){if(s=e[_e])return s;e=Wv(e)}return a}e=s,s=e.parentNode}return null}function Bn(e){if(e=e[_e]||e[$e]){var a=e.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return e}return null}function St(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e.stateNode;throw Error(i(33))}function Vt(e){var a=e[hs];return a||(a=e[hs]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ot(e){e[ir]=!0}var Xe=new Set,Ue={};function mn(e,a){or(e,a),or(e+"Capture",a)}function or(e,a){for(Ue[e]=a,e=0;e<a.length;e++)Xe.add(a[e])}var ds=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),du={},Ei={};function mu(e){return Ln.call(Ei,e)?!0:Ln.call(du,e)?!1:ds.test(e)?Ei[e]=!0:(du[e]=!0,!1)}function Da(e,a,s){if(mu(a))if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(a);return;case"boolean":var o=a.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(a);return}}e.setAttribute(a,""+s)}}function Tr(e,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttribute(a,""+s)}}function We(e,a,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(a,s,""+o)}}var Ti,gu;function Gr(e){if(Ti===void 0)try{throw Error()}catch(s){var a=s.stack.trim().match(/\n( *(at )?)/);Ti=a&&a[1]||"",gu=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ti+e+gu}var ms=!1;function gs(e,a){if(!e||ms)return"";ms=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(a){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(K){var G=K}Reflect.construct(e,[],tt)}else{try{tt.call()}catch(K){G=K}e.call(tt.prototype)}}else{try{throw Error()}catch(K){G=K}(tt=e())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(K){if(K&&G&&typeof K.stack=="string")return[K.stack,G.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),E=d[0],w=d[1];if(E&&w){var I=E.split(`
`),Y=w.split(`
`);for(f=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;f<Y.length&&!Y[f].includes("DetermineComponentFrameRoot");)f++;if(o===I.length||f===Y.length)for(o=I.length-1,f=Y.length-1;1<=o&&0<=f&&I[o]!==Y[f];)f--;for(;1<=o&&0<=f;o--,f--)if(I[o]!==Y[f]){if(o!==1||f!==1)do if(o--,f--,0>f||I[o]!==Y[f]){var X=`
`+I[o].replace(" at new "," at ");return e.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",e.displayName)),X}while(1<=o&&0<=f);break}}}finally{ms=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Gr(s):""}function xl(e){switch(e.tag){case 26:case 27:case 5:return Gr(e.type);case 16:return Gr("Lazy");case 13:return Gr("Suspense");case 19:return Gr("SuspenseList");case 0:case 15:return gs(e.type,!1);case 11:return gs(e.type.render,!1);case 1:return gs(e.type,!0);case 31:return Gr("Activity");default:return""}}function ps(e){try{var a="";do a+=xl(e),e=e.return;while(e);return a}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function gn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Cl(e){var a=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Gf(e){var a=Cl(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,a),o=""+e[a];if(!e.hasOwnProperty(a)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,d=s.set;return Object.defineProperty(e,a,{configurable:!0,get:function(){return f.call(this)},set:function(E){o=""+E,d.call(this,E)}}),Object.defineProperty(e,a,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(E){o=""+E},stopTracking:function(){e._valueTracker=null,delete e[a]}}}}function ys(e){e._valueTracker||(e._valueTracker=Gf(e))}function Ol(e){if(!e)return!1;var a=e._valueTracker;if(!a)return!0;var s=a.getValue(),o="";return e&&(o=Cl(e)?e.checked?"true":"false":e.value),e=o,e!==s?(a.setValue(e),!0):!1}function bi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Qf=/[\n"\\]/g;function De(e){return e.replace(Qf,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Dn(e,a,s,o,f,d,E,w){e.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.type=E:e.removeAttribute("type"),a!=null?E==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+gn(a)):e.value!==""+gn(a)&&(e.value=""+gn(a)):E!=="submit"&&E!=="reset"||e.removeAttribute("value"),a!=null?xa(e,E,gn(a)):s!=null?xa(e,E,gn(s)):o!=null&&e.removeAttribute("value"),f==null&&d!=null&&(e.defaultChecked=!!d),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.name=""+gn(w):e.removeAttribute("name")}function wi(e,a,s,o,f,d,E,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),a!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||a!=null))return;s=s!=null?""+gn(s):"",a=a!=null?""+gn(a):s,w||a===e.value||(e.value=a),e.defaultValue=a}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=w?e.checked:!!o,e.defaultChecked=!!o,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(e.name=E)}function xa(e,a,s){a==="number"&&bi(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Qr(e,a,s,o){if(e=e.options,a){a={};for(var f=0;f<s.length;f++)a["$"+s[f]]=!0;for(s=0;s<e.length;s++)f=a.hasOwnProperty("$"+e[s].value),e[s].selected!==f&&(e[s].selected=f),f&&o&&(e[s].defaultSelected=!0)}else{for(s=""+gn(s),a=null,f=0;f<e.length;f++){if(e[f].value===s){e[f].selected=!0,o&&(e[f].defaultSelected=!0);return}a!==null||e[f].disabled||(a=e[f])}a!==null&&(a.selected=!0)}}function te(e,a,s){if(a!=null&&(a=""+gn(a),a!==e.value&&(e.value=a),s==null)){e.defaultValue!==a&&(e.defaultValue=a);return}e.defaultValue=s!=null?""+gn(s):""}function Si(e,a,s,o){if(a==null){if(o!=null){if(s!=null)throw Error(i(92));if(Dt(o)){if(1<o.length)throw Error(i(93));o=o[0]}s=o}s==null&&(s=""),a=s}s=gn(a),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o)}function qn(e,a){if(a){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=a;return}}e.textContent=a}var Ai=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pu(e,a,s){var o=a.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="":o?e.setProperty(a,s):typeof s!="number"||s===0||Ai.has(a)?a==="float"?e.cssFloat=s:e[a]=(""+s).trim():e[a]=s+"px"}function Il(e,a,s){if(a!=null&&typeof a!="object")throw Error(i(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||a!=null&&a.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var f in a)o=a[f],a.hasOwnProperty(f)&&s[f]!==o&&pu(e,f,o)}else for(var d in a)a.hasOwnProperty(d)&&pu(e,d,a[d])}function Nl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$f=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vs(e){return $f.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Kr=null;function Hn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $r=null,Xr=null;function Ml(e){var a=Bn(e);if(a&&(e=a.stateNode)){var s=e[de]||null;t:switch(e=a.stateNode,a.type){case"input":if(Dn(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),a=s.name,s.type==="radio"&&a!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+De(""+a)+'"][type="radio"]'),a=0;a<s.length;a++){var o=s[a];if(o!==e&&o.form===e.form){var f=o[de]||null;if(!f)throw Error(i(90));Dn(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(a=0;a<s.length;a++)o=s[a],o.form===e.form&&Ol(o)}break t;case"textarea":te(e,s.value,s.defaultValue);break t;case"select":a=s.value,a!=null&&Qr(e,!!s.multiple,a,!1)}}}var br=!1;function yu(e,a,s){if(br)return e(a,s);br=!0;try{var o=e(a);return o}finally{if(br=!1,($r!==null||Xr!==null)&&(cc(),$r&&(a=$r,e=Xr,Xr=$r=null,Ml(a),e)))for(a=0;a<e.length;a++)Ml(e[a])}}function Ri(e,a){var s=e.stateNode;if(s===null)return null;var o=s[de]||null;if(o===null)return null;s=o[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(i(231,a,typeof s));return s}var ur=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fn=!1;if(ur)try{var Di={};Object.defineProperty(Di,"passive",{get:function(){Fn=!0}}),window.addEventListener("test",Di,Di),window.removeEventListener("test",Di,Di)}catch{Fn=!1}var wr=null,Ca=null,Wr=null;function Vl(){if(Wr)return Wr;var e,a=Ca,s=a.length,o,f="value"in wr?wr.value:wr.textContent,d=f.length;for(e=0;e<s&&a[e]===f[e];e++);var E=s-e;for(o=1;o<=E&&a[s-o]===f[d-o];o++);return Wr=f.slice(e,1<o?1-o:void 0)}function Sr(e){var a=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&a===13&&(e=13)):e=a,e===10&&(e=13),32<=e||e===13?e:0}function Ar(){return!0}function Pl(){return!1}function ze(e){function a(s,o,f,d,E){this._reactName=s,this._targetInst=f,this.type=o,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(s=e[w],this[w]=s?s(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ar:Pl,this.isPropagationStopped=Pl,this}return v(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ar)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ar)},persist:function(){},isPersistent:Ar}),a}var $t={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_s=ze($t),xi=v({},$t,{view:0,detail:0}),vu=ze(xi),Es,Ts,Rr,Ci=v({},xi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ni,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Rr&&(Rr&&e.type==="mousemove"?(Es=e.screenX-Rr.screenX,Ts=e.screenY-Rr.screenY):Ts=Es=0,Rr=e),Es)},movementY:function(e){return"movementY"in e?e.movementY:Ts}}),Yn=ze(Ci),_u=v({},Ci,{dataTransfer:0}),Xf=ze(_u),Oi=v({},xi,{relatedTarget:0}),bs=ze(Oi),kl=v({},$t,{animationName:0,elapsedTime:0,pseudoElement:0}),ws=ze(kl),Eu=v({},$t,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ss=ze(Eu),Wf=v({},$t,{data:0}),Ll=ze(Wf),Ii={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jl(e){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(e):(e=bu[e])?!!a[e]:!1}function Ni(){return jl}var wu=v({},xi,{key:function(e){if(e.key){var a=Ii[e.key]||e.key;if(a!=="Unidentified")return a}return e.type==="keypress"?(e=Sr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Tu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ni,charCode:function(e){return e.type==="keypress"?Sr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Sr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),As=ze(wu),Su=v({},Ci,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ul=ze(Su),Zr=v({},xi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ni}),Au=ze(Zr),Ru=v({},$t,{propertyName:0,elapsedTime:0,pseudoElement:0}),Du=ze(Ru),xu=v({},Ci,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rs=ze(xu),pn=v({},$t,{newState:0,oldState:0}),Cu=ze(pn),Ou=[9,13,27,32],Dr=ur&&"CompositionEvent"in window,c=null;ur&&"documentMode"in document&&(c=document.documentMode);var y=ur&&"TextEvent"in window&&!c,_=ur&&(!Dr||c&&8<c&&11>=c),S=" ",q=!1;function $(e,a){switch(e){case"keyup":return Ou.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ut=!1;function Me(e,a){switch(e){case"compositionend":return lt(a);case"keypress":return a.which!==32?null:(q=!0,S);case"textInput":return e=a.data,e===S&&q?null:e;default:return null}}function zt(e,a){if(Ut)return e==="compositionend"||!Dr&&$(e,a)?(e=Vl(),Wr=Ca=wr=null,Ut=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return _&&a.locale!=="ko"?null:a.data;default:return null}}var Be={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ve(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a==="input"?!!Be[e.type]:a==="textarea"}function Jr(e,a,s,o){$r?Xr?Xr.push(o):Xr=[o]:$r=o,a=pc(a,"onChange"),0<a.length&&(s=new _s("onChange","change",null,s,o),e.push({event:s,listeners:a}))}var Ze=null,xr=null;function zl(e){Bv(e,0)}function Iu(e){var a=St(e);if(Ol(a))return e}function op(e,a){if(e==="change")return a}var up=!1;if(ur){var Zf;if(ur){var Jf="oninput"in document;if(!Jf){var cp=document.createElement("div");cp.setAttribute("oninput","return;"),Jf=typeof cp.oninput=="function"}Zf=Jf}else Zf=!1;up=Zf&&(!document.documentMode||9<document.documentMode)}function fp(){Ze&&(Ze.detachEvent("onpropertychange",hp),xr=Ze=null)}function hp(e){if(e.propertyName==="value"&&Iu(xr)){var a=[];Jr(a,xr,e,Hn(e)),yu(zl,a)}}function Wb(e,a,s){e==="focusin"?(fp(),Ze=a,xr=s,Ze.attachEvent("onpropertychange",hp)):e==="focusout"&&fp()}function Zb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Iu(xr)}function Jb(e,a){if(e==="click")return Iu(a)}function tw(e,a){if(e==="input"||e==="change")return Iu(a)}function ew(e,a){return e===a&&(e!==0||1/e===1/a)||e!==e&&a!==a}var xn=typeof Object.is=="function"?Object.is:ew;function Bl(e,a){if(xn(e,a))return!0;if(typeof e!="object"||e===null||typeof a!="object"||a===null)return!1;var s=Object.keys(e),o=Object.keys(a);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var f=s[o];if(!Ln.call(a,f)||!xn(e[f],a[f]))return!1}return!0}function dp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mp(e,a){var s=dp(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=a&&o>=a)return{node:s,offset:a-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=dp(s)}}function gp(e,a){return e&&a?e===a?!0:e&&e.nodeType===3?!1:a&&a.nodeType===3?gp(e,a.parentNode):"contains"in e?e.contains(a):e.compareDocumentPosition?!!(e.compareDocumentPosition(a)&16):!1:!1}function pp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var a=bi(e.document);a instanceof e.HTMLIFrameElement;){try{var s=typeof a.contentWindow.location.href=="string"}catch{s=!1}if(s)e=a.contentWindow;else break;a=bi(e.document)}return a}function th(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a&&(a==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||a==="textarea"||e.contentEditable==="true")}var nw=ur&&"documentMode"in document&&11>=document.documentMode,Ds=null,eh=null,ql=null,nh=!1;function yp(e,a,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;nh||Ds==null||Ds!==bi(o)||(o=Ds,"selectionStart"in o&&th(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ql&&Bl(ql,o)||(ql=o,o=pc(eh,"onSelect"),0<o.length&&(a=new _s("onSelect","select",null,a,s),e.push({event:a,listeners:o}),a.target=Ds)))}function Mi(e,a){var s={};return s[e.toLowerCase()]=a.toLowerCase(),s["Webkit"+e]="webkit"+a,s["Moz"+e]="moz"+a,s}var xs={animationend:Mi("Animation","AnimationEnd"),animationiteration:Mi("Animation","AnimationIteration"),animationstart:Mi("Animation","AnimationStart"),transitionrun:Mi("Transition","TransitionRun"),transitionstart:Mi("Transition","TransitionStart"),transitioncancel:Mi("Transition","TransitionCancel"),transitionend:Mi("Transition","TransitionEnd")},rh={},vp={};ur&&(vp=document.createElement("div").style,"AnimationEvent"in window||(delete xs.animationend.animation,delete xs.animationiteration.animation,delete xs.animationstart.animation),"TransitionEvent"in window||delete xs.transitionend.transition);function Vi(e){if(rh[e])return rh[e];if(!xs[e])return e;var a=xs[e],s;for(s in a)if(a.hasOwnProperty(s)&&s in vp)return rh[e]=a[s];return e}var _p=Vi("animationend"),Ep=Vi("animationiteration"),Tp=Vi("animationstart"),rw=Vi("transitionrun"),aw=Vi("transitionstart"),iw=Vi("transitioncancel"),bp=Vi("transitionend"),wp=new Map,ah="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ah.push("scrollEnd");function cr(e,a){wp.set(e,a),mn(a,[e])}var Sp=new WeakMap;function Gn(e,a){if(typeof e=="object"&&e!==null){var s=Sp.get(e);return s!==void 0?s:(a={value:e,source:a,stack:ps(a)},Sp.set(e,a),a)}return{value:e,source:a,stack:ps(a)}}var Qn=[],Cs=0,ih=0;function Nu(){for(var e=Cs,a=ih=Cs=0;a<e;){var s=Qn[a];Qn[a++]=null;var o=Qn[a];Qn[a++]=null;var f=Qn[a];Qn[a++]=null;var d=Qn[a];if(Qn[a++]=null,o!==null&&f!==null){var E=o.pending;E===null?f.next=f:(f.next=E.next,E.next=f),o.pending=f}d!==0&&Ap(s,f,d)}}function Mu(e,a,s,o){Qn[Cs++]=e,Qn[Cs++]=a,Qn[Cs++]=s,Qn[Cs++]=o,ih|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function sh(e,a,s,o){return Mu(e,a,s,o),Vu(e)}function Os(e,a){return Mu(e,null,null,a),Vu(e)}function Ap(e,a,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var f=!1,d=e.return;d!==null;)d.childLanes|=s,o=d.alternate,o!==null&&(o.childLanes|=s),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(f=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,f&&a!==null&&(f=31-Ae(s),e=d.hiddenUpdates,o=e[f],o===null?e[f]=[a]:o.push(a),a.lane=s|536870912),d):null}function Vu(e){if(50<mo)throw mo=0,hd=null,Error(i(185));for(var a=e.return;a!==null;)e=a,a=e.return;return e.tag===3?e.stateNode:null}var Is={};function sw(e,a,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(e,a,s,o){return new sw(e,a,s,o)}function lh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ta(e,a){var s=e.alternate;return s===null?(s=Cn(e.tag,a,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=a,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,a=e.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Rp(e,a){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=a,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,a=s.dependencies,e.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),e}function Pu(e,a,s,o,f,d){var E=0;if(o=e,typeof e=="function")lh(e)&&(E=1);else if(typeof e=="string")E=oS(e,s,pt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=Cn(31,s,a,f),e.elementType=C,e.lanes=d,e;case D:return Pi(s.children,f,d,a);case k:E=8,f|=24;break;case P:return e=Cn(12,s,a,f|2),e.elementType=P,e.lanes=d,e;case ct:return e=Cn(13,s,a,f),e.elementType=ct,e.lanes=d,e;case it:return e=Cn(19,s,a,f),e.elementType=it,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case F:case Z:E=10;break t;case rt:E=9;break t;case ut:E=11;break t;case M:E=14;break t;case A:E=16,o=null;break t}E=29,s=Error(i(130,e===null?"null":typeof e,"")),o=null}return a=Cn(E,s,a,f),a.elementType=e,a.type=o,a.lanes=d,a}function Pi(e,a,s,o){return e=Cn(7,e,o,a),e.lanes=s,e}function oh(e,a,s){return e=Cn(6,e,null,a),e.lanes=s,e}function uh(e,a,s){return a=Cn(4,e.children!==null?e.children:[],e.key,a),a.lanes=s,a.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},a}var Ns=[],Ms=0,ku=null,Lu=0,Kn=[],$n=0,ki=null,ea=1,na="";function Li(e,a){Ns[Ms++]=Lu,Ns[Ms++]=ku,ku=e,Lu=a}function Dp(e,a,s){Kn[$n++]=ea,Kn[$n++]=na,Kn[$n++]=ki,ki=e;var o=ea;e=na;var f=32-Ae(o)-1;o&=~(1<<f),s+=1;var d=32-Ae(a)+f;if(30<d){var E=f-f%5;d=(o&(1<<E)-1).toString(32),o>>=E,f-=E,ea=1<<32-Ae(a)+f|s<<f|o,na=d+e}else ea=1<<d|s<<f|o,na=e}function ch(e){e.return!==null&&(Li(e,1),Dp(e,1,0))}function fh(e){for(;e===ku;)ku=Ns[--Ms],Ns[Ms]=null,Lu=Ns[--Ms],Ns[Ms]=null;for(;e===ki;)ki=Kn[--$n],Kn[$n]=null,na=Kn[--$n],Kn[$n]=null,ea=Kn[--$n],Kn[$n]=null}var yn=null,Ee=null,Kt=!1,ji=null,Cr=!1,hh=Error(i(519));function Ui(e){var a=Error(i(418,""));throw Yl(Gn(a,e)),hh}function xp(e){var a=e.stateNode,s=e.type,o=e.memoizedProps;switch(a[_e]=e,a[de]=o,s){case"dialog":Lt("cancel",a),Lt("close",a);break;case"iframe":case"object":case"embed":Lt("load",a);break;case"video":case"audio":for(s=0;s<po.length;s++)Lt(po[s],a);break;case"source":Lt("error",a);break;case"img":case"image":case"link":Lt("error",a),Lt("load",a);break;case"details":Lt("toggle",a);break;case"input":Lt("invalid",a),wi(a,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),ys(a);break;case"select":Lt("invalid",a);break;case"textarea":Lt("invalid",a),Si(a,o.value,o.defaultValue,o.children),ys(a)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||a.textContent===""+s||o.suppressHydrationWarning===!0||Yv(a.textContent,s)?(o.popover!=null&&(Lt("beforetoggle",a),Lt("toggle",a)),o.onScroll!=null&&Lt("scroll",a),o.onScrollEnd!=null&&Lt("scrollend",a),o.onClick!=null&&(a.onclick=yc),a=!0):a=!1,a||Ui(e)}function Cp(e){for(yn=e.return;yn;)switch(yn.tag){case 5:case 13:Cr=!1;return;case 27:case 3:Cr=!0;return;default:yn=yn.return}}function Hl(e){if(e!==yn)return!1;if(!Kt)return Cp(e),Kt=!0,!1;var a=e.tag,s;if((s=a!==3&&a!==27)&&((s=a===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||xd(e.type,e.memoizedProps)),s=!s),s&&Ee&&Ui(e),Cp(e),a===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));t:{for(e=e.nextSibling,a=0;e;){if(e.nodeType===8)if(s=e.data,s==="/$"){if(a===0){Ee=hr(e.nextSibling);break t}a--}else s!=="$"&&s!=="$!"&&s!=="$?"||a++;e=e.nextSibling}Ee=null}}else a===27?(a=Ee,Ya(e.type)?(e=Nd,Nd=null,Ee=e):Ee=a):Ee=yn?hr(e.stateNode.nextSibling):null;return!0}function Fl(){Ee=yn=null,Kt=!1}function Op(){var e=ji;return e!==null&&(Tn===null?Tn=e:Tn.push.apply(Tn,e),ji=null),e}function Yl(e){ji===null?ji=[e]:ji.push(e)}var dh=J(null),zi=null,ra=null;function Oa(e,a,s){at(dh,a._currentValue),a._currentValue=s}function aa(e){e._currentValue=dh.current,ot(dh)}function mh(e,a,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&a)!==a?(e.childLanes|=a,o!==null&&(o.childLanes|=a)):o!==null&&(o.childLanes&a)!==a&&(o.childLanes|=a),e===s)break;e=e.return}}function gh(e,a,s,o){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var d=f.dependencies;if(d!==null){var E=f.child;d=d.firstContext;t:for(;d!==null;){var w=d;d=f;for(var I=0;I<a.length;I++)if(w.context===a[I]){d.lanes|=s,w=d.alternate,w!==null&&(w.lanes|=s),mh(d.return,s,e),o||(E=null);break t}d=w.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(i(341));E.lanes|=s,d=E.alternate,d!==null&&(d.lanes|=s),mh(E,s,e),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===e){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function Gl(e,a,s,o){e=null;for(var f=a,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var w=f.type;xn(f.pendingProps.value,E.value)||(e!==null?e.push(w):e=[w])}}else if(f===fe.current){if(E=f.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(bo):e=[bo])}f=f.return}e!==null&&gh(a,e,s,o),a.flags|=262144}function ju(e){for(e=e.firstContext;e!==null;){if(!xn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Bi(e){zi=e,ra=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ln(e){return Ip(zi,e)}function Uu(e,a){return zi===null&&Bi(e),Ip(e,a)}function Ip(e,a){var s=a._currentValue;if(a={context:a,memoizedValue:s,next:null},ra===null){if(e===null)throw Error(i(308));ra=a,e.dependencies={lanes:0,firstContext:a},e.flags|=524288}else ra=ra.next=a;return s}var lw=typeof AbortController<"u"?AbortController:function(){var e=[],a=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){a.aborted=!0,e.forEach(function(s){return s()})}},ow=r.unstable_scheduleCallback,uw=r.unstable_NormalPriority,Pe={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ph(){return{controller:new lw,data:new Map,refCount:0}}function Ql(e){e.refCount--,e.refCount===0&&ow(uw,function(){e.controller.abort()})}var Kl=null,yh=0,Vs=0,Ps=null;function cw(e,a){if(Kl===null){var s=Kl=[];yh=0,Vs=_d(),Ps={status:"pending",value:void 0,then:function(o){s.push(o)}}}return yh++,a.then(Np,Np),a}function Np(){if(--yh===0&&Kl!==null){Ps!==null&&(Ps.status="fulfilled");var e=Kl;Kl=null,Vs=0,Ps=null;for(var a=0;a<e.length;a++)(0,e[a])()}}function fw(e,a){var s=[],o={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return e.then(function(){o.status="fulfilled",o.value=a;for(var f=0;f<s.length;f++)(0,s[f])(a)},function(f){for(o.status="rejected",o.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),o}var Mp=Q.S;Q.S=function(e,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&cw(e,a),Mp!==null&&Mp(e,a)};var qi=J(null);function vh(){var e=qi.current;return e!==null?e:le.pooledCache}function zu(e,a){a===null?at(qi,qi.current):at(qi,a.pool)}function Vp(){var e=vh();return e===null?null:{parent:Pe._currentValue,pool:e}}var $l=Error(i(460)),Pp=Error(i(474)),Bu=Error(i(542)),_h={then:function(){}};function kp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function qu(){}function Lp(e,a,s){switch(s=e[s],s===void 0?e.push(a):s!==a&&(a.then(qu,qu),a=s),a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,Up(e),e;default:if(typeof a.status=="string")a.then(qu,qu);else{if(e=le,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=a,e.status="pending",e.then(function(o){if(a.status==="pending"){var f=a;f.status="fulfilled",f.value=o}},function(o){if(a.status==="pending"){var f=a;f.status="rejected",f.reason=o}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,Up(e),e}throw Xl=a,$l}}var Xl=null;function jp(){if(Xl===null)throw Error(i(459));var e=Xl;return Xl=null,e}function Up(e){if(e===$l||e===Bu)throw Error(i(483))}var Ia=!1;function Eh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Th(e,a){e=e.updateQueue,a.updateQueue===e&&(a.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Na(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ma(e,a,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Wt&2)!==0){var f=o.pending;return f===null?a.next=a:(a.next=f.next,f.next=a),o.pending=a,a=Vu(e),Ap(e,null,s),a}return Mu(e,o,a,s),Vu(e)}function Wl(e,a,s){if(a=a.updateQueue,a!==null&&(a=a.shared,(s&4194048)!==0)){var o=a.lanes;o&=e.pendingLanes,s|=o,a.lanes=s,_r(e,s)}}function bh(e,a){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var f=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var E={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?f=d=E:d=d.next=E,s=s.next}while(s!==null);d===null?f=d=a:d=d.next=a}else f=d=a;s={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=a:e.next=a,s.lastBaseUpdate=a}var wh=!1;function Zl(){if(wh){var e=Ps;if(e!==null)throw e}}function Jl(e,a,s,o){wh=!1;var f=e.updateQueue;Ia=!1;var d=f.firstBaseUpdate,E=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var I=w,Y=I.next;I.next=null,E===null?d=Y:E.next=Y,E=I;var X=e.alternate;X!==null&&(X=X.updateQueue,w=X.lastBaseUpdate,w!==E&&(w===null?X.firstBaseUpdate=Y:w.next=Y,X.lastBaseUpdate=I))}if(d!==null){var tt=f.baseState;E=0,X=Y=I=null,w=d;do{var G=w.lane&-536870913,K=G!==w.lane;if(K?(Bt&G)===G:(o&G)===G){G!==0&&G===Vs&&(wh=!0),X!==null&&(X=X.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var bt=e,Et=w;G=a;var re=s;switch(Et.tag){case 1:if(bt=Et.payload,typeof bt=="function"){tt=bt.call(re,tt,G);break t}tt=bt;break t;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=Et.payload,G=typeof bt=="function"?bt.call(re,tt,G):bt,G==null)break t;tt=v({},tt,G);break t;case 2:Ia=!0}}G=w.callback,G!==null&&(e.flags|=64,K&&(e.flags|=8192),K=f.callbacks,K===null?f.callbacks=[G]:K.push(G))}else K={lane:G,tag:w.tag,payload:w.payload,callback:w.callback,next:null},X===null?(Y=X=K,I=tt):X=X.next=K,E|=G;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;K=w,w=K.next,K.next=null,f.lastBaseUpdate=K,f.shared.pending=null}}while(!0);X===null&&(I=tt),f.baseState=I,f.firstBaseUpdate=Y,f.lastBaseUpdate=X,d===null&&(f.shared.lanes=0),Ba|=E,e.lanes=E,e.memoizedState=tt}}function zp(e,a){if(typeof e!="function")throw Error(i(191,e));e.call(a)}function Bp(e,a){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)zp(s[e],a)}var ks=J(null),Hu=J(0);function qp(e,a){e=fa,at(Hu,e),at(ks,a),fa=e|a.baseLanes}function Sh(){at(Hu,fa),at(ks,ks.current)}function Ah(){fa=Hu.current,ot(ks),ot(Hu)}var Va=0,Nt=null,ee=null,xe=null,Fu=!1,Ls=!1,Hi=!1,Yu=0,to=0,js=null,hw=0;function be(){throw Error(i(321))}function Rh(e,a){if(a===null)return!1;for(var s=0;s<a.length&&s<e.length;s++)if(!xn(e[s],a[s]))return!1;return!0}function Dh(e,a,s,o,f,d){return Va=d,Nt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Q.H=e===null||e.memoizedState===null?Ay:Ry,Hi=!1,d=s(o,f),Hi=!1,Ls&&(d=Fp(a,s,o,f)),Hp(e),d}function Hp(e){Q.H=Wu;var a=ee!==null&&ee.next!==null;if(Va=0,xe=ee=Nt=null,Fu=!1,to=0,js=null,a)throw Error(i(300));e===null||qe||(e=e.dependencies,e!==null&&ju(e)&&(qe=!0))}function Fp(e,a,s,o){Nt=e;var f=0;do{if(Ls&&(js=null),to=0,Ls=!1,25<=f)throw Error(i(301));if(f+=1,xe=ee=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=_w,d=a(s,o)}while(Ls);return d}function dw(){var e=Q.H,a=e.useState()[0];return a=typeof a.then=="function"?eo(a):a,e=e.useState()[0],(ee!==null?ee.memoizedState:null)!==e&&(Nt.flags|=1024),a}function xh(){var e=Yu!==0;return Yu=0,e}function Ch(e,a,s){a.updateQueue=e.updateQueue,a.flags&=-2053,e.lanes&=~s}function Oh(e){if(Fu){for(e=e.memoizedState;e!==null;){var a=e.queue;a!==null&&(a.pending=null),e=e.next}Fu=!1}Va=0,xe=ee=Nt=null,Ls=!1,to=Yu=0,js=null}function _n(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xe===null?Nt.memoizedState=xe=e:xe=xe.next=e,xe}function Ce(){if(ee===null){var e=Nt.alternate;e=e!==null?e.memoizedState:null}else e=ee.next;var a=xe===null?Nt.memoizedState:xe.next;if(a!==null)xe=a,ee=e;else{if(e===null)throw Nt.alternate===null?Error(i(467)):Error(i(310));ee=e,e={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},xe===null?Nt.memoizedState=xe=e:xe=xe.next=e}return xe}function Ih(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function eo(e){var a=to;return to+=1,js===null&&(js=[]),e=Lp(js,e,a),a=Nt,(xe===null?a.memoizedState:xe.next)===null&&(a=a.alternate,Q.H=a===null||a.memoizedState===null?Ay:Ry),e}function Gu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return eo(e);if(e.$$typeof===Z)return ln(e)}throw Error(i(438,String(e)))}function Nh(e){var a=null,s=Nt.updateQueue;if(s!==null&&(a=s.memoCache),a==null){var o=Nt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(a={data:o.data.map(function(f){return f.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),s===null&&(s=Ih(),Nt.updateQueue=s),s.memoCache=a,s=a.data[a.index],s===void 0)for(s=a.data[a.index]=Array(e),o=0;o<e;o++)s[o]=N;return a.index++,s}function ia(e,a){return typeof a=="function"?a(e):a}function Qu(e){var a=Ce();return Mh(a,ee,e)}function Mh(e,a,s){var o=e.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var f=e.baseQueue,d=o.pending;if(d!==null){if(f!==null){var E=f.next;f.next=d.next,d.next=E}a.baseQueue=f=d,o.pending=null}if(d=e.baseState,f===null)e.memoizedState=d;else{a=f.next;var w=E=null,I=null,Y=a,X=!1;do{var tt=Y.lane&-536870913;if(tt!==Y.lane?(Bt&tt)===tt:(Va&tt)===tt){var G=Y.revertLane;if(G===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),tt===Vs&&(X=!0);else if((Va&G)===G){Y=Y.next,G===Vs&&(X=!0);continue}else tt={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},I===null?(w=I=tt,E=d):I=I.next=tt,Nt.lanes|=G,Ba|=G;tt=Y.action,Hi&&s(d,tt),d=Y.hasEagerState?Y.eagerState:s(d,tt)}else G={lane:tt,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},I===null?(w=I=G,E=d):I=I.next=G,Nt.lanes|=tt,Ba|=tt;Y=Y.next}while(Y!==null&&Y!==a);if(I===null?E=d:I.next=w,!xn(d,e.memoizedState)&&(qe=!0,X&&(s=Ps,s!==null)))throw s;e.memoizedState=d,e.baseState=E,e.baseQueue=I,o.lastRenderedState=d}return f===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Vh(e){var a=Ce(),s=a.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=e;var o=s.dispatch,f=s.pending,d=a.memoizedState;if(f!==null){s.pending=null;var E=f=f.next;do d=e(d,E.action),E=E.next;while(E!==f);xn(d,a.memoizedState)||(qe=!0),a.memoizedState=d,a.baseQueue===null&&(a.baseState=d),s.lastRenderedState=d}return[d,o]}function Yp(e,a,s){var o=Nt,f=Ce(),d=Kt;if(d){if(s===void 0)throw Error(i(407));s=s()}else s=a();var E=!xn((ee||f).memoizedState,s);E&&(f.memoizedState=s,qe=!0),f=f.queue;var w=Kp.bind(null,o,f,e);if(no(2048,8,w,[e]),f.getSnapshot!==a||E||xe!==null&&xe.memoizedState.tag&1){if(o.flags|=2048,Us(9,Ku(),Qp.bind(null,o,f,s,a),null),le===null)throw Error(i(349));d||(Va&124)!==0||Gp(o,a,s)}return s}function Gp(e,a,s){e.flags|=16384,e={getSnapshot:a,value:s},a=Nt.updateQueue,a===null?(a=Ih(),Nt.updateQueue=a,a.stores=[e]):(s=a.stores,s===null?a.stores=[e]:s.push(e))}function Qp(e,a,s,o){a.value=s,a.getSnapshot=o,$p(a)&&Xp(e)}function Kp(e,a,s){return s(function(){$p(a)&&Xp(e)})}function $p(e){var a=e.getSnapshot;e=e.value;try{var s=a();return!xn(e,s)}catch{return!0}}function Xp(e){var a=Os(e,2);a!==null&&Vn(a,e,2)}function Ph(e){var a=_n();if(typeof e=="function"){var s=e;if(e=s(),Hi){dn(!0);try{s()}finally{dn(!1)}}}return a.memoizedState=a.baseState=e,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:e},a}function Wp(e,a,s,o){return e.baseState=s,Mh(e,ee,typeof o=="function"?o:ia)}function mw(e,a,s,o,f){if(Xu(e))throw Error(i(485));if(e=a.action,e!==null){var d={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};Q.T!==null?s(!0):d.isTransition=!1,o(d),s=a.pending,s===null?(d.next=a.pending=d,Zp(a,d)):(d.next=s.next,a.pending=s.next=d)}}function Zp(e,a){var s=a.action,o=a.payload,f=e.state;if(a.isTransition){var d=Q.T,E={};Q.T=E;try{var w=s(f,o),I=Q.S;I!==null&&I(E,w),Jp(e,a,w)}catch(Y){kh(e,a,Y)}finally{Q.T=d}}else try{d=s(f,o),Jp(e,a,d)}catch(Y){kh(e,a,Y)}}function Jp(e,a,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){ty(e,a,o)},function(o){return kh(e,a,o)}):ty(e,a,s)}function ty(e,a,s){a.status="fulfilled",a.value=s,ey(a),e.state=s,a=e.pending,a!==null&&(s=a.next,s===a?e.pending=null:(s=s.next,a.next=s,Zp(e,s)))}function kh(e,a,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do a.status="rejected",a.reason=s,ey(a),a=a.next;while(a!==o)}e.action=null}function ey(e){e=e.listeners;for(var a=0;a<e.length;a++)(0,e[a])()}function ny(e,a){return a}function ry(e,a){if(Kt){var s=le.formState;if(s!==null){t:{var o=Nt;if(Kt){if(Ee){e:{for(var f=Ee,d=Cr;f.nodeType!==8;){if(!d){f=null;break e}if(f=hr(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){Ee=hr(f.nextSibling),o=f.data==="F!";break t}}Ui(o)}o=!1}o&&(a=s[0])}}return s=_n(),s.memoizedState=s.baseState=a,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ny,lastRenderedState:a},s.queue=o,s=by.bind(null,Nt,o),o.dispatch=s,o=Ph(!1),d=Bh.bind(null,Nt,!1,o.queue),o=_n(),f={state:a,dispatch:null,action:e,pending:null},o.queue=f,s=mw.bind(null,Nt,f,d,s),f.dispatch=s,o.memoizedState=e,[a,s,!1]}function ay(e){var a=Ce();return iy(a,ee,e)}function iy(e,a,s){if(a=Mh(e,a,ny)[0],e=Qu(ia)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var o=eo(a)}catch(E){throw E===$l?Bu:E}else o=a;a=Ce();var f=a.queue,d=f.dispatch;return s!==a.memoizedState&&(Nt.flags|=2048,Us(9,Ku(),gw.bind(null,f,s),null)),[o,d,e]}function gw(e,a){e.action=a}function sy(e){var a=Ce(),s=ee;if(s!==null)return iy(a,s,e);Ce(),a=a.memoizedState,s=Ce();var o=s.queue.dispatch;return s.memoizedState=e,[a,o,!1]}function Us(e,a,s,o){return e={tag:e,create:s,deps:o,inst:a,next:null},a=Nt.updateQueue,a===null&&(a=Ih(),Nt.updateQueue=a),s=a.lastEffect,s===null?a.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,a.lastEffect=e),e}function Ku(){return{destroy:void 0,resource:void 0}}function ly(){return Ce().memoizedState}function $u(e,a,s,o){var f=_n();o=o===void 0?null:o,Nt.flags|=e,f.memoizedState=Us(1|a,Ku(),s,o)}function no(e,a,s,o){var f=Ce();o=o===void 0?null:o;var d=f.memoizedState.inst;ee!==null&&o!==null&&Rh(o,ee.memoizedState.deps)?f.memoizedState=Us(a,d,s,o):(Nt.flags|=e,f.memoizedState=Us(1|a,d,s,o))}function oy(e,a){$u(8390656,8,e,a)}function uy(e,a){no(2048,8,e,a)}function cy(e,a){return no(4,2,e,a)}function fy(e,a){return no(4,4,e,a)}function hy(e,a){if(typeof a=="function"){e=e();var s=a(e);return function(){typeof s=="function"?s():a(null)}}if(a!=null)return e=e(),a.current=e,function(){a.current=null}}function dy(e,a,s){s=s!=null?s.concat([e]):null,no(4,4,hy.bind(null,a,e),s)}function Lh(){}function my(e,a){var s=Ce();a=a===void 0?null:a;var o=s.memoizedState;return a!==null&&Rh(a,o[1])?o[0]:(s.memoizedState=[e,a],e)}function gy(e,a){var s=Ce();a=a===void 0?null:a;var o=s.memoizedState;if(a!==null&&Rh(a,o[1]))return o[0];if(o=e(),Hi){dn(!0);try{e()}finally{dn(!1)}}return s.memoizedState=[o,a],o}function jh(e,a,s){return s===void 0||(Va&1073741824)!==0?e.memoizedState=a:(e.memoizedState=s,e=vv(),Nt.lanes|=e,Ba|=e,s)}function py(e,a,s,o){return xn(s,a)?s:ks.current!==null?(e=jh(e,s,o),xn(e,a)||(qe=!0),e):(Va&42)===0?(qe=!0,e.memoizedState=s):(e=vv(),Nt.lanes|=e,Ba|=e,a)}function yy(e,a,s,o,f){var d=st.p;st.p=d!==0&&8>d?d:8;var E=Q.T,w={};Q.T=w,Bh(e,!1,a,s);try{var I=f(),Y=Q.S;if(Y!==null&&Y(w,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var X=fw(I,o);ro(e,a,X,Mn(e))}else ro(e,a,o,Mn(e))}catch(tt){ro(e,a,{then:function(){},status:"rejected",reason:tt},Mn())}finally{st.p=d,Q.T=E}}function pw(){}function Uh(e,a,s,o){if(e.tag!==5)throw Error(i(476));var f=vy(e).queue;yy(e,f,a,gt,s===null?pw:function(){return _y(e),s(o)})}function vy(e){var a=e.memoizedState;if(a!==null)return a;a={memoizedState:gt,baseState:gt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:gt},next:null};var s={};return a.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:s},next:null},e.memoizedState=a,e=e.alternate,e!==null&&(e.memoizedState=a),a}function _y(e){var a=vy(e).next.queue;ro(e,a,{},Mn())}function zh(){return ln(bo)}function Ey(){return Ce().memoizedState}function Ty(){return Ce().memoizedState}function yw(e){for(var a=e.return;a!==null;){switch(a.tag){case 24:case 3:var s=Mn();e=Na(s);var o=Ma(a,e,s);o!==null&&(Vn(o,a,s),Wl(o,a,s)),a={cache:ph()},e.payload=a;return}a=a.return}}function vw(e,a,s){var o=Mn();s={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Xu(e)?wy(a,s):(s=sh(e,a,s,o),s!==null&&(Vn(s,e,o),Sy(s,a,o)))}function by(e,a,s){var o=Mn();ro(e,a,s,o)}function ro(e,a,s,o){var f={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Xu(e))wy(a,f);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=a.lastRenderedReducer,d!==null))try{var E=a.lastRenderedState,w=d(E,s);if(f.hasEagerState=!0,f.eagerState=w,xn(w,E))return Mu(e,a,f,0),le===null&&Nu(),!1}catch{}finally{}if(s=sh(e,a,f,o),s!==null)return Vn(s,e,o),Sy(s,a,o),!0}return!1}function Bh(e,a,s,o){if(o={lane:2,revertLane:_d(),action:o,hasEagerState:!1,eagerState:null,next:null},Xu(e)){if(a)throw Error(i(479))}else a=sh(e,s,o,2),a!==null&&Vn(a,e,2)}function Xu(e){var a=e.alternate;return e===Nt||a!==null&&a===Nt}function wy(e,a){Ls=Fu=!0;var s=e.pending;s===null?a.next=a:(a.next=s.next,s.next=a),e.pending=a}function Sy(e,a,s){if((s&4194048)!==0){var o=a.lanes;o&=e.pendingLanes,s|=o,a.lanes=s,_r(e,s)}}var Wu={readContext:ln,use:Gu,useCallback:be,useContext:be,useEffect:be,useImperativeHandle:be,useLayoutEffect:be,useInsertionEffect:be,useMemo:be,useReducer:be,useRef:be,useState:be,useDebugValue:be,useDeferredValue:be,useTransition:be,useSyncExternalStore:be,useId:be,useHostTransitionStatus:be,useFormState:be,useActionState:be,useOptimistic:be,useMemoCache:be,useCacheRefresh:be},Ay={readContext:ln,use:Gu,useCallback:function(e,a){return _n().memoizedState=[e,a===void 0?null:a],e},useContext:ln,useEffect:oy,useImperativeHandle:function(e,a,s){s=s!=null?s.concat([e]):null,$u(4194308,4,hy.bind(null,a,e),s)},useLayoutEffect:function(e,a){return $u(4194308,4,e,a)},useInsertionEffect:function(e,a){$u(4,2,e,a)},useMemo:function(e,a){var s=_n();a=a===void 0?null:a;var o=e();if(Hi){dn(!0);try{e()}finally{dn(!1)}}return s.memoizedState=[o,a],o},useReducer:function(e,a,s){var o=_n();if(s!==void 0){var f=s(a);if(Hi){dn(!0);try{s(a)}finally{dn(!1)}}}else f=a;return o.memoizedState=o.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},o.queue=e,e=e.dispatch=vw.bind(null,Nt,e),[o.memoizedState,e]},useRef:function(e){var a=_n();return e={current:e},a.memoizedState=e},useState:function(e){e=Ph(e);var a=e.queue,s=by.bind(null,Nt,a);return a.dispatch=s,[e.memoizedState,s]},useDebugValue:Lh,useDeferredValue:function(e,a){var s=_n();return jh(s,e,a)},useTransition:function(){var e=Ph(!1);return e=yy.bind(null,Nt,e.queue,!0,!1),_n().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,a,s){var o=Nt,f=_n();if(Kt){if(s===void 0)throw Error(i(407));s=s()}else{if(s=a(),le===null)throw Error(i(349));(Bt&124)!==0||Gp(o,a,s)}f.memoizedState=s;var d={value:s,getSnapshot:a};return f.queue=d,oy(Kp.bind(null,o,d,e),[e]),o.flags|=2048,Us(9,Ku(),Qp.bind(null,o,d,s,a),null),s},useId:function(){var e=_n(),a=le.identifierPrefix;if(Kt){var s=na,o=ea;s=(o&~(1<<32-Ae(o)-1)).toString(32)+s,a="«"+a+"R"+s,s=Yu++,0<s&&(a+="H"+s.toString(32)),a+="»"}else s=hw++,a="«"+a+"r"+s.toString(32)+"»";return e.memoizedState=a},useHostTransitionStatus:zh,useFormState:ry,useActionState:ry,useOptimistic:function(e){var a=_n();a.memoizedState=a.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=s,a=Bh.bind(null,Nt,!0,s),s.dispatch=a,[e,a]},useMemoCache:Nh,useCacheRefresh:function(){return _n().memoizedState=yw.bind(null,Nt)}},Ry={readContext:ln,use:Gu,useCallback:my,useContext:ln,useEffect:uy,useImperativeHandle:dy,useInsertionEffect:cy,useLayoutEffect:fy,useMemo:gy,useReducer:Qu,useRef:ly,useState:function(){return Qu(ia)},useDebugValue:Lh,useDeferredValue:function(e,a){var s=Ce();return py(s,ee.memoizedState,e,a)},useTransition:function(){var e=Qu(ia)[0],a=Ce().memoizedState;return[typeof e=="boolean"?e:eo(e),a]},useSyncExternalStore:Yp,useId:Ey,useHostTransitionStatus:zh,useFormState:ay,useActionState:ay,useOptimistic:function(e,a){var s=Ce();return Wp(s,ee,e,a)},useMemoCache:Nh,useCacheRefresh:Ty},_w={readContext:ln,use:Gu,useCallback:my,useContext:ln,useEffect:uy,useImperativeHandle:dy,useInsertionEffect:cy,useLayoutEffect:fy,useMemo:gy,useReducer:Vh,useRef:ly,useState:function(){return Vh(ia)},useDebugValue:Lh,useDeferredValue:function(e,a){var s=Ce();return ee===null?jh(s,e,a):py(s,ee.memoizedState,e,a)},useTransition:function(){var e=Vh(ia)[0],a=Ce().memoizedState;return[typeof e=="boolean"?e:eo(e),a]},useSyncExternalStore:Yp,useId:Ey,useHostTransitionStatus:zh,useFormState:sy,useActionState:sy,useOptimistic:function(e,a){var s=Ce();return ee!==null?Wp(s,ee,e,a):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Nh,useCacheRefresh:Ty},zs=null,ao=0;function Zu(e){var a=ao;return ao+=1,zs===null&&(zs=[]),Lp(zs,e,a)}function io(e,a){a=a.props.ref,e.ref=a!==void 0?a:null}function Ju(e,a){throw a.$$typeof===T?Error(i(525)):(e=Object.prototype.toString.call(a),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":e)))}function Dy(e){var a=e._init;return a(e._payload)}function xy(e){function a(B,L){if(e){var H=B.deletions;H===null?(B.deletions=[L],B.flags|=16):H.push(L)}}function s(B,L){if(!e)return null;for(;L!==null;)a(B,L),L=L.sibling;return null}function o(B){for(var L=new Map;B!==null;)B.key!==null?L.set(B.key,B):L.set(B.index,B),B=B.sibling;return L}function f(B,L){return B=ta(B,L),B.index=0,B.sibling=null,B}function d(B,L,H){return B.index=H,e?(H=B.alternate,H!==null?(H=H.index,H<L?(B.flags|=67108866,L):H):(B.flags|=67108866,L)):(B.flags|=1048576,L)}function E(B){return e&&B.alternate===null&&(B.flags|=67108866),B}function w(B,L,H,W){return L===null||L.tag!==6?(L=oh(H,B.mode,W),L.return=B,L):(L=f(L,H),L.return=B,L)}function I(B,L,H,W){var dt=H.type;return dt===D?X(B,L,H.props.children,W,H.key):L!==null&&(L.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===A&&Dy(dt)===L.type)?(L=f(L,H.props),io(L,H),L.return=B,L):(L=Pu(H.type,H.key,H.props,null,B.mode,W),io(L,H),L.return=B,L)}function Y(B,L,H,W){return L===null||L.tag!==4||L.stateNode.containerInfo!==H.containerInfo||L.stateNode.implementation!==H.implementation?(L=uh(H,B.mode,W),L.return=B,L):(L=f(L,H.children||[]),L.return=B,L)}function X(B,L,H,W,dt){return L===null||L.tag!==7?(L=Pi(H,B.mode,W,dt),L.return=B,L):(L=f(L,H),L.return=B,L)}function tt(B,L,H){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=oh(""+L,B.mode,H),L.return=B,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case b:return H=Pu(L.type,L.key,L.props,null,B.mode,H),io(H,L),H.return=B,H;case R:return L=uh(L,B.mode,H),L.return=B,L;case A:var W=L._init;return L=W(L._payload),tt(B,L,H)}if(Dt(L)||U(L))return L=Pi(L,B.mode,H,null),L.return=B,L;if(typeof L.then=="function")return tt(B,Zu(L),H);if(L.$$typeof===Z)return tt(B,Uu(B,L),H);Ju(B,L)}return null}function G(B,L,H,W){var dt=L!==null?L.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return dt!==null?null:w(B,L,""+H,W);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case b:return H.key===dt?I(B,L,H,W):null;case R:return H.key===dt?Y(B,L,H,W):null;case A:return dt=H._init,H=dt(H._payload),G(B,L,H,W)}if(Dt(H)||U(H))return dt!==null?null:X(B,L,H,W,null);if(typeof H.then=="function")return G(B,L,Zu(H),W);if(H.$$typeof===Z)return G(B,L,Uu(B,H),W);Ju(B,H)}return null}function K(B,L,H,W,dt){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return B=B.get(H)||null,w(L,B,""+W,dt);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case b:return B=B.get(W.key===null?H:W.key)||null,I(L,B,W,dt);case R:return B=B.get(W.key===null?H:W.key)||null,Y(L,B,W,dt);case A:var Pt=W._init;return W=Pt(W._payload),K(B,L,H,W,dt)}if(Dt(W)||U(W))return B=B.get(H)||null,X(L,B,W,dt,null);if(typeof W.then=="function")return K(B,L,H,Zu(W),dt);if(W.$$typeof===Z)return K(B,L,H,Uu(L,W),dt);Ju(L,W)}return null}function bt(B,L,H,W){for(var dt=null,Pt=null,yt=L,Tt=L=0,Fe=null;yt!==null&&Tt<H.length;Tt++){yt.index>Tt?(Fe=yt,yt=null):Fe=yt.sibling;var Gt=G(B,yt,H[Tt],W);if(Gt===null){yt===null&&(yt=Fe);break}e&&yt&&Gt.alternate===null&&a(B,yt),L=d(Gt,L,Tt),Pt===null?dt=Gt:Pt.sibling=Gt,Pt=Gt,yt=Fe}if(Tt===H.length)return s(B,yt),Kt&&Li(B,Tt),dt;if(yt===null){for(;Tt<H.length;Tt++)yt=tt(B,H[Tt],W),yt!==null&&(L=d(yt,L,Tt),Pt===null?dt=yt:Pt.sibling=yt,Pt=yt);return Kt&&Li(B,Tt),dt}for(yt=o(yt);Tt<H.length;Tt++)Fe=K(yt,B,Tt,H[Tt],W),Fe!==null&&(e&&Fe.alternate!==null&&yt.delete(Fe.key===null?Tt:Fe.key),L=d(Fe,L,Tt),Pt===null?dt=Fe:Pt.sibling=Fe,Pt=Fe);return e&&yt.forEach(function(Xa){return a(B,Xa)}),Kt&&Li(B,Tt),dt}function Et(B,L,H,W){if(H==null)throw Error(i(151));for(var dt=null,Pt=null,yt=L,Tt=L=0,Fe=null,Gt=H.next();yt!==null&&!Gt.done;Tt++,Gt=H.next()){yt.index>Tt?(Fe=yt,yt=null):Fe=yt.sibling;var Xa=G(B,yt,Gt.value,W);if(Xa===null){yt===null&&(yt=Fe);break}e&&yt&&Xa.alternate===null&&a(B,yt),L=d(Xa,L,Tt),Pt===null?dt=Xa:Pt.sibling=Xa,Pt=Xa,yt=Fe}if(Gt.done)return s(B,yt),Kt&&Li(B,Tt),dt;if(yt===null){for(;!Gt.done;Tt++,Gt=H.next())Gt=tt(B,Gt.value,W),Gt!==null&&(L=d(Gt,L,Tt),Pt===null?dt=Gt:Pt.sibling=Gt,Pt=Gt);return Kt&&Li(B,Tt),dt}for(yt=o(yt);!Gt.done;Tt++,Gt=H.next())Gt=K(yt,B,Tt,Gt.value,W),Gt!==null&&(e&&Gt.alternate!==null&&yt.delete(Gt.key===null?Tt:Gt.key),L=d(Gt,L,Tt),Pt===null?dt=Gt:Pt.sibling=Gt,Pt=Gt);return e&&yt.forEach(function(ES){return a(B,ES)}),Kt&&Li(B,Tt),dt}function re(B,L,H,W){if(typeof H=="object"&&H!==null&&H.type===D&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case b:t:{for(var dt=H.key;L!==null;){if(L.key===dt){if(dt=H.type,dt===D){if(L.tag===7){s(B,L.sibling),W=f(L,H.props.children),W.return=B,B=W;break t}}else if(L.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===A&&Dy(dt)===L.type){s(B,L.sibling),W=f(L,H.props),io(W,H),W.return=B,B=W;break t}s(B,L);break}else a(B,L);L=L.sibling}H.type===D?(W=Pi(H.props.children,B.mode,W,H.key),W.return=B,B=W):(W=Pu(H.type,H.key,H.props,null,B.mode,W),io(W,H),W.return=B,B=W)}return E(B);case R:t:{for(dt=H.key;L!==null;){if(L.key===dt)if(L.tag===4&&L.stateNode.containerInfo===H.containerInfo&&L.stateNode.implementation===H.implementation){s(B,L.sibling),W=f(L,H.children||[]),W.return=B,B=W;break t}else{s(B,L);break}else a(B,L);L=L.sibling}W=uh(H,B.mode,W),W.return=B,B=W}return E(B);case A:return dt=H._init,H=dt(H._payload),re(B,L,H,W)}if(Dt(H))return bt(B,L,H,W);if(U(H)){if(dt=U(H),typeof dt!="function")throw Error(i(150));return H=dt.call(H),Et(B,L,H,W)}if(typeof H.then=="function")return re(B,L,Zu(H),W);if(H.$$typeof===Z)return re(B,L,Uu(B,H),W);Ju(B,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,L!==null&&L.tag===6?(s(B,L.sibling),W=f(L,H),W.return=B,B=W):(s(B,L),W=oh(H,B.mode,W),W.return=B,B=W),E(B)):s(B,L)}return function(B,L,H,W){try{ao=0;var dt=re(B,L,H,W);return zs=null,dt}catch(yt){if(yt===$l||yt===Bu)throw yt;var Pt=Cn(29,yt,null,B.mode);return Pt.lanes=W,Pt.return=B,Pt}finally{}}}var Bs=xy(!0),Cy=xy(!1),Xn=J(null),Or=null;function Pa(e){var a=e.alternate;at(ke,ke.current&1),at(Xn,e),Or===null&&(a===null||ks.current!==null||a.memoizedState!==null)&&(Or=e)}function Oy(e){if(e.tag===22){if(at(ke,ke.current),at(Xn,e),Or===null){var a=e.alternate;a!==null&&a.memoizedState!==null&&(Or=e)}}else ka()}function ka(){at(ke,ke.current),at(Xn,Xn.current)}function sa(e){ot(Xn),Or===e&&(Or=null),ot(ke)}var ke=J(0);function tc(e){for(var a=e;a!==null;){if(a.tag===13){var s=a.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Id(s)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function qh(e,a,s,o){a=e.memoizedState,s=s(o,a),s=s==null?a:v({},a,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Hh={enqueueSetState:function(e,a,s){e=e._reactInternals;var o=Mn(),f=Na(o);f.payload=a,s!=null&&(f.callback=s),a=Ma(e,f,o),a!==null&&(Vn(a,e,o),Wl(a,e,o))},enqueueReplaceState:function(e,a,s){e=e._reactInternals;var o=Mn(),f=Na(o);f.tag=1,f.payload=a,s!=null&&(f.callback=s),a=Ma(e,f,o),a!==null&&(Vn(a,e,o),Wl(a,e,o))},enqueueForceUpdate:function(e,a){e=e._reactInternals;var s=Mn(),o=Na(s);o.tag=2,a!=null&&(o.callback=a),a=Ma(e,o,s),a!==null&&(Vn(a,e,s),Wl(a,e,s))}};function Iy(e,a,s,o,f,d,E){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,E):a.prototype&&a.prototype.isPureReactComponent?!Bl(s,o)||!Bl(f,d):!0}function Ny(e,a,s,o){e=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(s,o),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(s,o),a.state!==e&&Hh.enqueueReplaceState(a,a.state,null)}function Fi(e,a){var s=a;if("ref"in a){s={};for(var o in a)o!=="ref"&&(s[o]=a[o])}if(e=e.defaultProps){s===a&&(s=v({},s));for(var f in e)s[f]===void 0&&(s[f]=e[f])}return s}var ec=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function My(e){ec(e)}function Vy(e){console.error(e)}function Py(e){ec(e)}function nc(e,a){try{var s=e.onUncaughtError;s(a.value,{componentStack:a.stack})}catch(o){setTimeout(function(){throw o})}}function ky(e,a,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Fh(e,a,s){return s=Na(s),s.tag=3,s.payload={element:null},s.callback=function(){nc(e,a)},s}function Ly(e){return e=Na(e),e.tag=3,e}function jy(e,a,s,o){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var d=o.value;e.payload=function(){return f(d)},e.callback=function(){ky(a,s,o)}}var E=s.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(e.callback=function(){ky(a,s,o),typeof f!="function"&&(qa===null?qa=new Set([this]):qa.add(this));var w=o.stack;this.componentDidCatch(o.value,{componentStack:w!==null?w:""})})}function Ew(e,a,s,o,f){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(a=s.alternate,a!==null&&Gl(a,s,f,!0),s=Xn.current,s!==null){switch(s.tag){case 13:return Or===null?md():s.alternate===null&&Te===0&&(Te=3),s.flags&=-257,s.flags|=65536,s.lanes=f,o===_h?s.flags|=16384:(a=s.updateQueue,a===null?s.updateQueue=new Set([o]):a.add(o),pd(e,o,f)),!1;case 22:return s.flags|=65536,o===_h?s.flags|=16384:(a=s.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=a):(s=a.retryQueue,s===null?a.retryQueue=new Set([o]):s.add(o)),pd(e,o,f)),!1}throw Error(i(435,s.tag))}return pd(e,o,f),md(),!1}if(Kt)return a=Xn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=f,o!==hh&&(e=Error(i(422),{cause:o}),Yl(Gn(e,s)))):(o!==hh&&(a=Error(i(423),{cause:o}),Yl(Gn(a,s))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,o=Gn(o,s),f=Fh(e.stateNode,o,f),bh(e,f),Te!==4&&(Te=2)),!1;var d=Error(i(520),{cause:o});if(d=Gn(d,s),ho===null?ho=[d]:ho.push(d),Te!==4&&(Te=2),a===null)return!0;o=Gn(o,s),s=a;do{switch(s.tag){case 3:return s.flags|=65536,e=f&-f,s.lanes|=e,e=Fh(s.stateNode,o,e),bh(s,e),!1;case 1:if(a=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(qa===null||!qa.has(d))))return s.flags|=65536,f&=-f,s.lanes|=f,f=Ly(f),jy(f,e,s,o),bh(s,f),!1}s=s.return}while(s!==null);return!1}var Uy=Error(i(461)),qe=!1;function Je(e,a,s,o){a.child=e===null?Cy(a,null,s,o):Bs(a,e.child,s,o)}function zy(e,a,s,o,f){s=s.render;var d=a.ref;if("ref"in o){var E={};for(var w in o)w!=="ref"&&(E[w]=o[w])}else E=o;return Bi(a),o=Dh(e,a,s,E,d,f),w=xh(),e!==null&&!qe?(Ch(e,a,f),la(e,a,f)):(Kt&&w&&ch(a),a.flags|=1,Je(e,a,o,f),a.child)}function By(e,a,s,o,f){if(e===null){var d=s.type;return typeof d=="function"&&!lh(d)&&d.defaultProps===void 0&&s.compare===null?(a.tag=15,a.type=d,qy(e,a,d,o,f)):(e=Pu(s.type,null,o,a,a.mode,f),e.ref=a.ref,e.return=a,a.child=e)}if(d=e.child,!Zh(e,f)){var E=d.memoizedProps;if(s=s.compare,s=s!==null?s:Bl,s(E,o)&&e.ref===a.ref)return la(e,a,f)}return a.flags|=1,e=ta(d,o),e.ref=a.ref,e.return=a,a.child=e}function qy(e,a,s,o,f){if(e!==null){var d=e.memoizedProps;if(Bl(d,o)&&e.ref===a.ref)if(qe=!1,a.pendingProps=o=d,Zh(e,f))(e.flags&131072)!==0&&(qe=!0);else return a.lanes=e.lanes,la(e,a,f)}return Yh(e,a,s,o,f)}function Hy(e,a,s){var o=a.pendingProps,f=o.children,d=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((a.flags&128)!==0){if(o=d!==null?d.baseLanes|s:s,e!==null){for(f=a.child=e.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;a.childLanes=d&~o}else a.childLanes=0,a.child=null;return Fy(e,a,o,s)}if((s&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},e!==null&&zu(a,d!==null?d.cachePool:null),d!==null?qp(a,d):Sh(),Oy(a);else return a.lanes=a.childLanes=536870912,Fy(e,a,d!==null?d.baseLanes|s:s,s)}else d!==null?(zu(a,d.cachePool),qp(a,d),ka(),a.memoizedState=null):(e!==null&&zu(a,null),Sh(),ka());return Je(e,a,f,s),a.child}function Fy(e,a,s,o){var f=vh();return f=f===null?null:{parent:Pe._currentValue,pool:f},a.memoizedState={baseLanes:s,cachePool:f},e!==null&&zu(a,null),Sh(),Oy(a),e!==null&&Gl(e,a,o,!0),null}function rc(e,a){var s=a.ref;if(s===null)e!==null&&e.ref!==null&&(a.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(i(284));(e===null||e.ref!==s)&&(a.flags|=4194816)}}function Yh(e,a,s,o,f){return Bi(a),s=Dh(e,a,s,o,void 0,f),o=xh(),e!==null&&!qe?(Ch(e,a,f),la(e,a,f)):(Kt&&o&&ch(a),a.flags|=1,Je(e,a,s,f),a.child)}function Yy(e,a,s,o,f,d){return Bi(a),a.updateQueue=null,s=Fp(a,o,s,f),Hp(e),o=xh(),e!==null&&!qe?(Ch(e,a,d),la(e,a,d)):(Kt&&o&&ch(a),a.flags|=1,Je(e,a,s,d),a.child)}function Gy(e,a,s,o,f){if(Bi(a),a.stateNode===null){var d=Is,E=s.contextType;typeof E=="object"&&E!==null&&(d=ln(E)),d=new s(o,d),a.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Hh,a.stateNode=d,d._reactInternals=a,d=a.stateNode,d.props=o,d.state=a.memoizedState,d.refs={},Eh(a),E=s.contextType,d.context=typeof E=="object"&&E!==null?ln(E):Is,d.state=a.memoizedState,E=s.getDerivedStateFromProps,typeof E=="function"&&(qh(a,s,E,o),d.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&Hh.enqueueReplaceState(d,d.state,null),Jl(a,o,d,f),Zl(),d.state=a.memoizedState),typeof d.componentDidMount=="function"&&(a.flags|=4194308),o=!0}else if(e===null){d=a.stateNode;var w=a.memoizedProps,I=Fi(s,w);d.props=I;var Y=d.context,X=s.contextType;E=Is,typeof X=="object"&&X!==null&&(E=ln(X));var tt=s.getDerivedStateFromProps;X=typeof tt=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=a.pendingProps!==w,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||Y!==E)&&Ny(a,d,o,E),Ia=!1;var G=a.memoizedState;d.state=G,Jl(a,o,d,f),Zl(),Y=a.memoizedState,w||G!==Y||Ia?(typeof tt=="function"&&(qh(a,s,tt,o),Y=a.memoizedState),(I=Ia||Iy(a,s,I,o,G,Y,E))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(a.flags|=4194308)):(typeof d.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=o,a.memoizedState=Y),d.props=o,d.state=Y,d.context=E,o=I):(typeof d.componentDidMount=="function"&&(a.flags|=4194308),o=!1)}else{d=a.stateNode,Th(e,a),E=a.memoizedProps,X=Fi(s,E),d.props=X,tt=a.pendingProps,G=d.context,Y=s.contextType,I=Is,typeof Y=="object"&&Y!==null&&(I=ln(Y)),w=s.getDerivedStateFromProps,(Y=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==tt||G!==I)&&Ny(a,d,o,I),Ia=!1,G=a.memoizedState,d.state=G,Jl(a,o,d,f),Zl();var K=a.memoizedState;E!==tt||G!==K||Ia||e!==null&&e.dependencies!==null&&ju(e.dependencies)?(typeof w=="function"&&(qh(a,s,w,o),K=a.memoizedState),(X=Ia||Iy(a,s,X,o,G,K,I)||e!==null&&e.dependencies!==null&&ju(e.dependencies))?(Y||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,K,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,K,I)),typeof d.componentDidUpdate=="function"&&(a.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===e.memoizedProps&&G===e.memoizedState||(a.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&G===e.memoizedState||(a.flags|=1024),a.memoizedProps=o,a.memoizedState=K),d.props=o,d.state=K,d.context=I,o=X):(typeof d.componentDidUpdate!="function"||E===e.memoizedProps&&G===e.memoizedState||(a.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&G===e.memoizedState||(a.flags|=1024),o=!1)}return d=o,rc(e,a),o=(a.flags&128)!==0,d||o?(d=a.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:d.render(),a.flags|=1,e!==null&&o?(a.child=Bs(a,e.child,null,f),a.child=Bs(a,null,s,f)):Je(e,a,s,f),a.memoizedState=d.state,e=a.child):e=la(e,a,f),e}function Qy(e,a,s,o){return Fl(),a.flags|=256,Je(e,a,s,o),a.child}var Gh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qh(e){return{baseLanes:e,cachePool:Vp()}}function Kh(e,a,s){return e=e!==null?e.childLanes&~s:0,a&&(e|=Wn),e}function Ky(e,a,s){var o=a.pendingProps,f=!1,d=(a.flags&128)!==0,E;if((E=d)||(E=e!==null&&e.memoizedState===null?!1:(ke.current&2)!==0),E&&(f=!0,a.flags&=-129),E=(a.flags&32)!==0,a.flags&=-33,e===null){if(Kt){if(f?Pa(a):ka(),Kt){var w=Ee,I;if(I=w){t:{for(I=w,w=Cr;I.nodeType!==8;){if(!w){w=null;break t}if(I=hr(I.nextSibling),I===null){w=null;break t}}w=I}w!==null?(a.memoizedState={dehydrated:w,treeContext:ki!==null?{id:ea,overflow:na}:null,retryLane:536870912,hydrationErrors:null},I=Cn(18,null,null,0),I.stateNode=w,I.return=a,a.child=I,yn=a,Ee=null,I=!0):I=!1}I||Ui(a)}if(w=a.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return Id(w)?a.lanes=32:a.lanes=536870912,null;sa(a)}return w=o.children,o=o.fallback,f?(ka(),f=a.mode,w=ac({mode:"hidden",children:w},f),o=Pi(o,f,s,null),w.return=a,o.return=a,w.sibling=o,a.child=w,f=a.child,f.memoizedState=Qh(s),f.childLanes=Kh(e,E,s),a.memoizedState=Gh,o):(Pa(a),$h(a,w))}if(I=e.memoizedState,I!==null&&(w=I.dehydrated,w!==null)){if(d)a.flags&256?(Pa(a),a.flags&=-257,a=Xh(e,a,s)):a.memoizedState!==null?(ka(),a.child=e.child,a.flags|=128,a=null):(ka(),f=o.fallback,w=a.mode,o=ac({mode:"visible",children:o.children},w),f=Pi(f,w,s,null),f.flags|=2,o.return=a,f.return=a,o.sibling=f,a.child=o,Bs(a,e.child,null,s),o=a.child,o.memoizedState=Qh(s),o.childLanes=Kh(e,E,s),a.memoizedState=Gh,a=f);else if(Pa(a),Id(w)){if(E=w.nextSibling&&w.nextSibling.dataset,E)var Y=E.dgst;E=Y,o=Error(i(419)),o.stack="",o.digest=E,Yl({value:o,source:null,stack:null}),a=Xh(e,a,s)}else if(qe||Gl(e,a,s,!1),E=(s&e.childLanes)!==0,qe||E){if(E=le,E!==null&&(o=s&-s,o=(o&42)!==0?1:Yt(o),o=(o&(E.suspendedLanes|s))!==0?0:o,o!==0&&o!==I.retryLane))throw I.retryLane=o,Os(e,o),Vn(E,e,o),Uy;w.data==="$?"||md(),a=Xh(e,a,s)}else w.data==="$?"?(a.flags|=192,a.child=e.child,a=null):(e=I.treeContext,Ee=hr(w.nextSibling),yn=a,Kt=!0,ji=null,Cr=!1,e!==null&&(Kn[$n++]=ea,Kn[$n++]=na,Kn[$n++]=ki,ea=e.id,na=e.overflow,ki=a),a=$h(a,o.children),a.flags|=4096);return a}return f?(ka(),f=o.fallback,w=a.mode,I=e.child,Y=I.sibling,o=ta(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,Y!==null?f=ta(Y,f):(f=Pi(f,w,s,null),f.flags|=2),f.return=a,o.return=a,o.sibling=f,a.child=o,o=f,f=a.child,w=e.child.memoizedState,w===null?w=Qh(s):(I=w.cachePool,I!==null?(Y=Pe._currentValue,I=I.parent!==Y?{parent:Y,pool:Y}:I):I=Vp(),w={baseLanes:w.baseLanes|s,cachePool:I}),f.memoizedState=w,f.childLanes=Kh(e,E,s),a.memoizedState=Gh,o):(Pa(a),s=e.child,e=s.sibling,s=ta(s,{mode:"visible",children:o.children}),s.return=a,s.sibling=null,e!==null&&(E=a.deletions,E===null?(a.deletions=[e],a.flags|=16):E.push(e)),a.child=s,a.memoizedState=null,s)}function $h(e,a){return a=ac({mode:"visible",children:a},e.mode),a.return=e,e.child=a}function ac(e,a){return e=Cn(22,e,null,a),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Xh(e,a,s){return Bs(a,e.child,null,s),e=$h(a,a.pendingProps.children),e.flags|=2,a.memoizedState=null,e}function $y(e,a,s){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a),mh(e.return,a,s)}function Wh(e,a,s,o,f){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:f}:(d.isBackwards=a,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=s,d.tailMode=f)}function Xy(e,a,s){var o=a.pendingProps,f=o.revealOrder,d=o.tail;if(Je(e,a,o.children,s),o=ke.current,(o&2)!==0)o=o&1|2,a.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=a.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$y(e,s,a);else if(e.tag===19)$y(e,s,a);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===a)break t;for(;e.sibling===null;){if(e.return===null||e.return===a)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(at(ke,o),f){case"forwards":for(s=a.child,f=null;s!==null;)e=s.alternate,e!==null&&tc(e)===null&&(f=s),s=s.sibling;s=f,s===null?(f=a.child,a.child=null):(f=s.sibling,s.sibling=null),Wh(a,!1,f,s,d);break;case"backwards":for(s=null,f=a.child,a.child=null;f!==null;){if(e=f.alternate,e!==null&&tc(e)===null){a.child=f;break}e=f.sibling,f.sibling=s,s=f,f=e}Wh(a,!0,s,null,d);break;case"together":Wh(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function la(e,a,s){if(e!==null&&(a.dependencies=e.dependencies),Ba|=a.lanes,(s&a.childLanes)===0)if(e!==null){if(Gl(e,a,s,!1),(s&a.childLanes)===0)return null}else return null;if(e!==null&&a.child!==e.child)throw Error(i(153));if(a.child!==null){for(e=a.child,s=ta(e,e.pendingProps),a.child=s,s.return=a;e.sibling!==null;)e=e.sibling,s=s.sibling=ta(e,e.pendingProps),s.return=a;s.sibling=null}return a.child}function Zh(e,a){return(e.lanes&a)!==0?!0:(e=e.dependencies,!!(e!==null&&ju(e)))}function Tw(e,a,s){switch(a.tag){case 3:Ft(a,a.stateNode.containerInfo),Oa(a,Pe,e.memoizedState.cache),Fl();break;case 27:case 5:kn(a);break;case 4:Ft(a,a.stateNode.containerInfo);break;case 10:Oa(a,a.type,a.memoizedProps.value);break;case 13:var o=a.memoizedState;if(o!==null)return o.dehydrated!==null?(Pa(a),a.flags|=128,null):(s&a.child.childLanes)!==0?Ky(e,a,s):(Pa(a),e=la(e,a,s),e!==null?e.sibling:null);Pa(a);break;case 19:var f=(e.flags&128)!==0;if(o=(s&a.childLanes)!==0,o||(Gl(e,a,s,!1),o=(s&a.childLanes)!==0),f){if(o)return Xy(e,a,s);a.flags|=128}if(f=a.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),at(ke,ke.current),o)break;return null;case 22:case 23:return a.lanes=0,Hy(e,a,s);case 24:Oa(a,Pe,e.memoizedState.cache)}return la(e,a,s)}function Wy(e,a,s){if(e!==null)if(e.memoizedProps!==a.pendingProps)qe=!0;else{if(!Zh(e,s)&&(a.flags&128)===0)return qe=!1,Tw(e,a,s);qe=(e.flags&131072)!==0}else qe=!1,Kt&&(a.flags&1048576)!==0&&Dp(a,Lu,a.index);switch(a.lanes=0,a.tag){case 16:t:{e=a.pendingProps;var o=a.elementType,f=o._init;if(o=f(o._payload),a.type=o,typeof o=="function")lh(o)?(e=Fi(o,e),a.tag=1,a=Gy(null,a,o,e,s)):(a.tag=0,a=Yh(null,a,o,e,s));else{if(o!=null){if(f=o.$$typeof,f===ut){a.tag=11,a=zy(null,a,o,e,s);break t}else if(f===M){a.tag=14,a=By(null,a,o,e,s);break t}}throw a=mt(o)||o,Error(i(306,a,""))}}return a;case 0:return Yh(e,a,a.type,a.pendingProps,s);case 1:return o=a.type,f=Fi(o,a.pendingProps),Gy(e,a,o,f,s);case 3:t:{if(Ft(a,a.stateNode.containerInfo),e===null)throw Error(i(387));o=a.pendingProps;var d=a.memoizedState;f=d.element,Th(e,a),Jl(a,o,null,s);var E=a.memoizedState;if(o=E.cache,Oa(a,Pe,o),o!==d.cache&&gh(a,[Pe],s,!0),Zl(),o=E.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:E.cache},a.updateQueue.baseState=d,a.memoizedState=d,a.flags&256){a=Qy(e,a,o,s);break t}else if(o!==f){f=Gn(Error(i(424)),a),Yl(f),a=Qy(e,a,o,s);break t}else{switch(e=a.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ee=hr(e.firstChild),yn=a,Kt=!0,ji=null,Cr=!0,s=Cy(a,null,o,s),a.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Fl(),o===f){a=la(e,a,s);break t}Je(e,a,o,s)}a=a.child}return a;case 26:return rc(e,a),e===null?(s=e_(a.type,null,a.pendingProps,null))?a.memoizedState=s:Kt||(s=a.type,e=a.pendingProps,o=vc(_t.current).createElement(s),o[_e]=a,o[de]=e,en(o,s,e),Ot(o),a.stateNode=o):a.memoizedState=e_(a.type,e.memoizedProps,a.pendingProps,e.memoizedState),null;case 27:return kn(a),e===null&&Kt&&(o=a.stateNode=Zv(a.type,a.pendingProps,_t.current),yn=a,Cr=!0,f=Ee,Ya(a.type)?(Nd=f,Ee=hr(o.firstChild)):Ee=f),Je(e,a,a.pendingProps.children,s),rc(e,a),e===null&&(a.flags|=4194304),a.child;case 5:return e===null&&Kt&&((f=o=Ee)&&(o=$w(o,a.type,a.pendingProps,Cr),o!==null?(a.stateNode=o,yn=a,Ee=hr(o.firstChild),Cr=!1,f=!0):f=!1),f||Ui(a)),kn(a),f=a.type,d=a.pendingProps,E=e!==null?e.memoizedProps:null,o=d.children,xd(f,d)?o=null:E!==null&&xd(f,E)&&(a.flags|=32),a.memoizedState!==null&&(f=Dh(e,a,dw,null,null,s),bo._currentValue=f),rc(e,a),Je(e,a,o,s),a.child;case 6:return e===null&&Kt&&((e=s=Ee)&&(s=Xw(s,a.pendingProps,Cr),s!==null?(a.stateNode=s,yn=a,Ee=null,e=!0):e=!1),e||Ui(a)),null;case 13:return Ky(e,a,s);case 4:return Ft(a,a.stateNode.containerInfo),o=a.pendingProps,e===null?a.child=Bs(a,null,o,s):Je(e,a,o,s),a.child;case 11:return zy(e,a,a.type,a.pendingProps,s);case 7:return Je(e,a,a.pendingProps,s),a.child;case 8:return Je(e,a,a.pendingProps.children,s),a.child;case 12:return Je(e,a,a.pendingProps.children,s),a.child;case 10:return o=a.pendingProps,Oa(a,a.type,o.value),Je(e,a,o.children,s),a.child;case 9:return f=a.type._context,o=a.pendingProps.children,Bi(a),f=ln(f),o=o(f),a.flags|=1,Je(e,a,o,s),a.child;case 14:return By(e,a,a.type,a.pendingProps,s);case 15:return qy(e,a,a.type,a.pendingProps,s);case 19:return Xy(e,a,s);case 31:return o=a.pendingProps,s=a.mode,o={mode:o.mode,children:o.children},e===null?(s=ac(o,s),s.ref=a.ref,a.child=s,s.return=a,a=s):(s=ta(e.child,o),s.ref=a.ref,a.child=s,s.return=a,a=s),a;case 22:return Hy(e,a,s);case 24:return Bi(a),o=ln(Pe),e===null?(f=vh(),f===null&&(f=le,d=ph(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=s),f=d),a.memoizedState={parent:o,cache:f},Eh(a),Oa(a,Pe,f)):((e.lanes&s)!==0&&(Th(e,a),Jl(a,null,null,s),Zl()),f=e.memoizedState,d=a.memoizedState,f.parent!==o?(f={parent:o,cache:o},a.memoizedState=f,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=f),Oa(a,Pe,o)):(o=d.cache,Oa(a,Pe,o),o!==f.cache&&gh(a,[Pe],s,!0))),Je(e,a,a.pendingProps.children,s),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function oa(e){e.flags|=4}function Zy(e,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!s_(a)){if(a=Xn.current,a!==null&&((Bt&4194048)===Bt?Or!==null:(Bt&62914560)!==Bt&&(Bt&536870912)===0||a!==Or))throw Xl=_h,Pp;e.flags|=8192}}function ic(e,a){a!==null&&(e.flags|=4),e.flags&16384&&(a=e.tag!==22?Aa():536870912,e.lanes|=a,Ys|=a)}function so(e,a){if(!Kt)switch(e.tailMode){case"hidden":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?a||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ye(e){var a=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(a)for(var f=e.child;f!==null;)s|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)s|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=o,e.childLanes=s,a}function bw(e,a,s){var o=a.pendingProps;switch(fh(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ye(a),null;case 1:return ye(a),null;case 3:return s=a.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),aa(Pe),Ne(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Hl(a)?oa(a):e===null||e.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Op())),ye(a),null;case 26:return s=a.memoizedState,e===null?(oa(a),s!==null?(ye(a),Zy(a,s)):(ye(a),a.flags&=-16777217)):s?s!==e.memoizedState?(oa(a),ye(a),Zy(a,s)):(ye(a),a.flags&=-16777217):(e.memoizedProps!==o&&oa(a),ye(a),a.flags&=-16777217),null;case 27:An(a),s=_t.current;var f=a.type;if(e!==null&&a.stateNode!=null)e.memoizedProps!==o&&oa(a);else{if(!o){if(a.stateNode===null)throw Error(i(166));return ye(a),null}e=pt.current,Hl(a)?xp(a):(e=Zv(f,o,s),a.stateNode=e,oa(a))}return ye(a),null;case 5:if(An(a),s=a.type,e!==null&&a.stateNode!=null)e.memoizedProps!==o&&oa(a);else{if(!o){if(a.stateNode===null)throw Error(i(166));return ye(a),null}if(e=pt.current,Hl(a))xp(a);else{switch(f=vc(_t.current),e){case 1:e=f.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:e=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":e=f.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":e=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?f.createElement("select",{is:o.is}):f.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?f.createElement(s,{is:o.is}):f.createElement(s)}}e[_e]=a,e[de]=o;t:for(f=a.child;f!==null;){if(f.tag===5||f.tag===6)e.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===a)break t;for(;f.sibling===null;){if(f.return===null||f.return===a)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}a.stateNode=e;t:switch(en(e,s,o),s){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&oa(a)}}return ye(a),a.flags&=-16777217,null;case 6:if(e&&a.stateNode!=null)e.memoizedProps!==o&&oa(a);else{if(typeof o!="string"&&a.stateNode===null)throw Error(i(166));if(e=_t.current,Hl(a)){if(e=a.stateNode,s=a.memoizedProps,o=null,f=yn,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}e[_e]=a,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Yv(e.nodeValue,s)),e||Ui(a)}else e=vc(e).createTextNode(o),e[_e]=a,a.stateNode=e}return ye(a),null;case 13:if(o=a.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Hl(a),o!==null&&o.dehydrated!==null){if(e===null){if(!f)throw Error(i(318));if(f=a.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[_e]=a}else Fl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ye(a),f=!1}else f=Op(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return a.flags&256?(sa(a),a):(sa(a),null)}if(sa(a),(a.flags&128)!==0)return a.lanes=s,a;if(s=o!==null,e=e!==null&&e.memoizedState!==null,s){o=a.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==f&&(o.flags|=2048)}return s!==e&&s&&(a.child.flags|=8192),ic(a,a.updateQueue),ye(a),null;case 4:return Ne(),e===null&&wd(a.stateNode.containerInfo),ye(a),null;case 10:return aa(a.type),ye(a),null;case 19:if(ot(ke),f=a.memoizedState,f===null)return ye(a),null;if(o=(a.flags&128)!==0,d=f.rendering,d===null)if(o)so(f,!1);else{if(Te!==0||e!==null&&(e.flags&128)!==0)for(e=a.child;e!==null;){if(d=tc(e),d!==null){for(a.flags|=128,so(f,!1),e=d.updateQueue,a.updateQueue=e,ic(a,e),a.subtreeFlags=0,e=s,s=a.child;s!==null;)Rp(s,e),s=s.sibling;return at(ke,ke.current&1|2),a.child}e=e.sibling}f.tail!==null&&Qe()>oc&&(a.flags|=128,o=!0,so(f,!1),a.lanes=4194304)}else{if(!o)if(e=tc(d),e!==null){if(a.flags|=128,o=!0,e=e.updateQueue,a.updateQueue=e,ic(a,e),so(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!Kt)return ye(a),null}else 2*Qe()-f.renderingStartTime>oc&&s!==536870912&&(a.flags|=128,o=!0,so(f,!1),a.lanes=4194304);f.isBackwards?(d.sibling=a.child,a.child=d):(e=f.last,e!==null?e.sibling=d:a.child=d,f.last=d)}return f.tail!==null?(a=f.tail,f.rendering=a,f.tail=a.sibling,f.renderingStartTime=Qe(),a.sibling=null,e=ke.current,at(ke,o?e&1|2:e&1),a):(ye(a),null);case 22:case 23:return sa(a),Ah(),o=a.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(a.flags|=8192):o&&(a.flags|=8192),o?(s&536870912)!==0&&(a.flags&128)===0&&(ye(a),a.subtreeFlags&6&&(a.flags|=8192)):ye(a),s=a.updateQueue,s!==null&&ic(a,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(o=a.memoizedState.cachePool.pool),o!==s&&(a.flags|=2048),e!==null&&ot(qi),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),a.memoizedState.cache!==s&&(a.flags|=2048),aa(Pe),ye(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function ww(e,a){switch(fh(a),a.tag){case 1:return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 3:return aa(Pe),Ne(),e=a.flags,(e&65536)!==0&&(e&128)===0?(a.flags=e&-65537|128,a):null;case 26:case 27:case 5:return An(a),null;case 13:if(sa(a),e=a.memoizedState,e!==null&&e.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Fl()}return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 19:return ot(ke),null;case 4:return Ne(),null;case 10:return aa(a.type),null;case 22:case 23:return sa(a),Ah(),e!==null&&ot(qi),e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 24:return aa(Pe),null;case 25:return null;default:return null}}function Jy(e,a){switch(fh(a),a.tag){case 3:aa(Pe),Ne();break;case 26:case 27:case 5:An(a);break;case 4:Ne();break;case 13:sa(a);break;case 19:ot(ke);break;case 10:aa(a.type);break;case 22:case 23:sa(a),Ah(),e!==null&&ot(qi);break;case 24:aa(Pe)}}function lo(e,a){try{var s=a.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var f=o.next;s=f;do{if((s.tag&e)===e){o=void 0;var d=s.create,E=s.inst;o=d(),E.destroy=o}s=s.next}while(s!==f)}}catch(w){se(a,a.return,w)}}function La(e,a,s){try{var o=a.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var d=f.next;o=d;do{if((o.tag&e)===e){var E=o.inst,w=E.destroy;if(w!==void 0){E.destroy=void 0,f=a;var I=s,Y=w;try{Y()}catch(X){se(f,I,X)}}}o=o.next}while(o!==d)}}catch(X){se(a,a.return,X)}}function tv(e){var a=e.updateQueue;if(a!==null){var s=e.stateNode;try{Bp(a,s)}catch(o){se(e,e.return,o)}}}function ev(e,a,s){s.props=Fi(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){se(e,a,o)}}function oo(e,a){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(f){se(e,a,f)}}function Ir(e,a){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(f){se(e,a,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){se(e,a,f)}else s.current=null}function nv(e){var a=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(f){se(e,e.return,f)}}function Jh(e,a,s){try{var o=e.stateNode;Fw(o,e.type,s,a),o[de]=a}catch(f){se(e,e.return,f)}}function rv(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ya(e.type)||e.tag===4}function td(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||rv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ya(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ed(e,a,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,a?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,a):(a=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,a.appendChild(e),s=s._reactRootContainer,s!=null||a.onclick!==null||(a.onclick=yc));else if(o!==4&&(o===27&&Ya(e.type)&&(s=e.stateNode,a=null),e=e.child,e!==null))for(ed(e,a,s),e=e.sibling;e!==null;)ed(e,a,s),e=e.sibling}function sc(e,a,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,a?s.insertBefore(e,a):s.appendChild(e);else if(o!==4&&(o===27&&Ya(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(sc(e,a,s),e=e.sibling;e!==null;)sc(e,a,s),e=e.sibling}function av(e){var a=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,f=a.attributes;f.length;)a.removeAttributeNode(f[0]);en(a,o,s),a[_e]=e,a[de]=s}catch(d){se(e,e.return,d)}}var ua=!1,we=!1,nd=!1,iv=typeof WeakSet=="function"?WeakSet:Set,He=null;function Sw(e,a){if(e=e.containerInfo,Rd=Sc,e=pp(e),th(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var f=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break t}var E=0,w=-1,I=-1,Y=0,X=0,tt=e,G=null;e:for(;;){for(var K;tt!==s||f!==0&&tt.nodeType!==3||(w=E+f),tt!==d||o!==0&&tt.nodeType!==3||(I=E+o),tt.nodeType===3&&(E+=tt.nodeValue.length),(K=tt.firstChild)!==null;)G=tt,tt=K;for(;;){if(tt===e)break e;if(G===s&&++Y===f&&(w=E),G===d&&++X===o&&(I=E),(K=tt.nextSibling)!==null)break;tt=G,G=tt.parentNode}tt=K}s=w===-1||I===-1?null:{start:w,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(Dd={focusedElem:e,selectionRange:s},Sc=!1,He=a;He!==null;)if(a=He,e=a.child,(a.subtreeFlags&1024)!==0&&e!==null)e.return=a,He=e;else for(;He!==null;){switch(a=He,d=a.alternate,e=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,s=a,f=d.memoizedProps,d=d.memoizedState,o=s.stateNode;try{var bt=Fi(s.type,f,s.elementType===s.type);e=o.getSnapshotBeforeUpdate(bt,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(Et){se(s,s.return,Et)}}break;case 3:if((e&1024)!==0){if(e=a.stateNode.containerInfo,s=e.nodeType,s===9)Od(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Od(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=a.sibling,e!==null){e.return=a.return,He=e;break}He=a.return}}function sv(e,a,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:ja(e,s),o&4&&lo(5,s);break;case 1:if(ja(e,s),o&4)if(e=s.stateNode,a===null)try{e.componentDidMount()}catch(E){se(s,s.return,E)}else{var f=Fi(s.type,a.memoizedProps);a=a.memoizedState;try{e.componentDidUpdate(f,a,e.__reactInternalSnapshotBeforeUpdate)}catch(E){se(s,s.return,E)}}o&64&&tv(s),o&512&&oo(s,s.return);break;case 3:if(ja(e,s),o&64&&(e=s.updateQueue,e!==null)){if(a=null,s.child!==null)switch(s.child.tag){case 27:case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}try{Bp(e,a)}catch(E){se(s,s.return,E)}}break;case 27:a===null&&o&4&&av(s);case 26:case 5:ja(e,s),a===null&&o&4&&nv(s),o&512&&oo(s,s.return);break;case 12:ja(e,s);break;case 13:ja(e,s),o&4&&uv(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=Mw.bind(null,s),Ww(e,s))));break;case 22:if(o=s.memoizedState!==null||ua,!o){a=a!==null&&a.memoizedState!==null||we,f=ua;var d=we;ua=o,(we=a)&&!d?Ua(e,s,(s.subtreeFlags&8772)!==0):ja(e,s),ua=f,we=d}break;case 30:break;default:ja(e,s)}}function lv(e){var a=e.alternate;a!==null&&(e.alternate=null,lv(a)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(a=e.stateNode,a!==null&&sr(a)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var me=null,En=!1;function ca(e,a,s){for(s=s.child;s!==null;)ov(e,a,s),s=s.sibling}function ov(e,a,s){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(he,s)}catch{}switch(s.tag){case 26:we||Ir(s,a),ca(e,a,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:we||Ir(s,a);var o=me,f=En;Ya(s.type)&&(me=s.stateNode,En=!1),ca(e,a,s),vo(s.stateNode),me=o,En=f;break;case 5:we||Ir(s,a);case 6:if(o=me,f=En,me=null,ca(e,a,s),me=o,En=f,me!==null)if(En)try{(me.nodeType===9?me.body:me.nodeName==="HTML"?me.ownerDocument.body:me).removeChild(s.stateNode)}catch(d){se(s,a,d)}else try{me.removeChild(s.stateNode)}catch(d){se(s,a,d)}break;case 18:me!==null&&(En?(e=me,Xv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Ro(e)):Xv(me,s.stateNode));break;case 4:o=me,f=En,me=s.stateNode.containerInfo,En=!0,ca(e,a,s),me=o,En=f;break;case 0:case 11:case 14:case 15:we||La(2,s,a),we||La(4,s,a),ca(e,a,s);break;case 1:we||(Ir(s,a),o=s.stateNode,typeof o.componentWillUnmount=="function"&&ev(s,a,o)),ca(e,a,s);break;case 21:ca(e,a,s);break;case 22:we=(o=we)||s.memoizedState!==null,ca(e,a,s),we=o;break;default:ca(e,a,s)}}function uv(e,a){if(a.memoizedState===null&&(e=a.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ro(e)}catch(s){se(a,a.return,s)}}function Aw(e){switch(e.tag){case 13:case 19:var a=e.stateNode;return a===null&&(a=e.stateNode=new iv),a;case 22:return e=e.stateNode,a=e._retryCache,a===null&&(a=e._retryCache=new iv),a;default:throw Error(i(435,e.tag))}}function rd(e,a){var s=Aw(e);a.forEach(function(o){var f=Vw.bind(null,e,o);s.has(o)||(s.add(o),o.then(f,f))})}function On(e,a){var s=a.deletions;if(s!==null)for(var o=0;o<s.length;o++){var f=s[o],d=e,E=a,w=E;t:for(;w!==null;){switch(w.tag){case 27:if(Ya(w.type)){me=w.stateNode,En=!1;break t}break;case 5:me=w.stateNode,En=!1;break t;case 3:case 4:me=w.stateNode.containerInfo,En=!0;break t}w=w.return}if(me===null)throw Error(i(160));ov(d,E,f),me=null,En=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)cv(a,e),a=a.sibling}var fr=null;function cv(e,a){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:On(a,e),In(e),o&4&&(La(3,e,e.return),lo(3,e),La(5,e,e.return));break;case 1:On(a,e),In(e),o&512&&(we||s===null||Ir(s,s.return)),o&64&&ua&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var f=fr;if(On(a,e),In(e),o&512&&(we||s===null||Ir(s,s.return)),o&4){var d=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,f=f.ownerDocument||f;e:switch(o){case"title":d=f.getElementsByTagName("title")[0],(!d||d[ir]||d[_e]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(o),f.head.insertBefore(d,f.querySelector("head > title"))),en(d,o,s),d[_e]=e,Ot(d),o=d;break t;case"link":var E=a_("link","href",f).get(o+(s.href||""));if(E){for(var w=0;w<E.length;w++)if(d=E[w],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){E.splice(w,1);break e}}d=f.createElement(o),en(d,o,s),f.head.appendChild(d);break;case"meta":if(E=a_("meta","content",f).get(o+(s.content||""))){for(w=0;w<E.length;w++)if(d=E[w],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){E.splice(w,1);break e}}d=f.createElement(o),en(d,o,s),f.head.appendChild(d);break;default:throw Error(i(468,o))}d[_e]=e,Ot(d),o=d}e.stateNode=o}else i_(f,e.type,e.stateNode);else e.stateNode=r_(f,o,e.memoizedProps);else d!==o?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,o===null?i_(f,e.type,e.stateNode):r_(f,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Jh(e,e.memoizedProps,s.memoizedProps)}break;case 27:On(a,e),In(e),o&512&&(we||s===null||Ir(s,s.return)),s!==null&&o&4&&Jh(e,e.memoizedProps,s.memoizedProps);break;case 5:if(On(a,e),In(e),o&512&&(we||s===null||Ir(s,s.return)),e.flags&32){f=e.stateNode;try{qn(f,"")}catch(K){se(e,e.return,K)}}o&4&&e.stateNode!=null&&(f=e.memoizedProps,Jh(e,f,s!==null?s.memoizedProps:f)),o&1024&&(nd=!0);break;case 6:if(On(a,e),In(e),o&4){if(e.stateNode===null)throw Error(i(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(K){se(e,e.return,K)}}break;case 3:if(Tc=null,f=fr,fr=_c(a.containerInfo),On(a,e),fr=f,In(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Ro(a.containerInfo)}catch(K){se(e,e.return,K)}nd&&(nd=!1,fv(e));break;case 4:o=fr,fr=_c(e.stateNode.containerInfo),On(a,e),In(e),fr=o;break;case 12:On(a,e),In(e);break;case 13:On(a,e),In(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(ud=Qe()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,rd(e,o)));break;case 22:f=e.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,Y=ua,X=we;if(ua=Y||f,we=X||I,On(a,e),we=X,ua=Y,In(e),o&8192)t:for(a=e.stateNode,a._visibility=f?a._visibility&-2:a._visibility|1,f&&(s===null||I||ua||we||Yi(e)),s=null,a=e;;){if(a.tag===5||a.tag===26){if(s===null){I=s=a;try{if(d=I.stateNode,f)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{w=I.stateNode;var tt=I.memoizedProps.style,G=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;w.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(K){se(I,I.return,K)}}}else if(a.tag===6){if(s===null){I=a;try{I.stateNode.nodeValue=f?"":I.memoizedProps}catch(K){se(I,I.return,K)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===e)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break t;for(;a.sibling===null;){if(a.return===null||a.return===e)break t;s===a&&(s=null),a=a.return}s===a&&(s=null),a.sibling.return=a.return,a=a.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,rd(e,s))));break;case 19:On(a,e),In(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,rd(e,o)));break;case 30:break;case 21:break;default:On(a,e),In(e)}}function In(e){var a=e.flags;if(a&2){try{for(var s,o=e.return;o!==null;){if(rv(o)){s=o;break}o=o.return}if(s==null)throw Error(i(160));switch(s.tag){case 27:var f=s.stateNode,d=td(e);sc(e,d,f);break;case 5:var E=s.stateNode;s.flags&32&&(qn(E,""),s.flags&=-33);var w=td(e);sc(e,w,E);break;case 3:case 4:var I=s.stateNode.containerInfo,Y=td(e);ed(e,Y,I);break;default:throw Error(i(161))}}catch(X){se(e,e.return,X)}e.flags&=-3}a&4096&&(e.flags&=-4097)}function fv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var a=e;fv(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),e=e.sibling}}function ja(e,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)sv(e,a.alternate,a),a=a.sibling}function Yi(e){for(e=e.child;e!==null;){var a=e;switch(a.tag){case 0:case 11:case 14:case 15:La(4,a,a.return),Yi(a);break;case 1:Ir(a,a.return);var s=a.stateNode;typeof s.componentWillUnmount=="function"&&ev(a,a.return,s),Yi(a);break;case 27:vo(a.stateNode);case 26:case 5:Ir(a,a.return),Yi(a);break;case 22:a.memoizedState===null&&Yi(a);break;case 30:Yi(a);break;default:Yi(a)}e=e.sibling}}function Ua(e,a,s){for(s=s&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var o=a.alternate,f=e,d=a,E=d.flags;switch(d.tag){case 0:case 11:case 15:Ua(f,d,s),lo(4,d);break;case 1:if(Ua(f,d,s),o=d,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Y){se(o,o.return,Y)}if(o=d,f=o.updateQueue,f!==null){var w=o.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)zp(I[f],w)}catch(Y){se(o,o.return,Y)}}s&&E&64&&tv(d),oo(d,d.return);break;case 27:av(d);case 26:case 5:Ua(f,d,s),s&&o===null&&E&4&&nv(d),oo(d,d.return);break;case 12:Ua(f,d,s);break;case 13:Ua(f,d,s),s&&E&4&&uv(f,d);break;case 22:d.memoizedState===null&&Ua(f,d,s),oo(d,d.return);break;case 30:break;default:Ua(f,d,s)}a=a.sibling}}function ad(e,a){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(e=a.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Ql(s))}function id(e,a){e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&Ql(e))}function Nr(e,a,s,o){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)hv(e,a,s,o),a=a.sibling}function hv(e,a,s,o){var f=a.flags;switch(a.tag){case 0:case 11:case 15:Nr(e,a,s,o),f&2048&&lo(9,a);break;case 1:Nr(e,a,s,o);break;case 3:Nr(e,a,s,o),f&2048&&(e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&Ql(e)));break;case 12:if(f&2048){Nr(e,a,s,o),e=a.stateNode;try{var d=a.memoizedProps,E=d.id,w=d.onPostCommit;typeof w=="function"&&w(E,a.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){se(a,a.return,I)}}else Nr(e,a,s,o);break;case 13:Nr(e,a,s,o);break;case 23:break;case 22:d=a.stateNode,E=a.alternate,a.memoizedState!==null?d._visibility&2?Nr(e,a,s,o):uo(e,a):d._visibility&2?Nr(e,a,s,o):(d._visibility|=2,qs(e,a,s,o,(a.subtreeFlags&10256)!==0)),f&2048&&ad(E,a);break;case 24:Nr(e,a,s,o),f&2048&&id(a.alternate,a);break;default:Nr(e,a,s,o)}}function qs(e,a,s,o,f){for(f=f&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var d=e,E=a,w=s,I=o,Y=E.flags;switch(E.tag){case 0:case 11:case 15:qs(d,E,w,I,f),lo(8,E);break;case 23:break;case 22:var X=E.stateNode;E.memoizedState!==null?X._visibility&2?qs(d,E,w,I,f):uo(d,E):(X._visibility|=2,qs(d,E,w,I,f)),f&&Y&2048&&ad(E.alternate,E);break;case 24:qs(d,E,w,I,f),f&&Y&2048&&id(E.alternate,E);break;default:qs(d,E,w,I,f)}a=a.sibling}}function uo(e,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var s=e,o=a,f=o.flags;switch(o.tag){case 22:uo(s,o),f&2048&&ad(o.alternate,o);break;case 24:uo(s,o),f&2048&&id(o.alternate,o);break;default:uo(s,o)}a=a.sibling}}var co=8192;function Hs(e){if(e.subtreeFlags&co)for(e=e.child;e!==null;)dv(e),e=e.sibling}function dv(e){switch(e.tag){case 26:Hs(e),e.flags&co&&e.memoizedState!==null&&cS(fr,e.memoizedState,e.memoizedProps);break;case 5:Hs(e);break;case 3:case 4:var a=fr;fr=_c(e.stateNode.containerInfo),Hs(e),fr=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=co,co=16777216,Hs(e),co=a):Hs(e));break;default:Hs(e)}}function mv(e){var a=e.alternate;if(a!==null&&(e=a.child,e!==null)){a.child=null;do a=e.sibling,e.sibling=null,e=a;while(e!==null)}}function fo(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var o=a[s];He=o,pv(o,e)}mv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)gv(e),e=e.sibling}function gv(e){switch(e.tag){case 0:case 11:case 15:fo(e),e.flags&2048&&La(9,e,e.return);break;case 3:fo(e);break;case 12:fo(e);break;case 22:var a=e.stateNode;e.memoizedState!==null&&a._visibility&2&&(e.return===null||e.return.tag!==13)?(a._visibility&=-3,lc(e)):fo(e);break;default:fo(e)}}function lc(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var o=a[s];He=o,pv(o,e)}mv(e)}for(e=e.child;e!==null;){switch(a=e,a.tag){case 0:case 11:case 15:La(8,a,a.return),lc(a);break;case 22:s=a.stateNode,s._visibility&2&&(s._visibility&=-3,lc(a));break;default:lc(a)}e=e.sibling}}function pv(e,a){for(;He!==null;){var s=He;switch(s.tag){case 0:case 11:case 15:La(8,s,a);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ql(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,He=o;else t:for(s=e;He!==null;){o=He;var f=o.sibling,d=o.return;if(lv(o),o===s){He=null;break t}if(f!==null){f.return=d,He=f;break t}He=d}}}var Rw={getCacheForType:function(e){var a=ln(Pe),s=a.data.get(e);return s===void 0&&(s=e(),a.data.set(e,s)),s}},Dw=typeof WeakMap=="function"?WeakMap:Map,Wt=0,le=null,kt=null,Bt=0,Zt=0,Nn=null,za=!1,Fs=!1,sd=!1,fa=0,Te=0,Ba=0,Gi=0,ld=0,Wn=0,Ys=0,ho=null,Tn=null,od=!1,ud=0,oc=1/0,uc=null,qa=null,tn=0,Ha=null,Gs=null,Qs=0,cd=0,fd=null,yv=null,mo=0,hd=null;function Mn(){if((Wt&2)!==0&&Bt!==0)return Bt&-Bt;if(Q.T!==null){var e=Vs;return e!==0?e:_d()}return Er()}function vv(){Wn===0&&(Wn=(Bt&536870912)===0||Kt?vi():536870912);var e=Xn.current;return e!==null&&(e.flags|=32),Wn}function Vn(e,a,s){(e===le&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)&&(Ks(e,0),Fa(e,Bt,Wn,!1)),Un(e,s),((Wt&2)===0||e!==le)&&(e===le&&((Wt&2)===0&&(Gi|=s),Te===4&&Fa(e,Bt,Wn,!1)),Mr(e))}function _v(e,a,s){if((Wt&6)!==0)throw Error(i(327));var o=!s&&(a&124)===0&&(a&e.expiredLanes)===0||vr(e,a),f=o?Ow(e,a):gd(e,a,!0),d=o;do{if(f===0){Fs&&!o&&Fa(e,a,0,!1);break}else{if(s=e.current.alternate,d&&!xw(s)){f=gd(e,a,!1),d=!1;continue}if(f===2){if(d=a,e.errorRecoveryDisabledLanes&d)var E=0;else E=e.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){a=E;t:{var w=e;f=ho;var I=w.current.memoizedState.isDehydrated;if(I&&(Ks(w,E).flags|=256),E=gd(w,E,!1),E!==2){if(sd&&!I){w.errorRecoveryDisabledLanes|=d,Gi|=d,f=4;break t}d=Tn,Tn=f,d!==null&&(Tn===null?Tn=d:Tn.push.apply(Tn,d))}f=E}if(d=!1,f!==2)continue}}if(f===1){Ks(e,0),Fa(e,a,0,!0);break}t:{switch(o=e,d=f,d){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Fa(o,a,Wn,!za);break t;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(f=ud+300-Qe(),10<f)){if(Fa(o,a,Wn,!za),Hr(o,0,!0)!==0)break t;o.timeoutHandle=Kv(Ev.bind(null,o,s,Tn,uc,od,a,Wn,Gi,Ys,za,d,2,-0,0),f);break t}Ev(o,s,Tn,uc,od,a,Wn,Gi,Ys,za,d,0,-0,0)}}break}while(!0);Mr(e)}function Ev(e,a,s,o,f,d,E,w,I,Y,X,tt,G,K){if(e.timeoutHandle=-1,tt=a.subtreeFlags,(tt&8192||(tt&16785408)===16785408)&&(To={stylesheets:null,count:0,unsuspend:uS},dv(a),tt=fS(),tt!==null)){e.cancelPendingCommit=tt(Dv.bind(null,e,a,d,s,o,f,E,w,I,X,1,G,K)),Fa(e,d,E,!Y);return}Dv(e,a,d,s,o,f,E,w,I)}function xw(e){for(var a=e;;){var s=a.tag;if((s===0||s===11||s===15)&&a.flags&16384&&(s=a.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var f=s[o],d=f.getSnapshot;f=f.value;try{if(!xn(d(),f))return!1}catch{return!1}}if(s=a.child,a.subtreeFlags&16384&&s!==null)s.return=a,a=s;else{if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Fa(e,a,s,o){a&=~ld,a&=~Gi,e.suspendedLanes|=a,e.pingedLanes&=~a,o&&(e.warmLanes|=a),o=e.expirationTimes;for(var f=a;0<f;){var d=31-Ae(f),E=1<<d;o[d]=-1,f&=~E}s!==0&&ue(e,s,a)}function cc(){return(Wt&6)===0?(go(0),!1):!0}function dd(){if(kt!==null){if(Zt===0)var e=kt.return;else e=kt,ra=zi=null,Oh(e),zs=null,ao=0,e=kt;for(;e!==null;)Jy(e.alternate,e),e=e.return;kt=null}}function Ks(e,a){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,Gw(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),dd(),le=e,kt=s=ta(e.current,null),Bt=a,Zt=0,Nn=null,za=!1,Fs=vr(e,a),sd=!1,Ys=Wn=ld=Gi=Ba=Te=0,Tn=ho=null,od=!1,(a&8)!==0&&(a|=a&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=a;0<o;){var f=31-Ae(o),d=1<<f;a|=e[f],o&=~d}return fa=a,Nu(),s}function Tv(e,a){Nt=null,Q.H=Wu,a===$l||a===Bu?(a=jp(),Zt=3):a===Pp?(a=jp(),Zt=4):Zt=a===Uy?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Nn=a,kt===null&&(Te=1,nc(e,Gn(a,e.current)))}function bv(){var e=Q.H;return Q.H=Wu,e===null?Wu:e}function wv(){var e=Q.A;return Q.A=Rw,e}function md(){Te=4,za||(Bt&4194048)!==Bt&&Xn.current!==null||(Fs=!0),(Ba&134217727)===0&&(Gi&134217727)===0||le===null||Fa(le,Bt,Wn,!1)}function gd(e,a,s){var o=Wt;Wt|=2;var f=bv(),d=wv();(le!==e||Bt!==a)&&(uc=null,Ks(e,a)),a=!1;var E=Te;t:do try{if(Zt!==0&&kt!==null){var w=kt,I=Nn;switch(Zt){case 8:dd(),E=6;break t;case 3:case 2:case 9:case 6:Xn.current===null&&(a=!0);var Y=Zt;if(Zt=0,Nn=null,$s(e,w,I,Y),s&&Fs){E=0;break t}break;default:Y=Zt,Zt=0,Nn=null,$s(e,w,I,Y)}}Cw(),E=Te;break}catch(X){Tv(e,X)}while(!0);return a&&e.shellSuspendCounter++,ra=zi=null,Wt=o,Q.H=f,Q.A=d,kt===null&&(le=null,Bt=0,Nu()),E}function Cw(){for(;kt!==null;)Sv(kt)}function Ow(e,a){var s=Wt;Wt|=2;var o=bv(),f=wv();le!==e||Bt!==a?(uc=null,oc=Qe()+500,Ks(e,a)):Fs=vr(e,a);t:do try{if(Zt!==0&&kt!==null){a=kt;var d=Nn;e:switch(Zt){case 1:Zt=0,Nn=null,$s(e,a,d,1);break;case 2:case 9:if(kp(d)){Zt=0,Nn=null,Av(a);break}a=function(){Zt!==2&&Zt!==9||le!==e||(Zt=7),Mr(e)},d.then(a,a);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:kp(d)?(Zt=0,Nn=null,Av(a)):(Zt=0,Nn=null,$s(e,a,d,7));break;case 5:var E=null;switch(kt.tag){case 26:E=kt.memoizedState;case 5:case 27:var w=kt;if(!E||s_(E)){Zt=0,Nn=null;var I=w.sibling;if(I!==null)kt=I;else{var Y=w.return;Y!==null?(kt=Y,fc(Y)):kt=null}break e}}Zt=0,Nn=null,$s(e,a,d,5);break;case 6:Zt=0,Nn=null,$s(e,a,d,6);break;case 8:dd(),Te=6;break t;default:throw Error(i(462))}}Iw();break}catch(X){Tv(e,X)}while(!0);return ra=zi=null,Q.H=o,Q.A=f,Wt=s,kt!==null?0:(le=null,Bt=0,Nu(),Te)}function Iw(){for(;kt!==null&&!rr();)Sv(kt)}function Sv(e){var a=Wy(e.alternate,e,fa);e.memoizedProps=e.pendingProps,a===null?fc(e):kt=a}function Av(e){var a=e,s=a.alternate;switch(a.tag){case 15:case 0:a=Yy(s,a,a.pendingProps,a.type,void 0,Bt);break;case 11:a=Yy(s,a,a.pendingProps,a.type.render,a.ref,Bt);break;case 5:Oh(a);default:Jy(s,a),a=kt=Rp(a,fa),a=Wy(s,a,fa)}e.memoizedProps=e.pendingProps,a===null?fc(e):kt=a}function $s(e,a,s,o){ra=zi=null,Oh(a),zs=null,ao=0;var f=a.return;try{if(Ew(e,f,a,s,Bt)){Te=1,nc(e,Gn(s,e.current)),kt=null;return}}catch(d){if(f!==null)throw kt=f,d;Te=1,nc(e,Gn(s,e.current)),kt=null;return}a.flags&32768?(Kt||o===1?e=!0:Fs||(Bt&536870912)!==0?e=!1:(za=e=!0,(o===2||o===9||o===3||o===6)&&(o=Xn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Rv(a,e)):fc(a)}function fc(e){var a=e;do{if((a.flags&32768)!==0){Rv(a,za);return}e=a.return;var s=bw(a.alternate,a,fa);if(s!==null){kt=s;return}if(a=a.sibling,a!==null){kt=a;return}kt=a=e}while(a!==null);Te===0&&(Te=5)}function Rv(e,a){do{var s=ww(e.alternate,e);if(s!==null){s.flags&=32767,kt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!a&&(e=e.sibling,e!==null)){kt=e;return}kt=e=s}while(e!==null);Te=6,kt=null}function Dv(e,a,s,o,f,d,E,w,I){e.cancelPendingCommit=null;do hc();while(tn!==0);if((Wt&6)!==0)throw Error(i(327));if(a!==null){if(a===e.current)throw Error(i(177));if(d=a.lanes|a.childLanes,d|=ih,Re(e,s,d,E,w,I),e===le&&(kt=le=null,Bt=0),Gs=a,Ha=e,Qs=s,cd=d,fd=f,yv=o,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Pw(zr,function(){return Nv(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||o){o=Q.T,Q.T=null,f=st.p,st.p=2,E=Wt,Wt|=4;try{Sw(e,a,s)}finally{Wt=E,st.p=f,Q.T=o}}tn=1,xv(),Cv(),Ov()}}function xv(){if(tn===1){tn=0;var e=Ha,a=Gs,s=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||s){s=Q.T,Q.T=null;var o=st.p;st.p=2;var f=Wt;Wt|=4;try{cv(a,e);var d=Dd,E=pp(e.containerInfo),w=d.focusedElem,I=d.selectionRange;if(E!==w&&w&&w.ownerDocument&&gp(w.ownerDocument.documentElement,w)){if(I!==null&&th(w)){var Y=I.start,X=I.end;if(X===void 0&&(X=Y),"selectionStart"in w)w.selectionStart=Y,w.selectionEnd=Math.min(X,w.value.length);else{var tt=w.ownerDocument||document,G=tt&&tt.defaultView||window;if(G.getSelection){var K=G.getSelection(),bt=w.textContent.length,Et=Math.min(I.start,bt),re=I.end===void 0?Et:Math.min(I.end,bt);!K.extend&&Et>re&&(E=re,re=Et,Et=E);var B=mp(w,Et),L=mp(w,re);if(B&&L&&(K.rangeCount!==1||K.anchorNode!==B.node||K.anchorOffset!==B.offset||K.focusNode!==L.node||K.focusOffset!==L.offset)){var H=tt.createRange();H.setStart(B.node,B.offset),K.removeAllRanges(),Et>re?(K.addRange(H),K.extend(L.node,L.offset)):(H.setEnd(L.node,L.offset),K.addRange(H))}}}}for(tt=[],K=w;K=K.parentNode;)K.nodeType===1&&tt.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<tt.length;w++){var W=tt[w];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Sc=!!Rd,Dd=Rd=null}finally{Wt=f,st.p=o,Q.T=s}}e.current=a,tn=2}}function Cv(){if(tn===2){tn=0;var e=Ha,a=Gs,s=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||s){s=Q.T,Q.T=null;var o=st.p;st.p=2;var f=Wt;Wt|=4;try{sv(e,a.alternate,a)}finally{Wt=f,st.p=o,Q.T=s}}tn=3}}function Ov(){if(tn===4||tn===3){tn=0,Ge();var e=Ha,a=Gs,s=Qs,o=yv;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?tn=5:(tn=0,Gs=Ha=null,Iv(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(qa=null),Ke(s),a=a.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(he,a,void 0,(a.current.flags&128)===128)}catch{}if(o!==null){a=Q.T,f=st.p,st.p=2,Q.T=null;try{for(var d=e.onRecoverableError,E=0;E<o.length;E++){var w=o[E];d(w.value,{componentStack:w.stack})}}finally{Q.T=a,st.p=f}}(Qs&3)!==0&&hc(),Mr(e),f=e.pendingLanes,(s&4194090)!==0&&(f&42)!==0?e===hd?mo++:(mo=0,hd=e):mo=0,go(0)}}function Iv(e,a){(e.pooledCacheLanes&=a)===0&&(a=e.pooledCache,a!=null&&(e.pooledCache=null,Ql(a)))}function hc(e){return xv(),Cv(),Ov(),Nv()}function Nv(){if(tn!==5)return!1;var e=Ha,a=cd;cd=0;var s=Ke(Qs),o=Q.T,f=st.p;try{st.p=32>s?32:s,Q.T=null,s=fd,fd=null;var d=Ha,E=Qs;if(tn=0,Gs=Ha=null,Qs=0,(Wt&6)!==0)throw Error(i(331));var w=Wt;if(Wt|=4,gv(d.current),hv(d,d.current,E,s),Wt=w,go(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(he,d)}catch{}return!0}finally{st.p=f,Q.T=o,Iv(e,a)}}function Mv(e,a,s){a=Gn(s,a),a=Fh(e.stateNode,a,2),e=Ma(e,a,2),e!==null&&(Un(e,2),Mr(e))}function se(e,a,s){if(e.tag===3)Mv(e,e,s);else for(;a!==null;){if(a.tag===3){Mv(a,e,s);break}else if(a.tag===1){var o=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(qa===null||!qa.has(o))){e=Gn(s,e),s=Ly(2),o=Ma(a,s,2),o!==null&&(jy(s,o,a,e),Un(o,2),Mr(o));break}}a=a.return}}function pd(e,a,s){var o=e.pingCache;if(o===null){o=e.pingCache=new Dw;var f=new Set;o.set(a,f)}else f=o.get(a),f===void 0&&(f=new Set,o.set(a,f));f.has(s)||(sd=!0,f.add(s),e=Nw.bind(null,e,a,s),a.then(e,e))}function Nw(e,a,s){var o=e.pingCache;o!==null&&o.delete(a),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,le===e&&(Bt&s)===s&&(Te===4||Te===3&&(Bt&62914560)===Bt&&300>Qe()-ud?(Wt&2)===0&&Ks(e,0):ld|=s,Ys===Bt&&(Ys=0)),Mr(e)}function Vv(e,a){a===0&&(a=Aa()),e=Os(e,a),e!==null&&(Un(e,a),Mr(e))}function Mw(e){var a=e.memoizedState,s=0;a!==null&&(s=a.retryLane),Vv(e,s)}function Vw(e,a){var s=0;switch(e.tag){case 13:var o=e.stateNode,f=e.memoizedState;f!==null&&(s=f.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(i(314))}o!==null&&o.delete(a),Vv(e,s)}function Pw(e,a){return nr(e,a)}var dc=null,Xs=null,yd=!1,mc=!1,vd=!1,Qi=0;function Mr(e){e!==Xs&&e.next===null&&(Xs===null?dc=Xs=e:Xs=Xs.next=e),mc=!0,yd||(yd=!0,Lw())}function go(e,a){if(!vd&&mc){vd=!0;do for(var s=!1,o=dc;o!==null;){if(e!==0){var f=o.pendingLanes;if(f===0)var d=0;else{var E=o.suspendedLanes,w=o.pingedLanes;d=(1<<31-Ae(42|e)+1)-1,d&=f&~(E&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,jv(o,d))}else d=Bt,d=Hr(o,o===le?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||vr(o,d)||(s=!0,jv(o,d));o=o.next}while(s);vd=!1}}function kw(){Pv()}function Pv(){mc=yd=!1;var e=0;Qi!==0&&(Yw()&&(e=Qi),Qi=0);for(var a=Qe(),s=null,o=dc;o!==null;){var f=o.next,d=kv(o,a);d===0?(o.next=null,s===null?dc=f:s.next=f,f===null&&(Xs=s)):(s=o,(e!==0||(d&3)!==0)&&(mc=!0)),o=f}go(e)}function kv(e,a){for(var s=e.suspendedLanes,o=e.pingedLanes,f=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var E=31-Ae(d),w=1<<E,I=f[E];I===-1?((w&s)===0||(w&o)!==0)&&(f[E]=Fr(w,a)):I<=a&&(e.expiredLanes|=w),d&=~w}if(a=le,s=Bt,s=Hr(e,e===a?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===a&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ae(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||vr(e,s)){if(a=s&-s,a===e.callbackPriority)return a;switch(o!==null&&ae(o),Ke(s)){case 2:case 8:s=Sa;break;case 32:s=zr;break;case 268435456:s=Br;break;default:s=zr}return o=Lv.bind(null,e),s=nr(s,o),e.callbackPriority=a,e.callbackNode=s,a}return o!==null&&o!==null&&ae(o),e.callbackPriority=2,e.callbackNode=null,2}function Lv(e,a){if(tn!==0&&tn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(hc()&&e.callbackNode!==s)return null;var o=Bt;return o=Hr(e,e===le?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(_v(e,o,a),kv(e,Qe()),e.callbackNode!=null&&e.callbackNode===s?Lv.bind(null,e):null)}function jv(e,a){if(hc())return null;_v(e,a,!0)}function Lw(){Qw(function(){(Wt&6)!==0?nr(wa,kw):Pv()})}function _d(){return Qi===0&&(Qi=vi()),Qi}function Uv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:vs(""+e)}function zv(e,a){var s=a.ownerDocument.createElement("input");return s.name=a.name,s.value=a.value,e.id&&s.setAttribute("form",e.id),a.parentNode.insertBefore(s,a),e=new FormData(e),s.parentNode.removeChild(s),e}function jw(e,a,s,o,f){if(a==="submit"&&s&&s.stateNode===f){var d=Uv((f[de]||null).action),E=o.submitter;E&&(a=(a=E[de]||null)?Uv(a.formAction):E.getAttribute("formAction"),a!==null&&(d=a,E=null));var w=new _s("action","action",null,o,f);e.push({event:w,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Qi!==0){var I=E?zv(f,E):new FormData(f);Uh(s,{pending:!0,data:I,method:f.method,action:d},null,I)}}else typeof d=="function"&&(w.preventDefault(),I=E?zv(f,E):new FormData(f),Uh(s,{pending:!0,data:I,method:f.method,action:d},d,I))},currentTarget:f}]})}}for(var Ed=0;Ed<ah.length;Ed++){var Td=ah[Ed],Uw=Td.toLowerCase(),zw=Td[0].toUpperCase()+Td.slice(1);cr(Uw,"on"+zw)}cr(_p,"onAnimationEnd"),cr(Ep,"onAnimationIteration"),cr(Tp,"onAnimationStart"),cr("dblclick","onDoubleClick"),cr("focusin","onFocus"),cr("focusout","onBlur"),cr(rw,"onTransitionRun"),cr(aw,"onTransitionStart"),cr(iw,"onTransitionCancel"),cr(bp,"onTransitionEnd"),or("onMouseEnter",["mouseout","mouseover"]),or("onMouseLeave",["mouseout","mouseover"]),or("onPointerEnter",["pointerout","pointerover"]),or("onPointerLeave",["pointerout","pointerover"]),mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(po));function Bv(e,a){a=(a&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],f=o.event;o=o.listeners;t:{var d=void 0;if(a)for(var E=o.length-1;0<=E;E--){var w=o[E],I=w.instance,Y=w.currentTarget;if(w=w.listener,I!==d&&f.isPropagationStopped())break t;d=w,f.currentTarget=Y;try{d(f)}catch(X){ec(X)}f.currentTarget=null,d=I}else for(E=0;E<o.length;E++){if(w=o[E],I=w.instance,Y=w.currentTarget,w=w.listener,I!==d&&f.isPropagationStopped())break t;d=w,f.currentTarget=Y;try{d(f)}catch(X){ec(X)}f.currentTarget=null,d=I}}}}function Lt(e,a){var s=a[Yr];s===void 0&&(s=a[Yr]=new Set);var o=e+"__bubble";s.has(o)||(qv(a,e,2,!1),s.add(o))}function bd(e,a,s){var o=0;a&&(o|=4),qv(s,e,o,a)}var gc="_reactListening"+Math.random().toString(36).slice(2);function wd(e){if(!e[gc]){e[gc]=!0,Xe.forEach(function(s){s!=="selectionchange"&&(Bw.has(s)||bd(s,!1,e),bd(s,!0,e))});var a=e.nodeType===9?e:e.ownerDocument;a===null||a[gc]||(a[gc]=!0,bd("selectionchange",!1,a))}}function qv(e,a,s,o){switch(h_(a)){case 2:var f=mS;break;case 8:f=gS;break;default:f=Ld}s=f.bind(null,a,s,e),f=void 0,!Fn||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(f=!0),o?f!==void 0?e.addEventListener(a,s,{capture:!0,passive:f}):e.addEventListener(a,s,!0):f!==void 0?e.addEventListener(a,s,{passive:f}):e.addEventListener(a,s,!1)}function Sd(e,a,s,o,f){var d=o;if((a&1)===0&&(a&2)===0&&o!==null)t:for(;;){if(o===null)return;var E=o.tag;if(E===3||E===4){var w=o.stateNode.containerInfo;if(w===f)break;if(E===4)for(E=o.return;E!==null;){var I=E.tag;if((I===3||I===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;w!==null;){if(E=lr(w),E===null)return;if(I=E.tag,I===5||I===6||I===26||I===27){o=d=E;continue t}w=w.parentNode}}o=o.return}yu(function(){var Y=d,X=Hn(s),tt=[];t:{var G=wp.get(e);if(G!==void 0){var K=_s,bt=e;switch(e){case"keypress":if(Sr(s)===0)break t;case"keydown":case"keyup":K=As;break;case"focusin":bt="focus",K=bs;break;case"focusout":bt="blur",K=bs;break;case"beforeblur":case"afterblur":K=bs;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Xf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Au;break;case _p:case Ep:case Tp:K=ws;break;case bp:K=Du;break;case"scroll":case"scrollend":K=vu;break;case"wheel":K=Rs;break;case"copy":case"cut":case"paste":K=Ss;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Ul;break;case"toggle":case"beforetoggle":K=Cu}var Et=(a&4)!==0,re=!Et&&(e==="scroll"||e==="scrollend"),B=Et?G!==null?G+"Capture":null:G;Et=[];for(var L=Y,H;L!==null;){var W=L;if(H=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||H===null||B===null||(W=Ri(L,B),W!=null&&Et.push(yo(L,W,H))),re)break;L=L.return}0<Et.length&&(G=new K(G,bt,null,s,X),tt.push({event:G,listeners:Et}))}}if((a&7)===0){t:{if(G=e==="mouseover"||e==="pointerover",K=e==="mouseout"||e==="pointerout",G&&s!==Kr&&(bt=s.relatedTarget||s.fromElement)&&(lr(bt)||bt[$e]))break t;if((K||G)&&(G=X.window===X?X:(G=X.ownerDocument)?G.defaultView||G.parentWindow:window,K?(bt=s.relatedTarget||s.toElement,K=Y,bt=bt?lr(bt):null,bt!==null&&(re=u(bt),Et=bt.tag,bt!==re||Et!==5&&Et!==27&&Et!==6)&&(bt=null)):(K=null,bt=Y),K!==bt)){if(Et=Yn,W="onMouseLeave",B="onMouseEnter",L="mouse",(e==="pointerout"||e==="pointerover")&&(Et=Ul,W="onPointerLeave",B="onPointerEnter",L="pointer"),re=K==null?G:St(K),H=bt==null?G:St(bt),G=new Et(W,L+"leave",K,s,X),G.target=re,G.relatedTarget=H,W=null,lr(X)===Y&&(Et=new Et(B,L+"enter",bt,s,X),Et.target=H,Et.relatedTarget=re,W=Et),re=W,K&&bt)e:{for(Et=K,B=bt,L=0,H=Et;H;H=Ws(H))L++;for(H=0,W=B;W;W=Ws(W))H++;for(;0<L-H;)Et=Ws(Et),L--;for(;0<H-L;)B=Ws(B),H--;for(;L--;){if(Et===B||B!==null&&Et===B.alternate)break e;Et=Ws(Et),B=Ws(B)}Et=null}else Et=null;K!==null&&Hv(tt,G,K,Et,!1),bt!==null&&re!==null&&Hv(tt,re,bt,Et,!0)}}t:{if(G=Y?St(Y):window,K=G.nodeName&&G.nodeName.toLowerCase(),K==="select"||K==="input"&&G.type==="file")var dt=op;else if(Ve(G))if(up)dt=tw;else{dt=Zb;var Pt=Wb}else K=G.nodeName,!K||K.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?Y&&Nl(Y.elementType)&&(dt=op):dt=Jb;if(dt&&(dt=dt(e,Y))){Jr(tt,dt,s,X);break t}Pt&&Pt(e,G,Y),e==="focusout"&&Y&&G.type==="number"&&Y.memoizedProps.value!=null&&xa(G,"number",G.value)}switch(Pt=Y?St(Y):window,e){case"focusin":(Ve(Pt)||Pt.contentEditable==="true")&&(Ds=Pt,eh=Y,ql=null);break;case"focusout":ql=eh=Ds=null;break;case"mousedown":nh=!0;break;case"contextmenu":case"mouseup":case"dragend":nh=!1,yp(tt,s,X);break;case"selectionchange":if(nw)break;case"keydown":case"keyup":yp(tt,s,X)}var yt;if(Dr)t:{switch(e){case"compositionstart":var Tt="onCompositionStart";break t;case"compositionend":Tt="onCompositionEnd";break t;case"compositionupdate":Tt="onCompositionUpdate";break t}Tt=void 0}else Ut?$(e,s)&&(Tt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Tt="onCompositionStart");Tt&&(_&&s.locale!=="ko"&&(Ut||Tt!=="onCompositionStart"?Tt==="onCompositionEnd"&&Ut&&(yt=Vl()):(wr=X,Ca="value"in wr?wr.value:wr.textContent,Ut=!0)),Pt=pc(Y,Tt),0<Pt.length&&(Tt=new Ll(Tt,e,null,s,X),tt.push({event:Tt,listeners:Pt}),yt?Tt.data=yt:(yt=lt(s),yt!==null&&(Tt.data=yt)))),(yt=y?Me(e,s):zt(e,s))&&(Tt=pc(Y,"onBeforeInput"),0<Tt.length&&(Pt=new Ll("onBeforeInput","beforeinput",null,s,X),tt.push({event:Pt,listeners:Tt}),Pt.data=yt)),jw(tt,e,Y,s,X)}Bv(tt,a)})}function yo(e,a,s){return{instance:e,listener:a,currentTarget:s}}function pc(e,a){for(var s=a+"Capture",o=[];e!==null;){var f=e,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Ri(e,s),f!=null&&o.unshift(yo(e,f,d)),f=Ri(e,a),f!=null&&o.push(yo(e,f,d))),e.tag===3)return o;e=e.return}return[]}function Ws(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Hv(e,a,s,o,f){for(var d=a._reactName,E=[];s!==null&&s!==o;){var w=s,I=w.alternate,Y=w.stateNode;if(w=w.tag,I!==null&&I===o)break;w!==5&&w!==26&&w!==27||Y===null||(I=Y,f?(Y=Ri(s,d),Y!=null&&E.unshift(yo(s,Y,I))):f||(Y=Ri(s,d),Y!=null&&E.push(yo(s,Y,I)))),s=s.return}E.length!==0&&e.push({event:a,listeners:E})}var qw=/\r\n?/g,Hw=/\u0000|\uFFFD/g;function Fv(e){return(typeof e=="string"?e:""+e).replace(qw,`
`).replace(Hw,"")}function Yv(e,a){return a=Fv(a),Fv(e)===a}function yc(){}function ne(e,a,s,o,f,d){switch(s){case"children":typeof o=="string"?a==="body"||a==="textarea"&&o===""||qn(e,o):(typeof o=="number"||typeof o=="bigint")&&a!=="body"&&qn(e,""+o);break;case"className":Tr(e,"class",o);break;case"tabIndex":Tr(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Tr(e,s,o);break;case"style":Il(e,o,d);break;case"data":if(a!=="object"){Tr(e,"data",o);break}case"src":case"href":if(o===""&&(a!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=vs(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(a!=="input"&&ne(e,a,"name",f.name,f,null),ne(e,a,"formEncType",f.formEncType,f,null),ne(e,a,"formMethod",f.formMethod,f,null),ne(e,a,"formTarget",f.formTarget,f,null)):(ne(e,a,"encType",f.encType,f,null),ne(e,a,"method",f.method,f,null),ne(e,a,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=vs(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=yc);break;case"onScroll":o!=null&&Lt("scroll",e);break;case"onScrollEnd":o!=null&&Lt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(s=o.__html,s!=null){if(f.children!=null)throw Error(i(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=vs(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Lt("beforetoggle",e),Lt("toggle",e),Da(e,"popover",o);break;case"xlinkActuate":We(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":We(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":We(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":We(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":We(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":We(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":We(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":We(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":We(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Da(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Kf.get(s)||s,Da(e,s,o))}}function Ad(e,a,s,o,f,d){switch(s){case"style":Il(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(s=o.__html,s!=null){if(f.children!=null)throw Error(i(60));e.innerHTML=s}}break;case"children":typeof o=="string"?qn(e,o):(typeof o=="number"||typeof o=="bigint")&&qn(e,""+o);break;case"onScroll":o!=null&&Lt("scroll",e);break;case"onScrollEnd":o!=null&&Lt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=yc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ue.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),a=s.slice(2,f?s.length-7:void 0),d=e[de]||null,d=d!=null?d[s]:null,typeof d=="function"&&e.removeEventListener(a,d,f),typeof o=="function")){typeof d!="function"&&d!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(a,o,f);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):Da(e,s,o)}}}function en(e,a,s){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lt("error",e),Lt("load",e);var o=!1,f=!1,d;for(d in s)if(s.hasOwnProperty(d)){var E=s[d];if(E!=null)switch(d){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ne(e,a,d,E,s,null)}}f&&ne(e,a,"srcSet",s.srcSet,s,null),o&&ne(e,a,"src",s.src,s,null);return;case"input":Lt("invalid",e);var w=d=E=f=null,I=null,Y=null;for(o in s)if(s.hasOwnProperty(o)){var X=s[o];if(X!=null)switch(o){case"name":f=X;break;case"type":E=X;break;case"checked":I=X;break;case"defaultChecked":Y=X;break;case"value":d=X;break;case"defaultValue":w=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,a));break;default:ne(e,a,o,X,s,null)}}wi(e,d,w,I,Y,E,f,!1),ys(e);return;case"select":Lt("invalid",e),o=E=d=null;for(f in s)if(s.hasOwnProperty(f)&&(w=s[f],w!=null))switch(f){case"value":d=w;break;case"defaultValue":E=w;break;case"multiple":o=w;default:ne(e,a,f,w,s,null)}a=d,s=E,e.multiple=!!o,a!=null?Qr(e,!!o,a,!1):s!=null&&Qr(e,!!o,s,!0);return;case"textarea":Lt("invalid",e),d=f=o=null;for(E in s)if(s.hasOwnProperty(E)&&(w=s[E],w!=null))switch(E){case"value":o=w;break;case"defaultValue":f=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:ne(e,a,E,w,s,null)}Si(e,o,f,d),ys(e);return;case"option":for(I in s)if(s.hasOwnProperty(I)&&(o=s[I],o!=null))switch(I){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ne(e,a,I,o,s,null)}return;case"dialog":Lt("beforetoggle",e),Lt("toggle",e),Lt("cancel",e),Lt("close",e);break;case"iframe":case"object":Lt("load",e);break;case"video":case"audio":for(o=0;o<po.length;o++)Lt(po[o],e);break;case"image":Lt("error",e),Lt("load",e);break;case"details":Lt("toggle",e);break;case"embed":case"source":case"link":Lt("error",e),Lt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in s)if(s.hasOwnProperty(Y)&&(o=s[Y],o!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ne(e,a,Y,o,s,null)}return;default:if(Nl(a)){for(X in s)s.hasOwnProperty(X)&&(o=s[X],o!==void 0&&Ad(e,a,X,o,s,void 0));return}}for(w in s)s.hasOwnProperty(w)&&(o=s[w],o!=null&&ne(e,a,w,o,s,null))}function Fw(e,a,s,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,E=null,w=null,I=null,Y=null,X=null;for(K in s){var tt=s[K];if(s.hasOwnProperty(K)&&tt!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":I=tt;default:o.hasOwnProperty(K)||ne(e,a,K,null,o,tt)}}for(var G in o){var K=o[G];if(tt=s[G],o.hasOwnProperty(G)&&(K!=null||tt!=null))switch(G){case"type":d=K;break;case"name":f=K;break;case"checked":Y=K;break;case"defaultChecked":X=K;break;case"value":E=K;break;case"defaultValue":w=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,a));break;default:K!==tt&&ne(e,a,G,K,o,tt)}}Dn(e,E,w,I,Y,X,d,f);return;case"select":K=E=w=G=null;for(d in s)if(I=s[d],s.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":K=I;default:o.hasOwnProperty(d)||ne(e,a,d,null,o,I)}for(f in o)if(d=o[f],I=s[f],o.hasOwnProperty(f)&&(d!=null||I!=null))switch(f){case"value":G=d;break;case"defaultValue":w=d;break;case"multiple":E=d;default:d!==I&&ne(e,a,f,d,o,I)}a=w,s=E,o=K,G!=null?Qr(e,!!s,G,!1):!!o!=!!s&&(a!=null?Qr(e,!!s,a,!0):Qr(e,!!s,s?[]:"",!1));return;case"textarea":K=G=null;for(w in s)if(f=s[w],s.hasOwnProperty(w)&&f!=null&&!o.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:ne(e,a,w,null,o,f)}for(E in o)if(f=o[E],d=s[E],o.hasOwnProperty(E)&&(f!=null||d!=null))switch(E){case"value":G=f;break;case"defaultValue":K=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==d&&ne(e,a,E,f,o,d)}te(e,G,K);return;case"option":for(var bt in s)if(G=s[bt],s.hasOwnProperty(bt)&&G!=null&&!o.hasOwnProperty(bt))switch(bt){case"selected":e.selected=!1;break;default:ne(e,a,bt,null,o,G)}for(I in o)if(G=o[I],K=s[I],o.hasOwnProperty(I)&&G!==K&&(G!=null||K!=null))switch(I){case"selected":e.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:ne(e,a,I,G,o,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in s)G=s[Et],s.hasOwnProperty(Et)&&G!=null&&!o.hasOwnProperty(Et)&&ne(e,a,Et,null,o,G);for(Y in o)if(G=o[Y],K=s[Y],o.hasOwnProperty(Y)&&G!==K&&(G!=null||K!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,a));break;default:ne(e,a,Y,G,o,K)}return;default:if(Nl(a)){for(var re in s)G=s[re],s.hasOwnProperty(re)&&G!==void 0&&!o.hasOwnProperty(re)&&Ad(e,a,re,void 0,o,G);for(X in o)G=o[X],K=s[X],!o.hasOwnProperty(X)||G===K||G===void 0&&K===void 0||Ad(e,a,X,G,o,K);return}}for(var B in s)G=s[B],s.hasOwnProperty(B)&&G!=null&&!o.hasOwnProperty(B)&&ne(e,a,B,null,o,G);for(tt in o)G=o[tt],K=s[tt],!o.hasOwnProperty(tt)||G===K||G==null&&K==null||ne(e,a,tt,G,o,K)}var Rd=null,Dd=null;function vc(e){return e.nodeType===9?e:e.ownerDocument}function Gv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qv(e,a){if(e===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&a==="foreignObject"?0:e}function xd(e,a){return e==="textarea"||e==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Cd=null;function Yw(){var e=window.event;return e&&e.type==="popstate"?e===Cd?!1:(Cd=e,!0):(Cd=null,!1)}var Kv=typeof setTimeout=="function"?setTimeout:void 0,Gw=typeof clearTimeout=="function"?clearTimeout:void 0,$v=typeof Promise=="function"?Promise:void 0,Qw=typeof queueMicrotask=="function"?queueMicrotask:typeof $v<"u"?function(e){return $v.resolve(null).then(e).catch(Kw)}:Kv;function Kw(e){setTimeout(function(){throw e})}function Ya(e){return e==="head"}function Xv(e,a){var s=a,o=0,f=0;do{var d=s.nextSibling;if(e.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(0<o&&8>o){s=o;var E=e.ownerDocument;if(s&1&&vo(E.documentElement),s&2&&vo(E.body),s&4)for(s=E.head,vo(s),E=s.firstChild;E;){var w=E.nextSibling,I=E.nodeName;E[ir]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&E.rel.toLowerCase()==="stylesheet"||s.removeChild(E),E=w}}if(f===0){e.removeChild(d),Ro(a);return}f--}else s==="$"||s==="$?"||s==="$!"?f++:o=s.charCodeAt(0)-48;else o=0;s=d}while(s);Ro(a)}function Od(e){var a=e.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var s=a;switch(a=a.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Od(s),sr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function $w(e,a,s,o){for(;e.nodeType===1;){var f=s;if(e.nodeName.toLowerCase()!==a.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ir])switch(a){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(a==="input"&&e.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=hr(e.nextSibling),e===null)break}return null}function Xw(e,a,s){if(a==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=hr(e.nextSibling),e===null))return null;return e}function Id(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Ww(e,a){var s=e.ownerDocument;if(e.data!=="$?"||s.readyState==="complete")a();else{var o=function(){a(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function hr(e){for(;e!=null;e=e.nextSibling){var a=e.nodeType;if(a===1||a===3)break;if(a===8){if(a=e.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return e}var Nd=null;function Wv(e){e=e.previousSibling;for(var a=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(a===0)return e;a--}else s==="/$"&&a++}e=e.previousSibling}return null}function Zv(e,a,s){switch(a=vc(s),e){case"html":if(e=a.documentElement,!e)throw Error(i(452));return e;case"head":if(e=a.head,!e)throw Error(i(453));return e;case"body":if(e=a.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function vo(e){for(var a=e.attributes;a.length;)e.removeAttributeNode(a[0]);sr(e)}var Zn=new Map,Jv=new Set;function _c(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ha=st.d;st.d={f:Zw,r:Jw,D:tS,C:eS,L:nS,m:rS,X:iS,S:aS,M:sS};function Zw(){var e=ha.f(),a=cc();return e||a}function Jw(e){var a=Bn(e);a!==null&&a.tag===5&&a.type==="form"?_y(a):ha.r(e)}var Zs=typeof document>"u"?null:document;function t_(e,a,s){var o=Zs;if(o&&typeof a=="string"&&a){var f=De(a);f='link[rel="'+e+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),Jv.has(f)||(Jv.add(f),e={rel:e,crossOrigin:s,href:a},o.querySelector(f)===null&&(a=o.createElement("link"),en(a,"link",e),Ot(a),o.head.appendChild(a)))}}function tS(e){ha.D(e),t_("dns-prefetch",e,null)}function eS(e,a){ha.C(e,a),t_("preconnect",e,a)}function nS(e,a,s){ha.L(e,a,s);var o=Zs;if(o&&e&&a){var f='link[rel="preload"][as="'+De(a)+'"]';a==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+De(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+De(s.imageSizes)+'"]')):f+='[href="'+De(e)+'"]';var d=f;switch(a){case"style":d=Js(e);break;case"script":d=tl(e)}Zn.has(d)||(e=v({rel:"preload",href:a==="image"&&s&&s.imageSrcSet?void 0:e,as:a},s),Zn.set(d,e),o.querySelector(f)!==null||a==="style"&&o.querySelector(_o(d))||a==="script"&&o.querySelector(Eo(d))||(a=o.createElement("link"),en(a,"link",e),Ot(a),o.head.appendChild(a)))}}function rS(e,a){ha.m(e,a);var s=Zs;if(s&&e){var o=a&&typeof a.as=="string"?a.as:"script",f='link[rel="modulepreload"][as="'+De(o)+'"][href="'+De(e)+'"]',d=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=tl(e)}if(!Zn.has(d)&&(e=v({rel:"modulepreload",href:e},a),Zn.set(d,e),s.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Eo(d)))return}o=s.createElement("link"),en(o,"link",e),Ot(o),s.head.appendChild(o)}}}function aS(e,a,s){ha.S(e,a,s);var o=Zs;if(o&&e){var f=Vt(o).hoistableStyles,d=Js(e);a=a||"default";var E=f.get(d);if(!E){var w={loading:0,preload:null};if(E=o.querySelector(_o(d)))w.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":a},s),(s=Zn.get(d))&&Md(e,s);var I=E=o.createElement("link");Ot(I),en(I,"link",e),I._p=new Promise(function(Y,X){I.onload=Y,I.onerror=X}),I.addEventListener("load",function(){w.loading|=1}),I.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Ec(E,a,o)}E={type:"stylesheet",instance:E,count:1,state:w},f.set(d,E)}}}function iS(e,a){ha.X(e,a);var s=Zs;if(s&&e){var o=Vt(s).hoistableScripts,f=tl(e),d=o.get(f);d||(d=s.querySelector(Eo(f)),d||(e=v({src:e,async:!0},a),(a=Zn.get(f))&&Vd(e,a),d=s.createElement("script"),Ot(d),en(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(f,d))}}function sS(e,a){ha.M(e,a);var s=Zs;if(s&&e){var o=Vt(s).hoistableScripts,f=tl(e),d=o.get(f);d||(d=s.querySelector(Eo(f)),d||(e=v({src:e,async:!0,type:"module"},a),(a=Zn.get(f))&&Vd(e,a),d=s.createElement("script"),Ot(d),en(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(f,d))}}function e_(e,a,s,o){var f=(f=_t.current)?_c(f):null;if(!f)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(a=Js(s.href),s=Vt(f).hoistableStyles,o=s.get(a),o||(o={type:"style",instance:null,count:0,state:null},s.set(a,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Js(s.href);var d=Vt(f).hoistableStyles,E=d.get(e);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,E),(d=f.querySelector(_o(e)))&&!d._p&&(E.instance=d,E.state.loading=5),Zn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Zn.set(e,s),d||lS(f,e,s,E.state))),a&&o===null)throw Error(i(528,""));return E}if(a&&o!==null)throw Error(i(529,""));return null;case"script":return a=s.async,s=s.src,typeof s=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=tl(s),s=Vt(f).hoistableScripts,o=s.get(a),o||(o={type:"script",instance:null,count:0,state:null},s.set(a,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Js(e){return'href="'+De(e)+'"'}function _o(e){return'link[rel="stylesheet"]['+e+"]"}function n_(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function lS(e,a,s,o){e.querySelector('link[rel="preload"][as="style"]['+a+"]")?o.loading=1:(a=e.createElement("link"),o.preload=a,a.addEventListener("load",function(){return o.loading|=1}),a.addEventListener("error",function(){return o.loading|=2}),en(a,"link",s),Ot(a),e.head.appendChild(a))}function tl(e){return'[src="'+De(e)+'"]'}function Eo(e){return"script[async]"+e}function r_(e,a,s){if(a.count++,a.instance===null)switch(a.type){case"style":var o=e.querySelector('style[data-href~="'+De(s.href)+'"]');if(o)return a.instance=o,Ot(o),o;var f=v({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ot(o),en(o,"style",f),Ec(o,s.precedence,e),a.instance=o;case"stylesheet":f=Js(s.href);var d=e.querySelector(_o(f));if(d)return a.state.loading|=4,a.instance=d,Ot(d),d;o=n_(s),(f=Zn.get(f))&&Md(o,f),d=(e.ownerDocument||e).createElement("link"),Ot(d);var E=d;return E._p=new Promise(function(w,I){E.onload=w,E.onerror=I}),en(d,"link",o),a.state.loading|=4,Ec(d,s.precedence,e),a.instance=d;case"script":return d=tl(s.src),(f=e.querySelector(Eo(d)))?(a.instance=f,Ot(f),f):(o=s,(f=Zn.get(d))&&(o=v({},s),Vd(o,f)),e=e.ownerDocument||e,f=e.createElement("script"),Ot(f),en(f,"link",o),e.head.appendChild(f),a.instance=f);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(o=a.instance,a.state.loading|=4,Ec(o,s.precedence,e));return a.instance}function Ec(e,a,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,d=f,E=0;E<o.length;E++){var w=o[E];if(w.dataset.precedence===a)d=w;else if(d!==f)break}d?d.parentNode.insertBefore(e,d.nextSibling):(a=s.nodeType===9?s.head:s,a.insertBefore(e,a.firstChild))}function Md(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.title==null&&(e.title=a.title)}function Vd(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.integrity==null&&(e.integrity=a.integrity)}var Tc=null;function a_(e,a,s){if(Tc===null){var o=new Map,f=Tc=new Map;f.set(s,o)}else f=Tc,o=f.get(s),o||(o=new Map,f.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),f=0;f<s.length;f++){var d=s[f];if(!(d[ir]||d[_e]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(a)||"";E=e+E;var w=o.get(E);w?w.push(d):o.set(E,[d])}}return o}function i_(e,a,s){e=e.ownerDocument||e,e.head.insertBefore(s,a==="title"?e.querySelector("head > title"):null)}function oS(e,a,s){if(s===1||a.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return e=a.disabled,typeof a.precedence=="string"&&e==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function s_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var To=null;function uS(){}function cS(e,a,s){if(To===null)throw Error(i(475));var o=To;if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Js(s.href),d=e.querySelector(_o(f));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=bc.bind(o),e.then(o,o)),a.state.loading|=4,a.instance=d,Ot(d);return}d=e.ownerDocument||e,s=n_(s),(f=Zn.get(f))&&Md(s,f),d=d.createElement("link"),Ot(d);var E=d;E._p=new Promise(function(w,I){E.onload=w,E.onerror=I}),en(d,"link",s),a.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(a,e),(e=a.state.preload)&&(a.state.loading&3)===0&&(o.count++,a=bc.bind(o),e.addEventListener("load",a),e.addEventListener("error",a))}}function fS(){if(To===null)throw Error(i(475));var e=To;return e.stylesheets&&e.count===0&&Pd(e,e.stylesheets),0<e.count?function(a){var s=setTimeout(function(){if(e.stylesheets&&Pd(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(s)}}:null}function bc(){if(this.count--,this.count===0){if(this.stylesheets)Pd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var wc=null;function Pd(e,a){e.stylesheets=null,e.unsuspend!==null&&(e.count++,wc=new Map,a.forEach(hS,e),wc=null,bc.call(e))}function hS(e,a){if(!(a.state.loading&4)){var s=wc.get(e);if(s)var o=s.get(null);else{s=new Map,wc.set(e,s);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var E=f[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(s.set(E.dataset.precedence,E),o=E)}o&&s.set(null,o)}f=a.instance,E=f.getAttribute("data-precedence"),d=s.get(E)||o,d===o&&s.set(null,f),s.set(E,f),this.count++,o=bc.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),d?d.parentNode.insertBefore(f,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),a.state.loading|=4}}var bo={$$typeof:Z,Provider:null,Consumer:null,_currentValue:gt,_currentValue2:gt,_threadCount:0};function dS(e,a,s,o,f,d,E,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ar(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ar(0),this.hiddenUpdates=ar(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function l_(e,a,s,o,f,d,E,w,I,Y,X,tt){return e=new dS(e,a,s,E,w,I,Y,tt),a=1,d===!0&&(a|=24),d=Cn(3,null,null,a),e.current=d,d.stateNode=e,a=ph(),a.refCount++,e.pooledCache=a,a.refCount++,d.memoizedState={element:o,isDehydrated:s,cache:a},Eh(d),e}function o_(e){return e?(e=Is,e):Is}function u_(e,a,s,o,f,d){f=o_(f),o.context===null?o.context=f:o.pendingContext=f,o=Na(a),o.payload={element:s},d=d===void 0?null:d,d!==null&&(o.callback=d),s=Ma(e,o,a),s!==null&&(Vn(s,e,a),Wl(s,e,a))}function c_(e,a){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<a?s:a}}function kd(e,a){c_(e,a),(e=e.alternate)&&c_(e,a)}function f_(e){if(e.tag===13){var a=Os(e,67108864);a!==null&&Vn(a,e,67108864),kd(e,67108864)}}var Sc=!0;function mS(e,a,s,o){var f=Q.T;Q.T=null;var d=st.p;try{st.p=2,Ld(e,a,s,o)}finally{st.p=d,Q.T=f}}function gS(e,a,s,o){var f=Q.T;Q.T=null;var d=st.p;try{st.p=8,Ld(e,a,s,o)}finally{st.p=d,Q.T=f}}function Ld(e,a,s,o){if(Sc){var f=jd(o);if(f===null)Sd(e,a,o,Ac,s),d_(e,o);else if(yS(f,e,a,s,o))o.stopPropagation();else if(d_(e,o),a&4&&-1<pS.indexOf(e)){for(;f!==null;){var d=Bn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=Rn(d.pendingLanes);if(E!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;E;){var I=1<<31-Ae(E);w.entanglements[1]|=I,E&=~I}Mr(d),(Wt&6)===0&&(oc=Qe()+500,go(0))}}break;case 13:w=Os(d,2),w!==null&&Vn(w,d,2),cc(),kd(d,2)}if(d=jd(o),d===null&&Sd(e,a,o,Ac,s),d===f)break;f=d}f!==null&&o.stopPropagation()}else Sd(e,a,o,null,s)}}function jd(e){return e=Hn(e),Ud(e)}var Ac=null;function Ud(e){if(Ac=null,e=lr(e),e!==null){var a=u(e);if(a===null)e=null;else{var s=a.tag;if(s===13){if(e=h(a),e!==null)return e;e=null}else if(s===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;e=null}else a!==e&&(e=null)}}return Ac=e,null}function h_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(us()){case wa:return 2;case Sa:return 8;case zr:case Dl:return 32;case Br:return 268435456;default:return 32}default:return 32}}var zd=!1,Ga=null,Qa=null,Ka=null,wo=new Map,So=new Map,$a=[],pS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function d_(e,a){switch(e){case"focusin":case"focusout":Ga=null;break;case"dragenter":case"dragleave":Qa=null;break;case"mouseover":case"mouseout":Ka=null;break;case"pointerover":case"pointerout":wo.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":So.delete(a.pointerId)}}function Ao(e,a,s,o,f,d){return e===null||e.nativeEvent!==d?(e={blockedOn:a,domEventName:s,eventSystemFlags:o,nativeEvent:d,targetContainers:[f]},a!==null&&(a=Bn(a),a!==null&&f_(a)),e):(e.eventSystemFlags|=o,a=e.targetContainers,f!==null&&a.indexOf(f)===-1&&a.push(f),e)}function yS(e,a,s,o,f){switch(a){case"focusin":return Ga=Ao(Ga,e,a,s,o,f),!0;case"dragenter":return Qa=Ao(Qa,e,a,s,o,f),!0;case"mouseover":return Ka=Ao(Ka,e,a,s,o,f),!0;case"pointerover":var d=f.pointerId;return wo.set(d,Ao(wo.get(d)||null,e,a,s,o,f)),!0;case"gotpointercapture":return d=f.pointerId,So.set(d,Ao(So.get(d)||null,e,a,s,o,f)),!0}return!1}function m_(e){var a=lr(e.target);if(a!==null){var s=u(a);if(s!==null){if(a=s.tag,a===13){if(a=h(s),a!==null){e.blockedOn=a,Ra(e.priority,function(){if(s.tag===13){var o=Mn();o=Yt(o);var f=Os(s,o);f!==null&&Vn(f,s,o),kd(s,o)}});return}}else if(a===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Rc(e){if(e.blockedOn!==null)return!1;for(var a=e.targetContainers;0<a.length;){var s=jd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Kr=o,s.target.dispatchEvent(o),Kr=null}else return a=Bn(s),a!==null&&f_(a),e.blockedOn=s,!1;a.shift()}return!0}function g_(e,a,s){Rc(e)&&s.delete(a)}function vS(){zd=!1,Ga!==null&&Rc(Ga)&&(Ga=null),Qa!==null&&Rc(Qa)&&(Qa=null),Ka!==null&&Rc(Ka)&&(Ka=null),wo.forEach(g_),So.forEach(g_)}function Dc(e,a){e.blockedOn===a&&(e.blockedOn=null,zd||(zd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,vS)))}var xc=null;function p_(e){xc!==e&&(xc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){xc===e&&(xc=null);for(var a=0;a<e.length;a+=3){var s=e[a],o=e[a+1],f=e[a+2];if(typeof o!="function"){if(Ud(o||s)===null)continue;break}var d=Bn(s);d!==null&&(e.splice(a,3),a-=3,Uh(d,{pending:!0,data:f,method:s.method,action:o},o,f))}}))}function Ro(e){function a(I){return Dc(I,e)}Ga!==null&&Dc(Ga,e),Qa!==null&&Dc(Qa,e),Ka!==null&&Dc(Ka,e),wo.forEach(a),So.forEach(a);for(var s=0;s<$a.length;s++){var o=$a[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<$a.length&&(s=$a[0],s.blockedOn===null);)m_(s),s.blockedOn===null&&$a.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var f=s[o],d=s[o+1],E=f[de]||null;if(typeof d=="function")E||p_(s);else if(E){var w=null;if(d&&d.hasAttribute("formAction")){if(f=d,E=d[de]||null)w=E.formAction;else if(Ud(f)!==null)continue}else w=E.action;typeof w=="function"?s[o+1]=w:(s.splice(o,3),o-=3),p_(s)}}}function Bd(e){this._internalRoot=e}Cc.prototype.render=Bd.prototype.render=function(e){var a=this._internalRoot;if(a===null)throw Error(i(409));var s=a.current,o=Mn();u_(s,o,e,a,null,null)},Cc.prototype.unmount=Bd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var a=e.containerInfo;u_(e.current,2,null,e,null,null),cc(),a[$e]=null}};function Cc(e){this._internalRoot=e}Cc.prototype.unstable_scheduleHydration=function(e){if(e){var a=Er();e={blockedOn:null,target:e,priority:a};for(var s=0;s<$a.length&&a!==0&&a<$a[s].priority;s++);$a.splice(s,0,e),s===0&&m_(e)}};var y_=t.version;if(y_!=="19.1.0")throw Error(i(527,y_,"19.1.0"));st.findDOMNode=function(e){var a=e._reactInternals;if(a===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=p(a),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var _S={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oc.isDisabled&&Oc.supportsFiber)try{he=Oc.inject(_S),Qt=Oc}catch{}}return xo.createRoot=function(e,a){if(!l(e))throw Error(i(299));var s=!1,o="",f=My,d=Vy,E=Py,w=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(d=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(w=a.unstable_transitionCallbacks)),a=l_(e,1,!1,null,null,s,o,f,d,E,w,null),e[$e]=a.current,wd(e),new Bd(a)},xo.hydrateRoot=function(e,a,s){if(!l(e))throw Error(i(299));var o=!1,f="",d=My,E=Vy,w=Py,I=null,Y=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(E=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(I=s.unstable_transitionCallbacks),s.formState!==void 0&&(Y=s.formState)),a=l_(e,1,!0,a,s??null,o,f,d,E,w,I,Y),a.context=o_(null),s=a.current,o=Mn(),o=Yt(o),f=Na(o),f.callback=null,Ma(s,f,o),s=o,a.current.lanes=s,Un(a,s),Mr(a),e[$e]=a.current,wd(e),new Cc(a)},xo.version="19.1.0",xo}var D_;function OS(){if(D_)return Fd.exports;D_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Fd.exports=CS(),Fd.exports}var IS=OS(),Co={},x_;function NS(){if(x_)return Co;x_=1,Object.defineProperty(Co,"__esModule",{value:!0}),Co.parse=h,Co.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,u=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function h(b,R){const D=new u,k=b.length;if(k<2)return D;const P=(R==null?void 0:R.decode)||v;let F=0;do{const rt=b.indexOf("=",F);if(rt===-1)break;const Z=b.indexOf(";",F),ut=Z===-1?k:Z;if(rt>ut){F=b.lastIndexOf(";",rt-1)+1;continue}const ct=m(b,F,rt),it=p(b,rt,ct),M=b.slice(ct,it);if(D[M]===void 0){let A=m(b,rt+1,ut),C=p(b,ut,A);const N=P(b.slice(A,C));D[M]=N}F=ut+1}while(F<k);return D}function m(b,R,D){do{const k=b.charCodeAt(R);if(k!==32&&k!==9)return R}while(++R<D);return D}function p(b,R,D){for(;R>D;){const k=b.charCodeAt(--R);if(k!==32&&k!==9)return R+1}return D}function g(b,R,D){const k=(D==null?void 0:D.encode)||encodeURIComponent;if(!r.test(b))throw new TypeError(`argument name is invalid: ${b}`);const P=k(R);if(!t.test(P))throw new TypeError(`argument val is invalid: ${R}`);let F=b+"="+P;if(!D)return F;if(D.maxAge!==void 0){if(!Number.isInteger(D.maxAge))throw new TypeError(`option maxAge is invalid: ${D.maxAge}`);F+="; Max-Age="+D.maxAge}if(D.domain){if(!n.test(D.domain))throw new TypeError(`option domain is invalid: ${D.domain}`);F+="; Domain="+D.domain}if(D.path){if(!i.test(D.path))throw new TypeError(`option path is invalid: ${D.path}`);F+="; Path="+D.path}if(D.expires){if(!T(D.expires)||!Number.isFinite(D.expires.valueOf()))throw new TypeError(`option expires is invalid: ${D.expires}`);F+="; Expires="+D.expires.toUTCString()}if(D.httpOnly&&(F+="; HttpOnly"),D.secure&&(F+="; Secure"),D.partitioned&&(F+="; Partitioned"),D.priority)switch(typeof D.priority=="string"?D.priority.toLowerCase():void 0){case"low":F+="; Priority=Low";break;case"medium":F+="; Priority=Medium";break;case"high":F+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${D.priority}`)}if(D.sameSite)switch(typeof D.sameSite=="string"?D.sameSite.toLowerCase():D.sameSite){case!0:case"strict":F+="; SameSite=Strict";break;case"lax":F+="; SameSite=Lax";break;case"none":F+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${D.sameSite}`)}return F}function v(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function T(b){return l.call(b)==="[object Date]"}return Co}NS();/**
 * react-router v7.5.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var C_="popstate";function MS(r={}){function t(l,u){let{pathname:h="/",search:m="",hash:p=""}=rs(l.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),gm("",{pathname:h,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(l,u){let h=l.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let p=l.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:Ho(u))}function i(l,u){er(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return PS(t,n,i,r)}function ge(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function er(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function VS(){return Math.random().toString(36).substring(2,10)}function O_(r,t){return{usr:r.state,key:r.key,idx:t}}function gm(r,t,n=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?rs(t):t,state:n,key:t&&t.key||i||VS()}}function Ho({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function rs(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let i=r.indexOf("?");i>=0&&(t.search=r.substring(i),r=r.substring(0,i)),r&&(t.pathname=r)}return t}function PS(r,t,n,i={}){let{window:l=document.defaultView,v5Compat:u=!1}=i,h=l.history,m="POP",p=null,g=v();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function v(){return(h.state||{idx:null}).idx}function T(){m="POP";let P=v(),F=P==null?null:P-g;g=P,p&&p({action:m,location:k.location,delta:F})}function b(P,F){m="PUSH";let rt=gm(k.location,P,F);n&&n(rt,P),g=v()+1;let Z=O_(rt,g),ut=k.createHref(rt);try{h.pushState(Z,"",ut)}catch(ct){if(ct instanceof DOMException&&ct.name==="DataCloneError")throw ct;l.location.assign(ut)}u&&p&&p({action:m,location:k.location,delta:1})}function R(P,F){m="REPLACE";let rt=gm(k.location,P,F);n&&n(rt,P),g=v();let Z=O_(rt,g),ut=k.createHref(rt);h.replaceState(Z,"",ut),u&&p&&p({action:m,location:k.location,delta:0})}function D(P){let F=l.location.origin!=="null"?l.location.origin:l.location.href,rt=typeof P=="string"?P:Ho(P);return rt=rt.replace(/ $/,"%20"),ge(F,`No window.location.(origin|href) available to create URL for href: ${rt}`),new URL(rt,F)}let k={get action(){return m},get location(){return r(l,h)},listen(P){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(C_,T),p=P,()=>{l.removeEventListener(C_,T),p=null}},createHref(P){return t(l,P)},createURL:D,encodeLocation(P){let F=D(P);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:b,replace:R,go(P){return h.go(P)}};return k}function yE(r,t,n="/"){return kS(r,t,n,!1)}function kS(r,t,n,i){let l=typeof t=="string"?rs(t):t,u=pa(l.pathname||"/",n);if(u==null)return null;let h=vE(r);LS(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=KS(u);m=GS(h[p],g,i)}return m}function vE(r,t=[],n=[],i=""){let l=(u,h,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(ge(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let g=ma([i,p.relativePath]),v=n.concat(p);u.children&&u.children.length>0&&(ge(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),vE(u.children,t,v,g)),!(u.path==null&&!u.index)&&t.push({path:g,score:FS(g,u.index),routesMeta:v})};return r.forEach((u,h)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))l(u,h);else for(let p of _E(u.path))l(u,h,p)}),t}function _E(r){let t=r.split("/");if(t.length===0)return[];let[n,...i]=t,l=n.endsWith("?"),u=n.replace(/\?$/,"");if(i.length===0)return l?[u,""]:[u];let h=_E(i.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),l&&m.push(...h),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function LS(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:YS(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var jS=/^:[\w-]+$/,US=3,zS=2,BS=1,qS=10,HS=-2,I_=r=>r==="*";function FS(r,t){let n=r.split("/"),i=n.length;return n.some(I_)&&(i+=HS),t&&(i+=zS),n.filter(l=>!I_(l)).reduce((l,u)=>l+(jS.test(u)?US:u===""?BS:qS),i)}function YS(r,t){return r.length===t.length&&r.slice(0,-1).every((i,l)=>i===t[l])?r[r.length-1]-t[t.length-1]:0}function GS(r,t,n=!1){let{routesMeta:i}=r,l={},u="/",h=[];for(let m=0;m<i.length;++m){let p=i[m],g=m===i.length-1,v=u==="/"?t:t.slice(u.length)||"/",T=$c({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),b=p.route;if(!T&&g&&n&&!i[i.length-1].route.index&&(T=$c({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!T)return null;Object.assign(l,T.params),h.push({params:l,pathname:ma([u,T.pathname]),pathnameBase:ZS(ma([u,T.pathnameBase])),route:b}),T.pathnameBase!=="/"&&(u=ma([u,T.pathnameBase]))}return h}function $c(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,i]=QS(r.path,r.caseSensitive,r.end),l=t.match(n);if(!l)return null;let u=l[0],h=u.replace(/(.)\/+$/,"$1"),m=l.slice(1);return{params:i.reduce((g,{paramName:v,isOptional:T},b)=>{if(v==="*"){let D=m[b]||"";h=u.slice(0,u.length-D.length).replace(/(.)\/+$/,"$1")}const R=m[b];return T&&!R?g[v]=void 0:g[v]=(R||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:r}}function QS(r,t=!1,n=!0){er(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],l="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(i.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(i.push({paramName:"*"}),l+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":r!==""&&r!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),i]}function KS(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return er(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function pa(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=r.charAt(n);return i&&i!=="/"?null:r.slice(n)||"/"}function $S(r,t="/"){let{pathname:n,search:i="",hash:l=""}=typeof r=="string"?rs(r):r;return{pathname:n?n.startsWith("/")?n:XS(n,t):t,search:JS(i),hash:tA(l)}}function XS(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function Kd(r,t,n,i){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function WS(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function eg(r){let t=WS(r);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function ng(r,t,n,i=!1){let l;typeof r=="string"?l=rs(r):(l={...r},ge(!l.pathname||!l.pathname.includes("?"),Kd("?","pathname","search",l)),ge(!l.pathname||!l.pathname.includes("#"),Kd("#","pathname","hash",l)),ge(!l.search||!l.search.includes("#"),Kd("#","search","hash",l)));let u=r===""||l.pathname==="",h=u?"/":l.pathname,m;if(h==null)m=n;else{let T=t.length-1;if(!i&&h.startsWith("..")){let b=h.split("/");for(;b[0]==="..";)b.shift(),T-=1;l.pathname=b.join("/")}m=T>=0?t[T]:"/"}let p=$S(l,m),g=h&&h!=="/"&&h.endsWith("/"),v=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var ma=r=>r.join("/").replace(/\/\/+/g,"/"),ZS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),JS=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,tA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function eA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var EE=["POST","PUT","PATCH","DELETE"];new Set(EE);var nA=["GET",...EE];new Set(nA);var vl=z.createContext(null);vl.displayName="DataRouter";var pf=z.createContext(null);pf.displayName="DataRouterState";var TE=z.createContext({isTransitioning:!1});TE.displayName="ViewTransition";var rA=z.createContext(new Map);rA.displayName="Fetchers";var aA=z.createContext(null);aA.displayName="Await";var mr=z.createContext(null);mr.displayName="Navigation";var eu=z.createContext(null);eu.displayName="Location";var gr=z.createContext({outlet:null,matches:[],isDataRoute:!1});gr.displayName="Route";var rg=z.createContext(null);rg.displayName="RouteError";function iA(r,{relative:t}={}){ge(_l(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=z.useContext(mr),{hash:l,pathname:u,search:h}=nu(r,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:ma([n,u])),i.createHref({pathname:m,search:h,hash:l})}function _l(){return z.useContext(eu)!=null}function Ta(){return ge(_l(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(eu).location}var bE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function wE(r){z.useContext(mr).static||z.useLayoutEffect(r)}function ag(){let{isDataRoute:r}=z.useContext(gr);return r?_A():sA()}function sA(){ge(_l(),"useNavigate() may be used only in the context of a <Router> component.");let r=z.useContext(vl),{basename:t,navigator:n}=z.useContext(mr),{matches:i}=z.useContext(gr),{pathname:l}=Ta(),u=JSON.stringify(eg(i)),h=z.useRef(!1);return wE(()=>{h.current=!0}),z.useCallback((p,g={})=>{if(er(h.current,bE),!h.current)return;if(typeof p=="number"){n.go(p);return}let v=ng(p,JSON.parse(u),l,g.relative==="path");r==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:ma([t,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[t,n,u,l,r])}z.createContext(null);function lA(){let{matches:r}=z.useContext(gr),t=r[r.length-1];return t?t.params:{}}function nu(r,{relative:t}={}){let{matches:n}=z.useContext(gr),{pathname:i}=Ta(),l=JSON.stringify(eg(n));return z.useMemo(()=>ng(r,JSON.parse(l),i,t==="path"),[r,l,i,t])}function oA(r,t){return SE(r,t)}function SE(r,t,n,i){var rt;ge(_l(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l,static:u}=z.useContext(mr),{matches:h}=z.useContext(gr),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",v=m?m.pathnameBase:"/",T=m&&m.route;{let Z=T&&T.path||"";AE(g,!T||Z.endsWith("*")||Z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Z}"> to <Route path="${Z==="/"?"*":`${Z}/*`}">.`)}let b=Ta(),R;if(t){let Z=typeof t=="string"?rs(t):t;ge(v==="/"||((rt=Z.pathname)==null?void 0:rt.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${Z.pathname}" was given in the \`location\` prop.`),R=Z}else R=b;let D=R.pathname||"/",k=D;if(v!=="/"){let Z=v.replace(/^\//,"").split("/");k="/"+D.replace(/^\//,"").split("/").slice(Z.length).join("/")}let P=!u&&n&&n.matches&&n.matches.length>0?n.matches:yE(r,{pathname:k});er(T||P!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),er(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=dA(P&&P.map(Z=>Object.assign({},Z,{params:Object.assign({},p,Z.params),pathname:ma([v,l.encodeLocation?l.encodeLocation(Z.pathname).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?v:ma([v,l.encodeLocation?l.encodeLocation(Z.pathnameBase).pathname:Z.pathnameBase])})),h,n,i);return t&&F?z.createElement(eu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},F):F}function uA(){let r=vA(),t=eA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=z.createElement(z.Fragment,null,z.createElement("p",null,"💿 Hey developer 👋"),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:u},"ErrorBoundary")," or"," ",z.createElement("code",{style:u},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},t),n?z.createElement("pre",{style:l},n):null,h)}var cA=z.createElement(uA,null),fA=class extends z.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?z.createElement(gr.Provider,{value:this.props.routeContext},z.createElement(rg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function hA({routeContext:r,match:t,children:n}){let i=z.useContext(vl);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),z.createElement(gr.Provider,{value:r},n)}function dA(r,t=[],n=null,i=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let l=r,u=n==null?void 0:n.errors;if(u!=null){let p=l.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);ge(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let h=!1,m=-1;if(n)for(let p=0;p<l.length;p++){let g=l[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:v,errors:T}=n,b=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!T||T[g.route.id]===void 0);if(g.route.lazy||b){h=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((p,g,v)=>{let T,b=!1,R=null,D=null;n&&(T=u&&g.route.id?u[g.route.id]:void 0,R=g.route.errorElement||cA,h&&(m<0&&v===0?(AE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,D=null):m===v&&(b=!0,D=g.route.hydrateFallbackElement||null)));let k=t.concat(l.slice(0,v+1)),P=()=>{let F;return T?F=R:b?F=D:g.route.Component?F=z.createElement(g.route.Component,null):g.route.element?F=g.route.element:F=p,z.createElement(hA,{match:g,routeContext:{outlet:p,matches:k,isDataRoute:n!=null},children:F})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?z.createElement(fA,{location:n.location,revalidation:n.revalidation,component:R,error:T,children:P(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):P()},null)}function ig(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mA(r){let t=z.useContext(vl);return ge(t,ig(r)),t}function gA(r){let t=z.useContext(pf);return ge(t,ig(r)),t}function pA(r){let t=z.useContext(gr);return ge(t,ig(r)),t}function sg(r){let t=pA(r),n=t.matches[t.matches.length-1];return ge(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function yA(){return sg("useRouteId")}function vA(){var i;let r=z.useContext(rg),t=gA("useRouteError"),n=sg("useRouteError");return r!==void 0?r:(i=t.errors)==null?void 0:i[n]}function _A(){let{router:r}=mA("useNavigate"),t=sg("useNavigate"),n=z.useRef(!1);return wE(()=>{n.current=!0}),z.useCallback(async(l,u={})=>{er(n.current,bE),n.current&&(typeof l=="number"?r.navigate(l):await r.navigate(l,{fromRouteId:t,...u}))},[r,t])}var N_={};function AE(r,t,n){!t&&!N_[r]&&(N_[r]=!0,er(!1,n))}z.memo(EA);function EA({routes:r,future:t,state:n}){return SE(r,void 0,n,t)}function Ki({to:r,replace:t,state:n,relative:i}){ge(_l(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=z.useContext(mr);er(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=z.useContext(gr),{pathname:h}=Ta(),m=ag(),p=ng(r,eg(u),h,i==="path"),g=JSON.stringify(p);return z.useEffect(()=>{m(JSON.parse(g),{replace:t,state:n,relative:i})},[m,g,i,t,n]),null}function Za(r){ge(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function TA({basename:r="/",children:t=null,location:n,navigationType:i="POP",navigator:l,static:u=!1}){ge(!_l(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),m=z.useMemo(()=>({basename:h,navigator:l,static:u,future:{}}),[h,l,u]);typeof n=="string"&&(n=rs(n));let{pathname:p="/",search:g="",hash:v="",state:T=null,key:b="default"}=n,R=z.useMemo(()=>{let D=pa(p,h);return D==null?null:{location:{pathname:D,search:g,hash:v,state:T,key:b},navigationType:i}},[h,p,g,v,T,b,i]);return er(R!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:z.createElement(mr.Provider,{value:m},z.createElement(eu.Provider,{children:t,value:R}))}function bA({children:r,location:t}){return oA(pm(r),t)}function pm(r,t=[]){let n=[];return z.Children.forEach(r,(i,l)=>{if(!z.isValidElement(i))return;let u=[...t,l];if(i.type===z.Fragment){n.push.apply(n,pm(i.props.children,u));return}ge(i.type===Za,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ge(!i.props.index||!i.props.children,"An index route cannot have child routes.");let h={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(h.children=pm(i.props.children,u)),n.push(h)}),n}var zc="get",Bc="application/x-www-form-urlencoded";function yf(r){return r!=null&&typeof r.tagName=="string"}function wA(r){return yf(r)&&r.tagName.toLowerCase()==="button"}function SA(r){return yf(r)&&r.tagName.toLowerCase()==="form"}function AA(r){return yf(r)&&r.tagName.toLowerCase()==="input"}function RA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function DA(r,t){return r.button===0&&(!t||t==="_self")&&!RA(r)}var Ic=null;function xA(){if(Ic===null)try{new FormData(document.createElement("form"),0),Ic=!1}catch{Ic=!0}return Ic}var CA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $d(r){return r!=null&&!CA.has(r)?(er(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bc}"`),null):r}function OA(r,t){let n,i,l,u,h;if(SA(r)){let m=r.getAttribute("action");i=m?pa(m,t):null,n=r.getAttribute("method")||zc,l=$d(r.getAttribute("enctype"))||Bc,u=new FormData(r)}else if(wA(r)||AA(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(i=p?pa(p,t):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||zc,l=$d(r.getAttribute("formenctype"))||$d(m.getAttribute("enctype"))||Bc,u=new FormData(m,r),!xA()){let{name:g,type:v,value:T}=r;if(v==="image"){let b=g?`${g}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else g&&u.append(g,T)}}else{if(yf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=zc,i=null,l=Bc,h=r}return u&&l==="text/plain"&&(h=u,u=void 0),{action:i,method:n.toLowerCase(),encType:l,formData:u,body:h}}function lg(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}async function IA(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function NA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function MA(r,t,n){let i=await Promise.all(r.map(async l=>{let u=t.routes[l.route.id];if(u){let h=await IA(u,n);return h.links?h.links():[]}return[]}));return LA(i.flat(1).filter(NA).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function M_(r,t,n,i,l,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var v;return n[g].pathname!==p.pathname||((v=n[g].route.path)==null?void 0:v.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?t.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?t.filter((p,g)=>{var T;let v=i.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((T=n[0])==null?void 0:T.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function VA(r,t,{includeHydrateFallback:n}={}){return PA(r.map(i=>{let l=t.routes[i.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function PA(r){return[...new Set(r)]}function kA(r){let t={},n=Object.keys(r).sort();for(let i of n)t[i]=r[i];return t}function LA(r,t){let n=new Set;return new Set(t),r.reduce((i,l)=>{let u=JSON.stringify(kA(l));return n.has(u)||(n.add(u),i.push({key:u,link:l})),i},[])}var jA=new Set([100,101,204,205]);function UA(r,t){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":t&&pa(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function RE(){let r=z.useContext(vl);return lg(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function zA(){let r=z.useContext(pf);return lg(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var og=z.createContext(void 0);og.displayName="FrameworkContext";function DE(){let r=z.useContext(og);return lg(r,"You must render this element inside a <HydratedRouter> element"),r}function BA(r,t){let n=z.useContext(og),[i,l]=z.useState(!1),[u,h]=z.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:T}=t,b=z.useRef(null);z.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let k=F=>{F.forEach(rt=>{h(rt.isIntersecting)})},P=new IntersectionObserver(k,{threshold:.5});return b.current&&P.observe(b.current),()=>{P.disconnect()}}},[r]),z.useEffect(()=>{if(i){let k=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(k)}}},[i]);let R=()=>{l(!0)},D=()=>{l(!1),h(!1)};return n?r!=="intent"?[u,b,{}]:[u,b,{onFocus:Oo(m,R),onBlur:Oo(p,D),onMouseEnter:Oo(g,R),onMouseLeave:Oo(v,D),onTouchStart:Oo(T,R)}]:[!1,b,{}]}function Oo(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function qA({page:r,...t}){let{router:n}=RE(),i=z.useMemo(()=>yE(n.routes,r,n.basename),[n.routes,r,n.basename]);return i?z.createElement(FA,{page:r,matches:i,...t}):null}function HA(r){let{manifest:t,routeModules:n}=DE(),[i,l]=z.useState([]);return z.useEffect(()=>{let u=!1;return MA(r,t,n).then(h=>{u||l(h)}),()=>{u=!0}},[r,t,n]),i}function FA({page:r,matches:t,...n}){let i=Ta(),{manifest:l,routeModules:u}=DE(),{basename:h}=RE(),{loaderData:m,matches:p}=zA(),g=z.useMemo(()=>M_(r,t,p,l,i,"data"),[r,t,p,l,i]),v=z.useMemo(()=>M_(r,t,p,l,i,"assets"),[r,t,p,l,i]),T=z.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let D=new Set,k=!1;if(t.forEach(F=>{var Z;let rt=l.routes[F.route.id];!rt||!rt.hasLoader||(!g.some(ut=>ut.route.id===F.route.id)&&F.route.id in m&&((Z=u[F.route.id])!=null&&Z.shouldRevalidate)||rt.hasClientLoader?k=!0:D.add(F.route.id))}),D.size===0)return[];let P=UA(r,h);return k&&D.size>0&&P.searchParams.set("_routes",t.filter(F=>D.has(F.route.id)).map(F=>F.route.id).join(",")),[P.pathname+P.search]},[h,m,i,l,g,t,r,u]),b=z.useMemo(()=>VA(v,l),[v,l]),R=HA(v);return z.createElement(z.Fragment,null,T.map(D=>z.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),b.map(D=>z.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),R.map(({key:D,link:k})=>z.createElement("link",{key:D,...k})))}function YA(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var xE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{xE&&(window.__reactRouterVersion="7.5.1")}catch{}function GA({basename:r,children:t,window:n}){let i=z.useRef();i.current==null&&(i.current=MS({window:n,v5Compat:!0}));let l=i.current,[u,h]=z.useState({action:l.action,location:l.location}),m=z.useCallback(p=>{z.startTransition(()=>h(p))},[h]);return z.useLayoutEffect(()=>l.listen(m),[l,m]),z.createElement(TA,{basename:r,children:t,location:u.location,navigationType:u.action,navigator:l})}var CE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ug=z.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:l,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:v,viewTransition:T,...b},R){let{basename:D}=z.useContext(mr),k=typeof g=="string"&&CE.test(g),P,F=!1;if(typeof g=="string"&&k&&(P=g,xE))try{let C=new URL(window.location.href),N=g.startsWith("//")?new URL(C.protocol+g):new URL(g),j=pa(N.pathname,D);N.origin===C.origin&&j!=null?g=j+N.search+N.hash:F=!0}catch{er(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let rt=iA(g,{relative:l}),[Z,ut,ct]=BA(i,b),it=$A(g,{replace:h,state:m,target:p,preventScrollReset:v,relative:l,viewTransition:T});function M(C){t&&t(C),C.defaultPrevented||it(C)}let A=z.createElement("a",{...b,...ct,href:P||rt,onClick:F||u?t:M,ref:YA(R,ut),target:p,"data-discover":!k&&n==="render"?"true":void 0});return Z&&!k?z.createElement(z.Fragment,null,A,z.createElement(qA,{page:rt})):A});ug.displayName="Link";var OE=z.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:l=!1,style:u,to:h,viewTransition:m,children:p,...g},v){let T=nu(h,{relative:g.relative}),b=Ta(),R=z.useContext(pf),{navigator:D,basename:k}=z.useContext(mr),P=R!=null&&t1(T)&&m===!0,F=D.encodeLocation?D.encodeLocation(T).pathname:T.pathname,rt=b.pathname,Z=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;n||(rt=rt.toLowerCase(),Z=Z?Z.toLowerCase():null,F=F.toLowerCase()),Z&&k&&(Z=pa(Z,k)||Z);const ut=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let ct=rt===F||!l&&rt.startsWith(F)&&rt.charAt(ut)==="/",it=Z!=null&&(Z===F||!l&&Z.startsWith(F)&&Z.charAt(F.length)==="/"),M={isActive:ct,isPending:it,isTransitioning:P},A=ct?t:void 0,C;typeof i=="function"?C=i(M):C=[i,ct?"active":null,it?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let N=typeof u=="function"?u(M):u;return z.createElement(ug,{...g,"aria-current":A,className:C,ref:v,style:N,to:h,viewTransition:m},typeof p=="function"?p(M):p)});OE.displayName="NavLink";var QA=z.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:l,state:u,method:h=zc,action:m,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:T,...b},R)=>{let D=ZA(),k=JA(m,{relative:g}),P=h.toLowerCase()==="get"?"get":"post",F=typeof m=="string"&&CE.test(m),rt=Z=>{if(p&&p(Z),Z.defaultPrevented)return;Z.preventDefault();let ut=Z.nativeEvent.submitter,ct=(ut==null?void 0:ut.getAttribute("formmethod"))||h;D(ut||Z.currentTarget,{fetcherKey:t,method:ct,navigate:n,replace:l,state:u,relative:g,preventScrollReset:v,viewTransition:T})};return z.createElement("form",{ref:R,method:P,action:k,onSubmit:i?p:rt,...b,"data-discover":!F&&r==="render"?"true":void 0})});QA.displayName="Form";function KA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IE(r){let t=z.useContext(vl);return ge(t,KA(r)),t}function $A(r,{target:t,replace:n,state:i,preventScrollReset:l,relative:u,viewTransition:h}={}){let m=ag(),p=Ta(),g=nu(r,{relative:u});return z.useCallback(v=>{if(DA(v,t)){v.preventDefault();let T=n!==void 0?n:Ho(p)===Ho(g);m(r,{replace:T,state:i,preventScrollReset:l,relative:u,viewTransition:h})}},[p,m,g,n,i,t,r,l,u,h])}var XA=0,WA=()=>`__${String(++XA)}__`;function ZA(){let{router:r}=IE("useSubmit"),{basename:t}=z.useContext(mr),n=yA();return z.useCallback(async(i,l={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=OA(i,t);if(l.navigate===!1){let v=l.fetcherKey||WA();await r.fetch(v,n,l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||h,formEncType:l.encType||m,flushSync:l.flushSync})}else await r.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||h,formEncType:l.encType||m,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,t,n])}function JA(r,{relative:t}={}){let{basename:n}=z.useContext(mr),i=z.useContext(gr);ge(i,"useFormAction must be used inside a RouteContext");let[l]=i.matches.slice(-1),u={...nu(r||".",{relative:t})},h=Ta();if(r==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(v=>v==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let v=m.toString();u.search=v?`?${v}`:""}}return(!r||r===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ma([n,u.pathname])),Ho(u)}function t1(r,t={}){let n=z.useContext(TE);ge(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=IE("useViewTransitionState"),l=nu(r,{relative:t.relative});if(!n.isTransitioning)return!1;let u=pa(n.currentLocation.pathname,i)||n.currentLocation.pathname,h=pa(n.nextLocation.pathname,i)||n.nextLocation.pathname;return $c(l.pathname,h)!=null||$c(l.pathname,u)!=null}new TextEncoder;[...jA];const e1=()=>{};var V_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE=function(r){const t=[];let n=0;for(let i=0;i<r.length;i++){let l=r.charCodeAt(i);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++i)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},n1=function(r){const t=[];let n=0,i=0;for(;n<r.length;){const l=r[n++];if(l<128)t[i++]=String.fromCharCode(l);else if(l>191&&l<224){const u=r[n++];t[i++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=r[n++],h=r[n++],m=r[n++],p=((l&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;t[i++]=String.fromCharCode(55296+(p>>10)),t[i++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],h=r[n++];t[i++]=String.fromCharCode((l&15)<<12|(u&63)<<6|h&63)}}return t.join("")},ME={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let l=0;l<r.length;l+=3){const u=r[l],h=l+1<r.length,m=h?r[l+1]:0,p=l+2<r.length,g=p?r[l+2]:0,v=u>>2,T=(u&3)<<4|m>>4;let b=(m&15)<<2|g>>6,R=g&63;p||(R=64,h||(b=64)),i.push(n[v],n[T],n[b],n[R])}return i.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(NE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):n1(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let l=0;l<r.length;){const u=n[r.charAt(l++)],m=l<r.length?n[r.charAt(l)]:0;++l;const g=l<r.length?n[r.charAt(l)]:64;++l;const T=l<r.length?n[r.charAt(l)]:64;if(++l,u==null||m==null||g==null||T==null)throw new r1;const b=u<<2|m>>4;if(i.push(b),g!==64){const R=m<<4&240|g>>2;if(i.push(R),T!==64){const D=g<<6&192|T;i.push(D)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class r1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const a1=function(r){const t=NE(r);return ME.encodeByteArray(t,!0)},Xc=function(r){return a1(r).replace(/\./g,"")},i1=function(r){try{return ME.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1=()=>s1().__FIREBASE_DEFAULTS__,o1=()=>{if(typeof process>"u"||typeof V_>"u")return;const r=V_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},u1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&i1(r[1]);return t&&JSON.parse(t)},cg=()=>{try{return e1()||l1()||o1()||u1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},c1=r=>{var t,n;return(n=(t=cg())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},f1=r=>{const t=c1(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},VE=()=>{var r;return(r=cg())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",l=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Xc(JSON.stringify(n)),Xc(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function g1(){var r;const t=(r=cg())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function p1(){return!g1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function y1(){try{return typeof indexedDB=="object"}catch{return!1}}function v1(){return new Promise((r,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(i);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(i),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var u;t(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1="FirebaseError";class El extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=_1,Object.setPrototypeOf(this,El.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,PE.prototype.create)}}class PE{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},l=`${this.service}/${t}`,u=this.errors[t],h=u?E1(u,i):"Error",m=`${this.serviceName}: ${h} (${l}).`;return new El(l,m,i)}}function E1(r,t){return r.replace(T1,(n,i)=>{const l=t[i];return l!=null?String(l):`<${i}?>`})}const T1=/\{\$([^}]+)}/g;function Wc(r,t){if(r===t)return!0;const n=Object.keys(r),i=Object.keys(t);for(const l of n){if(!i.includes(l))return!1;const u=r[l],h=t[l];if(P_(u)&&P_(h)){if(!Wc(u,h))return!1}else if(u!==h)return!1}for(const l of i)if(!n.includes(l))return!1;return!0}function P_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(r){return r&&r._delegate?r._delegate:r}class Fo{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new h1;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&i.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(S1(t))try{this.getOrInitializeService({instanceIdentifier:Wi})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});i.resolve(u)}catch{}}}}clearInstance(t=Wi){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Wi){return this.instances.has(t)}getOptions(t=Wi){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);i===m&&h.resolve(l)}return l}onInit(t,n){var i;const l=this.normalizeInstanceIdentifier(n),u=(i=this.onInitCallbacks.get(l))!==null&&i!==void 0?i:new Set;u.add(t),this.onInitCallbacks.set(l,u);const h=this.instances.get(l);return h&&t(h,l),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const l of i)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:w1(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Wi){return this.component?this.component.multipleInstances?t:Wi:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function w1(r){return r===Wi?void 0:r}function S1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new b1(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ht||(Ht={}));const R1={debug:Ht.DEBUG,verbose:Ht.VERBOSE,info:Ht.INFO,warn:Ht.WARN,error:Ht.ERROR,silent:Ht.SILENT},D1=Ht.INFO,x1={[Ht.DEBUG]:"log",[Ht.VERBOSE]:"log",[Ht.INFO]:"info",[Ht.WARN]:"warn",[Ht.ERROR]:"error"},C1=(r,t,...n)=>{if(t<r.logLevel)return;const i=new Date().toISOString(),l=x1[t];if(l)console[l](`[${i}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class kE{constructor(t){this.name=t,this._logLevel=D1,this._logHandler=C1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ht))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?R1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ht.DEBUG,...t),this._logHandler(this,Ht.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ht.VERBOSE,...t),this._logHandler(this,Ht.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ht.INFO,...t),this._logHandler(this,Ht.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ht.WARN,...t),this._logHandler(this,Ht.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ht.ERROR,...t),this._logHandler(this,Ht.ERROR,...t)}}const O1=(r,t)=>t.some(n=>r instanceof n);let k_,L_;function I1(){return k_||(k_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function N1(){return L_||(L_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const LE=new WeakMap,ym=new WeakMap,jE=new WeakMap,Xd=new WeakMap,fg=new WeakMap;function M1(r){const t=new Promise((n,i)=>{const l=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(ti(r.result)),l()},h=()=>{i(r.error),l()};r.addEventListener("success",u),r.addEventListener("error",h)});return t.then(n=>{n instanceof IDBCursor&&LE.set(n,r)}).catch(()=>{}),fg.set(t,r),t}function V1(r){if(ym.has(r))return;const t=new Promise((n,i)=>{const l=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),l()},h=()=>{i(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});ym.set(r,t)}let vm={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return ym.get(r);if(t==="objectStoreNames")return r.objectStoreNames||jE.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ti(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function P1(r){vm=r(vm)}function k1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=r.call(Wd(this),t,...n);return jE.set(i,t.sort?t.sort():[t]),ti(i)}:N1().includes(r)?function(...t){return r.apply(Wd(this),t),ti(LE.get(this))}:function(...t){return ti(r.apply(Wd(this),t))}}function L1(r){return typeof r=="function"?k1(r):(r instanceof IDBTransaction&&V1(r),O1(r,I1())?new Proxy(r,vm):r)}function ti(r){if(r instanceof IDBRequest)return M1(r);if(Xd.has(r))return Xd.get(r);const t=L1(r);return t!==r&&(Xd.set(r,t),fg.set(t,r)),t}const Wd=r=>fg.get(r);function j1(r,t,{blocked:n,upgrade:i,blocking:l,terminated:u}={}){const h=indexedDB.open(r,t),m=ti(h);return i&&h.addEventListener("upgradeneeded",p=>{i(ti(h.result),p.oldVersion,p.newVersion,ti(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",g=>l(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const U1=["get","getKey","getAll","getAllKeys","count"],z1=["put","add","delete","clear"],Zd=new Map;function j_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Zd.get(t))return Zd.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,l=z1.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(l||U1.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,l?"readwrite":"readonly");let g=p.store;return i&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),l&&p.done]))[0]};return Zd.set(t,u),u}P1(r=>({...r,get:(t,n,i)=>j_(t,n)||r.get(t,n,i),has:(t,n)=>!!j_(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(q1(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function q1(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const _m="@firebase/app",U_="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=new kE("@firebase/app"),H1="@firebase/app-compat",F1="@firebase/analytics-compat",Y1="@firebase/analytics",G1="@firebase/app-check-compat",Q1="@firebase/app-check",K1="@firebase/auth",$1="@firebase/auth-compat",X1="@firebase/database",W1="@firebase/data-connect",Z1="@firebase/database-compat",J1="@firebase/functions",tR="@firebase/functions-compat",eR="@firebase/installations",nR="@firebase/installations-compat",rR="@firebase/messaging",aR="@firebase/messaging-compat",iR="@firebase/performance",sR="@firebase/performance-compat",lR="@firebase/remote-config",oR="@firebase/remote-config-compat",uR="@firebase/storage",cR="@firebase/storage-compat",fR="@firebase/firestore",hR="@firebase/vertexai",dR="@firebase/firestore-compat",mR="firebase",gR="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="[DEFAULT]",pR={[_m]:"fire-core",[H1]:"fire-core-compat",[Y1]:"fire-analytics",[F1]:"fire-analytics-compat",[Q1]:"fire-app-check",[G1]:"fire-app-check-compat",[K1]:"fire-auth",[$1]:"fire-auth-compat",[X1]:"fire-rtdb",[W1]:"fire-data-connect",[Z1]:"fire-rtdb-compat",[J1]:"fire-fn",[tR]:"fire-fn-compat",[eR]:"fire-iid",[nR]:"fire-iid-compat",[rR]:"fire-fcm",[aR]:"fire-fcm-compat",[iR]:"fire-perf",[sR]:"fire-perf-compat",[lR]:"fire-rc",[oR]:"fire-rc-compat",[uR]:"fire-gcs",[cR]:"fire-gcs-compat",[fR]:"fire-fst",[dR]:"fire-fst-compat",[hR]:"fire-vertex","fire-js":"fire-js",[mR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc=new Map,yR=new Map,Tm=new Map;function z_(r,t){try{r.container.addComponent(t)}catch(n){ya.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Jc(r){const t=r.name;if(Tm.has(t))return ya.debug(`There were multiple attempts to register component ${t}.`),!1;Tm.set(t,r);for(const n of Zc.values())z_(n,r);for(const n of yR.values())z_(n,r);return!0}function vR(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function _R(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ei=new PE("app","Firebase",ER);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Fo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ei.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=gR;function UE(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const i=Object.assign({name:Em,automaticDataCollectionEnabled:!1},t),l=i.name;if(typeof l!="string"||!l)throw ei.create("bad-app-name",{appName:String(l)});if(n||(n=VE()),!n)throw ei.create("no-options");const u=Zc.get(l);if(u){if(Wc(n,u.options)&&Wc(i,u.config))return u;throw ei.create("duplicate-app",{appName:l})}const h=new A1(l);for(const p of Tm.values())h.addComponent(p);const m=new TR(n,i,h);return Zc.set(l,m),m}function wR(r=Em){const t=Zc.get(r);if(!t&&r===Em&&VE())return UE();if(!t)throw ei.create("no-app",{appName:r});return t}function ul(r,t,n){var i;let l=(i=pR[r])!==null&&i!==void 0?i:r;n&&(l+=`-${n}`);const u=l.match(/\s|\//),h=t.match(/\s|\//);if(u||h){const m=[`Unable to register library "${l}" with version "${t}":`];u&&m.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ya.warn(m.join(" "));return}Jc(new Fo(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR="firebase-heartbeat-database",AR=1,Yo="firebase-heartbeat-store";let Jd=null;function zE(){return Jd||(Jd=j1(SR,AR,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Yo)}catch(n){console.warn(n)}}}}).catch(r=>{throw ei.create("idb-open",{originalErrorMessage:r.message})})),Jd}async function RR(r){try{const n=(await zE()).transaction(Yo),i=await n.objectStore(Yo).get(BE(r));return await n.done,i}catch(t){if(t instanceof El)ya.warn(t.message);else{const n=ei.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ya.warn(n.message)}}}async function B_(r,t){try{const i=(await zE()).transaction(Yo,"readwrite");await i.objectStore(Yo).put(t,BE(r)),await i.done}catch(n){if(n instanceof El)ya.warn(n.message);else{const i=ei.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ya.warn(i.message)}}}function BE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR=1024,xR=30;class CR{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new IR(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=q_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>xR){const h=NR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ya.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=q_(),{heartbeatsToSend:i,unsentEntries:l}=OR(this._heartbeatsCache.heartbeats),u=Xc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return ya.warn(n),""}}}function q_(){return new Date().toISOString().substring(0,10)}function OR(r,t=DR){const n=[];let i=r.slice();for(const l of r){const u=n.find(h=>h.agent===l.agent);if(u){if(u.dates.push(l.date),H_(n)>t){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),H_(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class IR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return y1()?v1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await RR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return B_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return B_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function H_(r){return Xc(JSON.stringify({version:2,heartbeats:r})).length}function NR(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let i=1;i<r.length;i++)r[i].date<n&&(n=r[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(r){Jc(new Fo("platform-logger",t=>new B1(t),"PRIVATE")),Jc(new Fo("heartbeat",t=>new CR(t),"PRIVATE")),ul(_m,U_,r),ul(_m,U_,"esm2017"),ul("fire-js","")}MR("");var VR="firebase",PR="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ul(VR,PR,"app");var F_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ni,qE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(M,A){function C(){}C.prototype=A.prototype,M.D=A.prototype,M.prototype=new C,M.prototype.constructor=M,M.C=function(N,j,U){for(var O=Array(arguments.length-2),mt=2;mt<arguments.length;mt++)O[mt-2]=arguments[mt];return A.prototype[j].apply(N,O)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(M,A,C){C||(C=0);var N=Array(16);if(typeof A=="string")for(var j=0;16>j;++j)N[j]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(j=0;16>j;++j)N[j]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=M.g[0],C=M.g[1],j=M.g[2];var U=M.g[3],O=A+(U^C&(j^U))+N[0]+3614090360&4294967295;A=C+(O<<7&4294967295|O>>>25),O=U+(j^A&(C^j))+N[1]+3905402710&4294967295,U=A+(O<<12&4294967295|O>>>20),O=j+(C^U&(A^C))+N[2]+606105819&4294967295,j=U+(O<<17&4294967295|O>>>15),O=C+(A^j&(U^A))+N[3]+3250441966&4294967295,C=j+(O<<22&4294967295|O>>>10),O=A+(U^C&(j^U))+N[4]+4118548399&4294967295,A=C+(O<<7&4294967295|O>>>25),O=U+(j^A&(C^j))+N[5]+1200080426&4294967295,U=A+(O<<12&4294967295|O>>>20),O=j+(C^U&(A^C))+N[6]+2821735955&4294967295,j=U+(O<<17&4294967295|O>>>15),O=C+(A^j&(U^A))+N[7]+4249261313&4294967295,C=j+(O<<22&4294967295|O>>>10),O=A+(U^C&(j^U))+N[8]+1770035416&4294967295,A=C+(O<<7&4294967295|O>>>25),O=U+(j^A&(C^j))+N[9]+2336552879&4294967295,U=A+(O<<12&4294967295|O>>>20),O=j+(C^U&(A^C))+N[10]+4294925233&4294967295,j=U+(O<<17&4294967295|O>>>15),O=C+(A^j&(U^A))+N[11]+2304563134&4294967295,C=j+(O<<22&4294967295|O>>>10),O=A+(U^C&(j^U))+N[12]+1804603682&4294967295,A=C+(O<<7&4294967295|O>>>25),O=U+(j^A&(C^j))+N[13]+4254626195&4294967295,U=A+(O<<12&4294967295|O>>>20),O=j+(C^U&(A^C))+N[14]+2792965006&4294967295,j=U+(O<<17&4294967295|O>>>15),O=C+(A^j&(U^A))+N[15]+1236535329&4294967295,C=j+(O<<22&4294967295|O>>>10),O=A+(j^U&(C^j))+N[1]+4129170786&4294967295,A=C+(O<<5&4294967295|O>>>27),O=U+(C^j&(A^C))+N[6]+3225465664&4294967295,U=A+(O<<9&4294967295|O>>>23),O=j+(A^C&(U^A))+N[11]+643717713&4294967295,j=U+(O<<14&4294967295|O>>>18),O=C+(U^A&(j^U))+N[0]+3921069994&4294967295,C=j+(O<<20&4294967295|O>>>12),O=A+(j^U&(C^j))+N[5]+3593408605&4294967295,A=C+(O<<5&4294967295|O>>>27),O=U+(C^j&(A^C))+N[10]+38016083&4294967295,U=A+(O<<9&4294967295|O>>>23),O=j+(A^C&(U^A))+N[15]+3634488961&4294967295,j=U+(O<<14&4294967295|O>>>18),O=C+(U^A&(j^U))+N[4]+3889429448&4294967295,C=j+(O<<20&4294967295|O>>>12),O=A+(j^U&(C^j))+N[9]+568446438&4294967295,A=C+(O<<5&4294967295|O>>>27),O=U+(C^j&(A^C))+N[14]+3275163606&4294967295,U=A+(O<<9&4294967295|O>>>23),O=j+(A^C&(U^A))+N[3]+4107603335&4294967295,j=U+(O<<14&4294967295|O>>>18),O=C+(U^A&(j^U))+N[8]+1163531501&4294967295,C=j+(O<<20&4294967295|O>>>12),O=A+(j^U&(C^j))+N[13]+2850285829&4294967295,A=C+(O<<5&4294967295|O>>>27),O=U+(C^j&(A^C))+N[2]+4243563512&4294967295,U=A+(O<<9&4294967295|O>>>23),O=j+(A^C&(U^A))+N[7]+1735328473&4294967295,j=U+(O<<14&4294967295|O>>>18),O=C+(U^A&(j^U))+N[12]+2368359562&4294967295,C=j+(O<<20&4294967295|O>>>12),O=A+(C^j^U)+N[5]+4294588738&4294967295,A=C+(O<<4&4294967295|O>>>28),O=U+(A^C^j)+N[8]+2272392833&4294967295,U=A+(O<<11&4294967295|O>>>21),O=j+(U^A^C)+N[11]+1839030562&4294967295,j=U+(O<<16&4294967295|O>>>16),O=C+(j^U^A)+N[14]+4259657740&4294967295,C=j+(O<<23&4294967295|O>>>9),O=A+(C^j^U)+N[1]+2763975236&4294967295,A=C+(O<<4&4294967295|O>>>28),O=U+(A^C^j)+N[4]+1272893353&4294967295,U=A+(O<<11&4294967295|O>>>21),O=j+(U^A^C)+N[7]+4139469664&4294967295,j=U+(O<<16&4294967295|O>>>16),O=C+(j^U^A)+N[10]+3200236656&4294967295,C=j+(O<<23&4294967295|O>>>9),O=A+(C^j^U)+N[13]+681279174&4294967295,A=C+(O<<4&4294967295|O>>>28),O=U+(A^C^j)+N[0]+3936430074&4294967295,U=A+(O<<11&4294967295|O>>>21),O=j+(U^A^C)+N[3]+3572445317&4294967295,j=U+(O<<16&4294967295|O>>>16),O=C+(j^U^A)+N[6]+76029189&4294967295,C=j+(O<<23&4294967295|O>>>9),O=A+(C^j^U)+N[9]+3654602809&4294967295,A=C+(O<<4&4294967295|O>>>28),O=U+(A^C^j)+N[12]+3873151461&4294967295,U=A+(O<<11&4294967295|O>>>21),O=j+(U^A^C)+N[15]+530742520&4294967295,j=U+(O<<16&4294967295|O>>>16),O=C+(j^U^A)+N[2]+3299628645&4294967295,C=j+(O<<23&4294967295|O>>>9),O=A+(j^(C|~U))+N[0]+4096336452&4294967295,A=C+(O<<6&4294967295|O>>>26),O=U+(C^(A|~j))+N[7]+1126891415&4294967295,U=A+(O<<10&4294967295|O>>>22),O=j+(A^(U|~C))+N[14]+2878612391&4294967295,j=U+(O<<15&4294967295|O>>>17),O=C+(U^(j|~A))+N[5]+4237533241&4294967295,C=j+(O<<21&4294967295|O>>>11),O=A+(j^(C|~U))+N[12]+1700485571&4294967295,A=C+(O<<6&4294967295|O>>>26),O=U+(C^(A|~j))+N[3]+2399980690&4294967295,U=A+(O<<10&4294967295|O>>>22),O=j+(A^(U|~C))+N[10]+4293915773&4294967295,j=U+(O<<15&4294967295|O>>>17),O=C+(U^(j|~A))+N[1]+2240044497&4294967295,C=j+(O<<21&4294967295|O>>>11),O=A+(j^(C|~U))+N[8]+1873313359&4294967295,A=C+(O<<6&4294967295|O>>>26),O=U+(C^(A|~j))+N[15]+4264355552&4294967295,U=A+(O<<10&4294967295|O>>>22),O=j+(A^(U|~C))+N[6]+2734768916&4294967295,j=U+(O<<15&4294967295|O>>>17),O=C+(U^(j|~A))+N[13]+1309151649&4294967295,C=j+(O<<21&4294967295|O>>>11),O=A+(j^(C|~U))+N[4]+4149444226&4294967295,A=C+(O<<6&4294967295|O>>>26),O=U+(C^(A|~j))+N[11]+3174756917&4294967295,U=A+(O<<10&4294967295|O>>>22),O=j+(A^(U|~C))+N[2]+718787259&4294967295,j=U+(O<<15&4294967295|O>>>17),O=C+(U^(j|~A))+N[9]+3951481745&4294967295,M.g[0]=M.g[0]+A&4294967295,M.g[1]=M.g[1]+(j+(O<<21&4294967295|O>>>11))&4294967295,M.g[2]=M.g[2]+j&4294967295,M.g[3]=M.g[3]+U&4294967295}i.prototype.u=function(M,A){A===void 0&&(A=M.length);for(var C=A-this.blockSize,N=this.B,j=this.h,U=0;U<A;){if(j==0)for(;U<=C;)l(this,M,U),U+=this.blockSize;if(typeof M=="string"){for(;U<A;)if(N[j++]=M.charCodeAt(U++),j==this.blockSize){l(this,N),j=0;break}}else for(;U<A;)if(N[j++]=M[U++],j==this.blockSize){l(this,N),j=0;break}}this.h=j,this.o+=A},i.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var A=1;A<M.length-8;++A)M[A]=0;var C=8*this.o;for(A=M.length-8;A<M.length;++A)M[A]=C&255,C/=256;for(this.u(M),M=Array(16),A=C=0;4>A;++A)for(var N=0;32>N;N+=8)M[C++]=this.g[A]>>>N&255;return M};function u(M,A){var C=m;return Object.prototype.hasOwnProperty.call(C,M)?C[M]:C[M]=A(M)}function h(M,A){this.h=A;for(var C=[],N=!0,j=M.length-1;0<=j;j--){var U=M[j]|0;N&&U==A||(C[j]=U,N=!1)}this.g=C}var m={};function p(M){return-128<=M&&128>M?u(M,function(A){return new h([A|0],0>A?-1:0)}):new h([M|0],0>M?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return T;if(0>M)return P(g(-M));for(var A=[],C=1,N=0;M>=C;N++)A[N]=M/C|0,C*=4294967296;return new h(A,0)}function v(M,A){if(M.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(M.charAt(0)=="-")return P(v(M.substring(1),A));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(A,8)),N=T,j=0;j<M.length;j+=8){var U=Math.min(8,M.length-j),O=parseInt(M.substring(j,j+U),A);8>U?(U=g(Math.pow(A,U)),N=N.j(U).add(g(O))):(N=N.j(C),N=N.add(g(O)))}return N}var T=p(0),b=p(1),R=p(16777216);r=h.prototype,r.m=function(){if(k(this))return-P(this).m();for(var M=0,A=1,C=0;C<this.g.length;C++){var N=this.i(C);M+=(0<=N?N:4294967296+N)*A,A*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(D(this))return"0";if(k(this))return"-"+P(this).toString(M);for(var A=g(Math.pow(M,6)),C=this,N="";;){var j=ut(C,A).g;C=F(C,j.j(A));var U=((0<C.g.length?C.g[0]:C.h)>>>0).toString(M);if(C=j,D(C))return U+N;for(;6>U.length;)U="0"+U;N=U+N}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function D(M){if(M.h!=0)return!1;for(var A=0;A<M.g.length;A++)if(M.g[A]!=0)return!1;return!0}function k(M){return M.h==-1}r.l=function(M){return M=F(this,M),k(M)?-1:D(M)?0:1};function P(M){for(var A=M.g.length,C=[],N=0;N<A;N++)C[N]=~M.g[N];return new h(C,~M.h).add(b)}r.abs=function(){return k(this)?P(this):this},r.add=function(M){for(var A=Math.max(this.g.length,M.g.length),C=[],N=0,j=0;j<=A;j++){var U=N+(this.i(j)&65535)+(M.i(j)&65535),O=(U>>>16)+(this.i(j)>>>16)+(M.i(j)>>>16);N=O>>>16,U&=65535,O&=65535,C[j]=O<<16|U}return new h(C,C[C.length-1]&-2147483648?-1:0)};function F(M,A){return M.add(P(A))}r.j=function(M){if(D(this)||D(M))return T;if(k(this))return k(M)?P(this).j(P(M)):P(P(this).j(M));if(k(M))return P(this.j(P(M)));if(0>this.l(R)&&0>M.l(R))return g(this.m()*M.m());for(var A=this.g.length+M.g.length,C=[],N=0;N<2*A;N++)C[N]=0;for(N=0;N<this.g.length;N++)for(var j=0;j<M.g.length;j++){var U=this.i(N)>>>16,O=this.i(N)&65535,mt=M.i(j)>>>16,Dt=M.i(j)&65535;C[2*N+2*j]+=O*Dt,rt(C,2*N+2*j),C[2*N+2*j+1]+=U*Dt,rt(C,2*N+2*j+1),C[2*N+2*j+1]+=O*mt,rt(C,2*N+2*j+1),C[2*N+2*j+2]+=U*mt,rt(C,2*N+2*j+2)}for(N=0;N<A;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=A;N<2*A;N++)C[N]=0;return new h(C,0)};function rt(M,A){for(;(M[A]&65535)!=M[A];)M[A+1]+=M[A]>>>16,M[A]&=65535,A++}function Z(M,A){this.g=M,this.h=A}function ut(M,A){if(D(A))throw Error("division by zero");if(D(M))return new Z(T,T);if(k(M))return A=ut(P(M),A),new Z(P(A.g),P(A.h));if(k(A))return A=ut(M,P(A)),new Z(P(A.g),A.h);if(30<M.g.length){if(k(M)||k(A))throw Error("slowDivide_ only works with positive integers.");for(var C=b,N=A;0>=N.l(M);)C=ct(C),N=ct(N);var j=it(C,1),U=it(N,1);for(N=it(N,2),C=it(C,2);!D(N);){var O=U.add(N);0>=O.l(M)&&(j=j.add(C),U=O),N=it(N,1),C=it(C,1)}return A=F(M,j.j(A)),new Z(j,A)}for(j=T;0<=M.l(A);){for(C=Math.max(1,Math.floor(M.m()/A.m())),N=Math.ceil(Math.log(C)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),U=g(C),O=U.j(A);k(O)||0<O.l(M);)C-=N,U=g(C),O=U.j(A);D(U)&&(U=b),j=j.add(U),M=F(M,O)}return new Z(j,M)}r.A=function(M){return ut(this,M).h},r.and=function(M){for(var A=Math.max(this.g.length,M.g.length),C=[],N=0;N<A;N++)C[N]=this.i(N)&M.i(N);return new h(C,this.h&M.h)},r.or=function(M){for(var A=Math.max(this.g.length,M.g.length),C=[],N=0;N<A;N++)C[N]=this.i(N)|M.i(N);return new h(C,this.h|M.h)},r.xor=function(M){for(var A=Math.max(this.g.length,M.g.length),C=[],N=0;N<A;N++)C[N]=this.i(N)^M.i(N);return new h(C,this.h^M.h)};function ct(M){for(var A=M.g.length+1,C=[],N=0;N<A;N++)C[N]=M.i(N)<<1|M.i(N-1)>>>31;return new h(C,M.h)}function it(M,A){var C=A>>5;A%=32;for(var N=M.g.length-C,j=[],U=0;U<N;U++)j[U]=0<A?M.i(U+C)>>>A|M.i(U+C+1)<<32-A:M.i(U+C);return new h(j,M.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,qE=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=v,ni=h}).apply(typeof F_<"u"?F_:typeof self<"u"?self:typeof window<"u"?window:{});var Nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var HE,Mo,FE,qc,bm,YE,GE,QE;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nc=="object"&&Nc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=n(this);function l(c,y){if(y)t:{var _=i;c=c.split(".");for(var S=0;S<c.length-1;S++){var q=c[S];if(!(q in _))break t;_=_[q]}c=c[c.length-1],S=_[c],y=y(S),y!=S&&y!=null&&t(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,S=!1,q={next:function(){if(!S&&_<c.length){var $=_++;return{value:y($,c[$]),done:!1}}return S=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}l("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,_){return c.call.apply(c.bind,arguments)}function T(c,y,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,S),c.apply(y,q)}}return function(){return c.apply(y,arguments)}}function b(c,y,_){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:T,b.apply(null,arguments)}function R(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function D(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,q,$){for(var lt=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)lt[Ut-2]=arguments[Ut];return y.prototype[q].apply(S,lt)}}function k(c){const y=c.length;if(0<y){const _=Array(y);for(let S=0;S<y;S++)_[S]=c[S];return _}return[]}function P(c,y){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(p(S)){const q=c.length||0,$=S.length||0;c.length=q+$;for(let lt=0;lt<$;lt++)c[q+lt]=S[lt]}else c.push(S)}}class F{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function rt(c){return/^[\s\xa0]*$/.test(c)}function Z(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ut(c){return ut[" "](c),c}ut[" "]=function(){};var ct=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function it(c,y,_){for(const S in c)y.call(_,c[S],S,c)}function M(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function A(c){const y={};for(const _ in c)y[_]=c[_];return y}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,y){let _,S;for(let q=1;q<arguments.length;q++){S=arguments[q];for(_ in S)c[_]=S[_];for(let $=0;$<C.length;$++)_=C[$],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function j(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function U(c){m.setTimeout(()=>{throw c},0)}function O(){var c=xt;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class mt{constructor(){this.h=this.g=null}add(y,_){const S=Dt.get();S.set(y,_),this.h?this.h.next=S:this.g=S,this.h=S}}var Dt=new F(()=>new Q,c=>c.reset());class Q{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let st,gt=!1,xt=new mt,V=()=>{const c=m.Promise.resolve(void 0);st=()=>{c.then(J)}};var J=()=>{for(var c;c=O();){try{c.h.call(c.g)}catch(_){U(_)}var y=Dt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}gt=!1};function ot(){this.s=this.s,this.C=this.C}ot.prototype.s=!1,ot.prototype.ma=function(){this.s||(this.s=!0,this.N())},ot.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function at(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}at.prototype.h=function(){this.defaultPrevented=!0};var pt=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function Ct(c,y){if(at.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ct){t:{try{ut(y.nodeName);var q=!0;break t}catch{}q=!1}q||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:_t[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ct.aa.h.call(this)}}D(Ct,at);var _t={2:"touch",3:"pen",4:"mouse"};Ct.prototype.h=function(){Ct.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var fe="closure_listenable_"+(1e6*Math.random()|0),Ft=0;function Ne(c,y,_,S,q){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!S,this.ha=q,this.key=++Ft,this.da=this.fa=!1}function kn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function An(c){this.src=c,this.g={},this.h=0}An.prototype.add=function(c,y,_,S,q){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var lt=nr(c,y,S,q);return-1<lt?(y=c[lt],_||(y.fa=!1)):(y=new Ne(y,this.src,$,!!S,q),y.fa=_,c.push(y)),y};function Ln(c,y){var _=y.type;if(_ in c.g){var S=c.g[_],q=Array.prototype.indexOf.call(S,y,void 0),$;($=0<=q)&&Array.prototype.splice.call(S,q,1),$&&(kn(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function nr(c,y,_,S){for(var q=0;q<c.length;++q){var $=c[q];if(!$.da&&$.listener==y&&$.capture==!!_&&$.ha==S)return q}return-1}var ae="closure_lm_"+(1e6*Math.random()|0),rr={};function Ge(c,y,_,S,q){if(Array.isArray(y)){for(var $=0;$<y.length;$++)Ge(c,y[$],_,S,q);return null}return _=cs(_),c&&c[fe]?c.K(y,_,g(S)?!!S.capture:!1,q):Qe(c,y,_,!1,S,q)}function Qe(c,y,_,S,q,$){if(!y)throw Error("Invalid event type");var lt=g(q)?!!q.capture:!!q,Ut=Br(c);if(Ut||(c[ae]=Ut=new An(c)),_=Ut.add(y,_,S,lt,$),_.proxy)return _;if(S=us(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)pt||(q=lt),q===void 0&&(q=!1),c.addEventListener(y.toString(),S,q);else if(c.attachEvent)c.attachEvent(zr(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function us(){function c(_){return y.call(c.src,c.listener,_)}const y=Dl;return c}function wa(c,y,_,S,q){if(Array.isArray(y))for(var $=0;$<y.length;$++)wa(c,y[$],_,S,q);else S=g(S)?!!S.capture:!!S,_=cs(_),c&&c[fe]?(c=c.i,y=String(y).toString(),y in c.g&&($=c.g[y],_=nr($,_,S,q),-1<_&&(kn($[_]),Array.prototype.splice.call($,_,1),$.length==0&&(delete c.g[y],c.h--)))):c&&(c=Br(c))&&(y=c.g[y.toString()],c=-1,y&&(c=nr(y,_,S,q)),(_=-1<c?y[c]:null)&&Sa(_))}function Sa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[fe])Ln(y.i,c);else{var _=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(_,S,c.capture):y.detachEvent?y.detachEvent(zr(_),S):y.addListener&&y.removeListener&&y.removeListener(S),(_=Br(y))?(Ln(_,c),_.h==0&&(_.src=null,y[ae]=null)):kn(c)}}}function zr(c){return c in rr?rr[c]:rr[c]="on"+c}function Dl(c,y){if(c.da)c=!0;else{y=new Ct(y,this);var _=c.listener,S=c.ha||c.src;c.fa&&Sa(c),c=_.call(S,y)}return c}function Br(c){return c=c[ae],c instanceof An?c:null}var pi="__closure_events_fn_"+(1e9*Math.random()>>>0);function cs(c){return typeof c=="function"?c:(c[pi]||(c[pi]=function(y){return c.handleEvent(y)}),c[pi])}function he(){ot.call(this),this.i=new An(this),this.M=this,this.F=null}D(he,ot),he.prototype[fe]=!0,he.prototype.removeEventListener=function(c,y,_,S){wa(this,c,y,_,S)};function Qt(c,y){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new at(y,c);else if(y instanceof at)y.target=y.target||c;else{var q=y;y=new at(S,c),N(y,q)}if(q=!0,_)for(var $=_.length-1;0<=$;$--){var lt=y.g=_[$];q=dn(lt,S,!0,y)&&q}if(lt=y.g=c,q=dn(lt,S,!0,y)&&q,q=dn(lt,S,!1,y)&&q,_)for($=0;$<_.length;$++)lt=y.g=_[$],q=dn(lt,S,!1,y)&&q}he.prototype.N=function(){if(he.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],S=0;S<_.length;S++)kn(_[S]);delete c.g[y],c.h--}}this.F=null},he.prototype.K=function(c,y,_,S){return this.i.add(String(c),y,!1,_,S)},he.prototype.L=function(c,y,_,S){return this.i.add(String(c),y,!0,_,S)};function dn(c,y,_,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var q=!0,$=0;$<y.length;++$){var lt=y[$];if(lt&&!lt.da&&lt.capture==_){var Ut=lt.listener,Me=lt.ha||lt.src;lt.fa&&Ln(c.i,lt),q=Ut.call(Me,S)!==!1&&q}}return q&&!S.defaultPrevented}function Ae(c,y,_){if(typeof c=="function")_&&(c=b(c,_));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function yi(c){c.g=Ae(()=>{c.g=null,c.i&&(c.i=!1,yi(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class fs extends ot{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:yi(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qr(c){ot.call(this),this.h=c,this.g={}}D(qr,ot);var jn=[];function yr(c){it(c.g,function(y,_){this.g.hasOwnProperty(_)&&Sa(y)},c),c.g={}}qr.prototype.N=function(){qr.aa.N.call(this),yr(this)},qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rn=m.JSON.stringify,Hr=m.JSON.parse,vr=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Fr(){}Fr.prototype.h=null;function vi(c){return c.h||(c.h=c.i())}function Aa(){}var ar={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Un(){at.call(this,"d")}D(Un,at);function Re(){at.call(this,"c")}D(Re,at);var ue={},_r=null;function Yt(){return _r=_r||new he}ue.La="serverreachability";function Ke(c){at.call(this,ue.La,c)}D(Ke,at);function Er(c){const y=Yt();Qt(y,new Ke(y))}ue.STAT_EVENT="statevent";function Ra(c,y){at.call(this,ue.STAT_EVENT,c),this.stat=y}D(Ra,at);function ie(c){const y=Yt();Qt(y,new Ra(y,c))}ue.Ma="timingevent";function _e(c,y){at.call(this,ue.Ma,c),this.size=y}D(_e,at);function de(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function $e(){this.g=!0}$e.prototype.xa=function(){this.g=!1};function Yr(c,y,_,S,q,$){c.info(function(){if(c.g)if($)for(var lt="",Ut=$.split("&"),Me=0;Me<Ut.length;Me++){var zt=Ut[Me].split("=");if(1<zt.length){var Be=zt[0];zt=zt[1];var Ve=Be.split("_");lt=2<=Ve.length&&Ve[1]=="type"?lt+(Be+"="+zt+"&"):lt+(Be+"=redacted&")}}else lt=null;else lt=$;return"XMLHTTP REQ ("+S+") [attempt "+q+"]: "+y+`
`+_+`
`+lt})}function _i(c,y,_,S,q,$,lt){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+q+"]: "+y+`
`+_+`
`+$+" "+lt})}function zn(c,y,_,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ir(c,_)+(S?" "+S:"")})}function hs(c,y){c.info(function(){return"TIMEOUT: "+y})}$e.prototype.info=function(){};function ir(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var q=S[1];if(Array.isArray(q)&&!(1>q.length)){var $=q[0];if($!="noop"&&$!="stop"&&$!="close")for(var lt=1;lt<q.length;lt++)q[lt]=""}}}}return Rn(_)}catch{return y}}var sr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},lr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Bn;function St(){}D(St,Fr),St.prototype.g=function(){return new XMLHttpRequest},St.prototype.i=function(){return{}},Bn=new St;function Vt(c,y,_,S){this.j=c,this.i=y,this.l=_,this.R=S||1,this.U=new qr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ot}function Ot(){this.i=null,this.g="",this.h=!1}var Xe={},Ue={};function mn(c,y,_){c.L=1,c.v=Si(Dn(y)),c.m=_,c.P=!0,or(c,null)}function or(c,y){c.F=Date.now(),Ei(c),c.A=Dn(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Ml(_.i,"t",S),c.C=0,_=c.j.J,c.h=new Ot,c.g=Du(c.j,_?y:null,!c.m),0<c.O&&(c.M=new fs(b(c.Y,c,c.g),c.O)),y=c.U,_=c.g,S=c.ca;var q="readystatechange";Array.isArray(q)||(q&&(jn[0]=q.toString()),q=jn);for(var $=0;$<q.length;$++){var lt=Ge(_,q[$],S||y.handleEvent,!1,y.h||y);if(!lt)break;y.g[lt.key]=lt}y=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Er(),Yr(c.i,c.u,c.A,c.l,c.R,c.m)}Vt.prototype.ca=function(c){c=c.target;const y=this.M;y&&Yn(c)==3?y.j():this.Y(c)},Vt.prototype.Y=function(c){try{if(c==this.g)t:{const Ve=Yn(this.g);var y=this.g.Ba();const Jr=this.g.Z();if(!(3>Ve)&&(Ve!=3||this.g&&(this.h.h||this.g.oa()||_u(this.g)))){this.J||Ve!=4||y==7||(y==8||0>=Jr?Er(3):Er(2)),Da(this);var _=this.g.Z();this.X=_;e:if(ds(this)){var S=_u(this.g);c="";var q=S.length,$=Yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){We(this),Tr(this);var lt="";break e}this.h.i=new m.TextDecoder}for(y=0;y<q;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!($&&y==q-1)});S.length=0,this.h.g+=c,this.C=0,lt=this.h.g}else lt=this.g.oa();if(this.o=_==200,_i(this.i,this.u,this.A,this.l,this.R,Ve,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Ut,Me=this.g;if((Ut=Me.g?Me.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rt(Ut)){var zt=Ut;break e}}zt=null}if(_=zt)zn(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ti(this,_);else{this.o=!1,this.s=3,ie(12),We(this),Tr(this);break t}}if(this.P){_=!0;let Ze;for(;!this.J&&this.C<lt.length;)if(Ze=du(this,lt),Ze==Ue){Ve==4&&(this.s=4,ie(14),_=!1),zn(this.i,this.l,null,"[Incomplete Response]");break}else if(Ze==Xe){this.s=4,ie(15),zn(this.i,this.l,lt,"[Invalid Chunk]"),_=!1;break}else zn(this.i,this.l,Ze,null),Ti(this,Ze);if(ds(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||lt.length!=0||this.h.h||(this.s=1,ie(16),_=!1),this.o=this.o&&_,!_)zn(this.i,this.l,lt,"[Invalid Chunked Response]"),We(this),Tr(this);else if(0<lt.length&&!this.W){this.W=!0;var Be=this.j;Be.g==this&&Be.ba&&!Be.M&&(Be.j.info("Great, no buffering proxy detected. Bytes received: "+lt.length),Ni(Be),Be.M=!0,ie(11))}}else zn(this.i,this.l,lt,null),Ti(this,lt);Ve==4&&We(this),this.o&&!this.J&&(Ve==4?Su(this.j,this):(this.o=!1,Ei(this)))}else Xf(this.g),_==400&&0<lt.indexOf("Unknown SID")?(this.s=3,ie(12)):(this.s=0,ie(13)),We(this),Tr(this)}}}catch{}finally{}};function ds(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function du(c,y){var _=c.C,S=y.indexOf(`
`,_);return S==-1?Ue:(_=Number(y.substring(_,S)),isNaN(_)?Xe:(S+=1,S+_>y.length?Ue:(y=y.slice(S,S+_),c.C=S+_,y)))}Vt.prototype.cancel=function(){this.J=!0,We(this)};function Ei(c){c.S=Date.now()+c.I,mu(c,c.I)}function mu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=de(b(c.ba,c),y)}function Da(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Vt.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(hs(this.i,this.A),this.L!=2&&(Er(),ie(17)),We(this),this.s=2,Tr(this)):mu(this,this.S-c)};function Tr(c){c.j.G==0||c.J||Su(c.j,c)}function We(c){Da(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,yr(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Ti(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||xl(_.h,c))){if(!c.K&&xl(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var q=S;if(q[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)As(_),ws(_);else break t;jl(_),ie(18)}}else _.za=q[1],0<_.za-_.T&&37500>q[2]&&_.F&&_.v==0&&!_.C&&(_.C=de(b(_.Za,_),6e3));if(1>=gs(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Zr(_,11)}else if((c.K||_.g==c)&&As(_),!rt(y))for(q=_.Da.g.parse(y),y=0;y<q.length;y++){let zt=q[y];if(_.T=zt[0],zt=zt[1],_.G==2)if(zt[0]=="c"){_.K=zt[1],_.ia=zt[2];const Be=zt[3];Be!=null&&(_.la=Be,_.j.info("VER="+_.la));const Ve=zt[4];Ve!=null&&(_.Aa=Ve,_.j.info("SVER="+_.Aa));const Jr=zt[5];Jr!=null&&typeof Jr=="number"&&0<Jr&&(S=1.5*Jr,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const Ze=c.g;if(Ze){const xr=Ze.g?Ze.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xr){var $=S.h;$.g||xr.indexOf("spdy")==-1&&xr.indexOf("quic")==-1&&xr.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(ps($,$.h),$.h=null))}if(S.D){const zl=Ze.g?Ze.g.getResponseHeader("X-HTTP-Session-Id"):null;zl&&(S.ya=zl,te(S.I,S.D,zl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var lt=c;if(S.qa=Ru(S,S.J?S.ia:null,S.W),lt.K){gn(S.h,lt);var Ut=lt,Me=S.L;Me&&(Ut.I=Me),Ut.B&&(Da(Ut),Ei(Ut)),S.g=lt}else bu(S);0<_.i.length&&Ss(_)}else zt[0]!="stop"&&zt[0]!="close"||Zr(_,7);else _.G==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?Zr(_,7):kl(_):zt[0]!="noop"&&_.l&&_.l.ta(zt),_.v=0)}}Er(4)}catch{}}var gu=class{constructor(c,y){this.g=c,this.map=y}};function Gr(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ms(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function gs(c){return c.h?1:c.g?c.g.size:0}function xl(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ps(c,y){c.g?c.g.add(y):c.h=y}function gn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Gr.prototype.cancel=function(){if(this.i=Cl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Cl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return k(c.i)}function Gf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,S=0;S<_;S++)y.push(c[S]);return y}y=[],_=0;for(S in c)y[_++]=c[S];return y}function ys(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const S in c)y[_++]=S;return y}}}function Ol(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=ys(c),S=Gf(c),q=S.length,$=0;$<q;$++)y.call(void 0,S[$],_&&_[$],c)}var bi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qf(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),q=null;if(0<=S){var $=c[_].substring(0,S);q=c[_].substring(S+1)}else $=c[_];y($,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function De(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof De){this.h=c.h,wi(this,c.j),this.o=c.o,this.g=c.g,xa(this,c.s),this.l=c.l;var y=c.i,_=new Kr;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Qr(this,_),this.m=c.m}else c&&(y=String(c).match(bi))?(this.h=!1,wi(this,y[1]||"",!0),this.o=qn(y[2]||""),this.g=qn(y[3]||"",!0),xa(this,y[4]),this.l=qn(y[5]||"",!0),Qr(this,y[6]||"",!0),this.m=qn(y[7]||"")):(this.h=!1,this.i=new Kr(null,this.h))}De.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Ai(y,Il,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ai(y,Il,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Ai(_,_.charAt(0)=="/"?Kf:Nl,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Ai(_,vs)),c.join("")};function Dn(c){return new De(c)}function wi(c,y,_){c.j=_?qn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function xa(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Qr(c,y,_){y instanceof Kr?(c.i=y,yu(c.i,c.h)):(_||(y=Ai(y,$f)),c.i=new Kr(y,c.h))}function te(c,y,_){c.i.set(y,_)}function Si(c){return te(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function qn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ai(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,pu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function pu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Il=/[#\/\?@]/g,Nl=/[#\?:]/g,Kf=/[#\?]/g,$f=/[#\?@]/g,vs=/#/g;function Kr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Hn(c){c.g||(c.g=new Map,c.h=0,c.i&&Qf(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=Kr.prototype,r.add=function(c,y){Hn(this),this.i=null,c=br(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function $r(c,y){Hn(c),y=br(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Xr(c,y){return Hn(c),y=br(c,y),c.g.has(y)}r.forEach=function(c,y){Hn(this),this.g.forEach(function(_,S){_.forEach(function(q){c.call(y,q,S,this)},this)},this)},r.na=function(){Hn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let S=0;S<y.length;S++){const q=c[S];for(let $=0;$<q.length;$++)_.push(y[S])}return _},r.V=function(c){Hn(this);let y=[];if(typeof c=="string")Xr(this,c)&&(y=y.concat(this.g.get(br(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return Hn(this),this.i=null,c=br(this,c),Xr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Ml(c,y,_){$r(c,y),0<_.length&&(c.i=null,c.g.set(br(c,y),k(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var S=y[_];const $=encodeURIComponent(String(S)),lt=this.V(S);for(S=0;S<lt.length;S++){var q=$;lt[S]!==""&&(q+="="+encodeURIComponent(String(lt[S]))),c.push(q)}}return this.i=c.join("&")};function br(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function yu(c,y){y&&!c.j&&(Hn(c),c.i=null,c.g.forEach(function(_,S){var q=S.toLowerCase();S!=q&&($r(this,S),Ml(this,q,_))},c)),c.j=y}function Ri(c,y){const _=new $e;if(m.Image){const S=new Image;S.onload=R(Fn,_,"TestLoadImage: loaded",!0,y,S),S.onerror=R(Fn,_,"TestLoadImage: error",!1,y,S),S.onabort=R(Fn,_,"TestLoadImage: abort",!1,y,S),S.ontimeout=R(Fn,_,"TestLoadImage: timeout",!1,y,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function ur(c,y){const _=new $e,S=new AbortController,q=setTimeout(()=>{S.abort(),Fn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then($=>{clearTimeout(q),$.ok?Fn(_,"TestPingServer: ok",!0,y):Fn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),Fn(_,"TestPingServer: error",!1,y)})}function Fn(c,y,_,S,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),S(_)}catch{}}function Di(){this.g=new vr}function wr(c,y,_){const S=_||"";try{Ol(c,function(q,$){let lt=q;g(q)&&(lt=Rn(q)),y.push(S+$+"="+encodeURIComponent(lt))})}catch(q){throw y.push(S+"type="+encodeURIComponent("_badmap")),q}}function Ca(c){this.l=c.Ub||null,this.j=c.eb||!1}D(Ca,Fr),Ca.prototype.g=function(){return new Wr(this.l,this.j)},Ca.prototype.i=function(c){return function(){return c}}({});function Wr(c,y){he.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(Wr,he),r=Wr.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Ar(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Sr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ar(this)),this.g&&(this.readyState=3,Ar(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Sr(this):Ar(this),this.readyState==3&&Vl(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Sr(this))},r.Qa=function(c){this.g&&(this.response=c,Sr(this))},r.ga=function(){this.g&&Sr(this)};function Sr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ar(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function Ar(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Wr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Pl(c){let y="";return it(c,function(_,S){y+=S,y+=":",y+=_,y+=`\r
`}),y}function ze(c,y,_){t:{for(S in _){var S=!1;break t}S=!0}S||(_=Pl(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):te(c,y,_))}function $t(c){he.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D($t,he);var _s=/^https?$/i,xi=["POST","PUT"];r=$t.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Bn.g(),this.v=this.o?vi(this.o):vi(Bn),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch($){vu(this,$);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var q in S)_.set(q,S[q]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const $ of S.keys())_.set($,S.get($));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find($=>$.toLowerCase()=="content-type"),q=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(xi,y,void 0))||S||q||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,lt]of _)this.g.setRequestHeader($,lt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ci(this),this.u=!0,this.g.send(c),this.u=!1}catch($){vu(this,$)}};function vu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Es(c),Rr(c)}function Es(c){c.A||(c.A=!0,Qt(c,"complete"),Qt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Qt(this,"complete"),Qt(this,"abort"),Rr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Rr(this,!0)),$t.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ts(this):this.bb())},r.bb=function(){Ts(this)};function Ts(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Yn(c)!=4||c.Z()!=2)){if(c.u&&Yn(c)==4)Ae(c.Ea,0,c);else if(Qt(c,"readystatechange"),Yn(c)==4){c.h=!1;try{const lt=c.Z();t:switch(lt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var _;if(!(_=y)){var S;if(S=lt===0){var q=String(c.D).match(bi)[1]||null;!q&&m.self&&m.self.location&&(q=m.self.location.protocol.slice(0,-1)),S=!_s.test(q?q.toLowerCase():"")}_=S}if(_)Qt(c,"complete"),Qt(c,"success");else{c.m=6;try{var $=2<Yn(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",Es(c)}}finally{Rr(c)}}}}function Rr(c,y){if(c.g){Ci(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Qt(c,"ready");try{_.onreadystatechange=S}catch{}}}function Ci(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Yn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Yn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Hr(y)}};function _u(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Xf(c){const y={};c=(c.g&&2<=Yn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(rt(c[S]))continue;var _=j(c[S]);const q=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const $=y[q]||[];y[q]=$,$.push(_)}M(y,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oi(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function bs(c){this.Aa=0,this.i=[],this.j=new $e,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Oi("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Oi("baseRetryDelayMs",5e3,c),this.cb=Oi("retryDelaySeedMs",1e4,c),this.Wa=Oi("forwardChannelMaxRetries",2,c),this.wa=Oi("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Gr(c&&c.concurrentRequestLimit),this.Da=new Di,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=bs.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,S){ie(0),this.W=c,this.H=y||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=Ru(this,null,this.W),Ss(this)};function kl(c){if(Eu(c),c.G==3){var y=c.U++,_=Dn(c.I);if(te(_,"SID",c.K),te(_,"RID",y),te(_,"TYPE","terminate"),Ii(c,_),y=new Vt(c,c.j,y),y.L=2,y.v=Si(Dn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Du(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ei(y)}Au(c)}function ws(c){c.g&&(Ni(c),c.g.cancel(),c.g=null)}function Eu(c){ws(c),c.u&&(m.clearTimeout(c.u),c.u=null),As(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ss(c){if(!ms(c.h)&&!c.s){c.s=!0;var y=c.Ga;st||V(),gt||(st(),gt=!0),xt.add(y,c),c.B=0}}function Wf(c,y){return gs(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=de(b(c.Ga,c,y),Ul(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const q=new Vt(this,this.j,c);let $=this.o;if(this.S&&($?($=A($),N($,this.S)):$=this.S),this.m!==null||this.O||(q.H=$,$=null),this.P)t:{for(var y=0,_=0;_<this.i.length;_++){e:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=_;break t}if(y===4096||_===this.i.length-1){y=_+1;break t}}y=1e3}else y=1e3;y=Tu(this,q,y),_=Dn(this.I),te(_,"RID",c),te(_,"CVER",22),this.D&&te(_,"X-HTTP-Session-Id",this.D),Ii(this,_),$&&(this.O?y="headers="+encodeURIComponent(String(Pl($)))+"&"+y:this.m&&ze(_,this.m,$)),ps(this.h,q),this.Ua&&te(_,"TYPE","init"),this.P?(te(_,"$req",y),te(_,"SID","null"),q.T=!0,mn(q,_,null)):mn(q,_,y),this.G=2}}else this.G==3&&(c?Ll(this,c):this.i.length==0||ms(this.h)||Ll(this))};function Ll(c,y){var _;y?_=y.l:_=c.U++;const S=Dn(c.I);te(S,"SID",c.K),te(S,"RID",_),te(S,"AID",c.T),Ii(c,S),c.m&&c.o&&ze(S,c.m,c.o),_=new Vt(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Tu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ps(c.h,_),mn(_,S,y)}function Ii(c,y){c.H&&it(c.H,function(_,S){te(y,S,_)}),c.l&&Ol({},function(_,S){te(y,S,_)})}function Tu(c,y,_){_=Math.min(c.i.length,_);var S=c.l?b(c.l.Na,c.l,c):null;t:{var q=c.i;let $=-1;for(;;){const lt=["count="+_];$==-1?0<_?($=q[0].g,lt.push("ofs="+$)):$=0:lt.push("ofs="+$);let Ut=!0;for(let Me=0;Me<_;Me++){let zt=q[Me].g;const Be=q[Me].map;if(zt-=$,0>zt)$=Math.max(0,q[Me].g-100),Ut=!1;else try{wr(Be,lt,"req"+zt+"_")}catch{S&&S(Be)}}if(Ut){S=lt.join("&");break t}}}return c=c.i.splice(0,_),y.D=c,S}function bu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;st||V(),gt||(st(),gt=!0),xt.add(y,c),c.v=0}}function jl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=de(b(c.Fa,c),Ul(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,wu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=de(b(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ie(10),ws(this),wu(this))};function Ni(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function wu(c){c.g=new Vt(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Dn(c.qa);te(y,"RID","rpc"),te(y,"SID",c.K),te(y,"AID",c.T),te(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&te(y,"TO",c.ja),te(y,"TYPE","xmlhttp"),Ii(c,y),c.m&&c.o&&ze(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Si(Dn(y)),_.m=null,_.P=!0,or(_,c)}r.Za=function(){this.C!=null&&(this.C=null,ws(this),jl(this),ie(19))};function As(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Su(c,y){var _=null;if(c.g==y){As(c),Ni(c),c.g=null;var S=2}else if(xl(c.h,y))_=y.D,gn(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var q=c.B;S=Yt(),Qt(S,new _e(S,_)),Ss(c)}else bu(c);else if(q=y.s,q==3||q==0&&0<y.X||!(S==1&&Wf(c,y)||S==2&&jl(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),q){case 1:Zr(c,5);break;case 4:Zr(c,10);break;case 3:Zr(c,6);break;default:Zr(c,2)}}}function Ul(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Zr(c,y){if(c.j.info("Error code "+y),y==2){var _=b(c.fb,c),S=c.Xa;const q=!S;S=new De(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||wi(S,"https"),Si(S),q?Ri(S.toString(),_):ur(S.toString(),_)}else ie(2);c.G=0,c.l&&c.l.sa(y),Au(c),Eu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ie(2)):(this.j.info("Failed to ping google.com"),ie(1))};function Au(c){if(c.G=0,c.ka=[],c.l){const y=Cl(c.h);(y.length!=0||c.i.length!=0)&&(P(c.ka,y),P(c.ka,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.ra()}}function Ru(c,y,_){var S=_ instanceof De?Dn(_):new De(_);if(S.g!="")y&&(S.g=y+"."+S.g),xa(S,S.s);else{var q=m.location;S=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;var $=new De(null);S&&wi($,S),y&&($.g=y),q&&xa($,q),_&&($.l=_),S=$}return _=c.D,y=c.ya,_&&y&&te(S,_,y),te(S,"VER",c.la),Ii(c,S),S}function Du(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new $t(new Ca({eb:_})):new $t(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function xu(){}r=xu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Rs(){}Rs.prototype.g=function(c,y){return new pn(c,y)};function pn(c,y){he.call(this),this.g=new bs(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!rt(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!rt(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Dr(this)}D(pn,he),pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){kl(this.g)},pn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Rn(c),c=_);y.i.push(new gu(y.Ya++,c)),y.G==3&&Ss(y)},pn.prototype.N=function(){this.g.l=null,delete this.j,kl(this.g),delete this.g,pn.aa.N.call(this)};function Cu(c){Un.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const _ in y){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}D(Cu,Un);function Ou(){Re.call(this),this.status=1}D(Ou,Re);function Dr(c){this.g=c}D(Dr,xu),Dr.prototype.ua=function(){Qt(this.g,"a")},Dr.prototype.ta=function(c){Qt(this.g,new Cu(c))},Dr.prototype.sa=function(c){Qt(this.g,new Ou)},Dr.prototype.ra=function(){Qt(this.g,"b")},Rs.prototype.createWebChannel=Rs.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,QE=function(){return new Rs},GE=function(){return Yt()},YE=ue,bm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},sr.NO_ERROR=0,sr.TIMEOUT=8,sr.HTTP_ERROR=6,qc=sr,lr.COMPLETE="complete",FE=lr,Aa.EventType=ar,ar.OPEN="a",ar.CLOSE="b",ar.ERROR="c",ar.MESSAGE="d",he.prototype.listen=he.prototype.K,Mo=Aa,$t.prototype.listenOnce=$t.prototype.L,$t.prototype.getLastError=$t.prototype.Ka,$t.prototype.getLastErrorCode=$t.prototype.Ba,$t.prototype.getStatus=$t.prototype.Z,$t.prototype.getResponseJson=$t.prototype.Oa,$t.prototype.getResponseText=$t.prototype.oa,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Ha,HE=$t}).apply(typeof Nc<"u"?Nc:typeof self<"u"?self:typeof window<"u"?window:{});const Y_="@firebase/firestore",G_="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tl="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es=new kE("@firebase/firestore");function rl(){return es.logLevel}function ft(r,...t){if(es.logLevel<=Ht.DEBUG){const n=t.map(hg);es.debug(`Firestore (${Tl}): ${r}`,...n)}}function va(r,...t){if(es.logLevel<=Ht.ERROR){const n=t.map(hg);es.error(`Firestore (${Tl}): ${r}`,...n)}}function fl(r,...t){if(es.logLevel<=Ht.WARN){const n=t.map(hg);es.warn(`Firestore (${Tl}): ${r}`,...n)}}function hg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(r="Unexpected state"){const t=`FIRESTORE (${Tl}) INTERNAL ASSERTION FAILED: `+r;throw va(t),new Error(t)}function Xt(r,t){r||wt()}function Rt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends El{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class kR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(cn.UNAUTHENTICATED))}shutdown(){}}class LR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class jR{constructor(t){this.t=t,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Xt(this.o===void 0);let i=this.i;const l=p=>this.i!==i?(i=this.i,n(p)):Promise.resolve();let u=new ga;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ga,t.enqueueRetryable(()=>l(this.currentUser))};const h=()=>{const p=u;t.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},m=p=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ga)}},0),h()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Xt(typeof i.accessToken=="string"),new KE(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Xt(t===null||typeof t=="string"),new cn(t)}}class UR{constructor(t,n,i){this.l=t,this.h=n,this.P=i,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class zR{constructor(t,n,i){this.l=t,this.h=n,this.P=i}getToken(){return Promise.resolve(new UR(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Q_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BR{constructor(t,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,_R(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,n){Xt(this.o===void 0);const i=u=>{u.error!=null&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,ft("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>i(u))};const l=u=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>l(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?l(u):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Q_(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Xt(typeof n.token=="string"),this.R=n.token,new Q_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<r;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const l=qR(40);for(let u=0;u<l.length;++u)i.length<20&&l[u]<n&&(i+=t.charAt(l[u]%62))}return i}}function Mt(r,t){return r<t?-1:r>t?1:0}function wm(r,t){let n=0;for(;n<r.length&&n<t.length;){const i=r.codePointAt(n),l=t.codePointAt(n);if(i!==l){if(i<128&&l<128)return Mt(i,l);{const u=$E(),h=HR(u.encode(K_(r,n)),u.encode(K_(t,n)));return h!==0?h:Mt(i,l)}}n+=i>65535?2:1}return Mt(r.length,t.length)}function K_(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function HR(r,t){for(let n=0;n<r.length&&n<t.length;++n)if(r[n]!==t[n])return Mt(r[n],t[n]);return Mt(r.length,t.length)}function hl(r,t,n){return r.length===t.length&&r.every((i,l)=>n(i,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_=-62135596800,X_=1e6;class Le{static now(){return Le.fromMillis(Date.now())}static fromDate(t){return Le.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*X_);return new Le(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ht(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ht(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<$_)throw new ht(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ht(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/X_}_compareTo(t){return this.seconds===t.seconds?Mt(this.nanoseconds,t.nanoseconds):Mt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-$_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new Le(0,0))}static max(){return new At(new Le(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="__name__";class Pr{constructor(t,n,i){n===void 0?n=0:n>t.length&&wt(),i===void 0?i=t.length-n:i>t.length-n&&wt(),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return Pr.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Pr?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let l=0;l<i;l++){const u=Pr.compareSegments(t.get(l),n.get(l));if(u!==0)return u}return Mt(t.length,n.length)}static compareSegments(t,n){const i=Pr.isNumericId(t),l=Pr.isNumericId(n);return i&&!l?-1:!i&&l?1:i&&l?Pr.extractNumericId(t).compare(Pr.extractNumericId(n)):wm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ni.fromString(t.substring(4,t.length-2))}}class ce extends Pr{construct(t,n,i){return new ce(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new ht(nt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(l=>l.length>0))}return new ce(n)}static emptyPath(){return new ce([])}}const FR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends Pr{construct(t,n,i){return new rn(t,n,i)}static isValidIdentifier(t){return FR.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===W_}static keyField(){return new rn([W_])}static fromServerFormat(t){const n=[];let i="",l=0;const u=()=>{if(i.length===0)throw new ht(nt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let h=!1;for(;l<t.length;){const m=t[l];if(m==="\\"){if(l+1===t.length)throw new ht(nt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ht(nt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=p,l+=2}else m==="`"?(h=!h,l++):m!=="."||h?(i+=m,l++):(u(),l++)}if(u(),h)throw new ht(nt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new rn(n)}static emptyPath(){return new rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(t){this.path=t}static fromPath(t){return new vt(ce.fromString(t))}static fromName(t){return new vt(ce.fromString(t).popFirst(5))}static empty(){return new vt(ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ce.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ce.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new ce(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go=-1;function YR(r,t){const n=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,l=At.fromTimestamp(i===1e9?new Le(n+1,0):new Le(n,i));return new ii(l,vt.empty(),t)}function GR(r){return new ii(r.readTime,r.key,Go)}class ii{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new ii(At.min(),vt.empty(),Go)}static max(){return new ii(At.max(),vt.empty(),Go)}}function QR(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=vt.comparator(r.documentKey,t.documentKey),n!==0?n:Mt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $R{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(r){if(r.code!==nt.FAILED_PRECONDITION||r.message!==KR)throw r;ft("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&wt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new et((i,l)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(i,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(i,l)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof et?n:et.resolve(n)}catch(n){return et.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):et.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):et.reject(n)}static resolve(t){return new et((n,i)=>{n(t)})}static reject(t){return new et((n,i)=>{i(t)})}static waitFor(t){return new et((n,i)=>{let l=0,u=0,h=!1;t.forEach(m=>{++l,m.next(()=>{++u,h&&u===l&&n()},p=>i(p))}),h=!0,u===l&&n()})}static or(t){let n=et.resolve(!1);for(const i of t)n=n.next(l=>l?et.resolve(l):i());return n}static forEach(t,n){const i=[];return t.forEach((l,u)=>{i.push(n.call(this,l,u))}),this.waitFor(i)}static mapArray(t,n){return new et((i,l)=>{const u=t.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(t[g]).next(v=>{h[g]=v,++m,m===u&&i(h)},v=>l(v))}})}static doWhile(t,n){return new et((i,l)=>{const u=()=>{t()===!0?n().next(()=>{u()},l):i()};u()})}}function XR(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.oe(i),this._e=i=>n.writeSequenceNumber(i))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}vf.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg=-1;function _f(r){return r==null}function tf(r){return r===0&&1/r==-1/0}function WR(r){return typeof r=="number"&&Number.isInteger(r)&&!tf(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="";function ZR(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=Z_(t)),t=JR(r.get(n),t);return Z_(t)}function JR(r,t){let n=t;const i=r.length;for(let l=0;l<i;l++){const u=r.charAt(l);switch(u){case"\0":n+="";break;case WE:n+="";break;default:n+=u}}return n}function Z_(r){return r+WE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function hi(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function ZE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(t,n){this.comparator=t,this.root=n||nn.EMPTY}insert(t,n){return new ve(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(t){return new ve(this.comparator,this.root.remove(t,this.comparator).copy(null,null,nn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const l=this.comparator(t,i.key);if(l===0)return n+i.left.size;l<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Mc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Mc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Mc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Mc(this.root,t,this.comparator,!0)}}class Mc{constructor(t,n,i,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?i(t.key,n):1,n&&l&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class nn{constructor(t,n,i,l,u){this.key=t,this.value=n,this.color=i??nn.RED,this.left=l??nn.EMPTY,this.right=u??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,l,u){return new nn(t??this.key,n??this.value,i??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let l=this;const u=i(t,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(t,n,i),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,i)),l.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return nn.EMPTY;i=l.right.min(),l=l.copy(i.key,i.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw wt();const t=this.left.check();if(t!==this.right.check())throw wt();return t+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw wt()}get value(){throw wt()}get color(){throw wt()}get left(){throw wt()}get right(){throw wt()}copy(t,n,i,l,u){return this}insert(t,n,i){return new nn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(t){this.comparator=t,this.data=new ve(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const l=i.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new t0(this.data.getIterator())}getIteratorFrom(t){return new t0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof je)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=i.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new je(this.comparator);return n.data=t,n}}class t0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(t){this.fields=t,t.sort(rn.comparator)}static empty(){return new Pn([])}unionWith(t){let n=new je(rn.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new Pn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return hl(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new JE("Invalid base64 string: "+u):u}}(t);return new sn(n)}static fromUint8Array(t){const n=function(l){let u="";for(let h=0;h<l.length;++h)u+=String.fromCharCode(l[h]);return u}(t);return new sn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let l=0;l<n.length;l++)i[l]=n.charCodeAt(l);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Mt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const tD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function si(r){if(Xt(!!r),typeof r=="string"){let t=0;const n=tD.exec(r);if(Xt(!!n),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Se(r.seconds),nanos:Se(r.nanos)}}function Se(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function li(r){return typeof r=="string"?sn.fromBase64String(r):sn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="server_timestamp",eT="__type__",nT="__previous_value__",rT="__local_write_time__";function mg(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[eT])===null||n===void 0?void 0:n.stringValue)===tT}function Ef(r){const t=r.mapValue.fields[nT];return mg(t)?Ef(t):t}function Qo(r){const t=si(r.mapValue.fields[rT].timestampValue);return new Le(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(t,n,i,l,u,h,m,p,g){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=l,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g}}const ef="(default)";class Ko{constructor(t,n){this.projectId=t,this.database=n||ef}static empty(){return new Ko("","")}get isDefaultDatabase(){return this.database===ef}isEqual(t){return t instanceof Ko&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="__type__",nD="__max__",Vc={mapValue:{}},iT="__vector__",nf="value";function oi(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?mg(r)?4:aD(r)?9007199254740991:rD(r)?10:11:wt()}function Ur(r,t){if(r===t)return!0;const n=oi(r);if(n!==oi(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Qo(r).isEqual(Qo(t));case 3:return function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const h=si(l.timestampValue),m=si(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(l,u){return li(l.bytesValue).isEqual(li(u.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(l,u){return Se(l.geoPointValue.latitude)===Se(u.geoPointValue.latitude)&&Se(l.geoPointValue.longitude)===Se(u.geoPointValue.longitude)}(r,t);case 2:return function(l,u){if("integerValue"in l&&"integerValue"in u)return Se(l.integerValue)===Se(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const h=Se(l.doubleValue),m=Se(u.doubleValue);return h===m?tf(h)===tf(m):isNaN(h)&&isNaN(m)}return!1}(r,t);case 9:return hl(r.arrayValue.values||[],t.arrayValue.values||[],Ur);case 10:case 11:return function(l,u){const h=l.mapValue.fields||{},m=u.mapValue.fields||{};if(J_(h)!==J_(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Ur(h[p],m[p])))return!1;return!0}(r,t);default:return wt()}}function $o(r,t){return(r.values||[]).find(n=>Ur(n,t))!==void 0}function dl(r,t){if(r===t)return 0;const n=oi(r),i=oi(t);if(n!==i)return Mt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Mt(r.booleanValue,t.booleanValue);case 2:return function(u,h){const m=Se(u.integerValue||u.doubleValue),p=Se(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,t);case 3:return e0(r.timestampValue,t.timestampValue);case 4:return e0(Qo(r),Qo(t));case 5:return wm(r.stringValue,t.stringValue);case 6:return function(u,h){const m=li(u),p=li(h);return m.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=Mt(m[g],p[g]);if(v!==0)return v}return Mt(m.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(u,h){const m=Mt(Se(u.latitude),Se(h.latitude));return m!==0?m:Mt(Se(u.longitude),Se(h.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return n0(r.arrayValue,t.arrayValue);case 10:return function(u,h){var m,p,g,v;const T=u.fields||{},b=h.fields||{},R=(m=T[nf])===null||m===void 0?void 0:m.arrayValue,D=(p=b[nf])===null||p===void 0?void 0:p.arrayValue,k=Mt(((g=R==null?void 0:R.values)===null||g===void 0?void 0:g.length)||0,((v=D==null?void 0:D.values)===null||v===void 0?void 0:v.length)||0);return k!==0?k:n0(R,D)}(r.mapValue,t.mapValue);case 11:return function(u,h){if(u===Vc.mapValue&&h===Vc.mapValue)return 0;if(u===Vc.mapValue)return 1;if(h===Vc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let T=0;T<p.length&&T<v.length;++T){const b=wm(p[T],v[T]);if(b!==0)return b;const R=dl(m[p[T]],g[v[T]]);if(R!==0)return R}return Mt(p.length,v.length)}(r.mapValue,t.mapValue);default:throw wt()}}function e0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Mt(r,t);const n=si(r),i=si(t),l=Mt(n.seconds,i.seconds);return l!==0?l:Mt(n.nanos,i.nanos)}function n0(r,t){const n=r.values||[],i=t.values||[];for(let l=0;l<n.length&&l<i.length;++l){const u=dl(n[l],i[l]);if(u)return u}return Mt(n.length,i.length)}function ml(r){return Sm(r)}function Sm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const i=si(n);return`time(${i.seconds},${i.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return li(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return vt.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let i="[",l=!0;for(const u of n.values||[])l?l=!1:i+=",",i+=Sm(u);return i+"]"}(r.arrayValue):"mapValue"in r?function(n){const i=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const h of i)u?u=!1:l+=",",l+=`${h}:${Sm(n.fields[h])}`;return l+"}"}(r.mapValue):wt()}function Hc(r){switch(oi(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ef(r);return t?16+Hc(t):16;case 5:return 2*r.stringValue.length;case 6:return li(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((l,u)=>l+Hc(u),0)}(r.arrayValue);case 10:case 11:return function(i){let l=0;return hi(i.fields,(u,h)=>{l+=u.length+Hc(h)}),l}(r.mapValue);default:throw wt()}}function r0(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Am(r){return!!r&&"integerValue"in r}function gg(r){return!!r&&"arrayValue"in r}function a0(r){return!!r&&"nullValue"in r}function i0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Fc(r){return!!r&&"mapValue"in r}function rD(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[aT])===null||n===void 0?void 0:n.stringValue)===iT}function Uo(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return hi(r.mapValue.fields,(n,i)=>t.mapValue.fields[n]=Uo(i)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Uo(r.arrayValue.values[n]);return t}return Object.assign({},r)}function aD(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===nD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(t){this.value=t}static empty(){return new wn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!Fc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Uo(n)}setAll(t){let n=rn.emptyPath(),i={},l=[];t.forEach((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,i,l),i={},l=[],n=m.popLast()}h?i[m.lastSegment()]=Uo(h):l.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,i,l)}delete(t){const n=this.field(t.popLast());Fc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ur(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let l=n.mapValue.fields[t.get(i)];Fc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,i){hi(n,(l,u)=>t[l]=u);for(const l of i)delete t[l]}clone(){return new wn(Uo(this.value))}}function sT(r){const t=[];return hi(r.fields,(n,i)=>{const l=new rn([n]);if(Fc(i)){const u=sT(i.mapValue).fields;if(u.length===0)t.push(l);else for(const h of u)t.push(l.child(h))}else t.push(l)}),new Pn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(t,n,i,l,u,h,m){this.key=t,this.documentType=n,this.version=i,this.readTime=l,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(t){return new fn(t,0,At.min(),At.min(),At.min(),wn.empty(),0)}static newFoundDocument(t,n,i,l){return new fn(t,1,n,At.min(),i,l,0)}static newNoDocument(t,n){return new fn(t,2,n,At.min(),At.min(),wn.empty(),0)}static newUnknownDocument(t,n){return new fn(t,3,n,At.min(),At.min(),wn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof fn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(t,n){this.position=t,this.inclusive=n}}function s0(r,t,n){let i=0;for(let l=0;l<r.position.length;l++){const u=t[l],h=r.position[l];if(u.field.isKeyField()?i=vt.comparator(vt.fromName(h.referenceValue),n.key):i=dl(h,n.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return i}function l0(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ur(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(t,n="asc"){this.field=t,this.dir=n}}function iD(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{}class Ie extends lT{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new lD(t,n,i):n==="array-contains"?new cD(t,i):n==="in"?new fD(t,i):n==="not-in"?new hD(t,i):n==="array-contains-any"?new dD(t,i):new Ie(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new oD(t,i):new uD(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(dl(n,this.value)):n!==null&&oi(this.value)===oi(n)&&this.matchesComparison(dl(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return wt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class dr extends lT{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new dr(t,n)}matches(t){return oT(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function oT(r){return r.op==="and"}function uT(r){return sD(r)&&oT(r)}function sD(r){for(const t of r.filters)if(t instanceof dr)return!1;return!0}function Rm(r){if(r instanceof Ie)return r.field.canonicalString()+r.op.toString()+ml(r.value);if(uT(r))return r.filters.map(t=>Rm(t)).join(",");{const t=r.filters.map(n=>Rm(n)).join(",");return`${r.op}(${t})`}}function cT(r,t){return r instanceof Ie?function(i,l){return l instanceof Ie&&i.op===l.op&&i.field.isEqual(l.field)&&Ur(i.value,l.value)}(r,t):r instanceof dr?function(i,l){return l instanceof dr&&i.op===l.op&&i.filters.length===l.filters.length?i.filters.reduce((u,h,m)=>u&&cT(h,l.filters[m]),!0):!1}(r,t):void wt()}function fT(r){return r instanceof Ie?function(n){return`${n.field.canonicalString()} ${n.op} ${ml(n.value)}`}(r):r instanceof dr?function(n){return n.op.toString()+" {"+n.getFilters().map(fT).join(" ,")+"}"}(r):"Filter"}class lD extends Ie{constructor(t,n,i){super(t,n,i),this.key=vt.fromName(i.referenceValue)}matches(t){const n=vt.comparator(t.key,this.key);return this.matchesComparison(n)}}class oD extends Ie{constructor(t,n){super(t,"in",n),this.keys=hT("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class uD extends Ie{constructor(t,n){super(t,"not-in",n),this.keys=hT("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function hT(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>vt.fromName(i.referenceValue))}class cD extends Ie{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return gg(n)&&$o(n.arrayValue,this.value)}}class fD extends Ie{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&$o(this.value.arrayValue,n)}}class hD extends Ie{constructor(t,n){super(t,"not-in",n)}matches(t){if($o(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!$o(this.value.arrayValue,n)}}class dD extends Ie{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!gg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>$o(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(t,n=null,i=[],l=[],u=null,h=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=l,this.limit=u,this.startAt=h,this.endAt=m,this.le=null}}function o0(r,t=null,n=[],i=[],l=null,u=null,h=null){return new mD(r,t,n,i,l,u,h)}function pg(r){const t=Rt(r);if(t.le===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>Rm(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(u){return u.field.canonicalString()+u.dir}(i)).join(","),_f(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>ml(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>ml(i)).join(",")),t.le=n}return t.le}function yg(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!iD(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!cT(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!l0(r.startAt,t.startAt)&&l0(r.endAt,t.endAt)}function Dm(r){return vt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(t,n=null,i=[],l=[],u=null,h="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=l,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function gD(r,t,n,i,l,u,h,m){return new ru(r,t,n,i,l,u,h,m)}function Tf(r){return new ru(r)}function u0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function dT(r){return r.collectionGroup!==null}function zo(r){const t=Rt(r);if(t.he===null){t.he=[];const n=new Set;for(const u of t.explicitOrderBy)t.he.push(u),n.add(u.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new je(rn.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.he.push(new af(u,i))}),n.has(rn.keyField().canonicalString())||t.he.push(new af(rn.keyField(),i))}return t.he}function kr(r){const t=Rt(r);return t.Pe||(t.Pe=pD(t,zo(r))),t.Pe}function pD(r,t){if(r.limitType==="F")return o0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(l=>{const u=l.dir==="desc"?"asc":"desc";return new af(l.field,u)});const n=r.endAt?new rf(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new rf(r.startAt.position,r.startAt.inclusive):null;return o0(r.path,r.collectionGroup,t,r.filters,r.limit,n,i)}}function xm(r,t){const n=r.filters.concat([t]);return new ru(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Cm(r,t,n){return new ru(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function bf(r,t){return yg(kr(r),kr(t))&&r.limitType===t.limitType}function mT(r){return`${pg(kr(r))}|lt:${r.limitType}`}function al(r){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(l=>fT(l)).join(", ")}]`),_f(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(l=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(l)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(l=>ml(l)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(l=>ml(l)).join(",")),`Target(${i})`}(kr(r))}; limitType=${r.limitType})`}function wf(r,t){return t.isFoundDocument()&&function(i,l){const u=l.key.path;return i.collectionGroup!==null?l.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(u):vt.isDocumentKey(i.path)?i.path.isEqual(u):i.path.isImmediateParentOf(u)}(r,t)&&function(i,l){for(const u of zo(i))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0}(r,t)&&function(i,l){for(const u of i.filters)if(!u.matches(l))return!1;return!0}(r,t)&&function(i,l){return!(i.startAt&&!function(h,m,p){const g=s0(h,m,p);return h.inclusive?g<=0:g<0}(i.startAt,zo(i),l)||i.endAt&&!function(h,m,p){const g=s0(h,m,p);return h.inclusive?g>=0:g>0}(i.endAt,zo(i),l))}(r,t)}function yD(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function gT(r){return(t,n)=>{let i=!1;for(const l of zo(r)){const u=vD(l,t,n);if(u!==0)return u;i=i||l.field.isKeyField()}return 0}}function vD(r,t,n){const i=r.field.isKeyField()?vt.comparator(t.key,n.key):function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?dl(p,g):wt()}(r.field,t,n);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return wt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[l,u]of i)if(this.equalsFn(l,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),l=this.inner[i];if(l===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],t))return void(l[u]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],t))return i.length===1?delete this.inner[n]:i.splice(l,1),this.innerSize--,!0;return!1}forEach(t){hi(this.inner,(n,i)=>{for(const[l,u]of i)t(l,u)})}isEmpty(){return ZE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D=new ve(vt.comparator);function _a(){return _D}const pT=new ve(vt.comparator);function Vo(...r){let t=pT;for(const n of r)t=t.insert(n.key,n);return t}function yT(r){let t=pT;return r.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function Ji(){return Bo()}function vT(){return Bo()}function Bo(){return new as(r=>r.toString(),(r,t)=>r.isEqual(t))}const ED=new ve(vt.comparator),TD=new je(vt.comparator);function jt(...r){let t=TD;for(const n of r)t=t.add(n);return t}const bD=new je(Mt);function wD(){return bD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tf(t)?"-0":t}}function _T(r){return{integerValue:""+r}}function SD(r,t){return WR(t)?_T(t):vg(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(){this._=void 0}}function AD(r,t,n){return r instanceof sf?function(l,u){const h={fields:{[eT]:{stringValue:tT},[rT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&mg(u)&&(u=Ef(u)),u&&(h.fields[nT]=u),{mapValue:h}}(n,t):r instanceof Xo?TT(r,t):r instanceof Wo?bT(r,t):function(l,u){const h=ET(l,u),m=c0(h)+c0(l.Ie);return Am(h)&&Am(l.Ie)?_T(m):vg(l.serializer,m)}(r,t)}function RD(r,t,n){return r instanceof Xo?TT(r,t):r instanceof Wo?bT(r,t):n}function ET(r,t){return r instanceof lf?function(i){return Am(i)||function(u){return!!u&&"doubleValue"in u}(i)}(t)?t:{integerValue:0}:null}class sf extends Sf{}class Xo extends Sf{constructor(t){super(),this.elements=t}}function TT(r,t){const n=wT(t);for(const i of r.elements)n.some(l=>Ur(l,i))||n.push(i);return{arrayValue:{values:n}}}class Wo extends Sf{constructor(t){super(),this.elements=t}}function bT(r,t){let n=wT(t);for(const i of r.elements)n=n.filter(l=>!Ur(l,i));return{arrayValue:{values:n}}}class lf extends Sf{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function c0(r){return Se(r.integerValue||r.doubleValue)}function wT(r){return gg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function DD(r,t){return r.field.isEqual(t.field)&&function(i,l){return i instanceof Xo&&l instanceof Xo||i instanceof Wo&&l instanceof Wo?hl(i.elements,l.elements,Ur):i instanceof lf&&l instanceof lf?Ur(i.Ie,l.Ie):i instanceof sf&&l instanceof sf}(r.transform,t.transform)}class xD{constructor(t,n){this.version=t,this.transformResults=n}}class Jn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Jn}static exists(t){return new Jn(void 0,t)}static updateTime(t){return new Jn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Yc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Af{}function ST(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new _g(r.key,Jn.none()):new au(r.key,r.data,Jn.none());{const n=r.data,i=wn.empty();let l=new je(rn.comparator);for(let u of t.fields)if(!l.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?i.delete(u):i.set(u,h),l=l.add(u)}return new di(r.key,i,new Pn(l.toArray()),Jn.none())}}function CD(r,t,n){r instanceof au?function(l,u,h){const m=l.value.clone(),p=h0(l.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(r,t,n):r instanceof di?function(l,u,h){if(!Yc(l.precondition,u))return void u.convertToUnknownDocument(h.version);const m=h0(l.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(AT(l)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(r,t,n):function(l,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,t,n)}function qo(r,t,n,i){return r instanceof au?function(u,h,m,p){if(!Yc(u.precondition,h))return m;const g=u.value.clone(),v=d0(u.fieldTransforms,p,h);return g.setAll(v),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(r,t,n,i):r instanceof di?function(u,h,m,p){if(!Yc(u.precondition,h))return m;const g=d0(u.fieldTransforms,p,h),v=h.data;return v.setAll(AT(u)),v.setAll(g),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(T=>T.field))}(r,t,n,i):function(u,h,m){return Yc(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(r,t,n)}function OD(r,t){let n=null;for(const i of r.fieldTransforms){const l=t.data.field(i.field),u=ET(i.transform,l||null);u!=null&&(n===null&&(n=wn.empty()),n.set(i.field,u))}return n||null}function f0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(i,l){return i===void 0&&l===void 0||!(!i||!l)&&hl(i,l,(u,h)=>DD(u,h))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class au extends Af{constructor(t,n,i,l=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class di extends Af{constructor(t,n,i,l,u=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function AT(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=r.data.field(n);t.set(n,i)}}),t}function h0(r,t,n){const i=new Map;Xt(r.length===n.length);for(let l=0;l<n.length;l++){const u=r[l],h=u.transform,m=t.data.field(u.field);i.set(u.field,RD(h,m,n[l]))}return i}function d0(r,t,n){const i=new Map;for(const l of r){const u=l.transform,h=n.data.field(l.field);i.set(l.field,AD(u,h,t))}return i}class _g extends Af{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ID extends Af{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(t,n,i,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=l}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(t.key)&&CD(u,t,i[l])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=qo(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=qo(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=vT();return this.mutations.forEach(l=>{const u=t.get(l.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(l.key)?null:m;const p=ST(h,m);p!==null&&i.set(l.key,p),h.isValidDocument()||h.convertToNoDocument(At.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),jt())}isEqual(t){return this.batchId===t.batchId&&hl(this.mutations,t.mutations,(n,i)=>f0(n,i))&&hl(this.baseMutations,t.baseMutations,(n,i)=>f0(n,i))}}class Eg{constructor(t,n,i,l){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=l}static from(t,n,i){Xt(t.mutations.length===i.length);let l=function(){return ED}();const u=t.mutations;for(let h=0;h<u.length;h++)l=l.insert(u[h].key,i[h].version);return new Eg(t,n,i,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe,qt;function PD(r){switch(r){case nt.OK:return wt();case nt.CANCELLED:case nt.UNKNOWN:case nt.DEADLINE_EXCEEDED:case nt.RESOURCE_EXHAUSTED:case nt.INTERNAL:case nt.UNAVAILABLE:case nt.UNAUTHENTICATED:return!1;case nt.INVALID_ARGUMENT:case nt.NOT_FOUND:case nt.ALREADY_EXISTS:case nt.PERMISSION_DENIED:case nt.FAILED_PRECONDITION:case nt.ABORTED:case nt.OUT_OF_RANGE:case nt.UNIMPLEMENTED:case nt.DATA_LOSS:return!0;default:return wt()}}function RT(r){if(r===void 0)return va("GRPC error has no .code"),nt.UNKNOWN;switch(r){case Oe.OK:return nt.OK;case Oe.CANCELLED:return nt.CANCELLED;case Oe.UNKNOWN:return nt.UNKNOWN;case Oe.DEADLINE_EXCEEDED:return nt.DEADLINE_EXCEEDED;case Oe.RESOURCE_EXHAUSTED:return nt.RESOURCE_EXHAUSTED;case Oe.INTERNAL:return nt.INTERNAL;case Oe.UNAVAILABLE:return nt.UNAVAILABLE;case Oe.UNAUTHENTICATED:return nt.UNAUTHENTICATED;case Oe.INVALID_ARGUMENT:return nt.INVALID_ARGUMENT;case Oe.NOT_FOUND:return nt.NOT_FOUND;case Oe.ALREADY_EXISTS:return nt.ALREADY_EXISTS;case Oe.PERMISSION_DENIED:return nt.PERMISSION_DENIED;case Oe.FAILED_PRECONDITION:return nt.FAILED_PRECONDITION;case Oe.ABORTED:return nt.ABORTED;case Oe.OUT_OF_RANGE:return nt.OUT_OF_RANGE;case Oe.UNIMPLEMENTED:return nt.UNIMPLEMENTED;case Oe.DATA_LOSS:return nt.DATA_LOSS;default:return wt()}}(qt=Oe||(Oe={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=new ni([4294967295,4294967295],0);function m0(r){const t=$E().encode(r),n=new qE;return n.update(t),new Uint8Array(n.digest())}function g0(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),l=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new ni([n,i],0),new ni([l,u],0)]}class Tg{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Po(`Invalid padding: ${n}`);if(i<0)throw new Po(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Po(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new Po(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*t.length-n,this.de=ni.fromNumber(this.Ee)}Ae(t,n,i){let l=t.add(n.multiply(ni.fromNumber(i)));return l.compare(kD)===1&&(l=new ni([l.getBits(0),l.getBits(1)],0)),l.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const n=m0(t),[i,l]=g0(n);for(let u=0;u<this.hashCount;u++){const h=this.Ae(i,l,u);if(!this.Re(h))return!1}return!0}static create(t,n,i){const l=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),h=new Tg(u,l,n);return i.forEach(m=>h.insert(m)),h}insert(t){if(this.Ee===0)return;const n=m0(t),[i,l]=g0(n);for(let u=0;u<this.hashCount;u++){const h=this.Ae(i,l,u);this.Ve(h)}}Ve(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class Po extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(t,n,i,l,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const l=new Map;return l.set(t,iu.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new Rf(At.min(),l,new ve(Mt),_a(),jt())}}class iu{constructor(t,n,i,l,u){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new iu(i,n,jt(),jt(),jt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(t,n,i,l){this.me=t,this.removedTargetIds=n,this.key=i,this.fe=l}}class DT{constructor(t,n){this.targetId=t,this.ge=n}}class xT{constructor(t,n,i=sn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=l}}class p0{constructor(){this.pe=0,this.ye=y0(),this.we=sn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=jt(),n=jt(),i=jt();return this.ye.forEach((l,u)=>{switch(u){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:i=i.add(l);break;default:wt()}}),new iu(this.we,this.Se,t,n,i)}Me(){this.be=!1,this.ye=y0()}xe(t,n){this.be=!0,this.ye=this.ye.insert(t,n)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,Xt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class LD{constructor(t){this.ke=t,this.qe=new Map,this.Qe=_a(),this.$e=Pc(),this.Ue=Pc(),this.Ke=new ve(Mt)}We(t){for(const n of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(n,t.fe):this.ze(n,t.key,t.fe);for(const n of t.removedTargetIds)this.ze(n,t.key,t.fe)}je(t){this.forEachTarget(t,n=>{const i=this.He(n);switch(t.state){case 0:this.Je(n)&&i.Ce(t.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(t.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(n);break;case 3:this.Je(n)&&(i.Le(),i.Ce(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),i.Ce(t.resumeToken));break;default:wt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.qe.forEach((i,l)=>{this.Je(l)&&n(l)})}Ze(t){const n=t.targetId,i=t.ge.count,l=this.Xe(n);if(l){const u=l.target;if(Dm(u))if(i===0){const h=new vt(u.path);this.ze(n,h,fn.newNoDocument(h,At.min()))}else Xt(i===1);else{const h=this.et(n);if(h!==i){const m=this.tt(t),p=m?this.nt(m,t,h):1;if(p!==0){this.Ye(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,g)}}}}}tt(t){const n=t.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:l=0},hashCount:u=0}=n;let h,m;try{h=li(i).toUint8Array()}catch(p){if(p instanceof JE)return fl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Tg(h,l,u)}catch(p){return fl(p instanceof Po?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(t,n,i){return n.ge.count===i-this.st(t,n.targetId)?0:2}st(t,n){const i=this.ke.getRemoteKeysForTarget(n);let l=0;return i.forEach(u=>{const h=this.ke.it(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.ze(n,u,null),l++)}),l}ot(t){const n=new Map;this.qe.forEach((u,h)=>{const m=this.Xe(h);if(m){if(u.current&&Dm(m.target)){const p=new vt(m.target.path);this._t(p).has(h)||this.ut(h,p)||this.ze(h,p,fn.newNoDocument(p,t))}u.ve&&(n.set(h,u.Fe()),u.Me())}});let i=jt();this.Ue.forEach((u,h)=>{let m=!0;h.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(i=i.add(u))}),this.Qe.forEach((u,h)=>h.setReadTime(t));const l=new Rf(t,n,this.Ke,this.Qe,i);return this.Qe=_a(),this.$e=Pc(),this.Ue=Pc(),this.Ke=new ve(Mt),l}Ge(t,n){if(!this.Je(t))return;const i=this.ut(t,n.key)?2:0;this.He(t).xe(n.key,i),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(t))}ze(t,n,i){if(!this.Je(t))return;const l=this.He(t);this.ut(t,n)?l.xe(n,1):l.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(t)),this.Ue=this.Ue.insert(n,this.ct(n).add(t)),i&&(this.Qe=this.Qe.insert(n,i))}removeTarget(t){this.qe.delete(t)}et(t){const n=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let n=this.qe.get(t);return n||(n=new p0,this.qe.set(t,n)),n}ct(t){let n=this.Ue.get(t);return n||(n=new je(Mt),this.Ue=this.Ue.insert(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new je(Mt),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||ft("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.qe.get(t);return n&&n.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new p0),this.ke.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ut(t,n){return this.ke.getRemoteKeysForTarget(t).has(n)}}function Pc(){return new ve(vt.comparator)}function y0(){return new ve(vt.comparator)}const jD={asc:"ASCENDING",desc:"DESCENDING"},UD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zD={and:"AND",or:"OR"};class BD{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Om(r,t){return r.useProto3Json||_f(t)?t:{value:t}}function of(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function CT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function qD(r,t){return of(r,t.toTimestamp())}function Lr(r){return Xt(!!r),At.fromTimestamp(function(n){const i=si(n);return new Le(i.seconds,i.nanos)}(r))}function bg(r,t){return Im(r,t).canonicalString()}function Im(r,t){const n=function(l){return new ce(["projects",l.projectId,"databases",l.database])}(r).child("documents");return t===void 0?n:n.child(t)}function OT(r){const t=ce.fromString(r);return Xt(PT(t)),t}function Nm(r,t){return bg(r.databaseId,t.path)}function tm(r,t){const n=OT(t);if(n.get(1)!==r.databaseId.projectId)throw new ht(nt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ht(nt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new vt(NT(n))}function IT(r,t){return bg(r.databaseId,t)}function HD(r){const t=OT(r);return t.length===4?ce.emptyPath():NT(t)}function Mm(r){return new ce(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function NT(r){return Xt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function v0(r,t,n){return{name:Nm(r,t),fields:n.value.mapValue.fields}}function FD(r,t){let n;if("targetChange"in t){t.targetChange;const i=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:wt()}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],u=function(g,v){return g.useProto3Json?(Xt(v===void 0||typeof v=="string"),sn.fromBase64String(v||"")):(Xt(v===void 0||v instanceof Buffer||v instanceof Uint8Array),sn.fromUint8Array(v||new Uint8Array))}(r,t.targetChange.resumeToken),h=t.targetChange.cause,m=h&&function(g){const v=g.code===void 0?nt.UNKNOWN:RT(g.code);return new ht(v,g.message||"")}(h);n=new xT(i,l,u,m||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const l=tm(r,i.document.name),u=Lr(i.document.updateTime),h=i.document.createTime?Lr(i.document.createTime):At.min(),m=new wn({mapValue:{fields:i.document.fields}}),p=fn.newFoundDocument(l,u,h,m),g=i.targetIds||[],v=i.removedTargetIds||[];n=new Gc(g,v,p.key,p)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const l=tm(r,i.document),u=i.readTime?Lr(i.readTime):At.min(),h=fn.newNoDocument(l,u),m=i.removedTargetIds||[];n=new Gc([],m,h.key,h)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const l=tm(r,i.document),u=i.removedTargetIds||[];n=new Gc([],u,l,null)}else{if(!("filter"in t))return wt();{t.filter;const i=t.filter;i.targetId;const{count:l=0,unchangedNames:u}=i,h=new VD(l,u),m=i.targetId;n=new DT(m,h)}}return n}function YD(r,t){let n;if(t instanceof au)n={update:v0(r,t.key,t.value)};else if(t instanceof _g)n={delete:Nm(r,t.key)};else if(t instanceof di)n={update:v0(r,t.key,t.data),updateMask:tx(t.fieldMask)};else{if(!(t instanceof ID))return wt();n={verify:Nm(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(u,h){const m=h.transform;if(m instanceof sf)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Xo)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Wo)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof lf)return{fieldPath:h.field.canonicalString(),increment:m.Ie};throw wt()}(0,i))),t.precondition.isNone||(n.currentDocument=function(l,u){return u.updateTime!==void 0?{updateTime:qD(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:wt()}(r,t.precondition)),n}function GD(r,t){return r&&r.length>0?(Xt(t!==void 0),r.map(n=>function(l,u){let h=l.updateTime?Lr(l.updateTime):Lr(u);return h.isEqual(At.min())&&(h=Lr(u)),new xD(h,l.transformResults||[])}(n,t))):[]}function QD(r,t){return{documents:[IT(r,t.path)]}}function KD(r,t){const n={structuredQuery:{}},i=t.path;let l;t.collectionGroup!==null?(l=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=IT(r,l);const u=function(g){if(g.length!==0)return VT(dr.create(g,"and"))}(t.filters);u&&(n.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(v=>function(b){return{field:il(b.field),direction:WD(b.dir)}}(v))}(t.orderBy);h&&(n.structuredQuery.orderBy=h);const m=Om(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{ht:n,parent:l}}function $D(r){let t=HD(r.parent);const n=r.structuredQuery,i=n.from?n.from.length:0;let l=null;if(i>0){Xt(i===1);const v=n.from[0];v.allDescendants?l=v.collectionId:t=t.child(v.collectionId)}let u=[];n.where&&(u=function(T){const b=MT(T);return b instanceof dr&&uT(b)?b.getFilters():[b]}(n.where));let h=[];n.orderBy&&(h=function(T){return T.map(b=>function(D){return new af(sl(D.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(b))}(n.orderBy));let m=null;n.limit&&(m=function(T){let b;return b=typeof T=="object"?T.value:T,_f(b)?null:b}(n.limit));let p=null;n.startAt&&(p=function(T){const b=!!T.before,R=T.values||[];return new rf(R,b)}(n.startAt));let g=null;return n.endAt&&(g=function(T){const b=!T.before,R=T.values||[];return new rf(R,b)}(n.endAt)),gD(t,l,h,u,m,"F",p,g)}function XD(r,t){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function MT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=sl(n.unaryFilter.field);return Ie.create(i,"==",{doubleValue:NaN});case"IS_NULL":const l=sl(n.unaryFilter.field);return Ie.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=sl(n.unaryFilter.field);return Ie.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=sl(n.unaryFilter.field);return Ie.create(h,"!=",{nullValue:"NULL_VALUE"});default:return wt()}}(r):r.fieldFilter!==void 0?function(n){return Ie.create(sl(n.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return wt()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return dr.create(n.compositeFilter.filters.map(i=>MT(i)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return wt()}}(n.compositeFilter.op))}(r):wt()}function WD(r){return jD[r]}function ZD(r){return UD[r]}function JD(r){return zD[r]}function il(r){return{fieldPath:r.canonicalString()}}function sl(r){return rn.fromServerFormat(r.fieldPath)}function VT(r){return r instanceof Ie?function(n){if(n.op==="=="){if(i0(n.value))return{unaryFilter:{field:il(n.field),op:"IS_NAN"}};if(a0(n.value))return{unaryFilter:{field:il(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(i0(n.value))return{unaryFilter:{field:il(n.field),op:"IS_NOT_NAN"}};if(a0(n.value))return{unaryFilter:{field:il(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:il(n.field),op:ZD(n.op),value:n.value}}}(r):r instanceof dr?function(n){const i=n.getFilters().map(l=>VT(l));return i.length===1?i[0]:{compositeFilter:{op:JD(n.op),filters:i}}}(r):wt()}function tx(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function PT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(t,n,i,l,u=At.min(),h=At.min(),m=sn.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new Ja(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(t){this.Tt=t}}function nx(r){const t=$D({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Cm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(){this.Tn=new ax}addToCollectionParentIndex(t,n){return this.Tn.add(n),et.resolve()}getCollectionParents(t,n){return et.resolve(this.Tn.getEntries(n))}addFieldIndex(t,n){return et.resolve()}deleteFieldIndex(t,n){return et.resolve()}deleteAllFieldIndexes(t){return et.resolve()}createTargetIndexes(t,n){return et.resolve()}getDocumentsMatchingTarget(t,n){return et.resolve(null)}getIndexType(t,n){return et.resolve(0)}getFieldIndexes(t,n){return et.resolve([])}getNextCollectionGroupToUpdate(t){return et.resolve(null)}getMinOffset(t,n){return et.resolve(ii.min())}getMinOffsetFromCollectionGroup(t,n){return et.resolve(ii.min())}updateCollectionGroup(t,n,i){return et.resolve()}updateIndexEntries(t,n){return et.resolve()}}class ax{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),l=this.index[n]||new je(ce.comparator),u=!l.has(i);return this.index[n]=l.add(i),u}has(t){const n=t.lastSegment(),i=t.popLast(),l=this.index[n];return l&&l.has(i)}getEntries(t){return(this.index[t]||new je(ce.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kT=41943040;class bn{static withCacheSize(t){return new bn(t,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(kT,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new gl(0)}static Kn(){return new gl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0="LruGarbageCollector",ix=1048576;function T0([r,t],[n,i]){const l=Mt(r,n);return l===0?Mt(t,i):l}class sx{constructor(t){this.Hn=t,this.buffer=new je(T0),this.Jn=0}Yn(){return++this.Jn}Zn(t){const n=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();T0(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class lx{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){ft(E0,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wl(n)?ft(E0,"Ignoring IndexedDB error during garbage collection: ",n):await bl(n)}await this.er(3e5)})}}class ox{constructor(t,n){this.tr=t,this.params=n}calculateTargetCount(t,n){return this.tr.nr(t).next(i=>Math.floor(n/100*i))}nthSequenceNumber(t,n){if(n===0)return et.resolve(vf.ae);const i=new sx(n);return this.tr.forEachTarget(t,l=>i.Zn(l.sequenceNumber)).next(()=>this.tr.rr(t,l=>i.Zn(l))).next(()=>i.maxValue)}removeTargets(t,n,i){return this.tr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.tr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ft("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(_0)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_0):this.ir(t,n))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,n){let i,l,u,h,m,p,g;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),l=this.params.maximumSequenceNumbersToCollect):l=T,h=Date.now(),this.nthSequenceNumber(t,l))).next(T=>(i=T,m=Date.now(),this.removeTargets(t,i,n))).next(T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(t,i))).next(T=>(g=Date.now(),rl()<=Ht.DEBUG&&ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${l} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:T})))}}function ux(r,t){return new ox(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(){this.changes=new as(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,fn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?et.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(t,n,i,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=l}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(l=>(i=l,this.remoteDocumentCache.getEntry(t,n))).next(l=>(i!==null&&qo(i.mutation,l,Pn.empty(),Le.now()),l))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,jt()).next(()=>i))}getLocalViewOfDocuments(t,n,i=jt()){const l=Ji();return this.populateOverlays(t,l,n).next(()=>this.computeViews(t,n,l,i).next(u=>{let h=Vo();return u.forEach((m,p)=>{h=h.insert(m,p.overlayedDocument)}),h}))}getOverlayedDocuments(t,n){const i=Ji();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,jt()))}populateOverlays(t,n,i){const l=[];return i.forEach(u=>{n.has(u)||l.push(u)}),this.documentOverlayCache.getOverlays(t,l).next(u=>{u.forEach((h,m)=>{n.set(h,m)})})}computeViews(t,n,i,l){let u=_a();const h=Bo(),m=function(){return Bo()}();return n.forEach((p,g)=>{const v=i.get(g.key);l.has(g.key)&&(v===void 0||v.mutation instanceof di)?u=u.insert(g.key,g):v!==void 0?(h.set(g.key,v.mutation.getFieldMask()),qo(v.mutation,g,v.mutation.getFieldMask(),Le.now())):h.set(g.key,Pn.empty())}),this.recalculateAndSaveOverlays(t,u).next(p=>(p.forEach((g,v)=>h.set(g,v)),n.forEach((g,v)=>{var T;return m.set(g,new fx(v,(T=h.get(g))!==null&&T!==void 0?T:null))}),m))}recalculateAndSaveOverlays(t,n){const i=Bo();let l=new ve((h,m)=>h-m),u=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(h=>{for(const m of h)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let v=i.get(p)||Pn.empty();v=m.applyToLocalView(g,v),i.set(p,v);const T=(l.get(m.batchId)||jt()).add(p);l=l.insert(m.batchId,T)})}).next(()=>{const h=[],m=l.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,T=vT();v.forEach(b=>{if(!u.has(b)){const R=ST(n.get(b),i.get(b));R!==null&&T.set(b,R),u=u.add(b)}}),h.push(this.documentOverlayCache.saveOverlays(t,g,T))}return et.waitFor(h)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,l){return function(h){return vt.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):dT(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,l):this.getDocumentsMatchingCollectionQuery(t,n,i,l)}getNextDocuments(t,n,i,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,l).next(u=>{const h=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,l-u.size):et.resolve(Ji());let m=Go,p=u;return h.next(g=>et.forEach(g,(v,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(v)?et.resolve():this.remoteDocumentCache.getEntry(t,v).next(b=>{p=p.insert(v,b)}))).next(()=>this.populateOverlays(t,g,u)).next(()=>this.computeViews(t,p,g,jt())).next(v=>({batchId:m,changes:yT(v)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new vt(n)).next(i=>{let l=Vo();return i.isFoundDocument()&&(l=l.insert(i.key,i)),l})}getDocumentsMatchingCollectionGroupQuery(t,n,i,l){const u=n.collectionGroup;let h=Vo();return this.indexManager.getCollectionParents(t,u).next(m=>et.forEach(m,p=>{const g=function(T,b){return new ru(b,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,i,l).next(v=>{v.forEach((T,b)=>{h=h.insert(T,b)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(t,n,i,l){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,u,l))).next(h=>{u.forEach((p,g)=>{const v=g.getKey();h.get(v)===null&&(h=h.insert(v,fn.newInvalidDocument(v)))});let m=Vo();return h.forEach((p,g)=>{const v=u.get(p);v!==void 0&&qo(v.mutation,g,Pn.empty(),Le.now()),wf(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,n){return et.resolve(this.dr.get(n))}saveBundleMetadata(t,n){return this.dr.set(n.id,function(l){return{id:l.id,version:l.version,createTime:Lr(l.createTime)}}(n)),et.resolve()}getNamedQuery(t,n){return et.resolve(this.Ar.get(n))}saveNamedQuery(t,n){return this.Ar.set(n.name,function(l){return{name:l.name,query:nx(l.bundledQuery),readTime:Lr(l.readTime)}}(n)),et.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(){this.overlays=new ve(vt.comparator),this.Rr=new Map}getOverlay(t,n){return et.resolve(this.overlays.get(n))}getOverlays(t,n){const i=Ji();return et.forEach(n,l=>this.getOverlay(t,l).next(u=>{u!==null&&i.set(l,u)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((l,u)=>{this.Et(t,n,u)}),et.resolve()}removeOverlaysForBatchId(t,n,i){const l=this.Rr.get(i);return l!==void 0&&(l.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(i)),et.resolve()}getOverlaysForCollection(t,n,i){const l=Ji(),u=n.length+1,h=new vt(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>i&&l.set(p.getKey(),p)}return et.resolve(l)}getOverlaysForCollectionGroup(t,n,i,l){let u=new ve((g,v)=>g-v);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>i){let v=u.get(g.largestBatchId);v===null&&(v=Ji(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=Ji(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,v)=>m.set(g,v)),!(m.size()>=l)););return et.resolve(m)}Et(t,n,i){const l=this.overlays.get(i.key);if(l!==null){const h=this.Rr.get(l.largestBatchId).delete(i.key);this.Rr.set(l.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new MD(n,i));let u=this.Rr.get(n);u===void 0&&(u=jt(),this.Rr.set(n,u)),this.Rr.set(n,u.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(t){return et.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,et.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(){this.Vr=new je(Ye.mr),this.gr=new je(Ye.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,n){const i=new Ye(t,n);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.wr(new Ye(t,n))}Sr(t,n){t.forEach(i=>this.removeReference(i,n))}br(t){const n=new vt(new ce([])),i=new Ye(n,t),l=new Ye(n,t+1),u=[];return this.gr.forEachInRange([i,l],h=>{this.wr(h),u.push(h.key)}),u}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const n=new vt(new ce([])),i=new Ye(n,t),l=new Ye(n,t+1);let u=jt();return this.gr.forEachInRange([i,l],h=>{u=u.add(h.key)}),u}containsKey(t){const n=new Ye(t,0),i=this.Vr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class Ye{constructor(t,n){this.key=t,this.Cr=n}static mr(t,n){return vt.comparator(t.key,n.key)||Mt(t.Cr,n.Cr)}static pr(t,n){return Mt(t.Cr,n.Cr)||vt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new je(Ye.mr)}checkEmpty(t){return et.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,l){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new ND(u,n,i,l);this.mutationQueue.push(h);for(const m of l)this.Mr=this.Mr.add(new Ye(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return et.resolve(h)}lookupMutationBatch(t,n){return et.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,l=this.Nr(i),u=l<0?0:l;return et.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(this.mutationQueue.length===0?dg:this.Fr-1)}getAllMutationBatches(t){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new Ye(n,0),l=new Ye(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([i,l],h=>{const m=this.Or(h.Cr);u.push(m)}),et.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new je(Mt);return n.forEach(l=>{const u=new Ye(l,0),h=new Ye(l,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,h],m=>{i=i.add(m.Cr)})}),et.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,l=i.length+1;let u=i;vt.isDocumentKey(u)||(u=u.child(""));const h=new Ye(new vt(u),0);let m=new je(Mt);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!i.isPrefixOf(g)&&(g.length===l&&(m=m.add(p.Cr)),!0)},h),et.resolve(this.Br(m))}Br(t){const n=[];return t.forEach(i=>{const l=this.Or(i);l!==null&&n.push(l)}),n}removeMutationBatch(t,n){Xt(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return et.forEach(n.mutations,l=>{const u=new Ye(l.key,n.batchId);return i=i.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Mr=i})}qn(t){}containsKey(t,n){const i=new Ye(n,0),l=this.Mr.firstAfterOrEqual(i);return et.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,et.resolve()}Lr(t,n){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const n=this.Nr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(t){this.kr=t,this.docs=function(){return new ve(vt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,l=this.docs.get(i),u=l?l.size:0,h=this.kr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return et.resolve(i?i.document.mutableCopy():fn.newInvalidDocument(n))}getEntries(t,n){let i=_a();return n.forEach(l=>{const u=this.docs.get(l);i=i.insert(l,u?u.document.mutableCopy():fn.newInvalidDocument(l))}),et.resolve(i)}getDocumentsMatchingQuery(t,n,i,l){let u=_a();const h=n.path,m=new vt(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||QR(GR(v),i)<=0||(l.has(v.key)||wf(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return et.resolve(u)}getAllFromCollectionGroup(t,n,i,l){wt()}qr(t,n){return et.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new vx(this)}getSize(t){return et.resolve(this.size)}}class vx extends cx{constructor(t){super(),this.Ir=t}applyChanges(t){const n=[];return this.changes.forEach((i,l)=>{l.isValidDocument()?n.push(this.Ir.addEntry(t,l)):this.Ir.removeEntry(i)}),et.waitFor(n)}getFromCache(t,n){return this.Ir.getEntry(t,n)}getAllFromCache(t,n){return this.Ir.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(t){this.persistence=t,this.Qr=new as(n=>pg(n),yg),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.$r=0,this.Ur=new wg,this.targetCount=0,this.Kr=gl.Un()}forEachTarget(t,n){return this.Qr.forEach((i,l)=>n(l)),et.resolve()}getLastRemoteSnapshotVersion(t){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return et.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.$r&&(this.$r=n),et.resolve()}zn(t){this.Qr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Kr=new gl(n),this.highestTargetId=n),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,n){return this.zn(n),this.targetCount+=1,et.resolve()}updateTargetData(t,n){return this.zn(n),et.resolve()}removeTargetData(t,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,et.resolve()}removeTargets(t,n,i){let l=0;const u=[];return this.Qr.forEach((h,m)=>{m.sequenceNumber<=n&&i.get(m.targetId)===null&&(this.Qr.delete(h),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),l++)}),et.waitFor(u).next(()=>l)}getTargetCount(t){return et.resolve(this.targetCount)}getTargetData(t,n){const i=this.Qr.get(n)||null;return et.resolve(i)}addMatchingKeys(t,n,i){return this.Ur.yr(n,i),et.resolve()}removeMatchingKeys(t,n,i){this.Ur.Sr(n,i);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach(h=>{u.push(l.markPotentiallyOrphaned(t,h))}),et.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.Ur.br(n),et.resolve()}getMatchingKeysForTargetId(t,n){const i=this.Ur.vr(n);return et.resolve(i)}containsKey(t,n){return et.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(t,n){this.Wr={},this.overlays={},this.Gr=new vf(0),this.zr=!1,this.zr=!0,this.jr=new gx,this.referenceDelegate=t(this),this.Hr=new _x(this),this.indexManager=new rx,this.remoteDocumentCache=function(l){return new yx(l)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new ex(n),this.Yr=new dx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new mx,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.Wr[t.toKey()];return i||(i=new px(n,this.referenceDelegate),this.Wr[t.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,n,i){ft("MemoryPersistence","Starting transaction:",t);const l=new Ex(this.Gr.next());return this.referenceDelegate.Zr(),i(l).next(u=>this.referenceDelegate.Xr(l).next(()=>u)).toPromise().then(u=>(l.raiseOnCommittedEvent(),u))}ei(t,n){return et.or(Object.values(this.Wr).map(i=>()=>i.containsKey(t,n)))}}class Ex extends $R{constructor(t){super(),this.currentSequenceNumber=t}}class Sg{constructor(t){this.persistence=t,this.ti=new wg,this.ni=null}static ri(t){return new Sg(t)}get ii(){if(this.ni)return this.ni;throw wt()}addReference(t,n,i){return this.ti.addReference(i,n),this.ii.delete(i.toString()),et.resolve()}removeReference(t,n,i){return this.ti.removeReference(i,n),this.ii.add(i.toString()),et.resolve()}markPotentiallyOrphaned(t,n){return this.ii.add(n.toString()),et.resolve()}removeTarget(t,n){this.ti.br(n.targetId).forEach(l=>this.ii.add(l.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(l=>{l.forEach(u=>this.ii.add(u.toString()))}).next(()=>i.removeTargetData(t,n))}Zr(){this.ni=new Set}Xr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.ii,i=>{const l=vt.fromPath(i);return this.si(t,l).next(u=>{u||n.removeEntry(l,At.min())})}).next(()=>(this.ni=null,n.apply(t)))}updateLimboDocument(t,n){return this.si(t,n).next(i=>{i?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(t){return 0}si(t,n){return et.or([()=>et.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.ei(t,n)])}}class uf{constructor(t,n){this.persistence=t,this.oi=new as(i=>ZR(i.path),(i,l)=>i.isEqual(l)),this.garbageCollector=ux(this,n)}static ri(t,n){return new uf(t,n)}Zr(){}Xr(t){return et.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}nr(t){const n=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>n.next(l=>i+l))}sr(t){let n=0;return this.rr(t,i=>{n++}).next(()=>n)}rr(t,n){return et.forEach(this.oi,(i,l)=>this.ar(t,i,l).next(u=>u?et.resolve():n(l)))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.qr(t,h=>this.ar(t,h,n).next(m=>{m||(i++,u.removeEntry(h,At.min()))})).next(()=>u.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,n){return this.oi.set(n,t.currentSequenceNumber),et.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.oi.set(i,t.currentSequenceNumber),et.resolve()}removeReference(t,n,i){return this.oi.set(i,t.currentSequenceNumber),et.resolve()}updateLimboDocument(t,n){return this.oi.set(n,t.currentSequenceNumber),et.resolve()}Jr(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Hc(t.data.value)),n}ar(t,n,i){return et.or([()=>this.persistence.ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.oi.get(n);return et.resolve(l!==void 0&&l>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(t,n,i,l){this.targetId=t,this.fromCache=n,this.Hi=i,this.Ji=l}static Yi(t,n){let i=jt(),l=jt();for(const u of n.docChanges)switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new Ag(t,n.fromCache,i,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return p1()?8:XR(m1())>0?6:4}()}initialize(t,n){this.ns=t,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(t,n,i,l){const u={result:null};return this.rs(t,n).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ss(t,n,l,i).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new Tx;return this._s(t,n,h).next(m=>{if(u.result=m,this.Xi)return this.us(t,n,h,m.size)})}).next(()=>u.result)}us(t,n,i,l){return i.documentReadCount<this.es?(rl()<=Ht.DEBUG&&ft("QueryEngine","SDK will not create cache indexes for query:",al(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),et.resolve()):(rl()<=Ht.DEBUG&&ft("QueryEngine","Query:",al(n),"scans",i.documentReadCount,"local documents and returns",l,"documents as results."),i.documentReadCount>this.ts*l?(rl()<=Ht.DEBUG&&ft("QueryEngine","The SDK decides to create cache indexes for query:",al(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,kr(n))):et.resolve())}rs(t,n){if(u0(n))return et.resolve(null);let i=kr(n);return this.indexManager.getIndexType(t,i).next(l=>l===0?null:(n.limit!==null&&l===1&&(n=Cm(n,null,"F"),i=kr(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(u=>{const h=jt(...u);return this.ns.getDocuments(t,h).next(m=>this.indexManager.getMinOffset(t,i).next(p=>{const g=this.cs(n,m);return this.ls(n,g,h,p.readTime)?this.rs(t,Cm(n,null,"F")):this.hs(t,g,n,p)}))})))}ss(t,n,i,l){return u0(n)||l.isEqual(At.min())?et.resolve(null):this.ns.getDocuments(t,i).next(u=>{const h=this.cs(n,u);return this.ls(n,h,i,l)?et.resolve(null):(rl()<=Ht.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),al(n)),this.hs(t,h,n,YR(l,Go)).next(m=>m))})}cs(t,n){let i=new je(gT(t));return n.forEach((l,u)=>{wf(t,u)&&(i=i.add(u))}),i}ls(t,n,i,l){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}_s(t,n,i){return rl()<=Ht.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",al(n)),this.ns.getDocumentsMatchingQuery(t,n,ii.min(),i)}hs(t,n,i,l){return this.ns.getDocumentsMatchingQuery(t,i,l).next(u=>(n.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg="LocalStore",wx=3e8;class Sx{constructor(t,n,i,l){this.persistence=t,this.Ps=n,this.serializer=l,this.Ts=new ve(Mt),this.Is=new as(u=>pg(u),yg),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(i)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new hx(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ts))}}function Ax(r,t,n,i){return new Sx(r,t,n,i)}async function jT(r,t){const n=Rt(r);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let l;return n.mutationQueue.getAllMutationBatches(i).next(u=>(l=u,n.As(t),n.mutationQueue.getAllMutationBatches(i))).next(u=>{const h=[],m=[];let p=jt();for(const g of l){h.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return n.localDocuments.getDocuments(i,p).next(g=>({Rs:g,removedBatchIds:h,addedBatchIds:m}))})})}function Rx(r,t){const n=Rt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const l=t.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,g,v){const T=g.batch,b=T.keys();let R=et.resolve();return b.forEach(D=>{R=R.next(()=>v.getEntry(p,D)).next(k=>{const P=g.docVersions.get(D);Xt(P!==null),k.version.compareTo(P)<0&&(T.applyToRemoteDocument(k,g),k.isValidDocument()&&(k.setReadTime(g.commitVersion),v.addEntry(k)))})}),R.next(()=>m.mutationQueue.removeMutationBatch(p,T))}(n,i,t,u).next(()=>u.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,l,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(m){let p=jt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(t))).next(()=>n.localDocuments.getDocuments(i,l))})}function UT(r){const t=Rt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Hr.getLastRemoteSnapshotVersion(n))}function Dx(r,t){const n=Rt(r),i=t.snapshotVersion;let l=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=n.ds.newChangeBuffer({trackRemovals:!0});l=n.Ts;const m=[];t.targetChanges.forEach((v,T)=>{const b=l.get(T);if(!b)return;m.push(n.Hr.removeMatchingKeys(u,v.removedDocuments,T).next(()=>n.Hr.addMatchingKeys(u,v.addedDocuments,T)));let R=b.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(T)!==null?R=R.withResumeToken(sn.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):v.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(v.resumeToken,i)),l=l.insert(T,R),function(k,P,F){return k.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=wx?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(b,R,v)&&m.push(n.Hr.updateTargetData(u,R))});let p=_a(),g=jt();if(t.documentUpdates.forEach(v=>{t.resolvedLimboDocuments.has(v)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))}),m.push(xx(u,h,t.documentUpdates).next(v=>{p=v.Vs,g=v.fs})),!i.isEqual(At.min())){const v=n.Hr.getLastRemoteSnapshotVersion(u).next(T=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,i));m.push(v)}return et.waitFor(m).next(()=>h.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ts=l,u))}function xx(r,t,n){let i=jt(),l=jt();return n.forEach(u=>i=i.add(u)),t.getEntries(r,i).next(u=>{let h=_a();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(l=l.add(m)),p.isNoDocument()&&p.version.isEqual(At.min())?(t.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),h=h.insert(m,p)):ft(Rg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Vs:h,fs:l}})}function Cx(r,t){const n=Rt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=dg),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function Ox(r,t){const n=Rt(r);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let l;return n.Hr.getTargetData(i,t).next(u=>u?(l=u,et.resolve(l)):n.Hr.allocateTargetId(i).next(h=>(l=new Ja(t,h,"TargetPurposeListen",i.currentSequenceNumber),n.Hr.addTargetData(i,l).next(()=>l))))}).then(i=>{const l=n.Ts.get(i.targetId);return(l===null||i.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(i.targetId,i),n.Is.set(t,i.targetId)),i})}async function Vm(r,t,n){const i=Rt(r),l=i.Ts.get(t),u=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",u,h=>i.persistence.referenceDelegate.removeTarget(h,l))}catch(h){if(!wl(h))throw h;ft(Rg,`Failed to update sequence numbers for target ${t}: ${h}`)}i.Ts=i.Ts.remove(t),i.Is.delete(l.target)}function b0(r,t,n){const i=Rt(r);let l=At.min(),u=jt();return i.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,v){const T=Rt(p),b=T.Is.get(v);return b!==void 0?et.resolve(T.Ts.get(b)):T.Hr.getTargetData(g,v)}(i,h,kr(t)).next(m=>{if(m)return l=m.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(h,m.targetId).next(p=>{u=p})}).next(()=>i.Ps.getDocumentsMatchingQuery(h,t,n?l:At.min(),n?u:jt())).next(m=>(Ix(i,yD(t),m),{documents:m,gs:u})))}function Ix(r,t,n){let i=r.Es.get(t)||At.min();n.forEach((l,u)=>{u.readTime.compareTo(i)>0&&(i=u.readTime)}),r.Es.set(t,i)}class w0{constructor(){this.activeTargetIds=wD()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Nx{constructor(){this.ho=new w0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,n,i){this.Po[t]=n}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new w0,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="ConnectivityMonitor";class A0{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ft(S0,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){ft(S0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kc=null;function Pm(){return kc===null?kc=function(){return 268435456+Math.round(2147483648*Math.random())}():kc++,"0x"+kc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em="RestConnection",Vx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Px{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo=`projects/${i}/databases/${l}`,this.wo=this.databaseId.database===ef?`project_id=${i}`:`project_id=${i}&database_id=${l}`}So(t,n,i,l,u){const h=Pm(),m=this.bo(t,n.toUriEncodedString());ft(em,`Sending RPC '${t}' ${h}:`,m,i);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,l,u),this.vo(t,m,p,i).then(g=>(ft(em,`Received RPC '${t}' ${h}: `,g),g),g=>{throw fl(em,`RPC '${t}' ${h} failed with error: `,g,"url: ",m,"request:",i),g})}Co(t,n,i,l,u,h){return this.So(t,n,i,l,u)}Do(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Tl}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,u)=>t[u]=l),i&&i.headers.forEach((l,u)=>t[u]=l)}bo(t,n){const i=Vx[t];return`${this.po}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un="WebChannelConnection";class Lx extends Px{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,n,i,l){const u=Pm();return new Promise((h,m)=>{const p=new HE;p.setWithCredentials(!0),p.listenOnce(FE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case qc.NO_ERROR:const v=p.getResponseJson();ft(un,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(v)),h(v);break;case qc.TIMEOUT:ft(un,`RPC '${t}' ${u} timed out`),m(new ht(nt.DEADLINE_EXCEEDED,"Request time out"));break;case qc.HTTP_ERROR:const T=p.getStatus();if(ft(un,`RPC '${t}' ${u} failed with status:`,T,"response text:",p.getResponseText()),T>0){let b=p.getResponseJson();Array.isArray(b)&&(b=b[0]);const R=b==null?void 0:b.error;if(R&&R.status&&R.message){const D=function(P){const F=P.toLowerCase().replace(/_/g,"-");return Object.values(nt).indexOf(F)>=0?F:nt.UNKNOWN}(R.status);m(new ht(D,R.message))}else m(new ht(nt.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ht(nt.UNAVAILABLE,"Connection failed."));break;default:wt()}}finally{ft(un,`RPC '${t}' ${u} completed.`)}});const g=JSON.stringify(l);ft(un,`RPC '${t}' ${u} sending request:`,l),p.send(n,"POST",g,i,15)})}Wo(t,n,i){const l=Pm(),u=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=QE(),m=GE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,i),p.encodeInitMessageHeaders=!0;const v=u.join("");ft(un,`Creating RPC '${t}' stream ${l}: ${v}`,p);const T=h.createWebChannel(v,p);let b=!1,R=!1;const D=new kx({Fo:P=>{R?ft(un,`Not sending because RPC '${t}' stream ${l} is closed:`,P):(b||(ft(un,`Opening RPC '${t}' stream ${l} transport.`),T.open(),b=!0),ft(un,`RPC '${t}' stream ${l} sending:`,P),T.send(P))},Mo:()=>T.close()}),k=(P,F,rt)=>{P.listen(F,Z=>{try{rt(Z)}catch(ut){setTimeout(()=>{throw ut},0)}})};return k(T,Mo.EventType.OPEN,()=>{R||(ft(un,`RPC '${t}' stream ${l} transport opened.`),D.Qo())}),k(T,Mo.EventType.CLOSE,()=>{R||(R=!0,ft(un,`RPC '${t}' stream ${l} transport closed`),D.Uo())}),k(T,Mo.EventType.ERROR,P=>{R||(R=!0,fl(un,`RPC '${t}' stream ${l} transport errored:`,P),D.Uo(new ht(nt.UNAVAILABLE,"The operation could not be completed")))}),k(T,Mo.EventType.MESSAGE,P=>{var F;if(!R){const rt=P.data[0];Xt(!!rt);const Z=rt,ut=(Z==null?void 0:Z.error)||((F=Z[0])===null||F===void 0?void 0:F.error);if(ut){ft(un,`RPC '${t}' stream ${l} received error:`,ut);const ct=ut.status;let it=function(C){const N=Oe[C];if(N!==void 0)return RT(N)}(ct),M=ut.message;it===void 0&&(it=nt.INTERNAL,M="Unknown error status: "+ct+" with message "+ut.message),R=!0,D.Uo(new ht(it,M)),T.close()}else ft(un,`RPC '${t}' stream ${l} received:`,rt),D.Ko(rt)}}),k(m,YE.STAT_EVENT,P=>{P.stat===bm.PROXY?ft(un,`RPC '${t}' stream ${l} detected buffering proxy`):P.stat===bm.NOPROXY&&ft(un,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{D.$o()},0),D}}function nm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Df(r){return new BD(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(t,n,i=1e3,l=1.5,u=6e4){this.Ti=t,this.timerId=n,this.Go=i,this.zo=l,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const n=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),l=Math.max(0,n-i);l>0&&ft("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,l,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0="PersistentStream";class BT{constructor(t,n,i,l,u,h,m,p){this.Ti=t,this.n_=i,this.r_=l,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new zT(t,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():n&&n.code===nt.RESOURCE_EXHAUSTED?(va(n.toString()),va("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===nt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,l])=>{this.i_===n&&this.V_(i,l)},i=>{t(()=>{const l=new ht(nt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(l)})})}V_(t,n){const i=this.R_(this.i_);this.stream=this.f_(t,n),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(l=>{i(()=>this.m_(l))}),this.stream.onMessage(l=>{i(()=>++this.__==1?this.g_(l):this.onNext(l))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return ft(R0,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return n=>{this.Ti.enqueueAndForget(()=>this.i_===t?n():(ft(R0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jx extends BT{constructor(t,n,i,l,u,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,l,h),this.serializer=u}f_(t,n){return this.connection.Wo("Listen",t,n)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const n=FD(this.serializer,t),i=function(u){if(!("targetChange"in u))return At.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?At.min():h.readTime?Lr(h.readTime):At.min()}(t);return this.listener.p_(n,i)}y_(t){const n={};n.database=Mm(this.serializer),n.addTarget=function(u,h){let m;const p=h.target;if(m=Dm(p)?{documents:QD(u,p)}:{query:KD(u,p).ht},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=CT(u,h.resumeToken);const g=Om(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(At.min())>0){m.readTime=of(u,h.snapshotVersion.toTimestamp());const g=Om(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,t);const i=XD(this.serializer,t);i&&(n.labels=i),this.I_(n)}w_(t){const n={};n.database=Mm(this.serializer),n.removeTarget=t,this.I_(n)}}class Ux extends BT{constructor(t,n,i,l,u,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,l,h),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,n){return this.connection.Wo("Write",t,n)}g_(t){return Xt(!!t.streamToken),this.lastStreamToken=t.streamToken,Xt(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){Xt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const n=GD(t.writeResults,t.commitTime),i=Lr(t.commitTime);return this.listener.v_(i,n)}C_(){const t={};t.database=Mm(this.serializer),this.I_(t)}b_(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>YD(this.serializer,i))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{}class Bx extends zx{constructor(t,n,i,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=l,this.F_=!1}M_(){if(this.F_)throw new ht(nt.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,i,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.So(t,Im(n,i),l,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ht(nt.UNKNOWN,u.toString())})}Co(t,n,i,l,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Co(t,Im(n,i),l,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ht(nt.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class qx{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(va(n),this.N_=!1):ft("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns="RemoteStore";class Hx{constructor(t,n,i,l,u){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(h=>{i.enqueueAndForget(async()=>{is(this)&&(ft(ns,"Restarting streams for network reachability change."),await async function(p){const g=Rt(p);g.W_.add(4),await su(g),g.j_.set("Unknown"),g.W_.delete(4),await xf(g)}(this))})}),this.j_=new qx(i,l)}}async function xf(r){if(is(r))for(const t of r.G_)await t(!0)}async function su(r){for(const t of r.G_)await t(!1)}function qT(r,t){const n=Rt(r);n.K_.has(t.targetId)||(n.K_.set(t.targetId,t),Og(n)?Cg(n):Sl(n).c_()&&xg(n,t))}function Dg(r,t){const n=Rt(r),i=Sl(n);n.K_.delete(t),i.c_()&&HT(n,t),n.K_.size===0&&(i.c_()?i.P_():is(n)&&n.j_.set("Unknown"))}function xg(r,t){if(r.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Sl(r).y_(t)}function HT(r,t){r.H_.Ne(t),Sl(r).w_(t)}function Cg(r){r.H_=new LD({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>r.K_.get(t)||null,it:()=>r.datastore.serializer.databaseId}),Sl(r).start(),r.j_.B_()}function Og(r){return is(r)&&!Sl(r).u_()&&r.K_.size>0}function is(r){return Rt(r).W_.size===0}function FT(r){r.H_=void 0}async function Fx(r){r.j_.set("Online")}async function Yx(r){r.K_.forEach((t,n)=>{xg(r,t)})}async function Gx(r,t){FT(r),Og(r)?(r.j_.q_(t),Cg(r)):r.j_.set("Unknown")}async function Qx(r,t,n){if(r.j_.set("Online"),t instanceof xT&&t.state===2&&t.cause)try{await async function(l,u){const h=u.cause;for(const m of u.targetIds)l.K_.has(m)&&(await l.remoteSyncer.rejectListen(m,h),l.K_.delete(m),l.H_.removeTarget(m))}(r,t)}catch(i){ft(ns,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await cf(r,i)}else if(t instanceof Gc?r.H_.We(t):t instanceof DT?r.H_.Ze(t):r.H_.je(t),!n.isEqual(At.min()))try{const i=await UT(r.localStore);n.compareTo(i)>=0&&await function(u,h){const m=u.H_.ot(h);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.K_.get(g);v&&u.K_.set(g,v.withResumeToken(p.resumeToken,h))}}),m.targetMismatches.forEach((p,g)=>{const v=u.K_.get(p);if(!v)return;u.K_.set(p,v.withResumeToken(sn.EMPTY_BYTE_STRING,v.snapshotVersion)),HT(u,p);const T=new Ja(v.target,p,g,v.sequenceNumber);xg(u,T)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(i){ft(ns,"Failed to raise snapshot:",i),await cf(r,i)}}async function cf(r,t,n){if(!wl(t))throw t;r.W_.add(1),await su(r),r.j_.set("Offline"),n||(n=()=>UT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ft(ns,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await xf(r)})}function YT(r,t){return t().catch(n=>cf(r,n,t))}async function Cf(r){const t=Rt(r),n=ui(t);let i=t.U_.length>0?t.U_[t.U_.length-1].batchId:dg;for(;Kx(t);)try{const l=await Cx(t.localStore,i);if(l===null){t.U_.length===0&&n.P_();break}i=l.batchId,$x(t,l)}catch(l){await cf(t,l)}GT(t)&&QT(t)}function Kx(r){return is(r)&&r.U_.length<10}function $x(r,t){r.U_.push(t);const n=ui(r);n.c_()&&n.S_&&n.b_(t.mutations)}function GT(r){return is(r)&&!ui(r).u_()&&r.U_.length>0}function QT(r){ui(r).start()}async function Xx(r){ui(r).C_()}async function Wx(r){const t=ui(r);for(const n of r.U_)t.b_(n.mutations)}async function Zx(r,t,n){const i=r.U_.shift(),l=Eg.from(i,t,n);await YT(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),await Cf(r)}async function Jx(r,t){t&&ui(r).S_&&await async function(i,l){if(function(h){return PD(h)&&h!==nt.ABORTED}(l.code)){const u=i.U_.shift();ui(i).h_(),await YT(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,l)),await Cf(i)}}(r,t),GT(r)&&QT(r)}async function D0(r,t){const n=Rt(r);n.asyncQueue.verifyOperationInProgress(),ft(ns,"RemoteStore received new credentials");const i=is(n);n.W_.add(3),await su(n),i&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await xf(n)}async function tC(r,t){const n=Rt(r);t?(n.W_.delete(2),await xf(n)):t||(n.W_.add(2),await su(n),n.j_.set("Unknown"))}function Sl(r){return r.J_||(r.J_=function(n,i,l){const u=Rt(n);return u.M_(),new jx(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(r.datastore,r.asyncQueue,{xo:Fx.bind(null,r),No:Yx.bind(null,r),Lo:Gx.bind(null,r),p_:Qx.bind(null,r)}),r.G_.push(async t=>{t?(r.J_.h_(),Og(r)?Cg(r):r.j_.set("Unknown")):(await r.J_.stop(),FT(r))})),r.J_}function ui(r){return r.Y_||(r.Y_=function(n,i,l){const u=Rt(n);return u.M_(),new Ux(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:Xx.bind(null,r),Lo:Jx.bind(null,r),D_:Wx.bind(null,r),v_:Zx.bind(null,r)}),r.G_.push(async t=>{t?(r.Y_.h_(),await Cf(r)):(await r.Y_.stop(),r.U_.length>0&&(ft(ns,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(t,n,i,l,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=l,this.removalCallback=u,this.deferred=new ga,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,l,u){const h=Date.now()+i,m=new Ig(t,n,h,l,u);return m.start(i),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(nt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ng(r,t){if(va("AsyncQueue",`${t}: ${r}`),wl(r))return new ht(nt.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{static emptySet(t){return new cl(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||vt.comparator(n.key,i.key):(n,i)=>vt.comparator(n.key,i.key),this.keyedMap=Vo(),this.sortedSet=new ve(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof cl)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=i.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new cl;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(){this.Z_=new ve(vt.comparator)}track(t){const n=t.doc.key,i=this.Z_.get(n);i?t.type!==0&&i.type===3?this.Z_=this.Z_.insert(n,t):t.type===3&&i.type!==1?this.Z_=this.Z_.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.Z_=this.Z_.remove(n):t.type===1&&i.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):wt():this.Z_=this.Z_.insert(n,t)}X_(){const t=[];return this.Z_.inorderTraversal((n,i)=>{t.push(i)}),t}}class pl{constructor(t,n,i,l,u,h,m,p,g){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=l,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,n,i,l,u){const h=[];return n.forEach(m=>{h.push({type:0,doc:m})}),new pl(t,n,cl.emptySet(n),h,i,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&bf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==i[l].type||!n[l].doc.isEqual(i[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class nC{constructor(){this.queries=C0(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,i){const l=Rt(n),u=l.queries;l.queries=C0(),u.forEach((h,m)=>{for(const p of m.ta)p.onError(i)})})(this,new ht(nt.ABORTED,"Firestore shutting down"))}}function C0(){return new as(r=>mT(r),bf)}async function Mg(r,t){const n=Rt(r);let i=3;const l=t.query;let u=n.queries.get(l);u?!u.na()&&t.ra()&&(i=2):(u=new eC,i=t.ra()?0:1);try{switch(i){case 0:u.ea=await n.onListen(l,!0);break;case 1:u.ea=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(h){const m=Ng(h,`Initialization of query '${al(t.query)}' failed`);return void t.onError(m)}n.queries.set(l,u),u.ta.push(t),t.sa(n.onlineState),u.ea&&t.oa(u.ea)&&Pg(n)}async function Vg(r,t){const n=Rt(r),i=t.query;let l=3;const u=n.queries.get(i);if(u){const h=u.ta.indexOf(t);h>=0&&(u.ta.splice(h,1),u.ta.length===0?l=t.ra()?0:1:!u.na()&&t.ra()&&(l=2))}switch(l){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function rC(r,t){const n=Rt(r);let i=!1;for(const l of t){const u=l.query,h=n.queries.get(u);if(h){for(const m of h.ta)m.oa(l)&&(i=!0);h.ea=l}}i&&Pg(n)}function aC(r,t,n){const i=Rt(r),l=i.queries.get(t);if(l)for(const u of l.ta)u.onError(n);i.queries.delete(t)}function Pg(r){r.ia.forEach(t=>{t.next()})}var km,O0;(O0=km||(km={}))._a="default",O0.Cache="cache";class kg{constructor(t,n,i){this.query=t,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(t){if(!this.options.includeMetadataChanges){const i=[];for(const l of t.docChanges)l.type!==3&&i.push(l);t=new pl(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ua?this.la(t)&&(this.aa.next(t),n=!0):this.ha(t,this.onlineState)&&(this.Pa(t),n=!0),this.ca=t,n}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),n=!0),n}ha(t,n){if(!t.fromCache||!this.ra())return!0;const i=n!=="Offline";return(!this.options.Ta||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}la(t){if(t.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(t){t=pl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==km.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(t){this.key=t}}class $T{constructor(t){this.key=t}}class iC{constructor(t,n){this.query=t,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=jt(),this.mutatedKeys=jt(),this.ya=gT(t),this.wa=new cl(this.ya)}get Sa(){return this.fa}ba(t,n){const i=n?n.Da:new x0,l=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,h=l,m=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,g=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((v,T)=>{const b=l.get(v),R=wf(this.query,T)?T:null,D=!!b&&this.mutatedKeys.has(b.key),k=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let P=!1;b&&R?b.data.isEqual(R.data)?D!==k&&(i.track({type:3,doc:R}),P=!0):this.va(b,R)||(i.track({type:2,doc:R}),P=!0,(p&&this.ya(R,p)>0||g&&this.ya(R,g)<0)&&(m=!0)):!b&&R?(i.track({type:0,doc:R}),P=!0):b&&!R&&(i.track({type:1,doc:b}),P=!0,(p||g)&&(m=!0)),P&&(R?(h=h.add(R),u=k?u.add(v):u.delete(v)):(h=h.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),u=u.delete(v.key),i.track({type:1,doc:v})}return{wa:h,Da:i,ls:m,mutatedKeys:u}}va(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,l){const u=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const h=t.Da.X_();h.sort((v,T)=>function(R,D){const k=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt()}};return k(R)-k(D)}(v.type,T.type)||this.ya(v.doc,T.doc)),this.Ca(i),l=l!=null&&l;const m=n&&!l?this.Fa():[],p=this.pa.size===0&&this.current&&!l?1:0,g=p!==this.ga;return this.ga=p,h.length!==0||g?{snapshot:new pl(this.query,t.wa,u,h,t.mutatedKeys,p===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new x0,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=jt(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const n=[];return t.forEach(i=>{this.pa.has(i)||n.push(new $T(i))}),this.pa.forEach(i=>{t.has(i)||n.push(new KT(i))}),n}Oa(t){this.fa=t.gs,this.pa=jt();const n=this.ba(t.documents);return this.applyChanges(n,!0)}Na(){return pl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Lg="SyncEngine";class sC{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class lC{constructor(t){this.key=t,this.Ba=!1}}class oC{constructor(t,n,i,l,u,h){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new as(m=>mT(m),bf),this.qa=new Map,this.Qa=new Set,this.$a=new ve(vt.comparator),this.Ua=new Map,this.Ka=new wg,this.Wa={},this.Ga=new Map,this.za=gl.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function uC(r,t,n=!0){const i=eb(r);let l;const u=i.ka.get(t);return u?(i.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.Na()):l=await XT(i,t,n,!0),l}async function cC(r,t){const n=eb(r);await XT(n,t,!0,!1)}async function XT(r,t,n,i){const l=await Ox(r.localStore,kr(t)),u=l.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let m;return i&&(m=await fC(r,t,u,h==="current",l.resumeToken)),r.isPrimaryClient&&n&&qT(r.remoteStore,l),m}async function fC(r,t,n,i,l){r.Ha=(T,b,R)=>async function(k,P,F,rt){let Z=P.view.ba(F);Z.ls&&(Z=await b0(k.localStore,P.query,!1).then(({documents:M})=>P.view.ba(M,Z)));const ut=rt&&rt.targetChanges.get(P.targetId),ct=rt&&rt.targetMismatches.get(P.targetId)!=null,it=P.view.applyChanges(Z,k.isPrimaryClient,ut,ct);return N0(k,P.targetId,it.Ma),it.snapshot}(r,T,b,R);const u=await b0(r.localStore,t,!0),h=new iC(t,u.gs),m=h.ba(u.documents),p=iu.createSynthesizedTargetChangeForCurrentChange(n,i&&r.onlineState!=="Offline",l),g=h.applyChanges(m,r.isPrimaryClient,p);N0(r,n,g.Ma);const v=new sC(t,n,h);return r.ka.set(t,v),r.qa.has(n)?r.qa.get(n).push(t):r.qa.set(n,[t]),g.snapshot}async function hC(r,t,n){const i=Rt(r),l=i.ka.get(t),u=i.qa.get(l.targetId);if(u.length>1)return i.qa.set(l.targetId,u.filter(h=>!bf(h,t))),void i.ka.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(l.targetId),i.sharedClientState.isActiveQueryTarget(l.targetId)||await Vm(i.localStore,l.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(l.targetId),n&&Dg(i.remoteStore,l.targetId),Lm(i,l.targetId)}).catch(bl)):(Lm(i,l.targetId),await Vm(i.localStore,l.targetId,!0))}async function dC(r,t){const n=Rt(r),i=n.ka.get(t),l=n.qa.get(i.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Dg(n.remoteStore,i.targetId))}async function mC(r,t,n){const i=TC(r);try{const l=await function(h,m){const p=Rt(h),g=Le.now(),v=m.reduce((R,D)=>R.add(D.key),jt());let T,b;return p.persistence.runTransaction("Locally write mutations","readwrite",R=>{let D=_a(),k=jt();return p.ds.getEntries(R,v).next(P=>{D=P,D.forEach((F,rt)=>{rt.isValidDocument()||(k=k.add(F))})}).next(()=>p.localDocuments.getOverlayedDocuments(R,D)).next(P=>{T=P;const F=[];for(const rt of m){const Z=OD(rt,T.get(rt.key).overlayedDocument);Z!=null&&F.push(new di(rt.key,Z,sT(Z.value.mapValue),Jn.exists(!0)))}return p.mutationQueue.addMutationBatch(R,g,F,m)}).next(P=>{b=P;const F=P.applyToLocalDocumentSet(T,k);return p.documentOverlayCache.saveOverlays(R,P.batchId,F)})}).then(()=>({batchId:b.batchId,changes:yT(T)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(l.batchId),function(h,m,p){let g=h.Wa[h.currentUser.toKey()];g||(g=new ve(Mt)),g=g.insert(m,p),h.Wa[h.currentUser.toKey()]=g}(i,l.batchId,n),await lu(i,l.changes),await Cf(i.remoteStore)}catch(l){const u=Ng(l,"Failed to persist write");n.reject(u)}}async function WT(r,t){const n=Rt(r);try{const i=await Dx(n.localStore,t);t.targetChanges.forEach((l,u)=>{const h=n.Ua.get(u);h&&(Xt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?h.Ba=!0:l.modifiedDocuments.size>0?Xt(h.Ba):l.removedDocuments.size>0&&(Xt(h.Ba),h.Ba=!1))}),await lu(n,i,t)}catch(i){await bl(i)}}function I0(r,t,n){const i=Rt(r);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const l=[];i.ka.forEach((u,h)=>{const m=h.view.sa(t);m.snapshot&&l.push(m.snapshot)}),function(h,m){const p=Rt(h);p.onlineState=m;let g=!1;p.queries.forEach((v,T)=>{for(const b of T.ta)b.sa(m)&&(g=!0)}),g&&Pg(p)}(i.eventManager,t),l.length&&i.La.p_(l),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function gC(r,t,n){const i=Rt(r);i.sharedClientState.updateQueryState(t,"rejected",n);const l=i.Ua.get(t),u=l&&l.key;if(u){let h=new ve(vt.comparator);h=h.insert(u,fn.newNoDocument(u,At.min()));const m=jt().add(u),p=new Rf(At.min(),new Map,new ve(Mt),h,m);await WT(i,p),i.$a=i.$a.remove(u),i.Ua.delete(t),jg(i)}else await Vm(i.localStore,t,!1).then(()=>Lm(i,t,n)).catch(bl)}async function pC(r,t){const n=Rt(r),i=t.batch.batchId;try{const l=await Rx(n.localStore,t);JT(n,i,null),ZT(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await lu(n,l)}catch(l){await bl(l)}}async function yC(r,t,n){const i=Rt(r);try{const l=await function(h,m){const p=Rt(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next(T=>(Xt(T!==null),v=T.keys(),p.mutationQueue.removeMutationBatch(g,T))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>p.localDocuments.getDocuments(g,v))})}(i.localStore,t);JT(i,t,n),ZT(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await lu(i,l)}catch(l){await bl(l)}}function ZT(r,t){(r.Ga.get(t)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(t)}function JT(r,t,n){const i=Rt(r);let l=i.Wa[i.currentUser.toKey()];if(l){const u=l.get(t);u&&(n?u.reject(n):u.resolve(),l=l.remove(t)),i.Wa[i.currentUser.toKey()]=l}}function Lm(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const i of r.qa.get(t))r.ka.delete(i),n&&r.La.Ja(i,n);r.qa.delete(t),r.isPrimaryClient&&r.Ka.br(t).forEach(i=>{r.Ka.containsKey(i)||tb(r,i)})}function tb(r,t){r.Qa.delete(t.path.canonicalString());const n=r.$a.get(t);n!==null&&(Dg(r.remoteStore,n),r.$a=r.$a.remove(t),r.Ua.delete(n),jg(r))}function N0(r,t,n){for(const i of n)i instanceof KT?(r.Ka.addReference(i.key,t),vC(r,i)):i instanceof $T?(ft(Lg,"Document no longer in limbo: "+i.key),r.Ka.removeReference(i.key,t),r.Ka.containsKey(i.key)||tb(r,i.key)):wt()}function vC(r,t){const n=t.key,i=n.path.canonicalString();r.$a.get(n)||r.Qa.has(i)||(ft(Lg,"New document in limbo: "+n),r.Qa.add(i),jg(r))}function jg(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const t=r.Qa.values().next().value;r.Qa.delete(t);const n=new vt(ce.fromString(t)),i=r.za.next();r.Ua.set(i,new lC(n)),r.$a=r.$a.insert(n,i),qT(r.remoteStore,new Ja(kr(Tf(n.path)),i,"TargetPurposeLimboResolution",vf.ae))}}async function lu(r,t,n){const i=Rt(r),l=[],u=[],h=[];i.ka.isEmpty()||(i.ka.forEach((m,p)=>{h.push(i.Ha(p,t,n).then(g=>{var v;if((g||n)&&i.isPrimaryClient){const T=g?!g.fromCache:(v=n==null?void 0:n.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){l.push(g);const T=Ag.Yi(p.targetId,g);u.push(T)}}))}),await Promise.all(h),i.La.p_(l),await async function(p,g){const v=Rt(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>et.forEach(g,b=>et.forEach(b.Hi,R=>v.persistence.referenceDelegate.addReference(T,b.targetId,R)).next(()=>et.forEach(b.Ji,R=>v.persistence.referenceDelegate.removeReference(T,b.targetId,R)))))}catch(T){if(!wl(T))throw T;ft(Rg,"Failed to update sequence numbers: "+T)}for(const T of g){const b=T.targetId;if(!T.fromCache){const R=v.Ts.get(b),D=R.snapshotVersion,k=R.withLastLimboFreeSnapshotVersion(D);v.Ts=v.Ts.insert(b,k)}}}(i.localStore,u))}async function _C(r,t){const n=Rt(r);if(!n.currentUser.isEqual(t)){ft(Lg,"User change. New user:",t.toKey());const i=await jT(n.localStore,t);n.currentUser=t,function(u,h){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new ht(nt.CANCELLED,h))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await lu(n,i.Rs)}}function EC(r,t){const n=Rt(r),i=n.Ua.get(t);if(i&&i.Ba)return jt().add(i.key);{let l=jt();const u=n.qa.get(t);if(!u)return l;for(const h of u){const m=n.ka.get(h);l=l.unionWith(m.view.Sa)}return l}}function eb(r){const t=Rt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=WT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=EC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=gC.bind(null,t),t.La.p_=rC.bind(null,t.eventManager),t.La.Ja=aC.bind(null,t.eventManager),t}function TC(r){const t=Rt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=pC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=yC.bind(null,t),t}class ff{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Df(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,n){return null}nu(t,n){return null}eu(t){return Ax(this.persistence,new bx,t.initialUser,this.serializer)}Xa(t){return new LT(Sg.ri,this.serializer)}Za(t){return new Nx}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ff.provider={build:()=>new ff};class bC extends ff{constructor(t){super(),this.cacheSizeBytes=t}tu(t,n){Xt(this.persistence.referenceDelegate instanceof uf);const i=this.persistence.referenceDelegate.garbageCollector;return new lx(i,t.asyncQueue,n)}Xa(t){const n=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new LT(i=>uf.ri(i,n),this.serializer)}}class jm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>I0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=_C.bind(null,this.syncEngine),await tC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new nC}()}createDatastore(t){const n=Df(t.databaseInfo.databaseId),i=function(u){return new Lx(u)}(t.databaseInfo);return function(u,h,m,p){return new Bx(u,h,m,p)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,l,u,h,m){return new Hx(i,l,u,h,m)}(this.localStore,this.datastore,t.asyncQueue,n=>I0(this.syncEngine,n,0),function(){return A0.D()?new A0:new Mx}())}createSyncEngine(t,n){return function(l,u,h,m,p,g,v){const T=new oC(l,u,h,m,p,g);return v&&(T.ja=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(l){const u=Rt(l);ft(ns,"RemoteStore shutting down."),u.W_.add(5),await su(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}jm.provider={build:()=>new jm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):va("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci="FirestoreClient";class wC{constructor(t,n,i,l,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=l,this.user=cn.UNAUTHENTICATED,this.clientId=XE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(i,async h=>{ft(ci,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(i,h=>(ft(ci,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ga;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=Ng(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function rm(r,t){r.asyncQueue.verifyOperationInProgress(),ft(ci,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let i=n.initialUser;r.setCredentialChangeListener(async l=>{i.isEqual(l)||(await jT(t.localStore,l),i=l)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function M0(r,t){r.asyncQueue.verifyOperationInProgress();const n=await SC(r);ft(ci,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(i=>D0(t.remoteStore,i)),r.setAppCheckTokenChangeListener((i,l)=>D0(t.remoteStore,l)),r._onlineComponents=t}async function SC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ft(ci,"Using user provided OfflineComponentProvider");try{await rm(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(l){return l.name==="FirebaseError"?l.code===nt.FAILED_PRECONDITION||l.code===nt.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(n))throw n;fl("Error using user provided cache. Falling back to memory cache: "+n),await rm(r,new ff)}}else ft(ci,"Using default OfflineComponentProvider"),await rm(r,new bC(void 0));return r._offlineComponents}async function nb(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ft(ci,"Using user provided OnlineComponentProvider"),await M0(r,r._uninitializedComponentsProvider._online)):(ft(ci,"Using default OnlineComponentProvider"),await M0(r,new jm))),r._onlineComponents}function AC(r){return nb(r).then(t=>t.syncEngine)}async function hf(r){const t=await nb(r),n=t.eventManager;return n.onListen=uC.bind(null,t.syncEngine),n.onUnlisten=hC.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=cC.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=dC.bind(null,t.syncEngine),n}function RC(r,t,n={}){const i=new ga;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const v=new Ug({next:b=>{v.su(),h.enqueueAndForget(()=>Vg(u,T));const R=b.docs.has(m);!R&&b.fromCache?g.reject(new ht(nt.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&b.fromCache&&p&&p.source==="server"?g.reject(new ht(nt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),T=new kg(Tf(m.path),v,{includeMetadataChanges:!0,Ta:!0});return Mg(u,T)}(await hf(r),r.asyncQueue,t,n,i)),i.promise}function DC(r,t,n={}){const i=new ga;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const v=new Ug({next:b=>{v.su(),h.enqueueAndForget(()=>Vg(u,T)),b.fromCache&&p.source==="server"?g.reject(new ht(nt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(b)},error:b=>g.reject(b)}),T=new kg(m,v,{includeMetadataChanges:!0,Ta:!0});return Mg(u,T)}(await hf(r),r.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(r,t,n){if(!n)throw new ht(nt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function xC(r,t,n,i){if(t===!0&&i===!0)throw new ht(nt.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function P0(r){if(!vt.isDocumentKey(r))throw new ht(nt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function k0(r){if(vt.isDocumentKey(r))throw new ht(nt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Of(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":wt()}function Sn(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ht(nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Of(r);throw new ht(nt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="firestore.googleapis.com",L0=!0;class j0{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new ht(nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ib,this.ssl=L0}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:L0;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=kT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<ix)throw new ht(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}xC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rb((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ht(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ht(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ht(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,l){return i.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class If{constructor(t,n,i,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new j0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ht(nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new j0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new kR;switch(i.type){case"firstParty":return new zR(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ht(nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=V0.get(n);i&&(ft("ComponentProvider","Removing Datastore"),V0.delete(n),i.terminate())}(this),Promise.resolve()}}function CC(r,t,n,i={}){var l;const u=(r=Sn(r,If))._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),m=`${t}:${n}`;u.host!==ib&&u.host!==m&&fl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:i});if(!Wc(p,h)&&(r._setSettings(p),i.mockUserToken)){let g,v;if(typeof i.mockUserToken=="string")g=i.mockUserToken,v=cn.MOCK_USER;else{g=d1(i.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new ht(nt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new cn(T)}r._authCredentials=new LR(new KE(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new ss(this.firestore,t,this._query)}}class hn{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ri(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new hn(this.firestore,t,this._key)}}class ri extends ss{constructor(t,n,i){super(t,n,Tf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new hn(this.firestore,null,new vt(t))}withConverter(t){return new ri(this.firestore,t,this._path)}}function vn(r,t,...n){if(r=jr(r),ab("collection","path",t),r instanceof If){const i=ce.fromString(t,...n);return k0(i),new ri(r,null,i)}{if(!(r instanceof hn||r instanceof ri))throw new ht(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(ce.fromString(t,...n));return k0(i),new ri(r.firestore,null,i)}}function tr(r,t,...n){if(r=jr(r),arguments.length===1&&(t=XE.newId()),ab("doc","path",t),r instanceof If){const i=ce.fromString(t,...n);return P0(i),new hn(r,null,new vt(i))}{if(!(r instanceof hn||r instanceof ri))throw new ht(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(ce.fromString(t,...n));return P0(i),new hn(r.firestore,r instanceof ri?r.converter:null,new vt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="AsyncQueue";class z0{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new zT(this,"async_queue_retry"),this.Su=()=>{const i=nm();i&&ft(U0,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=t;const n=nm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const n=nm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const n=new ga;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!wl(t))throw t;ft(U0,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const n=this.bu.then(()=>(this.pu=!0,t().catch(i=>{this.gu=i,this.pu=!1;const l=function(h){let m=h.message||"";return h.stack&&(m=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),m}(i);throw va("INTERNAL UNHANDLED ERROR: ",l),i}).then(i=>(this.pu=!1,i))));return this.bu=n,n}enqueueAfterDelay(t,n,i){this.Du(),this.wu.indexOf(t)>-1&&(n=0);const l=Ig.createAndSchedule(this,t,n,i,u=>this.Fu(u));return this.fu.push(l),l}Du(){this.gu&&wt()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const n of this.fu)if(n.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const n=this.fu.indexOf(t);this.fu.splice(n,1)}}function B0(r){return function(n,i){if(typeof n!="object"||n===null)return!1;const l=n;for(const u of i)if(u in l&&typeof l[u]=="function")return!0;return!1}(r,["next","error","complete"])}class Ea extends If{constructor(t,n,i,l){super(t,n,i,l),this.type="firestore",this._queue=new z0,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new z0(t),this._firestoreClient=void 0,await t}}}function OC(r,t){const n=typeof r=="object"?r:wR(),i=typeof r=="string"?r:ef,l=vR(n,"firestore").getImmediate({identifier:i});if(!l._initialized){const u=f1("firestore");u&&CC(l,...u)}return l}function Nf(r){if(r._terminated)throw new ht(nt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||IC(r),r._firestoreClient}function IC(r){var t,n,i;const l=r._freezeSettings(),u=function(m,p,g,v){return new eD(m,p,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,rb(v.experimentalLongPollingOptions),v.useFetchStreams)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((n=l.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=l.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new wC(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(t){this._byteString=t}static fromBase64String(t){try{return new yl(sn.fromBase64String(t))}catch(n){throw new ht(nt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new yl(sn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ht(nt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ht(nt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ht(nt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Mt(this._lat,t._lat)||Mt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,l){if(i.length!==l.length)return!1;for(let u=0;u<i.length;++u)if(i[u]!==l[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=/^__.*__$/;class MC{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new di(t,this.data,this.fieldMask,n,this.fieldTransforms):new au(t,this.data,n,this.fieldTransforms)}}class sb{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return new di(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function lb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wt()}}class Hg{constructor(t,n,i,l,u,h){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=l,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new Hg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.ku({path:i,Qu:!1});return l.$u(t),l}Uu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.ku({path:i,Qu:!1});return l.Bu(),l}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return df(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(lb(this.Lu)&&NC.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class VC{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||Df(t)}ju(t,n,i,l=!1){return new Hg({Lu:t,methodName:n,zu:i,path:rn.emptyPath(),Qu:!1,Gu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vf(r){const t=r._freezeSettings(),n=Df(r._databaseId);return new VC(r._databaseId,!!t.ignoreUndefinedProperties,n)}function ob(r,t,n,i,l,u={}){const h=r.ju(u.merge||u.mergeFields?2:0,t,n,l);Fg("Data must be an object, but it was:",h,i);const m=ub(i,h);let p,g;if(u.merge)p=new Pn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const v=[];for(const T of u.mergeFields){const b=Um(t,T,n);if(!h.contains(b))throw new ht(nt.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);fb(v,b)||v.push(b)}p=new Pn(v),g=h.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,g=h.fieldTransforms;return new MC(new wn(m),p,g)}class Pf extends zg{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Pf}}function PC(r,t,n,i){const l=r.ju(1,t,n);Fg("Data must be an object, but it was:",l,i);const u=[],h=wn.empty();hi(i,(p,g)=>{const v=Yg(t,p,n);g=jr(g);const T=l.Uu(v);if(g instanceof Pf)u.push(v);else{const b=ou(g,T);b!=null&&(u.push(v),h.set(v,b))}});const m=new Pn(u);return new sb(h,m,l.fieldTransforms)}function kC(r,t,n,i,l,u){const h=r.ju(1,t,n),m=[Um(t,i,n)],p=[l];if(u.length%2!=0)throw new ht(nt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)m.push(Um(t,u[b])),p.push(u[b+1]);const g=[],v=wn.empty();for(let b=m.length-1;b>=0;--b)if(!fb(g,m[b])){const R=m[b];let D=p[b];D=jr(D);const k=h.Uu(R);if(D instanceof Pf)g.push(R);else{const P=ou(D,k);P!=null&&(g.push(R),v.set(R,P))}}const T=new Pn(g);return new sb(v,T,h.fieldTransforms)}function LC(r,t,n,i=!1){return ou(n,r.ju(i?4:3,t))}function ou(r,t){if(cb(r=jr(r)))return Fg("Unsupported field value:",t,r),ub(r,t);if(r instanceof zg)return function(i,l){if(!lb(l.Lu))throw l.Wu(`${i._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Wu(`${i._methodName}() is not currently supported inside arrays`);const u=i._toFieldTransform(l);u&&l.fieldTransforms.push(u)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(i,l){const u=[];let h=0;for(const m of i){let p=ou(m,l.Ku(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(r,t)}return function(i,l){if((i=jr(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return SD(l.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const u=Le.fromDate(i);return{timestampValue:of(l.serializer,u)}}if(i instanceof Le){const u=new Le(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:of(l.serializer,u)}}if(i instanceof Bg)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof yl)return{bytesValue:CT(l.serializer,i._byteString)};if(i instanceof hn){const u=l.databaseId,h=i.firestore._databaseId;if(!h.isEqual(u))throw l.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:bg(i.firestore._databaseId||l.databaseId,i._key.path)}}if(i instanceof qg)return function(h,m){return{mapValue:{fields:{[aT]:{stringValue:iT},[nf]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw m.Wu("VectorValues must only contain numeric values.");return vg(m.serializer,g)})}}}}}}(i,l);throw l.Wu(`Unsupported field value: ${Of(i)}`)}(r,t)}function ub(r,t){const n={};return ZE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):hi(r,(i,l)=>{const u=ou(l,t.qu(i));u!=null&&(n[i]=u)}),{mapValue:{fields:n}}}function cb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Le||r instanceof Bg||r instanceof yl||r instanceof hn||r instanceof zg||r instanceof qg)}function Fg(r,t,n){if(!cb(n)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(n)){const i=Of(n);throw i==="an object"?t.Wu(r+" a custom object"):t.Wu(r+" "+i)}}function Um(r,t,n){if((t=jr(t))instanceof Mf)return t._internalPath;if(typeof t=="string")return Yg(r,t);throw df("Field path arguments must be of type string or ",r,!1,void 0,n)}const jC=new RegExp("[~\\*/\\[\\]]");function Yg(r,t,n){if(t.search(jC)>=0)throw df(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Mf(...t.split("."))._internalPath}catch{throw df(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function df(r,t,n,i,l){const u=i&&!i.isEmpty(),h=l!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${i}`),h&&(p+=` in document ${l}`),p+=")"),new ht(nt.INVALID_ARGUMENT,m+r+p)}function fb(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(t,n,i,l,u){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new UC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Gg("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class UC extends hb{data(){return super.data()}}function Gg(r,t){return typeof t=="string"?Yg(r,t):t instanceof Mf?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function db(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ht(nt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qg{}class zC extends Qg{}function BC(r,t,...n){let i=[];t instanceof Qg&&i.push(t),i=i.concat(n),function(u){const h=u.filter(p=>p instanceof Kg).length,m=u.filter(p=>p instanceof kf).length;if(h>1||h>0&&m>0)throw new ht(nt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const l of i)r=l._apply(r);return r}class kf extends zC{constructor(t,n,i){super(),this._field=t,this._op=n,this._value=i,this.type="where"}static _create(t,n,i){return new kf(t,n,i)}_apply(t){const n=this._parse(t);return mb(t._query,n),new ss(t.firestore,t.converter,xm(t._query,n))}_parse(t){const n=Vf(t.firestore);return function(u,h,m,p,g,v,T){let b;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ht(nt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){H0(T,v);const D=[];for(const k of T)D.push(q0(p,u,k));b={arrayValue:{values:D}}}else b=q0(p,u,T)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||H0(T,v),b=LC(m,h,T,v==="in"||v==="not-in");return Ie.create(g,v,b)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function qC(r,t,n){const i=t,l=Gg("where",r);return kf._create(l,i,n)}class Kg extends Qg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Kg(t,n)}_parse(t){const n=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:dr.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(l,u){let h=l;const m=u.getFlattenedFilters();for(const p of m)mb(h,p),h=xm(h,p)}(t._query,n),new ss(t.firestore,t.converter,xm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function q0(r,t,n){if(typeof(n=jr(n))=="string"){if(n==="")throw new ht(nt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dT(t)&&n.indexOf("/")!==-1)throw new ht(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(ce.fromString(n));if(!vt.isDocumentKey(i))throw new ht(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return r0(r,new vt(i))}if(n instanceof hn)return r0(r,n._key);throw new ht(nt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Of(n)}.`)}function H0(r,t){if(!Array.isArray(r)||r.length===0)throw new ht(nt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function mb(r,t){const n=function(l,u){for(const h of l)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new ht(nt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ht(nt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class HC{convertValue(t,n="none"){switch(oi(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Se(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(li(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw wt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return hi(t,(l,u)=>{i[l]=this.convertValue(u,n)}),i}convertVectorValue(t){var n,i,l;const u=(l=(i=(n=t.fields)===null||n===void 0?void 0:n[nf].arrayValue)===null||i===void 0?void 0:i.values)===null||l===void 0?void 0:l.map(h=>Se(h.doubleValue));return new qg(u)}convertGeoPoint(t){return new Bg(Se(t.latitude),Se(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=Ef(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Qo(t));default:return null}}convertTimestamp(t){const n=si(t);return new Le(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=ce.fromString(t);Xt(PT(i));const l=new Ko(i.get(1),i.get(3)),u=new vt(i.popFirst(5));return l.isEqual(n)||va(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(r,t,n){let i;return i=r?n&&(n.merge||n.mergeFields)?r.toFirestore(t,n):r.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class pb extends hb{constructor(t,n,i,l,u,h){super(t,n,i,l,h),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(Gg("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Qc extends pb{data(t={}){return super.data(t)}}class yb{constructor(t,n,i,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new ko(l.hasPendingWrites,l.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new Qc(this._firestore,this._userDataWriter,i.key,i,new ko(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ht(nt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,u){if(l._snapshot.oldDocs.isEmpty()){let h=0;return l._snapshot.docChanges.map(m=>{const p=new Qc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new ko(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new Qc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new ko(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);let g=-1,v=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),v=h.indexOf(m.doc.key)),{type:FC(m.type),doc:p,oldIndex:g,newIndex:v}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function FC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $g(r){r=Sn(r,hn);const t=Sn(r.firestore,Ea);return RC(Nf(t),r._key).then(n=>Eb(t,r,n))}class Xg extends HC{constructor(t){super(),this.firestore=t}convertBytes(t){return new yl(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new hn(this.firestore,null,n)}}function ai(r){r=Sn(r,ss);const t=Sn(r.firestore,Ea),n=Nf(t),i=new Xg(t);return db(r._query),DC(n,r._query).then(l=>new yb(t,i,r,l))}function YC(r,t,n){r=Sn(r,hn);const i=Sn(r.firestore,Ea),l=gb(r.converter,t,n);return Lf(i,[ob(Vf(i),"setDoc",r._key,l,r.converter!==null,n).toMutation(r._key,Jn.none())])}function vb(r,t,n,...i){r=Sn(r,hn);const l=Sn(r.firestore,Ea),u=Vf(l);let h;return h=typeof(t=jr(t))=="string"||t instanceof Mf?kC(u,"updateDoc",r._key,t,n,i):PC(u,"updateDoc",r._key,t),Lf(l,[h.toMutation(r._key,Jn.exists(!0))])}function GC(r){return Lf(Sn(r.firestore,Ea),[new _g(r._key,Jn.none())])}function _b(r,t){const n=Sn(r.firestore,Ea),i=tr(r),l=gb(r.converter,t);return Lf(n,[ob(Vf(r.firestore),"addDoc",i._key,l,r.converter!==null,{}).toMutation(i._key,Jn.exists(!1))]).then(()=>i)}function da(r,...t){var n,i,l;r=jr(r);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof t[h]!="object"||B0(t[h])||(u=t[h],h++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(B0(t[h])){const T=t[h];t[h]=(n=T.next)===null||n===void 0?void 0:n.bind(T),t[h+1]=(i=T.error)===null||i===void 0?void 0:i.bind(T),t[h+2]=(l=T.complete)===null||l===void 0?void 0:l.bind(T)}let p,g,v;if(r instanceof hn)g=Sn(r.firestore,Ea),v=Tf(r._key.path),p={next:T=>{t[h]&&t[h](Eb(g,r,T))},error:t[h+1],complete:t[h+2]};else{const T=Sn(r,ss);g=Sn(T.firestore,Ea),v=T._query;const b=new Xg(g);p={next:R=>{t[h]&&t[h](new yb(g,b,T,R))},error:t[h+1],complete:t[h+2]},db(r._query)}return function(b,R,D,k){const P=new Ug(k),F=new kg(R,P,D);return b.asyncQueue.enqueueAndForget(async()=>Mg(await hf(b),F)),()=>{P.su(),b.asyncQueue.enqueueAndForget(async()=>Vg(await hf(b),F))}}(Nf(g),v,m,p)}function Lf(r,t){return function(i,l){const u=new ga;return i.asyncQueue.enqueueAndForget(async()=>mC(await AC(i),l,u)),u.promise}(Nf(r),t)}function Eb(r,t,n){const i=n.docs.get(t._key),l=new Xg(r);return new pb(r,l,t._key,i,new ko(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(l){Tl=l})(bR),Jc(new Fo("firestore",(i,{instanceIdentifier:l,options:u})=>{const h=i.getProvider("app").getImmediate(),m=new Ea(new jR(i.getProvider("auth-internal")),new BR(h,i.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ht(nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ko(g.options.projectId,v)}(h,l),h);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),ul(Y_,G_,t),ul(Y_,G_,"esm2017")})();const QC={apiKey:"AIzaSyA…",authDomain:"myattendanceproject-45c1b.firebaseapp.com",projectId:"myattendanceproject-45c1b",storageBucket:"myattendanceproject-45c1b.appspot.com",messagingSenderId:"347137303283",appId:"1:347137303283:web:9369753f976dffcf65cd86"},KC=UE(QC),oe=OC(KC);function $C({onLoginSuccess:r}){const[t,n]=z.useState(""),[i,l]=z.useState(""),[u,h]=z.useState(""),[m,p]=z.useState(!0),g=ag();z.useEffect(()=>{const T=localStorage.getItem("lastBirthId"),b=localStorage.getItem("lastPin");T&&n(T),b&&l(b)},[]);const v=async()=>{if(h(""),t.trim().length!==6||i.trim().length!==4){h("생년월일 6자리와 전화번호 뒤 4자리를 입력해주세요.");return}try{const T=BC(vn(oe,"students"),qC("birth",">=","")),R=(await ai(T)).docs.find(D=>{var ct,it;const k=D.data(),P=(ct=k.birth)==null?void 0:ct.replace(/[^0-9]/g,""),F=(it=k.parentPhone)==null?void 0:it.replace(/[^0-9]/g,""),rt=(P==null?void 0:P.slice(-6))===t.trim(),ut=(F?F.slice(-4):null)===i.trim();return rt&&ut});if(R){const D=R.data(),k=R.id;localStorage.setItem("studentId",k),localStorage.setItem("studentName",D.name),m?(localStorage.setItem("lastBirthId",t),localStorage.setItem("lastPin",i)):(localStorage.removeItem("lastBirthId"),localStorage.removeItem("lastPin")),await _b(vn(oe,"parentLogins"),{studentName:D.name,loginTime:new Date().toISOString()}),r&&r(),g("/attendance")}else h("아이디 또는 비밀번호가 일치하지 않습니다.")}catch{h("로그인 중 오류가 발생했습니다.")}};return x.jsxs("div",{className:"container",style:{textAlign:"center"},children:[x.jsx("h1",{style:{fontSize:"24px"},children:"학부모 로그인"}),x.jsx("input",{style:{width:"100%",padding:8,margin:"8px 0"},value:t,onChange:T=>{const b=T.target.value.replace(/\D/g,"");n(b),m&&localStorage.setItem("lastBirthId",b)},placeholder:"자녀 생년월일 6자리 (예: 170806)",maxLength:6}),x.jsx("input",{style:{width:"100%",padding:8,margin:"8px 0"},value:i,onChange:T=>{const b=T.target.value.replace(/\D/g,"");l(b),m&&localStorage.setItem("lastPin",b)},placeholder:"전화번호 뒤 4자리",maxLength:4,type:"password"}),x.jsx("div",{style:{margin:"8px 0",textAlign:"left"},children:x.jsxs("label",{children:[x.jsx("input",{type:"checkbox",checked:m,onChange:T=>p(T.target.checked),style:{marginRight:8}}),"자동입력 기억하기"]})}),x.jsx("button",{style:{width:"100%",padding:8,margin:"8px 0"},onClick:v,children:"로그인"}),u&&x.jsx("p",{style:{color:"red"},children:u})]})}function Tb(r){var t,n,i="";if(typeof r=="string"||typeof r=="number")i+=r;else if(typeof r=="object")if(Array.isArray(r)){var l=r.length;for(t=0;t<l;t++)r[t]&&(n=Tb(r[t]))&&(i&&(i+=" "),i+=n)}else for(n in r)r[n]&&(i&&(i+=" "),i+=n);return i}function jf(){for(var r,t,n=0,i="",l=arguments.length;n<l;n++)(r=arguments[n])&&(t=Tb(r))&&(i&&(i+=" "),i+=t);return i}var am,F0;function XC(){if(F0)return am;F0=1;const r=(p,g,v,T)=>{if(v==="length"||v==="prototype"||v==="arguments"||v==="caller")return;const b=Object.getOwnPropertyDescriptor(p,v),R=Object.getOwnPropertyDescriptor(g,v);!t(b,R)&&T||Object.defineProperty(p,v,R)},t=function(p,g){return p===void 0||p.configurable||p.writable===g.writable&&p.enumerable===g.enumerable&&p.configurable===g.configurable&&(p.writable||p.value===g.value)},n=(p,g)=>{const v=Object.getPrototypeOf(g);v!==Object.getPrototypeOf(p)&&Object.setPrototypeOf(p,v)},i=(p,g)=>`/* Wrapped ${p}*/
${g}`,l=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),u=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),h=(p,g,v)=>{const T=v===""?"":`with ${v.trim()}() `,b=i.bind(null,T,g.toString());Object.defineProperty(b,"name",u),Object.defineProperty(p,"toString",{...l,value:b})};return am=(p,g,{ignoreNonConfigurable:v=!1}={})=>{const{name:T}=p;for(const b of Reflect.ownKeys(g))r(p,g,b,v);return n(p,g),h(p,g,T),p},am}var Lo={exports:{}},im,Y0;function WC(){return Y0||(Y0=1,im=()=>{const r={};return r.promise=new Promise((t,n)=>{r.resolve=t,r.reject=n}),r}),im}var Lc=Lo.exports,G0;function ZC(){return G0||(G0=1,function(r,t){var n=Lc&&Lc.__awaiter||function(h,m,p,g){return new(p||(p=Promise))(function(v,T){function b(k){try{D(g.next(k))}catch(P){T(P)}}function R(k){try{D(g.throw(k))}catch(P){T(P)}}function D(k){k.done?v(k.value):new p(function(P){P(k.value)}).then(b,R)}D((g=g.apply(h,m||[])).next())})},i=Lc&&Lc.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(t,"__esModule",{value:!0});const l=i(WC());function u(h,m="maxAge"){let p,g,v;const T=()=>n(this,void 0,void 0,function*(){if(p!==void 0)return;const D=k=>n(this,void 0,void 0,function*(){v=l.default();const P=k[1][m]-Date.now();if(P<=0){h.delete(k[0]),v.resolve();return}return p=k[0],g=setTimeout(()=>{h.delete(k[0]),v&&v.resolve()},P),typeof g.unref=="function"&&g.unref(),v.promise});try{for(const k of h)yield D(k)}catch{}p=void 0}),b=()=>{p=void 0,g!==void 0&&(clearTimeout(g),g=void 0),v!==void 0&&(v.reject(void 0),v=void 0)},R=h.set.bind(h);return h.set=(D,k)=>{h.has(D)&&h.delete(D);const P=R(D,k);return p&&p===D&&b(),T(),P},T(),h}t.default=u,r.exports=u,r.exports.default=u}(Lo,Lo.exports)),Lo.exports}var sm,Q0;function JC(){if(Q0)return sm;Q0=1;const r=XC(),t=ZC(),n=new WeakMap,i=new WeakMap,l=(u,{cacheKey:h,cache:m=new Map,maxAge:p}={})=>{typeof p=="number"&&t(m);const g=function(...v){const T=h?h(v):v[0],b=m.get(T);if(b)return b.data;const R=u.apply(this,v);return m.set(T,{data:R,maxAge:p?Date.now()+p:Number.POSITIVE_INFINITY}),R};return r(g,u,{ignoreNonConfigurable:!0}),i.set(g,m),g};return l.decorator=(u={})=>(h,m,p)=>{const g=h[m];if(typeof g!="function")throw new TypeError("The decorated value must be a function");delete p.value,delete p.writable,p.get=function(){if(!n.has(this)){const v=l(g,u);return n.set(this,v),v}return n.get(this)}},l.clear=u=>{const h=i.get(u);if(!h)throw new TypeError("Can't clear a function that was not memoized!");if(typeof h.clear!="function")throw new TypeError("The cache Map can't be cleared!");h.clear()},sm=l,sm}var t2=JC();const bb=TS(t2);function e2(r){return typeof r=="string"}function n2(r,t,n){return n.indexOf(r)===t}function r2(r){return r.toLowerCase()===r}function K0(r){return r.indexOf(",")===-1?r:r.split(",")}function zm(r){if(!r)return r;if(r==="C"||r==="posix"||r==="POSIX")return"en-US";if(r.indexOf(".")!==-1){var t=r.split(".")[0],n=t===void 0?"":t;return zm(n)}if(r.indexOf("@")!==-1){var i=r.split("@")[0],n=i===void 0?"":i;return zm(n)}if(r.indexOf("-")===-1||!r2(r))return r;var l=r.split("-"),u=l[0],h=l[1],m=h===void 0?"":h;return"".concat(u,"-").concat(m.toUpperCase())}function a2(r){var t=r===void 0?{}:r,n=t.useFallbackLocale,i=n===void 0?!0:n,l=t.fallbackLocale,u=l===void 0?"en-US":l,h=[];if(typeof navigator<"u"){for(var m=navigator.languages||[],p=[],g=0,v=m;g<v.length;g++){var T=v[g];p=p.concat(K0(T))}var b=navigator.language,R=b&&K0(b);h=h.concat(p,R)}return i&&h.push(u),h.filter(e2).map(zm).filter(n2)}var i2=bb(a2,{cacheKey:JSON.stringify});function s2(r){return i2(r)[0]||null}var wb=bb(s2,{cacheKey:JSON.stringify});function ba(r,t,n){return function(l,u){u===void 0&&(u=n);var h=r(l)+u;return t(h)}}function uu(r){return function(n){return new Date(r(n).getTime()-1)}}function cu(r,t){return function(i){return[r(i),t(i)]}}function pe(r){if(r instanceof Date)return r.getFullYear();if(typeof r=="number")return r;var t=parseInt(r,10);if(typeof r=="string"&&!isNaN(t))return t;throw new Error("Failed to get year from date: ".concat(r,"."))}function mi(r){if(r instanceof Date)return r.getMonth();throw new Error("Failed to get month from date: ".concat(r,"."))}function Uf(r){if(r instanceof Date)return r.getDate();throw new Error("Failed to get year from date: ".concat(r,"."))}function Al(r){var t=pe(r),n=t+(-t+1)%100,i=new Date;return i.setFullYear(n,0,1),i.setHours(0,0,0,0),i}var l2=ba(pe,Al,-100),Sb=ba(pe,Al,100),Wg=uu(Sb),o2=ba(pe,Wg,-100),Ab=cu(Al,Wg);function gi(r){var t=pe(r),n=t+(-t+1)%10,i=new Date;return i.setFullYear(n,0,1),i.setHours(0,0,0,0),i}var Rb=ba(pe,gi,-10),Zg=ba(pe,gi,10),zf=uu(Zg),Db=ba(pe,zf,-10),xb=cu(gi,zf);function Rl(r){var t=pe(r),n=new Date;return n.setFullYear(t,0,1),n.setHours(0,0,0,0),n}var Cb=ba(pe,Rl,-1),Jg=ba(pe,Rl,1),Bf=uu(Jg),Ob=ba(pe,Bf,-1),u2=cu(Rl,Bf);function tp(r,t){return function(i,l){l===void 0&&(l=t);var u=pe(i),h=mi(i)+l,m=new Date;return m.setFullYear(u,h,1),m.setHours(0,0,0,0),r(m)}}function ls(r){var t=pe(r),n=mi(r),i=new Date;return i.setFullYear(t,n,1),i.setHours(0,0,0,0),i}var Ib=tp(ls,-1),ep=tp(ls,1),fu=uu(ep),Nb=tp(fu,-1),c2=cu(ls,fu);function f2(r,t){return function(i,l){l===void 0&&(l=t);var u=pe(i),h=mi(i),m=Uf(i)+l,p=new Date;return p.setFullYear(u,h,m),p.setHours(0,0,0,0),r(p)}}function hu(r){var t=pe(r),n=mi(r),i=Uf(r),l=new Date;return l.setFullYear(t,n,i),l.setHours(0,0,0,0),l}var h2=f2(hu,1),np=uu(h2),d2=cu(hu,np);function Mb(r){return Uf(fu(r))}var an={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},m2={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},rp=[0,1,2,3,4,5,6],lm=new Map;function g2(r){return function(n,i){var l=n||wb();lm.has(l)||lm.set(l,new Map);var u=lm.get(l);return u.has(r)||u.set(r,new Intl.DateTimeFormat(l||void 0,r).format),u.get(r)(i)}}function p2(r){var t=new Date(r);return new Date(t.setHours(12))}function os(r){return function(t,n){return g2(r)(t,p2(n))}}var y2={day:"numeric"},v2={day:"numeric",month:"long",year:"numeric"},_2={month:"long"},E2={month:"long",year:"numeric"},T2={weekday:"short"},b2={weekday:"long"},w2={year:"numeric"},S2=os(y2),A2=os(v2),R2=os(_2),Vb=os(E2),D2=os(T2),x2=os(b2),qf=os(w2),C2=rp[0],O2=rp[5],$0=rp[6];function Zo(r,t){t===void 0&&(t=an.ISO_8601);var n=r.getDay();switch(t){case an.ISO_8601:return(n+6)%7;case an.ISLAMIC:return(n+1)%7;case an.HEBREW:case an.GREGORY:return n;default:throw new Error("Unsupported calendar type.")}}function I2(r){var t=Al(r);return pe(t)}function N2(r){var t=gi(r);return pe(t)}function Bm(r,t){t===void 0&&(t=an.ISO_8601);var n=pe(r),i=mi(r),l=r.getDate()-Zo(r,t);return new Date(n,i,l)}function M2(r,t){t===void 0&&(t=an.ISO_8601);var n=t===an.GREGORY?an.GREGORY:an.ISO_8601,i=Bm(r,t),l=pe(r)+1,u,h;do u=new Date(l,0,n===an.ISO_8601?4:1),h=Bm(u,t),l-=1;while(r<h);return Math.round((i.getTime()-h.getTime())/(864e5*7))+1}function ts(r,t){switch(r){case"century":return Al(t);case"decade":return gi(t);case"year":return Rl(t);case"month":return ls(t);case"day":return hu(t);default:throw new Error("Invalid rangeType: ".concat(r))}}function V2(r,t){switch(r){case"century":return l2(t);case"decade":return Rb(t);case"year":return Cb(t);case"month":return Ib(t);default:throw new Error("Invalid rangeType: ".concat(r))}}function Pb(r,t){switch(r){case"century":return Sb(t);case"decade":return Zg(t);case"year":return Jg(t);case"month":return ep(t);default:throw new Error("Invalid rangeType: ".concat(r))}}function P2(r,t){switch(r){case"decade":return Rb(t,-100);case"year":return Cb(t,-10);case"month":return Ib(t,-12);default:throw new Error("Invalid rangeType: ".concat(r))}}function k2(r,t){switch(r){case"decade":return Zg(t,100);case"year":return Jg(t,10);case"month":return ep(t,12);default:throw new Error("Invalid rangeType: ".concat(r))}}function kb(r,t){switch(r){case"century":return Wg(t);case"decade":return zf(t);case"year":return Bf(t);case"month":return fu(t);case"day":return np(t);default:throw new Error("Invalid rangeType: ".concat(r))}}function L2(r,t){switch(r){case"century":return o2(t);case"decade":return Db(t);case"year":return Ob(t);case"month":return Nb(t);default:throw new Error("Invalid rangeType: ".concat(r))}}function j2(r,t){switch(r){case"decade":return Db(t,-100);case"year":return Ob(t,-10);case"month":return Nb(t,-12);default:throw new Error("Invalid rangeType: ".concat(r))}}function X0(r,t){switch(r){case"century":return Ab(t);case"decade":return xb(t);case"year":return u2(t);case"month":return c2(t);case"day":return d2(t);default:throw new Error("Invalid rangeType: ".concat(r))}}function U2(r,t,n){var i=[t,n].sort(function(l,u){return l.getTime()-u.getTime()});return[ts(r,i[0]),kb(r,i[1])]}function Lb(r,t,n){return n.map(function(i){return(t||qf)(r,i)}).join(" – ")}function z2(r,t,n){return Lb(r,t,Ab(n))}function jb(r,t,n){return Lb(r,t,xb(n))}function B2(r){return r.getDay()===new Date().getDay()}function Ub(r,t){t===void 0&&(t=an.ISO_8601);var n=r.getDay();switch(t){case an.ISLAMIC:case an.HEBREW:return n===O2||n===$0;case an.ISO_8601:case an.GREGORY:return n===$0||n===C2;default:throw new Error("Unsupported calendar type.")}}var Vr="react-calendar__navigation";function q2(r){var t=r.activeStartDate,n=r.drillUp,i=r.formatMonthYear,l=i===void 0?Vb:i,u=r.formatYear,h=u===void 0?qf:u,m=r.locale,p=r.maxDate,g=r.minDate,v=r.navigationAriaLabel,T=v===void 0?"":v,b=r.navigationAriaLive,R=r.navigationLabel,D=r.next2AriaLabel,k=D===void 0?"":D,P=r.next2Label,F=P===void 0?"»":P,rt=r.nextAriaLabel,Z=rt===void 0?"":rt,ut=r.nextLabel,ct=ut===void 0?"›":ut,it=r.prev2AriaLabel,M=it===void 0?"":it,A=r.prev2Label,C=A===void 0?"«":A,N=r.prevAriaLabel,j=N===void 0?"":N,U=r.prevLabel,O=U===void 0?"‹":U,mt=r.setActiveStartDate,Dt=r.showDoubleView,Q=r.view,st=r.views,gt=st.indexOf(Q)>0,xt=Q!=="century",V=V2(Q,t),J=xt?P2(Q,t):void 0,ot=Pb(Q,t),at=xt?k2(Q,t):void 0,pt=function(){if(V.getFullYear()<0)return!0;var ae=L2(Q,t);return g&&g>=ae}(),Ct=xt&&function(){if(J.getFullYear()<0)return!0;var ae=j2(Q,t);return g&&g>=ae}(),_t=p&&p<ot,fe=xt&&p&&p<at;function Ft(){mt(V,"prev")}function Ne(){mt(J,"prev2")}function kn(){mt(ot,"next")}function An(){mt(at,"next2")}function Ln(ae){var rr=function(){switch(Q){case"century":return z2(m,h,ae);case"decade":return jb(m,h,ae);case"year":return h(m,ae);case"month":return l(m,ae);default:throw new Error("Invalid view: ".concat(Q,"."))}}();return R?R({date:ae,label:rr,locale:m||wb()||void 0,view:Q}):rr}function nr(){var ae="".concat(Vr,"__label");return x.jsxs("button",{"aria-label":T,"aria-live":b,className:ae,disabled:!gt,onClick:n,style:{flexGrow:1},type:"button",children:[x.jsx("span",{className:"".concat(ae,"__labelText ").concat(ae,"__labelText--from"),children:Ln(t)}),Dt?x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"".concat(ae,"__divider"),children:" – "}),x.jsx("span",{className:"".concat(ae,"__labelText ").concat(ae,"__labelText--to"),children:Ln(ot)})]}):null]})}return x.jsxs("div",{className:Vr,children:[C!==null&&xt?x.jsx("button",{"aria-label":M,className:"".concat(Vr,"__arrow ").concat(Vr,"__prev2-button"),disabled:Ct,onClick:Ne,type:"button",children:C}):null,O!==null&&x.jsx("button",{"aria-label":j,className:"".concat(Vr,"__arrow ").concat(Vr,"__prev-button"),disabled:pt,onClick:Ft,type:"button",children:O}),nr(),ct!==null&&x.jsx("button",{"aria-label":Z,className:"".concat(Vr,"__arrow ").concat(Vr,"__next-button"),disabled:_t,onClick:kn,type:"button",children:ct}),F!==null&&xt?x.jsx("button",{"aria-label":k,className:"".concat(Vr,"__arrow ").concat(Vr,"__next2-button"),disabled:fe,onClick:An,type:"button",children:F}):null]})}var ll=function(){return ll=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},ll.apply(this,arguments)},H2=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]]);return n};function W0(r){return"".concat(r,"%")}function ap(r){var t=r.children,n=r.className,i=r.count,l=r.direction,u=r.offset,h=r.style,m=r.wrap,p=H2(r,["children","className","count","direction","offset","style","wrap"]);return x.jsx("div",ll({className:n,style:ll({display:"flex",flexDirection:l,flexWrap:m?"wrap":"nowrap"},h)},p,{children:z.Children.map(t,function(g,v){var T=u&&v===0?W0(100*u/i):null;return z.cloneElement(g,ll(ll({},g.props),{style:{flexBasis:W0(100/i),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:T,marginInlineStart:T,marginInlineEnd:0}}))})}))}function F2(r,t,n){return t&&t>r?t:n&&n<r?n:r}function Jo(r,t){return t[0]<=r&&t[1]>=r}function Y2(r,t){return r[0]<=t[0]&&r[1]>=t[1]}function zb(r,t){return Jo(r[0],t)||Jo(r[1],t)}function Z0(r,t,n){var i=zb(t,r),l=[];if(i){l.push(n);var u=Jo(r[0],t),h=Jo(r[1],t);u&&l.push("".concat(n,"Start")),h&&l.push("".concat(n,"End")),u&&h&&l.push("".concat(n,"BothEnds"))}return l}function G2(r){return Array.isArray(r)?r[0]!==null&&r[1]!==null:r!==null}function Q2(r){if(!r)throw new Error("args is required");var t=r.value,n=r.date,i=r.hover,l="react-calendar__tile",u=[l];if(!n)return u;var h=new Date,m=function(){if(Array.isArray(n))return n;var R=r.dateType;if(!R)throw new Error("dateType is required when date is not an array of two dates");return X0(R,n)}();if(Jo(h,m)&&u.push("".concat(l,"--now")),!t||!G2(t))return u;var p=function(){if(Array.isArray(t))return t;var R=r.valueType;if(!R)throw new Error("valueType is required when value is not an array of two dates");return X0(R,t)}();Y2(p,m)?u.push("".concat(l,"--active")):zb(p,m)&&u.push("".concat(l,"--hasActive"));var g=Z0(p,m,"".concat(l,"--range"));u.push.apply(u,g);var v=Array.isArray(t)?t:[t];if(i&&v.length===1){var T=i>p[0]?[p[0],i]:[i,p[0]],b=Z0(T,m,"".concat(l,"--hover"));u.push.apply(u,b)}return u}function Hf(r){for(var t=r.className,n=r.count,i=n===void 0?3:n,l=r.dateTransform,u=r.dateType,h=r.end,m=r.hover,p=r.offset,g=r.renderTile,v=r.start,T=r.step,b=T===void 0?1:T,R=r.value,D=r.valueType,k=[],P=v;P<=h;P+=b){var F=l(P);k.push(g({classes:Q2({date:F,dateType:u,hover:m,value:R,valueType:D}),date:F}))}return x.jsx(ap,{className:t,count:i,offset:p,wrap:!0,children:k})}function Ff(r){var t=r.activeStartDate,n=r.children,i=r.classes,l=r.date,u=r.formatAbbr,h=r.locale,m=r.maxDate,p=r.maxDateTransform,g=r.minDate,v=r.minDateTransform,T=r.onClick,b=r.onMouseOver,R=r.style,D=r.tileClassName,k=r.tileContent,P=r.tileDisabled,F=r.view,rt=z.useMemo(function(){var ut={activeStartDate:t,date:l,view:F};return typeof D=="function"?D(ut):D},[t,l,D,F]),Z=z.useMemo(function(){var ut={activeStartDate:t,date:l,view:F};return typeof k=="function"?k(ut):k},[t,l,k,F]);return x.jsxs("button",{className:jf(i,rt),disabled:g&&v(g)>l||m&&p(m)<l||(P==null?void 0:P({activeStartDate:t,date:l,view:F})),onClick:T?function(ut){return T(l,ut)}:void 0,onFocus:b?function(){return b(l)}:void 0,onMouseOver:b?function(){return b(l)}:void 0,style:R,type:"button",children:[u?x.jsx("abbr",{"aria-label":u(h,l),children:n}):n,Z]})}var qm=function(){return qm=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},qm.apply(this,arguments)},K2=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]]);return n},J0="react-calendar__century-view__decades__decade";function $2(r){var t=r.classes,n=t===void 0?[]:t,i=r.currentCentury,l=r.formatYear,u=l===void 0?qf:l,h=K2(r,["classes","currentCentury","formatYear"]),m=h.date,p=h.locale,g=[];return n&&g.push.apply(g,n),g.push(J0),Al(m).getFullYear()!==i&&g.push("".concat(J0,"--neighboringCentury")),x.jsx(Ff,qm({},h,{classes:g,maxDateTransform:zf,minDateTransform:gi,view:"century",children:jb(p,u,m)}))}var Hm=function(){return Hm=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},Hm.apply(this,arguments)},tE=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]]);return n};function X2(r){var t=r.activeStartDate,n=r.hover,i=r.showNeighboringCentury,l=r.value,u=r.valueType,h=tE(r,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),m=I2(t),p=m+(i?119:99);return x.jsx(Hf,{className:"react-calendar__century-view__decades",dateTransform:gi,dateType:"decade",end:p,hover:n,renderTile:function(g){var v=g.date,T=tE(g,["date"]);return x.jsx($2,Hm({},h,T,{activeStartDate:t,currentCentury:m,date:v}),v.getTime())},start:m,step:10,value:l,valueType:u})}var Fm=function(){return Fm=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},Fm.apply(this,arguments)};function W2(r){function t(){return x.jsx(X2,Fm({},r))}return x.jsx("div",{className:"react-calendar__century-view",children:t()})}var Ym=function(){return Ym=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},Ym.apply(this,arguments)},Z2=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]]);return n},eE="react-calendar__decade-view__years__year";function J2(r){var t=r.classes,n=t===void 0?[]:t,i=r.currentDecade,l=r.formatYear,u=l===void 0?qf:l,h=Z2(r,["classes","currentDecade","formatYear"]),m=h.date,p=h.locale,g=[];return n&&g.push.apply(g,n),g.push(eE),gi(m).getFullYear()!==i&&g.push("".concat(eE,"--neighboringDecade")),x.jsx(Ff,Ym({},h,{classes:g,maxDateTransform:Bf,minDateTransform:Rl,view:"decade",children:u(p,m)}))}var Gm=function(){return Gm=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},Gm.apply(this,arguments)},nE=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]]);return n};function tO(r){var t=r.activeStartDate,n=r.hover,i=r.showNeighboringDecade,l=r.value,u=r.valueType,h=nE(r,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),m=N2(t),p=m+(i?11:9);return x.jsx(Hf,{className:"react-calendar__decade-view__years",dateTransform:Rl,dateType:"year",end:p,hover:n,renderTile:function(g){var v=g.date,T=nE(g,["date"]);return x.jsx(J2,Gm({},h,T,{activeStartDate:t,currentDecade:m,date:v}),v.getTime())},start:m,value:l,valueType:u})}var Qm=function(){return Qm=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},Qm.apply(this,arguments)};function eO(r){function t(){return x.jsx(tO,Qm({},r))}return x.jsx("div",{className:"react-calendar__decade-view",children:t()})}var Km=function(){return Km=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},Km.apply(this,arguments)},nO=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]]);return n},rE=function(r,t,n){if(n||arguments.length===2)for(var i=0,l=t.length,u;i<l;i++)(u||!(i in t))&&(u||(u=Array.prototype.slice.call(t,0,i)),u[i]=t[i]);return r.concat(u||Array.prototype.slice.call(t))},rO="react-calendar__year-view__months__month";function aO(r){var t=r.classes,n=t===void 0?[]:t,i=r.formatMonth,l=i===void 0?R2:i,u=r.formatMonthYear,h=u===void 0?Vb:u,m=nO(r,["classes","formatMonth","formatMonthYear"]),p=m.date,g=m.locale;return x.jsx(Ff,Km({},m,{classes:rE(rE([],n,!0),[rO],!1),formatAbbr:h,maxDateTransform:fu,minDateTransform:ls,view:"year",children:l(g,p)}))}var $m=function(){return $m=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},$m.apply(this,arguments)},aE=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]]);return n};function iO(r){var t=r.activeStartDate,n=r.hover,i=r.value,l=r.valueType,u=aE(r,["activeStartDate","hover","value","valueType"]),h=0,m=11,p=pe(t);return x.jsx(Hf,{className:"react-calendar__year-view__months",dateTransform:function(g){var v=new Date;return v.setFullYear(p,g,1),ls(v)},dateType:"month",end:m,hover:n,renderTile:function(g){var v=g.date,T=aE(g,["date"]);return x.jsx(aO,$m({},u,T,{activeStartDate:t,date:v}),v.getTime())},start:h,value:i,valueType:l})}var Xm=function(){return Xm=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},Xm.apply(this,arguments)};function sO(r){function t(){return x.jsx(iO,Xm({},r))}return x.jsx("div",{className:"react-calendar__year-view",children:t()})}var Wm=function(){return Wm=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},Wm.apply(this,arguments)},lO=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]]);return n},om="react-calendar__month-view__days__day";function oO(r){var t=r.calendarType,n=r.classes,i=n===void 0?[]:n,l=r.currentMonthIndex,u=r.formatDay,h=u===void 0?S2:u,m=r.formatLongDate,p=m===void 0?A2:m,g=lO(r,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),v=g.date,T=g.locale,b=[];return i&&b.push.apply(b,i),b.push(om),Ub(v,t)&&b.push("".concat(om,"--weekend")),v.getMonth()!==l&&b.push("".concat(om,"--neighboringMonth")),x.jsx(Ff,Wm({},g,{classes:b,formatAbbr:p,maxDateTransform:np,minDateTransform:hu,view:"month",children:h(T,v)}))}var Zm=function(){return Zm=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},Zm.apply(this,arguments)},iE=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]]);return n};function uO(r){var t=r.activeStartDate,n=r.calendarType,i=r.hover,l=r.showFixedNumberOfWeeks,u=r.showNeighboringMonth,h=r.value,m=r.valueType,p=iE(r,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),g=pe(t),v=mi(t),T=l||u,b=Zo(t,n),R=T?0:b,D=(T?-b:0)+1,k=function(){if(l)return D+6*7-1;var P=Mb(t);if(u){var F=new Date;F.setFullYear(g,v,P),F.setHours(0,0,0,0);var rt=7-Zo(F,n)-1;return P+rt}return P}();return x.jsx(Hf,{className:"react-calendar__month-view__days",count:7,dateTransform:function(P){var F=new Date;return F.setFullYear(g,v,P),hu(F)},dateType:"day",hover:i,end:k,renderTile:function(P){var F=P.date,rt=iE(P,["date"]);return x.jsx(oO,Zm({},p,rt,{activeStartDate:t,calendarType:n,currentMonthIndex:v,date:F}),F.getTime())},offset:R,start:D,value:h,valueType:m})}var Bb="react-calendar__month-view__weekdays",um="".concat(Bb,"__weekday");function cO(r){for(var t=r.calendarType,n=r.formatShortWeekday,i=n===void 0?D2:n,l=r.formatWeekday,u=l===void 0?x2:l,h=r.locale,m=r.onMouseLeave,p=new Date,g=ls(p),v=pe(g),T=mi(g),b=[],R=1;R<=7;R+=1){var D=new Date(v,T,R-Zo(g,t)),k=u(h,D);b.push(x.jsx("div",{className:jf(um,B2(D)&&"".concat(um,"--current"),Ub(D,t)&&"".concat(um,"--weekend")),children:x.jsx("abbr",{"aria-label":k,title:k,children:i(h,D).replace(".","")})},R))}return x.jsx(ap,{className:Bb,count:7,onFocus:m,onMouseOver:m,children:b})}var mf=function(){return mf=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},mf.apply(this,arguments)},sE=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]]);return n},lE="react-calendar__tile";function fO(r){var t=r.onClickWeekNumber,n=r.weekNumber,i=x.jsx("span",{children:n});if(t){var l=r.date,u=r.onClickWeekNumber,h=r.weekNumber,m=sE(r,["date","onClickWeekNumber","weekNumber"]);return x.jsx("button",mf({},m,{className:lE,onClick:function(p){return u(h,l,p)},type:"button",children:i}))}else{r.date,r.onClickWeekNumber,r.weekNumber;var m=sE(r,["date","onClickWeekNumber","weekNumber"]);return x.jsx("div",mf({},m,{className:lE,children:i}))}}function hO(r){var t=r.activeStartDate,n=r.calendarType,i=r.onClickWeekNumber,l=r.onMouseLeave,u=r.showFixedNumberOfWeeks,h=function(){if(u)return 6;var g=Mb(t),v=Zo(t,n),T=g-(7-v);return 1+Math.ceil(T/7)}(),m=function(){for(var g=pe(t),v=mi(t),T=Uf(t),b=[],R=0;R<h;R+=1)b.push(Bm(new Date(g,v,T+R*7),n));return b}(),p=m.map(function(g){return M2(g,n)});return x.jsx(ap,{className:"react-calendar__month-view__weekNumbers",count:h,direction:"column",onFocus:l,onMouseOver:l,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:p.map(function(g,v){var T=m[v];if(!T)throw new Error("date is not defined");return x.jsx(fO,{date:T,onClickWeekNumber:i,weekNumber:g},g)})})}var Jm=function(){return Jm=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},Jm.apply(this,arguments)},dO=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]]);return n};function mO(r){if(r)for(var t=0,n=Object.entries(m2);t<n.length;t++){var i=n[t],l=i[0],u=i[1];if(u.includes(r))return l}return an.ISO_8601}function gO(r){var t=r.activeStartDate,n=r.locale,i=r.onMouseLeave,l=r.showFixedNumberOfWeeks,u=r.calendarType,h=u===void 0?mO(n):u,m=r.formatShortWeekday,p=r.formatWeekday,g=r.onClickWeekNumber,v=r.showWeekNumbers,T=dO(r,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function b(){return x.jsx(cO,{calendarType:h,formatShortWeekday:m,formatWeekday:p,locale:n,onMouseLeave:i})}function R(){return v?x.jsx(hO,{activeStartDate:t,calendarType:h,onClickWeekNumber:g,onMouseLeave:i,showFixedNumberOfWeeks:l}):null}function D(){return x.jsx(uO,Jm({calendarType:h},T))}var k="react-calendar__month-view";return x.jsx("div",{className:jf(k,v?"".concat(k,"--weekNumbers"):""),children:x.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[R(),x.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[b(),D()]})]})})}var ol=function(){return ol=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},ol.apply(this,arguments)},jc="react-calendar",Kc=["century","decade","year","month"],pO=["decade","year","month","day"],ip=new Date;ip.setFullYear(1,0,1);ip.setHours(0,0,0,0);var yO=new Date(864e13);function jo(r){return r instanceof Date?r:new Date(r)}function qb(r,t){return Kc.slice(Kc.indexOf(r),Kc.indexOf(t)+1)}function vO(r,t,n){var i=qb(t,n);return i.indexOf(r)!==-1}function sp(r,t,n){return r&&vO(r,t,n)?r:n}function Hb(r){var t=Kc.indexOf(r);return pO[t]}function _O(r,t){var n=Array.isArray(r)?r[t]:r;if(!n)return null;var i=jo(n);if(Number.isNaN(i.getTime()))throw new Error("Invalid date: ".concat(r));return i}function Fb(r,t){var n=r.value,i=r.minDate,l=r.maxDate,u=r.maxDetail,h=_O(n,t);if(!h)return null;var m=Hb(u),p=function(){switch(t){case 0:return ts(m,h);case 1:return kb(m,h);default:throw new Error("Invalid index value: ".concat(t))}}();return F2(p,i,l)}var lp=function(r){return Fb(r,0)},Yb=function(r){return Fb(r,1)},EO=function(r){return[lp,Yb].map(function(t){return t(r)})};function Gb(r){var t=r.maxDate,n=r.maxDetail,i=r.minDate,l=r.minDetail,u=r.value,h=r.view,m=sp(h,l,n),p=lp({value:u,minDate:i,maxDate:t,maxDetail:n})||new Date;return ts(m,p)}function TO(r){var t=r.activeStartDate,n=r.defaultActiveStartDate,i=r.defaultValue,l=r.defaultView,u=r.maxDate,h=r.maxDetail,m=r.minDate,p=r.minDetail,g=r.value,v=r.view,T=sp(v,p,h),b=t||n;return b?ts(T,b):Gb({maxDate:u,maxDetail:h,minDate:m,minDetail:p,value:g||i,view:v||l})}function cm(r){return r&&(!Array.isArray(r)||r.length===1)}function Uc(r,t){return r instanceof Date&&t instanceof Date&&r.getTime()===t.getTime()}var bO=z.forwardRef(function(t,n){var i=t.activeStartDate,l=t.allowPartialRange,u=t.calendarType,h=t.className,m=t.defaultActiveStartDate,p=t.defaultValue,g=t.defaultView,v=t.formatDay,T=t.formatLongDate,b=t.formatMonth,R=t.formatMonthYear,D=t.formatShortWeekday,k=t.formatWeekday,P=t.formatYear,F=t.goToRangeStartOnSelect,rt=F===void 0?!0:F,Z=t.inputRef,ut=t.locale,ct=t.maxDate,it=ct===void 0?yO:ct,M=t.maxDetail,A=M===void 0?"month":M,C=t.minDate,N=C===void 0?ip:C,j=t.minDetail,U=j===void 0?"century":j,O=t.navigationAriaLabel,mt=t.navigationAriaLive,Dt=t.navigationLabel,Q=t.next2AriaLabel,st=t.next2Label,gt=t.nextAriaLabel,xt=t.nextLabel,V=t.onActiveStartDateChange,J=t.onChange,ot=t.onClickDay,at=t.onClickDecade,pt=t.onClickMonth,Ct=t.onClickWeekNumber,_t=t.onClickYear,fe=t.onDrillDown,Ft=t.onDrillUp,Ne=t.onViewChange,kn=t.prev2AriaLabel,An=t.prev2Label,Ln=t.prevAriaLabel,nr=t.prevLabel,ae=t.returnValue,rr=ae===void 0?"start":ae,Ge=t.selectRange,Qe=t.showDoubleView,us=t.showFixedNumberOfWeeks,wa=t.showNavigation,Sa=wa===void 0?!0:wa,zr=t.showNeighboringCentury,Dl=t.showNeighboringDecade,Br=t.showNeighboringMonth,pi=Br===void 0?!0:Br,cs=t.showWeekNumbers,he=t.tileClassName,Qt=t.tileContent,dn=t.tileDisabled,Ae=t.value,yi=t.view,fs=z.useState(m),qr=fs[0],jn=fs[1],yr=z.useState(null),Rn=yr[0],Hr=yr[1],vr=z.useState(Array.isArray(p)?p.map(function(St){return St!==null?jo(St):null}):p!=null?jo(p):null),Fr=vr[0],vi=vr[1],Aa=z.useState(g),ar=Aa[0],Un=Aa[1],Re=i||qr||TO({activeStartDate:i,defaultActiveStartDate:m,defaultValue:p,defaultView:g,maxDate:it,maxDetail:A,minDate:N,minDetail:U,value:Ae,view:yi}),ue=function(){var St=function(){return Ge&&cm(Fr)?Fr:Ae!==void 0?Ae:Fr}();return St?Array.isArray(St)?St.map(function(Vt){return Vt!==null?jo(Vt):null}):St!==null?jo(St):null:null}(),_r=Hb(A),Yt=sp(yi||ar,U,A),Ke=qb(U,A),Er=Ge?Rn:null,Ra=Ke.indexOf(Yt)<Ke.length-1,ie=Ke.indexOf(Yt)>0,_e=z.useCallback(function(St){var Vt=function(){switch(rr){case"start":return lp;case"end":return Yb;case"range":return EO;default:throw new Error("Invalid returnValue.")}}();return Vt({maxDate:it,maxDetail:A,minDate:N,value:St})},[it,A,N,rr]),de=z.useCallback(function(St,Vt){jn(St);var Ot={action:Vt,activeStartDate:St,value:ue,view:Yt};V&&!Uc(Re,St)&&V(Ot)},[Re,V,ue,Yt]),$e=z.useCallback(function(St,Vt){var Ot=function(){switch(Yt){case"century":return at;case"decade":return _t;case"year":return pt;case"month":return ot;default:throw new Error("Invalid view: ".concat(Yt,"."))}}();Ot&&Ot(St,Vt)},[ot,at,pt,_t,Yt]),Yr=z.useCallback(function(St,Vt){if(Ra){$e(St,Vt);var Ot=Ke[Ke.indexOf(Yt)+1];if(!Ot)throw new Error("Attempted to drill down from the lowest view.");jn(St),Un(Ot);var Xe={action:"drillDown",activeStartDate:St,value:ue,view:Ot};V&&!Uc(Re,St)&&V(Xe),Ne&&Yt!==Ot&&Ne(Xe),fe&&fe(Xe)}},[Re,Ra,V,$e,fe,Ne,ue,Yt,Ke]),_i=z.useCallback(function(){if(ie){var St=Ke[Ke.indexOf(Yt)-1];if(!St)throw new Error("Attempted to drill up from the highest view.");var Vt=ts(St,Re);jn(Vt),Un(St);var Ot={action:"drillUp",activeStartDate:Vt,value:ue,view:St};V&&!Uc(Re,Vt)&&V(Ot),Ne&&Yt!==St&&Ne(Ot),Ft&&Ft(Ot)}},[Re,ie,V,Ft,Ne,ue,Yt,Ke]),zn=z.useCallback(function(St,Vt){var Ot=ue;$e(St,Vt);var Xe=Ge&&!cm(Ot),Ue;if(Ge)if(Xe)Ue=ts(_r,St);else{if(!Ot)throw new Error("previousValue is required");if(Array.isArray(Ot))throw new Error("previousValue must not be an array");Ue=U2(_r,Ot,St)}else Ue=_e(St);var mn=!Ge||Xe||rt?Gb({maxDate:it,maxDetail:A,minDate:N,minDetail:U,value:Ue,view:Yt}):null;Vt.persist(),jn(mn),vi(Ue);var or={action:"onChange",activeStartDate:mn,value:Ue,view:Yt};if(V&&!Uc(Re,mn)&&V(or),J)if(Ge){var ds=cm(Ue);if(!ds)J(Ue||null,Vt);else if(l){if(Array.isArray(Ue))throw new Error("value must not be an array");J([Ue||null,null],Vt)}}else J(Ue||null,Vt)},[Re,l,_e,rt,it,A,N,U,V,J,$e,Ge,ue,_r,Yt]);function hs(St){Hr(St)}function ir(){Hr(null)}z.useImperativeHandle(n,function(){return{activeStartDate:Re,drillDown:Yr,drillUp:_i,onChange:zn,setActiveStartDate:de,value:ue,view:Yt}},[Re,Yr,_i,zn,de,ue,Yt]);function sr(St){var Vt=St?Pb(Yt,Re):ts(Yt,Re),Ot=Ra?Yr:zn,Xe={activeStartDate:Vt,hover:Er,locale:ut,maxDate:it,minDate:N,onClick:Ot,onMouseOver:Ge?hs:void 0,tileClassName:he,tileContent:Qt,tileDisabled:dn,value:ue,valueType:_r};switch(Yt){case"century":return x.jsx(W2,ol({formatYear:P,showNeighboringCentury:zr},Xe));case"decade":return x.jsx(eO,ol({formatYear:P,showNeighboringDecade:Dl},Xe));case"year":return x.jsx(sO,ol({formatMonth:b,formatMonthYear:R},Xe));case"month":return x.jsx(gO,ol({calendarType:u,formatDay:v,formatLongDate:T,formatShortWeekday:D,formatWeekday:k,onClickWeekNumber:Ct,onMouseLeave:Ge?ir:void 0,showFixedNumberOfWeeks:typeof us<"u"?us:Qe,showNeighboringMonth:pi,showWeekNumbers:cs},Xe));default:throw new Error("Invalid view: ".concat(Yt,"."))}}function lr(){return Sa?x.jsx(q2,{activeStartDate:Re,drillUp:_i,formatMonthYear:R,formatYear:P,locale:ut,maxDate:it,minDate:N,navigationAriaLabel:O,navigationAriaLive:mt,navigationLabel:Dt,next2AriaLabel:Q,next2Label:st,nextAriaLabel:gt,nextLabel:xt,prev2AriaLabel:kn,prev2Label:An,prevAriaLabel:Ln,prevLabel:nr,setActiveStartDate:de,showDoubleView:Qe,view:Yt,views:Ke}):null}var Bn=Array.isArray(ue)?ue:[ue];return x.jsxs("div",{className:jf(jc,Ge&&Bn.length===1&&"".concat(jc,"--selectRange"),Qe&&"".concat(jc,"--doubleView"),h),ref:Z,children:[lr(),x.jsxs("div",{className:"".concat(jc,"__viewContainer"),onBlur:Ge?ir:void 0,onMouseLeave:Ge?ir:void 0,children:[sr(),Qe?sr(!0):null]})]})});const Qb=6048e5,wO=864e5,oE=Symbol.for("constructDateFrom");function fi(r,t){return typeof r=="function"?r(t):r&&typeof r=="object"&&oE in r?r[oE](t):r instanceof Date?new r.constructor(t):new Date(t)}function pr(r,t){return fi(t||r,r)}let SO={};function Yf(){return SO}function tu(r,t){var m,p,g,v;const n=Yf(),i=(t==null?void 0:t.weekStartsOn)??((p=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:p.weekStartsOn)??n.weekStartsOn??((v=(g=n.locale)==null?void 0:g.options)==null?void 0:v.weekStartsOn)??0,l=pr(r,t==null?void 0:t.in),u=l.getDay(),h=(u<i?7:0)+u-i;return l.setDate(l.getDate()-h),l.setHours(0,0,0,0),l}function gf(r,t){return tu(r,{...t,weekStartsOn:1})}function Kb(r,t){const n=pr(r,t==null?void 0:t.in),i=n.getFullYear(),l=fi(n,0);l.setFullYear(i+1,0,4),l.setHours(0,0,0,0);const u=gf(l),h=fi(n,0);h.setFullYear(i,0,4),h.setHours(0,0,0,0);const m=gf(h);return n.getTime()>=u.getTime()?i+1:n.getTime()>=m.getTime()?i:i-1}function uE(r){const t=pr(r),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+r-+n}function AO(r,...t){const n=fi.bind(null,t.find(i=>typeof i=="object"));return t.map(n)}function cE(r,t){const n=pr(r,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function RO(r,t,n){const[i,l]=AO(n==null?void 0:n.in,r,t),u=cE(i),h=cE(l),m=+u-uE(u),p=+h-uE(h);return Math.round((m-p)/wO)}function DO(r,t){const n=Kb(r,t),i=fi(r,0);return i.setFullYear(n,0,4),i.setHours(0,0,0,0),gf(i)}function xO(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function CO(r){return!(!xO(r)&&typeof r!="number"||isNaN(+pr(r)))}function OO(r,t){const n=pr(r,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const IO={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},NO=(r,t,n)=>{let i;const l=IO[r];return typeof l=="string"?i=l:t===1?i=l.one:i=l.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function fm(r){return(t={})=>{const n=t.width?String(t.width):r.defaultWidth;return r.formats[n]||r.formats[r.defaultWidth]}}const MO={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},VO={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},PO={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},kO={date:fm({formats:MO,defaultWidth:"full"}),time:fm({formats:VO,defaultWidth:"full"}),dateTime:fm({formats:PO,defaultWidth:"full"})},LO={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},jO=(r,t,n,i)=>LO[r];function Io(r){return(t,n)=>{const i=n!=null&&n.context?String(n.context):"standalone";let l;if(i==="formatting"&&r.formattingValues){const h=r.defaultFormattingWidth||r.defaultWidth,m=n!=null&&n.width?String(n.width):h;l=r.formattingValues[m]||r.formattingValues[h]}else{const h=r.defaultWidth,m=n!=null&&n.width?String(n.width):r.defaultWidth;l=r.values[m]||r.values[h]}const u=r.argumentCallback?r.argumentCallback(t):t;return l[u]}}const UO={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},zO={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},BO={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},qO={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},HO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},FO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},YO=(r,t)=>{const n=Number(r),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},GO={ordinalNumber:YO,era:Io({values:UO,defaultWidth:"wide"}),quarter:Io({values:zO,defaultWidth:"wide",argumentCallback:r=>r-1}),month:Io({values:BO,defaultWidth:"wide"}),day:Io({values:qO,defaultWidth:"wide"}),dayPeriod:Io({values:HO,defaultWidth:"wide",formattingValues:FO,defaultFormattingWidth:"wide"})};function No(r){return(t,n={})=>{const i=n.width,l=i&&r.matchPatterns[i]||r.matchPatterns[r.defaultMatchWidth],u=t.match(l);if(!u)return null;const h=u[0],m=i&&r.parsePatterns[i]||r.parsePatterns[r.defaultParseWidth],p=Array.isArray(m)?KO(m,T=>T.test(h)):QO(m,T=>T.test(h));let g;g=r.valueCallback?r.valueCallback(p):p,g=n.valueCallback?n.valueCallback(g):g;const v=t.slice(h.length);return{value:g,rest:v}}}function QO(r,t){for(const n in r)if(Object.prototype.hasOwnProperty.call(r,n)&&t(r[n]))return n}function KO(r,t){for(let n=0;n<r.length;n++)if(t(r[n]))return n}function $O(r){return(t,n={})=>{const i=t.match(r.matchPattern);if(!i)return null;const l=i[0],u=t.match(r.parsePattern);if(!u)return null;let h=r.valueCallback?r.valueCallback(u[0]):u[0];h=n.valueCallback?n.valueCallback(h):h;const m=t.slice(l.length);return{value:h,rest:m}}}const XO=/^(\d+)(th|st|nd|rd)?/i,WO=/\d+/i,ZO={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},JO={any:[/^b/i,/^(a|c)/i]},tI={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},eI={any:[/1/i,/2/i,/3/i,/4/i]},nI={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},rI={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},aI={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},iI={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},sI={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},lI={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},oI={ordinalNumber:$O({matchPattern:XO,parsePattern:WO,valueCallback:r=>parseInt(r,10)}),era:No({matchPatterns:ZO,defaultMatchWidth:"wide",parsePatterns:JO,defaultParseWidth:"any"}),quarter:No({matchPatterns:tI,defaultMatchWidth:"wide",parsePatterns:eI,defaultParseWidth:"any",valueCallback:r=>r+1}),month:No({matchPatterns:nI,defaultMatchWidth:"wide",parsePatterns:rI,defaultParseWidth:"any"}),day:No({matchPatterns:aI,defaultMatchWidth:"wide",parsePatterns:iI,defaultParseWidth:"any"}),dayPeriod:No({matchPatterns:sI,defaultMatchWidth:"any",parsePatterns:lI,defaultParseWidth:"any"})},uI={code:"en-US",formatDistance:NO,formatLong:kO,formatRelative:jO,localize:GO,match:oI,options:{weekStartsOn:0,firstWeekContainsDate:1}};function cI(r,t){const n=pr(r,t==null?void 0:t.in);return RO(n,OO(n))+1}function fI(r,t){const n=pr(r,t==null?void 0:t.in),i=+gf(n)-+DO(n);return Math.round(i/Qb)+1}function $b(r,t){var v,T,b,R;const n=pr(r,t==null?void 0:t.in),i=n.getFullYear(),l=Yf(),u=(t==null?void 0:t.firstWeekContainsDate)??((T=(v=t==null?void 0:t.locale)==null?void 0:v.options)==null?void 0:T.firstWeekContainsDate)??l.firstWeekContainsDate??((R=(b=l.locale)==null?void 0:b.options)==null?void 0:R.firstWeekContainsDate)??1,h=fi((t==null?void 0:t.in)||r,0);h.setFullYear(i+1,0,u),h.setHours(0,0,0,0);const m=tu(h,t),p=fi((t==null?void 0:t.in)||r,0);p.setFullYear(i,0,u),p.setHours(0,0,0,0);const g=tu(p,t);return+n>=+m?i+1:+n>=+g?i:i-1}function hI(r,t){var m,p,g,v;const n=Yf(),i=(t==null?void 0:t.firstWeekContainsDate)??((p=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??n.firstWeekContainsDate??((v=(g=n.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??1,l=$b(r,t),u=fi((t==null?void 0:t.in)||r,0);return u.setFullYear(l,0,i),u.setHours(0,0,0,0),tu(u,t)}function dI(r,t){const n=pr(r,t==null?void 0:t.in),i=+tu(n,t)-+hI(n,t);return Math.round(i/Qb)+1}function Jt(r,t){const n=r<0?"-":"",i=Math.abs(r).toString().padStart(t,"0");return n+i}const Wa={y(r,t){const n=r.getFullYear(),i=n>0?n:1-n;return Jt(t==="yy"?i%100:i,t.length)},M(r,t){const n=r.getMonth();return t==="M"?String(n+1):Jt(n+1,2)},d(r,t){return Jt(r.getDate(),t.length)},a(r,t){const n=r.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(r,t){return Jt(r.getHours()%12||12,t.length)},H(r,t){return Jt(r.getHours(),t.length)},m(r,t){return Jt(r.getMinutes(),t.length)},s(r,t){return Jt(r.getSeconds(),t.length)},S(r,t){const n=t.length,i=r.getMilliseconds(),l=Math.trunc(i*Math.pow(10,n-3));return Jt(l,t.length)}},el={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},fE={G:function(r,t,n){const i=r.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(r,t,n){if(t==="yo"){const i=r.getFullYear(),l=i>0?i:1-i;return n.ordinalNumber(l,{unit:"year"})}return Wa.y(r,t)},Y:function(r,t,n,i){const l=$b(r,i),u=l>0?l:1-l;if(t==="YY"){const h=u%100;return Jt(h,2)}return t==="Yo"?n.ordinalNumber(u,{unit:"year"}):Jt(u,t.length)},R:function(r,t){const n=Kb(r);return Jt(n,t.length)},u:function(r,t){const n=r.getFullYear();return Jt(n,t.length)},Q:function(r,t,n){const i=Math.ceil((r.getMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return Jt(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(r,t,n){const i=Math.ceil((r.getMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return Jt(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(r,t,n){const i=r.getMonth();switch(t){case"M":case"MM":return Wa.M(r,t);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(r,t,n){const i=r.getMonth();switch(t){case"L":return String(i+1);case"LL":return Jt(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(r,t,n,i){const l=dI(r,i);return t==="wo"?n.ordinalNumber(l,{unit:"week"}):Jt(l,t.length)},I:function(r,t,n){const i=fI(r);return t==="Io"?n.ordinalNumber(i,{unit:"week"}):Jt(i,t.length)},d:function(r,t,n){return t==="do"?n.ordinalNumber(r.getDate(),{unit:"date"}):Wa.d(r,t)},D:function(r,t,n){const i=cI(r);return t==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):Jt(i,t.length)},E:function(r,t,n){const i=r.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(r,t,n,i){const l=r.getDay(),u=(l-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(u);case"ee":return Jt(u,2);case"eo":return n.ordinalNumber(u,{unit:"day"});case"eee":return n.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(l,{width:"short",context:"formatting"});case"eeee":default:return n.day(l,{width:"wide",context:"formatting"})}},c:function(r,t,n,i){const l=r.getDay(),u=(l-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(u);case"cc":return Jt(u,t.length);case"co":return n.ordinalNumber(u,{unit:"day"});case"ccc":return n.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(l,{width:"narrow",context:"standalone"});case"cccccc":return n.day(l,{width:"short",context:"standalone"});case"cccc":default:return n.day(l,{width:"wide",context:"standalone"})}},i:function(r,t,n){const i=r.getDay(),l=i===0?7:i;switch(t){case"i":return String(l);case"ii":return Jt(l,t.length);case"io":return n.ordinalNumber(l,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(r,t,n){const l=r.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(r,t,n){const i=r.getHours();let l;switch(i===12?l=el.noon:i===0?l=el.midnight:l=i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(r,t,n){const i=r.getHours();let l;switch(i>=17?l=el.evening:i>=12?l=el.afternoon:i>=4?l=el.morning:l=el.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(r,t,n){if(t==="ho"){let i=r.getHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return Wa.h(r,t)},H:function(r,t,n){return t==="Ho"?n.ordinalNumber(r.getHours(),{unit:"hour"}):Wa.H(r,t)},K:function(r,t,n){const i=r.getHours()%12;return t==="Ko"?n.ordinalNumber(i,{unit:"hour"}):Jt(i,t.length)},k:function(r,t,n){let i=r.getHours();return i===0&&(i=24),t==="ko"?n.ordinalNumber(i,{unit:"hour"}):Jt(i,t.length)},m:function(r,t,n){return t==="mo"?n.ordinalNumber(r.getMinutes(),{unit:"minute"}):Wa.m(r,t)},s:function(r,t,n){return t==="so"?n.ordinalNumber(r.getSeconds(),{unit:"second"}):Wa.s(r,t)},S:function(r,t){return Wa.S(r,t)},X:function(r,t,n){const i=r.getTimezoneOffset();if(i===0)return"Z";switch(t){case"X":return dE(i);case"XXXX":case"XX":return Zi(i);case"XXXXX":case"XXX":default:return Zi(i,":")}},x:function(r,t,n){const i=r.getTimezoneOffset();switch(t){case"x":return dE(i);case"xxxx":case"xx":return Zi(i);case"xxxxx":case"xxx":default:return Zi(i,":")}},O:function(r,t,n){const i=r.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+hE(i,":");case"OOOO":default:return"GMT"+Zi(i,":")}},z:function(r,t,n){const i=r.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+hE(i,":");case"zzzz":default:return"GMT"+Zi(i,":")}},t:function(r,t,n){const i=Math.trunc(+r/1e3);return Jt(i,t.length)},T:function(r,t,n){return Jt(+r,t.length)}};function hE(r,t=""){const n=r>0?"-":"+",i=Math.abs(r),l=Math.trunc(i/60),u=i%60;return u===0?n+String(l):n+String(l)+t+Jt(u,2)}function dE(r,t){return r%60===0?(r>0?"-":"+")+Jt(Math.abs(r)/60,2):Zi(r,t)}function Zi(r,t=""){const n=r>0?"-":"+",i=Math.abs(r),l=Jt(Math.trunc(i/60),2),u=Jt(i%60,2);return n+l+t+u}const mE=(r,t)=>{switch(r){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Xb=(r,t)=>{switch(r){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},mI=(r,t)=>{const n=r.match(/(P+)(p+)?/)||[],i=n[1],l=n[2];if(!l)return mE(r,t);let u;switch(i){case"P":u=t.dateTime({width:"short"});break;case"PP":u=t.dateTime({width:"medium"});break;case"PPP":u=t.dateTime({width:"long"});break;case"PPPP":default:u=t.dateTime({width:"full"});break}return u.replace("{{date}}",mE(i,t)).replace("{{time}}",Xb(l,t))},gI={p:Xb,P:mI},pI=/^D+$/,yI=/^Y+$/,vI=["D","DD","YY","YYYY"];function _I(r){return pI.test(r)}function EI(r){return yI.test(r)}function TI(r,t,n){const i=bI(r,t,n);if(console.warn(i),vI.includes(r))throw new RangeError(i)}function bI(r,t,n){const i=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${t}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const wI=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,SI=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,AI=/^'([^]*?)'?$/,RI=/''/g,DI=/[a-zA-Z]/;function gE(r,t,n){var v,T,b,R;const i=Yf(),l=i.locale??uI,u=i.firstWeekContainsDate??((T=(v=i.locale)==null?void 0:v.options)==null?void 0:T.firstWeekContainsDate)??1,h=i.weekStartsOn??((R=(b=i.locale)==null?void 0:b.options)==null?void 0:R.weekStartsOn)??0,m=pr(r,n==null?void 0:n.in);if(!CO(m))throw new RangeError("Invalid time value");let p=t.match(SI).map(D=>{const k=D[0];if(k==="p"||k==="P"){const P=gI[k];return P(D,l.formatLong)}return D}).join("").match(wI).map(D=>{if(D==="''")return{isToken:!1,value:"'"};const k=D[0];if(k==="'")return{isToken:!1,value:xI(D)};if(fE[k])return{isToken:!0,value:D};if(k.match(DI))throw new RangeError("Format string contains an unescaped latin alphabet character `"+k+"`");return{isToken:!1,value:D}});l.localize.preprocessor&&(p=l.localize.preprocessor(m,p));const g={firstWeekContainsDate:u,weekStartsOn:h,locale:l};return p.map(D=>{if(!D.isToken)return D.value;const k=D.value;(EI(k)||_I(k))&&TI(k,t,String(r));const P=fE[k[0]];return P(m,k,l.localize,g)}).join("")}function xI(r){const t=r.match(AI);return t?t[1].replace(RI,"'"):r}function pE(r,t,n,i=[]){const l={일:0,월:1,화:2,수:3,목:4,금:5,토:6};let u=[],h=new Date(r);for(;u.length<n;){const m=Object.keys(l).find(g=>l[g]===h.getDay()),p=h.toISOString().slice(0,10);t.includes(m)&&!i.includes(p)&&u.push({date:p,session:u.length+1}),h.setDate(h.getDate()+1)}return u}function CI(){const r=localStorage.getItem("studentId"),[t,n]=z.useState(null),[i,l]=z.useState({}),[u,h]=z.useState([]),[m,p]=z.useState([]),[g,v]=z.useState([]);return z.useEffect(()=>{if(!r)return;const T=da(tr(oe,"students",r),b=>{if(b.exists()){const R=b.data();n({id:b.id,...R})}});return(async()=>{const b=await ai(vn(oe,"attendance")),R={};b.docs.forEach(D=>{R[D.id]=D.data()}),l(R)})(),(async()=>{const b=await ai(vn(oe,"makeups"));h(b.docs.map(R=>({id:R.id,...R.data()})))})(),(async()=>{const b=await ai(vn(oe,"holidays"));p(b.docs.map(R=>R.data().date))})(),()=>T()},[r]),z.useEffect(()=>{(async()=>{if(!t)return;const b=t.schedules.map(mt=>mt.day),R=b.length*4,D=R*10,k=[...m];let P=pE(t.startDate,b,D*2,k);const F=new Date(t.startDate).getDay();b.includes(F)&&(!P.length||P[0].date!==t.startDate)?(console.log(`✅ 첫날(${t.startDate})이 요일에 맞아서 추가됨`),P.unshift({date:t.startDate})):console.log(`ℹ️ 첫날(${t.startDate})은 이미 포함됨 or 요일 안 맞음`);const ut=P.filter(mt=>!k.includes(mt.date)).map((mt,Dt)=>{var xt;const Q=(xt=i==null?void 0:i[mt.date])==null?void 0:xt[t.name];let st=(Q==null?void 0:Q.status)||"미정",gt=(Q==null?void 0:Q.time)||"";return{date:mt.date,status:st,time:gt,originalIndex:Dt}}),ct=u.filter(mt=>mt.name===t.name),it=ct.filter(mt=>mt.type==="이월"),M=ct.filter(mt=>mt.type==="보강"),A=[];for(const mt of it){const Dt=ut.find(Q=>Q.date===mt.sourceDate);Dt&&(Dt.status="이월"),mt.date&&A.push({date:mt.date,status:"미정",time:"",originalIndex:-1})}for(const mt of M)mt.date&&!ut.find(Dt=>Dt.date===mt.date&&Dt.status==="보강")&&A.push({date:mt.date,status:"보강",time:"",originalIndex:-1});let C=[...ut,...A].sort((mt,Dt)=>mt.date.localeCompare(Dt.date));const N=new Set(C.map(mt=>mt.date+"-"+mt.originalIndex));let j=C.length>0?C.at(-1).date:t.startDate;for(;!(C.filter(Q=>Q.status!=="이월").length>=D);){const Dt=pE(j,b,1,k).find(Q=>{const st=Q.date+"-"+Q.originalIndex;return!N.has(st)});if(!Dt)break;j=Dt.date,N.add(Dt.date+"-"+Dt.originalIndex),C.push({date:Dt.date,status:"미정",time:"",originalIndex:Dt.originalIndex})}const U=[];let O=1;for(let mt of C)U.push({...mt,session:mt.status==="이월"?"X":O++}),O>R&&(O=1);v(U)})()},[t,i,u,m]),t?x.jsxs("div",{className:"container",style:{textAlign:"center",fontSize:"18px"},children:[x.jsx("h1",{style:{fontSize:"24px"},children:"📅 출석 확인 "}),x.jsx(bO,{style:{display:"block",margin:"0 auto"},tileContent:({date:T,view:b})=>{if(b!=="month")return null;const R=gE(T,"yyyy-MM-dd"),D=g.find(rt=>rt.date===R);let k="";(D==null?void 0:D.status)==="보강"?k="yellowgreen":(D==null?void 0:D.status)==="이월"?k="skyblue":["출석","onTime"].includes(D==null?void 0:D.status)?k="green":["지각","tardy"].includes(D==null?void 0:D.status)?k="#ff9800":(D==null?void 0:D.status)==="결석"?k="#f44336":m.includes(R)&&(k="red");const P=new Date,F=T.toDateString()===P.toDateString();return D?x.jsxs("div",{style:{background:k||(F?"yellow":""),color:"black",borderRadius:4,padding:2,fontSize:12,textAlign:"center"},children:[x.jsx("div",{children:`${D.session}회차`}),D.time&&x.jsx("div",{style:{fontSize:10},children:D.time})]}):F?x.jsx("div",{style:{background:"yellow",borderRadius:4,padding:2,fontSize:12,textAlign:"center"}}):null},onClickDay:T=>{const b=gE(T,"yyyy-MM-dd"),R=g.find(D=>D.date===b);alert(R?`📅 ${b} → ${R.session}회차 (${R.status})`:`📅 ${b} → 출석 기록 없음`)}}),x.jsxs("p",{style:{marginTop:12,fontSize:14},children:["• 색상 설명:",x.jsx("br",{}),"출석(초록), 지각(주황), 결석(빨강), 보강(연두), 이월(하늘), 오늘(노랑)"]})]}):x.jsx("p",{children:"로딩 중…"})}function OI(){var Z,ut,ct;const r=localStorage.getItem("studentId"),t=z.useRef(!1),[n,i]=z.useState(null),[l,u]=z.useState([]),[h,m]=z.useState(0),[p,g]=z.useState({}),[v,T]=z.useState({}),b=["계좌이체","결제선생","카드"];z.useEffect(()=>{if(!r)return;const it=da(tr(oe,"students",r),M=>{M.exists()&&i({id:M.id,...M.data()})});return()=>it()},[r]),z.useEffect(()=>{if(!r)return;const it=da(vn(oe,"payments"),M=>{const A={};M.docs.forEach(C=>{const N=C.data();N.studentId===r&&(A[N.routineNumber]=N.paymentMethod)}),g(A)});return()=>it()},[r]),z.useEffect(()=>{if(!r)return;const it=da(vn(oe,"payment_completed"),M=>{const A={};M.docs.forEach(C=>{const N=C.data();N.studentId===r&&(A[String(N.routineNumber)]=N.paymentComplete)}),T(A)});return()=>it()},[r]),z.useEffect(()=>{if(!r)return;const it=da(tr(oe,"routines",r),M=>{if(!M.exists())return;const A=M.data().lessons||[];if(u(A),!t.current){t.current=!0;const C=new Date().toISOString().slice(0,10),N={};A.forEach(O=>{const mt=O.routineNumber||1;N[mt]||(N[mt]=[]),N[mt].push(O)});const U=Object.values(N).sort((O,mt)=>O[0].routineNumber-mt[0].routineNumber).findIndex(O=>O.some(mt=>mt.date===C));m(U>=0?U:0)}});return()=>it()},[r]);const R=async(it,M)=>{g(A=>({...A,[M]:it})),await YC(tr(oe,"payments",`${r}_routine_${M}`),{studentId:r,routineNumber:M,paymentMethod:it,paymentComplete:!1,updatedAt:new Date().toISOString()},{merge:!0})};if(!n)return x.jsx("p",{children:"로딩 중…"});const D={};l.forEach(it=>{const M=it.routineNumber||1;D[M]||(D[M]=[]),D[M].push(it)});const k=Object.values(D).sort((it,M)=>it[0].routineNumber-M[0].routineNumber),P=k[h]||[],F=((Z=P[0])==null?void 0:Z.routineNumber)??h+1,rt=(ct=(ut=k[h+1])==null?void 0:ut[0])==null?void 0:ct.date;return x.jsxs("div",{className:"container-wide",style:{textAlign:"center"},children:[x.jsxs("h1",{style:{fontSize:20,marginBottom:16},children:["👀 ",n.name,"님의 수업 루틴 ",F,"회차"]}),x.jsx("p",{style:{fontSize:18,marginBottom:16},children:v[F]?"✅ 결제완료 되었습니다.":"⚠️ 아직 결제전입니다. 수업시작일 전에 결제 부탁드립니다."}),x.jsx("p",{style:{fontSize:16,marginBottom:32},children:rt?x.jsxs(x.Fragment,{children:["➡️ 다음수업시작일: ",rt,x.jsx("br",{}),"다음 루틴 결제방법은 다음을 누르고 선택해주세요."]}):"다음 루틴 시작일 정보를 불러오지 못했습니다."}),x.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:8,marginBottom:24},children:[x.jsx("h3",{style:{margin:0,fontSize:16,fontWeight:"bold"},children:"결제방법선택"}),b.map(it=>x.jsx("button",{onClick:()=>R(it,F),style:{padding:"4px 8px",background:it==="계좌이체"?"#4caf50":it==="결제선생"?"#2196f3":"#f44336",color:"white",borderRadius:4,minWidth:80},children:it},it))]}),x.jsxs("p",{style:{fontSize:16,marginBottom:16},children:["✅ 현재 선택된 결제방법: ",p[F]||"없음",p[F]==="카드"&&x.jsx("span",{style:{display:"block",marginTop:8,fontSize:14,color:"#555"},children:"➡️ 마지막 수업일이나 다음 수업시작일 전에 보내주세요"}),p[F]==="결제선생"&&x.jsx("span",{style:{display:"block",marginTop:8,fontSize:14,color:"#555"},children:"➡️ 다음수업시작일 5일 전 보내드리겠습니다."}),p[F]==="계좌이체"&&x.jsx("span",{style:{display:"block",marginTop:8,fontSize:14,color:"#555"},children:"➡️ 3333-31-6107963 카카오뱅크 *교재비계좌와 다릅니다"})]}),x.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:24},children:[x.jsx("button",{onClick:()=>m(it=>Math.max(it-1,0)),disabled:h===0,style:{padding:"8px 16px",background:h===0?"#ccc":"#1565c0",color:"white",border:"none",borderRadius:4,cursor:h===0?"default":"pointer"},children:"이전"}),x.jsx("button",{onClick:()=>m(it=>Math.min(it+1,k.length-1)),disabled:h>=k.length-1,style:{padding:"8px 16px",background:h>=k.length-1?"#ccc":"#1565c0",color:"white",border:"none",borderRadius:4,cursor:h>=k.length-1?"default":"pointer"},children:"다음"})]}),x.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[x.jsx("thead",{children:x.jsxs("tr",{children:[x.jsx("th",{style:{border:"1px solid #ccc",padding:8},children:"회차"}),x.jsx("th",{style:{border:"1px solid #ccc",padding:8},children:"날짜"}),x.jsx("th",{style:{border:"1px solid #ccc",padding:8},children:"상태"}),x.jsx("th",{style:{border:"1px solid #ccc",padding:8},children:"시간"})]})}),x.jsxs("tbody",{children:[P.map((it,M)=>x.jsxs("tr",{children:[x.jsx("td",{style:{border:"1px solid #ccc",padding:8,textAlign:"center"},children:it.session}),x.jsx("td",{style:{border:"1px solid #ccc",padding:8,textAlign:"center"},children:it.makeupDate?x.jsxs("span",{children:[x.jsx("s",{children:it.date})," ➔ ",it.makeupDate]}):it.date}),x.jsx("td",{style:{border:"1px solid #ccc",padding:8,textAlign:"center"},children:it.status}),x.jsx("td",{style:{border:"1px solid #ccc",padding:8,textAlign:"center"},children:it.time||"-"})]},M)),P.length===0&&x.jsx("tr",{children:x.jsx("td",{colSpan:4,style:{padding:16,textAlign:"center",color:"#888"},children:"루틴 정보가 없습니다."})})]})]})]})}function II(){const[r,t]=z.useState([]),[n,i]=z.useState(null),[l,u]=z.useState({}),[h,m]=z.useState([]);z.useEffect(()=>{(async()=>{const g=await ai(vn(oe,"notices"));t(g.docs.map(v=>({id:v.id,title:v.data().title,date:v.data().date})))})(),(async()=>{const g=await ai(vn(oe,"holidays")),v=new Date,T=`${v.getFullYear()}-${String(v.getMonth()+1).padStart(2,"0")}`;m(g.docs.map(b=>({id:b.id,...b.data()})).filter(b=>b.date.startsWith(T)))})()},[]);const p=async g=>{if(n===g){i(null);return}if(!l[g]){const v=await $g(tr(oe,"notices",g));v.exists()&&u(T=>({...T,[g]:v.data().content}))}i(g)};return x.jsxs("div",{className:"container",children:[x.jsxs("div",{style:{background:"#f9f9f9",padding:"12px",borderRadius:"8px",marginBottom:"16px"},children:[x.jsx("h2",{style:{fontSize:"18px",marginBottom:"8px"},children:"📅 이번 달 휴일"}),h.length>0?x.jsx("ul",{style:{listStyle:"none",padding:0},children:h.map(g=>x.jsxs("li",{style:{marginBottom:"4px"},children:[g.name," — ",x.jsx("span",{style:{color:"red"},children:g.date})]},g.id))}):x.jsx("p",{children:"이번 달 휴일이 없습니다."})]}),x.jsx("h1",{style:{fontSize:"24px"},children:"📣 공지사항 📣"}),x.jsxs("ul",{style:{listStyle:"none",padding:0},children:[r.map(g=>x.jsxs("li",{style:{margin:"8px 0",borderBottom:"1px solid #ccc",paddingBottom:8},children:[x.jsxs("div",{onClick:()=>p(g.id),style:{cursor:"pointer",fontWeight:"bold"},children:[g.title," (",g.date,")"]}),n===g.id&&x.jsx("div",{style:{marginTop:8,whiteSpace:"pre-wrap"},children:l[g.id]||"불러오는 중..."})]},g.id)),r.length===0&&x.jsx("p",{children:"등록된 공지사항이 없습니다."})]})]})}function NI(){const{id:r}=lA(),[t,n]=z.useState(null);return z.useEffect(()=>{(async()=>{const i=await $g(tr(oe,"notices",r));i.exists()&&n({id:i.id,...i.data()})})()},[r]),t?x.jsxs("div",{className:"container",children:[x.jsx("h1",{children:t.title}),x.jsxs("p",{children:[x.jsx("strong",{children:"날짜:"})," ",t.date]}),x.jsx("div",{style:{whiteSpace:"pre-wrap",marginTop:12},children:t.content}),x.jsx("p",{style:{marginTop:24},children:x.jsx(ug,{to:"/notices",children:"← 목록으로 돌아가기"})})]}):x.jsx("p",{children:"공지사항을 불러오는 중…"})}function hm({children:r,...t}){return x.jsx("table",{...t,style:{width:"100%",borderCollapse:"collapse"},children:r})}function dm({children:r,...t}){return x.jsx("thead",{...t,children:r})}function mm({children:r,...t}){return x.jsx("tbody",{...t,children:r})}function nl({children:r,...t}){return x.jsx("tr",{...t,children:r})}function $i({children:r,...t}){return x.jsx("th",{...t,style:{border:"1px solid #ccc",padding:8,textAlign:"center",background:"#f5f5f5"},children:r})}function Xi({children:r,...t}){return x.jsx("td",{...t,style:{border:"1px solid #ccc",padding:8,textAlign:"center"},children:r})}function MI(){const r=localStorage.getItem("studentId"),[t,n]=z.useState(null),[i,l]=z.useState([]),[u,h]=z.useState([]);if(z.useEffect(()=>{if(!r)return;const v=da(tr(oe,"students",r),T=>{if(T.exists()){const b={id:T.id,...T.data()};n(b),b.points&&h(Object.keys(b.points))}});return()=>v()},[r]),z.useEffect(()=>{const v=da(vn(oe,"students"),T=>{const b=T.docs.map(R=>({id:R.id,...R.data()}));l(b)});return()=>v()},[]),!t)return x.jsx("p",{children:"로딩 중…"});const m=u.reduce((v,T)=>v+(t.points[T]||0),0),p=i.map(v=>({name:v.name,total:u.reduce((T,b)=>{var R;return T+(((R=v.points)==null?void 0:R[b])||0)},0)})).sort((v,T)=>T.total-v.total).slice(0,5),g={};return u.forEach(v=>{g[v]=[...i].map(T=>{var b;return{name:T.name,value:((b=T.points)==null?void 0:b[v])||0}}).sort((T,b)=>b.value-T.value).slice(0,5)}),x.jsxs("div",{className:"container-wide",style:{textAlign:"center"},children:[x.jsx("h1",{style:{fontSize:"24px"},children:"📖 포인트 관리"}),x.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"baseline",gap:16,marginTop:16},children:[x.jsx("h2",{style:{margin:0},children:"💡 내 포인트"}),x.jsxs("span",{style:{fontSize:18,fontWeight:"bold"},children:["총 포인트: ",m,"pt"]})]}),x.jsxs(hm,{children:[x.jsx(dm,{children:x.jsx(nl,{children:u.map(v=>x.jsx($i,{children:v},v))})}),x.jsx(mm,{children:x.jsx(nl,{children:u.map(v=>x.jsx(Xi,{children:t.points[v]||0},v))})})]}),x.jsx("h2",{style:{margin:"32px 0 16px"},children:"🏆 전체 랭킹 (Top 5)"}),x.jsxs(hm,{children:[x.jsx(dm,{children:x.jsxs(nl,{children:[x.jsx($i,{children:"순위"}),x.jsx($i,{children:"학생 이름"}),x.jsx($i,{children:"총합"})]})}),x.jsx(mm,{children:p.map((v,T)=>x.jsxs(nl,{children:[x.jsx(Xi,{children:T+1}),x.jsx(Xi,{children:v.name}),x.jsx(Xi,{children:v.total})]},v.name))})]}),x.jsx("h2",{style:{margin:"32px 0 16px"},children:"📊 항목별 랭킹 (Top 5)"}),u.map(v=>x.jsxs("div",{style:{marginBottom:24},children:[x.jsxs("h3",{style:{margin:"8px 0"},children:[v," TOP 5"]}),x.jsxs(hm,{children:[x.jsx(dm,{children:x.jsxs(nl,{children:[x.jsx($i,{children:"순위"}),x.jsx($i,{children:"학생 이름"}),x.jsx($i,{children:v})]})}),x.jsx(mm,{children:g[v].map((T,b)=>x.jsxs(nl,{children:[x.jsx(Xi,{children:b+1}),x.jsx(Xi,{children:T.name}),x.jsx(Xi,{children:T.value})]},v+T.name))})]})]},v))]})}function VI(){const[r,t]=z.useState([]),n=localStorage.getItem("studentId");z.useEffect(()=>{const l=vn(oe,"books");return da(l,u=>{const m=u.docs.map(p=>({id:p.id,...p.data()})).filter(p=>p.studentId===n);t(m)})},[n]);const i=()=>{const l=["이름","학년","책 제목","완료일"],u=r.map(v=>[v.name,v.grade,v.title,v.completedDate]);let h=l.join(",")+`
`;u.forEach(v=>{h+=v.join(",")+`
`});const m=new Blob([h],{type:"text/csv;charset=utf-8;"}),p=URL.createObjectURL(m),g=document.createElement("a");g.href=p,g.download=`문제집목록_${new Date().toISOString().slice(0,10)}.csv`,g.click(),URL.revokeObjectURL(p)};return x.jsxs("div",{className:"container",children:[x.jsx("h1",{style:{fontSize:"24px",marginBottom:"20px"},children:"📚 문제집 관리"}),x.jsx("button",{onClick:i,style:{padding:"8px 16px",backgroundColor:"#007bff",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",marginBottom:"16px"},children:"엑셀 다운로드"}),x.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"20px"},children:[x.jsx("thead",{children:x.jsxs("tr",{children:[x.jsx("th",{style:{border:"1px solid #ccc",padding:"8px"},children:"이름"}),x.jsx("th",{style:{border:"1px solid #ccc",padding:"8px"},children:"학년"}),x.jsx("th",{style:{border:"1px solid #ccc",padding:"8px"},children:"책 제목"}),x.jsx("th",{style:{border:"1px solid #ccc",padding:"8px"},children:"완료일"})]})}),x.jsx("tbody",{children:r.length>0?r.map(l=>x.jsxs("tr",{children:[x.jsx("td",{style:{border:"1px solid #ccc",padding:"8px"},children:l.name}),x.jsx("td",{style:{border:"1px solid #ccc",padding:"8px"},children:l.grade}),x.jsx("td",{style:{border:"1px solid #ccc",padding:"8px"},children:l.title}),x.jsx("td",{style:{border:"1px solid #ccc",padding:"8px"},children:l.completedDate})]},l.id)):x.jsx("tr",{children:x.jsx("td",{colSpan:"4",style:{border:"1px solid #ccc",padding:"8px",textAlign:"center"},children:"등록된 데이터가 없습니다."})})})]})]})}function PI(){const[r,t]=z.useState([]),[n,i]=z.useState({}),[l,u]=z.useState(null),[h,m]=z.useState(""),p=localStorage.getItem("studentId");z.useEffect(()=>{const b=vn(oe,"comments");return da(b,R=>{const k=R.docs.map(P=>({id:P.id,...P.data()})).filter(P=>P.studentId===p);t(k.sort((P,F)=>(F.createdAt||"").localeCompare(P.createdAt||"")))})},[p]);const g=async b=>{var P;const R=(P=n[b])==null?void 0:P.trim();if(!R)return alert("답변을 입력해주세요!");const D=await $g(tr(oe,"students",p)),k=D.exists()?D.data().name:"이름없음";await _b(vn(oe,"comments"),{studentId:p,name:k,comment:`답변:${R}`,date:new Date().toISOString().slice(0,10),createdAt:new Date().toISOString(),parentId:b}),i(F=>({...F,[b]:""})),alert("답변이 저장되었습니다!")},v=async b=>{window.confirm("정말 이 답변을 삭제하시겠습니까?")&&await GC(tr(oe,"comments",b))},T=async b=>{if(!h.trim())return alert("수정할 답변을 입력하세요!");await vb(tr(oe,"comments",b),{comment:`답변:${h}`}),u(null),m("")};return x.jsxs("div",{className:"container",style:{textAlign:"center",marginTop:"40px"},children:[x.jsx("h2",{style:{fontSize:"20px",marginBottom:"16px"},children:"📝 저장된 코멘트"}),x.jsxs("ul",{style:{listStyle:"none",padding:0,textAlign:"left"},children:[r.filter(b=>!b.comment.startsWith("답변:")).map(b=>{var D;const R=r.filter(k=>k.parentId===b.id);return x.jsxs("li",{style:{marginBottom:16,borderBottom:"1px solid #eee",paddingBottom:8},children:[x.jsxs("div",{children:[b.comment," ",x.jsxs("span",{style:{color:"#888",fontSize:"12px"},children:["(",b.date,")"]})]}),x.jsxs("div",{style:{fontSize:"12px",color:"#aaa"},children:["저장시간: ",(D=b.createdAt)==null?void 0:D.slice(0,19).replace("T"," ")]}),R.map(k=>x.jsx("div",{style:{marginTop:4,marginLeft:10,background:"#f8f8f8",padding:"4px 8px",borderRadius:4},children:l===k.id?x.jsxs(x.Fragment,{children:[x.jsx("input",{value:h,onChange:P=>m(P.target.value),style:{width:"60%",padding:4}}),x.jsx("button",{onClick:()=>T(k.id),style:{marginLeft:8},children:"저장"}),x.jsx("button",{onClick:()=>u(null),style:{marginLeft:4},children:"취소"})]}):x.jsxs(x.Fragment,{children:[x.jsxs("div",{style:{fontSize:"13px",color:"#333"},children:["💬 ",k.comment.replace("답변:","")]}),x.jsxs("div",{style:{marginTop:4},children:[x.jsx("button",{onClick:()=>{u(k.id),m(k.comment.replace("답변:",""))},style:{marginRight:6},children:"수정"}),x.jsx("button",{onClick:()=>v(k.id),children:"삭제"})]})]})},k.id)),x.jsxs("div",{style:{marginTop:8},children:[x.jsx("input",{placeholder:"답변 입력",value:n[b.id]||"",onChange:k=>i(P=>({...P,[b.id]:k.target.value})),style:{width:"70%",padding:4}}),x.jsx("button",{onClick:()=>g(b.id),style:{marginLeft:8,padding:"4px 12px"},children:"저장"})]})]},b.id)}),r.filter(b=>!b.comment.startsWith("답변:")).length===0&&x.jsx("li",{style:{color:"#888"},children:"등록된 코멘트가 없습니다."})]})]})}function kI(){const[r,t]=z.useState("comments");return x.jsxs("div",{className:"container",style:{textAlign:"center",marginTop:"40px"},children:[x.jsx("h1",{style:{fontSize:"24px",marginBottom:"20px"},children:"📚 내 아이 수업 현황"}),x.jsxs("div",{style:{marginBottom:"16px"},children:[x.jsx("button",{onClick:()=>t("comments"),style:{padding:"8px 16px",marginRight:"8px",backgroundColor:r==="comments"?"#007bff":"#f0f0f0",color:r==="comments"?"#fff":"#333",border:"none",borderRadius:"4px",cursor:"pointer"},children:"코멘트"}),x.jsx("button",{onClick:()=>t("books"),style:{padding:"8px 16px",marginRight:"8px",backgroundColor:r==="books"?"#007bff":"#f0f0f0",color:r==="books"?"#fff":"#333",border:"none",borderRadius:"4px",cursor:"pointer"},children:"문제집"}),x.jsx("button",{onClick:()=>t("points"),style:{padding:"8px 16px",backgroundColor:r==="points"?"#007bff":"#f0f0f0",color:r==="points"?"#fff":"#333",border:"none",borderRadius:"4px",cursor:"pointer"},children:"포인트"})]}),r==="comments"&&x.jsx(PI,{}),r==="books"&&x.jsx(VI,{}),r==="points"&&x.jsx(MI,{})]})}function LI(){return x.jsx(GA,{children:x.jsx(jI,{})})}function jI(){const[r,t]=z.useState(!!localStorage.getItem("studentId")),[n,i]=z.useState(!1),[l,u]=z.useState(""),h=Ta();z.useEffect(()=>{const v=()=>{t(!!localStorage.getItem("studentId"))};return window.addEventListener("storage",v),()=>{window.removeEventListener("storage",v)}},[]),z.useEffect(()=>{t(!!localStorage.getItem("studentId"))},[h]),z.useEffect(()=>{const v=localStorage.getItem("studentId");if(!v)return;(async()=>{const b=new Date,R=new Date;R.setDate(b.getDate()-3);const D=await ai(vn(oe,"comments")),k=await ai(vn(oe,"books")),P=D.docs.some(rt=>{const Z=rt.data();return Z.studentId===v&&new Date(Z.createdAt||Z.date)>=R}),F=k.docs.some(rt=>{const Z=rt.data();return Z.studentId===v&&new Date(Z.createdAt||Z.completedDate)>=R});g(P||F)})()},[]),z.useEffect(()=>{let v;const T=()=>{clearTimeout(v),v=setTimeout(()=>{localStorage.clear(),t(!1),window.location.hash="#/login",alert("1시간 동안 활동이 없어 자동 로그아웃되었습니다.")},36e5)};if(r){const b=["mousemove","keydown","click","scroll","touchstart"];return b.forEach(R=>window.addEventListener(R,T)),T(),()=>{clearTimeout(v),b.forEach(R=>window.removeEventListener(R,T))}}},[r]);async function m(){const v=localStorage.getItem("studentId");if(!v||l.length!==4){alert("PIN은 4자리 숫자로 입력해야 합니다.");return}try{await vb(tr(oe,"students",v),{pin:l}),alert("PIN이 성공적으로 변경되었습니다."),i(!1),u("")}catch(T){console.error(T),alert("PIN 변경 중 오류가 발생했습니다.")}}const[p,g]=z.useState(!1);return x.jsxs("div",{children:[r&&x.jsxs("nav",{style:{position:"sticky",top:0,backgroundColor:"#fff",padding:"8px 0",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",zIndex:1e3,textAlign:"center"},children:[["/attendance","/payment","/notices","/myclass"].map(v=>x.jsx(OE,{to:v,style:({isActive:T})=>({margin:"0 8px",padding:"6px 12px",borderRadius:4,textDecoration:"none",fontWeight:T?"bold":"normal",color:T?"#fff":"#333",backgroundColor:T?"#007bff":"transparent",position:"relative",display:"inline-block"}),children:{"/attendance":"출석","/payment":"결제","/notices":"공지사항","/myclass":x.jsxs(x.Fragment,{children:["내아이수업현황",p&&x.jsx("span",{className:"pulse wiggle",style:{position:"absolute",top:-8,right:-12,backgroundColor:"red",color:"white",borderRadius:"12px",padding:"2px 6px",fontSize:"10px",fontWeight:"bold",fontFamily:"'Segoe UI', 'Apple SD Gothic Neo', sans-serif"},children:"🔥 새글"})]})}[v]},v)),x.jsx("button",{onClick:()=>i(!0),style:{marginLeft:20,padding:"6px 12px",border:"none",borderRadius:4,backgroundColor:"#f0f0f0",cursor:"pointer"},children:"PIN 변경"}),x.jsx("button",{onClick:()=>{localStorage.clear(),t(!1),window.location.hash="#/login"},style:{marginLeft:8,padding:"6px 12px",border:"none",borderRadius:4,backgroundColor:"#f0f0f0",cursor:"pointer"},children:"로그아웃"}),n&&x.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center"},children:x.jsxs("div",{style:{background:"#fff",padding:20,borderRadius:8,width:300},children:[x.jsx("h2",{children:"PIN 변경"}),x.jsx("input",{type:"text",maxLength:4,value:l,onChange:v=>u(v.target.value.replace(/\D/g,"")),placeholder:"새 PIN (4자리)",style:{width:"100%",padding:8,margin:"12px 0"}}),x.jsxs("div",{style:{textAlign:"right"},children:[x.jsx("button",{onClick:()=>i(!1),style:{marginRight:8},children:"취소"}),x.jsx("button",{onClick:m,children:"변경"})]})]})})]}),x.jsxs(bA,{children:[x.jsx(Za,{path:"/login",element:x.jsx($C,{onLoginSuccess:()=>t(!0)})}),x.jsx(Za,{path:"/",element:r?x.jsx(Ki,{to:"/notices",replace:!0}):x.jsx(Ki,{to:"/login",replace:!0})}),x.jsx(Za,{path:"/attendance",element:r?x.jsx(CI,{}):x.jsx(Ki,{to:"/login",replace:!0})}),x.jsx(Za,{path:"/payment",element:r?x.jsx(OI,{}):x.jsx(Ki,{to:"/login",replace:!0})}),x.jsx(Za,{path:"/notices",element:r?x.jsx(II,{}):x.jsx(Ki,{to:"/login",replace:!0})}),x.jsx(Za,{path:"/notices/:id",element:r?x.jsx(NI,{}):x.jsx(Ki,{to:"/login",replace:!0})}),x.jsx(Za,{path:"/myclass",element:r?x.jsx(kI,{}):x.jsx(Ki,{to:"/login",replace:!0})})]})]})}IS.createRoot(document.getElementById("root")).render(x.jsx(z.StrictMode,{children:x.jsx(LI,{})}));
