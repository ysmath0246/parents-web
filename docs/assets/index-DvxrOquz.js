(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function JT(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var td={exports:{}},to={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zy;function tb(){if(Zy)return to;Zy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:c}}return to.Fragment=e,to.jsx=i,to.jsxs=i,to}var Wy;function eb(){return Wy||(Wy=1,td.exports=tb()),td.exports}var T=eb(),ed={exports:{}},Nt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jy;function nb(){if(Jy)return Nt;Jy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function R(I){return I===null||typeof I!="object"?null:(I=S&&I[S]||I["@@iterator"],typeof I=="function"?I:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,Q={};function N(I,J,ot){this.props=I,this.context=J,this.refs=Q,this.updater=ot||M}N.prototype.isReactComponent={},N.prototype.setState=function(I,J){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,J,"setState")},N.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function B(){}B.prototype=N.prototype;function X(I,J,ot){this.props=I,this.context=J,this.refs=Q,this.updater=ot||M}var q=X.prototype=new B;q.constructor=X,V(q,N.prototype),q.isPureReactComponent=!0;var ct=Array.isArray,ut={H:null,A:null,T:null,S:null,V:null},yt=Object.prototype.hasOwnProperty;function O(I,J,ot,st,mt,Dt){return ot=Dt.ref,{$$typeof:r,type:I,key:J,ref:ot!==void 0?ot:null,props:Dt}}function x(I,J){return O(I.type,J,void 0,void 0,void 0,I.props)}function w(I){return typeof I=="object"&&I!==null&&I.$$typeof===r}function j(I){var J={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(ot){return J[ot]})}var k=/\/+/g;function L(I,J){return typeof I=="object"&&I!==null&&I.key!=null?j(""+I.key):J.toString(36)}function C(){}function Pt(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(C,C):(I.status="pending",I.then(function(J){I.status==="pending"&&(I.status="fulfilled",I.value=J)},function(J){I.status==="pending"&&(I.status="rejected",I.reason=J)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function Vt(I,J,ot,st,mt){var Dt=typeof I;(Dt==="undefined"||Dt==="boolean")&&(I=null);var St=!1;if(I===null)St=!0;else switch(Dt){case"bigint":case"string":case"number":St=!0;break;case"object":switch(I.$$typeof){case r:case e:St=!0;break;case E:return St=I._init,Vt(St(I._payload),J,ot,st,mt)}}if(St)return mt=mt(I),St=st===""?"."+L(I,0):st,ct(mt)?(ot="",St!=null&&(ot=St.replace(k,"$&/")+"/"),Vt(mt,J,ot,"",function(Nn){return Nn})):mt!=null&&(w(mt)&&(mt=x(mt,ot+(mt.key==null||I&&I.key===mt.key?"":(""+mt.key).replace(k,"$&/")+"/")+St)),J.push(mt)),1;St=0;var fe=st===""?".":st+":";if(ct(I))for(var Kt=0;Kt<I.length;Kt++)st=I[Kt],Dt=fe+L(st,Kt),St+=Vt(st,J,ot,Dt,mt);else if(Kt=R(I),typeof Kt=="function")for(I=Kt.call(I),Kt=0;!(st=I.next()).done;)st=st.value,Dt=fe+L(st,Kt++),St+=Vt(st,J,ot,Dt,mt);else if(Dt==="object"){if(typeof I.then=="function")return Vt(Pt(I),J,ot,st,mt);throw J=String(I),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return St}function Z(I,J,ot){if(I==null)return I;var st=[],mt=0;return Vt(I,st,"","",function(Dt){return J.call(ot,Dt,mt++)}),st}function $(I){if(I._status===-1){var J=I._result;J=J(),J.then(function(ot){(I._status===0||I._status===-1)&&(I._status=1,I._result=ot)},function(ot){(I._status===0||I._status===-1)&&(I._status=2,I._result=ot)}),I._status===-1&&(I._status=0,I._result=J)}if(I._status===1)return I._result.default;throw I._result}var lt=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function dt(){}return Nt.Children={map:Z,forEach:function(I,J,ot){Z(I,function(){J.apply(this,arguments)},ot)},count:function(I){var J=0;return Z(I,function(){J++}),J},toArray:function(I){return Z(I,function(J){return J})||[]},only:function(I){if(!w(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},Nt.Component=N,Nt.Fragment=i,Nt.Profiler=o,Nt.PureComponent=X,Nt.StrictMode=s,Nt.Suspense=y,Nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ut,Nt.__COMPILER_RUNTIME={__proto__:null,c:function(I){return ut.H.useMemoCache(I)}},Nt.cache=function(I){return function(){return I.apply(null,arguments)}},Nt.cloneElement=function(I,J,ot){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var st=V({},I.props),mt=I.key,Dt=void 0;if(J!=null)for(St in J.ref!==void 0&&(Dt=void 0),J.key!==void 0&&(mt=""+J.key),J)!yt.call(J,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&J.ref===void 0||(st[St]=J[St]);var St=arguments.length-2;if(St===1)st.children=ot;else if(1<St){for(var fe=Array(St),Kt=0;Kt<St;Kt++)fe[Kt]=arguments[Kt+2];st.children=fe}return O(I.type,mt,void 0,void 0,Dt,st)},Nt.createContext=function(I){return I={$$typeof:f,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:c,_context:I},I},Nt.createElement=function(I,J,ot){var st,mt={},Dt=null;if(J!=null)for(st in J.key!==void 0&&(Dt=""+J.key),J)yt.call(J,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(mt[st]=J[st]);var St=arguments.length-2;if(St===1)mt.children=ot;else if(1<St){for(var fe=Array(St),Kt=0;Kt<St;Kt++)fe[Kt]=arguments[Kt+2];mt.children=fe}if(I&&I.defaultProps)for(st in St=I.defaultProps,St)mt[st]===void 0&&(mt[st]=St[st]);return O(I,Dt,void 0,void 0,null,mt)},Nt.createRef=function(){return{current:null}},Nt.forwardRef=function(I){return{$$typeof:m,render:I}},Nt.isValidElement=w,Nt.lazy=function(I){return{$$typeof:E,_payload:{_status:-1,_result:I},_init:$}},Nt.memo=function(I,J){return{$$typeof:g,type:I,compare:J===void 0?null:J}},Nt.startTransition=function(I){var J=ut.T,ot={};ut.T=ot;try{var st=I(),mt=ut.S;mt!==null&&mt(ot,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(dt,lt)}catch(Dt){lt(Dt)}finally{ut.T=J}},Nt.unstable_useCacheRefresh=function(){return ut.H.useCacheRefresh()},Nt.use=function(I){return ut.H.use(I)},Nt.useActionState=function(I,J,ot){return ut.H.useActionState(I,J,ot)},Nt.useCallback=function(I,J){return ut.H.useCallback(I,J)},Nt.useContext=function(I){return ut.H.useContext(I)},Nt.useDebugValue=function(){},Nt.useDeferredValue=function(I,J){return ut.H.useDeferredValue(I,J)},Nt.useEffect=function(I,J,ot){var st=ut.H;if(typeof ot=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return st.useEffect(I,J)},Nt.useId=function(){return ut.H.useId()},Nt.useImperativeHandle=function(I,J,ot){return ut.H.useImperativeHandle(I,J,ot)},Nt.useInsertionEffect=function(I,J){return ut.H.useInsertionEffect(I,J)},Nt.useLayoutEffect=function(I,J){return ut.H.useLayoutEffect(I,J)},Nt.useMemo=function(I,J){return ut.H.useMemo(I,J)},Nt.useOptimistic=function(I,J){return ut.H.useOptimistic(I,J)},Nt.useReducer=function(I,J,ot){return ut.H.useReducer(I,J,ot)},Nt.useRef=function(I){return ut.H.useRef(I)},Nt.useState=function(I){return ut.H.useState(I)},Nt.useSyncExternalStore=function(I,J,ot){return ut.H.useSyncExternalStore(I,J,ot)},Nt.useTransition=function(){return ut.H.useTransition()},Nt.version="19.1.0",Nt}var t_;function Fd(){return t_||(t_=1,ed.exports=nb()),ed.exports}var P=Fd();const ib=JT(P);var nd={exports:{}},eo={},id={exports:{}},rd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_;function rb(){return e_||(e_=1,function(r){function e(Z,$){var lt=Z.length;Z.push($);t:for(;0<lt;){var dt=lt-1>>>1,I=Z[dt];if(0<o(I,$))Z[dt]=$,Z[lt]=I,lt=dt;else break t}}function i(Z){return Z.length===0?null:Z[0]}function s(Z){if(Z.length===0)return null;var $=Z[0],lt=Z.pop();if(lt!==$){Z[0]=lt;t:for(var dt=0,I=Z.length,J=I>>>1;dt<J;){var ot=2*(dt+1)-1,st=Z[ot],mt=ot+1,Dt=Z[mt];if(0>o(st,lt))mt<I&&0>o(Dt,st)?(Z[dt]=Dt,Z[mt]=lt,dt=mt):(Z[dt]=st,Z[ot]=lt,dt=ot);else if(mt<I&&0>o(Dt,lt))Z[dt]=Dt,Z[mt]=lt,dt=mt;else break t}}return $}function o(Z,$){var lt=Z.sortIndex-$.sortIndex;return lt!==0?lt:Z.id-$.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var y=[],g=[],E=1,S=null,R=3,M=!1,V=!1,Q=!1,N=!1,B=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function ct(Z){for(var $=i(g);$!==null;){if($.callback===null)s(g);else if($.startTime<=Z)s(g),$.sortIndex=$.expirationTime,e(y,$);else break;$=i(g)}}function ut(Z){if(Q=!1,ct(Z),!V)if(i(y)!==null)V=!0,yt||(yt=!0,L());else{var $=i(g);$!==null&&Vt(ut,$.startTime-Z)}}var yt=!1,O=-1,x=5,w=-1;function j(){return N?!0:!(r.unstable_now()-w<x)}function k(){if(N=!1,yt){var Z=r.unstable_now();w=Z;var $=!0;try{t:{V=!1,Q&&(Q=!1,X(O),O=-1),M=!0;var lt=R;try{e:{for(ct(Z),S=i(y);S!==null&&!(S.expirationTime>Z&&j());){var dt=S.callback;if(typeof dt=="function"){S.callback=null,R=S.priorityLevel;var I=dt(S.expirationTime<=Z);if(Z=r.unstable_now(),typeof I=="function"){S.callback=I,ct(Z),$=!0;break e}S===i(y)&&s(y),ct(Z)}else s(y);S=i(y)}if(S!==null)$=!0;else{var J=i(g);J!==null&&Vt(ut,J.startTime-Z),$=!1}}break t}finally{S=null,R=lt,M=!1}$=void 0}}finally{$?L():yt=!1}}}var L;if(typeof q=="function")L=function(){q(k)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Pt=C.port2;C.port1.onmessage=k,L=function(){Pt.postMessage(null)}}else L=function(){B(k,0)};function Vt(Z,$){O=B(function(){Z(r.unstable_now())},$)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Z){Z.callback=null},r.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<Z?Math.floor(1e3/Z):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_next=function(Z){switch(R){case 1:case 2:case 3:var $=3;break;default:$=R}var lt=R;R=$;try{return Z()}finally{R=lt}},r.unstable_requestPaint=function(){N=!0},r.unstable_runWithPriority=function(Z,$){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var lt=R;R=Z;try{return $()}finally{R=lt}},r.unstable_scheduleCallback=function(Z,$,lt){var dt=r.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?dt+lt:dt):lt=dt,Z){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=lt+I,Z={id:E++,callback:$,priorityLevel:Z,startTime:lt,expirationTime:I,sortIndex:-1},lt>dt?(Z.sortIndex=lt,e(g,Z),i(y)===null&&Z===i(g)&&(Q?(X(O),O=-1):Q=!0,Vt(ut,lt-dt))):(Z.sortIndex=I,e(y,Z),V||M||(V=!0,yt||(yt=!0,L()))),Z},r.unstable_shouldYield=j,r.unstable_wrapCallback=function(Z){var $=R;return function(){var lt=R;R=$;try{return Z.apply(this,arguments)}finally{R=lt}}}}(rd)),rd}var n_;function ab(){return n_||(n_=1,id.exports=rb()),id.exports}var ad={exports:{}},rn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i_;function sb(){if(i_)return rn;i_=1;var r=Fd();function e(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,g,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:y,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,rn.createPortal=function(y,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return c(y,g,null,E)},rn.flushSync=function(y){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,y)return y()}finally{f.T=g,s.p=E,s.d.f()}},rn.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(y,g))},rn.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},rn.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var E=g.as,S=m(E,g.crossOrigin),R=typeof g.integrity=="string"?g.integrity:void 0,M=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:R,fetchPriority:M}):E==="script"&&s.d.X(y,{crossOrigin:S,integrity:R,fetchPriority:M,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},rn.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(y,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(y)},rn.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,S=m(E,g.crossOrigin);s.d.L(y,E,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},rn.preloadModule=function(y,g){if(typeof y=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(y)},rn.requestFormReset=function(y){s.d.r(y)},rn.unstable_batchedUpdates=function(y,g){return y(g)},rn.useFormState=function(y,g,E){return f.H.useFormState(y,g,E)},rn.useFormStatus=function(){return f.H.useHostTransitionStatus()},rn.version="19.1.0",rn}var r_;function lb(){if(r_)return ad.exports;r_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ad.exports=sb(),ad.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a_;function ob(){if(a_)return eo;a_=1;var r=ab(),e=Fd(),i=lb();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function m(t){if(c(t)!==t)throw Error(s(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),n;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,b=h.child;b;){if(b===a){v=!0,a=h,l=d;break}if(b===l){v=!0,l=h,a=d;break}b=b.sibling}if(!v){for(b=d.child;b;){if(b===a){v=!0,a=d,l=h;break}if(b===l){v=!0,l=d,a=h;break}b=b.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function g(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=g(t),n!==null)return n;t=t.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),X=Symbol.for("react.consumer"),q=Symbol.for("react.context"),ct=Symbol.for("react.forward_ref"),ut=Symbol.for("react.suspense"),yt=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=k&&t[k]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function Pt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case V:return"Fragment";case N:return"Profiler";case Q:return"StrictMode";case ut:return"Suspense";case yt:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case M:return"Portal";case q:return(t.displayName||"Context")+".Provider";case X:return(t._context.displayName||"Context")+".Consumer";case ct:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return n=t.displayName||null,n!==null?n:Pt(t.type)||"Memo";case x:n=t._payload,t=t._init;try{return Pt(t(n))}catch{}}return null}var Vt=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},dt=[],I=-1;function J(t){return{current:t}}function ot(t){0>I||(t.current=dt[I],dt[I]=null,I--)}function st(t,n){I++,dt[I]=t.current,t.current=n}var mt=J(null),Dt=J(null),St=J(null),fe=J(null);function Kt(t,n){switch(st(St,n),st(Dt,t),st(mt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Ry(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Ry(n),t=xy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ot(mt),st(mt,t)}function Nn(){ot(mt),ot(Dt),ot(St)}function ai(t){t.memoizedState!==null&&st(fe,t);var n=mt.current,a=xy(n,t.type);n!==a&&(st(Dt,t),st(mt,a))}function Yn(t){Dt.current===t&&(ot(mt),ot(Dt)),fe.current===t&&(ot(fe),$l._currentValue=lt)}var si=Object.prototype.hasOwnProperty,li=r.unstable_scheduleCallback,nt=r.unstable_cancelCallback,ft=r.unstable_shouldYield,_t=r.unstable_requestPaint,wt=r.unstable_now,ge=r.unstable_getCurrentPriorityLevel,Fe=r.unstable_ImmediatePriority,qt=r.unstable_UserBlockingPriority,zt=r.unstable_NormalPriority,ue=r.unstable_LowPriority,ce=r.unstable_IdlePriority,un=r.log,Kn=r.unstable_setDisableYieldValue,se=null,Xt=null;function Tn(t){if(typeof un=="function"&&Kn(t),Xt&&typeof Xt.setStrictMode=="function")try{Xt.setStrictMode(se,t)}catch{}}var en=Math.clz32?Math.clz32:$r,jo=Math.log,eh=Math.LN2;function $r(t){return t>>>=0,t===0?32:31-(jo(t)/eh|0)|0}var Xr=256,Zr=4194304;function $n(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ka(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?h=$n(l):(v&=b,v!==0?h=$n(v):a||(a=b&~t,a!==0&&(h=$n(a))))):(b=l&~d,b!==0?h=$n(b):v!==0?h=$n(v):a||(a=l&~t,a!==0&&(h=$n(a)))),h===0?0:n!==0&&n!==h&&(n&d)===0&&(d=h&-h,a=n&-n,d>=a||d===32&&(a&4194048)!==0)?n:h}function Wr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function $s(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xs(){var t=Xr;return Xr<<=1,(Xr&4194048)===0&&(Xr=256),t}function Zs(){var t=Zr;return Zr<<=1,(Zr&62914560)===0&&(Zr=4194304),t}function Di(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Ii(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ws(t,n,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,D=t.expirationTimes,F=t.hiddenUpdates;for(a=v&~a;0<a;){var tt=31-en(a),it=1<<tt;b[tt]=0,D[tt]=-1;var Y=F[tt];if(Y!==null)for(F[tt]=null,tt=0;tt<Y.length;tt++){var K=Y[tt];K!==null&&(K.lane&=-536870913)}a&=~it}l!==0&&oi(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~n))}function oi(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-en(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Js(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-en(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function or(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Pa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ur(){var t=$.p;return t!==0?t:(t=window.event,t===void 0?32:Fy(t.type))}function Uo(t,n){var a=$.p;try{return $.p=t,n()}finally{$.p=a}}var de=Math.random().toString(36).slice(2),Ne="__reactFiber$"+de,xe="__reactProps$"+de,Mn="__reactContainer$"+de,tl="__reactEvents$"+de,nh="__reactListeners$"+de,cr="__reactHandles$"+de,Lo="__reactResources$"+de,Jr="__reactMarker$"+de;function hr(t){delete t[Ne],delete t[xe],delete t[tl],delete t[nh],delete t[cr]}function Vi(t){var n=t[Ne];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Mn]||a[Ne]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Iy(t);t!==null;){if(a=t[Ne])return a;t=Iy(t)}return n}t=a,a=t.parentNode}return null}function ui(t){if(t=t[Ne]||t[Mn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function ci(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function cn(t){var n=t[Lo];return n||(n=t[Lo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function be(t){t[Jr]=!0}var el=new Set,Ba={};function Xn(t,n){Ni(t,n),Ni(t+"Capture",n)}function Ni(t,n){for(Ba[t]=n,t=0;t<n.length;t++)el.add(n[t])}var ko=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Po={},ta={};function Bo(t){return si.call(ta,t)?!0:si.call(Po,t)?!1:ko.test(t)?ta[t]=!0:(Po[t]=!0,!1)}function fr(t,n,a){if(Bo(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function hi(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Qe(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}var ea,zo;function Mi(t){if(ea===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);ea=n&&n[1]||"",zo=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ea+t+zo}var za=!1;function qa(t,n){if(!t||za)return"";za=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var it=function(){throw Error()};if(Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch(K){var Y=K}Reflect.construct(t,[],it)}else{try{it.call()}catch(K){Y=K}t.call(it.prototype)}}else{try{throw Error()}catch(K){Y=K}(it=t())&&typeof it.catch=="function"&&it.catch(function(){})}}catch(K){if(K&&Y&&typeof K.stack=="string")return[K.stack,Y.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],b=d[1];if(v&&b){var D=v.split(`
`),F=b.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===F.length)for(l=D.length-1,h=F.length-1;1<=l&&0<=h&&D[l]!==F[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==F[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==F[h]){var tt=`
`+D[l].replace(" at new "," at ");return t.displayName&&tt.includes("<anonymous>")&&(tt=tt.replace("<anonymous>",t.displayName)),tt}while(1<=l&&0<=h);break}}}finally{za=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Mi(a):""}function nl(t){switch(t.tag){case 26:case 27:case 5:return Mi(t.type);case 16:return Mi("Lazy");case 13:return Mi("Suspense");case 19:return Mi("SuspenseList");case 0:case 15:return qa(t.type,!1);case 11:return qa(t.type.render,!1);case 1:return qa(t.type,!0);case 31:return Mi("Activity");default:return""}}function Ha(t){try{var n="";do n+=nl(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function hn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function il(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ih(t){var n=il(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ga(t){t._valueTracker||(t._valueTracker=ih(t))}function rl(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=il(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function na(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var rh=/[\n"\\]/g;function we(t){return t.replace(rh,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function bn(t,n,a,l,h,d,v,b){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),n!=null?v==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+hn(n)):t.value!==""+hn(n)&&(t.value=""+hn(n)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),n!=null?dr(t,v,hn(n)):a!=null?dr(t,v,hn(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+hn(b):t.removeAttribute("name")}function ia(t,n,a,l,h,d,v,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;a=a!=null?""+hn(a):"",n=n!=null?""+hn(n):a,b||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function dr(t,n,a){n==="number"&&na(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Oi(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+hn(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function ne(t,n,a){if(n!=null&&(n=""+hn(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+hn(a):""}function ra(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(Vt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=hn(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function On(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var aa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qo(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||aa.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function al(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&qo(t,h,l)}else for(var d in n)n.hasOwnProperty(d)&&qo(t,d,n[d])}function sl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ah=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fa(t){return sh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var ji=null;function jn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ui=null,Li=null;function ll(t){var n=ui(t);if(n&&(t=n.stateNode)){var a=t[xe]||null;t:switch(t=n.stateNode,n.type){case"input":if(bn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+we(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[xe]||null;if(!h)throw Error(s(90));bn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&rl(l)}break t;case"textarea":ne(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Oi(t,!!a.multiple,n,!1)}}}var fi=!1;function Ho(t,n,a){if(fi)return t(n,a);fi=!0;try{var l=t(n);return l}finally{if(fi=!1,(Ui!==null||Li!==null)&&(Uu(),Ui&&(n=Ui,t=Li,Li=Ui=null,ll(n),t)))for(n=0;n<t.length;n++)ll(t[n])}}function sa(t,n){var a=t.stateNode;if(a===null)return null;var l=a[xe]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Un=!1;if(Zn)try{var la={};Object.defineProperty(la,"passive",{get:function(){Un=!0}}),window.addEventListener("test",la,la),window.removeEventListener("test",la,la)}catch{Un=!1}var di=null,mr=null,ki=null;function ol(){if(ki)return ki;var t,n=mr,a=n.length,l,h="value"in di?di.value:di.textContent,d=h.length;for(t=0;t<a&&n[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&n[a-l]===h[d-l];l++);return ki=h.slice(t,1<l?1-l:void 0)}function mi(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function pi(){return!0}function ul(){return!1}function Pe(t){function n(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?pi:ul,this.isPropagationStopped=ul,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=pi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=pi)},persist:function(){},isPersistent:pi}),n}var Wt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qa=Pe(Wt),oa=E({},Wt,{view:0,detail:0}),Go=Pe(oa),Ya,Ka,gi,ua=E({},oa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gi&&(gi&&t.type==="mousemove"?(Ya=t.screenX-gi.screenX,Ka=t.screenY-gi.screenY):Ka=Ya=0,gi=t),Ya)},movementY:function(t){return"movementY"in t?t.movementY:Ka}}),Ln=Pe(ua),Fo=E({},ua,{dataTransfer:0}),lh=Pe(Fo),ca=E({},oa,{relatedTarget:0}),$a=Pe(ca),cl=E({},Wt,{animationName:0,elapsedTime:0,pseudoElement:0}),Xa=Pe(cl),Qo=E({},Wt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Za=Pe(Qo),oh=E({},Wt,{data:0}),hl=Pe(oh),ha={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ko={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fl(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Ko[t])?!!n[t]:!1}function fa(){return fl}var $o=E({},oa,{key:function(t){if(t.key){var n=ha[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=mi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Yo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fa,charCode:function(t){return t.type==="keypress"?mi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?mi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Wa=Pe($o),Xo=E({},ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dl=Pe(Xo),Pi=E({},oa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fa}),Zo=Pe(Pi),Wo=E({},Wt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jo=Pe(Wo),tu=E({},ua,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ja=Pe(tu),fn=E({},Wt,{newState:0,oldState:0}),eu=Pe(fn),nu=[9,13,27,32],yi=Zn&&"CompositionEvent"in window,u=null;Zn&&"documentMode"in document&&(u=document.documentMode);var p=Zn&&"TextEvent"in window&&!u,_=Zn&&(!yi||u&&8<u&&11>=u),A=" ",H=!1;function W(t,n){switch(t){case"keyup":return nu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ht(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ht=!1;function Me(t,n){switch(t){case"compositionend":return ht(n);case"keypress":return n.which!==32?null:(H=!0,A);case"textInput":return t=n.data,t===A&&H?null:t;default:return null}}function Gt(t,n){if(Ht)return t==="compositionend"||!yi&&W(t,n)?(t=ol(),ki=mr=di=null,Ht=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _&&n.locale!=="ko"?null:n.data;default:return null}}var Be={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oe(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Be[t.type]:n==="textarea"}function Bi(t,n,a,l){Ui?Li?Li.push(l):Li=[l]:Ui=l,n=qu(n,"onChange"),0<n.length&&(a=new Qa("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Ye=null,_i=null;function ml(t){Ey(t,0)}function iu(t){var n=ci(t);if(rl(n))return t}function zm(t,n){if(t==="change")return n}var qm=!1;if(Zn){var uh;if(Zn){var ch="oninput"in document;if(!ch){var Hm=document.createElement("div");Hm.setAttribute("oninput","return;"),ch=typeof Hm.oninput=="function"}uh=ch}else uh=!1;qm=uh&&(!document.documentMode||9<document.documentMode)}function Gm(){Ye&&(Ye.detachEvent("onpropertychange",Fm),_i=Ye=null)}function Fm(t){if(t.propertyName==="value"&&iu(_i)){var n=[];Bi(n,_i,t,jn(t)),Ho(ml,n)}}function DE(t,n,a){t==="focusin"?(Gm(),Ye=n,_i=a,Ye.attachEvent("onpropertychange",Fm)):t==="focusout"&&Gm()}function IE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return iu(_i)}function VE(t,n){if(t==="click")return iu(n)}function NE(t,n){if(t==="input"||t==="change")return iu(n)}function ME(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Sn=typeof Object.is=="function"?Object.is:ME;function pl(t,n){if(Sn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!si.call(n,h)||!Sn(t[h],n[h]))return!1}return!0}function Qm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ym(t,n){var a=Qm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Qm(a)}}function Km(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Km(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function $m(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=na(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=na(t.document)}return n}function hh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var OE=Zn&&"documentMode"in document&&11>=document.documentMode,ts=null,fh=null,gl=null,dh=!1;function Xm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;dh||ts==null||ts!==na(l)||(l=ts,"selectionStart"in l&&hh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),gl&&pl(gl,l)||(gl=l,l=qu(fh,"onSelect"),0<l.length&&(n=new Qa("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=ts)))}function da(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var es={animationend:da("Animation","AnimationEnd"),animationiteration:da("Animation","AnimationIteration"),animationstart:da("Animation","AnimationStart"),transitionrun:da("Transition","TransitionRun"),transitionstart:da("Transition","TransitionStart"),transitioncancel:da("Transition","TransitionCancel"),transitionend:da("Transition","TransitionEnd")},mh={},Zm={};Zn&&(Zm=document.createElement("div").style,"AnimationEvent"in window||(delete es.animationend.animation,delete es.animationiteration.animation,delete es.animationstart.animation),"TransitionEvent"in window||delete es.transitionend.transition);function ma(t){if(mh[t])return mh[t];if(!es[t])return t;var n=es[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Zm)return mh[t]=n[a];return t}var Wm=ma("animationend"),Jm=ma("animationiteration"),tp=ma("animationstart"),jE=ma("transitionrun"),UE=ma("transitionstart"),LE=ma("transitioncancel"),ep=ma("transitionend"),np=new Map,ph="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ph.push("scrollEnd");function Wn(t,n){np.set(t,n),Xn(n,[t])}var ip=new WeakMap;function kn(t,n){if(typeof t=="object"&&t!==null){var a=ip.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Ha(n)},ip.set(t,n),n)}return{value:t,source:n,stack:Ha(n)}}var Pn=[],ns=0,gh=0;function ru(){for(var t=ns,n=gh=ns=0;n<t;){var a=Pn[n];Pn[n++]=null;var l=Pn[n];Pn[n++]=null;var h=Pn[n];Pn[n++]=null;var d=Pn[n];if(Pn[n++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&rp(a,h,d)}}function au(t,n,a,l){Pn[ns++]=t,Pn[ns++]=n,Pn[ns++]=a,Pn[ns++]=l,gh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function yh(t,n,a,l){return au(t,n,a,l),su(t)}function is(t,n){return au(t,null,null,n),su(t)}function rp(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&n!==null&&(h=31-en(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=a|536870912),d):null}function su(t){if(50<zl)throw zl=0,Af=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var rs={};function kE(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(t,n,a,l){return new kE(t,n,a,l)}function _h(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zi(t,n){var a=t.alternate;return a===null?(a=An(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function ap(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function lu(t,n,a,l,h,d){var v=0;if(l=t,typeof t=="function")_h(t)&&(v=1);else if(typeof t=="string")v=BT(t,a,mt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=An(31,a,n,h),t.elementType=w,t.lanes=d,t;case V:return pa(a.children,h,d,n);case Q:v=8,h|=24;break;case N:return t=An(12,a,n,h|2),t.elementType=N,t.lanes=d,t;case ut:return t=An(13,a,n,h),t.elementType=ut,t.lanes=d,t;case yt:return t=An(19,a,n,h),t.elementType=yt,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case B:case q:v=10;break t;case X:v=9;break t;case ct:v=11;break t;case O:v=14;break t;case x:v=16,l=null;break t}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=An(v,a,n,h),n.elementType=t,n.type=l,n.lanes=d,n}function pa(t,n,a,l){return t=An(7,t,l,n),t.lanes=a,t}function vh(t,n,a){return t=An(6,t,null,n),t.lanes=a,t}function Eh(t,n,a){return n=An(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var as=[],ss=0,ou=null,uu=0,Bn=[],zn=0,ga=null,qi=1,Hi="";function ya(t,n){as[ss++]=uu,as[ss++]=ou,ou=t,uu=n}function sp(t,n,a){Bn[zn++]=qi,Bn[zn++]=Hi,Bn[zn++]=ga,ga=t;var l=qi;t=Hi;var h=32-en(l)-1;l&=~(1<<h),a+=1;var d=32-en(n)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,qi=1<<32-en(n)+h|a<<h|l,Hi=d+t}else qi=1<<d|a<<h|l,Hi=t}function Th(t){t.return!==null&&(ya(t,1),sp(t,1,0))}function bh(t){for(;t===ou;)ou=as[--ss],as[ss]=null,uu=as[--ss],as[ss]=null;for(;t===ga;)ga=Bn[--zn],Bn[zn]=null,Hi=Bn[--zn],Bn[zn]=null,qi=Bn[--zn],Bn[zn]=null}var dn=null,ve=null,Zt=!1,_a=null,vi=!1,Sh=Error(s(519));function va(t){var n=Error(s(418,""));throw vl(kn(n,t)),Sh}function lp(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[Ne]=t,n[xe]=l,a){case"dialog":kt("cancel",n),kt("close",n);break;case"iframe":case"object":case"embed":kt("load",n);break;case"video":case"audio":for(a=0;a<Hl.length;a++)kt(Hl[a],n);break;case"source":kt("error",n);break;case"img":case"image":case"link":kt("error",n),kt("load",n);break;case"details":kt("toggle",n);break;case"input":kt("invalid",n),ia(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ga(n);break;case"select":kt("invalid",n);break;case"textarea":kt("invalid",n),ra(n,l.value,l.defaultValue,l.children),Ga(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Ay(n.textContent,a)?(l.popover!=null&&(kt("beforetoggle",n),kt("toggle",n)),l.onScroll!=null&&kt("scroll",n),l.onScrollEnd!=null&&kt("scrollend",n),l.onClick!=null&&(n.onclick=Hu),n=!0):n=!1,n||va(t)}function op(t){for(dn=t.return;dn;)switch(dn.tag){case 5:case 13:vi=!1;return;case 27:case 3:vi=!0;return;default:dn=dn.return}}function yl(t){if(t!==dn)return!1;if(!Zt)return op(t),Zt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Bf(t.type,t.memoizedProps)),a=!a),a&&ve&&va(t),op(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){ve=ti(t.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}ve=null}}else n===27?(n=ve,Ir(t.type)?(t=Gf,Gf=null,ve=t):ve=n):ve=dn?ti(t.stateNode.nextSibling):null;return!0}function _l(){ve=dn=null,Zt=!1}function up(){var t=_a;return t!==null&&(_n===null?_n=t:_n.push.apply(_n,t),_a=null),t}function vl(t){_a===null?_a=[t]:_a.push(t)}var Ah=J(null),Ea=null,Gi=null;function pr(t,n,a){st(Ah,n._currentValue),n._currentValue=a}function Fi(t){t._currentValue=Ah.current,ot(Ah)}function Rh(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function xh(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var b=d;d=h;for(var D=0;D<n.length;D++)if(b.context===n[D]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),Rh(d.return,a,t),l||(v=null);break t}d=b.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Rh(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function El(t,n,a,l){t=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var b=h.type;Sn(h.pendingProps.value,v.value)||(t!==null?t.push(b):t=[b])}}else if(h===fe.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push($l):t=[$l])}h=h.return}t!==null&&xh(n,t,a,l),n.flags|=262144}function cu(t){for(t=t.firstContext;t!==null;){if(!Sn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ta(t){Ea=t,Gi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function nn(t){return cp(Ea,t)}function hu(t,n){return Ea===null&&Ta(t),cp(t,n)}function cp(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Gi===null){if(t===null)throw Error(s(308));Gi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Gi=Gi.next=n;return a}var PE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},BE=r.unstable_scheduleCallback,zE=r.unstable_NormalPriority,je={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wh(){return{controller:new PE,data:new Map,refCount:0}}function Tl(t){t.refCount--,t.refCount===0&&BE(zE,function(){t.controller.abort()})}var bl=null,Ch=0,ls=0,os=null;function qE(t,n){if(bl===null){var a=bl=[];Ch=0,ls=Vf(),os={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Ch++,n.then(hp,hp),n}function hp(){if(--Ch===0&&bl!==null){os!==null&&(os.status="fulfilled");var t=bl;bl=null,ls=0,os=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function HE(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var fp=Z.S;Z.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&qE(t,n),fp!==null&&fp(t,n)};var ba=J(null);function Dh(){var t=ba.current;return t!==null?t:oe.pooledCache}function fu(t,n){n===null?st(ba,ba.current):st(ba,n.pool)}function dp(){var t=Dh();return t===null?null:{parent:je._currentValue,pool:t}}var Sl=Error(s(460)),mp=Error(s(474)),du=Error(s(542)),Ih={then:function(){}};function pp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function mu(){}function gp(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(mu,mu),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,_p(t),t;default:if(typeof n.status=="string")n.then(mu,mu);else{if(t=oe,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,_p(t),t}throw Al=n,Sl}}var Al=null;function yp(){if(Al===null)throw Error(s(459));var t=Al;return Al=null,t}function _p(t){if(t===Sl||t===du)throw Error(s(483))}var gr=!1;function Vh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function yr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function _r(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(te&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=su(t),rp(t,null,a),n}return au(t,l,n,a),su(t)}function Rl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Js(t,a)}}function Mh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=n:d=d.next=n}else h=d=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Oh=!1;function xl(){if(Oh){var t=os;if(t!==null)throw t}}function wl(t,n,a,l){Oh=!1;var h=t.updateQueue;gr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var D=b,F=D.next;D.next=null,v===null?d=F:v.next=F,v=D;var tt=t.alternate;tt!==null&&(tt=tt.updateQueue,b=tt.lastBaseUpdate,b!==v&&(b===null?tt.firstBaseUpdate=F:b.next=F,tt.lastBaseUpdate=D))}if(d!==null){var it=h.baseState;v=0,tt=F=D=null,b=d;do{var Y=b.lane&-536870913,K=Y!==b.lane;if(K?(Ft&Y)===Y:(l&Y)===Y){Y!==0&&Y===ls&&(Oh=!0),tt!==null&&(tt=tt.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var Rt=t,bt=b;Y=n;var ae=a;switch(bt.tag){case 1:if(Rt=bt.payload,typeof Rt=="function"){it=Rt.call(ae,it,Y);break t}it=Rt;break t;case 3:Rt.flags=Rt.flags&-65537|128;case 0:if(Rt=bt.payload,Y=typeof Rt=="function"?Rt.call(ae,it,Y):Rt,Y==null)break t;it=E({},it,Y);break t;case 2:gr=!0}}Y=b.callback,Y!==null&&(t.flags|=64,K&&(t.flags|=8192),K=h.callbacks,K===null?h.callbacks=[Y]:K.push(Y))}else K={lane:Y,tag:b.tag,payload:b.payload,callback:b.callback,next:null},tt===null?(F=tt=K,D=it):tt=tt.next=K,v|=Y;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;K=b,b=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);tt===null&&(D=it),h.baseState=D,h.firstBaseUpdate=F,h.lastBaseUpdate=tt,d===null&&(h.shared.lanes=0),xr|=v,t.lanes=v,t.memoizedState=it}}function vp(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Ep(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)vp(a[t],n)}var us=J(null),pu=J(0);function Tp(t,n){t=Wi,st(pu,t),st(us,n),Wi=t|n.baseLanes}function jh(){st(pu,Wi),st(us,us.current)}function Uh(){Wi=pu.current,ot(us),ot(pu)}var vr=0,Ot=null,ie=null,Ce=null,gu=!1,cs=!1,Sa=!1,yu=0,Cl=0,hs=null,GE=0;function Se(){throw Error(s(321))}function Lh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!Sn(t[a],n[a]))return!1;return!0}function kh(t,n,a,l,h,d){return vr=d,Ot=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Z.H=t===null||t.memoizedState===null?rg:ag,Sa=!1,d=a(l,h),Sa=!1,cs&&(d=Sp(n,a,l,h)),bp(t),d}function bp(t){Z.H=Su;var n=ie!==null&&ie.next!==null;if(vr=0,Ce=ie=Ot=null,gu=!1,Cl=0,hs=null,n)throw Error(s(300));t===null||ze||(t=t.dependencies,t!==null&&cu(t)&&(ze=!0))}function Sp(t,n,a,l){Ot=t;var h=0;do{if(cs&&(hs=null),Cl=0,cs=!1,25<=h)throw Error(s(301));if(h+=1,Ce=ie=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Z.H=ZE,d=n(a,l)}while(cs);return d}function FE(){var t=Z.H,n=t.useState()[0];return n=typeof n.then=="function"?Dl(n):n,t=t.useState()[0],(ie!==null?ie.memoizedState:null)!==t&&(Ot.flags|=1024),n}function Ph(){var t=yu!==0;return yu=0,t}function Bh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function zh(t){if(gu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}gu=!1}vr=0,Ce=ie=Ot=null,cs=!1,Cl=yu=0,hs=null}function gn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?Ot.memoizedState=Ce=t:Ce=Ce.next=t,Ce}function De(){if(ie===null){var t=Ot.alternate;t=t!==null?t.memoizedState:null}else t=ie.next;var n=Ce===null?Ot.memoizedState:Ce.next;if(n!==null)Ce=n,ie=t;else{if(t===null)throw Ot.alternate===null?Error(s(467)):Error(s(310));ie=t,t={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},Ce===null?Ot.memoizedState=Ce=t:Ce=Ce.next=t}return Ce}function qh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Dl(t){var n=Cl;return Cl+=1,hs===null&&(hs=[]),t=gp(hs,t,n),n=Ot,(Ce===null?n.memoizedState:Ce.next)===null&&(n=n.alternate,Z.H=n===null||n.memoizedState===null?rg:ag),t}function _u(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Dl(t);if(t.$$typeof===q)return nn(t)}throw Error(s(438,String(t)))}function Hh(t){var n=null,a=Ot.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Ot.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=qh(),Ot.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=j;return n.index++,a}function Qi(t,n){return typeof n=="function"?n(t):n}function vu(t){var n=De();return Gh(n,ie,t)}function Gh(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}n.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{n=h.next;var b=v=null,D=null,F=n,tt=!1;do{var it=F.lane&-536870913;if(it!==F.lane?(Ft&it)===it:(vr&it)===it){var Y=F.revertLane;if(Y===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),it===ls&&(tt=!0);else if((vr&Y)===Y){F=F.next,Y===ls&&(tt=!0);continue}else it={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},D===null?(b=D=it,v=d):D=D.next=it,Ot.lanes|=Y,xr|=Y;it=F.action,Sa&&a(d,it),d=F.hasEagerState?F.eagerState:a(d,it)}else Y={lane:it,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},D===null?(b=D=Y,v=d):D=D.next=Y,Ot.lanes|=it,xr|=it;F=F.next}while(F!==null&&F!==n);if(D===null?v=d:D.next=b,!Sn(d,t.memoizedState)&&(ze=!0,tt&&(a=os,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=D,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Fh(t){var n=De(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=n.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);Sn(d,n.memoizedState)||(ze=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),a.lastRenderedState=d}return[d,l]}function Ap(t,n,a){var l=Ot,h=De(),d=Zt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=n();var v=!Sn((ie||h).memoizedState,a);v&&(h.memoizedState=a,ze=!0),h=h.queue;var b=wp.bind(null,l,h,t);if(Il(2048,8,b,[t]),h.getSnapshot!==n||v||Ce!==null&&Ce.memoizedState.tag&1){if(l.flags|=2048,fs(9,Eu(),xp.bind(null,l,h,a,n),null),oe===null)throw Error(s(349));d||(vr&124)!==0||Rp(l,n,a)}return a}function Rp(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Ot.updateQueue,n===null?(n=qh(),Ot.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function xp(t,n,a,l){n.value=a,n.getSnapshot=l,Cp(n)&&Dp(t)}function wp(t,n,a){return a(function(){Cp(n)&&Dp(t)})}function Cp(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!Sn(t,a)}catch{return!0}}function Dp(t){var n=is(t,2);n!==null&&Dn(n,t,2)}function Qh(t){var n=gn();if(typeof t=="function"){var a=t;if(t=a(),Sa){Tn(!0);try{a()}finally{Tn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:t},n}function Ip(t,n,a,l){return t.baseState=a,Gh(t,ie,typeof l=="function"?l:Qi)}function QE(t,n,a,l,h){if(bu(t))throw Error(s(485));if(t=n.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};Z.T!==null?a(!0):d.isTransition=!1,l(d),a=n.pending,a===null?(d.next=n.pending=d,Vp(n,d)):(d.next=a.next,n.pending=a.next=d)}}function Vp(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var d=Z.T,v={};Z.T=v;try{var b=a(h,l),D=Z.S;D!==null&&D(v,b),Np(t,n,b)}catch(F){Yh(t,n,F)}finally{Z.T=d}}else try{d=a(h,l),Np(t,n,d)}catch(F){Yh(t,n,F)}}function Np(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Mp(t,n,l)},function(l){return Yh(t,n,l)}):Mp(t,n,a)}function Mp(t,n,a){n.status="fulfilled",n.value=a,Op(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Vp(t,a)))}function Yh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Op(n),n=n.next;while(n!==l)}t.action=null}function Op(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function jp(t,n){return n}function Up(t,n){if(Zt){var a=oe.formState;if(a!==null){t:{var l=Ot;if(Zt){if(ve){e:{for(var h=ve,d=vi;h.nodeType!==8;){if(!d){h=null;break e}if(h=ti(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ve=ti(h.nextSibling),l=h.data==="F!";break t}}va(l)}l=!1}l&&(n=a[0])}}return a=gn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jp,lastRenderedState:n},a.queue=l,a=eg.bind(null,Ot,l),l.dispatch=a,l=Qh(!1),d=Wh.bind(null,Ot,!1,l.queue),l=gn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=QE.bind(null,Ot,h,d,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function Lp(t){var n=De();return kp(n,ie,t)}function kp(t,n,a){if(n=Gh(t,n,jp)[0],t=vu(Qi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Dl(n)}catch(v){throw v===Sl?du:v}else l=n;n=De();var h=n.queue,d=h.dispatch;return a!==n.memoizedState&&(Ot.flags|=2048,fs(9,Eu(),YE.bind(null,h,a),null)),[l,d,t]}function YE(t,n){t.action=n}function Pp(t){var n=De(),a=ie;if(a!==null)return kp(n,a,t);De(),n=n.memoizedState,a=De();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function fs(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Ot.updateQueue,n===null&&(n=qh(),Ot.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Eu(){return{destroy:void 0,resource:void 0}}function Bp(){return De().memoizedState}function Tu(t,n,a,l){var h=gn();l=l===void 0?null:l,Ot.flags|=t,h.memoizedState=fs(1|n,Eu(),a,l)}function Il(t,n,a,l){var h=De();l=l===void 0?null:l;var d=h.memoizedState.inst;ie!==null&&l!==null&&Lh(l,ie.memoizedState.deps)?h.memoizedState=fs(n,d,a,l):(Ot.flags|=t,h.memoizedState=fs(1|n,d,a,l))}function zp(t,n){Tu(8390656,8,t,n)}function qp(t,n){Il(2048,8,t,n)}function Hp(t,n){return Il(4,2,t,n)}function Gp(t,n){return Il(4,4,t,n)}function Fp(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Qp(t,n,a){a=a!=null?a.concat([t]):null,Il(4,4,Fp.bind(null,n,t),a)}function Kh(){}function Yp(t,n){var a=De();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Lh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Kp(t,n){var a=De();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Lh(n,l[1]))return l[0];if(l=t(),Sa){Tn(!0);try{t()}finally{Tn(!1)}}return a.memoizedState=[l,n],l}function $h(t,n,a){return a===void 0||(vr&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=Zg(),Ot.lanes|=t,xr|=t,a)}function $p(t,n,a,l){return Sn(a,n)?a:us.current!==null?(t=$h(t,a,l),Sn(t,n)||(ze=!0),t):(vr&42)===0?(ze=!0,t.memoizedState=a):(t=Zg(),Ot.lanes|=t,xr|=t,n)}function Xp(t,n,a,l,h){var d=$.p;$.p=d!==0&&8>d?d:8;var v=Z.T,b={};Z.T=b,Wh(t,!1,n,a);try{var D=h(),F=Z.S;if(F!==null&&F(b,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var tt=HE(D,l);Vl(t,n,tt,Cn(t))}else Vl(t,n,l,Cn(t))}catch(it){Vl(t,n,{then:function(){},status:"rejected",reason:it},Cn())}finally{$.p=d,Z.T=v}}function KE(){}function Xh(t,n,a,l){if(t.tag!==5)throw Error(s(476));var h=Zp(t).queue;Xp(t,h,n,lt,a===null?KE:function(){return Wp(t),a(l)})}function Zp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:lt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Wp(t){var n=Zp(t).next.queue;Vl(t,n,{},Cn())}function Zh(){return nn($l)}function Jp(){return De().memoizedState}function tg(){return De().memoizedState}function $E(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Cn();t=yr(a);var l=_r(n,t,a);l!==null&&(Dn(l,n,a),Rl(l,n,a)),n={cache:wh()},t.payload=n;return}n=n.return}}function XE(t,n,a){var l=Cn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},bu(t)?ng(n,a):(a=yh(t,n,a,l),a!==null&&(Dn(a,t,l),ig(a,n,l)))}function eg(t,n,a){var l=Cn();Vl(t,n,a,l)}function Vl(t,n,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(bu(t))ng(n,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var v=n.lastRenderedState,b=d(v,a);if(h.hasEagerState=!0,h.eagerState=b,Sn(b,v))return au(t,n,h,0),oe===null&&ru(),!1}catch{}finally{}if(a=yh(t,n,h,l),a!==null)return Dn(a,t,l),ig(a,n,l),!0}return!1}function Wh(t,n,a,l){if(l={lane:2,revertLane:Vf(),action:l,hasEagerState:!1,eagerState:null,next:null},bu(t)){if(n)throw Error(s(479))}else n=yh(t,a,l,2),n!==null&&Dn(n,t,2)}function bu(t){var n=t.alternate;return t===Ot||n!==null&&n===Ot}function ng(t,n){cs=gu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function ig(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Js(t,a)}}var Su={readContext:nn,use:_u,useCallback:Se,useContext:Se,useEffect:Se,useImperativeHandle:Se,useLayoutEffect:Se,useInsertionEffect:Se,useMemo:Se,useReducer:Se,useRef:Se,useState:Se,useDebugValue:Se,useDeferredValue:Se,useTransition:Se,useSyncExternalStore:Se,useId:Se,useHostTransitionStatus:Se,useFormState:Se,useActionState:Se,useOptimistic:Se,useMemoCache:Se,useCacheRefresh:Se},rg={readContext:nn,use:_u,useCallback:function(t,n){return gn().memoizedState=[t,n===void 0?null:n],t},useContext:nn,useEffect:zp,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Tu(4194308,4,Fp.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Tu(4194308,4,t,n)},useInsertionEffect:function(t,n){Tu(4,2,t,n)},useMemo:function(t,n){var a=gn();n=n===void 0?null:n;var l=t();if(Sa){Tn(!0);try{t()}finally{Tn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=gn();if(a!==void 0){var h=a(n);if(Sa){Tn(!0);try{a(n)}finally{Tn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=XE.bind(null,Ot,t),[l.memoizedState,t]},useRef:function(t){var n=gn();return t={current:t},n.memoizedState=t},useState:function(t){t=Qh(t);var n=t.queue,a=eg.bind(null,Ot,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Kh,useDeferredValue:function(t,n){var a=gn();return $h(a,t,n)},useTransition:function(){var t=Qh(!1);return t=Xp.bind(null,Ot,t.queue,!0,!1),gn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Ot,h=gn();if(Zt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),oe===null)throw Error(s(349));(Ft&124)!==0||Rp(l,n,a)}h.memoizedState=a;var d={value:a,getSnapshot:n};return h.queue=d,zp(wp.bind(null,l,d,t),[t]),l.flags|=2048,fs(9,Eu(),xp.bind(null,l,d,a,n),null),a},useId:function(){var t=gn(),n=oe.identifierPrefix;if(Zt){var a=Hi,l=qi;a=(l&~(1<<32-en(l)-1)).toString(32)+a,n=""+n+"R"+a,a=yu++,0<a&&(n+="H"+a.toString(32)),n+=""}else a=GE++,n=""+n+"r"+a.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:Zh,useFormState:Up,useActionState:Up,useOptimistic:function(t){var n=gn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Wh.bind(null,Ot,!0,a),a.dispatch=n,[t,n]},useMemoCache:Hh,useCacheRefresh:function(){return gn().memoizedState=$E.bind(null,Ot)}},ag={readContext:nn,use:_u,useCallback:Yp,useContext:nn,useEffect:qp,useImperativeHandle:Qp,useInsertionEffect:Hp,useLayoutEffect:Gp,useMemo:Kp,useReducer:vu,useRef:Bp,useState:function(){return vu(Qi)},useDebugValue:Kh,useDeferredValue:function(t,n){var a=De();return $p(a,ie.memoizedState,t,n)},useTransition:function(){var t=vu(Qi)[0],n=De().memoizedState;return[typeof t=="boolean"?t:Dl(t),n]},useSyncExternalStore:Ap,useId:Jp,useHostTransitionStatus:Zh,useFormState:Lp,useActionState:Lp,useOptimistic:function(t,n){var a=De();return Ip(a,ie,t,n)},useMemoCache:Hh,useCacheRefresh:tg},ZE={readContext:nn,use:_u,useCallback:Yp,useContext:nn,useEffect:qp,useImperativeHandle:Qp,useInsertionEffect:Hp,useLayoutEffect:Gp,useMemo:Kp,useReducer:Fh,useRef:Bp,useState:function(){return Fh(Qi)},useDebugValue:Kh,useDeferredValue:function(t,n){var a=De();return ie===null?$h(a,t,n):$p(a,ie.memoizedState,t,n)},useTransition:function(){var t=Fh(Qi)[0],n=De().memoizedState;return[typeof t=="boolean"?t:Dl(t),n]},useSyncExternalStore:Ap,useId:Jp,useHostTransitionStatus:Zh,useFormState:Pp,useActionState:Pp,useOptimistic:function(t,n){var a=De();return ie!==null?Ip(a,ie,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Hh,useCacheRefresh:tg},ds=null,Nl=0;function Au(t){var n=Nl;return Nl+=1,ds===null&&(ds=[]),gp(ds,t,n)}function Ml(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Ru(t,n){throw n.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function sg(t){var n=t._init;return n(t._payload)}function lg(t){function n(z,U){if(t){var G=z.deletions;G===null?(z.deletions=[U],z.flags|=16):G.push(U)}}function a(z,U){if(!t)return null;for(;U!==null;)n(z,U),U=U.sibling;return null}function l(z){for(var U=new Map;z!==null;)z.key!==null?U.set(z.key,z):U.set(z.index,z),z=z.sibling;return U}function h(z,U){return z=zi(z,U),z.index=0,z.sibling=null,z}function d(z,U,G){return z.index=G,t?(G=z.alternate,G!==null?(G=G.index,G<U?(z.flags|=67108866,U):G):(z.flags|=67108866,U)):(z.flags|=1048576,U)}function v(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function b(z,U,G,et){return U===null||U.tag!==6?(U=vh(G,z.mode,et),U.return=z,U):(U=h(U,G),U.return=z,U)}function D(z,U,G,et){var vt=G.type;return vt===V?tt(z,U,G.props.children,et,G.key):U!==null&&(U.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===x&&sg(vt)===U.type)?(U=h(U,G.props),Ml(U,G),U.return=z,U):(U=lu(G.type,G.key,G.props,null,z.mode,et),Ml(U,G),U.return=z,U)}function F(z,U,G,et){return U===null||U.tag!==4||U.stateNode.containerInfo!==G.containerInfo||U.stateNode.implementation!==G.implementation?(U=Eh(G,z.mode,et),U.return=z,U):(U=h(U,G.children||[]),U.return=z,U)}function tt(z,U,G,et,vt){return U===null||U.tag!==7?(U=pa(G,z.mode,et,vt),U.return=z,U):(U=h(U,G),U.return=z,U)}function it(z,U,G){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=vh(""+U,z.mode,G),U.return=z,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case R:return G=lu(U.type,U.key,U.props,null,z.mode,G),Ml(G,U),G.return=z,G;case M:return U=Eh(U,z.mode,G),U.return=z,U;case x:var et=U._init;return U=et(U._payload),it(z,U,G)}if(Vt(U)||L(U))return U=pa(U,z.mode,G,null),U.return=z,U;if(typeof U.then=="function")return it(z,Au(U),G);if(U.$$typeof===q)return it(z,hu(z,U),G);Ru(z,U)}return null}function Y(z,U,G,et){var vt=U!==null?U.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return vt!==null?null:b(z,U,""+G,et);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case R:return G.key===vt?D(z,U,G,et):null;case M:return G.key===vt?F(z,U,G,et):null;case x:return vt=G._init,G=vt(G._payload),Y(z,U,G,et)}if(Vt(G)||L(G))return vt!==null?null:tt(z,U,G,et,null);if(typeof G.then=="function")return Y(z,U,Au(G),et);if(G.$$typeof===q)return Y(z,U,hu(z,G),et);Ru(z,G)}return null}function K(z,U,G,et,vt){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return z=z.get(G)||null,b(U,z,""+et,vt);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case R:return z=z.get(et.key===null?G:et.key)||null,D(U,z,et,vt);case M:return z=z.get(et.key===null?G:et.key)||null,F(U,z,et,vt);case x:var Ut=et._init;return et=Ut(et._payload),K(z,U,G,et,vt)}if(Vt(et)||L(et))return z=z.get(G)||null,tt(U,z,et,vt,null);if(typeof et.then=="function")return K(z,U,G,Au(et),vt);if(et.$$typeof===q)return K(z,U,G,hu(U,et),vt);Ru(U,et)}return null}function Rt(z,U,G,et){for(var vt=null,Ut=null,Et=U,At=U=0,He=null;Et!==null&&At<G.length;At++){Et.index>At?(He=Et,Et=null):He=Et.sibling;var $t=Y(z,Et,G[At],et);if($t===null){Et===null&&(Et=He);break}t&&Et&&$t.alternate===null&&n(z,Et),U=d($t,U,At),Ut===null?vt=$t:Ut.sibling=$t,Ut=$t,Et=He}if(At===G.length)return a(z,Et),Zt&&ya(z,At),vt;if(Et===null){for(;At<G.length;At++)Et=it(z,G[At],et),Et!==null&&(U=d(Et,U,At),Ut===null?vt=Et:Ut.sibling=Et,Ut=Et);return Zt&&ya(z,At),vt}for(Et=l(Et);At<G.length;At++)He=K(Et,z,At,G[At],et),He!==null&&(t&&He.alternate!==null&&Et.delete(He.key===null?At:He.key),U=d(He,U,At),Ut===null?vt=He:Ut.sibling=He,Ut=He);return t&&Et.forEach(function(jr){return n(z,jr)}),Zt&&ya(z,At),vt}function bt(z,U,G,et){if(G==null)throw Error(s(151));for(var vt=null,Ut=null,Et=U,At=U=0,He=null,$t=G.next();Et!==null&&!$t.done;At++,$t=G.next()){Et.index>At?(He=Et,Et=null):He=Et.sibling;var jr=Y(z,Et,$t.value,et);if(jr===null){Et===null&&(Et=He);break}t&&Et&&jr.alternate===null&&n(z,Et),U=d(jr,U,At),Ut===null?vt=jr:Ut.sibling=jr,Ut=jr,Et=He}if($t.done)return a(z,Et),Zt&&ya(z,At),vt;if(Et===null){for(;!$t.done;At++,$t=G.next())$t=it(z,$t.value,et),$t!==null&&(U=d($t,U,At),Ut===null?vt=$t:Ut.sibling=$t,Ut=$t);return Zt&&ya(z,At),vt}for(Et=l(Et);!$t.done;At++,$t=G.next())$t=K(Et,z,At,$t.value,et),$t!==null&&(t&&$t.alternate!==null&&Et.delete($t.key===null?At:$t.key),U=d($t,U,At),Ut===null?vt=$t:Ut.sibling=$t,Ut=$t);return t&&Et.forEach(function(WT){return n(z,WT)}),Zt&&ya(z,At),vt}function ae(z,U,G,et){if(typeof G=="object"&&G!==null&&G.type===V&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case R:t:{for(var vt=G.key;U!==null;){if(U.key===vt){if(vt=G.type,vt===V){if(U.tag===7){a(z,U.sibling),et=h(U,G.props.children),et.return=z,z=et;break t}}else if(U.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===x&&sg(vt)===U.type){a(z,U.sibling),et=h(U,G.props),Ml(et,G),et.return=z,z=et;break t}a(z,U);break}else n(z,U);U=U.sibling}G.type===V?(et=pa(G.props.children,z.mode,et,G.key),et.return=z,z=et):(et=lu(G.type,G.key,G.props,null,z.mode,et),Ml(et,G),et.return=z,z=et)}return v(z);case M:t:{for(vt=G.key;U!==null;){if(U.key===vt)if(U.tag===4&&U.stateNode.containerInfo===G.containerInfo&&U.stateNode.implementation===G.implementation){a(z,U.sibling),et=h(U,G.children||[]),et.return=z,z=et;break t}else{a(z,U);break}else n(z,U);U=U.sibling}et=Eh(G,z.mode,et),et.return=z,z=et}return v(z);case x:return vt=G._init,G=vt(G._payload),ae(z,U,G,et)}if(Vt(G))return Rt(z,U,G,et);if(L(G)){if(vt=L(G),typeof vt!="function")throw Error(s(150));return G=vt.call(G),bt(z,U,G,et)}if(typeof G.then=="function")return ae(z,U,Au(G),et);if(G.$$typeof===q)return ae(z,U,hu(z,G),et);Ru(z,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,U!==null&&U.tag===6?(a(z,U.sibling),et=h(U,G),et.return=z,z=et):(a(z,U),et=vh(G,z.mode,et),et.return=z,z=et),v(z)):a(z,U)}return function(z,U,G,et){try{Nl=0;var vt=ae(z,U,G,et);return ds=null,vt}catch(Et){if(Et===Sl||Et===du)throw Et;var Ut=An(29,Et,null,z.mode);return Ut.lanes=et,Ut.return=z,Ut}finally{}}}var ms=lg(!0),og=lg(!1),qn=J(null),Ei=null;function Er(t){var n=t.alternate;st(Ue,Ue.current&1),st(qn,t),Ei===null&&(n===null||us.current!==null||n.memoizedState!==null)&&(Ei=t)}function ug(t){if(t.tag===22){if(st(Ue,Ue.current),st(qn,t),Ei===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Ei=t)}}else Tr()}function Tr(){st(Ue,Ue.current),st(qn,qn.current)}function Yi(t){ot(qn),Ei===t&&(Ei=null),ot(Ue)}var Ue=J(0);function xu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Hf(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Jh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:E({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var tf={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=Cn(),h=yr(l);h.payload=n,a!=null&&(h.callback=a),n=_r(t,h,l),n!==null&&(Dn(n,t,l),Rl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=Cn(),h=yr(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=_r(t,h,l),n!==null&&(Dn(n,t,l),Rl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Cn(),l=yr(a);l.tag=2,n!=null&&(l.callback=n),n=_r(t,l,a),n!==null&&(Dn(n,t,a),Rl(n,t,a))}};function cg(t,n,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):n.prototype&&n.prototype.isPureReactComponent?!pl(a,l)||!pl(h,d):!0}function hg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&tf.enqueueReplaceState(n,n.state,null)}function Aa(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var wu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function fg(t){wu(t)}function dg(t){console.error(t)}function mg(t){wu(t)}function Cu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function pg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ef(t,n,a){return a=yr(a),a.tag=3,a.payload={element:null},a.callback=function(){Cu(t,n)},a}function gg(t){return t=yr(t),t.tag=3,t}function yg(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){pg(n,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){pg(n,a,l),typeof h!="function"&&(wr===null?wr=new Set([this]):wr.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function WE(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&El(n,a,h,!0),a=qn.current,a!==null){switch(a.tag){case 13:return Ei===null?xf():a.alternate===null&&Ee===0&&(Ee=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Ih?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Cf(t,l,h)),!1;case 22:return a.flags|=65536,l===Ih?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Cf(t,l,h)),!1}throw Error(s(435,a.tag))}return Cf(t,l,h),xf(),!1}if(Zt)return n=qn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Sh&&(t=Error(s(422),{cause:l}),vl(kn(t,a)))):(l!==Sh&&(n=Error(s(423),{cause:l}),vl(kn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=kn(l,a),h=ef(t.stateNode,l,h),Mh(t,h),Ee!==4&&(Ee=2)),!1;var d=Error(s(520),{cause:l});if(d=kn(d,a),Bl===null?Bl=[d]:Bl.push(d),Ee!==4&&(Ee=2),n===null)return!0;l=kn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=ef(a.stateNode,l,t),Mh(a,t),!1;case 1:if(n=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(wr===null||!wr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=gg(h),yg(h,t,a,l),Mh(a,h),!1}a=a.return}while(a!==null);return!1}var _g=Error(s(461)),ze=!1;function Ke(t,n,a,l){n.child=t===null?og(n,null,a,l):ms(n,t.child,a,l)}function vg(t,n,a,l,h){a=a.render;var d=n.ref;if("ref"in l){var v={};for(var b in l)b!=="ref"&&(v[b]=l[b])}else v=l;return Ta(n),l=kh(t,n,a,v,d,h),b=Ph(),t!==null&&!ze?(Bh(t,n,h),Ki(t,n,h)):(Zt&&b&&Th(n),n.flags|=1,Ke(t,n,l,h),n.child)}function Eg(t,n,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!_h(d)&&d.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=d,Tg(t,n,d,l,h)):(t=lu(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!cf(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:pl,a(v,l)&&t.ref===n.ref)return Ki(t,n,h)}return n.flags|=1,t=zi(d,l),t.ref=n.ref,t.return=n,n.child=t}function Tg(t,n,a,l,h){if(t!==null){var d=t.memoizedProps;if(pl(d,l)&&t.ref===n.ref)if(ze=!1,n.pendingProps=l=d,cf(t,h))(t.flags&131072)!==0&&(ze=!0);else return n.lanes=t.lanes,Ki(t,n,h)}return nf(t,n,a,l,h)}function bg(t,n,a){var l=n.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=n.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;n.childLanes=d&~l}else n.childLanes=0,n.child=null;return Sg(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&fu(n,d!==null?d.cachePool:null),d!==null?Tp(n,d):jh(),ug(n);else return n.lanes=n.childLanes=536870912,Sg(t,n,d!==null?d.baseLanes|a:a,a)}else d!==null?(fu(n,d.cachePool),Tp(n,d),Tr(),n.memoizedState=null):(t!==null&&fu(n,null),jh(),Tr());return Ke(t,n,h,a),n.child}function Sg(t,n,a,l){var h=Dh();return h=h===null?null:{parent:je._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},t!==null&&fu(n,null),jh(),ug(n),t!==null&&El(t,n,l,!0),null}function Du(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function nf(t,n,a,l,h){return Ta(n),a=kh(t,n,a,l,void 0,h),l=Ph(),t!==null&&!ze?(Bh(t,n,h),Ki(t,n,h)):(Zt&&l&&Th(n),n.flags|=1,Ke(t,n,a,h),n.child)}function Ag(t,n,a,l,h,d){return Ta(n),n.updateQueue=null,a=Sp(n,l,a,h),bp(t),l=Ph(),t!==null&&!ze?(Bh(t,n,d),Ki(t,n,d)):(Zt&&l&&Th(n),n.flags|=1,Ke(t,n,a,d),n.child)}function Rg(t,n,a,l,h){if(Ta(n),n.stateNode===null){var d=rs,v=a.contextType;typeof v=="object"&&v!==null&&(d=nn(v)),d=new a(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=tf,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},Vh(n),v=a.contextType,d.context=typeof v=="object"&&v!==null?nn(v):rs,d.state=n.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Jh(n,a,v,l),d.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&tf.enqueueReplaceState(d,d.state,null),wl(n,l,d,h),xl(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){d=n.stateNode;var b=n.memoizedProps,D=Aa(a,b);d.props=D;var F=d.context,tt=a.contextType;v=rs,typeof tt=="object"&&tt!==null&&(v=nn(tt));var it=a.getDerivedStateFromProps;tt=typeof it=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=n.pendingProps!==b,tt||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||F!==v)&&hg(n,d,l,v),gr=!1;var Y=n.memoizedState;d.state=Y,wl(n,l,d,h),xl(),F=n.memoizedState,b||Y!==F||gr?(typeof it=="function"&&(Jh(n,a,it,l),F=n.memoizedState),(D=gr||cg(n,a,D,l,Y,F,v))?(tt||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=F),d.props=l,d.state=F,d.context=v,l=D):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,Nh(t,n),v=n.memoizedProps,tt=Aa(a,v),d.props=tt,it=n.pendingProps,Y=d.context,F=a.contextType,D=rs,typeof F=="object"&&F!==null&&(D=nn(F)),b=a.getDerivedStateFromProps,(F=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==it||Y!==D)&&hg(n,d,l,D),gr=!1,Y=n.memoizedState,d.state=Y,wl(n,l,d,h),xl();var K=n.memoizedState;v!==it||Y!==K||gr||t!==null&&t.dependencies!==null&&cu(t.dependencies)?(typeof b=="function"&&(Jh(n,a,b,l),K=n.memoizedState),(tt=gr||cg(n,a,tt,l,Y,K,D)||t!==null&&t.dependencies!==null&&cu(t.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,D)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&Y===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&Y===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=K),d.props=l,d.state=K,d.context=D,l=tt):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&Y===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&Y===t.memoizedState||(n.flags|=1024),l=!1)}return d=l,Du(t,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&l?(n.child=ms(n,t.child,null,h),n.child=ms(n,null,a,h)):Ke(t,n,a,h),n.memoizedState=d.state,t=n.child):t=Ki(t,n,h),t}function xg(t,n,a,l){return _l(),n.flags|=256,Ke(t,n,a,l),n.child}var rf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function af(t){return{baseLanes:t,cachePool:dp()}}function sf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Hn),t}function wg(t,n,a){var l=n.pendingProps,h=!1,d=(n.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Ue.current&2)!==0),v&&(h=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,t===null){if(Zt){if(h?Er(n):Tr(),Zt){var b=ve,D;if(D=b){t:{for(D=b,b=vi;D.nodeType!==8;){if(!b){b=null;break t}if(D=ti(D.nextSibling),D===null){b=null;break t}}b=D}b!==null?(n.memoizedState={dehydrated:b,treeContext:ga!==null?{id:qi,overflow:Hi}:null,retryLane:536870912,hydrationErrors:null},D=An(18,null,null,0),D.stateNode=b,D.return=n,n.child=D,dn=n,ve=null,D=!0):D=!1}D||va(n)}if(b=n.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return Hf(b)?n.lanes=32:n.lanes=536870912,null;Yi(n)}return b=l.children,l=l.fallback,h?(Tr(),h=n.mode,b=Iu({mode:"hidden",children:b},h),l=pa(l,h,a,null),b.return=n,l.return=n,b.sibling=l,n.child=b,h=n.child,h.memoizedState=af(a),h.childLanes=sf(t,v,a),n.memoizedState=rf,l):(Er(n),lf(n,b))}if(D=t.memoizedState,D!==null&&(b=D.dehydrated,b!==null)){if(d)n.flags&256?(Er(n),n.flags&=-257,n=of(t,n,a)):n.memoizedState!==null?(Tr(),n.child=t.child,n.flags|=128,n=null):(Tr(),h=l.fallback,b=n.mode,l=Iu({mode:"visible",children:l.children},b),h=pa(h,b,a,null),h.flags|=2,l.return=n,h.return=n,l.sibling=h,n.child=l,ms(n,t.child,null,a),l=n.child,l.memoizedState=af(a),l.childLanes=sf(t,v,a),n.memoizedState=rf,n=h);else if(Er(n),Hf(b)){if(v=b.nextSibling&&b.nextSibling.dataset,v)var F=v.dgst;v=F,l=Error(s(419)),l.stack="",l.digest=v,vl({value:l,source:null,stack:null}),n=of(t,n,a)}else if(ze||El(t,n,a,!1),v=(a&t.childLanes)!==0,ze||v){if(v=oe,v!==null&&(l=a&-a,l=(l&42)!==0?1:or(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==D.retryLane))throw D.retryLane=l,is(t,l),Dn(v,t,l),_g;b.data==="$?"||xf(),n=of(t,n,a)}else b.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=D.treeContext,ve=ti(b.nextSibling),dn=n,Zt=!0,_a=null,vi=!1,t!==null&&(Bn[zn++]=qi,Bn[zn++]=Hi,Bn[zn++]=ga,qi=t.id,Hi=t.overflow,ga=n),n=lf(n,l.children),n.flags|=4096);return n}return h?(Tr(),h=l.fallback,b=n.mode,D=t.child,F=D.sibling,l=zi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,F!==null?h=zi(F,h):(h=pa(h,b,a,null),h.flags|=2),h.return=n,l.return=n,l.sibling=h,n.child=l,l=h,h=n.child,b=t.child.memoizedState,b===null?b=af(a):(D=b.cachePool,D!==null?(F=je._currentValue,D=D.parent!==F?{parent:F,pool:F}:D):D=dp(),b={baseLanes:b.baseLanes|a,cachePool:D}),h.memoizedState=b,h.childLanes=sf(t,v,a),n.memoizedState=rf,l):(Er(n),a=t.child,t=a.sibling,a=zi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(v=n.deletions,v===null?(n.deletions=[t],n.flags|=16):v.push(t)),n.child=a,n.memoizedState=null,a)}function lf(t,n){return n=Iu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Iu(t,n){return t=An(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function of(t,n,a){return ms(n,t.child,null,a),t=lf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Cg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Rh(t.return,n,a)}function uf(t,n,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Dg(t,n,a){var l=n.pendingProps,h=l.revealOrder,d=l.tail;if(Ke(t,n,l.children,a),l=Ue.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Cg(t,a,n);else if(t.tag===19)Cg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(st(Ue,l),h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&xu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),uf(n,!1,h,a,d);break;case"backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&xu(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}uf(n,!0,a,null,d);break;case"together":uf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ki(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),xr|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(El(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=zi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=zi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function cf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&cu(t)))}function JE(t,n,a){switch(n.tag){case 3:Kt(n,n.stateNode.containerInfo),pr(n,je,t.memoizedState.cache),_l();break;case 27:case 5:ai(n);break;case 4:Kt(n,n.stateNode.containerInfo);break;case 10:pr(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Er(n),n.flags|=128,null):(a&n.child.childLanes)!==0?wg(t,n,a):(Er(n),t=Ki(t,n,a),t!==null?t.sibling:null);Er(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(El(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return Dg(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),st(Ue,Ue.current),l)break;return null;case 22:case 23:return n.lanes=0,bg(t,n,a);case 24:pr(n,je,t.memoizedState.cache)}return Ki(t,n,a)}function Ig(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)ze=!0;else{if(!cf(t,a)&&(n.flags&128)===0)return ze=!1,JE(t,n,a);ze=(t.flags&131072)!==0}else ze=!1,Zt&&(n.flags&1048576)!==0&&sp(n,uu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,h=l._init;if(l=h(l._payload),n.type=l,typeof l=="function")_h(l)?(t=Aa(l,t),n.tag=1,n=Rg(null,n,l,t,a)):(n.tag=0,n=nf(null,n,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===ct){n.tag=11,n=vg(null,n,l,t,a);break t}else if(h===O){n.tag=14,n=Eg(null,n,l,t,a);break t}}throw n=Pt(l)||l,Error(s(306,n,""))}}return n;case 0:return nf(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=Aa(l,n.pendingProps),Rg(t,n,l,h,a);case 3:t:{if(Kt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var d=n.memoizedState;h=d.element,Nh(t,n),wl(n,l,null,a);var v=n.memoizedState;if(l=v.cache,pr(n,je,l),l!==d.cache&&xh(n,[je],a,!0),xl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=xg(t,n,l,a);break t}else if(l!==h){h=kn(Error(s(424)),n),vl(h),n=xg(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ve=ti(t.firstChild),dn=n,Zt=!0,_a=null,vi=!0,a=og(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(_l(),l===h){n=Ki(t,n,a);break t}Ke(t,n,l,a)}n=n.child}return n;case 26:return Du(t,n),t===null?(a=Oy(n.type,null,n.pendingProps,null))?n.memoizedState=a:Zt||(a=n.type,t=n.pendingProps,l=Gu(St.current).createElement(a),l[Ne]=n,l[xe]=t,Xe(l,a,t),be(l),n.stateNode=l):n.memoizedState=Oy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return ai(n),t===null&&Zt&&(l=n.stateNode=Vy(n.type,n.pendingProps,St.current),dn=n,vi=!0,h=ve,Ir(n.type)?(Gf=h,ve=ti(l.firstChild)):ve=h),Ke(t,n,n.pendingProps.children,a),Du(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Zt&&((h=l=ve)&&(l=wT(l,n.type,n.pendingProps,vi),l!==null?(n.stateNode=l,dn=n,ve=ti(l.firstChild),vi=!1,h=!0):h=!1),h||va(n)),ai(n),h=n.type,d=n.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Bf(h,d)?l=null:v!==null&&Bf(h,v)&&(n.flags|=32),n.memoizedState!==null&&(h=kh(t,n,FE,null,null,a),$l._currentValue=h),Du(t,n),Ke(t,n,l,a),n.child;case 6:return t===null&&Zt&&((t=a=ve)&&(a=CT(a,n.pendingProps,vi),a!==null?(n.stateNode=a,dn=n,ve=null,t=!0):t=!1),t||va(n)),null;case 13:return wg(t,n,a);case 4:return Kt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ms(n,null,l,a):Ke(t,n,l,a),n.child;case 11:return vg(t,n,n.type,n.pendingProps,a);case 7:return Ke(t,n,n.pendingProps,a),n.child;case 8:return Ke(t,n,n.pendingProps.children,a),n.child;case 12:return Ke(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,pr(n,n.type,l.value),Ke(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Ta(n),h=nn(h),l=l(h),n.flags|=1,Ke(t,n,l,a),n.child;case 14:return Eg(t,n,n.type,n.pendingProps,a);case 15:return Tg(t,n,n.type,n.pendingProps,a);case 19:return Dg(t,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},t===null?(a=Iu(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=zi(t.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return bg(t,n,a);case 24:return Ta(n),l=nn(je),t===null?(h=Dh(),h===null&&(h=oe,d=wh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),n.memoizedState={parent:l,cache:h},Vh(n),pr(n,je,h)):((t.lanes&a)!==0&&(Nh(t,n),wl(n,null,null,a),xl()),h=t.memoizedState,d=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),pr(n,je,l)):(l=d.cache,pr(n,je,l),l!==h.cache&&xh(n,[je],a,!0))),Ke(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function $i(t){t.flags|=4}function Vg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Py(n)){if(n=qn.current,n!==null&&((Ft&4194048)===Ft?Ei!==null:(Ft&62914560)!==Ft&&(Ft&536870912)===0||n!==Ei))throw Al=Ih,mp;t.flags|=8192}}function Vu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Zs():536870912,t.lanes|=n,_s|=n)}function Ol(t,n){if(!Zt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ye(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function tT(t,n,a){var l=n.pendingProps;switch(bh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ye(n),null;case 1:return ye(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Fi(je),Nn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(yl(n)?$i(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,up())),ye(n),null;case 26:return a=n.memoizedState,t===null?($i(n),a!==null?(ye(n),Vg(n,a)):(ye(n),n.flags&=-16777217)):a?a!==t.memoizedState?($i(n),ye(n),Vg(n,a)):(ye(n),n.flags&=-16777217):(t.memoizedProps!==l&&$i(n),ye(n),n.flags&=-16777217),null;case 27:Yn(n),a=St.current;var h=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&$i(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ye(n),null}t=mt.current,yl(n)?lp(n):(t=Vy(h,l,a),n.stateNode=t,$i(n))}return ye(n),null;case 5:if(Yn(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&$i(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ye(n),null}if(t=mt.current,yl(n))lp(n);else{switch(h=Gu(St.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Ne]=n,t[xe]=l;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=t;t:switch(Xe(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&$i(n)}}return ye(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&$i(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=St.current,yl(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=dn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Ne]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Ay(t.nodeValue,a)),t||va(n)}else t=Gu(t).createTextNode(l),t[Ne]=n,n.stateNode=t}return ye(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=yl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ne]=n}else _l(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ye(n),h=!1}else h=up(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Yi(n),n):(Yi(n),null)}if(Yi(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),Vu(n,n.updateQueue),ye(n),null;case 4:return Nn(),t===null&&jf(n.stateNode.containerInfo),ye(n),null;case 10:return Fi(n.type),ye(n),null;case 19:if(ot(Ue),h=n.memoizedState,h===null)return ye(n),null;if(l=(n.flags&128)!==0,d=h.rendering,d===null)if(l)Ol(h,!1);else{if(Ee!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(d=xu(t),d!==null){for(n.flags|=128,Ol(h,!1),t=d.updateQueue,n.updateQueue=t,Vu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)ap(a,t),a=a.sibling;return st(Ue,Ue.current&1|2),n.child}t=t.sibling}h.tail!==null&&wt()>Ou&&(n.flags|=128,l=!0,Ol(h,!1),n.lanes=4194304)}else{if(!l)if(t=xu(d),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Vu(n,t),Ol(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Zt)return ye(n),null}else 2*wt()-h.renderingStartTime>Ou&&a!==536870912&&(n.flags|=128,l=!0,Ol(h,!1),n.lanes=4194304);h.isBackwards?(d.sibling=n.child,n.child=d):(t=h.last,t!==null?t.sibling=d:n.child=d,h.last=d)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=wt(),n.sibling=null,t=Ue.current,st(Ue,l?t&1|2:t&1),n):(ye(n),null);case 22:case 23:return Yi(n),Uh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ye(n),n.subtreeFlags&6&&(n.flags|=8192)):ye(n),a=n.updateQueue,a!==null&&Vu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&ot(ba),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Fi(je),ye(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function eT(t,n){switch(bh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Fi(je),Nn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Yn(n),null;case 13:if(Yi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));_l()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ot(Ue),null;case 4:return Nn(),null;case 10:return Fi(n.type),null;case 22:case 23:return Yi(n),Uh(),t!==null&&ot(ba),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Fi(je),null;case 25:return null;default:return null}}function Ng(t,n){switch(bh(n),n.tag){case 3:Fi(je),Nn();break;case 26:case 27:case 5:Yn(n);break;case 4:Nn();break;case 13:Yi(n);break;case 19:ot(Ue);break;case 10:Fi(n.type);break;case 22:case 23:Yi(n),Uh(),t!==null&&ot(ba);break;case 24:Fi(je)}}function jl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(b){le(n,n.return,b)}}function br(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,b=v.destroy;if(b!==void 0){v.destroy=void 0,h=n;var D=a,F=b;try{F()}catch(tt){le(h,D,tt)}}}l=l.next}while(l!==d)}}catch(tt){le(n,n.return,tt)}}function Mg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Ep(n,a)}catch(l){le(t,t.return,l)}}}function Og(t,n,a){a.props=Aa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){le(t,n,l)}}function Ul(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){le(t,n,h)}}function Ti(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){le(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){le(t,n,h)}else a.current=null}function jg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){le(t,t.return,h)}}function hf(t,n,a){try{var l=t.stateNode;bT(l,t.type,a,n),l[xe]=n}catch(h){le(t,t.return,h)}}function Ug(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ir(t.type)||t.tag===4}function ff(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Ug(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ir(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function df(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Hu));else if(l!==4&&(l===27&&Ir(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(df(t,n,a),t=t.sibling;t!==null;)df(t,n,a),t=t.sibling}function Nu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Ir(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Nu(t,n,a),t=t.sibling;t!==null;)Nu(t,n,a),t=t.sibling}function Lg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Xe(n,l,a),n[Ne]=t,n[xe]=a}catch(d){le(t,t.return,d)}}var Xi=!1,Ae=!1,mf=!1,kg=typeof WeakSet=="function"?WeakSet:Set,qe=null;function nT(t,n){if(t=t.containerInfo,kf=Xu,t=$m(t),hh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,b=-1,D=-1,F=0,tt=0,it=t,Y=null;e:for(;;){for(var K;it!==a||h!==0&&it.nodeType!==3||(b=v+h),it!==d||l!==0&&it.nodeType!==3||(D=v+l),it.nodeType===3&&(v+=it.nodeValue.length),(K=it.firstChild)!==null;)Y=it,it=K;for(;;){if(it===t)break e;if(Y===a&&++F===h&&(b=v),Y===d&&++tt===l&&(D=v),(K=it.nextSibling)!==null)break;it=Y,Y=it.parentNode}it=K}a=b===-1||D===-1?null:{start:b,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Pf={focusedElem:t,selectionRange:a},Xu=!1,qe=n;qe!==null;)if(n=qe,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,qe=t;else for(;qe!==null;){switch(n=qe,d=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=n,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Rt=Aa(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Rt,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(bt){le(a,a.return,bt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)qf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":qf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,qe=t;break}qe=n.return}}function Pg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Sr(t,a),l&4&&jl(5,a);break;case 1:if(Sr(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(v){le(a,a.return,v)}else{var h=Aa(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(v){le(a,a.return,v)}}l&64&&Mg(a),l&512&&Ul(a,a.return);break;case 3:if(Sr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Ep(t,n)}catch(v){le(a,a.return,v)}}break;case 27:n===null&&l&4&&Lg(a);case 26:case 5:Sr(t,a),n===null&&l&4&&jg(a),l&512&&Ul(a,a.return);break;case 12:Sr(t,a);break;case 13:Sr(t,a),l&4&&qg(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=hT.bind(null,a),DT(t,a))));break;case 22:if(l=a.memoizedState!==null||Xi,!l){n=n!==null&&n.memoizedState!==null||Ae,h=Xi;var d=Ae;Xi=l,(Ae=n)&&!d?Ar(t,a,(a.subtreeFlags&8772)!==0):Sr(t,a),Xi=h,Ae=d}break;case 30:break;default:Sr(t,a)}}function Bg(t){var n=t.alternate;n!==null&&(t.alternate=null,Bg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&hr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var me=null,yn=!1;function Zi(t,n,a){for(a=a.child;a!==null;)zg(t,n,a),a=a.sibling}function zg(t,n,a){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(se,a)}catch{}switch(a.tag){case 26:Ae||Ti(a,n),Zi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ae||Ti(a,n);var l=me,h=yn;Ir(a.type)&&(me=a.stateNode,yn=!1),Zi(t,n,a),Fl(a.stateNode),me=l,yn=h;break;case 5:Ae||Ti(a,n);case 6:if(l=me,h=yn,me=null,Zi(t,n,a),me=l,yn=h,me!==null)if(yn)try{(me.nodeType===9?me.body:me.nodeName==="HTML"?me.ownerDocument.body:me).removeChild(a.stateNode)}catch(d){le(a,n,d)}else try{me.removeChild(a.stateNode)}catch(d){le(a,n,d)}break;case 18:me!==null&&(yn?(t=me,Dy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Jl(t)):Dy(me,a.stateNode));break;case 4:l=me,h=yn,me=a.stateNode.containerInfo,yn=!0,Zi(t,n,a),me=l,yn=h;break;case 0:case 11:case 14:case 15:Ae||br(2,a,n),Ae||br(4,a,n),Zi(t,n,a);break;case 1:Ae||(Ti(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Og(a,n,l)),Zi(t,n,a);break;case 21:Zi(t,n,a);break;case 22:Ae=(l=Ae)||a.memoizedState!==null,Zi(t,n,a),Ae=l;break;default:Zi(t,n,a)}}function qg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Jl(t)}catch(a){le(n,n.return,a)}}function iT(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new kg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new kg),n;default:throw Error(s(435,t.tag))}}function pf(t,n){var a=iT(t);n.forEach(function(l){var h=fT.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function Rn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=n,b=v;t:for(;b!==null;){switch(b.tag){case 27:if(Ir(b.type)){me=b.stateNode,yn=!1;break t}break;case 5:me=b.stateNode,yn=!1;break t;case 3:case 4:me=b.stateNode.containerInfo,yn=!0;break t}b=b.return}if(me===null)throw Error(s(160));zg(d,v,h),me=null,yn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Hg(n,t),n=n.sibling}var Jn=null;function Hg(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Rn(n,t),xn(t),l&4&&(br(3,t,t.return),jl(3,t),br(5,t,t.return));break;case 1:Rn(n,t),xn(t),l&512&&(Ae||a===null||Ti(a,a.return)),l&64&&Xi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Jn;if(Rn(n,t),xn(t),l&512&&(Ae||a===null||Ti(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Jr]||d[Ne]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Xe(d,l,a),d[Ne]=t,be(d),l=d;break t;case"link":var v=Ly("link","href",h).get(l+(a.href||""));if(v){for(var b=0;b<v.length;b++)if(d=v[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(b,1);break e}}d=h.createElement(l),Xe(d,l,a),h.head.appendChild(d);break;case"meta":if(v=Ly("meta","content",h).get(l+(a.content||""))){for(b=0;b<v.length;b++)if(d=v[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(b,1);break e}}d=h.createElement(l),Xe(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Ne]=t,be(d),l=d}t.stateNode=l}else ky(h,t.type,t.stateNode);else t.stateNode=Uy(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?ky(h,t.type,t.stateNode):Uy(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&hf(t,t.memoizedProps,a.memoizedProps)}break;case 27:Rn(n,t),xn(t),l&512&&(Ae||a===null||Ti(a,a.return)),a!==null&&l&4&&hf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Rn(n,t),xn(t),l&512&&(Ae||a===null||Ti(a,a.return)),t.flags&32){h=t.stateNode;try{On(h,"")}catch(K){le(t,t.return,K)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,hf(t,h,a!==null?a.memoizedProps:h)),l&1024&&(mf=!0);break;case 6:if(Rn(n,t),xn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(K){le(t,t.return,K)}}break;case 3:if(Yu=null,h=Jn,Jn=Fu(n.containerInfo),Rn(n,t),Jn=h,xn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Jl(n.containerInfo)}catch(K){le(t,t.return,K)}mf&&(mf=!1,Gg(t));break;case 4:l=Jn,Jn=Fu(t.stateNode.containerInfo),Rn(n,t),xn(t),Jn=l;break;case 12:Rn(n,t),xn(t);break;case 13:Rn(n,t),xn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Tf=wt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,pf(t,l)));break;case 22:h=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,F=Xi,tt=Ae;if(Xi=F||h,Ae=tt||D,Rn(n,t),Ae=tt,Xi=F,xn(t),l&8192)t:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||D||Xi||Ae||Ra(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){D=a=n;try{if(d=D.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{b=D.stateNode;var it=D.memoizedProps.style,Y=it!=null&&it.hasOwnProperty("display")?it.display:null;b.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(K){le(D,D.return,K)}}}else if(n.tag===6){if(a===null){D=n;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(K){le(D,D.return,K)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,pf(t,a))));break;case 19:Rn(n,t),xn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,pf(t,l)));break;case 30:break;case 21:break;default:Rn(n,t),xn(t)}}function xn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Ug(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=ff(t);Nu(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(On(v,""),a.flags&=-33);var b=ff(t);Nu(t,b,v);break;case 3:case 4:var D=a.stateNode.containerInfo,F=ff(t);df(t,F,D);break;default:throw Error(s(161))}}catch(tt){le(t,t.return,tt)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Gg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Gg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Sr(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Pg(t,n.alternate,n),n=n.sibling}function Ra(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:br(4,n,n.return),Ra(n);break;case 1:Ti(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Og(n,n.return,a),Ra(n);break;case 27:Fl(n.stateNode);case 26:case 5:Ti(n,n.return),Ra(n);break;case 22:n.memoizedState===null&&Ra(n);break;case 30:Ra(n);break;default:Ra(n)}t=t.sibling}}function Ar(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,d=n,v=d.flags;switch(d.tag){case 0:case 11:case 15:Ar(h,d,a),jl(4,d);break;case 1:if(Ar(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(F){le(l,l.return,F)}if(l=d,h=l.updateQueue,h!==null){var b=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)vp(D[h],b)}catch(F){le(l,l.return,F)}}a&&v&64&&Mg(d),Ul(d,d.return);break;case 27:Lg(d);case 26:case 5:Ar(h,d,a),a&&l===null&&v&4&&jg(d),Ul(d,d.return);break;case 12:Ar(h,d,a);break;case 13:Ar(h,d,a),a&&v&4&&qg(h,d);break;case 22:d.memoizedState===null&&Ar(h,d,a),Ul(d,d.return);break;case 30:break;default:Ar(h,d,a)}n=n.sibling}}function gf(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Tl(a))}function yf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Tl(t))}function bi(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Fg(t,n,a,l),n=n.sibling}function Fg(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:bi(t,n,a,l),h&2048&&jl(9,n);break;case 1:bi(t,n,a,l);break;case 3:bi(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Tl(t)));break;case 12:if(h&2048){bi(t,n,a,l),t=n.stateNode;try{var d=n.memoizedProps,v=d.id,b=d.onPostCommit;typeof b=="function"&&b(v,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){le(n,n.return,D)}}else bi(t,n,a,l);break;case 13:bi(t,n,a,l);break;case 23:break;case 22:d=n.stateNode,v=n.alternate,n.memoizedState!==null?d._visibility&2?bi(t,n,a,l):Ll(t,n):d._visibility&2?bi(t,n,a,l):(d._visibility|=2,ps(t,n,a,l,(n.subtreeFlags&10256)!==0)),h&2048&&gf(v,n);break;case 24:bi(t,n,a,l),h&2048&&yf(n.alternate,n);break;default:bi(t,n,a,l)}}function ps(t,n,a,l,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=t,v=n,b=a,D=l,F=v.flags;switch(v.tag){case 0:case 11:case 15:ps(d,v,b,D,h),jl(8,v);break;case 23:break;case 22:var tt=v.stateNode;v.memoizedState!==null?tt._visibility&2?ps(d,v,b,D,h):Ll(d,v):(tt._visibility|=2,ps(d,v,b,D,h)),h&&F&2048&&gf(v.alternate,v);break;case 24:ps(d,v,b,D,h),h&&F&2048&&yf(v.alternate,v);break;default:ps(d,v,b,D,h)}n=n.sibling}}function Ll(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:Ll(a,l),h&2048&&gf(l.alternate,l);break;case 24:Ll(a,l),h&2048&&yf(l.alternate,l);break;default:Ll(a,l)}n=n.sibling}}var kl=8192;function gs(t){if(t.subtreeFlags&kl)for(t=t.child;t!==null;)Qg(t),t=t.sibling}function Qg(t){switch(t.tag){case 26:gs(t),t.flags&kl&&t.memoizedState!==null&&qT(Jn,t.memoizedState,t.memoizedProps);break;case 5:gs(t);break;case 3:case 4:var n=Jn;Jn=Fu(t.stateNode.containerInfo),gs(t),Jn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=kl,kl=16777216,gs(t),kl=n):gs(t));break;default:gs(t)}}function Yg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Pl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];qe=l,$g(l,t)}Yg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Kg(t),t=t.sibling}function Kg(t){switch(t.tag){case 0:case 11:case 15:Pl(t),t.flags&2048&&br(9,t,t.return);break;case 3:Pl(t);break;case 12:Pl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Mu(t)):Pl(t);break;default:Pl(t)}}function Mu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];qe=l,$g(l,t)}Yg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:br(8,n,n.return),Mu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Mu(n));break;default:Mu(n)}t=t.sibling}}function $g(t,n){for(;qe!==null;){var a=qe;switch(a.tag){case 0:case 11:case 15:br(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Tl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,qe=l;else t:for(a=t;qe!==null;){l=qe;var h=l.sibling,d=l.return;if(Bg(l),l===a){qe=null;break t}if(h!==null){h.return=d,qe=h;break t}qe=d}}}var rT={getCacheForType:function(t){var n=nn(je),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},aT=typeof WeakMap=="function"?WeakMap:Map,te=0,oe=null,Lt=null,Ft=0,ee=0,wn=null,Rr=!1,ys=!1,_f=!1,Wi=0,Ee=0,xr=0,xa=0,vf=0,Hn=0,_s=0,Bl=null,_n=null,Ef=!1,Tf=0,Ou=1/0,ju=null,wr=null,$e=0,Cr=null,vs=null,Es=0,bf=0,Sf=null,Xg=null,zl=0,Af=null;function Cn(){if((te&2)!==0&&Ft!==0)return Ft&-Ft;if(Z.T!==null){var t=ls;return t!==0?t:Vf()}return ur()}function Zg(){Hn===0&&(Hn=(Ft&536870912)===0||Zt?Xs():536870912);var t=qn.current;return t!==null&&(t.flags|=32),Hn}function Dn(t,n,a){(t===oe&&(ee===2||ee===9)||t.cancelPendingCommit!==null)&&(Ts(t,0),Dr(t,Ft,Hn,!1)),Ii(t,a),((te&2)===0||t!==oe)&&(t===oe&&((te&2)===0&&(xa|=a),Ee===4&&Dr(t,Ft,Hn,!1)),Si(t))}function Wg(t,n,a){if((te&6)!==0)throw Error(s(327));var l=!a&&(n&124)===0&&(n&t.expiredLanes)===0||Wr(t,n),h=l?oT(t,n):wf(t,n,!0),d=l;do{if(h===0){ys&&!l&&Dr(t,n,0,!1);break}else{if(a=t.current.alternate,d&&!sT(a)){h=wf(t,n,!1),d=!1;continue}if(h===2){if(d=n,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var b=t;h=Bl;var D=b.current.memoizedState.isDehydrated;if(D&&(Ts(b,v).flags|=256),v=wf(b,v,!1),v!==2){if(_f&&!D){b.errorRecoveryDisabledLanes|=d,xa|=d,h=4;break t}d=_n,_n=h,d!==null&&(_n===null?_n=d:_n.push.apply(_n,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Ts(t,0),Dr(t,n,0,!0);break}t:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Dr(l,n,Hn,!Rr);break t;case 2:_n=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=Tf+300-wt(),10<h)){if(Dr(l,n,Hn,!Rr),ka(l,0,!0)!==0)break t;l.timeoutHandle=wy(Jg.bind(null,l,a,_n,ju,Ef,n,Hn,xa,_s,Rr,d,2,-0,0),h);break t}Jg(l,a,_n,ju,Ef,n,Hn,xa,_s,Rr,d,0,-0,0)}}break}while(!0);Si(t)}function Jg(t,n,a,l,h,d,v,b,D,F,tt,it,Y,K){if(t.timeoutHandle=-1,it=n.subtreeFlags,(it&8192||(it&16785408)===16785408)&&(Kl={stylesheets:null,count:0,unsuspend:zT},Qg(n),it=HT(),it!==null)){t.cancelPendingCommit=it(sy.bind(null,t,n,d,a,l,h,v,b,D,tt,1,Y,K)),Dr(t,d,v,!F);return}sy(t,n,d,a,l,h,v,b,D)}function sT(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Sn(d(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Dr(t,n,a,l){n&=~vf,n&=~xa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var d=31-en(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&oi(t,a,n)}function Uu(){return(te&6)===0?(ql(0),!1):!0}function Rf(){if(Lt!==null){if(ee===0)var t=Lt.return;else t=Lt,Gi=Ea=null,zh(t),ds=null,Nl=0,t=Lt;for(;t!==null;)Ng(t.alternate,t),t=t.return;Lt=null}}function Ts(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,AT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Rf(),oe=t,Lt=a=zi(t.current,null),Ft=n,ee=0,wn=null,Rr=!1,ys=Wr(t,n),_f=!1,_s=Hn=vf=xa=xr=Ee=0,_n=Bl=null,Ef=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-en(l),d=1<<h;n|=t[h],l&=~d}return Wi=n,ru(),a}function ty(t,n){Ot=null,Z.H=Su,n===Sl||n===du?(n=yp(),ee=3):n===mp?(n=yp(),ee=4):ee=n===_g?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,wn=n,Lt===null&&(Ee=1,Cu(t,kn(n,t.current)))}function ey(){var t=Z.H;return Z.H=Su,t===null?Su:t}function ny(){var t=Z.A;return Z.A=rT,t}function xf(){Ee=4,Rr||(Ft&4194048)!==Ft&&qn.current!==null||(ys=!0),(xr&134217727)===0&&(xa&134217727)===0||oe===null||Dr(oe,Ft,Hn,!1)}function wf(t,n,a){var l=te;te|=2;var h=ey(),d=ny();(oe!==t||Ft!==n)&&(ju=null,Ts(t,n)),n=!1;var v=Ee;t:do try{if(ee!==0&&Lt!==null){var b=Lt,D=wn;switch(ee){case 8:Rf(),v=6;break t;case 3:case 2:case 9:case 6:qn.current===null&&(n=!0);var F=ee;if(ee=0,wn=null,bs(t,b,D,F),a&&ys){v=0;break t}break;default:F=ee,ee=0,wn=null,bs(t,b,D,F)}}lT(),v=Ee;break}catch(tt){ty(t,tt)}while(!0);return n&&t.shellSuspendCounter++,Gi=Ea=null,te=l,Z.H=h,Z.A=d,Lt===null&&(oe=null,Ft=0,ru()),v}function lT(){for(;Lt!==null;)iy(Lt)}function oT(t,n){var a=te;te|=2;var l=ey(),h=ny();oe!==t||Ft!==n?(ju=null,Ou=wt()+500,Ts(t,n)):ys=Wr(t,n);t:do try{if(ee!==0&&Lt!==null){n=Lt;var d=wn;e:switch(ee){case 1:ee=0,wn=null,bs(t,n,d,1);break;case 2:case 9:if(pp(d)){ee=0,wn=null,ry(n);break}n=function(){ee!==2&&ee!==9||oe!==t||(ee=7),Si(t)},d.then(n,n);break t;case 3:ee=7;break t;case 4:ee=5;break t;case 7:pp(d)?(ee=0,wn=null,ry(n)):(ee=0,wn=null,bs(t,n,d,7));break;case 5:var v=null;switch(Lt.tag){case 26:v=Lt.memoizedState;case 5:case 27:var b=Lt;if(!v||Py(v)){ee=0,wn=null;var D=b.sibling;if(D!==null)Lt=D;else{var F=b.return;F!==null?(Lt=F,Lu(F)):Lt=null}break e}}ee=0,wn=null,bs(t,n,d,5);break;case 6:ee=0,wn=null,bs(t,n,d,6);break;case 8:Rf(),Ee=6;break t;default:throw Error(s(462))}}uT();break}catch(tt){ty(t,tt)}while(!0);return Gi=Ea=null,Z.H=l,Z.A=h,te=a,Lt!==null?0:(oe=null,Ft=0,ru(),Ee)}function uT(){for(;Lt!==null&&!ft();)iy(Lt)}function iy(t){var n=Ig(t.alternate,t,Wi);t.memoizedProps=t.pendingProps,n===null?Lu(t):Lt=n}function ry(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Ag(a,n,n.pendingProps,n.type,void 0,Ft);break;case 11:n=Ag(a,n,n.pendingProps,n.type.render,n.ref,Ft);break;case 5:zh(n);default:Ng(a,n),n=Lt=ap(n,Wi),n=Ig(a,n,Wi)}t.memoizedProps=t.pendingProps,n===null?Lu(t):Lt=n}function bs(t,n,a,l){Gi=Ea=null,zh(n),ds=null,Nl=0;var h=n.return;try{if(WE(t,h,n,a,Ft)){Ee=1,Cu(t,kn(a,t.current)),Lt=null;return}}catch(d){if(h!==null)throw Lt=h,d;Ee=1,Cu(t,kn(a,t.current)),Lt=null;return}n.flags&32768?(Zt||l===1?t=!0:ys||(Ft&536870912)!==0?t=!1:(Rr=t=!0,(l===2||l===9||l===3||l===6)&&(l=qn.current,l!==null&&l.tag===13&&(l.flags|=16384))),ay(n,t)):Lu(n)}function Lu(t){var n=t;do{if((n.flags&32768)!==0){ay(n,Rr);return}t=n.return;var a=tT(n.alternate,n,Wi);if(a!==null){Lt=a;return}if(n=n.sibling,n!==null){Lt=n;return}Lt=n=t}while(n!==null);Ee===0&&(Ee=5)}function ay(t,n){do{var a=eT(t.alternate,t);if(a!==null){a.flags&=32767,Lt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Lt=t;return}Lt=t=a}while(t!==null);Ee=6,Lt=null}function sy(t,n,a,l,h,d,v,b,D){t.cancelPendingCommit=null;do ku();while($e!==0);if((te&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(d=n.lanes|n.childLanes,d|=gh,Ws(t,a,d,v,b,D),t===oe&&(Lt=oe=null,Ft=0),vs=n,Cr=t,Es=a,bf=d,Sf=h,Xg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,dT(zt,function(){return hy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=Z.T,Z.T=null,h=$.p,$.p=2,v=te,te|=4;try{nT(t,n,a)}finally{te=v,$.p=h,Z.T=l}}$e=1,ly(),oy(),uy()}}function ly(){if($e===1){$e=0;var t=Cr,n=vs,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=Z.T,Z.T=null;var l=$.p;$.p=2;var h=te;te|=4;try{Hg(n,t);var d=Pf,v=$m(t.containerInfo),b=d.focusedElem,D=d.selectionRange;if(v!==b&&b&&b.ownerDocument&&Km(b.ownerDocument.documentElement,b)){if(D!==null&&hh(b)){var F=D.start,tt=D.end;if(tt===void 0&&(tt=F),"selectionStart"in b)b.selectionStart=F,b.selectionEnd=Math.min(tt,b.value.length);else{var it=b.ownerDocument||document,Y=it&&it.defaultView||window;if(Y.getSelection){var K=Y.getSelection(),Rt=b.textContent.length,bt=Math.min(D.start,Rt),ae=D.end===void 0?bt:Math.min(D.end,Rt);!K.extend&&bt>ae&&(v=ae,ae=bt,bt=v);var z=Ym(b,bt),U=Ym(b,ae);if(z&&U&&(K.rangeCount!==1||K.anchorNode!==z.node||K.anchorOffset!==z.offset||K.focusNode!==U.node||K.focusOffset!==U.offset)){var G=it.createRange();G.setStart(z.node,z.offset),K.removeAllRanges(),bt>ae?(K.addRange(G),K.extend(U.node,U.offset)):(G.setEnd(U.node,U.offset),K.addRange(G))}}}}for(it=[],K=b;K=K.parentNode;)K.nodeType===1&&it.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<it.length;b++){var et=it[b];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}Xu=!!kf,Pf=kf=null}finally{te=h,$.p=l,Z.T=a}}t.current=n,$e=2}}function oy(){if($e===2){$e=0;var t=Cr,n=vs,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=Z.T,Z.T=null;var l=$.p;$.p=2;var h=te;te|=4;try{Pg(t,n.alternate,n)}finally{te=h,$.p=l,Z.T=a}}$e=3}}function uy(){if($e===4||$e===3){$e=0,_t();var t=Cr,n=vs,a=Es,l=Xg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?$e=5:($e=0,vs=Cr=null,cy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(wr=null),Pa(a),n=n.stateNode,Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(se,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=Z.T,h=$.p,$.p=2,Z.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var b=l[v];d(b.value,{componentStack:b.stack})}}finally{Z.T=n,$.p=h}}(Es&3)!==0&&ku(),Si(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Af?zl++:(zl=0,Af=t):zl=0,ql(0)}}function cy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Tl(n)))}function ku(t){return ly(),oy(),uy(),hy()}function hy(){if($e!==5)return!1;var t=Cr,n=bf;bf=0;var a=Pa(Es),l=Z.T,h=$.p;try{$.p=32>a?32:a,Z.T=null,a=Sf,Sf=null;var d=Cr,v=Es;if($e=0,vs=Cr=null,Es=0,(te&6)!==0)throw Error(s(331));var b=te;if(te|=4,Kg(d.current),Fg(d,d.current,v,a),te=b,ql(0,!1),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(se,d)}catch{}return!0}finally{$.p=h,Z.T=l,cy(t,n)}}function fy(t,n,a){n=kn(a,n),n=ef(t.stateNode,n,2),t=_r(t,n,2),t!==null&&(Ii(t,2),Si(t))}function le(t,n,a){if(t.tag===3)fy(t,t,a);else for(;n!==null;){if(n.tag===3){fy(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(wr===null||!wr.has(l))){t=kn(a,t),a=gg(2),l=_r(n,a,2),l!==null&&(yg(a,l,n,t),Ii(l,2),Si(l));break}}n=n.return}}function Cf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new aT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(_f=!0,h.add(a),t=cT.bind(null,t,n,a),n.then(t,t))}function cT(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,oe===t&&(Ft&a)===a&&(Ee===4||Ee===3&&(Ft&62914560)===Ft&&300>wt()-Tf?(te&2)===0&&Ts(t,0):vf|=a,_s===Ft&&(_s=0)),Si(t)}function dy(t,n){n===0&&(n=Zs()),t=is(t,n),t!==null&&(Ii(t,n),Si(t))}function hT(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),dy(t,a)}function fT(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),dy(t,a)}function dT(t,n){return li(t,n)}var Pu=null,Ss=null,Df=!1,Bu=!1,If=!1,wa=0;function Si(t){t!==Ss&&t.next===null&&(Ss===null?Pu=Ss=t:Ss=Ss.next=t),Bu=!0,Df||(Df=!0,pT())}function ql(t,n){if(!If&&Bu){If=!0;do for(var a=!1,l=Pu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-en(42|t)+1)-1,d&=h&~(v&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,yy(l,d))}else d=Ft,d=ka(l,l===oe?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Wr(l,d)||(a=!0,yy(l,d));l=l.next}while(a);If=!1}}function mT(){my()}function my(){Bu=Df=!1;var t=0;wa!==0&&(ST()&&(t=wa),wa=0);for(var n=wt(),a=null,l=Pu;l!==null;){var h=l.next,d=py(l,n);d===0?(l.next=null,a===null?Pu=h:a.next=h,h===null&&(Ss=a)):(a=l,(t!==0||(d&3)!==0)&&(Bu=!0)),l=h}ql(t)}function py(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-en(d),b=1<<v,D=h[v];D===-1?((b&a)===0||(b&l)!==0)&&(h[v]=$s(b,n)):D<=n&&(t.expiredLanes|=b),d&=~b}if(n=oe,a=Ft,a=ka(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(ee===2||ee===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&nt(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Wr(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&nt(l),Pa(a)){case 2:case 8:a=qt;break;case 32:a=zt;break;case 268435456:a=ce;break;default:a=zt}return l=gy.bind(null,t),a=li(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&nt(l),t.callbackPriority=2,t.callbackNode=null,2}function gy(t,n){if($e!==0&&$e!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(ku()&&t.callbackNode!==a)return null;var l=Ft;return l=ka(t,t===oe?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Wg(t,l,n),py(t,wt()),t.callbackNode!=null&&t.callbackNode===a?gy.bind(null,t):null)}function yy(t,n){if(ku())return null;Wg(t,n,!0)}function pT(){RT(function(){(te&6)!==0?li(Fe,mT):my()})}function Vf(){return wa===0&&(wa=Xs()),wa}function _y(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Fa(""+t)}function vy(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function gT(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var d=_y((h[xe]||null).action),v=l.submitter;v&&(n=(n=v[xe]||null)?_y(n.formAction):v.getAttribute("formAction"),n!==null&&(d=n,v=null));var b=new Qa("action","action",null,l,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(wa!==0){var D=v?vy(h,v):new FormData(h);Xh(a,{pending:!0,data:D,method:h.method,action:d},null,D)}}else typeof d=="function"&&(b.preventDefault(),D=v?vy(h,v):new FormData(h),Xh(a,{pending:!0,data:D,method:h.method,action:d},d,D))},currentTarget:h}]})}}for(var Nf=0;Nf<ph.length;Nf++){var Mf=ph[Nf],yT=Mf.toLowerCase(),_T=Mf[0].toUpperCase()+Mf.slice(1);Wn(yT,"on"+_T)}Wn(Wm,"onAnimationEnd"),Wn(Jm,"onAnimationIteration"),Wn(tp,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(jE,"onTransitionRun"),Wn(UE,"onTransitionStart"),Wn(LE,"onTransitionCancel"),Wn(ep,"onTransitionEnd"),Ni("onMouseEnter",["mouseout","mouseover"]),Ni("onMouseLeave",["mouseout","mouseover"]),Ni("onPointerEnter",["pointerout","pointerover"]),Ni("onPointerLeave",["pointerout","pointerover"]),Xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hl));function Ey(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;t:{var d=void 0;if(n)for(var v=l.length-1;0<=v;v--){var b=l[v],D=b.instance,F=b.currentTarget;if(b=b.listener,D!==d&&h.isPropagationStopped())break t;d=b,h.currentTarget=F;try{d(h)}catch(tt){wu(tt)}h.currentTarget=null,d=D}else for(v=0;v<l.length;v++){if(b=l[v],D=b.instance,F=b.currentTarget,b=b.listener,D!==d&&h.isPropagationStopped())break t;d=b,h.currentTarget=F;try{d(h)}catch(tt){wu(tt)}h.currentTarget=null,d=D}}}}function kt(t,n){var a=n[tl];a===void 0&&(a=n[tl]=new Set);var l=t+"__bubble";a.has(l)||(Ty(n,t,2,!1),a.add(l))}function Of(t,n,a){var l=0;n&&(l|=4),Ty(a,t,l,n)}var zu="_reactListening"+Math.random().toString(36).slice(2);function jf(t){if(!t[zu]){t[zu]=!0,el.forEach(function(a){a!=="selectionchange"&&(vT.has(a)||Of(a,!1,t),Of(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[zu]||(n[zu]=!0,Of("selectionchange",!1,n))}}function Ty(t,n,a,l){switch(Fy(n)){case 2:var h=QT;break;case 8:h=YT;break;default:h=$f}a=h.bind(null,n,a,t),h=void 0,!Un||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function Uf(t,n,a,l,h){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var b=l.stateNode.containerInfo;if(b===h)break;if(v===4)for(v=l.return;v!==null;){var D=v.tag;if((D===3||D===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;b!==null;){if(v=Vi(b),v===null)return;if(D=v.tag,D===5||D===6||D===26||D===27){l=d=v;continue t}b=b.parentNode}}l=l.return}Ho(function(){var F=d,tt=jn(a),it=[];t:{var Y=np.get(t);if(Y!==void 0){var K=Qa,Rt=t;switch(t){case"keypress":if(mi(a)===0)break t;case"keydown":case"keyup":K=Wa;break;case"focusin":Rt="focus",K=$a;break;case"focusout":Rt="blur",K=$a;break;case"beforeblur":case"afterblur":K=$a;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Ln;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=lh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Zo;break;case Wm:case Jm:case tp:K=Xa;break;case ep:K=Jo;break;case"scroll":case"scrollend":K=Go;break;case"wheel":K=Ja;break;case"copy":case"cut":case"paste":K=Za;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=dl;break;case"toggle":case"beforetoggle":K=eu}var bt=(n&4)!==0,ae=!bt&&(t==="scroll"||t==="scrollend"),z=bt?Y!==null?Y+"Capture":null:Y;bt=[];for(var U=F,G;U!==null;){var et=U;if(G=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||G===null||z===null||(et=sa(U,z),et!=null&&bt.push(Gl(U,et,G))),ae)break;U=U.return}0<bt.length&&(Y=new K(Y,Rt,null,a,tt),it.push({event:Y,listeners:bt}))}}if((n&7)===0){t:{if(Y=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",Y&&a!==ji&&(Rt=a.relatedTarget||a.fromElement)&&(Vi(Rt)||Rt[Mn]))break t;if((K||Y)&&(Y=tt.window===tt?tt:(Y=tt.ownerDocument)?Y.defaultView||Y.parentWindow:window,K?(Rt=a.relatedTarget||a.toElement,K=F,Rt=Rt?Vi(Rt):null,Rt!==null&&(ae=c(Rt),bt=Rt.tag,Rt!==ae||bt!==5&&bt!==27&&bt!==6)&&(Rt=null)):(K=null,Rt=F),K!==Rt)){if(bt=Ln,et="onMouseLeave",z="onMouseEnter",U="mouse",(t==="pointerout"||t==="pointerover")&&(bt=dl,et="onPointerLeave",z="onPointerEnter",U="pointer"),ae=K==null?Y:ci(K),G=Rt==null?Y:ci(Rt),Y=new bt(et,U+"leave",K,a,tt),Y.target=ae,Y.relatedTarget=G,et=null,Vi(tt)===F&&(bt=new bt(z,U+"enter",Rt,a,tt),bt.target=G,bt.relatedTarget=ae,et=bt),ae=et,K&&Rt)e:{for(bt=K,z=Rt,U=0,G=bt;G;G=As(G))U++;for(G=0,et=z;et;et=As(et))G++;for(;0<U-G;)bt=As(bt),U--;for(;0<G-U;)z=As(z),G--;for(;U--;){if(bt===z||z!==null&&bt===z.alternate)break e;bt=As(bt),z=As(z)}bt=null}else bt=null;K!==null&&by(it,Y,K,bt,!1),Rt!==null&&ae!==null&&by(it,ae,Rt,bt,!0)}}t:{if(Y=F?ci(F):window,K=Y.nodeName&&Y.nodeName.toLowerCase(),K==="select"||K==="input"&&Y.type==="file")var vt=zm;else if(Oe(Y))if(qm)vt=NE;else{vt=IE;var Ut=DE}else K=Y.nodeName,!K||K.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?F&&sl(F.elementType)&&(vt=zm):vt=VE;if(vt&&(vt=vt(t,F))){Bi(it,vt,a,tt);break t}Ut&&Ut(t,Y,F),t==="focusout"&&F&&Y.type==="number"&&F.memoizedProps.value!=null&&dr(Y,"number",Y.value)}switch(Ut=F?ci(F):window,t){case"focusin":(Oe(Ut)||Ut.contentEditable==="true")&&(ts=Ut,fh=F,gl=null);break;case"focusout":gl=fh=ts=null;break;case"mousedown":dh=!0;break;case"contextmenu":case"mouseup":case"dragend":dh=!1,Xm(it,a,tt);break;case"selectionchange":if(OE)break;case"keydown":case"keyup":Xm(it,a,tt)}var Et;if(yi)t:{switch(t){case"compositionstart":var At="onCompositionStart";break t;case"compositionend":At="onCompositionEnd";break t;case"compositionupdate":At="onCompositionUpdate";break t}At=void 0}else Ht?W(t,a)&&(At="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(At="onCompositionStart");At&&(_&&a.locale!=="ko"&&(Ht||At!=="onCompositionStart"?At==="onCompositionEnd"&&Ht&&(Et=ol()):(di=tt,mr="value"in di?di.value:di.textContent,Ht=!0)),Ut=qu(F,At),0<Ut.length&&(At=new hl(At,t,null,a,tt),it.push({event:At,listeners:Ut}),Et?At.data=Et:(Et=ht(a),Et!==null&&(At.data=Et)))),(Et=p?Me(t,a):Gt(t,a))&&(At=qu(F,"onBeforeInput"),0<At.length&&(Ut=new hl("onBeforeInput","beforeinput",null,a,tt),it.push({event:Ut,listeners:At}),Ut.data=Et)),gT(it,t,F,a,tt)}Ey(it,n)})}function Gl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function qu(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=sa(t,a),h!=null&&l.unshift(Gl(t,h,d)),h=sa(t,n),h!=null&&l.push(Gl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function As(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function by(t,n,a,l,h){for(var d=n._reactName,v=[];a!==null&&a!==l;){var b=a,D=b.alternate,F=b.stateNode;if(b=b.tag,D!==null&&D===l)break;b!==5&&b!==26&&b!==27||F===null||(D=F,h?(F=sa(a,d),F!=null&&v.unshift(Gl(a,F,D))):h||(F=sa(a,d),F!=null&&v.push(Gl(a,F,D)))),a=a.return}v.length!==0&&t.push({event:n,listeners:v})}var ET=/\r\n?/g,TT=/\u0000|\uFFFD/g;function Sy(t){return(typeof t=="string"?t:""+t).replace(ET,`
`).replace(TT,"")}function Ay(t,n){return n=Sy(n),Sy(t)===n}function Hu(){}function re(t,n,a,l,h,d){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||On(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&On(t,""+l);break;case"className":hi(t,"class",l);break;case"tabIndex":hi(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":hi(t,a,l);break;case"style":al(t,l,d);break;case"data":if(n!=="object"){hi(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Fa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(n!=="input"&&re(t,n,"name",h.name,h,null),re(t,n,"formEncType",h.formEncType,h,null),re(t,n,"formMethod",h.formMethod,h,null),re(t,n,"formTarget",h.formTarget,h,null)):(re(t,n,"encType",h.encType,h,null),re(t,n,"method",h.method,h,null),re(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Fa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Hu);break;case"onScroll":l!=null&&kt("scroll",t);break;case"onScrollEnd":l!=null&&kt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Fa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":kt("beforetoggle",t),kt("toggle",t),fr(t,"popover",l);break;case"xlinkActuate":Qe(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Qe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Qe(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Qe(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Qe(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Qe(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Qe(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Qe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Qe(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":fr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ah.get(a)||a,fr(t,a,l))}}function Lf(t,n,a,l,h,d){switch(a){case"style":al(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?On(t,l):(typeof l=="number"||typeof l=="bigint")&&On(t,""+l);break;case"onScroll":l!=null&&kt("scroll",t);break;case"onScrollEnd":l!=null&&kt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Hu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ba.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),d=t[xe]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(n,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):fr(t,a,l)}}}function Xe(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",t),kt("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:re(t,n,d,v,a,null)}}h&&re(t,n,"srcSet",a.srcSet,a,null),l&&re(t,n,"src",a.src,a,null);return;case"input":kt("invalid",t);var b=d=v=h=null,D=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var tt=a[l];if(tt!=null)switch(l){case"name":h=tt;break;case"type":v=tt;break;case"checked":D=tt;break;case"defaultChecked":F=tt;break;case"value":d=tt;break;case"defaultValue":b=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(s(137,n));break;default:re(t,n,l,tt,a,null)}}ia(t,d,b,D,F,v,h,!1),Ga(t);return;case"select":kt("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":d=b;break;case"defaultValue":v=b;break;case"multiple":l=b;default:re(t,n,h,b,a,null)}n=d,a=v,t.multiple=!!l,n!=null?Oi(t,!!l,n,!1):a!=null&&Oi(t,!!l,a,!0);return;case"textarea":kt("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(b=a[v],b!=null))switch(v){case"value":l=b;break;case"defaultValue":h=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:re(t,n,v,b,a,null)}ra(t,l,h,d),Ga(t);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:re(t,n,D,l,a,null)}return;case"dialog":kt("beforetoggle",t),kt("toggle",t),kt("cancel",t),kt("close",t);break;case"iframe":case"object":kt("load",t);break;case"video":case"audio":for(l=0;l<Hl.length;l++)kt(Hl[l],t);break;case"image":kt("error",t),kt("load",t);break;case"details":kt("toggle",t);break;case"embed":case"source":case"link":kt("error",t),kt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:re(t,n,F,l,a,null)}return;default:if(sl(n)){for(tt in a)a.hasOwnProperty(tt)&&(l=a[tt],l!==void 0&&Lf(t,n,tt,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&re(t,n,b,l,a,null))}function bT(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,b=null,D=null,F=null,tt=null;for(K in a){var it=a[K];if(a.hasOwnProperty(K)&&it!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":D=it;default:l.hasOwnProperty(K)||re(t,n,K,null,l,it)}}for(var Y in l){var K=l[Y];if(it=a[Y],l.hasOwnProperty(Y)&&(K!=null||it!=null))switch(Y){case"type":d=K;break;case"name":h=K;break;case"checked":F=K;break;case"defaultChecked":tt=K;break;case"value":v=K;break;case"defaultValue":b=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,n));break;default:K!==it&&re(t,n,Y,K,l,it)}}bn(t,v,b,D,F,tt,d,h);return;case"select":K=v=b=Y=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":K=D;default:l.hasOwnProperty(d)||re(t,n,d,null,l,D)}for(h in l)if(d=l[h],D=a[h],l.hasOwnProperty(h)&&(d!=null||D!=null))switch(h){case"value":Y=d;break;case"defaultValue":b=d;break;case"multiple":v=d;default:d!==D&&re(t,n,h,d,l,D)}n=b,a=v,l=K,Y!=null?Oi(t,!!a,Y,!1):!!l!=!!a&&(n!=null?Oi(t,!!a,n,!0):Oi(t,!!a,a?[]:"",!1));return;case"textarea":K=Y=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:re(t,n,b,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":Y=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&re(t,n,v,h,l,d)}ne(t,Y,K);return;case"option":for(var Rt in a)if(Y=a[Rt],a.hasOwnProperty(Rt)&&Y!=null&&!l.hasOwnProperty(Rt))switch(Rt){case"selected":t.selected=!1;break;default:re(t,n,Rt,null,l,Y)}for(D in l)if(Y=l[D],K=a[D],l.hasOwnProperty(D)&&Y!==K&&(Y!=null||K!=null))switch(D){case"selected":t.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:re(t,n,D,Y,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in a)Y=a[bt],a.hasOwnProperty(bt)&&Y!=null&&!l.hasOwnProperty(bt)&&re(t,n,bt,null,l,Y);for(F in l)if(Y=l[F],K=a[F],l.hasOwnProperty(F)&&Y!==K&&(Y!=null||K!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,n));break;default:re(t,n,F,Y,l,K)}return;default:if(sl(n)){for(var ae in a)Y=a[ae],a.hasOwnProperty(ae)&&Y!==void 0&&!l.hasOwnProperty(ae)&&Lf(t,n,ae,void 0,l,Y);for(tt in l)Y=l[tt],K=a[tt],!l.hasOwnProperty(tt)||Y===K||Y===void 0&&K===void 0||Lf(t,n,tt,Y,l,K);return}}for(var z in a)Y=a[z],a.hasOwnProperty(z)&&Y!=null&&!l.hasOwnProperty(z)&&re(t,n,z,null,l,Y);for(it in l)Y=l[it],K=a[it],!l.hasOwnProperty(it)||Y===K||Y==null&&K==null||re(t,n,it,Y,l,K)}var kf=null,Pf=null;function Gu(t){return t.nodeType===9?t:t.ownerDocument}function Ry(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Bf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var zf=null;function ST(){var t=window.event;return t&&t.type==="popstate"?t===zf?!1:(zf=t,!0):(zf=null,!1)}var wy=typeof setTimeout=="function"?setTimeout:void 0,AT=typeof clearTimeout=="function"?clearTimeout:void 0,Cy=typeof Promise=="function"?Promise:void 0,RT=typeof queueMicrotask=="function"?queueMicrotask:typeof Cy<"u"?function(t){return Cy.resolve(null).then(t).catch(xT)}:wy;function xT(t){setTimeout(function(){throw t})}function Ir(t){return t==="head"}function Dy(t,n){var a=n,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&Fl(v.documentElement),a&2&&Fl(v.body),a&4)for(a=v.head,Fl(a),v=a.firstChild;v;){var b=v.nextSibling,D=v.nodeName;v[Jr]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=b}}if(h===0){t.removeChild(d),Jl(n);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Jl(n)}function qf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":qf(a),hr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function wT(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Jr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=ti(t.nextSibling),t===null)break}return null}function CT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ti(t.nextSibling),t===null))return null;return t}function Hf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function DT(t,n){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ti(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Gf=null;function Iy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function Vy(t,n,a){switch(n=Gu(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Fl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);hr(t)}var Gn=new Map,Ny=new Set;function Fu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ji=$.d;$.d={f:IT,r:VT,D:NT,C:MT,L:OT,m:jT,X:LT,S:UT,M:kT};function IT(){var t=Ji.f(),n=Uu();return t||n}function VT(t){var n=ui(t);n!==null&&n.tag===5&&n.type==="form"?Wp(n):Ji.r(t)}var Rs=typeof document>"u"?null:document;function My(t,n,a){var l=Rs;if(l&&typeof n=="string"&&n){var h=we(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Ny.has(h)||(Ny.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Xe(n,"link",t),be(n),l.head.appendChild(n)))}}function NT(t){Ji.D(t),My("dns-prefetch",t,null)}function MT(t,n){Ji.C(t,n),My("preconnect",t,n)}function OT(t,n,a){Ji.L(t,n,a);var l=Rs;if(l&&t&&n){var h='link[rel="preload"][as="'+we(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+we(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+we(a.imageSizes)+'"]')):h+='[href="'+we(t)+'"]';var d=h;switch(n){case"style":d=xs(t);break;case"script":d=ws(t)}Gn.has(d)||(t=E({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Gn.set(d,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(Ql(d))||n==="script"&&l.querySelector(Yl(d))||(n=l.createElement("link"),Xe(n,"link",t),be(n),l.head.appendChild(n)))}}function jT(t,n){Ji.m(t,n);var a=Rs;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+we(l)+'"][href="'+we(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ws(t)}if(!Gn.has(d)&&(t=E({rel:"modulepreload",href:t},n),Gn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Yl(d)))return}l=a.createElement("link"),Xe(l,"link",t),be(l),a.head.appendChild(l)}}}function UT(t,n,a){Ji.S(t,n,a);var l=Rs;if(l&&t){var h=cn(l).hoistableStyles,d=xs(t);n=n||"default";var v=h.get(d);if(!v){var b={loading:0,preload:null};if(v=l.querySelector(Ql(d)))b.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Gn.get(d))&&Ff(t,a);var D=v=l.createElement("link");be(D),Xe(D,"link",t),D._p=new Promise(function(F,tt){D.onload=F,D.onerror=tt}),D.addEventListener("load",function(){b.loading|=1}),D.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Qu(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:b},h.set(d,v)}}}function LT(t,n){Ji.X(t,n);var a=Rs;if(a&&t){var l=cn(a).hoistableScripts,h=ws(t),d=l.get(h);d||(d=a.querySelector(Yl(h)),d||(t=E({src:t,async:!0},n),(n=Gn.get(h))&&Qf(t,n),d=a.createElement("script"),be(d),Xe(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function kT(t,n){Ji.M(t,n);var a=Rs;if(a&&t){var l=cn(a).hoistableScripts,h=ws(t),d=l.get(h);d||(d=a.querySelector(Yl(h)),d||(t=E({src:t,async:!0,type:"module"},n),(n=Gn.get(h))&&Qf(t,n),d=a.createElement("script"),be(d),Xe(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Oy(t,n,a,l){var h=(h=St.current)?Fu(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=xs(a.href),a=cn(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=xs(a.href);var d=cn(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Ql(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Gn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Gn.set(t,a),d||PT(h,t,a,v.state))),n&&l===null)throw Error(s(528,""));return v}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ws(a),a=cn(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function xs(t){return'href="'+we(t)+'"'}function Ql(t){return'link[rel="stylesheet"]['+t+"]"}function jy(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function PT(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Xe(n,"link",a),be(n),t.head.appendChild(n))}function ws(t){return'[src="'+we(t)+'"]'}function Yl(t){return"script[async]"+t}function Uy(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+we(a.href)+'"]');if(l)return n.instance=l,be(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),be(l),Xe(l,"style",h),Qu(l,a.precedence,t),n.instance=l;case"stylesheet":h=xs(a.href);var d=t.querySelector(Ql(h));if(d)return n.state.loading|=4,n.instance=d,be(d),d;l=jy(a),(h=Gn.get(h))&&Ff(l,h),d=(t.ownerDocument||t).createElement("link"),be(d);var v=d;return v._p=new Promise(function(b,D){v.onload=b,v.onerror=D}),Xe(d,"link",l),n.state.loading|=4,Qu(d,a.precedence,t),n.instance=d;case"script":return d=ws(a.src),(h=t.querySelector(Yl(d)))?(n.instance=h,be(h),h):(l=a,(h=Gn.get(d))&&(l=E({},a),Qf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),be(h),Xe(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Qu(l,a.precedence,t));return n.instance}function Qu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var b=l[v];if(b.dataset.precedence===n)d=b;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Ff(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Qf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Yu=null;function Ly(t,n,a){if(Yu===null){var l=new Map,h=Yu=new Map;h.set(a,l)}else h=Yu,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[Jr]||d[Ne]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(n)||"";v=t+v;var b=l.get(v);b?b.push(d):l.set(v,[d])}}return l}function ky(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function BT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Py(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Kl=null;function zT(){}function qT(t,n,a){if(Kl===null)throw Error(s(475));var l=Kl;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=xs(a.href),d=t.querySelector(Ql(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Ku.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=d,be(d);return}d=t.ownerDocument||t,a=jy(a),(h=Gn.get(h))&&Ff(a,h),d=d.createElement("link"),be(d);var v=d;v._p=new Promise(function(b,D){v.onload=b,v.onerror=D}),Xe(d,"link",a),n.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Ku.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function HT(){if(Kl===null)throw Error(s(475));var t=Kl;return t.stylesheets&&t.count===0&&Yf(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&Yf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Ku(){if(this.count--,this.count===0){if(this.stylesheets)Yf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var $u=null;function Yf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,$u=new Map,n.forEach(GT,t),$u=null,Ku.call(t))}function GT(t,n){if(!(n.state.loading&4)){var a=$u.get(t);if(a)var l=a.get(null);else{a=new Map,$u.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=n.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Ku.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var $l={$$typeof:q,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function FT(t,n,a,l,h,d,v,b){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Di(0),this.hiddenUpdates=Di(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function By(t,n,a,l,h,d,v,b,D,F,tt,it){return t=new FT(t,n,a,v,b,D,F,it),n=1,d===!0&&(n|=24),d=An(3,null,null,n),t.current=d,d.stateNode=t,n=wh(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:n},Vh(d),t}function zy(t){return t?(t=rs,t):rs}function qy(t,n,a,l,h,d){h=zy(h),l.context===null?l.context=h:l.pendingContext=h,l=yr(n),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=_r(t,l,n),a!==null&&(Dn(a,t,n),Rl(a,t,n))}function Hy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Kf(t,n){Hy(t,n),(t=t.alternate)&&Hy(t,n)}function Gy(t){if(t.tag===13){var n=is(t,67108864);n!==null&&Dn(n,t,67108864),Kf(t,67108864)}}var Xu=!0;function QT(t,n,a,l){var h=Z.T;Z.T=null;var d=$.p;try{$.p=2,$f(t,n,a,l)}finally{$.p=d,Z.T=h}}function YT(t,n,a,l){var h=Z.T;Z.T=null;var d=$.p;try{$.p=8,$f(t,n,a,l)}finally{$.p=d,Z.T=h}}function $f(t,n,a,l){if(Xu){var h=Xf(l);if(h===null)Uf(t,n,l,Zu,a),Qy(t,l);else if($T(h,t,n,a,l))l.stopPropagation();else if(Qy(t,l),n&4&&-1<KT.indexOf(t)){for(;h!==null;){var d=ui(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=$n(d.pendingLanes);if(v!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;v;){var D=1<<31-en(v);b.entanglements[1]|=D,v&=~D}Si(d),(te&6)===0&&(Ou=wt()+500,ql(0))}}break;case 13:b=is(d,2),b!==null&&Dn(b,d,2),Uu(),Kf(d,2)}if(d=Xf(l),d===null&&Uf(t,n,l,Zu,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Uf(t,n,l,null,a)}}function Xf(t){return t=jn(t),Zf(t)}var Zu=null;function Zf(t){if(Zu=null,t=Vi(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=f(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Zu=t,null}function Fy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ge()){case Fe:return 2;case qt:return 8;case zt:case ue:return 32;case ce:return 268435456;default:return 32}default:return 32}}var Wf=!1,Vr=null,Nr=null,Mr=null,Xl=new Map,Zl=new Map,Or=[],KT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Qy(t,n){switch(t){case"focusin":case"focusout":Vr=null;break;case"dragenter":case"dragleave":Nr=null;break;case"mouseover":case"mouseout":Mr=null;break;case"pointerover":case"pointerout":Xl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zl.delete(n.pointerId)}}function Wl(t,n,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},n!==null&&(n=ui(n),n!==null&&Gy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function $T(t,n,a,l,h){switch(n){case"focusin":return Vr=Wl(Vr,t,n,a,l,h),!0;case"dragenter":return Nr=Wl(Nr,t,n,a,l,h),!0;case"mouseover":return Mr=Wl(Mr,t,n,a,l,h),!0;case"pointerover":var d=h.pointerId;return Xl.set(d,Wl(Xl.get(d)||null,t,n,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Zl.set(d,Wl(Zl.get(d)||null,t,n,a,l,h)),!0}return!1}function Yy(t){var n=Vi(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=f(a),n!==null){t.blockedOn=n,Uo(t.priority,function(){if(a.tag===13){var l=Cn();l=or(l);var h=is(a,l);h!==null&&Dn(h,a,l),Kf(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Xf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);ji=l,a.target.dispatchEvent(l),ji=null}else return n=ui(a),n!==null&&Gy(n),t.blockedOn=a,!1;n.shift()}return!0}function Ky(t,n,a){Wu(t)&&a.delete(n)}function XT(){Wf=!1,Vr!==null&&Wu(Vr)&&(Vr=null),Nr!==null&&Wu(Nr)&&(Nr=null),Mr!==null&&Wu(Mr)&&(Mr=null),Xl.forEach(Ky),Zl.forEach(Ky)}function Ju(t,n){t.blockedOn===n&&(t.blockedOn=null,Wf||(Wf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,XT)))}var tc=null;function $y(t){tc!==t&&(tc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){tc===t&&(tc=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Zf(l||a)===null)continue;break}var d=ui(a);d!==null&&(t.splice(n,3),n-=3,Xh(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Jl(t){function n(D){return Ju(D,t)}Vr!==null&&Ju(Vr,t),Nr!==null&&Ju(Nr,t),Mr!==null&&Ju(Mr,t),Xl.forEach(n),Zl.forEach(n);for(var a=0;a<Or.length;a++){var l=Or[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Or.length&&(a=Or[0],a.blockedOn===null);)Yy(a),a.blockedOn===null&&Or.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[xe]||null;if(typeof d=="function")v||$y(a);else if(v){var b=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[xe]||null)b=v.formAction;else if(Zf(h)!==null)continue}else b=v.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),$y(a)}}}function Jf(t){this._internalRoot=t}ec.prototype.render=Jf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=Cn();qy(a,l,t,n,null,null)},ec.prototype.unmount=Jf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;qy(t.current,2,null,t,null,null),Uu(),n[Mn]=null}};function ec(t){this._internalRoot=t}ec.prototype.unstable_scheduleHydration=function(t){if(t){var n=ur();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Or.length&&n!==0&&n<Or[a].priority;a++);Or.splice(a,0,t),a===0&&Yy(t)}};var Xy=e.version;if(Xy!=="19.1.0")throw Error(s(527,Xy,"19.1.0"));$.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(n),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var ZT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nc.isDisabled&&nc.supportsFiber)try{se=nc.inject(ZT),Xt=nc}catch{}}return eo.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",h=fg,d=dg,v=mg,b=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(b=n.unstable_transitionCallbacks)),n=By(t,1,!1,null,null,a,l,h,d,v,b,null),t[Mn]=n.current,jf(t),new Jf(n)},eo.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=fg,v=dg,b=mg,D=null,F=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(F=a.formState)),n=By(t,1,!0,n,a??null,l,h,d,v,b,D,F),n.context=zy(null),a=n.current,l=Cn(),l=or(l),h=yr(l),h.callback=null,_r(a,h,l),a=l,n.current.lanes=a,Ii(n,a),Si(n),t[Mn]=n.current,jf(t),new ec(n)},eo.version="19.1.0",eo}var s_;function ub(){if(s_)return nd.exports;s_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),nd.exports=ob(),nd.exports}var cb=ub(),no={},l_;function hb(){if(l_)return no;l_=1,Object.defineProperty(no,"__esModule",{value:!0}),no.parse=f,no.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,c=(()=>{const R=function(){};return R.prototype=Object.create(null),R})();function f(R,M){const V=new c,Q=R.length;if(Q<2)return V;const N=(M==null?void 0:M.decode)||E;let B=0;do{const X=R.indexOf("=",B);if(X===-1)break;const q=R.indexOf(";",B),ct=q===-1?Q:q;if(X>ct){B=R.lastIndexOf(";",X-1)+1;continue}const ut=m(R,B,X),yt=y(R,X,ut),O=R.slice(ut,yt);if(V[O]===void 0){let x=m(R,X+1,ct),w=y(R,ct,x);const j=N(R.slice(x,w));V[O]=j}B=ct+1}while(B<Q);return V}function m(R,M,V){do{const Q=R.charCodeAt(M);if(Q!==32&&Q!==9)return M}while(++M<V);return V}function y(R,M,V){for(;M>V;){const Q=R.charCodeAt(--M);if(Q!==32&&Q!==9)return M+1}return V}function g(R,M,V){const Q=(V==null?void 0:V.encode)||encodeURIComponent;if(!r.test(R))throw new TypeError(`argument name is invalid: ${R}`);const N=Q(M);if(!e.test(N))throw new TypeError(`argument val is invalid: ${M}`);let B=R+"="+N;if(!V)return B;if(V.maxAge!==void 0){if(!Number.isInteger(V.maxAge))throw new TypeError(`option maxAge is invalid: ${V.maxAge}`);B+="; Max-Age="+V.maxAge}if(V.domain){if(!i.test(V.domain))throw new TypeError(`option domain is invalid: ${V.domain}`);B+="; Domain="+V.domain}if(V.path){if(!s.test(V.path))throw new TypeError(`option path is invalid: ${V.path}`);B+="; Path="+V.path}if(V.expires){if(!S(V.expires)||!Number.isFinite(V.expires.valueOf()))throw new TypeError(`option expires is invalid: ${V.expires}`);B+="; Expires="+V.expires.toUTCString()}if(V.httpOnly&&(B+="; HttpOnly"),V.secure&&(B+="; Secure"),V.partitioned&&(B+="; Partitioned"),V.priority)switch(typeof V.priority=="string"?V.priority.toLowerCase():void 0){case"low":B+="; Priority=Low";break;case"medium":B+="; Priority=Medium";break;case"high":B+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${V.priority}`)}if(V.sameSite)switch(typeof V.sameSite=="string"?V.sameSite.toLowerCase():V.sameSite){case!0:case"strict":B+="; SameSite=Strict";break;case"lax":B+="; SameSite=Lax";break;case"none":B+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${V.sameSite}`)}return B}function E(R){if(R.indexOf("%")===-1)return R;try{return decodeURIComponent(R)}catch{return R}}function S(R){return o.call(R)==="[object Date]"}return no}hb();/**
 * react-router v7.5.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var o_="popstate";function fb(r={}){function e(o,c){let{pathname:f="/",search:m="",hash:y=""}=Oa(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),_d("",{pathname:f,search:m,hash:y},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function i(o,c){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let y=o.location.href,g=y.indexOf("#");m=g===-1?y:y.slice(0,g)}return m+"#"+(typeof c=="string"?c:fo(c))}function s(o,c){Fn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return mb(e,i,s,r)}function pe(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Fn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function db(){return Math.random().toString(36).substring(2,10)}function u_(r,e){return{usr:r.state,key:r.key,idx:e}}function _d(r,e,i=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Oa(e):e,state:i,key:e&&e.key||s||db()}}function fo({pathname:r="/",search:e="",hash:i=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Oa(r){let e={};if(r){let i=r.indexOf("#");i>=0&&(e.hash=r.substring(i),r=r.substring(0,i));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function mb(r,e,i,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,f=o.history,m="POP",y=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function S(){m="POP";let N=E(),B=N==null?null:N-g;g=N,y&&y({action:m,location:Q.location,delta:B})}function R(N,B){m="PUSH";let X=_d(Q.location,N,B);i&&i(X,N),g=E()+1;let q=u_(X,g),ct=Q.createHref(X);try{f.pushState(q,"",ct)}catch(ut){if(ut instanceof DOMException&&ut.name==="DataCloneError")throw ut;o.location.assign(ct)}c&&y&&y({action:m,location:Q.location,delta:1})}function M(N,B){m="REPLACE";let X=_d(Q.location,N,B);i&&i(X,N),g=E();let q=u_(X,g),ct=Q.createHref(X);f.replaceState(q,"",ct),c&&y&&y({action:m,location:Q.location,delta:0})}function V(N){let B=o.location.origin!=="null"?o.location.origin:o.location.href,X=typeof N=="string"?N:fo(N);return X=X.replace(/ $/,"%20"),pe(B,`No window.location.(origin|href) available to create URL for href: ${X}`),new URL(X,B)}let Q={get action(){return m},get location(){return r(o,f)},listen(N){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(o_,S),y=N,()=>{o.removeEventListener(o_,S),y=null}},createHref(N){return e(o,N)},createURL:V,encodeLocation(N){let B=V(N);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:R,replace:M,go(N){return f.go(N)}};return Q}function Av(r,e,i="/"){return pb(r,e,i,!1)}function pb(r,e,i,s){let o=typeof e=="string"?Oa(e):e,c=ir(o.pathname||"/",i);if(c==null)return null;let f=Rv(r);gb(f);let m=null;for(let y=0;m==null&&y<f.length;++y){let g=wb(c);m=Rb(f[y],g,s)}return m}function Rv(r,e=[],i=[],s=""){let o=(c,f,m)=>{let y={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};y.relativePath.startsWith("/")&&(pe(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length));let g=er([s,y.relativePath]),E=i.concat(y);c.children&&c.children.length>0&&(pe(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Rv(c.children,e,E,g)),!(c.path==null&&!c.index)&&e.push({path:g,score:Sb(g,c.index),routesMeta:E})};return r.forEach((c,f)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))o(c,f);else for(let y of xv(c.path))o(c,f,y)}),e}function xv(r){let e=r.split("/");if(e.length===0)return[];let[i,...s]=e,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let f=xv(s.join("/")),m=[];return m.push(...f.map(y=>y===""?c:[c,y].join("/"))),o&&m.push(...f),m.map(y=>r.startsWith("/")&&y===""?"/":y)}function gb(r){r.sort((e,i)=>e.score!==i.score?i.score-e.score:Ab(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var yb=/^:[\w-]+$/,_b=3,vb=2,Eb=1,Tb=10,bb=-2,c_=r=>r==="*";function Sb(r,e){let i=r.split("/"),s=i.length;return i.some(c_)&&(s+=bb),e&&(s+=vb),i.filter(o=>!c_(o)).reduce((o,c)=>o+(yb.test(c)?_b:c===""?Eb:Tb),s)}function Ab(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function Rb(r,e,i=!1){let{routesMeta:s}=r,o={},c="/",f=[];for(let m=0;m<s.length;++m){let y=s[m],g=m===s.length-1,E=c==="/"?e:e.slice(c.length)||"/",S=yc({path:y.relativePath,caseSensitive:y.caseSensitive,end:g},E),R=y.route;if(!S&&g&&i&&!s[s.length-1].route.index&&(S=yc({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:er([c,S.pathname]),pathnameBase:Vb(er([c,S.pathnameBase])),route:R}),S.pathnameBase!=="/"&&(c=er([c,S.pathnameBase]))}return f}function yc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,s]=xb(r.path,r.caseSensitive,r.end),o=e.match(i);if(!o)return null;let c=o[0],f=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:S},R)=>{if(E==="*"){let V=m[R]||"";f=c.slice(0,c.length-V.length).replace(/(.)\/+$/,"$1")}const M=m[R];return S&&!M?g[E]=void 0:g[E]=(M||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:f,pattern:r}}function xb(r,e=!1,i=!0){Fn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,y)=>(s.push({paramName:m,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function wb(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ir(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=r.charAt(i);return s&&s!=="/"?null:r.slice(i)||"/"}function Cb(r,e="/"){let{pathname:i,search:s="",hash:o=""}=typeof r=="string"?Oa(r):r;return{pathname:i?i.startsWith("/")?i:Db(i,e):e,search:Nb(s),hash:Mb(o)}}function Db(r,e){let i=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function sd(r,e,i,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ib(r){return r.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function Qd(r){let e=Ib(r);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function Yd(r,e,i,s=!1){let o;typeof r=="string"?o=Oa(r):(o={...r},pe(!o.pathname||!o.pathname.includes("?"),sd("?","pathname","search",o)),pe(!o.pathname||!o.pathname.includes("#"),sd("#","pathname","hash",o)),pe(!o.search||!o.search.includes("#"),sd("#","search","hash",o)));let c=r===""||o.pathname==="",f=c?"/":o.pathname,m;if(f==null)m=i;else{let S=e.length-1;if(!s&&f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),S-=1;o.pathname=R.join("/")}m=S>=0?e[S]:"/"}let y=Cb(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(c||f===".")&&i.endsWith("/");return!y.pathname.endsWith("/")&&(g||E)&&(y.pathname+="/"),y}var er=r=>r.join("/").replace(/\/\/+/g,"/"),Vb=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Nb=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Mb=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Ob(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var wv=["POST","PUT","PATCH","DELETE"];new Set(wv);var jb=["GET",...wv];new Set(jb);var qs=P.createContext(null);qs.displayName="DataRouter";var Oc=P.createContext(null);Oc.displayName="DataRouterState";var Cv=P.createContext({isTransitioning:!1});Cv.displayName="ViewTransition";var Ub=P.createContext(new Map);Ub.displayName="Fetchers";var Lb=P.createContext(null);Lb.displayName="Await";var ii=P.createContext(null);ii.displayName="Navigation";var So=P.createContext(null);So.displayName="Location";var ri=P.createContext({outlet:null,matches:[],isDataRoute:!1});ri.displayName="Route";var Kd=P.createContext(null);Kd.displayName="RouteError";function kb(r,{relative:e}={}){pe(Hs(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=P.useContext(ii),{hash:o,pathname:c,search:f}=Ao(r,{relative:e}),m=c;return i!=="/"&&(m=c==="/"?i:er([i,c])),s.createHref({pathname:m,search:f,hash:o})}function Hs(){return P.useContext(So)!=null}function lr(){return pe(Hs(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(So).location}var Dv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Iv(r){P.useContext(ii).static||P.useLayoutEffect(r)}function $d(){let{isDataRoute:r}=P.useContext(ri);return r?Wb():Pb()}function Pb(){pe(Hs(),"useNavigate() may be used only in the context of a <Router> component.");let r=P.useContext(qs),{basename:e,navigator:i}=P.useContext(ii),{matches:s}=P.useContext(ri),{pathname:o}=lr(),c=JSON.stringify(Qd(s)),f=P.useRef(!1);return Iv(()=>{f.current=!0}),P.useCallback((y,g={})=>{if(Fn(f.current,Dv),!f.current)return;if(typeof y=="number"){i.go(y);return}let E=Yd(y,JSON.parse(c),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:er([e,E.pathname])),(g.replace?i.replace:i.push)(E,g.state,g)},[e,i,c,o,r])}P.createContext(null);function Bb(){let{matches:r}=P.useContext(ri),e=r[r.length-1];return e?e.params:{}}function Ao(r,{relative:e}={}){let{matches:i}=P.useContext(ri),{pathname:s}=lr(),o=JSON.stringify(Qd(i));return P.useMemo(()=>Yd(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function zb(r,e){return Vv(r,e)}function Vv(r,e,i,s){var X;pe(Hs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:c}=P.useContext(ii),{matches:f}=P.useContext(ri),m=f[f.length-1],y=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",S=m&&m.route;{let q=S&&S.path||"";Nv(g,!S||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let R=lr(),M;if(e){let q=typeof e=="string"?Oa(e):e;pe(E==="/"||((X=q.pathname)==null?void 0:X.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${q.pathname}" was given in the \`location\` prop.`),M=q}else M=R;let V=M.pathname||"/",Q=V;if(E!=="/"){let q=E.replace(/^\//,"").split("/");Q="/"+V.replace(/^\//,"").split("/").slice(q.length).join("/")}let N=!c&&i&&i.matches&&i.matches.length>0?i.matches:Av(r,{pathname:Q});Fn(S||N!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),Fn(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=Qb(N&&N.map(q=>Object.assign({},q,{params:Object.assign({},y,q.params),pathname:er([E,o.encodeLocation?o.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?E:er([E,o.encodeLocation?o.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),f,i,s);return e&&B?P.createElement(So.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},B):B}function qb(){let r=Zb(),e=Ob(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:c},"ErrorBoundary")," or"," ",P.createElement("code",{style:c},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),i?P.createElement("pre",{style:o},i):null,f)}var Hb=P.createElement(qb,null),Gb=class extends P.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?P.createElement(ri.Provider,{value:this.props.routeContext},P.createElement(Kd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Fb({routeContext:r,match:e,children:i}){let s=P.useContext(qs);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(ri.Provider,{value:r},i)}function Qb(r,e=[],i=null,s=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let o=r,c=i==null?void 0:i.errors;if(c!=null){let y=o.findIndex(g=>g.route.id&&(c==null?void 0:c[g.route.id])!==void 0);pe(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,y+1))}let f=!1,m=-1;if(i)for(let y=0;y<o.length;y++){let g=o[y];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=y),g.route.id){let{loaderData:E,errors:S}=i,R=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!S||S[g.route.id]===void 0);if(g.route.lazy||R){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((y,g,E)=>{let S,R=!1,M=null,V=null;i&&(S=c&&g.route.id?c[g.route.id]:void 0,M=g.route.errorElement||Hb,f&&(m<0&&E===0?(Nv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,V=null):m===E&&(R=!0,V=g.route.hydrateFallbackElement||null)));let Q=e.concat(o.slice(0,E+1)),N=()=>{let B;return S?B=M:R?B=V:g.route.Component?B=P.createElement(g.route.Component,null):g.route.element?B=g.route.element:B=y,P.createElement(Fb,{match:g,routeContext:{outlet:y,matches:Q,isDataRoute:i!=null},children:B})};return i&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?P.createElement(Gb,{location:i.location,revalidation:i.revalidation,component:M,error:S,children:N(),routeContext:{outlet:null,matches:Q,isDataRoute:!0}}):N()},null)}function Xd(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Yb(r){let e=P.useContext(qs);return pe(e,Xd(r)),e}function Kb(r){let e=P.useContext(Oc);return pe(e,Xd(r)),e}function $b(r){let e=P.useContext(ri);return pe(e,Xd(r)),e}function Zd(r){let e=$b(r),i=e.matches[e.matches.length-1];return pe(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function Xb(){return Zd("useRouteId")}function Zb(){var s;let r=P.useContext(Kd),e=Kb("useRouteError"),i=Zd("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[i]}function Wb(){let{router:r}=Yb("useNavigate"),e=Zd("useNavigate"),i=P.useRef(!1);return Iv(()=>{i.current=!0}),P.useCallback(async(o,c={})=>{Fn(i.current,Dv),i.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...c}))},[r,e])}var h_={};function Nv(r,e,i){!e&&!h_[r]&&(h_[r]=!0,Fn(!1,i))}P.memo(Jb);function Jb({routes:r,future:e,state:i}){return Vv(r,void 0,i,e)}function tr({to:r,replace:e,state:i,relative:s}){pe(Hs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=P.useContext(ii);Fn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=P.useContext(ri),{pathname:f}=lr(),m=$d(),y=Yd(r,Qd(c),f,s==="path"),g=JSON.stringify(y);return P.useEffect(()=>{m(JSON.parse(g),{replace:e,state:i,relative:s})},[m,g,s,e,i]),null}function ei(r){pe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function t1({basename:r="/",children:e=null,location:i,navigationType:s="POP",navigator:o,static:c=!1}){pe(!Hs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=P.useMemo(()=>({basename:f,navigator:o,static:c,future:{}}),[f,o,c]);typeof i=="string"&&(i=Oa(i));let{pathname:y="/",search:g="",hash:E="",state:S=null,key:R="default"}=i,M=P.useMemo(()=>{let V=ir(y,f);return V==null?null:{location:{pathname:V,search:g,hash:E,state:S,key:R},navigationType:s}},[f,y,g,E,S,R,s]);return Fn(M!=null,`<Router basename="${f}"> is not able to match the URL "${y}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:P.createElement(ii.Provider,{value:m},P.createElement(So.Provider,{children:e,value:M}))}function e1({children:r,location:e}){return zb(vd(r),e)}function vd(r,e=[]){let i=[];return P.Children.forEach(r,(s,o)=>{if(!P.isValidElement(s))return;let c=[...e,o];if(s.type===P.Fragment){i.push.apply(i,vd(s.props.children,c));return}pe(s.type===ei,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pe(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=vd(s.props.children,c)),i.push(f)}),i}var uc="get",cc="application/x-www-form-urlencoded";function jc(r){return r!=null&&typeof r.tagName=="string"}function n1(r){return jc(r)&&r.tagName.toLowerCase()==="button"}function i1(r){return jc(r)&&r.tagName.toLowerCase()==="form"}function r1(r){return jc(r)&&r.tagName.toLowerCase()==="input"}function a1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function s1(r,e){return r.button===0&&(!e||e==="_self")&&!a1(r)}var ic=null;function l1(){if(ic===null)try{new FormData(document.createElement("form"),0),ic=!1}catch{ic=!0}return ic}var o1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ld(r){return r!=null&&!o1.has(r)?(Fn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${cc}"`),null):r}function u1(r,e){let i,s,o,c,f;if(i1(r)){let m=r.getAttribute("action");s=m?ir(m,e):null,i=r.getAttribute("method")||uc,o=ld(r.getAttribute("enctype"))||cc,c=new FormData(r)}else if(n1(r)||r1(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=r.getAttribute("formaction")||m.getAttribute("action");if(s=y?ir(y,e):null,i=r.getAttribute("formmethod")||m.getAttribute("method")||uc,o=ld(r.getAttribute("formenctype"))||ld(m.getAttribute("enctype"))||cc,c=new FormData(m,r),!l1()){let{name:g,type:E,value:S}=r;if(E==="image"){let R=g?`${g}.`:"";c.append(`${R}x`,"0"),c.append(`${R}y`,"0")}else g&&c.append(g,S)}}else{if(jc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=uc,s=null,o=cc,f=r}return c&&o==="text/plain"&&(f=c,c=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:c,body:f}}function Wd(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function c1(r,e){if(r.id in e)return e[r.id];try{let i=await import(r.module);return e[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function h1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function f1(r,e,i){let s=await Promise.all(r.map(async o=>{let c=e.routes[o.route.id];if(c){let f=await c1(c,i);return f.links?f.links():[]}return[]}));return g1(s.flat(1).filter(h1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function f_(r,e,i,s,o,c){let f=(y,g)=>i[g]?y.route.id!==i[g].route.id:!0,m=(y,g)=>{var E;return i[g].pathname!==y.pathname||((E=i[g].route.path)==null?void 0:E.endsWith("*"))&&i[g].params["*"]!==y.params["*"]};return c==="assets"?e.filter((y,g)=>f(y,g)||m(y,g)):c==="data"?e.filter((y,g)=>{var S;let E=s.routes[y.route.id];if(!E||!E.hasLoader)return!1;if(f(y,g)||m(y,g))return!0;if(y.route.shouldRevalidate){let R=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=i[0])==null?void 0:S.params)||{},nextUrl:new URL(r,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function d1(r,e,{includeHydrateFallback:i}={}){return m1(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function m1(r){return[...new Set(r)]}function p1(r){let e={},i=Object.keys(r).sort();for(let s of i)e[s]=r[s];return e}function g1(r,e){let i=new Set;return new Set(e),r.reduce((s,o)=>{let c=JSON.stringify(p1(o));return i.has(c)||(i.add(c),s.push({key:c,link:o})),s},[])}var y1=new Set([100,101,204,205]);function _1(r,e){let i=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return i.pathname==="/"?i.pathname="_root.data":e&&ir(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function Mv(){let r=P.useContext(qs);return Wd(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function v1(){let r=P.useContext(Oc);return Wd(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Jd=P.createContext(void 0);Jd.displayName="FrameworkContext";function Ov(){let r=P.useContext(Jd);return Wd(r,"You must render this element inside a <HydratedRouter> element"),r}function E1(r,e){let i=P.useContext(Jd),[s,o]=P.useState(!1),[c,f]=P.useState(!1),{onFocus:m,onBlur:y,onMouseEnter:g,onMouseLeave:E,onTouchStart:S}=e,R=P.useRef(null);P.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Q=B=>{B.forEach(X=>{f(X.isIntersecting)})},N=new IntersectionObserver(Q,{threshold:.5});return R.current&&N.observe(R.current),()=>{N.disconnect()}}},[r]),P.useEffect(()=>{if(s){let Q=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let M=()=>{o(!0)},V=()=>{o(!1),f(!1)};return i?r!=="intent"?[c,R,{}]:[c,R,{onFocus:io(m,M),onBlur:io(y,V),onMouseEnter:io(g,M),onMouseLeave:io(E,V),onTouchStart:io(S,M)}]:[!1,R,{}]}function io(r,e){return i=>{r&&r(i),i.defaultPrevented||e(i)}}function T1({page:r,...e}){let{router:i}=Mv(),s=P.useMemo(()=>Av(i.routes,r,i.basename),[i.routes,r,i.basename]);return s?P.createElement(S1,{page:r,matches:s,...e}):null}function b1(r){let{manifest:e,routeModules:i}=Ov(),[s,o]=P.useState([]);return P.useEffect(()=>{let c=!1;return f1(r,e,i).then(f=>{c||o(f)}),()=>{c=!0}},[r,e,i]),s}function S1({page:r,matches:e,...i}){let s=lr(),{manifest:o,routeModules:c}=Ov(),{basename:f}=Mv(),{loaderData:m,matches:y}=v1(),g=P.useMemo(()=>f_(r,e,y,o,s,"data"),[r,e,y,o,s]),E=P.useMemo(()=>f_(r,e,y,o,s,"assets"),[r,e,y,o,s]),S=P.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let V=new Set,Q=!1;if(e.forEach(B=>{var q;let X=o.routes[B.route.id];!X||!X.hasLoader||(!g.some(ct=>ct.route.id===B.route.id)&&B.route.id in m&&((q=c[B.route.id])!=null&&q.shouldRevalidate)||X.hasClientLoader?Q=!0:V.add(B.route.id))}),V.size===0)return[];let N=_1(r,f);return Q&&V.size>0&&N.searchParams.set("_routes",e.filter(B=>V.has(B.route.id)).map(B=>B.route.id).join(",")),[N.pathname+N.search]},[f,m,s,o,g,e,r,c]),R=P.useMemo(()=>d1(E,o),[E,o]),M=b1(E);return P.createElement(P.Fragment,null,S.map(V=>P.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...i})),R.map(V=>P.createElement("link",{key:V,rel:"modulepreload",href:V,...i})),M.map(({key:V,link:Q})=>P.createElement("link",{key:V,...Q})))}function A1(...r){return e=>{r.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var jv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jv&&(window.__reactRouterVersion="7.5.1")}catch{}function R1({basename:r,children:e,window:i}){let s=P.useRef();s.current==null&&(s.current=fb({window:i,v5Compat:!0}));let o=s.current,[c,f]=P.useState({action:o.action,location:o.location}),m=P.useCallback(y=>{P.startTransition(()=>f(y))},[f]);return P.useLayoutEffect(()=>o.listen(m),[o,m]),P.createElement(t1,{basename:r,children:e,location:c.location,navigationType:c.action,navigator:o})}var Uv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Uc=P.forwardRef(function({onClick:e,discover:i="render",prefetch:s="none",relative:o,reloadDocument:c,replace:f,state:m,target:y,to:g,preventScrollReset:E,viewTransition:S,...R},M){let{basename:V}=P.useContext(ii),Q=typeof g=="string"&&Uv.test(g),N,B=!1;if(typeof g=="string"&&Q&&(N=g,jv))try{let w=new URL(window.location.href),j=g.startsWith("//")?new URL(w.protocol+g):new URL(g),k=ir(j.pathname,V);j.origin===w.origin&&k!=null?g=k+j.search+j.hash:B=!0}catch{Fn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let X=kb(g,{relative:o}),[q,ct,ut]=E1(s,R),yt=C1(g,{replace:f,state:m,target:y,preventScrollReset:E,relative:o,viewTransition:S});function O(w){e&&e(w),w.defaultPrevented||yt(w)}let x=P.createElement("a",{...R,...ut,href:N||X,onClick:B||c?e:O,ref:A1(M,ct),target:y,"data-discover":!Q&&i==="render"?"true":void 0});return q&&!Q?P.createElement(P.Fragment,null,x,P.createElement(T1,{page:X})):x});Uc.displayName="Link";var Lv=P.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:s="",end:o=!1,style:c,to:f,viewTransition:m,children:y,...g},E){let S=Ao(f,{relative:g.relative}),R=lr(),M=P.useContext(Oc),{navigator:V,basename:Q}=P.useContext(ii),N=M!=null&&M1(S)&&m===!0,B=V.encodeLocation?V.encodeLocation(S).pathname:S.pathname,X=R.pathname,q=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;i||(X=X.toLowerCase(),q=q?q.toLowerCase():null,B=B.toLowerCase()),q&&Q&&(q=ir(q,Q)||q);const ct=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let ut=X===B||!o&&X.startsWith(B)&&X.charAt(ct)==="/",yt=q!=null&&(q===B||!o&&q.startsWith(B)&&q.charAt(B.length)==="/"),O={isActive:ut,isPending:yt,isTransitioning:N},x=ut?e:void 0,w;typeof s=="function"?w=s(O):w=[s,ut?"active":null,yt?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let j=typeof c=="function"?c(O):c;return P.createElement(Uc,{...g,"aria-current":x,className:w,ref:E,style:j,to:f,viewTransition:m},typeof y=="function"?y(O):y)});Lv.displayName="NavLink";var x1=P.forwardRef(({discover:r="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:o,state:c,method:f=uc,action:m,onSubmit:y,relative:g,preventScrollReset:E,viewTransition:S,...R},M)=>{let V=V1(),Q=N1(m,{relative:g}),N=f.toLowerCase()==="get"?"get":"post",B=typeof m=="string"&&Uv.test(m),X=q=>{if(y&&y(q),q.defaultPrevented)return;q.preventDefault();let ct=q.nativeEvent.submitter,ut=(ct==null?void 0:ct.getAttribute("formmethod"))||f;V(ct||q.currentTarget,{fetcherKey:e,method:ut,navigate:i,replace:o,state:c,relative:g,preventScrollReset:E,viewTransition:S})};return P.createElement("form",{ref:M,method:N,action:Q,onSubmit:s?y:X,...R,"data-discover":!B&&r==="render"?"true":void 0})});x1.displayName="Form";function w1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kv(r){let e=P.useContext(qs);return pe(e,w1(r)),e}function C1(r,{target:e,replace:i,state:s,preventScrollReset:o,relative:c,viewTransition:f}={}){let m=$d(),y=lr(),g=Ao(r,{relative:c});return P.useCallback(E=>{if(s1(E,e)){E.preventDefault();let S=i!==void 0?i:fo(y)===fo(g);m(r,{replace:S,state:s,preventScrollReset:o,relative:c,viewTransition:f})}},[y,m,g,i,s,e,r,o,c,f])}var D1=0,I1=()=>`__${String(++D1)}__`;function V1(){let{router:r}=kv("useSubmit"),{basename:e}=P.useContext(ii),i=Xb();return P.useCallback(async(s,o={})=>{let{action:c,method:f,encType:m,formData:y,body:g}=u1(s,e);if(o.navigate===!1){let E=o.fetcherKey||I1();await r.fetch(E,i,o.action||c,{preventScrollReset:o.preventScrollReset,formData:y,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:y,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,i])}function N1(r,{relative:e}={}){let{basename:i}=P.useContext(ii),s=P.useContext(ri);pe(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...Ao(r||".",{relative:e})},f=lr();if(r==null){c.search=f.search;let m=new URLSearchParams(c.search),y=m.getAll("index");if(y.some(E=>E==="")){m.delete("index"),y.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();c.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:er([i,c.pathname])),fo(c)}function M1(r,e={}){let i=P.useContext(Cv);pe(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=kv("useViewTransitionState"),o=Ao(r,{relative:e.relative});if(!i.isTransitioning)return!1;let c=ir(i.currentLocation.pathname,s)||i.currentLocation.pathname,f=ir(i.nextLocation.pathname,s)||i.nextLocation.pathname;return yc(o.pathname,f)!=null||yc(o.pathname,c)!=null}new TextEncoder;[...y1];const O1=()=>{};var d_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},j1=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],f=r[i++],m=r[i++],y=((o&7)<<18|(c&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],f=r[i++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|f&63)}}return e.join("")},Bv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const c=r[o],f=o+1<r.length,m=f?r[o+1]:0,y=o+2<r.length,g=y?r[o+2]:0,E=c>>2,S=(c&3)<<4|m>>4;let R=(m&15)<<2|g>>6,M=g&63;y||(M=64,f||(R=64)),s.push(i[E],i[S],i[R],i[M])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Pv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):j1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],m=o<r.length?i[r.charAt(o)]:0;++o;const g=o<r.length?i[r.charAt(o)]:64;++o;const S=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||m==null||g==null||S==null)throw new U1;const R=c<<2|m>>4;if(s.push(R),g!==64){const M=m<<4&240|g>>2;if(s.push(M),S!==64){const V=g<<6&192|S;s.push(V)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class U1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const L1=function(r){const e=Pv(r);return Bv.encodeByteArray(e,!0)},_c=function(r){return L1(r).replace(/\./g,"")},k1=function(r){try{return Bv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1=()=>P1().__FIREBASE_DEFAULTS__,z1=()=>{if(typeof process>"u"||typeof d_>"u")return;const r=d_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},q1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&k1(r[1]);return e&&JSON.parse(e)},tm=()=>{try{return O1()||B1()||z1()||q1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},H1=r=>{var e,i;return(i=(e=tm())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[r]},G1=r=>{const e=H1(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},zv=()=>{var r;return(r=tm())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[_c(JSON.stringify(i)),_c(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function K1(){var r;const e=(r=tm())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $1(){return!K1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function X1(){try{return typeof indexedDB=="object"}catch{return!1}}function Z1(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var c;e(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1="FirebaseError";class Gs extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=W1,Object.setPrototypeOf(this,Gs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qv.prototype.create)}}class qv{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],f=c?J1(c,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Gs(o,m,s)}}function J1(r,e){return r.replace(tS,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const tS=/\{\$([^}]+)}/g;function vc(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const c=r[o],f=e[o];if(m_(c)&&m_(f)){if(!vc(c,f))return!1}else if(c!==f)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function m_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(r){return r&&r._delegate?r._delegate:r}class mo{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new F1;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iS(e))try{this.getOrInitializeService({instanceIdentifier:Ca})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=Ca){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ca){return this.instances.has(e)}getOptions(e=Ca){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&f.resolve(o)}return o}onInit(e,i){var s;const o=this.normalizeInstanceIdentifier(i),c=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(o,c);const f=this.instances.get(o);return f&&e(f,o),()=>{c.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:nS(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ca){return this.component?this.component.multipleInstances?e:Ca:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nS(r){return r===Ca?void 0:r}function iS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new eS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Yt||(Yt={}));const aS={debug:Yt.DEBUG,verbose:Yt.VERBOSE,info:Yt.INFO,warn:Yt.WARN,error:Yt.ERROR,silent:Yt.SILENT},sS=Yt.INFO,lS={[Yt.DEBUG]:"log",[Yt.VERBOSE]:"log",[Yt.INFO]:"info",[Yt.WARN]:"warn",[Yt.ERROR]:"error"},oS=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=lS[e];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hv{constructor(e){this.name=e,this._logLevel=sS,this._logHandler=oS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Yt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?aS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Yt.DEBUG,...e),this._logHandler(this,Yt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Yt.VERBOSE,...e),this._logHandler(this,Yt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Yt.INFO,...e),this._logHandler(this,Yt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Yt.WARN,...e),this._logHandler(this,Yt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Yt.ERROR,...e),this._logHandler(this,Yt.ERROR,...e)}}const uS=(r,e)=>e.some(i=>r instanceof i);let p_,g_;function cS(){return p_||(p_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hS(){return g_||(g_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Gv=new WeakMap,Ed=new WeakMap,Fv=new WeakMap,od=new WeakMap,em=new WeakMap;function fS(r){const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",f)},c=()=>{i(Lr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",f)});return e.then(i=>{i instanceof IDBCursor&&Gv.set(i,r)}).catch(()=>{}),em.set(e,r),e}function dS(r){if(Ed.has(r))return;const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",f),r.removeEventListener("abort",f)},c=()=>{i(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",f),r.addEventListener("abort",f)});Ed.set(r,e)}let Td={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Ed.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Fv.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Lr(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function mS(r){Td=r(Td)}function pS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(ud(this),e,...i);return Fv.set(s,e.sort?e.sort():[e]),Lr(s)}:hS().includes(r)?function(...e){return r.apply(ud(this),e),Lr(Gv.get(this))}:function(...e){return Lr(r.apply(ud(this),e))}}function gS(r){return typeof r=="function"?pS(r):(r instanceof IDBTransaction&&dS(r),uS(r,cS())?new Proxy(r,Td):r)}function Lr(r){if(r instanceof IDBRequest)return fS(r);if(od.has(r))return od.get(r);const e=gS(r);return e!==r&&(od.set(r,e),em.set(e,r)),e}const ud=r=>em.get(r);function yS(r,e,{blocked:i,upgrade:s,blocking:o,terminated:c}={}){const f=indexedDB.open(r,e),m=Lr(f);return s&&f.addEventListener("upgradeneeded",y=>{s(Lr(f.result),y.oldVersion,y.newVersion,Lr(f.transaction),y)}),i&&f.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),m.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const _S=["get","getKey","getAll","getAllKeys","count"],vS=["put","add","delete","clear"],cd=new Map;function y_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(cd.get(e))return cd.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=vS.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||_S.includes(i)))return;const c=async function(f,...m){const y=this.transaction(f,o?"readwrite":"readonly");let g=y.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[i](...m),o&&y.done]))[0]};return cd.set(e,c),c}mS(r=>({...r,get:(e,i,s)=>y_(e,i)||r.get(e,i,s),has:(e,i)=>!!y_(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(TS(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function TS(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const bd="@firebase/app",__="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr=new Hv("@firebase/app"),bS="@firebase/app-compat",SS="@firebase/analytics-compat",AS="@firebase/analytics",RS="@firebase/app-check-compat",xS="@firebase/app-check",wS="@firebase/auth",CS="@firebase/auth-compat",DS="@firebase/database",IS="@firebase/data-connect",VS="@firebase/database-compat",NS="@firebase/functions",MS="@firebase/functions-compat",OS="@firebase/installations",jS="@firebase/installations-compat",US="@firebase/messaging",LS="@firebase/messaging-compat",kS="@firebase/performance",PS="@firebase/performance-compat",BS="@firebase/remote-config",zS="@firebase/remote-config-compat",qS="@firebase/storage",HS="@firebase/storage-compat",GS="@firebase/firestore",FS="@firebase/vertexai",QS="@firebase/firestore-compat",YS="firebase",KS="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd="[DEFAULT]",$S={[bd]:"fire-core",[bS]:"fire-core-compat",[AS]:"fire-analytics",[SS]:"fire-analytics-compat",[xS]:"fire-app-check",[RS]:"fire-app-check-compat",[wS]:"fire-auth",[CS]:"fire-auth-compat",[DS]:"fire-rtdb",[IS]:"fire-data-connect",[VS]:"fire-rtdb-compat",[NS]:"fire-fn",[MS]:"fire-fn-compat",[OS]:"fire-iid",[jS]:"fire-iid-compat",[US]:"fire-fcm",[LS]:"fire-fcm-compat",[kS]:"fire-perf",[PS]:"fire-perf-compat",[BS]:"fire-rc",[zS]:"fire-rc-compat",[qS]:"fire-gcs",[HS]:"fire-gcs-compat",[GS]:"fire-fst",[QS]:"fire-fst-compat",[FS]:"fire-vertex","fire-js":"fire-js",[YS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec=new Map,XS=new Map,Ad=new Map;function v_(r,e){try{r.container.addComponent(e)}catch(i){rr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function Tc(r){const e=r.name;if(Ad.has(e))return rr.debug(`There were multiple attempts to register component ${e}.`),!1;Ad.set(e,r);for(const i of Ec.values())v_(i,r);for(const i of XS.values())v_(i,r);return!0}function ZS(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function WS(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},kr=new qv("app","Firebase",JS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new mo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw kr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA=KS;function Qv(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Sd,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw kr.create("bad-app-name",{appName:String(o)});if(i||(i=zv()),!i)throw kr.create("no-options");const c=Ec.get(o);if(c){if(vc(i,c.options)&&vc(s,c.config))return c;throw kr.create("duplicate-app",{appName:o})}const f=new rS(o);for(const y of Ad.values())f.addComponent(y);const m=new tA(i,s,f);return Ec.set(o,m),m}function nA(r=Sd){const e=Ec.get(r);if(!e&&r===Sd&&zv())return Qv();if(!e)throw kr.create("no-app",{appName:r});return e}function Ns(r,e,i){var s;let o=(s=$S[r])!==null&&s!==void 0?s:r;i&&(o+=`-${i}`);const c=o.match(/\s|\//),f=e.match(/\s|\//);if(c||f){const m=[`Unable to register library "${o}" with version "${e}":`];c&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rr.warn(m.join(" "));return}Tc(new mo(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA="firebase-heartbeat-database",rA=1,po="firebase-heartbeat-store";let hd=null;function Yv(){return hd||(hd=yS(iA,rA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(po)}catch(i){console.warn(i)}}}}).catch(r=>{throw kr.create("idb-open",{originalErrorMessage:r.message})})),hd}async function aA(r){try{const i=(await Yv()).transaction(po),s=await i.objectStore(po).get(Kv(r));return await i.done,s}catch(e){if(e instanceof Gs)rr.warn(e.message);else{const i=kr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});rr.warn(i.message)}}}async function E_(r,e){try{const s=(await Yv()).transaction(po,"readwrite");await s.objectStore(po).put(e,Kv(r)),await s.done}catch(i){if(i instanceof Gs)rr.warn(i.message);else{const s=kr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});rr.warn(s.message)}}}function Kv(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA=1024,lA=30;class oA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new cA(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=T_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>lA){const f=hA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){rr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=T_(),{heartbeatsToSend:s,unsentEntries:o}=uA(this._heartbeatsCache.heartbeats),c=_c(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return rr.warn(i),""}}}function T_(){return new Date().toISOString().substring(0,10)}function uA(r,e=sA){const i=[];let s=r.slice();for(const o of r){const c=i.find(f=>f.agent===o.agent);if(c){if(c.dates.push(o.date),b_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),b_(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class cA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return X1()?Z1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await aA(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return E_(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return E_(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function b_(r){return _c(JSON.stringify({version:2,heartbeats:r})).length}function hA(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(r){Tc(new mo("platform-logger",e=>new ES(e),"PRIVATE")),Tc(new mo("heartbeat",e=>new oA(e),"PRIVATE")),Ns(bd,__,r),Ns(bd,__,"esm2017"),Ns("fire-js","")}fA("");var dA="firebase",mA="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ns(dA,mA,"app");var S_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pr,$v;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,x){function w(){}w.prototype=x.prototype,O.D=x.prototype,O.prototype=new w,O.prototype.constructor=O,O.C=function(j,k,L){for(var C=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)C[Pt-2]=arguments[Pt];return x.prototype[k].apply(j,C)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,x,w){w||(w=0);var j=Array(16);if(typeof x=="string")for(var k=0;16>k;++k)j[k]=x.charCodeAt(w++)|x.charCodeAt(w++)<<8|x.charCodeAt(w++)<<16|x.charCodeAt(w++)<<24;else for(k=0;16>k;++k)j[k]=x[w++]|x[w++]<<8|x[w++]<<16|x[w++]<<24;x=O.g[0],w=O.g[1],k=O.g[2];var L=O.g[3],C=x+(L^w&(k^L))+j[0]+3614090360&4294967295;x=w+(C<<7&4294967295|C>>>25),C=L+(k^x&(w^k))+j[1]+3905402710&4294967295,L=x+(C<<12&4294967295|C>>>20),C=k+(w^L&(x^w))+j[2]+606105819&4294967295,k=L+(C<<17&4294967295|C>>>15),C=w+(x^k&(L^x))+j[3]+3250441966&4294967295,w=k+(C<<22&4294967295|C>>>10),C=x+(L^w&(k^L))+j[4]+4118548399&4294967295,x=w+(C<<7&4294967295|C>>>25),C=L+(k^x&(w^k))+j[5]+1200080426&4294967295,L=x+(C<<12&4294967295|C>>>20),C=k+(w^L&(x^w))+j[6]+2821735955&4294967295,k=L+(C<<17&4294967295|C>>>15),C=w+(x^k&(L^x))+j[7]+4249261313&4294967295,w=k+(C<<22&4294967295|C>>>10),C=x+(L^w&(k^L))+j[8]+1770035416&4294967295,x=w+(C<<7&4294967295|C>>>25),C=L+(k^x&(w^k))+j[9]+2336552879&4294967295,L=x+(C<<12&4294967295|C>>>20),C=k+(w^L&(x^w))+j[10]+4294925233&4294967295,k=L+(C<<17&4294967295|C>>>15),C=w+(x^k&(L^x))+j[11]+2304563134&4294967295,w=k+(C<<22&4294967295|C>>>10),C=x+(L^w&(k^L))+j[12]+1804603682&4294967295,x=w+(C<<7&4294967295|C>>>25),C=L+(k^x&(w^k))+j[13]+4254626195&4294967295,L=x+(C<<12&4294967295|C>>>20),C=k+(w^L&(x^w))+j[14]+2792965006&4294967295,k=L+(C<<17&4294967295|C>>>15),C=w+(x^k&(L^x))+j[15]+1236535329&4294967295,w=k+(C<<22&4294967295|C>>>10),C=x+(k^L&(w^k))+j[1]+4129170786&4294967295,x=w+(C<<5&4294967295|C>>>27),C=L+(w^k&(x^w))+j[6]+3225465664&4294967295,L=x+(C<<9&4294967295|C>>>23),C=k+(x^w&(L^x))+j[11]+643717713&4294967295,k=L+(C<<14&4294967295|C>>>18),C=w+(L^x&(k^L))+j[0]+3921069994&4294967295,w=k+(C<<20&4294967295|C>>>12),C=x+(k^L&(w^k))+j[5]+3593408605&4294967295,x=w+(C<<5&4294967295|C>>>27),C=L+(w^k&(x^w))+j[10]+38016083&4294967295,L=x+(C<<9&4294967295|C>>>23),C=k+(x^w&(L^x))+j[15]+3634488961&4294967295,k=L+(C<<14&4294967295|C>>>18),C=w+(L^x&(k^L))+j[4]+3889429448&4294967295,w=k+(C<<20&4294967295|C>>>12),C=x+(k^L&(w^k))+j[9]+568446438&4294967295,x=w+(C<<5&4294967295|C>>>27),C=L+(w^k&(x^w))+j[14]+3275163606&4294967295,L=x+(C<<9&4294967295|C>>>23),C=k+(x^w&(L^x))+j[3]+4107603335&4294967295,k=L+(C<<14&4294967295|C>>>18),C=w+(L^x&(k^L))+j[8]+1163531501&4294967295,w=k+(C<<20&4294967295|C>>>12),C=x+(k^L&(w^k))+j[13]+2850285829&4294967295,x=w+(C<<5&4294967295|C>>>27),C=L+(w^k&(x^w))+j[2]+4243563512&4294967295,L=x+(C<<9&4294967295|C>>>23),C=k+(x^w&(L^x))+j[7]+1735328473&4294967295,k=L+(C<<14&4294967295|C>>>18),C=w+(L^x&(k^L))+j[12]+2368359562&4294967295,w=k+(C<<20&4294967295|C>>>12),C=x+(w^k^L)+j[5]+4294588738&4294967295,x=w+(C<<4&4294967295|C>>>28),C=L+(x^w^k)+j[8]+2272392833&4294967295,L=x+(C<<11&4294967295|C>>>21),C=k+(L^x^w)+j[11]+1839030562&4294967295,k=L+(C<<16&4294967295|C>>>16),C=w+(k^L^x)+j[14]+4259657740&4294967295,w=k+(C<<23&4294967295|C>>>9),C=x+(w^k^L)+j[1]+2763975236&4294967295,x=w+(C<<4&4294967295|C>>>28),C=L+(x^w^k)+j[4]+1272893353&4294967295,L=x+(C<<11&4294967295|C>>>21),C=k+(L^x^w)+j[7]+4139469664&4294967295,k=L+(C<<16&4294967295|C>>>16),C=w+(k^L^x)+j[10]+3200236656&4294967295,w=k+(C<<23&4294967295|C>>>9),C=x+(w^k^L)+j[13]+681279174&4294967295,x=w+(C<<4&4294967295|C>>>28),C=L+(x^w^k)+j[0]+3936430074&4294967295,L=x+(C<<11&4294967295|C>>>21),C=k+(L^x^w)+j[3]+3572445317&4294967295,k=L+(C<<16&4294967295|C>>>16),C=w+(k^L^x)+j[6]+76029189&4294967295,w=k+(C<<23&4294967295|C>>>9),C=x+(w^k^L)+j[9]+3654602809&4294967295,x=w+(C<<4&4294967295|C>>>28),C=L+(x^w^k)+j[12]+3873151461&4294967295,L=x+(C<<11&4294967295|C>>>21),C=k+(L^x^w)+j[15]+530742520&4294967295,k=L+(C<<16&4294967295|C>>>16),C=w+(k^L^x)+j[2]+3299628645&4294967295,w=k+(C<<23&4294967295|C>>>9),C=x+(k^(w|~L))+j[0]+4096336452&4294967295,x=w+(C<<6&4294967295|C>>>26),C=L+(w^(x|~k))+j[7]+1126891415&4294967295,L=x+(C<<10&4294967295|C>>>22),C=k+(x^(L|~w))+j[14]+2878612391&4294967295,k=L+(C<<15&4294967295|C>>>17),C=w+(L^(k|~x))+j[5]+4237533241&4294967295,w=k+(C<<21&4294967295|C>>>11),C=x+(k^(w|~L))+j[12]+1700485571&4294967295,x=w+(C<<6&4294967295|C>>>26),C=L+(w^(x|~k))+j[3]+2399980690&4294967295,L=x+(C<<10&4294967295|C>>>22),C=k+(x^(L|~w))+j[10]+4293915773&4294967295,k=L+(C<<15&4294967295|C>>>17),C=w+(L^(k|~x))+j[1]+2240044497&4294967295,w=k+(C<<21&4294967295|C>>>11),C=x+(k^(w|~L))+j[8]+1873313359&4294967295,x=w+(C<<6&4294967295|C>>>26),C=L+(w^(x|~k))+j[15]+4264355552&4294967295,L=x+(C<<10&4294967295|C>>>22),C=k+(x^(L|~w))+j[6]+2734768916&4294967295,k=L+(C<<15&4294967295|C>>>17),C=w+(L^(k|~x))+j[13]+1309151649&4294967295,w=k+(C<<21&4294967295|C>>>11),C=x+(k^(w|~L))+j[4]+4149444226&4294967295,x=w+(C<<6&4294967295|C>>>26),C=L+(w^(x|~k))+j[11]+3174756917&4294967295,L=x+(C<<10&4294967295|C>>>22),C=k+(x^(L|~w))+j[2]+718787259&4294967295,k=L+(C<<15&4294967295|C>>>17),C=w+(L^(k|~x))+j[9]+3951481745&4294967295,O.g[0]=O.g[0]+x&4294967295,O.g[1]=O.g[1]+(k+(C<<21&4294967295|C>>>11))&4294967295,O.g[2]=O.g[2]+k&4294967295,O.g[3]=O.g[3]+L&4294967295}s.prototype.u=function(O,x){x===void 0&&(x=O.length);for(var w=x-this.blockSize,j=this.B,k=this.h,L=0;L<x;){if(k==0)for(;L<=w;)o(this,O,L),L+=this.blockSize;if(typeof O=="string"){for(;L<x;)if(j[k++]=O.charCodeAt(L++),k==this.blockSize){o(this,j),k=0;break}}else for(;L<x;)if(j[k++]=O[L++],k==this.blockSize){o(this,j),k=0;break}}this.h=k,this.o+=x},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var x=1;x<O.length-8;++x)O[x]=0;var w=8*this.o;for(x=O.length-8;x<O.length;++x)O[x]=w&255,w/=256;for(this.u(O),O=Array(16),x=w=0;4>x;++x)for(var j=0;32>j;j+=8)O[w++]=this.g[x]>>>j&255;return O};function c(O,x){var w=m;return Object.prototype.hasOwnProperty.call(w,O)?w[O]:w[O]=x(O)}function f(O,x){this.h=x;for(var w=[],j=!0,k=O.length-1;0<=k;k--){var L=O[k]|0;j&&L==x||(w[k]=L,j=!1)}this.g=w}var m={};function y(O){return-128<=O&&128>O?c(O,function(x){return new f([x|0],0>x?-1:0)}):new f([O|0],0>O?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return S;if(0>O)return N(g(-O));for(var x=[],w=1,j=0;O>=w;j++)x[j]=O/w|0,w*=4294967296;return new f(x,0)}function E(O,x){if(O.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(O.charAt(0)=="-")return N(E(O.substring(1),x));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=g(Math.pow(x,8)),j=S,k=0;k<O.length;k+=8){var L=Math.min(8,O.length-k),C=parseInt(O.substring(k,k+L),x);8>L?(L=g(Math.pow(x,L)),j=j.j(L).add(g(C))):(j=j.j(w),j=j.add(g(C)))}return j}var S=y(0),R=y(1),M=y(16777216);r=f.prototype,r.m=function(){if(Q(this))return-N(this).m();for(var O=0,x=1,w=0;w<this.g.length;w++){var j=this.i(w);O+=(0<=j?j:4294967296+j)*x,x*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(V(this))return"0";if(Q(this))return"-"+N(this).toString(O);for(var x=g(Math.pow(O,6)),w=this,j="";;){var k=ct(w,x).g;w=B(w,k.j(x));var L=((0<w.g.length?w.g[0]:w.h)>>>0).toString(O);if(w=k,V(w))return L+j;for(;6>L.length;)L="0"+L;j=L+j}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function V(O){if(O.h!=0)return!1;for(var x=0;x<O.g.length;x++)if(O.g[x]!=0)return!1;return!0}function Q(O){return O.h==-1}r.l=function(O){return O=B(this,O),Q(O)?-1:V(O)?0:1};function N(O){for(var x=O.g.length,w=[],j=0;j<x;j++)w[j]=~O.g[j];return new f(w,~O.h).add(R)}r.abs=function(){return Q(this)?N(this):this},r.add=function(O){for(var x=Math.max(this.g.length,O.g.length),w=[],j=0,k=0;k<=x;k++){var L=j+(this.i(k)&65535)+(O.i(k)&65535),C=(L>>>16)+(this.i(k)>>>16)+(O.i(k)>>>16);j=C>>>16,L&=65535,C&=65535,w[k]=C<<16|L}return new f(w,w[w.length-1]&-2147483648?-1:0)};function B(O,x){return O.add(N(x))}r.j=function(O){if(V(this)||V(O))return S;if(Q(this))return Q(O)?N(this).j(N(O)):N(N(this).j(O));if(Q(O))return N(this.j(N(O)));if(0>this.l(M)&&0>O.l(M))return g(this.m()*O.m());for(var x=this.g.length+O.g.length,w=[],j=0;j<2*x;j++)w[j]=0;for(j=0;j<this.g.length;j++)for(var k=0;k<O.g.length;k++){var L=this.i(j)>>>16,C=this.i(j)&65535,Pt=O.i(k)>>>16,Vt=O.i(k)&65535;w[2*j+2*k]+=C*Vt,X(w,2*j+2*k),w[2*j+2*k+1]+=L*Vt,X(w,2*j+2*k+1),w[2*j+2*k+1]+=C*Pt,X(w,2*j+2*k+1),w[2*j+2*k+2]+=L*Pt,X(w,2*j+2*k+2)}for(j=0;j<x;j++)w[j]=w[2*j+1]<<16|w[2*j];for(j=x;j<2*x;j++)w[j]=0;return new f(w,0)};function X(O,x){for(;(O[x]&65535)!=O[x];)O[x+1]+=O[x]>>>16,O[x]&=65535,x++}function q(O,x){this.g=O,this.h=x}function ct(O,x){if(V(x))throw Error("division by zero");if(V(O))return new q(S,S);if(Q(O))return x=ct(N(O),x),new q(N(x.g),N(x.h));if(Q(x))return x=ct(O,N(x)),new q(N(x.g),x.h);if(30<O.g.length){if(Q(O)||Q(x))throw Error("slowDivide_ only works with positive integers.");for(var w=R,j=x;0>=j.l(O);)w=ut(w),j=ut(j);var k=yt(w,1),L=yt(j,1);for(j=yt(j,2),w=yt(w,2);!V(j);){var C=L.add(j);0>=C.l(O)&&(k=k.add(w),L=C),j=yt(j,1),w=yt(w,1)}return x=B(O,k.j(x)),new q(k,x)}for(k=S;0<=O.l(x);){for(w=Math.max(1,Math.floor(O.m()/x.m())),j=Math.ceil(Math.log(w)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),L=g(w),C=L.j(x);Q(C)||0<C.l(O);)w-=j,L=g(w),C=L.j(x);V(L)&&(L=R),k=k.add(L),O=B(O,C)}return new q(k,O)}r.A=function(O){return ct(this,O).h},r.and=function(O){for(var x=Math.max(this.g.length,O.g.length),w=[],j=0;j<x;j++)w[j]=this.i(j)&O.i(j);return new f(w,this.h&O.h)},r.or=function(O){for(var x=Math.max(this.g.length,O.g.length),w=[],j=0;j<x;j++)w[j]=this.i(j)|O.i(j);return new f(w,this.h|O.h)},r.xor=function(O){for(var x=Math.max(this.g.length,O.g.length),w=[],j=0;j<x;j++)w[j]=this.i(j)^O.i(j);return new f(w,this.h^O.h)};function ut(O){for(var x=O.g.length+1,w=[],j=0;j<x;j++)w[j]=O.i(j)<<1|O.i(j-1)>>>31;return new f(w,O.h)}function yt(O,x){var w=x>>5;x%=32;for(var j=O.g.length-w,k=[],L=0;L<j;L++)k[L]=0<x?O.i(L+w)>>>x|O.i(L+w+1)<<32-x:O.i(L+w);return new f(k,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,$v=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,Pr=f}).apply(typeof S_<"u"?S_:typeof self<"u"?self:typeof window<"u"?window:{});var rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xv,ro,Zv,hc,Rd,Wv,Jv,t0;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,_){return u==Array.prototype||u==Object.prototype||(u[p]=_.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof rc=="object"&&rc];for(var p=0;p<u.length;++p){var _=u[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=i(this);function o(u,p){if(p)t:{var _=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var H=u[A];if(!(H in _))break t;_=_[H]}u=u[u.length-1],A=_[u],p=p(A),p!=A&&p!=null&&e(_,u,{configurable:!0,writable:!0,value:p})}}function c(u,p){u instanceof String&&(u+="");var _=0,A=!1,H={next:function(){if(!A&&_<u.length){var W=_++;return{value:p(W,u[W]),done:!1}}return A=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(u){return u||function(){return c(this,function(p,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function y(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function g(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function E(u,p,_){return u.call.apply(u.bind,arguments)}function S(u,p,_){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,A),u.apply(p,H)}}return function(){return u.apply(p,arguments)}}function R(u,p,_){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,R.apply(null,arguments)}function M(u,p){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function V(u,p){function _(){}_.prototype=p.prototype,u.aa=p.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(A,H,W){for(var ht=Array(arguments.length-2),Ht=2;Ht<arguments.length;Ht++)ht[Ht-2]=arguments[Ht];return p.prototype[H].apply(A,ht)}}function Q(u){const p=u.length;if(0<p){const _=Array(p);for(let A=0;A<p;A++)_[A]=u[A];return _}return[]}function N(u,p){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(y(A)){const H=u.length||0,W=A.length||0;u.length=H+W;for(let ht=0;ht<W;ht++)u[H+ht]=A[ht]}else u.push(A)}}class B{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function X(u){return/^[\s\xa0]*$/.test(u)}function q(){var u=m.navigator;return u&&(u=u.userAgent)?u:""}function ct(u){return ct[" "](u),u}ct[" "]=function(){};var ut=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function yt(u,p,_){for(const A in u)p.call(_,u[A],A,u)}function O(u,p){for(const _ in u)p.call(void 0,u[_],_,u)}function x(u){const p={};for(const _ in u)p[_]=u[_];return p}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(u,p){let _,A;for(let H=1;H<arguments.length;H++){A=arguments[H];for(_ in A)u[_]=A[_];for(let W=0;W<w.length;W++)_=w[W],Object.prototype.hasOwnProperty.call(A,_)&&(u[_]=A[_])}}function k(u){var p=1;u=u.split(":");const _=[];for(;0<p&&u.length;)_.push(u.shift()),p--;return u.length&&_.push(u.join(":")),_}function L(u){m.setTimeout(()=>{throw u},0)}function C(){var u=dt;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class Pt{constructor(){this.h=this.g=null}add(p,_){const A=Vt.get();A.set(p,_),this.h?this.h.next=A:this.g=A,this.h=A}}var Vt=new B(()=>new Z,u=>u.reset());class Z{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let $,lt=!1,dt=new Pt,I=()=>{const u=m.Promise.resolve(void 0);$=()=>{u.then(J)}};var J=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(_){L(_)}var p=Vt;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}lt=!1};function ot(){this.s=this.s,this.C=this.C}ot.prototype.s=!1,ot.prototype.ma=function(){this.s||(this.s=!0,this.N())},ot.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function st(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}st.prototype.h=function(){this.defaultPrevented=!0};var mt=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};m.addEventListener("test",_,p),m.removeEventListener("test",_,p)}catch{}return u}();function Dt(u,p){if(st.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(ut){t:{try{ct(p.nodeName);var H=!0;break t}catch{}H=!1}H||(p=null)}}else _=="mouseover"?p=u.fromElement:_=="mouseout"&&(p=u.toElement);this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:St[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Dt.aa.h.call(this)}}V(Dt,st);var St={2:"touch",3:"pen",4:"mouse"};Dt.prototype.h=function(){Dt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var fe="closure_listenable_"+(1e6*Math.random()|0),Kt=0;function Nn(u,p,_,A,H){this.listener=u,this.proxy=null,this.src=p,this.type=_,this.capture=!!A,this.ha=H,this.key=++Kt,this.da=this.fa=!1}function ai(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Yn(u){this.src=u,this.g={},this.h=0}Yn.prototype.add=function(u,p,_,A,H){var W=u.toString();u=this.g[W],u||(u=this.g[W]=[],this.h++);var ht=li(u,p,A,H);return-1<ht?(p=u[ht],_||(p.fa=!1)):(p=new Nn(p,this.src,W,!!A,H),p.fa=_,u.push(p)),p};function si(u,p){var _=p.type;if(_ in u.g){var A=u.g[_],H=Array.prototype.indexOf.call(A,p,void 0),W;(W=0<=H)&&Array.prototype.splice.call(A,H,1),W&&(ai(p),u.g[_].length==0&&(delete u.g[_],u.h--))}}function li(u,p,_,A){for(var H=0;H<u.length;++H){var W=u[H];if(!W.da&&W.listener==p&&W.capture==!!_&&W.ha==A)return H}return-1}var nt="closure_lm_"+(1e6*Math.random()|0),ft={};function _t(u,p,_,A,H){if(Array.isArray(p)){for(var W=0;W<p.length;W++)_t(u,p[W],_,A,H);return null}return _=Kn(_),u&&u[fe]?u.K(p,_,g(A)?!!A.capture:!1,H):wt(u,p,_,!1,A,H)}function wt(u,p,_,A,H,W){if(!p)throw Error("Invalid event type");var ht=g(H)?!!H.capture:!!H,Ht=ce(u);if(Ht||(u[nt]=Ht=new Yn(u)),_=Ht.add(p,_,A,ht,W),_.proxy)return _;if(A=ge(),_.proxy=A,A.src=u,A.listener=_,u.addEventListener)mt||(H=ht),H===void 0&&(H=!1),u.addEventListener(p.toString(),A,H);else if(u.attachEvent)u.attachEvent(zt(p.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ge(){function u(_){return p.call(u.src,u.listener,_)}const p=ue;return u}function Fe(u,p,_,A,H){if(Array.isArray(p))for(var W=0;W<p.length;W++)Fe(u,p[W],_,A,H);else A=g(A)?!!A.capture:!!A,_=Kn(_),u&&u[fe]?(u=u.i,p=String(p).toString(),p in u.g&&(W=u.g[p],_=li(W,_,A,H),-1<_&&(ai(W[_]),Array.prototype.splice.call(W,_,1),W.length==0&&(delete u.g[p],u.h--)))):u&&(u=ce(u))&&(p=u.g[p.toString()],u=-1,p&&(u=li(p,_,A,H)),(_=-1<u?p[u]:null)&&qt(_))}function qt(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[fe])si(p.i,u);else{var _=u.type,A=u.proxy;p.removeEventListener?p.removeEventListener(_,A,u.capture):p.detachEvent?p.detachEvent(zt(_),A):p.addListener&&p.removeListener&&p.removeListener(A),(_=ce(p))?(si(_,u),_.h==0&&(_.src=null,p[nt]=null)):ai(u)}}}function zt(u){return u in ft?ft[u]:ft[u]="on"+u}function ue(u,p){if(u.da)u=!0;else{p=new Dt(p,this);var _=u.listener,A=u.ha||u.src;u.fa&&qt(u),u=_.call(A,p)}return u}function ce(u){return u=u[nt],u instanceof Yn?u:null}var un="__closure_events_fn_"+(1e9*Math.random()>>>0);function Kn(u){return typeof u=="function"?u:(u[un]||(u[un]=function(p){return u.handleEvent(p)}),u[un])}function se(){ot.call(this),this.i=new Yn(this),this.M=this,this.F=null}V(se,ot),se.prototype[fe]=!0,se.prototype.removeEventListener=function(u,p,_,A){Fe(this,u,p,_,A)};function Xt(u,p){var _,A=u.F;if(A)for(_=[];A;A=A.F)_.push(A);if(u=u.M,A=p.type||p,typeof p=="string")p=new st(p,u);else if(p instanceof st)p.target=p.target||u;else{var H=p;p=new st(A,u),j(p,H)}if(H=!0,_)for(var W=_.length-1;0<=W;W--){var ht=p.g=_[W];H=Tn(ht,A,!0,p)&&H}if(ht=p.g=u,H=Tn(ht,A,!0,p)&&H,H=Tn(ht,A,!1,p)&&H,_)for(W=0;W<_.length;W++)ht=p.g=_[W],H=Tn(ht,A,!1,p)&&H}se.prototype.N=function(){if(se.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var _=u.g[p],A=0;A<_.length;A++)ai(_[A]);delete u.g[p],u.h--}}this.F=null},se.prototype.K=function(u,p,_,A){return this.i.add(String(u),p,!1,_,A)},se.prototype.L=function(u,p,_,A){return this.i.add(String(u),p,!0,_,A)};function Tn(u,p,_,A){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var H=!0,W=0;W<p.length;++W){var ht=p[W];if(ht&&!ht.da&&ht.capture==_){var Ht=ht.listener,Me=ht.ha||ht.src;ht.fa&&si(u.i,ht),H=Ht.call(Me,A)!==!1&&H}}return H&&!A.defaultPrevented}function en(u,p,_){if(typeof u=="function")_&&(u=R(u,_));else if(u&&typeof u.handleEvent=="function")u=R(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:m.setTimeout(u,p||0)}function jo(u){u.g=en(()=>{u.g=null,u.i&&(u.i=!1,jo(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class eh extends ot{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:jo(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $r(u){ot.call(this),this.h=u,this.g={}}V($r,ot);var Xr=[];function Zr(u){yt(u.g,function(p,_){this.g.hasOwnProperty(_)&&qt(p)},u),u.g={}}$r.prototype.N=function(){$r.aa.N.call(this),Zr(this)},$r.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $n=m.JSON.stringify,ka=m.JSON.parse,Wr=class{stringify(u){return m.JSON.stringify(u,void 0)}parse(u){return m.JSON.parse(u,void 0)}};function $s(){}$s.prototype.h=null;function Xs(u){return u.h||(u.h=u.i())}function Zs(){}var Di={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ii(){st.call(this,"d")}V(Ii,st);function Ws(){st.call(this,"c")}V(Ws,st);var oi={},Js=null;function or(){return Js=Js||new se}oi.La="serverreachability";function Pa(u){st.call(this,oi.La,u)}V(Pa,st);function ur(u){const p=or();Xt(p,new Pa(p))}oi.STAT_EVENT="statevent";function Uo(u,p){st.call(this,oi.STAT_EVENT,u),this.stat=p}V(Uo,st);function de(u){const p=or();Xt(p,new Uo(p,u))}oi.Ma="timingevent";function Ne(u,p){st.call(this,oi.Ma,u),this.size=p}V(Ne,st);function xe(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){u()},p)}function Mn(){this.g=!0}Mn.prototype.xa=function(){this.g=!1};function tl(u,p,_,A,H,W){u.info(function(){if(u.g)if(W)for(var ht="",Ht=W.split("&"),Me=0;Me<Ht.length;Me++){var Gt=Ht[Me].split("=");if(1<Gt.length){var Be=Gt[0];Gt=Gt[1];var Oe=Be.split("_");ht=2<=Oe.length&&Oe[1]=="type"?ht+(Be+"="+Gt+"&"):ht+(Be+"=redacted&")}}else ht=null;else ht=W;return"XMLHTTP REQ ("+A+") [attempt "+H+"]: "+p+`
`+_+`
`+ht})}function nh(u,p,_,A,H,W,ht){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+H+"]: "+p+`
`+_+`
`+W+" "+ht})}function cr(u,p,_,A){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+Jr(u,_)+(A?" "+A:"")})}function Lo(u,p){u.info(function(){return"TIMEOUT: "+p})}Mn.prototype.info=function(){};function Jr(u,p){if(!u.g)return p;if(!p)return null;try{var _=JSON.parse(p);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var A=_[u];if(!(2>A.length)){var H=A[1];if(Array.isArray(H)&&!(1>H.length)){var W=H[0];if(W!="noop"&&W!="stop"&&W!="close")for(var ht=1;ht<H.length;ht++)H[ht]=""}}}}return $n(_)}catch{return p}}var hr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Vi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ui;function ci(){}V(ci,$s),ci.prototype.g=function(){return new XMLHttpRequest},ci.prototype.i=function(){return{}},ui=new ci;function cn(u,p,_,A){this.j=u,this.i=p,this.l=_,this.R=A||1,this.U=new $r(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new be}function be(){this.i=null,this.g="",this.h=!1}var el={},Ba={};function Xn(u,p,_){u.L=1,u.v=ra(bn(p)),u.m=_,u.P=!0,Ni(u,null)}function Ni(u,p){u.F=Date.now(),ta(u),u.A=bn(u.v);var _=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),ll(_.i,"t",A),u.C=0,_=u.j.J,u.h=new be,u.g=Jo(u.j,_?p:null,!u.m),0<u.O&&(u.M=new eh(R(u.Y,u,u.g),u.O)),p=u.U,_=u.g,A=u.ca;var H="readystatechange";Array.isArray(H)||(H&&(Xr[0]=H.toString()),H=Xr);for(var W=0;W<H.length;W++){var ht=_t(_,H[W],A||p.handleEvent,!1,p.h||p);if(!ht)break;p.g[ht.key]=ht}p=u.H?x(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),ur(),tl(u.i,u.u,u.A,u.l,u.R,u.m)}cn.prototype.ca=function(u){u=u.target;const p=this.M;p&&Ln(u)==3?p.j():this.Y(u)},cn.prototype.Y=function(u){try{if(u==this.g)t:{const Oe=Ln(this.g);var p=this.g.Ba();const Bi=this.g.Z();if(!(3>Oe)&&(Oe!=3||this.g&&(this.h.h||this.g.oa()||Fo(this.g)))){this.J||Oe!=4||p==7||(p==8||0>=Bi?ur(3):ur(2)),fr(this);var _=this.g.Z();this.X=_;e:if(ko(this)){var A=Fo(this.g);u="";var H=A.length,W=Ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qe(this),hi(this);var ht="";break e}this.h.i=new m.TextDecoder}for(p=0;p<H;p++)this.h.h=!0,u+=this.h.i.decode(A[p],{stream:!(W&&p==H-1)});A.length=0,this.h.g+=u,this.C=0,ht=this.h.g}else ht=this.g.oa();if(this.o=_==200,nh(this.i,this.u,this.A,this.l,this.R,Oe,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Ht,Me=this.g;if((Ht=Me.g?Me.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(Ht)){var Gt=Ht;break e}}Gt=null}if(_=Gt)cr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ea(this,_);else{this.o=!1,this.s=3,de(12),Qe(this),hi(this);break t}}if(this.P){_=!0;let Ye;for(;!this.J&&this.C<ht.length;)if(Ye=Po(this,ht),Ye==Ba){Oe==4&&(this.s=4,de(14),_=!1),cr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ye==el){this.s=4,de(15),cr(this.i,this.l,ht,"[Invalid Chunk]"),_=!1;break}else cr(this.i,this.l,Ye,null),ea(this,Ye);if(ko(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Oe!=4||ht.length!=0||this.h.h||(this.s=1,de(16),_=!1),this.o=this.o&&_,!_)cr(this.i,this.l,ht,"[Invalid Chunked Response]"),Qe(this),hi(this);else if(0<ht.length&&!this.W){this.W=!0;var Be=this.j;Be.g==this&&Be.ba&&!Be.M&&(Be.j.info("Great, no buffering proxy detected. Bytes received: "+ht.length),fa(Be),Be.M=!0,de(11))}}else cr(this.i,this.l,ht,null),ea(this,ht);Oe==4&&Qe(this),this.o&&!this.J&&(Oe==4?Xo(this.j,this):(this.o=!1,ta(this)))}else lh(this.g),_==400&&0<ht.indexOf("Unknown SID")?(this.s=3,de(12)):(this.s=0,de(13)),Qe(this),hi(this)}}}catch{}finally{}};function ko(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Po(u,p){var _=u.C,A=p.indexOf(`
`,_);return A==-1?Ba:(_=Number(p.substring(_,A)),isNaN(_)?el:(A+=1,A+_>p.length?Ba:(p=p.slice(A,A+_),u.C=A+_,p)))}cn.prototype.cancel=function(){this.J=!0,Qe(this)};function ta(u){u.S=Date.now()+u.I,Bo(u,u.I)}function Bo(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=xe(R(u.ba,u),p)}function fr(u){u.B&&(m.clearTimeout(u.B),u.B=null)}cn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Lo(this.i,this.A),this.L!=2&&(ur(),de(17)),Qe(this),this.s=2,hi(this)):Bo(this,this.S-u)};function hi(u){u.j.G==0||u.J||Xo(u.j,u)}function Qe(u){fr(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,Zr(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function ea(u,p){try{var _=u.j;if(_.G!=0&&(_.g==u||nl(_.h,u))){if(!u.K&&nl(_.h,u)&&_.G==3){try{var A=_.Da.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var H=A;if(H[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Wa(_),Xa(_);else break t;fl(_),de(18)}}else _.za=H[1],0<_.za-_.T&&37500>H[2]&&_.F&&_.v==0&&!_.C&&(_.C=xe(R(_.Za,_),6e3));if(1>=qa(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Pi(_,11)}else if((u.K||_.g==u)&&Wa(_),!X(p))for(H=_.Da.g.parse(p),p=0;p<H.length;p++){let Gt=H[p];if(_.T=Gt[0],Gt=Gt[1],_.G==2)if(Gt[0]=="c"){_.K=Gt[1],_.ia=Gt[2];const Be=Gt[3];Be!=null&&(_.la=Be,_.j.info("VER="+_.la));const Oe=Gt[4];Oe!=null&&(_.Aa=Oe,_.j.info("SVER="+_.Aa));const Bi=Gt[5];Bi!=null&&typeof Bi=="number"&&0<Bi&&(A=1.5*Bi,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Ye=u.g;if(Ye){const _i=Ye.g?Ye.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_i){var W=A.h;W.g||_i.indexOf("spdy")==-1&&_i.indexOf("quic")==-1&&_i.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Ha(W,W.h),W.h=null))}if(A.D){const ml=Ye.g?Ye.g.getResponseHeader("X-HTTP-Session-Id"):null;ml&&(A.ya=ml,ne(A.I,A.D,ml))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var ht=u;if(A.qa=Wo(A,A.J?A.ia:null,A.W),ht.K){hn(A.h,ht);var Ht=ht,Me=A.L;Me&&(Ht.I=Me),Ht.B&&(fr(Ht),ta(Ht)),A.g=ht}else Ko(A);0<_.i.length&&Za(_)}else Gt[0]!="stop"&&Gt[0]!="close"||Pi(_,7);else _.G==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?Pi(_,7):cl(_):Gt[0]!="noop"&&_.l&&_.l.ta(Gt),_.v=0)}}ur(4)}catch{}}var zo=class{constructor(u,p){this.g=u,this.map=p}};function Mi(u){this.l=u||10,m.PerformanceNavigationTiming?(u=m.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function za(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function qa(u){return u.h?1:u.g?u.g.size:0}function nl(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Ha(u,p){u.g?u.g.add(p):u.h=p}function hn(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Mi.prototype.cancel=function(){if(this.i=il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function il(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const _ of u.g.values())p=p.concat(_.D);return p}return Q(u.i)}function ih(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(y(u)){for(var p=[],_=u.length,A=0;A<_;A++)p.push(u[A]);return p}p=[],_=0;for(A in u)p[_++]=u[A];return p}function Ga(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(y(u)||typeof u=="string"){var p=[];u=u.length;for(var _=0;_<u;_++)p.push(_);return p}p=[],_=0;for(const A in u)p[_++]=A;return p}}}function rl(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(y(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var _=Ga(u),A=ih(u),H=A.length,W=0;W<H;W++)p.call(void 0,A[W],_&&_[W],u)}var na=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rh(u,p){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var A=u[_].indexOf("="),H=null;if(0<=A){var W=u[_].substring(0,A);H=u[_].substring(A+1)}else W=u[_];p(W,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function we(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof we){this.h=u.h,ia(this,u.j),this.o=u.o,this.g=u.g,dr(this,u.s),this.l=u.l;var p=u.i,_=new ji;_.i=p.i,p.g&&(_.g=new Map(p.g),_.h=p.h),Oi(this,_),this.m=u.m}else u&&(p=String(u).match(na))?(this.h=!1,ia(this,p[1]||"",!0),this.o=On(p[2]||""),this.g=On(p[3]||"",!0),dr(this,p[4]),this.l=On(p[5]||"",!0),Oi(this,p[6]||"",!0),this.m=On(p[7]||"")):(this.h=!1,this.i=new ji(null,this.h))}we.prototype.toString=function(){var u=[],p=this.j;p&&u.push(aa(p,al,!0),":");var _=this.g;return(_||p=="file")&&(u.push("//"),(p=this.o)&&u.push(aa(p,al,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(aa(_,_.charAt(0)=="/"?ah:sl,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",aa(_,Fa)),u.join("")};function bn(u){return new we(u)}function ia(u,p,_){u.j=_?On(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function dr(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function Oi(u,p,_){p instanceof ji?(u.i=p,Ho(u.i,u.h)):(_||(p=aa(p,sh)),u.i=new ji(p,u.h))}function ne(u,p,_){u.i.set(p,_)}function ra(u){return ne(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function On(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function aa(u,p,_){return typeof u=="string"?(u=encodeURI(u).replace(p,qo),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function qo(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var al=/[#\/\?@]/g,sl=/[#\?:]/g,ah=/[#\?]/g,sh=/[#\?@]/g,Fa=/#/g;function ji(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function jn(u){u.g||(u.g=new Map,u.h=0,u.i&&rh(u.i,function(p,_){u.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}r=ji.prototype,r.add=function(u,p){jn(this),this.i=null,u=fi(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(p),this.h+=1,this};function Ui(u,p){jn(u),p=fi(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Li(u,p){return jn(u),p=fi(u,p),u.g.has(p)}r.forEach=function(u,p){jn(this),this.g.forEach(function(_,A){_.forEach(function(H){u.call(p,H,A,this)},this)},this)},r.na=function(){jn(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),_=[];for(let A=0;A<p.length;A++){const H=u[A];for(let W=0;W<H.length;W++)_.push(p[A])}return _},r.V=function(u){jn(this);let p=[];if(typeof u=="string")Li(this,u)&&(p=p.concat(this.g.get(fi(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)p=p.concat(u[_])}return p},r.set=function(u,p){return jn(this),this.i=null,u=fi(this,u),Li(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},r.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function ll(u,p,_){Ui(u,p),0<_.length&&(u.i=null,u.g.set(fi(u,p),Q(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var _=0;_<p.length;_++){var A=p[_];const W=encodeURIComponent(String(A)),ht=this.V(A);for(A=0;A<ht.length;A++){var H=W;ht[A]!==""&&(H+="="+encodeURIComponent(String(ht[A]))),u.push(H)}}return this.i=u.join("&")};function fi(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function Ho(u,p){p&&!u.j&&(jn(u),u.i=null,u.g.forEach(function(_,A){var H=A.toLowerCase();A!=H&&(Ui(this,A),ll(this,H,_))},u)),u.j=p}function sa(u,p){const _=new Mn;if(m.Image){const A=new Image;A.onload=M(Un,_,"TestLoadImage: loaded",!0,p,A),A.onerror=M(Un,_,"TestLoadImage: error",!1,p,A),A.onabort=M(Un,_,"TestLoadImage: abort",!1,p,A),A.ontimeout=M(Un,_,"TestLoadImage: timeout",!1,p,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else p(!1)}function Zn(u,p){const _=new Mn,A=new AbortController,H=setTimeout(()=>{A.abort(),Un(_,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:A.signal}).then(W=>{clearTimeout(H),W.ok?Un(_,"TestPingServer: ok",!0,p):Un(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(H),Un(_,"TestPingServer: error",!1,p)})}function Un(u,p,_,A,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),A(_)}catch{}}function la(){this.g=new Wr}function di(u,p,_){const A=_||"";try{rl(u,function(H,W){let ht=H;g(H)&&(ht=$n(H)),p.push(A+W+"="+encodeURIComponent(ht))})}catch(H){throw p.push(A+"type="+encodeURIComponent("_badmap")),H}}function mr(u){this.l=u.Ub||null,this.j=u.eb||!1}V(mr,$s),mr.prototype.g=function(){return new ki(this.l,this.j)},mr.prototype.i=function(u){return function(){return u}}({});function ki(u,p){se.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(ki,se),r=ki.prototype,r.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,pi(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||m).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mi(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,pi(this)),this.g&&(this.readyState=3,pi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ol(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function ol(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?mi(this):pi(this),this.readyState==3&&ol(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,mi(this))},r.Qa=function(u){this.g&&(this.response=u,mi(this))},r.ga=function(){this.g&&mi(this)};function mi(u){u.readyState=4,u.l=null,u.j=null,u.v=null,pi(u)}r.setRequestHeader=function(u,p){this.u.append(u,p)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=p.next();return u.join(`\r
`)};function pi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ki.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ul(u){let p="";return yt(u,function(_,A){p+=A,p+=":",p+=_,p+=`\r
`}),p}function Pe(u,p,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=ul(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):ne(u,p,_))}function Wt(u){se.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(Wt,se);var Qa=/^https?$/i,oa=["POST","PUT"];r=Wt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,p,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ui.g(),this.v=this.o?Xs(this.o):Xs(ui),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(W){Go(this,W);return}if(u=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var H in A)_.set(H,A[H]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const W of A.keys())_.set(W,A.get(W));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(W=>W.toLowerCase()=="content-type"),H=m.FormData&&u instanceof m.FormData,!(0<=Array.prototype.indexOf.call(oa,p,void 0))||A||H||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,ht]of _)this.g.setRequestHeader(W,ht);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ua(this),this.u=!0,this.g.send(u),this.u=!1}catch(W){Go(this,W)}};function Go(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,Ya(u),gi(u)}function Ya(u){u.A||(u.A=!0,Xt(u,"complete"),Xt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Xt(this,"complete"),Xt(this,"abort"),gi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gi(this,!0)),Wt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ka(this):this.bb())},r.bb=function(){Ka(this)};function Ka(u){if(u.h&&typeof f<"u"&&(!u.v[1]||Ln(u)!=4||u.Z()!=2)){if(u.u&&Ln(u)==4)en(u.Ea,0,u);else if(Xt(u,"readystatechange"),Ln(u)==4){u.h=!1;try{const ht=u.Z();t:switch(ht){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var _;if(!(_=p)){var A;if(A=ht===0){var H=String(u.D).match(na)[1]||null;!H&&m.self&&m.self.location&&(H=m.self.location.protocol.slice(0,-1)),A=!Qa.test(H?H.toLowerCase():"")}_=A}if(_)Xt(u,"complete"),Xt(u,"success");else{u.m=6;try{var W=2<Ln(u)?u.g.statusText:""}catch{W=""}u.l=W+" ["+u.Z()+"]",Ya(u)}}finally{gi(u)}}}}function gi(u,p){if(u.g){ua(u);const _=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||Xt(u,"ready");try{_.onreadystatechange=A}catch{}}}function ua(u){u.I&&(m.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function Ln(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<Ln(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),ka(p)}};function Fo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function lh(u){const p={};u=(u.g&&2<=Ln(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(X(u[A]))continue;var _=k(u[A]);const H=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const W=p[H]||[];p[H]=W,W.push(_)}O(p,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ca(u,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||p}function $a(u){this.Aa=0,this.i=[],this.j=new Mn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ca("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ca("baseRetryDelayMs",5e3,u),this.cb=ca("retryDelaySeedMs",1e4,u),this.Wa=ca("forwardChannelMaxRetries",2,u),this.wa=ca("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Mi(u&&u.concurrentRequestLimit),this.Da=new la,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=$a.prototype,r.la=8,r.G=1,r.connect=function(u,p,_,A){de(0),this.W=u,this.H=p||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=Wo(this,null,this.W),Za(this)};function cl(u){if(Qo(u),u.G==3){var p=u.U++,_=bn(u.I);if(ne(_,"SID",u.K),ne(_,"RID",p),ne(_,"TYPE","terminate"),ha(u,_),p=new cn(u,u.j,p),p.L=2,p.v=ra(bn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(p.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=p.v,_=!0),_||(p.g=Jo(p.j,null),p.g.ea(p.v)),p.F=Date.now(),ta(p)}Zo(u)}function Xa(u){u.g&&(fa(u),u.g.cancel(),u.g=null)}function Qo(u){Xa(u),u.u&&(m.clearTimeout(u.u),u.u=null),Wa(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&m.clearTimeout(u.s),u.s=null)}function Za(u){if(!za(u.h)&&!u.s){u.s=!0;var p=u.Ga;$||I(),lt||($(),lt=!0),dt.add(p,u),u.B=0}}function oh(u,p){return qa(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=xe(R(u.Ga,u,p),dl(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const H=new cn(this,this.j,u);let W=this.o;if(this.S&&(W?(W=x(W),j(W,this.S)):W=this.S),this.m!==null||this.O||(H.H=W,W=null),this.P)t:{for(var p=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(p+=A,4096<p){p=_;break t}if(p===4096||_===this.i.length-1){p=_+1;break t}}p=1e3}else p=1e3;p=Yo(this,H,p),_=bn(this.I),ne(_,"RID",u),ne(_,"CVER",22),this.D&&ne(_,"X-HTTP-Session-Id",this.D),ha(this,_),W&&(this.O?p="headers="+encodeURIComponent(String(ul(W)))+"&"+p:this.m&&Pe(_,this.m,W)),Ha(this.h,H),this.Ua&&ne(_,"TYPE","init"),this.P?(ne(_,"$req",p),ne(_,"SID","null"),H.T=!0,Xn(H,_,null)):Xn(H,_,p),this.G=2}}else this.G==3&&(u?hl(this,u):this.i.length==0||za(this.h)||hl(this))};function hl(u,p){var _;p?_=p.l:_=u.U++;const A=bn(u.I);ne(A,"SID",u.K),ne(A,"RID",_),ne(A,"AID",u.T),ha(u,A),u.m&&u.o&&Pe(A,u.m,u.o),_=new cn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),p&&(u.i=p.D.concat(u.i)),p=Yo(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ha(u.h,_),Xn(_,A,p)}function ha(u,p){u.H&&yt(u.H,function(_,A){ne(p,A,_)}),u.l&&rl({},function(_,A){ne(p,A,_)})}function Yo(u,p,_){_=Math.min(u.i.length,_);var A=u.l?R(u.l.Na,u.l,u):null;t:{var H=u.i;let W=-1;for(;;){const ht=["count="+_];W==-1?0<_?(W=H[0].g,ht.push("ofs="+W)):W=0:ht.push("ofs="+W);let Ht=!0;for(let Me=0;Me<_;Me++){let Gt=H[Me].g;const Be=H[Me].map;if(Gt-=W,0>Gt)W=Math.max(0,H[Me].g-100),Ht=!1;else try{di(Be,ht,"req"+Gt+"_")}catch{A&&A(Be)}}if(Ht){A=ht.join("&");break t}}}return u=u.i.splice(0,_),p.D=u,A}function Ko(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;$||I(),lt||($(),lt=!0),dt.add(p,u),u.v=0}}function fl(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=xe(R(u.Fa,u),dl(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,$o(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=xe(R(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,de(10),Xa(this),$o(this))};function fa(u){u.A!=null&&(m.clearTimeout(u.A),u.A=null)}function $o(u){u.g=new cn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=bn(u.qa);ne(p,"RID","rpc"),ne(p,"SID",u.K),ne(p,"AID",u.T),ne(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&ne(p,"TO",u.ja),ne(p,"TYPE","xmlhttp"),ha(u,p),u.m&&u.o&&Pe(p,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=ra(bn(p)),_.m=null,_.P=!0,Ni(_,u)}r.Za=function(){this.C!=null&&(this.C=null,Xa(this),fl(this),de(19))};function Wa(u){u.C!=null&&(m.clearTimeout(u.C),u.C=null)}function Xo(u,p){var _=null;if(u.g==p){Wa(u),fa(u),u.g=null;var A=2}else if(nl(u.h,p))_=p.D,hn(u.h,p),A=1;else return;if(u.G!=0){if(p.o)if(A==1){_=p.m?p.m.length:0,p=Date.now()-p.F;var H=u.B;A=or(),Xt(A,new Ne(A,_)),Za(u)}else Ko(u);else if(H=p.s,H==3||H==0&&0<p.X||!(A==1&&oh(u,p)||A==2&&fl(u)))switch(_&&0<_.length&&(p=u.h,p.i=p.i.concat(_)),H){case 1:Pi(u,5);break;case 4:Pi(u,10);break;case 3:Pi(u,6);break;default:Pi(u,2)}}}function dl(u,p){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*p}function Pi(u,p){if(u.j.info("Error code "+p),p==2){var _=R(u.fb,u),A=u.Xa;const H=!A;A=new we(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ia(A,"https"),ra(A),H?sa(A.toString(),_):Zn(A.toString(),_)}else de(2);u.G=0,u.l&&u.l.sa(p),Zo(u),Qo(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),de(2)):(this.j.info("Failed to ping google.com"),de(1))};function Zo(u){if(u.G=0,u.ka=[],u.l){const p=il(u.h);(p.length!=0||u.i.length!=0)&&(N(u.ka,p),N(u.ka,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.ra()}}function Wo(u,p,_){var A=_ instanceof we?bn(_):new we(_);if(A.g!="")p&&(A.g=p+"."+A.g),dr(A,A.s);else{var H=m.location;A=H.protocol,p=p?p+"."+H.hostname:H.hostname,H=+H.port;var W=new we(null);A&&ia(W,A),p&&(W.g=p),H&&dr(W,H),_&&(W.l=_),A=W}return _=u.D,p=u.ya,_&&p&&ne(A,_,p),ne(A,"VER",u.la),ha(u,A),A}function Jo(u,p,_){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new Wt(new mr({eb:_})):new Wt(u.pa),p.Ha(u.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function tu(){}r=tu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ja(){}Ja.prototype.g=function(u,p){return new fn(u,p)};function fn(u,p){se.call(this),this.g=new $a(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!X(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!X(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new yi(this)}V(fn,se),fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){cl(this.g)},fn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=$n(u),u=_);p.i.push(new zo(p.Ya++,u)),p.G==3&&Za(p)},fn.prototype.N=function(){this.g.l=null,delete this.j,cl(this.g),delete this.g,fn.aa.N.call(this)};function eu(u){Ii.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){t:{for(const _ in p){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}V(eu,Ii);function nu(){Ws.call(this),this.status=1}V(nu,Ws);function yi(u){this.g=u}V(yi,tu),yi.prototype.ua=function(){Xt(this.g,"a")},yi.prototype.ta=function(u){Xt(this.g,new eu(u))},yi.prototype.sa=function(u){Xt(this.g,new nu)},yi.prototype.ra=function(){Xt(this.g,"b")},Ja.prototype.createWebChannel=Ja.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,t0=function(){return new Ja},Jv=function(){return or()},Wv=oi,Rd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},hr.NO_ERROR=0,hr.TIMEOUT=8,hr.HTTP_ERROR=6,hc=hr,Vi.COMPLETE="complete",Zv=Vi,Zs.EventType=Di,Di.OPEN="a",Di.CLOSE="b",Di.ERROR="c",Di.MESSAGE="d",se.prototype.listen=se.prototype.K,ro=Zs,Wt.prototype.listenOnce=Wt.prototype.L,Wt.prototype.getLastError=Wt.prototype.Ka,Wt.prototype.getLastErrorCode=Wt.prototype.Ba,Wt.prototype.getStatus=Wt.prototype.Z,Wt.prototype.getResponseJson=Wt.prototype.Oa,Wt.prototype.getResponseText=Wt.prototype.oa,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Ha,Xv=Wt}).apply(typeof rc<"u"?rc:typeof self<"u"?self:typeof window<"u"?window:{});const A_="@firebase/firestore",R_="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fs="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va=new Hv("@firebase/firestore");function Cs(){return Va.logLevel}function pt(r,...e){if(Va.logLevel<=Yt.DEBUG){const i=e.map(nm);Va.debug(`Firestore (${Fs}): ${r}`,...i)}}function ar(r,...e){if(Va.logLevel<=Yt.ERROR){const i=e.map(nm);Va.error(`Firestore (${Fs}): ${r}`,...i)}}function Os(r,...e){if(Va.logLevel<=Yt.WARN){const i=e.map(nm);Va.warn(`Firestore (${Fs}): ${r}`,...i)}}function nm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(r="Unexpected state"){const e=`FIRESTORE (${Fs}) INTERNAL ASSERTION FAILED: `+r;throw ar(e),new Error(e)}function Jt(r,e){r||xt()}function It(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gt extends Gs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(sn.UNAUTHENTICATED))}shutdown(){}}class gA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class yA{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Jt(this.o===void 0);let s=this.i;const o=y=>this.i!==s?(s=this.i,i(y)):Promise.resolve();let c=new nr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new nr,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const y=c;e.enqueueRetryable(async()=>{await y.promise,await o(this.currentUser)})},m=y=>{pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(y=>m(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new nr)}},0),f()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Jt(typeof s.accessToken=="string"),new e0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Jt(e===null||typeof e=="string"),new sn(e)}}class _A{constructor(e,i,s){this.l=e,this.h=i,this.P=s,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class vA{constructor(e,i,s){this.l=e,this.h=i,this.P=s}getToken(){return Promise.resolve(new _A(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class x_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class EA{constructor(e,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,WS(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,i){Jt(this.o===void 0);const s=c=>{c.error!=null&&pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.R;return this.R=c.token,pt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const o=c=>{pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?o(c):pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new x_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Jt(typeof i.token=="string"),this.R=i.token,new x_(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=TA(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<i&&(s+=e.charAt(o[c]%62))}return s}}function jt(r,e){return r<e?-1:r>e?1:0}function xd(r,e){let i=0;for(;i<r.length&&i<e.length;){const s=r.codePointAt(i),o=e.codePointAt(i);if(s!==o){if(s<128&&o<128)return jt(s,o);{const c=n0(),f=bA(c.encode(w_(r,i)),c.encode(w_(e,i)));return f!==0?f:jt(s,o)}}i+=s>65535?2:1}return jt(r.length,e.length)}function w_(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function bA(r,e){for(let i=0;i<r.length&&i<e.length;++i)if(r[i]!==e[i])return jt(r[i],e[i]);return jt(r.length,e.length)}function js(r,e,i){return r.length===e.length&&r.every((s,o)=>i(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_=-62135596800,D_=1e6;class Le{static now(){return Le.fromMillis(Date.now())}static fromDate(e){return Le.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*D_);return new Le(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new gt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new gt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<C_)throw new gt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new gt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/D_}_compareTo(e){return this.seconds===e.seconds?jt(this.nanoseconds,e.nanoseconds):jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-C_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{static fromTimestamp(e){return new Ct(e)}static min(){return new Ct(new Le(0,0))}static max(){return new Ct(new Le(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="__name__";class Ai{constructor(e,i,s){i===void 0?i=0:i>e.length&&xt(),s===void 0?s=e.length-i:s>e.length-i&&xt(),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Ai.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ai?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const c=Ai.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return jt(e.length,i.length)}static compareSegments(e,i){const s=Ai.isNumericId(e),o=Ai.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?Ai.extractNumericId(e).compare(Ai.extractNumericId(i)):xd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Pr.fromString(e.substring(4,e.length-2))}}class he extends Ai{construct(e,i,s){return new he(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new gt(rt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new he(i)}static emptyPath(){return new he([])}}const SA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class We extends Ai{construct(e,i,s){return new We(e,i,s)}static isValidIdentifier(e){return SA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),We.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===I_}static keyField(){return new We([I_])}static fromServerFormat(e){const i=[];let s="",o=0;const c=()=>{if(s.length===0)throw new gt(rt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new gt(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new gt(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(c(),o++)}if(c(),f)throw new gt(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new We(i)}static emptyPath(){return new We([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.path=e}static fromPath(e){return new Tt(he.fromString(e))}static fromName(e){return new Tt(he.fromString(e).popFirst(5))}static empty(){return new Tt(he.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&he.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return he.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Tt(new he(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go=-1;function AA(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ct.fromTimestamp(s===1e9?new Le(i+1,0):new Le(i,s));return new zr(o,Tt.empty(),e)}function RA(r){return new zr(r.readTime,r.key,go)}class zr{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new zr(Ct.min(),Tt.empty(),go)}static max(){return new zr(Ct.max(),Tt.empty(),go)}}function xA(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=Tt.comparator(r.documentKey,e.documentKey),i!==0?i:jt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qs(r){if(r.code!==rt.FAILED_PRECONDITION||r.message!==wA)throw r;pt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&xt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new at((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof at?i:at.resolve(i)}catch(i){return at.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):at.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):at.reject(i)}static resolve(e){return new at((i,s)=>{i(e)})}static reject(e){return new at((i,s)=>{s(e)})}static waitFor(e){return new at((i,s)=>{let o=0,c=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++c,f&&c===o&&i()},y=>s(y))}),f=!0,c===o&&i()})}static or(e){let i=at.resolve(!1);for(const s of e)i=i.next(o=>o?at.resolve(o):s());return i}static forEach(e,i){const s=[];return e.forEach((o,c)=>{s.push(i.call(this,o,c))}),this.waitFor(s)}static mapArray(e,i){return new at((s,o)=>{const c=e.length,f=new Array(c);let m=0;for(let y=0;y<c;y++){const g=y;i(e[g]).next(E=>{f[g]=E,++m,m===c&&s(f)},E=>o(E))}})}static doWhile(e,i){return new at((s,o)=>{const c=()=>{e()===!0?i().next(()=>{c()},o):s()};c()})}}function DA(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ys(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.oe(s),this._e=s=>i.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Lc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im=-1;function kc(r){return r==null}function bc(r){return r===0&&1/r==-1/0}function IA(r){return typeof r=="number"&&Number.isInteger(r)&&!bc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="";function VA(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=V_(e)),e=NA(r.get(i),e);return V_(e)}function NA(r,e){let i=e;const s=r.length;for(let o=0;o<s;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case r0:i+="";break;default:i+=c}}return i}function V_(r){return r+r0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N_(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Yr(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function a0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e,i){this.comparator=e,this.root=i||Ze.EMPTY}insert(e,i){return new _e(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Ze.BLACK,null,null))}remove(e){return new _e(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ze.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ac(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ac(this.root,e,this.comparator,!1)}getReverseIterator(){return new ac(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ac(this.root,e,this.comparator,!0)}}class ac{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ze{constructor(e,i,s,o,c){this.key=e,this.value=i,this.color=s??Ze.RED,this.left=o??Ze.EMPTY,this.right=c??Ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,c){return new Ze(e??this.key,i??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,s),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Ze.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xt();const e=this.left.check();if(e!==this.right.check())throw xt();return e+(this.isRed()?0:1)}}Ze.EMPTY=null,Ze.RED=!0,Ze.BLACK=!1;Ze.EMPTY=new class{constructor(){this.size=0}get key(){throw xt()}get value(){throw xt()}get color(){throw xt()}get left(){throw xt()}get right(){throw xt()}copy(e,i,s,o,c){return this}insert(e,i,s){return new Ze(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.comparator=e,this.data=new _e(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new M_(this.data.getIterator())}getIteratorFrom(e){return new M_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof ke)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new ke(this.comparator);return i.data=e,i}}class M_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.fields=e,e.sort(We.comparator)}static empty(){return new In([])}unionWith(e){let i=new ke(We.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new In(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return js(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new s0("Invalid base64 string: "+c):c}}(e);return new tn(i)}static fromUint8Array(e){const i=function(o){let c="";for(let f=0;f<o.length;++f)c+=String.fromCharCode(o[f]);return c}(e);return new tn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const MA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qr(r){if(Jt(!!r),typeof r=="string"){let e=0;const i=MA.exec(r);if(Jt(!!i),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Re(r.seconds),nanos:Re(r.nanos)}}function Re(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Hr(r){return typeof r=="string"?tn.fromBase64String(r):tn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0="server_timestamp",o0="__type__",u0="__previous_value__",c0="__local_write_time__";function rm(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[o0])===null||i===void 0?void 0:i.stringValue)===l0}function Pc(r){const e=r.mapValue.fields[u0];return rm(e)?Pc(e):e}function yo(r){const e=qr(r.mapValue.fields[c0].timestampValue);return new Le(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e,i,s,o,c,f,m,y,g){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=g}}const Sc="(default)";class _o{constructor(e,i){this.projectId=e,this.database=i||Sc}static empty(){return new _o("","")}get isDefaultDatabase(){return this.database===Sc}isEqual(e){return e instanceof _o&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0="__type__",jA="__max__",sc={mapValue:{}},f0="__vector__",Ac="value";function Gr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?rm(r)?4:LA(r)?9007199254740991:UA(r)?10:11:xt()}function wi(r,e){if(r===e)return!0;const i=Gr(r);if(i!==Gr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return yo(r).isEqual(yo(e));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const f=qr(o.timestampValue),m=qr(c.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,c){return Hr(o.bytesValue).isEqual(Hr(c.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,c){return Re(o.geoPointValue.latitude)===Re(c.geoPointValue.latitude)&&Re(o.geoPointValue.longitude)===Re(c.geoPointValue.longitude)}(r,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return Re(o.integerValue)===Re(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const f=Re(o.doubleValue),m=Re(c.doubleValue);return f===m?bc(f)===bc(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return js(r.arrayValue.values||[],e.arrayValue.values||[],wi);case 10:case 11:return function(o,c){const f=o.mapValue.fields||{},m=c.mapValue.fields||{};if(N_(f)!==N_(m))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(m[y]===void 0||!wi(f[y],m[y])))return!1;return!0}(r,e);default:return xt()}}function vo(r,e){return(r.values||[]).find(i=>wi(i,e))!==void 0}function Us(r,e){if(r===e)return 0;const i=Gr(r),s=Gr(e);if(i!==s)return jt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return jt(r.booleanValue,e.booleanValue);case 2:return function(c,f){const m=Re(c.integerValue||c.doubleValue),y=Re(f.integerValue||f.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1}(r,e);case 3:return O_(r.timestampValue,e.timestampValue);case 4:return O_(yo(r),yo(e));case 5:return xd(r.stringValue,e.stringValue);case 6:return function(c,f){const m=Hr(c),y=Hr(f);return m.compareTo(y)}(r.bytesValue,e.bytesValue);case 7:return function(c,f){const m=c.split("/"),y=f.split("/");for(let g=0;g<m.length&&g<y.length;g++){const E=jt(m[g],y[g]);if(E!==0)return E}return jt(m.length,y.length)}(r.referenceValue,e.referenceValue);case 8:return function(c,f){const m=jt(Re(c.latitude),Re(f.latitude));return m!==0?m:jt(Re(c.longitude),Re(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return j_(r.arrayValue,e.arrayValue);case 10:return function(c,f){var m,y,g,E;const S=c.fields||{},R=f.fields||{},M=(m=S[Ac])===null||m===void 0?void 0:m.arrayValue,V=(y=R[Ac])===null||y===void 0?void 0:y.arrayValue,Q=jt(((g=M==null?void 0:M.values)===null||g===void 0?void 0:g.length)||0,((E=V==null?void 0:V.values)===null||E===void 0?void 0:E.length)||0);return Q!==0?Q:j_(M,V)}(r.mapValue,e.mapValue);case 11:return function(c,f){if(c===sc.mapValue&&f===sc.mapValue)return 0;if(c===sc.mapValue)return 1;if(f===sc.mapValue)return-1;const m=c.fields||{},y=Object.keys(m),g=f.fields||{},E=Object.keys(g);y.sort(),E.sort();for(let S=0;S<y.length&&S<E.length;++S){const R=xd(y[S],E[S]);if(R!==0)return R;const M=Us(m[y[S]],g[E[S]]);if(M!==0)return M}return jt(y.length,E.length)}(r.mapValue,e.mapValue);default:throw xt()}}function O_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return jt(r,e);const i=qr(r),s=qr(e),o=jt(i.seconds,s.seconds);return o!==0?o:jt(i.nanos,s.nanos)}function j_(r,e){const i=r.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const c=Us(i[o],s[o]);if(c)return c}return jt(i.length,s.length)}function Ls(r){return wd(r)}function wd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const s=qr(i);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return Hr(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return Tt.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let s="[",o=!0;for(const c of i.values||[])o?o=!1:s+=",",s+=wd(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const f of s)c?c=!1:o+=",",o+=`${f}:${wd(i.fields[f])}`;return o+"}"}(r.mapValue):xt()}function fc(r){switch(Gr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Pc(r);return e?16+fc(e):16;case 5:return 2*r.stringValue.length;case 6:return Hr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,c)=>o+fc(c),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Yr(s.fields,(c,f)=>{o+=c.length+fc(f)}),o}(r.mapValue);default:throw xt()}}function U_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Cd(r){return!!r&&"integerValue"in r}function am(r){return!!r&&"arrayValue"in r}function L_(r){return!!r&&"nullValue"in r}function k_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function dc(r){return!!r&&"mapValue"in r}function UA(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[h0])===null||i===void 0?void 0:i.stringValue)===f0}function oo(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Yr(r.mapValue.fields,(i,s)=>e.mapValue.fields[i]=oo(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=oo(r.arrayValue.values[i]);return e}return Object.assign({},r)}function LA(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===jA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!dc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=oo(i)}setAll(e){let i=We.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!i.isImmediateParentOf(m)){const y=this.getFieldsMap(i);this.applyChanges(y,s,o),s={},o=[],i=m.popLast()}f?s[m.lastSegment()]=oo(f):o.push(m.lastSegment())});const c=this.getFieldsMap(i);this.applyChanges(c,s,o)}delete(e){const i=this.field(e.popLast());dc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return wi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];dc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Yr(i,(o,c)=>e[o]=c);for(const o of s)delete e[o]}clone(){return new En(oo(this.value))}}function d0(r){const e=[];return Yr(r.fields,(i,s)=>{const o=new We([i]);if(dc(s)){const c=d0(s.mapValue).fields;if(c.length===0)e.push(o);else for(const f of c)e.push(o.child(f))}else e.push(o)}),new In(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,i,s,o,c,f,m){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=c,this.data=f,this.documentState=m}static newInvalidDocument(e){return new ln(e,0,Ct.min(),Ct.min(),Ct.min(),En.empty(),0)}static newFoundDocument(e,i,s,o){return new ln(e,1,i,Ct.min(),s,o,0)}static newNoDocument(e,i){return new ln(e,2,i,Ct.min(),Ct.min(),En.empty(),0)}static newUnknownDocument(e,i){return new ln(e,3,i,Ct.min(),Ct.min(),En.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ct.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,i){this.position=e,this.inclusive=i}}function P_(r,e,i){let s=0;for(let o=0;o<r.position.length;o++){const c=e[o],f=r.position[o];if(c.field.isKeyField()?s=Tt.comparator(Tt.fromName(f.referenceValue),i.key):s=Us(f,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function B_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!wi(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,i="asc"){this.field=e,this.dir=i}}function kA(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{}class Ve extends m0{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new BA(e,i,s):i==="array-contains"?new HA(e,s):i==="in"?new GA(e,s):i==="not-in"?new FA(e,s):i==="array-contains-any"?new QA(e,s):new Ve(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new zA(e,s):new qA(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(Us(i,this.value)):i!==null&&Gr(this.value)===Gr(i)&&this.matchesComparison(Us(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ni extends m0{constructor(e,i){super(),this.filters=e,this.op=i,this.ce=null}static create(e,i){return new ni(e,i)}matches(e){return p0(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function p0(r){return r.op==="and"}function g0(r){return PA(r)&&p0(r)}function PA(r){for(const e of r.filters)if(e instanceof ni)return!1;return!0}function Dd(r){if(r instanceof Ve)return r.field.canonicalString()+r.op.toString()+Ls(r.value);if(g0(r))return r.filters.map(e=>Dd(e)).join(",");{const e=r.filters.map(i=>Dd(i)).join(",");return`${r.op}(${e})`}}function y0(r,e){return r instanceof Ve?function(s,o){return o instanceof Ve&&s.op===o.op&&s.field.isEqual(o.field)&&wi(s.value,o.value)}(r,e):r instanceof ni?function(s,o){return o instanceof ni&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((c,f,m)=>c&&y0(f,o.filters[m]),!0):!1}(r,e):void xt()}function _0(r){return r instanceof Ve?function(i){return`${i.field.canonicalString()} ${i.op} ${Ls(i.value)}`}(r):r instanceof ni?function(i){return i.op.toString()+" {"+i.getFilters().map(_0).join(" ,")+"}"}(r):"Filter"}class BA extends Ve{constructor(e,i,s){super(e,i,s),this.key=Tt.fromName(s.referenceValue)}matches(e){const i=Tt.comparator(e.key,this.key);return this.matchesComparison(i)}}class zA extends Ve{constructor(e,i){super(e,"in",i),this.keys=v0("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class qA extends Ve{constructor(e,i){super(e,"not-in",i),this.keys=v0("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function v0(r,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>Tt.fromName(s.referenceValue))}class HA extends Ve{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return am(i)&&vo(i.arrayValue,this.value)}}class GA extends Ve{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&vo(this.value.arrayValue,i)}}class FA extends Ve{constructor(e,i){super(e,"not-in",i)}matches(e){if(vo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!vo(this.value.arrayValue,i)}}class QA extends Ve{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!am(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>vo(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,i=null,s=[],o=[],c=null,f=null,m=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=f,this.endAt=m,this.le=null}}function z_(r,e=null,i=[],s=[],o=null,c=null,f=null){return new YA(r,e,i,s,o,c,f)}function sm(r){const e=It(r);if(e.le===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>Dd(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),kc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>Ls(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>Ls(s)).join(",")),e.le=i}return e.le}function lm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!kA(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!y0(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!B_(r.startAt,e.startAt)&&B_(r.endAt,e.endAt)}function Id(r){return Tt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,i=null,s=[],o=[],c=null,f="F",m=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=f,this.startAt=m,this.endAt=y,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function KA(r,e,i,s,o,c,f,m){return new Ro(r,e,i,s,o,c,f,m)}function Bc(r){return new Ro(r)}function q_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function E0(r){return r.collectionGroup!==null}function uo(r){const e=It(r);if(e.he===null){e.he=[];const i=new Set;for(const c of e.explicitOrderBy)e.he.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new ke(We.comparator);return f.filters.forEach(y=>{y.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(c=>{i.has(c.canonicalString())||c.isKeyField()||e.he.push(new xc(c,s))}),i.has(We.keyField().canonicalString())||e.he.push(new xc(We.keyField(),s))}return e.he}function Ri(r){const e=It(r);return e.Pe||(e.Pe=$A(e,uo(r))),e.Pe}function $A(r,e){if(r.limitType==="F")return z_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new xc(o.field,c)});const i=r.endAt?new Rc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Rc(r.startAt.position,r.startAt.inclusive):null;return z_(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function Vd(r,e){const i=r.filters.concat([e]);return new Ro(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function Nd(r,e,i){return new Ro(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function zc(r,e){return lm(Ri(r),Ri(e))&&r.limitType===e.limitType}function T0(r){return`${sm(Ri(r))}|lt:${r.limitType}`}function Ds(r){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>_0(o)).join(", ")}]`),kc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>Ls(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>Ls(o)).join(",")),`Target(${s})`}(Ri(r))}; limitType=${r.limitType})`}function qc(r,e){return e.isFoundDocument()&&function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):Tt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,e)&&function(s,o){for(const c of uo(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,y){const g=P_(f,m,y);return f.inclusive?g<=0:g<0}(s.startAt,uo(s),o)||s.endAt&&!function(f,m,y){const g=P_(f,m,y);return f.inclusive?g>=0:g>0}(s.endAt,uo(s),o))}(r,e)}function XA(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function b0(r){return(e,i)=>{let s=!1;for(const o of uo(r)){const c=ZA(o,e,i);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function ZA(r,e,i){const s=r.field.isKeyField()?Tt.comparator(e.key,i.key):function(c,f,m){const y=f.data.field(c),g=m.data.field(c);return y!==null&&g!==null?Us(y,g):xt()}(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return xt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Yr(this.inner,(i,s)=>{for(const[o,c]of s)e(o,c)})}isEmpty(){return a0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA=new _e(Tt.comparator);function sr(){return WA}const S0=new _e(Tt.comparator);function ao(...r){let e=S0;for(const i of r)e=e.insert(i.key,i);return e}function A0(r){let e=S0;return r.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function Ia(){return co()}function R0(){return co()}function co(){return new ja(r=>r.toString(),(r,e)=>r.isEqual(e))}const JA=new _e(Tt.comparator),tR=new ke(Tt.comparator);function Bt(...r){let e=tR;for(const i of r)e=e.add(i);return e}const eR=new ke(jt);function nR(){return eR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bc(e)?"-0":e}}function x0(r){return{integerValue:""+r}}function iR(r,e){return IA(e)?x0(e):om(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(){this._=void 0}}function rR(r,e,i){return r instanceof Eo?function(o,c){const f={fields:{[o0]:{stringValue:l0},[c0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&rm(c)&&(c=Pc(c)),c&&(f.fields[u0]=c),{mapValue:f}}(i,e):r instanceof To?C0(r,e):r instanceof bo?D0(r,e):function(o,c){const f=w0(o,c),m=H_(f)+H_(o.Ie);return Cd(f)&&Cd(o.Ie)?x0(m):om(o.serializer,m)}(r,e)}function aR(r,e,i){return r instanceof To?C0(r,e):r instanceof bo?D0(r,e):i}function w0(r,e){return r instanceof wc?function(s){return Cd(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class Eo extends Hc{}class To extends Hc{constructor(e){super(),this.elements=e}}function C0(r,e){const i=I0(e);for(const s of r.elements)i.some(o=>wi(o,s))||i.push(s);return{arrayValue:{values:i}}}class bo extends Hc{constructor(e){super(),this.elements=e}}function D0(r,e){let i=I0(e);for(const s of r.elements)i=i.filter(o=>!wi(o,s));return{arrayValue:{values:i}}}class wc extends Hc{constructor(e,i){super(),this.serializer=e,this.Ie=i}}function H_(r){return Re(r.integerValue||r.doubleValue)}function I0(r){return am(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,i){this.field=e,this.transform=i}}function lR(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof To&&o instanceof To||s instanceof bo&&o instanceof bo?js(s.elements,o.elements,wi):s instanceof wc&&o instanceof wc?wi(s.Ie,o.Ie):s instanceof Eo&&o instanceof Eo}(r.transform,e.transform)}class oR{constructor(e,i){this.version=e,this.transformResults=i}}class mn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new mn}static exists(e){return new mn(void 0,e)}static updateTime(e){return new mn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Gc{}function V0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Fc(r.key,mn.none()):new xo(r.key,r.data,mn.none());{const i=r.data,s=En.empty();let o=new ke(We.comparator);for(let c of e.fields)if(!o.has(c)){let f=i.field(c);f===null&&c.length>1&&(c=c.popLast(),f=i.field(c)),f===null?s.delete(c):s.set(c,f),o=o.add(c)}return new Kr(r.key,s,new In(o.toArray()),mn.none())}}function uR(r,e,i){r instanceof xo?function(o,c,f){const m=o.value.clone(),y=F_(o.fieldTransforms,c,f.transformResults);m.setAll(y),c.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,i):r instanceof Kr?function(o,c,f){if(!mc(o.precondition,c))return void c.convertToUnknownDocument(f.version);const m=F_(o.fieldTransforms,c,f.transformResults),y=c.data;y.setAll(N0(o)),y.setAll(m),c.convertToFoundDocument(f.version,y).setHasCommittedMutations()}(r,e,i):function(o,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,i)}function ho(r,e,i,s){return r instanceof xo?function(c,f,m,y){if(!mc(c.precondition,f))return m;const g=c.value.clone(),E=Q_(c.fieldTransforms,y,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,e,i,s):r instanceof Kr?function(c,f,m,y){if(!mc(c.precondition,f))return m;const g=Q_(c.fieldTransforms,y,f),E=f.data;return E.setAll(N0(c)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(S=>S.field))}(r,e,i,s):function(c,f,m){return mc(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,i)}function cR(r,e){let i=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),c=w0(s.transform,o||null);c!=null&&(i===null&&(i=En.empty()),i.set(s.field,c))}return i||null}function G_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&js(s,o,(c,f)=>lR(c,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class xo extends Gc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Kr extends Gc{constructor(e,i,s,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function N0(r){const e=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}}),e}function F_(r,e,i){const s=new Map;Jt(r.length===i.length);for(let o=0;o<i.length;o++){const c=r[o],f=c.transform,m=e.data.field(c.field);s.set(c.field,aR(f,m,i[o]))}return s}function Q_(r,e,i){const s=new Map;for(const o of r){const c=o.transform,f=i.data.field(o.field);s.set(o.field,rR(c,f,e))}return s}class Fc extends Gc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hR extends Gc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&uR(c,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=ho(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=ho(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=R0();return this.mutations.forEach(o=>{const c=e.get(o.key),f=c.overlayedDocument;let m=this.applyToLocalView(f,c.mutatedFields);m=i.has(o.key)?null:m;const y=V0(f,m);y!==null&&s.set(o.key,y),f.isValidDocument()||f.convertToNoDocument(Ct.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Bt())}isEqual(e){return this.batchId===e.batchId&&js(this.mutations,e.mutations,(i,s)=>G_(i,s))&&js(this.baseMutations,e.baseMutations,(i,s)=>G_(i,s))}}class um{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Jt(e.mutations.length===s.length);let o=function(){return JA}();const c=e.mutations;for(let f=0;f<c.length;f++)o=o.insert(c[f].key,s[f].version);return new um(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie,Qt;function pR(r){switch(r){case rt.OK:return xt();case rt.CANCELLED:case rt.UNKNOWN:case rt.DEADLINE_EXCEEDED:case rt.RESOURCE_EXHAUSTED:case rt.INTERNAL:case rt.UNAVAILABLE:case rt.UNAUTHENTICATED:return!1;case rt.INVALID_ARGUMENT:case rt.NOT_FOUND:case rt.ALREADY_EXISTS:case rt.PERMISSION_DENIED:case rt.FAILED_PRECONDITION:case rt.ABORTED:case rt.OUT_OF_RANGE:case rt.UNIMPLEMENTED:case rt.DATA_LOSS:return!0;default:return xt()}}function M0(r){if(r===void 0)return ar("GRPC error has no .code"),rt.UNKNOWN;switch(r){case Ie.OK:return rt.OK;case Ie.CANCELLED:return rt.CANCELLED;case Ie.UNKNOWN:return rt.UNKNOWN;case Ie.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case Ie.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case Ie.INTERNAL:return rt.INTERNAL;case Ie.UNAVAILABLE:return rt.UNAVAILABLE;case Ie.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case Ie.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case Ie.NOT_FOUND:return rt.NOT_FOUND;case Ie.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case Ie.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case Ie.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case Ie.ABORTED:return rt.ABORTED;case Ie.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case Ie.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case Ie.DATA_LOSS:return rt.DATA_LOSS;default:return xt()}}(Qt=Ie||(Ie={}))[Qt.OK=0]="OK",Qt[Qt.CANCELLED=1]="CANCELLED",Qt[Qt.UNKNOWN=2]="UNKNOWN",Qt[Qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qt[Qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qt[Qt.NOT_FOUND=5]="NOT_FOUND",Qt[Qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qt[Qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qt[Qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qt[Qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qt[Qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qt[Qt.ABORTED=10]="ABORTED",Qt[Qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qt[Qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qt[Qt.INTERNAL=13]="INTERNAL",Qt[Qt.UNAVAILABLE=14]="UNAVAILABLE",Qt[Qt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR=new Pr([4294967295,4294967295],0);function Y_(r){const e=n0().encode(r),i=new $v;return i.update(e),new Uint8Array(i.digest())}function K_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Pr([i,s],0),new Pr([o,c],0)]}class cm{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new so(`Invalid padding: ${i}`);if(s<0)throw new so(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new so(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new so(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*e.length-i,this.de=Pr.fromNumber(this.Ee)}Ae(e,i,s){let o=e.add(i.multiply(Pr.fromNumber(s)));return o.compare(gR)===1&&(o=new Pr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const i=Y_(e),[s,o]=K_(i);for(let c=0;c<this.hashCount;c++){const f=this.Ae(s,o,c);if(!this.Re(f))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new cm(c,o,i);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const i=Y_(e),[s,o]=K_(i);for(let c=0;c<this.hashCount;c++){const f=this.Ae(s,o,c);this.Ve(f)}}Ve(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class so extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,i,s,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,wo.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Qc(Ct.min(),o,new _e(jt),sr(),Bt())}}class wo{constructor(e,i,s,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new wo(s,i,Bt(),Bt(),Bt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,i,s,o){this.me=e,this.removedTargetIds=i,this.key=s,this.fe=o}}class O0{constructor(e,i){this.targetId=e,this.ge=i}}class j0{constructor(e,i,s=tn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class $_{constructor(){this.pe=0,this.ye=X_(),this.we=tn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Bt(),i=Bt(),s=Bt();return this.ye.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:xt()}}),new wo(this.we,this.Se,e,i,s)}Me(){this.be=!1,this.ye=X_()}xe(e,i){this.be=!0,this.ye=this.ye.insert(e,i)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Jt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class yR{constructor(e){this.ke=e,this.qe=new Map,this.Qe=sr(),this.$e=lc(),this.Ue=lc(),this.Ke=new _e(jt)}We(e){for(const i of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(i,e.fe):this.ze(i,e.key,e.fe);for(const i of e.removedTargetIds)this.ze(i,e.key,e.fe)}je(e){this.forEachTarget(e,i=>{const s=this.He(i);switch(e.state){case 0:this.Je(i)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(i);break;case 3:this.Je(i)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),s.Ce(e.resumeToken));break;default:xt()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.qe.forEach((s,o)=>{this.Je(o)&&i(o)})}Ze(e){const i=e.targetId,s=e.ge.count,o=this.Xe(i);if(o){const c=o.target;if(Id(c))if(s===0){const f=new Tt(c.path);this.ze(i,f,ln.newNoDocument(f,Ct.min()))}else Jt(s===1);else{const f=this.et(i);if(f!==s){const m=this.tt(e),y=m?this.nt(m,e,f):1;if(y!==0){this.Ye(i);const g=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(i,g)}}}}}tt(e){const i=e.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=i;let f,m;try{f=Hr(s).toUint8Array()}catch(y){if(y instanceof s0)return Os("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new cm(f,o,c)}catch(y){return Os(y instanceof so?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.Ee===0?null:m}nt(e,i,s){return i.ge.count===s-this.st(e,i.targetId)?0:2}st(e,i){const s=this.ke.getRemoteKeysForTarget(i);let o=0;return s.forEach(c=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.ze(i,c,null),o++)}),o}ot(e){const i=new Map;this.qe.forEach((c,f)=>{const m=this.Xe(f);if(m){if(c.current&&Id(m.target)){const y=new Tt(m.target.path);this._t(y).has(f)||this.ut(f,y)||this.ze(f,y,ln.newNoDocument(y,e))}c.ve&&(i.set(f,c.Fe()),c.Me())}});let s=Bt();this.Ue.forEach((c,f)=>{let m=!0;f.forEachWhile(y=>{const g=this.Xe(y);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(c))}),this.Qe.forEach((c,f)=>f.setReadTime(e));const o=new Qc(e,i,this.Ke,this.Qe,s);return this.Qe=sr(),this.$e=lc(),this.Ue=lc(),this.Ke=new _e(jt),o}Ge(e,i){if(!this.Je(e))return;const s=this.ut(e,i.key)?2:0;this.He(e).xe(i.key,s),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(e)),this.Ue=this.Ue.insert(i.key,this.ct(i.key).add(e))}ze(e,i,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,i)?o.xe(i,1):o.Oe(i),this.Ue=this.Ue.insert(i,this.ct(i).delete(e)),this.Ue=this.Ue.insert(i,this.ct(i).add(e)),s&&(this.Qe=this.Qe.insert(i,s))}removeTarget(e){this.qe.delete(e)}et(e){const i=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let i=this.qe.get(e);return i||(i=new $_,this.qe.set(e,i)),i}ct(e){let i=this.Ue.get(e);return i||(i=new ke(jt),this.Ue=this.Ue.insert(e,i)),i}_t(e){let i=this.$e.get(e);return i||(i=new ke(jt),this.$e=this.$e.insert(e,i)),i}Je(e){const i=this.Xe(e)!==null;return i||pt("WatchChangeAggregator","Detected inactive target",e),i}Xe(e){const i=this.qe.get(e);return i&&i.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new $_),this.ke.getRemoteKeysForTarget(e).forEach(i=>{this.ze(e,i,null)})}ut(e,i){return this.ke.getRemoteKeysForTarget(e).has(i)}}function lc(){return new _e(Tt.comparator)}function X_(){return new _e(Tt.comparator)}const _R={asc:"ASCENDING",desc:"DESCENDING"},vR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ER={and:"AND",or:"OR"};class TR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Md(r,e){return r.useProto3Json||kc(e)?e:{value:e}}function Cc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function U0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function bR(r,e){return Cc(r,e.toTimestamp())}function xi(r){return Jt(!!r),Ct.fromTimestamp(function(i){const s=qr(i);return new Le(s.seconds,s.nanos)}(r))}function hm(r,e){return Od(r,e).canonicalString()}function Od(r,e){const i=function(o){return new he(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?i:i.child(e)}function L0(r){const e=he.fromString(r);return Jt(q0(e)),e}function jd(r,e){return hm(r.databaseId,e.path)}function fd(r,e){const i=L0(e);if(i.get(1)!==r.databaseId.projectId)throw new gt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new gt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new Tt(P0(i))}function k0(r,e){return hm(r.databaseId,e)}function SR(r){const e=L0(r);return e.length===4?he.emptyPath():P0(e)}function Ud(r){return new he(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function P0(r){return Jt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Z_(r,e,i){return{name:jd(r,e),fields:i.value.mapValue.fields}}function AR(r,e){let i;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:xt()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=function(g,E){return g.useProto3Json?(Jt(E===void 0||typeof E=="string"),tn.fromBase64String(E||"")):(Jt(E===void 0||E instanceof Buffer||E instanceof Uint8Array),tn.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const E=g.code===void 0?rt.UNKNOWN:M0(g.code);return new gt(E,g.message||"")}(f);i=new j0(s,o,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=fd(r,s.document.name),c=xi(s.document.updateTime),f=s.document.createTime?xi(s.document.createTime):Ct.min(),m=new En({mapValue:{fields:s.document.fields}}),y=ln.newFoundDocument(o,c,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];i=new pc(g,E,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=fd(r,s.document),c=s.readTime?xi(s.readTime):Ct.min(),f=ln.newNoDocument(o,c),m=s.removedTargetIds||[];i=new pc([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=fd(r,s.document),c=s.removedTargetIds||[];i=new pc([],c,o,null)}else{if(!("filter"in e))return xt();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,f=new mR(o,c),m=s.targetId;i=new O0(m,f)}}return i}function RR(r,e){let i;if(e instanceof xo)i={update:Z_(r,e.key,e.value)};else if(e instanceof Fc)i={delete:jd(r,e.key)};else if(e instanceof Kr)i={update:Z_(r,e.key,e.data),updateMask:OR(e.fieldMask)};else{if(!(e instanceof hR))return xt();i={verify:jd(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(c,f){const m=f.transform;if(m instanceof Eo)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof To)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof bo)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof wc)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw xt()}(0,s))),e.precondition.isNone||(i.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:bR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:xt()}(r,e.precondition)),i}function xR(r,e){return r&&r.length>0?(Jt(e!==void 0),r.map(i=>function(o,c){let f=o.updateTime?xi(o.updateTime):xi(c);return f.isEqual(Ct.min())&&(f=xi(c)),new oR(f,o.transformResults||[])}(i,e))):[]}function wR(r,e){return{documents:[k0(r,e.path)]}}function CR(r,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=k0(r,o);const c=function(g){if(g.length!==0)return z0(ni.create(g,"and"))}(e.filters);c&&(i.structuredQuery.where=c);const f=function(g){if(g.length!==0)return g.map(E=>function(R){return{field:Is(R.field),direction:VR(R.dir)}}(E))}(e.orderBy);f&&(i.structuredQuery.orderBy=f);const m=Md(r,e.limit);return m!==null&&(i.structuredQuery.limit=m),e.startAt&&(i.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:i,parent:o}}function DR(r){let e=SR(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Jt(s===1);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];i.where&&(c=function(S){const R=B0(S);return R instanceof ni&&g0(R)?R.getFilters():[R]}(i.where));let f=[];i.orderBy&&(f=function(S){return S.map(R=>function(V){return new xc(Vs(V.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction))}(R))}(i.orderBy));let m=null;i.limit&&(m=function(S){let R;return R=typeof S=="object"?S.value:S,kc(R)?null:R}(i.limit));let y=null;i.startAt&&(y=function(S){const R=!!S.before,M=S.values||[];return new Rc(M,R)}(i.startAt));let g=null;return i.endAt&&(g=function(S){const R=!S.before,M=S.values||[];return new Rc(M,R)}(i.endAt)),KA(e,o,f,c,m,"F",y,g)}function IR(r,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xt()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function B0(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Vs(i.unaryFilter.field);return Ve.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Vs(i.unaryFilter.field);return Ve.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Vs(i.unaryFilter.field);return Ve.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Vs(i.unaryFilter.field);return Ve.create(f,"!=",{nullValue:"NULL_VALUE"});default:return xt()}}(r):r.fieldFilter!==void 0?function(i){return Ve.create(Vs(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xt()}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return ni.create(i.compositeFilter.filters.map(s=>B0(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return xt()}}(i.compositeFilter.op))}(r):xt()}function VR(r){return _R[r]}function NR(r){return vR[r]}function MR(r){return ER[r]}function Is(r){return{fieldPath:r.canonicalString()}}function Vs(r){return We.fromServerFormat(r.fieldPath)}function z0(r){return r instanceof Ve?function(i){if(i.op==="=="){if(k_(i.value))return{unaryFilter:{field:Is(i.field),op:"IS_NAN"}};if(L_(i.value))return{unaryFilter:{field:Is(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(k_(i.value))return{unaryFilter:{field:Is(i.field),op:"IS_NOT_NAN"}};if(L_(i.value))return{unaryFilter:{field:Is(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Is(i.field),op:NR(i.op),value:i.value}}}(r):r instanceof ni?function(i){const s=i.getFilters().map(o=>z0(o));return s.length===1?s[0]:{compositeFilter:{op:MR(i.op),filters:s}}}(r):xt()}function OR(r){const e=[];return r.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function q0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e,i,s,o,c=Ct.min(),f=Ct.min(),m=tn.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(e){return new Ur(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e){this.Tt=e}}function UR(r){const e=DR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Nd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(){this.Tn=new kR}addToCollectionParentIndex(e,i){return this.Tn.add(i),at.resolve()}getCollectionParents(e,i){return at.resolve(this.Tn.getEntries(i))}addFieldIndex(e,i){return at.resolve()}deleteFieldIndex(e,i){return at.resolve()}deleteAllFieldIndexes(e){return at.resolve()}createTargetIndexes(e,i){return at.resolve()}getDocumentsMatchingTarget(e,i){return at.resolve(null)}getIndexType(e,i){return at.resolve(0)}getFieldIndexes(e,i){return at.resolve([])}getNextCollectionGroupToUpdate(e){return at.resolve(null)}getMinOffset(e,i){return at.resolve(zr.min())}getMinOffsetFromCollectionGroup(e,i){return at.resolve(zr.min())}updateCollectionGroup(e,i,s){return at.resolve()}updateIndexEntries(e,i){return at.resolve()}}class kR{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new ke(he.comparator),c=!o.has(s);return this.index[i]=o.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new ke(he.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},H0=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(H0,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new ks(0)}static Kn(){return new ks(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="LruGarbageCollector",PR=1048576;function tv([r,e],[i,s]){const o=jt(r,i);return o===0?jt(e,s):o}class BR{constructor(e){this.Hn=e,this.buffer=new ke(tv),this.Jn=0}Yn(){return++this.Jn}Zn(e){const i=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();tv(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class zR{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){pt(J_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ys(i)?pt(J_,"Ignoring IndexedDB error during garbage collection: ",i):await Qs(i)}await this.er(3e5)})}}class qR{constructor(e,i){this.tr=e,this.params=i}calculateTargetCount(e,i){return this.tr.nr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return at.resolve(Lc.ae);const s=new BR(i);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.tr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.tr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(pt("LruGarbageCollector","Garbage collection skipped; disabled"),at.resolve(W_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(pt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),W_):this.ir(e,i))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,i){let s,o,c,f,m,y,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(pt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(s=S,m=Date.now(),this.removeTargets(e,s,i))).next(S=>(c=S,y=Date.now(),this.removeOrphanedDocuments(e,s))).next(S=>(g=Date.now(),Cs()<=Yt.DEBUG&&pt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${c} targets in `+(y-m)+`ms
	Removed ${S} documents in `+(g-y)+`ms
Total Duration: ${g-E}ms`),at.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S})))}}function HR(r,e){return new qR(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(){this.changes=new ja(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?at.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(s!==null&&ho(s.mutation,o,In.empty(),Le.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,Bt()).next(()=>s))}getLocalViewOfDocuments(e,i,s=Bt()){const o=Ia();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,s).next(c=>{let f=ao();return c.forEach((m,y)=>{f=f.insert(m,y.overlayedDocument)}),f}))}getOverlayedDocuments(e,i){const s=Ia();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,Bt()))}populateOverlays(e,i,s){const o=[];return s.forEach(c=>{i.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((f,m)=>{i.set(f,m)})})}computeViews(e,i,s,o){let c=sr();const f=co(),m=function(){return co()}();return i.forEach((y,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof Kr)?c=c.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),ho(E.mutation,g,E.mutation.getFieldMask(),Le.now())):f.set(g.key,In.empty())}),this.recalculateAndSaveOverlays(e,c).next(y=>(y.forEach((g,E)=>f.set(g,E)),i.forEach((g,E)=>{var S;return m.set(g,new FR(E,(S=f.get(g))!==null&&S!==void 0?S:null))}),m))}recalculateAndSaveOverlays(e,i){const s=co();let o=new _e((f,m)=>f-m),c=Bt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(f=>{for(const m of f)m.keys().forEach(y=>{const g=i.get(y);if(g===null)return;let E=s.get(y)||In.empty();E=m.applyToLocalView(g,E),s.set(y,E);const S=(o.get(m.batchId)||Bt()).add(y);o=o.insert(m.batchId,S)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),g=y.key,E=y.value,S=R0();E.forEach(R=>{if(!c.has(R)){const M=V0(i.get(R),s.get(R));M!==null&&S.set(R,M),c=c.add(R)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,S))}return at.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,o){return function(f){return Tt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):E0(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next(c=>{const f=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-c.size):at.resolve(Ia());let m=go,y=c;return f.next(g=>at.forEach(g,(E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),c.get(E)?at.resolve():this.remoteDocumentCache.getEntry(e,E).next(R=>{y=y.insert(E,R)}))).next(()=>this.populateOverlays(e,g,c)).next(()=>this.computeViews(e,y,g,Bt())).next(E=>({batchId:m,changes:A0(E)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new Tt(i)).next(s=>{let o=ao();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const c=i.collectionGroup;let f=ao();return this.indexManager.getCollectionParents(e,c).next(m=>at.forEach(m,y=>{const g=function(S,R){return new Ro(R,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((S,R)=>{f=f.insert(S,R)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,i,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,o))).next(f=>{c.forEach((y,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,ln.newInvalidDocument(E)))});let m=ao();return f.forEach((y,g)=>{const E=c.get(y);E!==void 0&&ho(E.mutation,g,In.empty(),Le.now()),qc(i,g)&&(m=m.insert(y,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,i){return at.resolve(this.dr.get(i))}saveBundleMetadata(e,i){return this.dr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:xi(o.createTime)}}(i)),at.resolve()}getNamedQuery(e,i){return at.resolve(this.Ar.get(i))}saveNamedQuery(e,i){return this.Ar.set(i.name,function(o){return{name:o.name,query:UR(o.bundledQuery),readTime:xi(o.readTime)}}(i)),at.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(){this.overlays=new _e(Tt.comparator),this.Rr=new Map}getOverlay(e,i){return at.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Ia();return at.forEach(i,o=>this.getOverlay(e,o).next(c=>{c!==null&&s.set(o,c)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((o,c)=>{this.Et(e,i,c)}),at.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(s)),at.resolve()}getOverlaysForCollection(e,i,s){const o=Ia(),c=i.length+1,f=new Tt(i.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const y=m.getNext().value,g=y.getKey();if(!i.isPrefixOf(g.path))break;g.path.length===c&&y.largestBatchId>s&&o.set(y.getKey(),y)}return at.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let c=new _e((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===i&&g.largestBatchId>s){let E=c.get(g.largestBatchId);E===null&&(E=Ia(),c=c.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Ia(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return at.resolve(m)}Et(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new dR(i,s));let c=this.Rr.get(i);c===void 0&&(c=Bt(),this.Rr.set(i,c)),this.Rr.set(i,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return at.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,at.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(){this.Vr=new ke(Ge.mr),this.gr=new ke(Ge.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,i){const s=new Ge(e,i);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.wr(new Ge(e,i))}Sr(e,i){e.forEach(s=>this.removeReference(s,i))}br(e){const i=new Tt(new he([])),s=new Ge(i,e),o=new Ge(i,e+1),c=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),c.push(f.key)}),c}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const i=new Tt(new he([])),s=new Ge(i,e),o=new Ge(i,e+1);let c=Bt();return this.gr.forEachInRange([s,o],f=>{c=c.add(f.key)}),c}containsKey(e){const i=new Ge(e,0),s=this.Vr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Ge{constructor(e,i){this.key=e,this.Cr=i}static mr(e,i){return Tt.comparator(e.key,i.key)||jt(e.Cr,i.Cr)}static pr(e,i){return jt(e.Cr,i.Cr)||Tt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new ke(Ge.mr)}checkEmpty(e){return at.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new fR(c,i,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new Ge(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return at.resolve(f)}lookupMutationBatch(e,i){return at.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.Nr(s),c=o<0?0:o;return at.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return at.resolve(this.mutationQueue.length===0?im:this.Fr-1)}getAllMutationBatches(e){return at.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Ge(i,0),o=new Ge(i,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);c.push(m)}),at.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new ke(jt);return i.forEach(o=>{const c=new Ge(o,0),f=new Ge(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,f],m=>{s=s.add(m.Cr)})}),at.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let c=s;Tt.isDocumentKey(c)||(c=c.child(""));const f=new Ge(new Tt(c),0);let m=new ke(jt);return this.Mr.forEachWhile(y=>{const g=y.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(y.Cr)),!0)},f),at.resolve(this.Br(m))}Br(e){const i=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){Jt(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return at.forEach(i.mutations,o=>{const c=new Ge(o.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,i){const s=new Ge(i,0),o=this.Mr.firstAfterOrEqual(s);return at.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,at.resolve()}Lr(e,i){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const i=this.Nr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e){this.kr=e,this.docs=function(){return new _e(Tt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),c=o?o.size:0,f=this.kr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return at.resolve(s?s.document.mutableCopy():ln.newInvalidDocument(i))}getEntries(e,i){let s=sr();return i.forEach(o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():ln.newInvalidDocument(o))}),at.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let c=sr();const f=i.path,m=new Tt(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:g,value:{document:E}}=y.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||xA(RA(E),s)<=0||(o.has(E.key)||qc(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return at.resolve(c)}getAllFromCollectionGroup(e,i,s,o){xt()}qr(e,i){return at.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new WR(this)}getSize(e){return at.resolve(this.size)}}class WR extends GR{constructor(e){super(),this.Ir=e}applyChanges(e){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),at.waitFor(i)}getFromCache(e,i){return this.Ir.getEntry(e,i)}getAllFromCache(e,i){return this.Ir.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e){this.persistence=e,this.Qr=new ja(i=>sm(i),lm),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.$r=0,this.Ur=new fm,this.targetCount=0,this.Kr=ks.Un()}forEachTarget(e,i){return this.Qr.forEach((s,o)=>i(o)),at.resolve()}getLastRemoteSnapshotVersion(e){return at.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return at.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),at.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.$r&&(this.$r=i),at.resolve()}zn(e){this.Qr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Kr=new ks(i),this.highestTargetId=i),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,i){return this.zn(i),this.targetCount+=1,at.resolve()}updateTargetData(e,i){return this.zn(i),at.resolve()}removeTargetData(e,i){return this.Qr.delete(i.target),this.Ur.br(i.targetId),this.targetCount-=1,at.resolve()}removeTargets(e,i,s){let o=0;const c=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=i&&s.get(m.targetId)===null&&(this.Qr.delete(f),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),at.waitFor(c).next(()=>o)}getTargetCount(e){return at.resolve(this.targetCount)}getTargetData(e,i){const s=this.Qr.get(i)||null;return at.resolve(s)}addMatchingKeys(e,i,s){return this.Ur.yr(i,s),at.resolve()}removeMatchingKeys(e,i,s){this.Ur.Sr(i,s);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach(f=>{c.push(o.markPotentiallyOrphaned(e,f))}),at.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.Ur.br(i),at.resolve()}getMatchingKeysForTargetId(e,i){const s=this.Ur.vr(i);return at.resolve(s)}containsKey(e,i){return at.resolve(this.Ur.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,i){this.Wr={},this.overlays={},this.Gr=new Lc(0),this.zr=!1,this.zr=!0,this.jr=new $R,this.referenceDelegate=e(this),this.Hr=new JR(this),this.indexManager=new LR,this.remoteDocumentCache=function(o){return new ZR(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new jR(i),this.Yr=new YR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new KR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.Wr[e.toKey()];return s||(s=new XR(i,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,i,s){pt("MemoryPersistence","Starting transaction:",e);const o=new tx(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(c=>this.referenceDelegate.Xr(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}ei(e,i){return at.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,i)))}}class tx extends CA{constructor(e){super(),this.currentSequenceNumber=e}}class dm{constructor(e){this.persistence=e,this.ti=new fm,this.ni=null}static ri(e){return new dm(e)}get ii(){if(this.ni)return this.ni;throw xt()}addReference(e,i,s){return this.ti.addReference(s,i),this.ii.delete(s.toString()),at.resolve()}removeReference(e,i,s){return this.ti.removeReference(s,i),this.ii.add(s.toString()),at.resolve()}markPotentiallyOrphaned(e,i){return this.ii.add(i.toString()),at.resolve()}removeTarget(e,i){this.ti.br(i.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(c=>this.ii.add(c.toString()))}).next(()=>s.removeTargetData(e,i))}Zr(){this.ni=new Set}Xr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return at.forEach(this.ii,s=>{const o=Tt.fromPath(s);return this.si(e,o).next(c=>{c||i.removeEntry(o,Ct.min())})}).next(()=>(this.ni=null,i.apply(e)))}updateLimboDocument(e,i){return this.si(e,i).next(s=>{s?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(e){return 0}si(e,i){return at.or([()=>at.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.ei(e,i)])}}class Dc{constructor(e,i){this.persistence=e,this.oi=new ja(s=>VA(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=HR(this,i)}static ri(e,i){return new Dc(e,i)}Zr(){}Xr(e){return at.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}nr(e){const i=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(o=>s+o))}sr(e){let i=0;return this.rr(e,s=>{i++}).next(()=>i)}rr(e,i){return at.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(c=>c?at.resolve():i(o)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,i).next(m=>{m||(s++,c.removeEntry(f,Ct.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.oi.set(i,e.currentSequenceNumber),at.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),at.resolve()}removeReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),at.resolve()}updateLimboDocument(e,i){return this.oi.set(i,e.currentSequenceNumber),at.resolve()}Jr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=fc(e.data.value)),i}ar(e,i,s){return at.or([()=>this.persistence.ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.oi.get(i);return at.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Hi=s,this.Ji=o}static Yi(e,i){let s=Bt(),o=Bt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new mm(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return $1()?8:DA(Y1())>0?6:4}()}initialize(e,i){this.ns=e,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(e,i,s,o){const c={result:null};return this.rs(e,i).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.ss(e,i,o,s).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new ex;return this._s(e,i,f).next(m=>{if(c.result=m,this.Xi)return this.us(e,i,f,m.size)})}).next(()=>c.result)}us(e,i,s,o){return s.documentReadCount<this.es?(Cs()<=Yt.DEBUG&&pt("QueryEngine","SDK will not create cache indexes for query:",Ds(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),at.resolve()):(Cs()<=Yt.DEBUG&&pt("QueryEngine","Query:",Ds(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(Cs()<=Yt.DEBUG&&pt("QueryEngine","The SDK decides to create cache indexes for query:",Ds(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ri(i))):at.resolve())}rs(e,i){if(q_(i))return at.resolve(null);let s=Ri(i);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=Nd(i,null,"F"),s=Ri(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const f=Bt(...c);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(y=>{const g=this.cs(i,m);return this.ls(i,g,f,y.readTime)?this.rs(e,Nd(i,null,"F")):this.hs(e,g,i,y)}))})))}ss(e,i,s,o){return q_(i)||o.isEqual(Ct.min())?at.resolve(null):this.ns.getDocuments(e,s).next(c=>{const f=this.cs(i,c);return this.ls(i,f,s,o)?at.resolve(null):(Cs()<=Yt.DEBUG&&pt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ds(i)),this.hs(e,f,i,AA(o,go)).next(m=>m))})}cs(e,i){let s=new ke(b0(e));return i.forEach((o,c)=>{qc(e,c)&&(s=s.add(c))}),s}ls(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}_s(e,i,s){return Cs()<=Yt.DEBUG&&pt("QueryEngine","Using full collection scan to execute query:",Ds(i)),this.ns.getDocumentsMatchingQuery(e,i,zr.min(),s)}hs(e,i,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(c=>(i.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm="LocalStore",ix=3e8;class rx{constructor(e,i,s,o){this.persistence=e,this.Ps=i,this.serializer=o,this.Ts=new _e(jt),this.Is=new ja(c=>sm(c),lm),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QR(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ts))}}function ax(r,e,i,s){return new rx(r,e,i,s)}async function F0(r,e){const i=It(r);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(c=>(o=c,i.As(e),i.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],m=[];let y=Bt();for(const g of o){f.push(g.batchId);for(const E of g.mutations)y=y.add(E.key)}for(const g of c){m.push(g.batchId);for(const E of g.mutations)y=y.add(E.key)}return i.localDocuments.getDocuments(s,y).next(g=>({Rs:g,removedBatchIds:f,addedBatchIds:m}))})})}function sx(r,e){const i=It(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),c=i.ds.newChangeBuffer({trackRemovals:!0});return function(m,y,g,E){const S=g.batch,R=S.keys();let M=at.resolve();return R.forEach(V=>{M=M.next(()=>E.getEntry(y,V)).next(Q=>{const N=g.docVersions.get(V);Jt(N!==null),Q.version.compareTo(N)<0&&(S.applyToRemoteDocument(Q,g),Q.isValidDocument()&&(Q.setReadTime(g.commitVersion),E.addEntry(Q)))})}),M.next(()=>m.mutationQueue.removeMutationBatch(y,S))}(i,s,e,c).next(()=>c.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let y=Bt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(y=y.add(m.batch.mutations[g].key));return y}(e))).next(()=>i.localDocuments.getDocuments(s,o))})}function Q0(r){const e=It(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Hr.getLastRemoteSnapshotVersion(i))}function lx(r,e){const i=It(r),s=e.snapshotVersion;let o=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=i.ds.newChangeBuffer({trackRemovals:!0});o=i.Ts;const m=[];e.targetChanges.forEach((E,S)=>{const R=o.get(S);if(!R)return;m.push(i.Hr.removeMatchingKeys(c,E.removedDocuments,S).next(()=>i.Hr.addMatchingKeys(c,E.addedDocuments,S)));let M=R.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?M=M.withResumeToken(tn.EMPTY_BYTE_STRING,Ct.min()).withLastLimboFreeSnapshotVersion(Ct.min()):E.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(E.resumeToken,s)),o=o.insert(S,M),function(Q,N,B){return Q.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=ix?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(R,M,E)&&m.push(i.Hr.updateTargetData(c,M))});let y=sr(),g=Bt();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))}),m.push(ox(c,f,e.documentUpdates).next(E=>{y=E.Vs,g=E.fs})),!s.isEqual(Ct.min())){const E=i.Hr.getLastRemoteSnapshotVersion(c).next(S=>i.Hr.setTargetsMetadata(c,c.currentSequenceNumber,s));m.push(E)}return at.waitFor(m).next(()=>f.apply(c)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,y,g)).next(()=>y)}).then(c=>(i.Ts=o,c))}function ox(r,e,i){let s=Bt(),o=Bt();return i.forEach(c=>s=s.add(c)),e.getEntries(r,s).next(c=>{let f=sr();return i.forEach((m,y)=>{const g=c.get(m);y.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),y.isNoDocument()&&y.version.isEqual(Ct.min())?(e.removeEntry(m,y.readTime),f=f.insert(m,y)):!g.isValidDocument()||y.version.compareTo(g.version)>0||y.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(y),f=f.insert(m,y)):pt(pm,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",y.version)}),{Vs:f,fs:o}})}function ux(r,e){const i=It(r);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=im),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function cx(r,e){const i=It(r);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.Hr.getTargetData(s,e).next(c=>c?(o=c,at.resolve(o)):i.Hr.allocateTargetId(s).next(f=>(o=new Ur(e,f,"TargetPurposeListen",s.currentSequenceNumber),i.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(s.targetId,s),i.Is.set(e,s.targetId)),s})}async function Ld(r,e,i){const s=It(r),o=s.Ts.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Ys(f))throw f;pt(pm,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function ev(r,e,i){const s=It(r);let o=Ct.min(),c=Bt();return s.persistence.runTransaction("Execute query","readwrite",f=>function(y,g,E){const S=It(y),R=S.Is.get(E);return R!==void 0?at.resolve(S.Ts.get(R)):S.Hr.getTargetData(g,E)}(s,f,Ri(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(y=>{c=y})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,i?o:Ct.min(),i?c:Bt())).next(m=>(hx(s,XA(e),m),{documents:m,gs:c})))}function hx(r,e,i){let s=r.Es.get(e)||Ct.min();i.forEach((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Es.set(e,s)}class nv{constructor(){this.activeTargetIds=nR()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fx{constructor(){this.ho=new nv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,i,s){this.Po[e]=i}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new nv,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv="ConnectivityMonitor";class rv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){pt(iv,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){pt(iv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oc=null;function kd(){return oc===null?oc=function(){return 268435456+Math.round(2147483648*Math.random())}():oc++,"0x"+oc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd="RestConnection",mx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class px{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=i+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Sc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,i,s,o,c){const f=kd(),m=this.bo(e,i.toUriEncodedString());pt(dd,`Sending RPC '${e}' ${f}:`,m,s);const y={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(y,o,c),this.vo(e,m,y,s).then(g=>(pt(dd,`Received RPC '${e}' ${f}: `,g),g),g=>{throw Os(dd,`RPC '${e}' ${f} failed with error: `,g,"url: ",m,"request:",s),g})}Co(e,i,s,o,c,f){return this.So(e,i,s,o,c)}Do(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Fs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,c)=>e[c]=o),s&&s.headers.forEach((o,c)=>e[c]=o)}bo(e,i){const s=mx[e];return`${this.po}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="WebChannelConnection";class yx extends px{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,i,s,o){const c=kd();return new Promise((f,m)=>{const y=new Xv;y.setWithCredentials(!0),y.listenOnce(Zv.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case hc.NO_ERROR:const E=y.getResponseJson();pt(an,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),f(E);break;case hc.TIMEOUT:pt(an,`RPC '${e}' ${c} timed out`),m(new gt(rt.DEADLINE_EXCEEDED,"Request time out"));break;case hc.HTTP_ERROR:const S=y.getStatus();if(pt(an,`RPC '${e}' ${c} failed with status:`,S,"response text:",y.getResponseText()),S>0){let R=y.getResponseJson();Array.isArray(R)&&(R=R[0]);const M=R==null?void 0:R.error;if(M&&M.status&&M.message){const V=function(N){const B=N.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf(B)>=0?B:rt.UNKNOWN}(M.status);m(new gt(V,M.message))}else m(new gt(rt.UNKNOWN,"Server responded with status "+y.getStatus()))}else m(new gt(rt.UNAVAILABLE,"Connection failed."));break;default:xt()}}finally{pt(an,`RPC '${e}' ${c} completed.`)}});const g=JSON.stringify(o);pt(an,`RPC '${e}' ${c} sending request:`,o),y.send(i,"POST",g,s,15)})}Wo(e,i,s){const o=kd(),c=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=t0(),m=Jv(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(y.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Do(y.initMessageHeaders,i,s),y.encodeInitMessageHeaders=!0;const E=c.join("");pt(an,`Creating RPC '${e}' stream ${o}: ${E}`,y);const S=f.createWebChannel(E,y);let R=!1,M=!1;const V=new gx({Fo:N=>{M?pt(an,`Not sending because RPC '${e}' stream ${o} is closed:`,N):(R||(pt(an,`Opening RPC '${e}' stream ${o} transport.`),S.open(),R=!0),pt(an,`RPC '${e}' stream ${o} sending:`,N),S.send(N))},Mo:()=>S.close()}),Q=(N,B,X)=>{N.listen(B,q=>{try{X(q)}catch(ct){setTimeout(()=>{throw ct},0)}})};return Q(S,ro.EventType.OPEN,()=>{M||(pt(an,`RPC '${e}' stream ${o} transport opened.`),V.Qo())}),Q(S,ro.EventType.CLOSE,()=>{M||(M=!0,pt(an,`RPC '${e}' stream ${o} transport closed`),V.Uo())}),Q(S,ro.EventType.ERROR,N=>{M||(M=!0,Os(an,`RPC '${e}' stream ${o} transport errored:`,N),V.Uo(new gt(rt.UNAVAILABLE,"The operation could not be completed")))}),Q(S,ro.EventType.MESSAGE,N=>{var B;if(!M){const X=N.data[0];Jt(!!X);const q=X,ct=(q==null?void 0:q.error)||((B=q[0])===null||B===void 0?void 0:B.error);if(ct){pt(an,`RPC '${e}' stream ${o} received error:`,ct);const ut=ct.status;let yt=function(w){const j=Ie[w];if(j!==void 0)return M0(j)}(ut),O=ct.message;yt===void 0&&(yt=rt.INTERNAL,O="Unknown error status: "+ut+" with message "+ct.message),M=!0,V.Uo(new gt(yt,O)),S.close()}else pt(an,`RPC '${e}' stream ${o} received:`,X),V.Ko(X)}}),Q(m,Wv.STAT_EVENT,N=>{N.stat===Rd.PROXY?pt(an,`RPC '${e}' stream ${o} detected buffering proxy`):N.stat===Rd.NOPROXY&&pt(an,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{V.$o()},0),V}}function md(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(r){return new TR(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e,i,s=1e3,o=1.5,c=6e4){this.Ti=e,this.timerId=i,this.Go=s,this.zo=o,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const i=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,i-s);o>0&&pt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av="PersistentStream";class K0{constructor(e,i,s,o,c,f,m,y){this.Ti=e,this.n_=s,this.r_=o,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Y0(e,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():i&&i.code===rt.RESOURCE_EXHAUSTED?(ar(i.toString()),ar("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===rt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===i&&this.V_(s,o)},s=>{e(()=>{const o=new gt(rt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,i){const s=this.R_(this.i_);this.stream=this.f_(e,i),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return pt(av,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return i=>{this.Ti.enqueueAndForget(()=>this.i_===e?i():(pt(av,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _x extends K0{constructor(e,i,s,o,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,f),this.serializer=c}f_(e,i){return this.connection.Wo("Listen",e,i)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const i=AR(this.serializer,e),s=function(c){if(!("targetChange"in c))return Ct.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?Ct.min():f.readTime?xi(f.readTime):Ct.min()}(e);return this.listener.p_(i,s)}y_(e){const i={};i.database=Ud(this.serializer),i.addTarget=function(c,f){let m;const y=f.target;if(m=Id(y)?{documents:wR(c,y)}:{query:CR(c,y).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=U0(c,f.resumeToken);const g=Md(c,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Ct.min())>0){m.readTime=Cc(c,f.snapshotVersion.toTimestamp());const g=Md(c,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=IR(this.serializer,e);s&&(i.labels=s),this.I_(i)}w_(e){const i={};i.database=Ud(this.serializer),i.removeTarget=e,this.I_(i)}}class vx extends K0{constructor(e,i,s,o,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,f),this.serializer=c}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,i){return this.connection.Wo("Write",e,i)}g_(e){return Jt(!!e.streamToken),this.lastStreamToken=e.streamToken,Jt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Jt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const i=xR(e.writeResults,e.commitTime),s=xi(e.commitTime);return this.listener.v_(s,i)}C_(){const e={};e.database=Ud(this.serializer),this.I_(e)}b_(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>RR(this.serializer,s))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{}class Tx extends Ex{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new gt(rt.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,i,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.So(e,Od(i,s),o,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new gt(rt.UNKNOWN,c.toString())})}Co(e,i,s,o,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,Od(i,s),o,f,m,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new gt(rt.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class bx{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ar(i),this.N_=!1):pt("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na="RemoteStore";class Sx{constructor(e,i,s,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(f=>{s.enqueueAndForget(async()=>{Ua(this)&&(pt(Na,"Restarting streams for network reachability change."),await async function(y){const g=It(y);g.W_.add(4),await Co(g),g.j_.set("Unknown"),g.W_.delete(4),await Kc(g)}(this))})}),this.j_=new bx(s,o)}}async function Kc(r){if(Ua(r))for(const e of r.G_)await e(!0)}async function Co(r){for(const e of r.G_)await e(!1)}function $0(r,e){const i=It(r);i.K_.has(e.targetId)||(i.K_.set(e.targetId,e),vm(i)?_m(i):Ks(i).c_()&&ym(i,e))}function gm(r,e){const i=It(r),s=Ks(i);i.K_.delete(e),s.c_()&&X0(i,e),i.K_.size===0&&(s.c_()?s.P_():Ua(i)&&i.j_.set("Unknown"))}function ym(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ct.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ks(r).y_(e)}function X0(r,e){r.H_.Ne(e),Ks(r).w_(e)}function _m(r){r.H_=new yR({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.K_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),Ks(r).start(),r.j_.B_()}function vm(r){return Ua(r)&&!Ks(r).u_()&&r.K_.size>0}function Ua(r){return It(r).W_.size===0}function Z0(r){r.H_=void 0}async function Ax(r){r.j_.set("Online")}async function Rx(r){r.K_.forEach((e,i)=>{ym(r,e)})}async function xx(r,e){Z0(r),vm(r)?(r.j_.q_(e),_m(r)):r.j_.set("Unknown")}async function wx(r,e,i){if(r.j_.set("Online"),e instanceof j0&&e.state===2&&e.cause)try{await async function(o,c){const f=c.cause;for(const m of c.targetIds)o.K_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.K_.delete(m),o.H_.removeTarget(m))}(r,e)}catch(s){pt(Na,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ic(r,s)}else if(e instanceof pc?r.H_.We(e):e instanceof O0?r.H_.Ze(e):r.H_.je(e),!i.isEqual(Ct.min()))try{const s=await Q0(r.localStore);i.compareTo(s)>=0&&await function(c,f){const m=c.H_.ot(f);return m.targetChanges.forEach((y,g)=>{if(y.resumeToken.approximateByteSize()>0){const E=c.K_.get(g);E&&c.K_.set(g,E.withResumeToken(y.resumeToken,f))}}),m.targetMismatches.forEach((y,g)=>{const E=c.K_.get(y);if(!E)return;c.K_.set(y,E.withResumeToken(tn.EMPTY_BYTE_STRING,E.snapshotVersion)),X0(c,y);const S=new Ur(E.target,y,g,E.sequenceNumber);ym(c,S)}),c.remoteSyncer.applyRemoteEvent(m)}(r,i)}catch(s){pt(Na,"Failed to raise snapshot:",s),await Ic(r,s)}}async function Ic(r,e,i){if(!Ys(e))throw e;r.W_.add(1),await Co(r),r.j_.set("Offline"),i||(i=()=>Q0(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{pt(Na,"Retrying IndexedDB access"),await i(),r.W_.delete(1),await Kc(r)})}function W0(r,e){return e().catch(i=>Ic(r,i,e))}async function $c(r){const e=It(r),i=Fr(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:im;for(;Cx(e);)try{const o=await ux(e.localStore,s);if(o===null){e.U_.length===0&&i.P_();break}s=o.batchId,Dx(e,o)}catch(o){await Ic(e,o)}J0(e)&&tE(e)}function Cx(r){return Ua(r)&&r.U_.length<10}function Dx(r,e){r.U_.push(e);const i=Fr(r);i.c_()&&i.S_&&i.b_(e.mutations)}function J0(r){return Ua(r)&&!Fr(r).u_()&&r.U_.length>0}function tE(r){Fr(r).start()}async function Ix(r){Fr(r).C_()}async function Vx(r){const e=Fr(r);for(const i of r.U_)e.b_(i.mutations)}async function Nx(r,e,i){const s=r.U_.shift(),o=um.from(s,e,i);await W0(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await $c(r)}async function Mx(r,e){e&&Fr(r).S_&&await async function(s,o){if(function(f){return pR(f)&&f!==rt.ABORTED}(o.code)){const c=s.U_.shift();Fr(s).h_(),await W0(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o)),await $c(s)}}(r,e),J0(r)&&tE(r)}async function sv(r,e){const i=It(r);i.asyncQueue.verifyOperationInProgress(),pt(Na,"RemoteStore received new credentials");const s=Ua(i);i.W_.add(3),await Co(i),s&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.W_.delete(3),await Kc(i)}async function Ox(r,e){const i=It(r);e?(i.W_.delete(2),await Kc(i)):e||(i.W_.add(2),await Co(i),i.j_.set("Unknown"))}function Ks(r){return r.J_||(r.J_=function(i,s,o){const c=It(i);return c.M_(),new _x(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{xo:Ax.bind(null,r),No:Rx.bind(null,r),Lo:xx.bind(null,r),p_:wx.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),vm(r)?_m(r):r.j_.set("Unknown")):(await r.J_.stop(),Z0(r))})),r.J_}function Fr(r){return r.Y_||(r.Y_=function(i,s,o){const c=It(i);return c.M_(),new vx(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:Ix.bind(null,r),Lo:Mx.bind(null,r),D_:Vx.bind(null,r),v_:Nx.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await $c(r)):(await r.Y_.stop(),r.U_.length>0&&(pt(Na,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,i,s,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,c){const f=Date.now()+s,m=new Em(e,i,f,o,c);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new gt(rt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tm(r,e){if(ar("AsyncQueue",`${e}: ${r}`),Ys(r))return new gt(rt.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{static emptySet(e){return new Ms(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||Tt.comparator(i.key,s.key):(i,s)=>Tt.comparator(i.key,s.key),this.keyedMap=ao(),this.sortedSet=new _e(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ms)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Ms;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(){this.Z_=new _e(Tt.comparator)}track(e){const i=e.doc.key,s=this.Z_.get(i);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(i,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(i):e.type===1&&s.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):xt():this.Z_=this.Z_.insert(i,e)}X_(){const e=[];return this.Z_.inorderTraversal((i,s)=>{e.push(s)}),e}}class Ps{constructor(e,i,s,o,c,f,m,y,g){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=g}static fromInitialDocuments(e,i,s,o,c){const f=[];return i.forEach(m=>{f.push({type:0,doc:m})}),new Ps(e,i,Ms.emptySet(i),f,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class Ux{constructor(){this.queries=ov(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,s){const o=It(i),c=o.queries;o.queries=ov(),c.forEach((f,m)=>{for(const y of m.ta)y.onError(s)})})(this,new gt(rt.ABORTED,"Firestore shutting down"))}}function ov(){return new ja(r=>T0(r),zc)}async function bm(r,e){const i=It(r);let s=3;const o=e.query;let c=i.queries.get(o);c?!c.na()&&e.ra()&&(s=2):(c=new jx,s=e.ra()?0:1);try{switch(s){case 0:c.ea=await i.onListen(o,!0);break;case 1:c.ea=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(f){const m=Tm(f,`Initialization of query '${Ds(e.query)}' failed`);return void e.onError(m)}i.queries.set(o,c),c.ta.push(e),e.sa(i.onlineState),c.ea&&e.oa(c.ea)&&Am(i)}async function Sm(r,e){const i=It(r),s=e.query;let o=3;const c=i.queries.get(s);if(c){const f=c.ta.indexOf(e);f>=0&&(c.ta.splice(f,1),c.ta.length===0?o=e.ra()?0:1:!c.na()&&e.ra()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function Lx(r,e){const i=It(r);let s=!1;for(const o of e){const c=o.query,f=i.queries.get(c);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&Am(i)}function kx(r,e,i){const s=It(r),o=s.queries.get(e);if(o)for(const c of o.ta)c.onError(i);s.queries.delete(e)}function Am(r){r.ia.forEach(e=>{e.next()})}var Pd,uv;(uv=Pd||(Pd={}))._a="default",uv.Cache="cache";class Rm{constructor(e,i,s){this.query=e,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ps(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ua?this.la(e)&&(this.aa.next(e),i=!0):this.ha(e,this.onlineState)&&(this.Pa(e),i=!0),this.ca=e,i}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),i=!0),i}ha(e,i){if(!e.fromCache||!this.ra())return!0;const s=i!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}la(e){if(e.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(e){e=Ps.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Pd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e){this.key=e}}class nE{constructor(e){this.key=e}}class Px{constructor(e,i){this.query=e,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Bt(),this.mutatedKeys=Bt(),this.ya=b0(e),this.wa=new Ms(this.ya)}get Sa(){return this.fa}ba(e,i){const s=i?i.Da:new lv,o=i?i.wa:this.wa;let c=i?i.mutatedKeys:this.mutatedKeys,f=o,m=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,S)=>{const R=o.get(E),M=qc(this.query,S)?S:null,V=!!R&&this.mutatedKeys.has(R.key),Q=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let N=!1;R&&M?R.data.isEqual(M.data)?V!==Q&&(s.track({type:3,doc:M}),N=!0):this.va(R,M)||(s.track({type:2,doc:M}),N=!0,(y&&this.ya(M,y)>0||g&&this.ya(M,g)<0)&&(m=!0)):!R&&M?(s.track({type:0,doc:M}),N=!0):R&&!M&&(s.track({type:1,doc:R}),N=!0,(y||g)&&(m=!0)),N&&(M?(f=f.add(M),c=Q?c.add(E):c.delete(E)):(f=f.delete(E),c=c.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{wa:f,Da:s,ls:m,mutatedKeys:c}}va(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const c=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((E,S)=>function(M,V){const Q=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xt()}};return Q(M)-Q(V)}(E.type,S.type)||this.ya(E.doc,S.doc)),this.Ca(s),o=o!=null&&o;const m=i&&!o?this.Fa():[],y=this.pa.size===0&&this.current&&!o?1:0,g=y!==this.ga;return this.ga=y,f.length!==0||g?{snapshot:new Ps(this.query,e.wa,c,f,e.mutatedKeys,y===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new lv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Bt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const i=[];return e.forEach(s=>{this.pa.has(s)||i.push(new nE(s))}),this.pa.forEach(s=>{e.has(s)||i.push(new eE(s))}),i}Oa(e){this.fa=e.gs,this.pa=Bt();const i=this.ba(e.documents);return this.applyChanges(i,!0)}Na(){return Ps.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const xm="SyncEngine";class Bx{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class zx{constructor(e){this.key=e,this.Ba=!1}}class qx{constructor(e,i,s,o,c,f){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new ja(m=>T0(m),zc),this.qa=new Map,this.Qa=new Set,this.$a=new _e(Tt.comparator),this.Ua=new Map,this.Ka=new fm,this.Wa={},this.Ga=new Map,this.za=ks.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function Hx(r,e,i=!0){const s=oE(r);let o;const c=s.ka.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.Na()):o=await iE(s,e,i,!0),o}async function Gx(r,e){const i=oE(r);await iE(i,e,!0,!1)}async function iE(r,e,i,s){const o=await cx(r.localStore,Ri(e)),c=o.targetId,f=r.sharedClientState.addLocalQueryTarget(c,i);let m;return s&&(m=await Fx(r,e,c,f==="current",o.resumeToken)),r.isPrimaryClient&&i&&$0(r.remoteStore,o),m}async function Fx(r,e,i,s,o){r.Ha=(S,R,M)=>async function(Q,N,B,X){let q=N.view.ba(B);q.ls&&(q=await ev(Q.localStore,N.query,!1).then(({documents:O})=>N.view.ba(O,q)));const ct=X&&X.targetChanges.get(N.targetId),ut=X&&X.targetMismatches.get(N.targetId)!=null,yt=N.view.applyChanges(q,Q.isPrimaryClient,ct,ut);return hv(Q,N.targetId,yt.Ma),yt.snapshot}(r,S,R,M);const c=await ev(r.localStore,e,!0),f=new Px(e,c.gs),m=f.ba(c.documents),y=wo.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,y);hv(r,i,g.Ma);const E=new Bx(e,i,f);return r.ka.set(e,E),r.qa.has(i)?r.qa.get(i).push(e):r.qa.set(i,[e]),g.snapshot}async function Qx(r,e,i){const s=It(r),o=s.ka.get(e),c=s.qa.get(o.targetId);if(c.length>1)return s.qa.set(o.targetId,c.filter(f=>!zc(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Ld(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&gm(s.remoteStore,o.targetId),Bd(s,o.targetId)}).catch(Qs)):(Bd(s,o.targetId),await Ld(s.localStore,o.targetId,!0))}async function Yx(r,e){const i=It(r),s=i.ka.get(e),o=i.qa.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),gm(i.remoteStore,s.targetId))}async function Kx(r,e,i){const s=ew(r);try{const o=await function(f,m){const y=It(f),g=Le.now(),E=m.reduce((M,V)=>M.add(V.key),Bt());let S,R;return y.persistence.runTransaction("Locally write mutations","readwrite",M=>{let V=sr(),Q=Bt();return y.ds.getEntries(M,E).next(N=>{V=N,V.forEach((B,X)=>{X.isValidDocument()||(Q=Q.add(B))})}).next(()=>y.localDocuments.getOverlayedDocuments(M,V)).next(N=>{S=N;const B=[];for(const X of m){const q=cR(X,S.get(X.key).overlayedDocument);q!=null&&B.push(new Kr(X.key,q,d0(q.value.mapValue),mn.exists(!0)))}return y.mutationQueue.addMutationBatch(M,g,B,m)}).next(N=>{R=N;const B=N.applyToLocalDocumentSet(S,Q);return y.documentOverlayCache.saveOverlays(M,N.batchId,B)})}).then(()=>({batchId:R.batchId,changes:A0(S)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,y){let g=f.Wa[f.currentUser.toKey()];g||(g=new _e(jt)),g=g.insert(m,y),f.Wa[f.currentUser.toKey()]=g}(s,o.batchId,i),await Do(s,o.changes),await $c(s.remoteStore)}catch(o){const c=Tm(o,"Failed to persist write");i.reject(c)}}async function rE(r,e){const i=It(r);try{const s=await lx(i.localStore,e);e.targetChanges.forEach((o,c)=>{const f=i.Ua.get(c);f&&(Jt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?Jt(f.Ba):o.removedDocuments.size>0&&(Jt(f.Ba),f.Ba=!1))}),await Do(i,s,e)}catch(s){await Qs(s)}}function cv(r,e,i){const s=It(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.ka.forEach((c,f)=>{const m=f.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const y=It(f);y.onlineState=m;let g=!1;y.queries.forEach((E,S)=>{for(const R of S.ta)R.sa(m)&&(g=!0)}),g&&Am(y)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function $x(r,e,i){const s=It(r);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Ua.get(e),c=o&&o.key;if(c){let f=new _e(Tt.comparator);f=f.insert(c,ln.newNoDocument(c,Ct.min()));const m=Bt().add(c),y=new Qc(Ct.min(),new Map,new _e(jt),f,m);await rE(s,y),s.$a=s.$a.remove(c),s.Ua.delete(e),wm(s)}else await Ld(s.localStore,e,!1).then(()=>Bd(s,e,i)).catch(Qs)}async function Xx(r,e){const i=It(r),s=e.batch.batchId;try{const o=await sx(i.localStore,e);sE(i,s,null),aE(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Do(i,o)}catch(o){await Qs(o)}}async function Zx(r,e,i){const s=It(r);try{const o=await function(f,m){const y=It(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return y.mutationQueue.lookupMutationBatch(g,m).next(S=>(Jt(S!==null),E=S.keys(),y.mutationQueue.removeMutationBatch(g,S))).next(()=>y.mutationQueue.performConsistencyCheck(g)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>y.localDocuments.getDocuments(g,E))})}(s.localStore,e);sE(s,e,i),aE(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await Do(s,o)}catch(o){await Qs(o)}}function aE(r,e){(r.Ga.get(e)||[]).forEach(i=>{i.resolve()}),r.Ga.delete(e)}function sE(r,e,i){const s=It(r);let o=s.Wa[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function Bd(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),i&&r.La.Ja(s,i);r.qa.delete(e),r.isPrimaryClient&&r.Ka.br(e).forEach(s=>{r.Ka.containsKey(s)||lE(r,s)})}function lE(r,e){r.Qa.delete(e.path.canonicalString());const i=r.$a.get(e);i!==null&&(gm(r.remoteStore,i),r.$a=r.$a.remove(e),r.Ua.delete(i),wm(r))}function hv(r,e,i){for(const s of i)s instanceof eE?(r.Ka.addReference(s.key,e),Wx(r,s)):s instanceof nE?(pt(xm,"Document no longer in limbo: "+s.key),r.Ka.removeReference(s.key,e),r.Ka.containsKey(s.key)||lE(r,s.key)):xt()}function Wx(r,e){const i=e.key,s=i.path.canonicalString();r.$a.get(i)||r.Qa.has(s)||(pt(xm,"New document in limbo: "+i),r.Qa.add(s),wm(r))}function wm(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const i=new Tt(he.fromString(e)),s=r.za.next();r.Ua.set(s,new zx(i)),r.$a=r.$a.insert(i,s),$0(r.remoteStore,new Ur(Ri(Bc(i.path)),s,"TargetPurposeLimboResolution",Lc.ae))}}async function Do(r,e,i){const s=It(r),o=[],c=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,y)=>{f.push(s.Ha(y,e,i).then(g=>{var E;if((g||i)&&s.isPrimaryClient){const S=g?!g.fromCache:(E=i==null?void 0:i.targetChanges.get(y.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(y.targetId,S?"current":"not-current")}if(g){o.push(g);const S=mm.Yi(y.targetId,g);c.push(S)}}))}),await Promise.all(f),s.La.p_(o),await async function(y,g){const E=It(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>at.forEach(g,R=>at.forEach(R.Hi,M=>E.persistence.referenceDelegate.addReference(S,R.targetId,M)).next(()=>at.forEach(R.Ji,M=>E.persistence.referenceDelegate.removeReference(S,R.targetId,M)))))}catch(S){if(!Ys(S))throw S;pt(pm,"Failed to update sequence numbers: "+S)}for(const S of g){const R=S.targetId;if(!S.fromCache){const M=E.Ts.get(R),V=M.snapshotVersion,Q=M.withLastLimboFreeSnapshotVersion(V);E.Ts=E.Ts.insert(R,Q)}}}(s.localStore,c))}async function Jx(r,e){const i=It(r);if(!i.currentUser.isEqual(e)){pt(xm,"User change. New user:",e.toKey());const s=await F0(i.localStore,e);i.currentUser=e,function(c,f){c.Ga.forEach(m=>{m.forEach(y=>{y.reject(new gt(rt.CANCELLED,f))})}),c.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Do(i,s.Rs)}}function tw(r,e){const i=It(r),s=i.Ua.get(e);if(s&&s.Ba)return Bt().add(s.key);{let o=Bt();const c=i.qa.get(e);if(!c)return o;for(const f of c){const m=i.ka.get(f);o=o.unionWith(m.view.Sa)}return o}}function oE(r){const e=It(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=rE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$x.bind(null,e),e.La.p_=Lx.bind(null,e.eventManager),e.La.Ja=kx.bind(null,e.eventManager),e}function ew(r){const e=It(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Xx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Zx.bind(null,e),e}class Vc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Yc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,i){return null}nu(e,i){return null}eu(e){return ax(this.persistence,new nx,e.initialUser,this.serializer)}Xa(e){return new G0(dm.ri,this.serializer)}Za(e){return new fx}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vc.provider={build:()=>new Vc};class nw extends Vc{constructor(e){super(),this.cacheSizeBytes=e}tu(e,i){Jt(this.persistence.referenceDelegate instanceof Dc);const s=this.persistence.referenceDelegate.garbageCollector;return new zR(s,e.asyncQueue,i)}Xa(e){const i=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new G0(s=>Dc.ri(s,i),this.serializer)}}class zd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>cv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Jx.bind(null,this.syncEngine),await Ox(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Ux}()}createDatastore(e){const i=Yc(e.databaseInfo.databaseId),s=function(c){return new yx(c)}(e.databaseInfo);return function(c,f,m,y){return new Tx(c,f,m,y)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,o,c,f,m){return new Sx(s,o,c,f,m)}(this.localStore,this.datastore,e.asyncQueue,i=>cv(this.syncEngine,i,0),function(){return rv.D()?new rv:new dx}())}createSyncEngine(e,i){return function(o,c,f,m,y,g,E){const S=new qx(o,c,f,m,y,g);return E&&(S.ja=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const c=It(o);pt(Na,"RemoteStore shutting down."),c.W_.add(5),await Co(c),c.z_.shutdown(),c.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}zd.provider={build:()=>new zd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ar("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr="FirestoreClient";class iw{constructor(e,i,s,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=sn.UNAUTHENTICATED,this.clientId=i0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async f=>{pt(Qr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(pt(Qr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Tm(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function pd(r,e){r.asyncQueue.verifyOperationInProgress(),pt(Qr,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await F0(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function fv(r,e){r.asyncQueue.verifyOperationInProgress();const i=await rw(r);pt(Qr,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener(s=>sv(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>sv(e.remoteStore,o)),r._onlineComponents=e}async function rw(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){pt(Qr,"Using user provided OfflineComponentProvider");try{await pd(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===rt.FAILED_PRECONDITION||o.code===rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;Os("Error using user provided cache. Falling back to memory cache: "+i),await pd(r,new Vc)}}else pt(Qr,"Using default OfflineComponentProvider"),await pd(r,new nw(void 0));return r._offlineComponents}async function uE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(pt(Qr,"Using user provided OnlineComponentProvider"),await fv(r,r._uninitializedComponentsProvider._online)):(pt(Qr,"Using default OnlineComponentProvider"),await fv(r,new zd))),r._onlineComponents}function aw(r){return uE(r).then(e=>e.syncEngine)}async function Nc(r){const e=await uE(r),i=e.eventManager;return i.onListen=Hx.bind(null,e.syncEngine),i.onUnlisten=Qx.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=Gx.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=Yx.bind(null,e.syncEngine),i}function sw(r,e,i={}){const s=new nr;return r.asyncQueue.enqueueAndForget(async()=>function(c,f,m,y,g){const E=new Cm({next:R=>{E.su(),f.enqueueAndForget(()=>Sm(c,S));const M=R.docs.has(m);!M&&R.fromCache?g.reject(new gt(rt.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&R.fromCache&&y&&y.source==="server"?g.reject(new gt(rt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(R)},error:R=>g.reject(R)}),S=new Rm(Bc(m.path),E,{includeMetadataChanges:!0,Ta:!0});return bm(c,S)}(await Nc(r),r.asyncQueue,e,i,s)),s.promise}function lw(r,e,i={}){const s=new nr;return r.asyncQueue.enqueueAndForget(async()=>function(c,f,m,y,g){const E=new Cm({next:R=>{E.su(),f.enqueueAndForget(()=>Sm(c,S)),R.fromCache&&y.source==="server"?g.reject(new gt(rt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(R)},error:R=>g.reject(R)}),S=new Rm(m,E,{includeMetadataChanges:!0,Ta:!0});return bm(c,S)}(await Nc(r),r.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(r,e,i){if(!i)throw new gt(rt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function ow(r,e,i,s){if(e===!0&&s===!0)throw new gt(rt.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function mv(r){if(!Tt.isDocumentKey(r))throw new gt(rt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function pv(r){if(Tt.isDocumentKey(r))throw new gt(rt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Xc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":xt()}function pn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new gt(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Xc(r);throw new gt(rt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="firestore.googleapis.com",gv=!0;class yv{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new gt(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=fE,this.ssl=gv}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:gv;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=H0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<PR)throw new gt(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ow("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cE((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new gt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new gt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new gt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new gt(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new gt(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new pA;switch(s.type){case"firstParty":return new vA(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new gt(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=dv.get(i);s&&(pt("ComponentProvider","Removing Datastore"),dv.delete(i),s.terminate())}(this),Promise.resolve()}}function uw(r,e,i,s={}){var o;const c=(r=pn(r,Zc))._getSettings(),f=Object.assign(Object.assign({},c),{emulatorOptions:r._getEmulatorOptions()}),m=`${e}:${i}`;c.host!==fE&&c.host!==m&&Os("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},c),{host:m,ssl:!1,emulatorOptions:s});if(!vc(y,f)&&(r._setSettings(y),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=sn.MOCK_USER;else{g=Q1(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new gt(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new sn(S)}r._authCredentials=new gA(new e0(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new La(this.firestore,e,this._query)}}class on{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Br(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new on(this.firestore,e,this._key)}}class Br extends La{constructor(e,i,s){super(e,i,Bc(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new on(this.firestore,null,new Tt(e))}withConverter(e){return new Br(this.firestore,e,this._path)}}function Je(r,e,...i){if(r=Qn(r),hE("collection","path",e),r instanceof Zc){const s=he.fromString(e,...i);return pv(s),new Br(r,null,s)}{if(!(r instanceof on||r instanceof Br))throw new gt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(he.fromString(e,...i));return pv(s),new Br(r.firestore,null,s)}}function Te(r,e,...i){if(r=Qn(r),arguments.length===1&&(e=i0.newId()),hE("doc","path",e),r instanceof Zc){const s=he.fromString(e,...i);return mv(s),new on(r,null,new Tt(s))}{if(!(r instanceof on||r instanceof Br))throw new gt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(he.fromString(e,...i));return mv(s),new on(r.firestore,r instanceof Br?r.converter:null,new Tt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v="AsyncQueue";class vv{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Y0(this,"async_queue_retry"),this.Su=()=>{const s=md();s&&pt(_v,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const i=md();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const i=md();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const i=new nr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Ys(e))throw e;pt(_v,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const i=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw ar("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=i,i}enqueueAfterDelay(e,i,s){this.Du(),this.wu.indexOf(e)>-1&&(i=0);const o=Em.createAndSchedule(this,e,i,s,c=>this.Fu(c));return this.fu.push(o),o}Du(){this.gu&&xt()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const i of this.fu)if(i.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const i=this.fu.indexOf(e);this.fu.splice(i,1)}}function Ev(r){return function(i,s){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1}(r,["next","error","complete"])}class Ci extends Zc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new vv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vv(e),this._firestoreClient=void 0,await e}}}function cw(r,e){const i=typeof r=="object"?r:nA(),s=typeof r=="string"?r:Sc,o=ZS(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=G1("firestore");c&&uw(o,...c)}return o}function Io(r){if(r._terminated)throw new gt(rt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||hw(r),r._firestoreClient}function hw(r){var e,i,s;const o=r._freezeSettings(),c=function(m,y,g,E){return new OA(m,y,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,cE(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new iw(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(m){const y=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(y),_online:y}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bs(tn.fromBase64String(e))}catch(i){throw new gt(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Bs(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new gt(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new We(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new gt(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new gt(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return jt(this._lat,e._lat)||jt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw=/^__.*__$/;class dw{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Kr(e,this.data,this.fieldMask,i,this.fieldTransforms):new xo(e,this.data,i,this.fieldTransforms)}}class dE{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new Kr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function mE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xt()}}class Vm{constructor(e,i,s,o,c,f){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Vm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Uu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Mc(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(mE(this.Lu)&&fw.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class mw{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Yc(e)}ju(e,i,s,o=!1){return new Vm({Lu:e,methodName:i,zu:s,path:We.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function No(r){const e=r._freezeSettings(),i=Yc(r._databaseId);return new mw(r._databaseId,!!e.ignoreUndefinedProperties,i)}function Nm(r,e,i,s,o,c={}){const f=r.ju(c.merge||c.mergeFields?2:0,e,i,o);Om("Data must be an object, but it was:",f,s);const m=yE(s,f);let y,g;if(c.merge)y=new In(f.fieldMask),g=f.fieldTransforms;else if(c.mergeFields){const E=[];for(const S of c.mergeFields){const R=qd(e,S,i);if(!f.contains(R))throw new gt(rt.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);vE(E,R)||E.push(R)}y=new In(E),g=f.fieldTransforms.filter(S=>y.covers(S.field))}else y=null,g=f.fieldTransforms;return new dw(new En(m),y,g)}class Jc extends Wc{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Jc}}class Mm extends Wc{_toFieldTransform(e){return new sR(e.path,new Eo)}isEqual(e){return e instanceof Mm}}function pE(r,e,i,s){const o=r.ju(1,e,i);Om("Data must be an object, but it was:",o,s);const c=[],f=En.empty();Yr(s,(y,g)=>{const E=jm(e,y,i);g=Qn(g);const S=o.Uu(E);if(g instanceof Jc)c.push(E);else{const R=Mo(g,S);R!=null&&(c.push(E),f.set(E,R))}});const m=new In(c);return new dE(f,m,o.fieldTransforms)}function gE(r,e,i,s,o,c){const f=r.ju(1,e,i),m=[qd(e,s,i)],y=[o];if(c.length%2!=0)throw new gt(rt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<c.length;R+=2)m.push(qd(e,c[R])),y.push(c[R+1]);const g=[],E=En.empty();for(let R=m.length-1;R>=0;--R)if(!vE(g,m[R])){const M=m[R];let V=y[R];V=Qn(V);const Q=f.Uu(M);if(V instanceof Jc)g.push(M);else{const N=Mo(V,Q);N!=null&&(g.push(M),E.set(M,N))}}const S=new In(g);return new dE(E,S,f.fieldTransforms)}function pw(r,e,i,s=!1){return Mo(i,r.ju(s?4:3,e))}function Mo(r,e){if(_E(r=Qn(r)))return Om("Unsupported field value:",e,r),yE(r,e);if(r instanceof Wc)return function(s,o){if(!mE(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const c=[];let f=0;for(const m of s){let y=Mo(m,o.Ku(f));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),f++}return{arrayValue:{values:c}}}(r,e)}return function(s,o){if((s=Qn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return iR(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=Le.fromDate(s);return{timestampValue:Cc(o.serializer,c)}}if(s instanceof Le){const c=new Le(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Cc(o.serializer,c)}}if(s instanceof Dm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Bs)return{bytesValue:U0(o.serializer,s._byteString)};if(s instanceof on){const c=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:hm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Im)return function(f,m){return{mapValue:{fields:{[h0]:{stringValue:f0},[Ac]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.Wu("VectorValues must only contain numeric values.");return om(m.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Xc(s)}`)}(r,e)}function yE(r,e){const i={};return a0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yr(r,(s,o)=>{const c=Mo(o,e.qu(s));c!=null&&(i[s]=c)}),{mapValue:{fields:i}}}function _E(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Le||r instanceof Dm||r instanceof Bs||r instanceof on||r instanceof Wc||r instanceof Im)}function Om(r,e,i){if(!_E(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const s=Xc(i);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function qd(r,e,i){if((e=Qn(e))instanceof Vo)return e._internalPath;if(typeof e=="string")return jm(r,e);throw Mc("Field path arguments must be of type string or ",r,!1,void 0,i)}const gw=new RegExp("[~\\*/\\[\\]]");function jm(r,e,i){if(e.search(gw)>=0)throw Mc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Vo(...e.split("."))._internalPath}catch{throw Mc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Mc(r,e,i,s,o){const c=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;i&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(c||f)&&(y+=" (found",c&&(y+=` in field ${s}`),f&&(y+=` in document ${o}`),y+=")"),new gt(rt.INVALID_ARGUMENT,m+r+y)}function vE(r,e){return r.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e,i,s,o,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new on(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new yw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Um("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class yw extends EE{data(){return super.data()}}function Um(r,e){return typeof e=="string"?jm(r,e):e instanceof Vo?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new gt(rt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lm{}class _w extends Lm{}function Hd(r,e,...i){let s=[];e instanceof Lm&&s.push(e),s=s.concat(i),function(c){const f=c.filter(y=>y instanceof km).length,m=c.filter(y=>y instanceof th).length;if(f>1||f>0&&m>0)throw new gt(rt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class th extends _w{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new th(e,i,s)}_apply(e){const i=this._parse(e);return bE(e._query,i),new La(e.firestore,e.converter,Vd(e._query,i))}_parse(e){const i=No(e.firestore);return function(c,f,m,y,g,E,S){let R;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new gt(rt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){bv(S,E);const V=[];for(const Q of S)V.push(Tv(y,c,Q));R={arrayValue:{values:V}}}else R=Tv(y,c,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||bv(S,E),R=pw(m,f,S,E==="in"||E==="not-in");return Ve.create(g,E,R)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function Gd(r,e,i){const s=e,o=Um("where",r);return th._create(o,s,i)}class km extends Lm{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new km(e,i)}_parse(e){const i=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return i.length===1?i[0]:ni.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:(function(o,c){let f=o;const m=c.getFlattenedFilters();for(const y of m)bE(f,y),f=Vd(f,y)}(e._query,i),new La(e.firestore,e.converter,Vd(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Tv(r,e,i){if(typeof(i=Qn(i))=="string"){if(i==="")throw new gt(rt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!E0(e)&&i.indexOf("/")!==-1)throw new gt(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(he.fromString(i));if(!Tt.isDocumentKey(s))throw new gt(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return U_(r,new Tt(s))}if(i instanceof on)return U_(r,i._key);throw new gt(rt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xc(i)}.`)}function bv(r,e){if(!Array.isArray(r)||r.length===0)throw new gt(rt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function bE(r,e){const i=function(o,c){for(const f of o)for(const m of f.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new gt(rt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new gt(rt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class vw{convertValue(e,i="none"){switch(Gr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Re(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Hr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw xt()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Yr(e,(o,c)=>{s[o]=this.convertValue(c,i)}),s}convertVectorValue(e){var i,s,o;const c=(o=(s=(i=e.fields)===null||i===void 0?void 0:i[Ac].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>Re(f.doubleValue));return new Im(c)}convertGeoPoint(e){return new Dm(Re(e.latitude),Re(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=Pc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(yo(e));default:return null}}convertTimestamp(e){const i=qr(e);return new Le(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=he.fromString(e);Jt(q0(s));const o=new _o(s.get(1),s.get(3)),c=new Tt(s.popFirst(5));return o.isEqual(i)||ar(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(r,e,i){let s;return s=r?i&&(i.merge||i.mergeFields)?r.toFirestore(e,i):r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class SE extends EE{constructor(e,i,s,o,c,f){super(e,i,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new gc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(Um("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class gc extends SE{data(e={}){return super.data(e)}}class AE{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new lo(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new gc(this._firestore,this._userDataWriter,s.key,s,new lo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new gt(rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const y=new gc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new lo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const y=new gc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new lo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:Ew(m.type),doc:y,oldIndex:g,newIndex:E}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function Ew(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ma(r){r=pn(r,on);const e=pn(r.firestore,Ci);return sw(Io(e),r._key).then(i=>CE(e,r,i))}class Bm extends vw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bs(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new on(this.firestore,null,i)}}function zs(r){r=pn(r,La);const e=pn(r.firestore,Ci),i=Io(e),s=new Bm(e);return TE(r._query),lw(i,r._query).then(o=>new AE(e,s,r,o))}function RE(r,e,i){r=pn(r,on);const s=pn(r.firestore,Ci),o=Pm(r.converter,e,i);return Oo(s,[Nm(No(s),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,mn.none())])}function xE(r,e,i,...s){r=pn(r,on);const o=pn(r.firestore,Ci),c=No(o);let f;return f=typeof(e=Qn(e))=="string"||e instanceof Vo?gE(c,"updateDoc",r._key,e,i,s):pE(c,"updateDoc",r._key,e),Oo(o,[f.toMutation(r._key,mn.exists(!0))])}function Tw(r){return Oo(pn(r.firestore,Ci),[new Fc(r._key,mn.none())])}function wE(r,e){const i=pn(r.firestore,Ci),s=Te(r),o=Pm(r.converter,e);return Oo(i,[Nm(No(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,mn.exists(!1))]).then(()=>s)}function Vn(r,...e){var i,s,o;r=Qn(r);let c={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||Ev(e[f])||(c=e[f],f++);const m={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(Ev(e[f])){const S=e[f];e[f]=(i=S.next)===null||i===void 0?void 0:i.bind(S),e[f+1]=(s=S.error)===null||s===void 0?void 0:s.bind(S),e[f+2]=(o=S.complete)===null||o===void 0?void 0:o.bind(S)}let y,g,E;if(r instanceof on)g=pn(r.firestore,Ci),E=Bc(r._key.path),y={next:S=>{e[f]&&e[f](CE(g,r,S))},error:e[f+1],complete:e[f+2]};else{const S=pn(r,La);g=pn(S.firestore,Ci),E=S._query;const R=new Bm(g);y={next:M=>{e[f]&&e[f](new AE(g,R,S,M))},error:e[f+1],complete:e[f+2]},TE(r._query)}return function(R,M,V,Q){const N=new Cm(Q),B=new Rm(M,N,V);return R.asyncQueue.enqueueAndForget(async()=>bm(await Nc(R),B)),()=>{N.su(),R.asyncQueue.enqueueAndForget(async()=>Sm(await Nc(R),B))}}(Io(g),E,m,y)}function Oo(r,e){return function(s,o){const c=new nr;return s.asyncQueue.enqueueAndForget(async()=>Kx(await aw(s),o,c)),c.promise}(Io(r),e)}function CE(r,e,i){const s=i.docs.get(e._key),o=new Bm(r);return new SE(r,o,e._key,s,new lo(i.hasPendingWrites,i.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=No(e)}set(e,i,s){this._verifyNotCommitted();const o=gd(e,this._firestore),c=Pm(o.converter,i,s),f=Nm(this._dataReader,"WriteBatch.set",o._key,c,o.converter!==null,s);return this._mutations.push(f.toMutation(o._key,mn.none())),this}update(e,i,s,...o){this._verifyNotCommitted();const c=gd(e,this._firestore);let f;return f=typeof(i=Qn(i))=="string"||i instanceof Vo?gE(this._dataReader,"WriteBatch.update",c._key,i,s,o):pE(this._dataReader,"WriteBatch.update",c._key,i),this._mutations.push(f.toMutation(c._key,mn.exists(!0))),this}delete(e){this._verifyNotCommitted();const i=gd(e,this._firestore);return this._mutations=this._mutations.concat(new Fc(i._key,mn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new gt(rt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function gd(r,e){if((r=Qn(r)).firestore!==e)throw new gt(rt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function Da(){return new Mm("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yd(r){return Io(r=pn(r,Ci)),new bw(r,e=>Oo(r,e))}(function(e,i=!0){(function(o){Fs=o})(eA),Tc(new mo("firestore",(s,{instanceIdentifier:o,options:c})=>{const f=s.getProvider("app").getImmediate(),m=new Ci(new yA(s.getProvider("auth-internal")),new EA(f,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new gt(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _o(g.options.projectId,E)}(f,o),f);return c=Object.assign({useFetchStreams:i},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),Ns(A_,R_,e),Ns(A_,R_,"esm2017")})();const Sw={apiKey:"AIzaSyA",authDomain:"myattendanceproject-45c1b.firebaseapp.com",projectId:"myattendanceproject-45c1b",storageBucket:"myattendanceproject-45c1b.appspot.com",messagingSenderId:"347137303283",appId:"1:347137303283:web:9369753f976dffcf65cd86"},Aw=Qv(Sw),Mt=cw(Aw);function Rw({onLoginSuccess:r}){const[e,i]=P.useState(""),[s,o]=P.useState(""),[c,f]=P.useState(""),m=$d(),y=E=>{const S=(E||"").toString().trim(),R=S.slice(0,6).replace(/[^0-9]/g,""),M=S.slice(6).replace(/[^A-Za-z-]/g,"");return{birth6:R,name:M}},g=async()=>{f("");const E=(e||"").replace(/\s+/g,""),S=(s||"").replace(/[^0-9]/g,"").slice(0,4),{birth6:R,name:M}=y(E);if(R.length!==6||!M){f(" 6+  . : 170806");return}if(S.length!==4){f("    4.");return}try{const V=await zs(Je(Mt,"students")),Q=[];if(V.forEach(B=>{const X=B.data()||{},q=(X.name||"").toString().trim(),ut=(X.birth||"").toString().replace(/[^0-9]/g,"").slice(-6),O=(X.parentPhone||X.parent_phone||X.momPhone||"").toString().replace(/[^0-9]/g,"").slice(-4);ut===R&&q===M&&O===S&&Q.push({id:B.id,data:X})}),Q.length===0){f("  . (+) ( 4)  .");return}const N=Q[0];localStorage.setItem("studentId",N.id),localStorage.setItem("studentName",N.data.name||"");try{await wE(Je(Mt,"parentLogins"),{studentId:N.id,studentName:N.data.name||"",loginTime:Da()})}catch(B){console.error("parentLogins   :",B)}r&&r(),m("/attendance")}catch(V){console.error(V),f("   .")}};return T.jsxs("div",{style:{maxWidth:380,margin:"40px auto",padding:16},children:[T.jsx("h1",{style:{fontSize:22,fontWeight:800,marginBottom:12},children:" "}),T.jsx("label",{style:{display:"block",fontWeight:600,marginTop:8},children:""}),T.jsx("input",{value:e,onChange:E=>i(E.target.value),placeholder:": 170806 (6+)",style:{width:"100%",padding:10,borderRadius:8,border:"1px solid #d1d5db"}}),T.jsx("label",{style:{display:"block",fontWeight:600,marginTop:12},children:""}),T.jsx("input",{value:s,onChange:E=>o(E.target.value.replace(/[^0-9]/g,"").slice(0,4)),placeholder:"   4",inputMode:"numeric",maxLength:4,style:{width:"100%",padding:10,borderRadius:8,border:"1px solid #d1d5db"}}),T.jsx("button",{onClick:g,style:{width:"100%",padding:12,borderRadius:10,marginTop:16,fontWeight:800,border:"1px solid #0d6efd",background:"#0d6efd",color:"#fff",cursor:"pointer"},children:""}),c&&T.jsx("div",{style:{color:"#dc3545",marginTop:8},children:c}),T.jsxs("div",{style:{marginTop:12,fontSize:12,color:"#6b7280",lineHeight:1.5},children:[' : 2017-08-06  ""   ',T.jsx("b",{children:"170806"}),",  ",T.jsx("b",{children:"  4"}),T.jsx("br",{})]}),T.jsx("div",{style:{marginTop:8},children:T.jsx(Uc,{to:"/new-enroll",style:{display:"inline-block",width:"100%",textAlign:"center",padding:10,borderRadius:10,border:"1px solid #6c757d",color:"#6c757d",textDecoration:"none",fontWeight:700},children:" "})})]})}function xw(){const r=(localStorage.getItem("studentName")||"").trim(),[e,i]=P.useState({}),[s,o]=P.useState({}),[c,f]=P.useState(()=>new Date().getFullYear()),[m,y]=P.useState(()=>new Date().getMonth());P.useEffect(()=>{const N=Vn(Je(Mt,"attendance"),B=>{const X={};B.forEach(q=>{const ct=q.id,ut=q.data()||{};X[ct]=ut}),i(X)});return()=>N()},[]),P.useEffect(()=>{const N=Vn(Je(Mt,"holidays"),B=>{const X={};B.forEach(q=>{const ct=q.data()||{},ut=(ct.date||"").toString(),yt=(ct.name||"").toString();ut&&(X[ut]=yt||"")}),o(X)});return()=>N()},[]);const g=P.useMemo(()=>r?Object.entries(e).map(([N,B])=>{const X=B==null?void 0:B[r];return X?{date:N,time:X.time||"",departureTime:X.departureTime||"",status:X.status||""}:null}).filter(Boolean).sort((N,B)=>B.date.localeCompare(N.date)):[],[e,r]),E=P.useMemo(()=>{const N=`${c}-${String(m+1).padStart(2,"0")}`;return g.filter(B=>B.date.startsWith(N))},[g,c,m]),S=P.useMemo(()=>{const N=new Date(c,m,1),B=[],X=N.getDay(),q=new Date(N),ct=(X+6)%7;q.setDate(N.getDate()-ct);for(let ut=0;ut<6;ut++){const yt=[],O=new Date(q);O.setDate(q.getDate()+ut*7);for(let x=0;x<7;x++){const w=new Date(O);w.setDate(O.getDate()+x);const j=w.getDay();j>=1&&j<=5&&yt.push(new Date(w))}yt.some(x=>x.getMonth()===m||x.getMonth()!==m&&x.getDate()<=7)&&B.push(yt)}for(;B.length&&B[B.length-1].every(ut=>ut.getMonth()!==m);)B.pop();return B},[c,m]),R=N=>{const B=N.getFullYear(),X=String(N.getMonth()+1).padStart(2,"0"),q=String(N.getDate()).padStart(2,"0");return`${B}-${X}-${q}`},M=`${c} ${String(m+1).padStart(2,"0")}`,V=()=>{const N=new Date(c,m-1,1);f(N.getFullYear()),y(N.getMonth())},Q=()=>{const N=new Date(c,m+1,1);f(N.getFullYear()),y(N.getMonth())};return T.jsxs("div",{style:{padding:16},children:[T.jsx("h1",{style:{fontSize:22,fontWeight:800,marginBottom:8},children:" "}),T.jsx("div",{style:{color:"#6b7280",marginBottom:12},children:r?`: ${r}`:"  ."}),T.jsxs("div",{style:{border:"1px solid #e5e7eb",borderRadius:8,padding:12,marginBottom:16},children:[T.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},children:[T.jsx("button",{onClick:V,style:{padding:"6px 10px",border:"1px solid #d1d5db",borderRadius:8,background:"#fff",cursor:"pointer"},children:""}),T.jsx("div",{style:{fontWeight:800},children:M}),T.jsx("button",{onClick:Q,style:{padding:"6px 10px",border:"1px solid #d1d5db",borderRadius:8,background:"#fff",cursor:"pointer"},children:""})]}),T.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:8,paddingBottom:8,borderBottom:"1px solid #f1f5f9",fontWeight:700,color:"#6b7280"},children:["","","","",""].map(N=>T.jsx("div",{style:{textAlign:"center"},children:N},N))}),T.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:8,marginTop:8},children:S.map((N,B)=>T.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:8},children:N.map(X=>{var O;const q=R(X),ct=X.getMonth()===m,ut=(O=e==null?void 0:e[q])==null?void 0:O[r],yt=!!s[q];return T.jsxs("div",{title:yt?`${q}  ${s[q]}`:q,style:{minHeight:72,border:`1px solid ${yt?"#fecaca":"#e5e7eb"}`,borderRadius:8,padding:8,background:ct?yt?"#fff1f2":"#fff":"#fafafa",opacity:ct?1:.6},children:[T.jsxs("div",{style:{display:"flex",alignItems:"baseline",gap:6,marginBottom:4},children:[T.jsx("div",{style:{fontWeight:800,color:yt?"#ef4444":"#111827"},children:X.getDate()}),yt&&T.jsx("span",{style:{fontSize:11,color:"#ef4444",fontWeight:700},children:s[q]})]}),ut?T.jsxs("div",{style:{fontSize:12,color:"#111827"},children:[T.jsxs("div",{children:[": ",ut.time||"-"]}),T.jsxs("div",{children:[": ",ut.departureTime||"-"]})]}):T.jsx("div",{style:{fontSize:12,color:"#9ca3af"},children:" "})]},q)})},B))})]}),T.jsxs("div",{style:{textAlign:"left"},children:[T.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},children:[T.jsx("h2",{style:{fontSize:18,margin:0},children:"   (/)"}),T.jsxs("div",{children:[T.jsx("button",{onClick:V,style:{padding:"4px 10px",border:"1px solid #d1d5db",borderRadius:8,background:"#fff",cursor:"pointer",marginRight:6},children:""}),T.jsx("span",{style:{fontWeight:700},children:M}),T.jsx("button",{onClick:Q,style:{padding:"4px 10px",border:"1px solid #d1d5db",borderRadius:8,background:"#fff",cursor:"pointer",marginLeft:6},children:""})]})]}),E.length===0?T.jsx("div",{style:{color:"#6b7280"},children:"    ."}):T.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14},children:[T.jsx("thead",{children:T.jsxs("tr",{style:{background:"#f8fafc"},children:[T.jsx("th",{style:{textAlign:"left",padding:"8px",borderBottom:"1px solid #e5e7eb"},children:""}),T.jsx("th",{style:{textAlign:"left",padding:"8px",borderBottom:"1px solid #e5e7eb"},children:""}),T.jsx("th",{style:{textAlign:"left",padding:"8px",borderBottom:"1px solid #e5e7eb"},children:""}),T.jsx("th",{style:{textAlign:"left",padding:"8px",borderBottom:"1px solid #e5e7eb"},children:""})]})}),T.jsx("tbody",{children:E.sort((N,B)=>B.date.localeCompare(N.date)).map(N=>T.jsxs("tr",{children:[T.jsxs("td",{style:{padding:"8px",borderBottom:"1px solid #f1f5f9"},children:[N.date,s[N.date]&&T.jsxs("span",{style:{marginLeft:8,fontSize:12,color:"#ef4444",fontWeight:700},children:["(",s[N.date],")"]})]}),T.jsx("td",{style:{padding:"8px",borderBottom:"1px solid #f1f5f9"},children:N.time||"-"}),T.jsx("td",{style:{padding:"8px",borderBottom:"1px solid #f1f5f9"},children:N.departureTime||"-"}),T.jsx("td",{style:{padding:"8px",borderBottom:"1px solid #f1f5f9"},children:N.status||"-"})]},N.date))})]})]})]})}function ww(){var X;const r=localStorage.getItem("studentId"),e=P.useRef(!1),[i,s]=P.useState(null),[o,c]=P.useState([]),[f,m]=P.useState(0),[y,g]=P.useState({}),[E,S]=P.useState(!1),R=["","",""];P.useEffect(()=>{if(!r)return;const q=Vn(Te(Mt,"students",r),ct=>{ct.exists()&&s({id:ct.id,...ct.data()})});return()=>q()},[r]),P.useEffect(()=>{if(!r)return;const q=Vn(Je(Mt,"payments"),ct=>{const ut={};ct.docs.forEach(yt=>{const O=yt.data();O.studentId===r&&(ut[O.routineNumber]=O.paymentMethod)}),g(ut)});return()=>q()},[r]),P.useEffect(()=>{if(!r)return;const q=Vn(Je(Mt,"routines"),async ct=>{const ut=ct.docs.filter(L=>{const C=L.data();return C.students&&C.students[r]});if(ut.length===0){c([]);return}let yt=[];ut.forEach(L=>{const C=L.data(),Pt=C.students[r],Vt=Pt.routineNumber||C.routineNumber||1,Z=Pt.sessions||{};Object.values(Z).sort((lt,dt)=>(lt.session||0)-(dt.session||0)).forEach(lt=>{yt.push({date:lt.date,session:lt.session,routineNumber:Vt})})});const O=Array.from(new Set(yt.map(L=>L.date))),x=i&&i.name||null,w=await Promise.all(O.map(async L=>{const C=await Ma(Te(Mt,"attendance",L));if(!C.exists())return[L,{}];const Pt=C.data(),Vt=Pt[r]||x&&Pt[x]||{};return[L,Vt]})),j=Object.fromEntries(w),k=yt.map(L=>{var C,Pt;return{...L,status:((C=j[L.date])==null?void 0:C.status)||"",time:((Pt=j[L.date])==null?void 0:Pt.time)||""}});if(c(k),!e.current){e.current=!0;const L=new Date().toISOString().slice(0,10),C={};k.forEach(Vt=>{const Z=Vt.routineNumber||1;C[Z]||(C[Z]=[]),C[Z].push(Vt)}),Object.values(C).sort((Vt,Z)=>Vt[0].routineNumber-Z[0].routineNumber).findIndex(Vt=>Vt.some(Z=>Z.date===L)),m(0)}});return()=>q()},[r,i]);const M=async(q,ct)=>{g(ut=>({...ut,[ct]:q})),await RE(Te(Mt,"payments",`${r}_routine_${ct}`),{studentId:r,routineNumber:ct,paymentMethod:q,paymentComplete:!1,updatedAt:new Date().toISOString()},{merge:!0})},V={};o.forEach(q=>{const ct=q.routineNumber||1;V[ct]||(V[ct]=[]),V[ct].push(q)});const Q=Object.values(V).sort((q,ct)=>ct[0].routineNumber-q[0].routineNumber),N=Q[f]||[],B=((X=N[0])==null?void 0:X.routineNumber)??f+1;return P.useEffect(()=>{if(!i||!B){S(!1);return}const q=`${i.name}_${B}`;(async()=>{try{const ut=await Ma(Te(Mt,"payment_completed",q));if(!ut.exists()){S(!1);return}const yt=ut.data();S(!!yt.paymentComplete)}catch(ut){console.error("payment_completed  :",ut),S(!1)}})()},[i,B]),i?T.jsxs("div",{className:"container-wide",style:{textAlign:"center"},children:[T.jsxs("h1",{style:{fontSize:20,marginBottom:16},children:[" ",i.name,"   ",B,""]}),T.jsx("p",{style:{fontSize:18,marginBottom:16},children:E?"  .":"  .    ."}),T.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:8,marginBottom:24},children:[T.jsx("h3",{style:{margin:0,fontSize:16,fontWeight:"bold"},children:""}),R.map(q=>T.jsx("button",{onClick:()=>M(q,B),style:{padding:"4px 8px",background:q===""?"#4caf50":q===""?"#2196f3":"#f44336",color:"white",borderRadius:4,minWidth:80},children:q},q))]}),T.jsxs("p",{style:{fontSize:16,marginBottom:16},children:["   : ",y[B]||"",y[B]===""&&T.jsx("span",{style:{display:"block",marginTop:8,fontSize:14,color:"#555"},children:"      "}),y[B]===""&&T.jsx("span",{style:{display:"block",marginTop:8,fontSize:14,color:"#555"},children:"  5  ."}),y[B]===""&&T.jsx("span",{style:{display:"block",marginTop:8,fontSize:14,color:"#555"},children:" 3333-31-6107963  * "})]}),T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:24},children:[T.jsx("button",{onClick:()=>m(q=>Math.max(q-1,0)),disabled:f===0,style:{padding:"8px 16px",background:f===0?"#ccc":"#1565c0",color:"white",border:"none",borderRadius:4,cursor:f===0?"default":"pointer"},children:""}),T.jsx("button",{onClick:()=>m(q=>Math.min(q+1,Q.length-1)),disabled:f>=Q.length-1,style:{padding:"8px 16px",background:f>=Q.length-1?"#ccc":"#1565c0",color:"white",border:"none",borderRadius:4,cursor:f>=Q.length-1?"default":"pointer"},children:""})]}),T.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{style:{border:"1px solid #ccc",padding:8},children:""}),T.jsx("th",{style:{border:"1px solid #ccc",padding:8},children:""}),T.jsx("th",{style:{border:"1px solid #ccc",padding:8},children:""}),T.jsx("th",{style:{border:"1px solid #ccc",padding:8},children:""})]})}),T.jsxs("tbody",{children:[N.map((q,ct)=>{const ut=N.slice(0,ct).reduce((x,w)=>x+(w.status==="carryover"?1:0),0),yt=q.status==="carryover",O=yt?"X":(q.session||ct+1)-ut;return T.jsxs("tr",{children:[T.jsx("td",{style:{border:"1px solid #ccc",padding:8,textAlign:"center"},children:O}),T.jsx("td",{style:{border:"1px solid #ccc",padding:8,textAlign:"center"},children:T.jsx("span",{style:yt?{textDecoration:"line-through",color:"#999"}:{},children:q.date})}),T.jsx("td",{style:{border:"1px solid #ccc",padding:8,textAlign:"center"},children:q.status}),T.jsx("td",{style:{border:"1px solid #ccc",padding:8,textAlign:"center"},children:q.time||"-"})]},ct)}),N.length===0&&T.jsx("tr",{children:T.jsx("td",{colSpan:4,style:{padding:16,textAlign:"center",color:"#888"},children:"  ."})})]})]})]}):T.jsx("p",{children:" "})}function Cw(){const[r,e]=P.useState([]),[i,s]=P.useState(null),[o,c]=P.useState({}),[f,m]=P.useState([]);P.useEffect(()=>{(async()=>{const E=(await zs(Je(Mt,"notices"))).docs.map(S=>({id:S.id,title:S.data().title,date:S.data().date}));E.sort((S,R)=>R.date.localeCompare(S.date)),e(E)})(),(async()=>{const g=await zs(Je(Mt,"holidays")),E=new Date,S=N=>`${N.getFullYear()}-${String(N.getMonth()+1).padStart(2,"0")}`,R=S(E),M=S(new Date(E.getFullYear(),E.getMonth()-1,1)),V=S(new Date(E.getFullYear(),E.getMonth()+1,1)),Q=[M,R,V];m(g.docs.map(N=>({id:N.id,...N.data()})).filter(N=>Q.some(B=>N.date.startsWith(B))).sort((N,B)=>N.date.localeCompare(B.date)))})()},[]);const y=async g=>{if(i===g){s(null);return}if(!o[g]){const E=await Ma(Te(Mt,"notices",g));E.exists()&&c(S=>({...S,[g]:E.data().content}))}s(g)};return T.jsxs("div",{className:"container",children:[T.jsxs("div",{style:{background:"#f9f9f9",padding:"12px",borderRadius:"8px",marginBottom:"16px"},children:[T.jsx("h2",{style:{fontSize:"18px",marginBottom:"8px"},children:"   "}),f.length>0?T.jsx("ul",{style:{listStyle:"none",padding:0},children:f.map(g=>T.jsxs("li",{style:{marginBottom:"4px"},children:[g.name,"  ",T.jsx("span",{style:{color:"red"},children:g.date})]},g.id))}):T.jsx("p",{children:"   ."})]}),T.jsx("h1",{style:{fontSize:"24px"},children:"  "}),T.jsxs("ul",{style:{listStyle:"none",padding:0},children:[r.map(g=>T.jsxs("li",{style:{margin:"8px 0",borderBottom:"1px solid #ccc",paddingBottom:8},children:[T.jsxs("div",{onClick:()=>y(g.id),style:{cursor:"pointer",fontWeight:"bold"},children:[g.title," (",g.date,")"]}),i===g.id&&T.jsx("div",{style:{marginTop:8},children:o[g.id]?T.jsx("div",{dangerouslySetInnerHTML:{__html:o[g.id]}}):" ..."})]},g.id)),r.length===0&&T.jsx("p",{children:"  ."})]})]})}function Dw(){const{id:r}=Bb(),[e,i]=P.useState(null);return P.useEffect(()=>{(async()=>{const s=await Ma(Te(Mt,"notices",r));s.exists()&&i({id:s.id,...s.data()})})()},[r]),e?T.jsxs("div",{className:"container",children:[T.jsx("h1",{children:e.title}),T.jsxs("p",{children:[T.jsx("strong",{children:":"})," ",e.date]}),T.jsx("div",{style:{whiteSpace:"pre-wrap",marginTop:12},children:e.content}),T.jsx("p",{style:{marginTop:24},children:T.jsx(Uc,{to:"/notices",children:"  "})})]}):T.jsx("p",{children:"  "})}function Iw(){console.log("  !");const[r,e]=P.useState([]),[i,s]=P.useState(""),o=localStorage.getItem("studentId");P.useEffect(()=>{const m=Je(Mt,"books");return Vn(m,y=>{const E=y.docs.map(S=>({id:S.id,...S.data()})).filter(S=>S.studentId===o);e(E)})},[o]);const c=P.useMemo(()=>i?[...r].sort((y,g)=>i==="grade"?y.grade-g.grade:i==="title"?y.title.localeCompare(g.title):i==="completedDate"?y.completedDate.localeCompare(g.completedDate):0):r,[r,i]),f=()=>{const m=["","",""," ",""],y=c.map((M,V)=>[V+1,M.name,M.grade,M.title,M.completedDate]);let g=m.join(",")+`
`;y.forEach(M=>{g+=M.join(",")+`
`});const E=new Blob([g],{type:"text/csv;charset=utf-8;"}),S=URL.createObjectURL(E),R=document.createElement("a");R.href=S,R.download=`_${new Date().toISOString().slice(0,10)}.csv`,R.click(),URL.revokeObjectURL(S)};return T.jsxs("div",{className:"container",children:[T.jsxs("h1",{style:{fontSize:"24px",marginBottom:"20px"},children:["   ( : ",r.length,")"]}),T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px"},children:[T.jsx("button",{onClick:f,style:{padding:"8px 16px",backgroundColor:"#007bff",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"},children:" "}),T.jsx("button",{onClick:()=>s("grade"),style:{padding:"8px 12px",marginLeft:"4px",backgroundColor:"#28a745",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"},children:" "}),T.jsx("button",{onClick:()=>s("title"),style:{padding:"8px 12px",backgroundColor:"#17a2b8",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"},children:" "}),T.jsx("button",{onClick:()=>s("completedDate"),style:{padding:"8px 12px",backgroundColor:"#ffc107",color:"#000",border:"none",borderRadius:"4px",cursor:"pointer"},children:" "})]}),T.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"20px"},children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{style:{border:"1px solid #ccc",padding:"8px"},children:""}),T.jsx("th",{style:{border:"1px solid #ccc",padding:"8px"},children:""}),T.jsx("th",{style:{border:"1px solid #ccc",padding:"8px"},children:""}),T.jsx("th",{style:{border:"1px solid #ccc",padding:"8px"},children:" "}),T.jsx("th",{style:{border:"1px solid #ccc",padding:"8px"},children:""})]})}),T.jsx("tbody",{children:c.length>0?c.map((m,y)=>T.jsxs("tr",{children:[T.jsx("td",{style:{border:"1px solid #ccc",padding:"8px"},children:y+1}),T.jsx("td",{style:{border:"1px solid #ccc",padding:"8px"},children:m.name}),T.jsx("td",{style:{border:"1px solid #ccc",padding:"8px"},children:m.grade}),T.jsx("td",{style:{border:"1px solid #ccc",padding:"8px"},children:m.title}),T.jsx("td",{style:{border:"1px solid #ccc",padding:"8px"},children:m.completedDate})]},m.id)):T.jsx("tr",{children:T.jsx("td",{colSpan:"5",style:{border:"1px solid #ccc",padding:"8px",textAlign:"center"},children:"  ."})})})]})]})}function Vw(){const[r,e]=P.useState([]),[i,s]=P.useState([]),[o,c]=P.useState({}),[f,m]=P.useState(null),[y,g]=P.useState(""),E=localStorage.getItem("studentId");P.useEffect(()=>{if(!E)return;const V=Je(Mt,"comments");return Vn(V,Q=>{const B=Q.docs.map(X=>({id:X.id,...X.data()})).filter(X=>X.studentId===E);e(B.sort((X,q)=>(q.createdAt||"").localeCompare(X.createdAt||"")))})},[E]),P.useEffect(()=>{if(!E)return;const V=Je(Mt,"answer");return Vn(V,Q=>{const B=Q.docs.map(X=>({id:X.id,...X.data()})).filter(X=>X.studentId===E);s(B.sort((X,q)=>(q.createdAt||"").localeCompare(X.createdAt||"")))})},[E]);const S=async V=>{var X;const Q=(X=o[V])==null?void 0:X.trim();if(!Q)return alert(" !");if(!E)return alert("  .    .");const N=await Ma(Te(Mt,"students",E)),B=N.exists()?N.data().name:"";await wE(Je(Mt,"answer"),{studentId:E,studentName:B,comment:Q,date:new Date().toISOString().slice(0,10),createdAt:new Date().toISOString(),parentId:V}),c(q=>({...q,[V]:""})),alert(" !")},R=async V=>{window.confirm("   ?")&&await Tw(Te(Mt,"answer",V))},M=async V=>{if(!y.trim())return alert("  !");await xE(Te(Mt,"answer",V),{comment:y}),m(null),g("")};return T.jsxs("div",{className:"container",style:{textAlign:"center",marginTop:"40px"},children:[T.jsx("h2",{style:{fontSize:"20px",marginBottom:"16px"},children:"  "}),T.jsx("h3",{style:{fontSize:"15px",marginBottom:"16px"},children:"**    ! **"}),T.jsxs("ul",{style:{listStyle:"none",padding:0,textAlign:"left"},children:[r.filter(V=>{var Q;return!((Q=V.comment)!=null&&Q.startsWith(":"))}).map(V=>{var N;const Q=i.filter(B=>B.parentId===V.id);return T.jsxs("li",{style:{marginBottom:16,borderBottom:"1px solid #eee",paddingBottom:8},children:[T.jsxs("div",{children:[V.comment," ",T.jsxs("span",{style:{color:"#888",fontSize:"12px"},children:["(",V.date,")"]})]}),T.jsxs("div",{style:{fontSize:"12px",color:"#aaa"},children:[": ",(N=V.createdAt)==null?void 0:N.slice(0,19).replace("T"," ")]}),Q.map(B=>T.jsx("div",{style:{marginTop:4,marginLeft:10,background:"#f8f8f8",padding:"4px 8px",borderRadius:4},children:f===B.id?T.jsxs(T.Fragment,{children:[T.jsx("input",{value:y,onChange:X=>g(X.target.value),style:{width:"60%",padding:4}}),T.jsx("button",{onClick:()=>M(B.id),style:{marginLeft:8},children:""}),T.jsx("button",{onClick:()=>m(null),style:{marginLeft:4},children:""})]}):T.jsxs(T.Fragment,{children:[T.jsxs("div",{style:{fontSize:"13px",color:"#333"},children:[" ",B.comment]}),T.jsxs("div",{style:{marginTop:4},children:[T.jsx("button",{onClick:()=>{m(B.id),g(B.comment||"")},style:{marginRight:6},children:""}),T.jsx("button",{onClick:()=>R(B.id),children:""})]})]})},B.id)),T.jsxs("div",{style:{marginTop:8},children:[T.jsx("input",{placeholder:" ",value:o[V.id]||"",onChange:B=>c(X=>({...X,[V.id]:B.target.value})),style:{width:"70%",padding:4}}),T.jsx("button",{onClick:()=>S(V.id),style:{marginLeft:8,padding:"4px 12px"},children:""})]})]},V.id)}),r.filter(V=>{var Q;return!((Q=V.comment)!=null&&Q.startsWith(":"))}).length===0&&T.jsx("li",{style:{color:"#888"},children:"  ."})]})]})}function Nw(){const[r,e]=P.useState("comments");return T.jsxs("div",{className:"container",style:{textAlign:"center",marginTop:"40px"},children:[T.jsx("h1",{style:{fontSize:"24px",marginBottom:"20px"},children:"    "}),T.jsxs("div",{style:{marginBottom:"16px"},children:[T.jsx("button",{onClick:()=>e("comments"),style:{padding:"8px 16px",marginRight:"8px",backgroundColor:r==="comments"?"#007bff":"#f0f0f0",color:r==="comments"?"#fff":"#333",border:"none",borderRadius:"4px",cursor:"pointer"},children:""}),T.jsx("button",{onClick:()=>e("books"),style:{padding:"8px 16px",marginRight:"8px",backgroundColor:r==="books"?"#007bff":"#f0f0f0",color:r==="books"?"#fff":"#333",border:"none",borderRadius:"4px",cursor:"pointer"},children:""})]}),r==="comments"&&T.jsx(Vw,{}),T.jsx("div",{className:"page-books",children:r==="books"&&T.jsx(Iw,{})}),r==="points"&&T.jsx(PointsPage,{})]})}function Mw(){var si,li;const[r,e]=P.useState("elementary"),[i,s]=P.useState(""),[o,c]=P.useState(""),[f,m]=P.useState(null),[y,g]=P.useState([]),[E,S]=P.useState([]),[R,M]=P.useState({}),[V,Q]=P.useState({}),[N,B]=P.useState([]),[X,q]=P.useState([]),[ct,ut]=P.useState(null),yt=[{id:"opt1",label:"() +  1( 1) 13 + 13 = 26"},{id:"opt2",label:"() +  2( 2) 13 + 25 = 38"},{id:"opt3",label:"() : 15"}],O=yt.reduce((nt,ft)=>(nt[ft.id]=ft.label,nt),{}),[x,w]=P.useState(""),[j,k]=P.useState(null),L=["","","","",""],[C,Pt]=P.useState([]),[Vt,Z]=P.useState(null),$=P.useMemo(()=>({elementary:{:["230"],:["3","4"],:["2","3","4"],:["3","4"],:["3","4"]},middle:{:["330","5","630"],:["5","630"],:["5","630"],:["5","630"],:["5","630"]}}),[]),lt={elementary:"",middle:"",middleClinic:"  ",operation:" "},dt=r==="elementary"||r==="middle"?$[r]:null;P.useEffect(()=>{const nt=localStorage.getItem("studentId");nt&&(s(nt),Ma(Te(Mt,"students",nt)).then(ft=>{const _t=ft.data();_t!=null&&_t.name&&c(String(_t.name))}).catch(()=>{}))},[]),P.useEffect(()=>{if(r==="operation"||r==="middleClinic"){M({}),Q({});return}const nt=Hd(Je(Mt,"enrollments"),Gd("group","==",r)),ft=Vn(nt,_t=>{const wt={},ge={};_t.forEach(Fe=>{const qt=Fe.data(),zt=`${qt.day}|${qt.time}`;qt.status==="waitlist"?ge[zt]=(ge[zt]||0)+1:wt[zt]=(wt[zt]||0)+1}),M(wt),Q(ge)});return()=>ft()},[r]),P.useEffect(()=>{if(!o.trim()){B([]),q([]),g([]),S([]),ut(null);return}const nt=Te(Mt,"enrollments_by_student",o.trim()),ft=Vn(nt,_t=>{var wt,ge;if(_t.exists()){const Fe=_t.data(),qt=Array.isArray(Fe.applied)?Fe.applied:[],zt=Array.isArray(Fe.waitlist)?Fe.waitlist:[];B(qt),q(zt),ut(((ge=(wt=Fe.updatedAt)==null?void 0:wt.toDate)==null?void 0:ge.call(wt))||null),g(qt.map(({day:ue,time:ce,status:un})=>({day:ue,time:ce,status:un}))),S(zt.map(({day:ue,time:ce})=>({day:ue,time:ce})))}else B([]),q([]),g([]),S([]),ut(null)});return()=>ft()},[o]),P.useEffect(()=>{if(!i){k(null),w("");return}const nt=Te(Mt,"operation_survey",i),ft=Vn(nt,_t=>{if(_t.exists()){const wt=_t.data();k(wt),w(wt.choice||"")}else k(null),w("")});return()=>ft()},[i]),P.useEffect(()=>{if(!i){Z(null),Pt([]);return}const nt=Te(Mt,"middle_clinic_days",i),ft=Vn(nt,_t=>{if(_t.exists()){const wt=_t.data(),ge=Array.isArray(wt.days)?wt.days:[];Z(wt),Pt(ge)}else Z(null),Pt([])});return()=>ft()},[i]);const I=(nt,ft)=>`${nt}|${ft}`,J=(nt,ft,_t)=>nt.some(wt=>wt.day===ft&&wt.time===_t),ot=(nt,ft)=>{const _t=[["",""],["",""],["",""]];if(J(y,nt,ft)){g(y.filter(wt=>!(wt.day===nt&&wt.time===ft)));return}if(y.length===0){g([{day:nt,time:ft}]);return}if(y.length===1){const wt=y[0];if(wt.day===nt){g([{day:nt,time:ft}]);return}const ge=[wt.day,nt].sort().join("");if(!_t.some(qt=>qt.slice().sort().join("")===ge)){alert(" '/', '/', '/'    .");return}g([wt,{day:nt,time:ft}]);return}if(y.length>=2){const wt=y.findIndex(ge=>ge.day===nt);if(wt!==-1){const ge=[...y];ge[wt]={day:nt,time:ft},g(ge);return}alert("   '/', '/', '/'     .");return}},st=(nt,ft)=>{if(J(y,nt,ft)){g(y.filter(_t=>!(_t.day===nt&&_t.time===ft)));return}if(y.length>=2){alert("    2   .");return}g([...y,{day:nt,time:ft}])},mt=nt=>{if(C.includes(nt)){Pt(C.filter(ft=>ft!==nt));return}if(C.length>=1){alert("    1   .");return}Pt([nt])},Dt=()=>{if(r==="elementary"||r==="middle"){alert(`       ,
 ''    .`);return}},St=()=>{if(r==="operation"||r==="middleClinic"||!f)return;const{day:nt,time:ft}=f;if(J(E,nt,ft)){S(E.filter(_t=>!(_t.day===nt&&_t.time===ft)));return}J(y,nt,ft)&&g(y.filter(_t=>!(_t.day===nt&&_t.time===ft))),S([...E,{day:nt,time:ft}])},fe=(nt,ft)=>g(y.filter(_t=>!(_t.day===nt&&_t.time===ft))),Kt=(nt,ft)=>S(E.filter(_t=>!(_t.day===nt&&_t.time===ft))),Nn=async()=>{if(r==="operation"||r==="middleClinic")return;if(!o.trim()){alert("   .     .");return}if(y.length===0&&E.length===0){alert("  .");return}let nt=[...y],ft=[...E];if(r==="elementary"){if(y.map(ce=>ce.day).length!==2){alert("  2  . (/, /, /   )");return}const zt=[],ue=[...ft];y.forEach(({day:ce,time:un})=>{const Kn=I(ce,un),se=R[Kn]||0;if(se>=8)ue.push({day:ce,time:un});else{const Xt=se>=6?"reserve":"applied";zt.push({day:ce,time:un,status:Xt})}}),nt=zt,ft=ue}else if(r==="middle"){const qt=[],zt=[...ft];y.forEach(({day:ue,time:ce})=>{const un=I(ue,ce),Kn=R[un]||0;if(Kn>=8)zt.push({day:ue,time:ce});else{const se=Kn>=6?"reserve":"applied";qt.push({day:ue,time:ce,status:se})}}),nt=qt,ft=zt}const _t=yd(Mt),wt=Te(Mt,"enrollments_by_student",o.trim());_t.set(wt,{studentName:o.trim(),applied:nt.map(({day:qt,time:zt,status:ue})=>({day:qt,time:zt,group:r,status:ue==="reserve"?"reserve":"applied",label:ue==="reserve"?"()":""})),waitlist:ft.map(({day:qt,time:zt})=>({day:qt,time:zt,group:r,status:"waitlist",label:""})),updatedAt:Da()});const ge=Hd(Je(Mt,"enrollments"),Gd("studentName","==",o.trim()));(await zs(ge)).forEach(qt=>_t.delete(qt.ref)),nt.forEach(({day:qt,time:zt,status:ue})=>{const ce=ue==="reserve"?"reserve":"applied",un=`${o.trim()}|${r}|${qt}|${zt}|${ce}`,Kn=Te(Mt,"enrollments",un);_t.set(Kn,{studentName:o.trim(),group:r,day:qt,time:zt,status:ce,createdAt:Da()})}),ft.forEach(({day:qt,time:zt})=>{const ue=`${o.trim()}|${r}|${qt}|${zt}|waitlist`,ce=Te(Mt,"enrollments",ue);_t.set(ce,{studentName:o.trim(),group:r,day:qt,time:zt,status:"waitlist",createdAt:Da()})}),await _t.commit(),g(nt),S(ft),alert(".")},ai=async()=>{if(!i||!o.trim()){alert("   .     .");return}if(!x){alert("    .");return}const nt=yd(Mt),ft=Te(Mt,"operation_survey",i);nt.set(ft,{studentId:i,studentName:o.trim(),choice:x,updatedAt:Da()}),await nt.commit(),alert("   .")},Yn=async()=>{if(!i||!o.trim()){alert("   .     .");return}if(!C.length){alert("    .");return}const nt=yd(Mt),ft=Te(Mt,"middle_clinic_days",i);nt.set(ft,{studentId:i,studentName:o.trim(),days:C,updatedAt:Da()}),await nt.commit(),alert("    .")};return T.jsxs("div",{style:{padding:16},children:[T.jsx("h2",{style:{marginBottom:12},children:""}),T.jsxs("div",{style:{marginBottom:16,padding:12,borderRadius:8,border:"1px solid #e5e7eb",background:"#f9fafb",fontSize:13,lineHeight:1.5,color:"#374151"},children:[T.jsxs("p",{style:{marginBottom:6},children:["     , ",T.jsx("b",{children:"2026 3  "})," ."]}),T.jsxs("p",{style:{marginBottom:6},children:[T.jsx("b",{children:""})," ",T.jsx("b",{children:"/, /, /"}),"      . (  2  ,  ",T.jsx("b",{children:""}),"   .)"]}),T.jsxs("p",{style:{marginBottom:8},children:["    ",T.jsx("b",{children:"   6"})," ,              ."]}),T.jsx("hr",{style:{border:"none",borderTop:"1px dashed #e5e7eb",margin:"8px 0"}}),T.jsx("p",{style:{marginBottom:6},children:T.jsx("b",{children:"     ( ) "})}),T.jsxs("p",{style:{marginBottom:6},children:[" ",T.jsx("b",{children:" "}),"        ."]}),T.jsxs("p",{style:{marginBottom:6},children:["  ,          "," ",T.jsx("b",{children:"  ( ) "})," .    ",T.jsx("b",{children:"  "})," ,",T.jsx("b",{children:"     "}),"  ."]}),T.jsxs("p",{style:{marginBottom:8},children:["( )   "," ",T.jsx("b",{children:"  "})," ",T.jsx("b",{children:"    "}),"   ."]}),T.jsx("p",{style:{marginBottom:6},children:T.jsx("b",{children:"     "})}),T.jsxs("p",{style:{marginBottom:6},children:["  ",T.jsx("b",{children:"  "}),",      ",T.jsx("b",{children:" "}),"         ."]}),T.jsx("p",{style:{marginBottom:0},children:"     ."})]}),T.jsx("div",{style:{display:"flex",gap:8,marginBottom:12},children:["elementary","middle","middleClinic","operation"].map(nt=>{const ft=r===nt;return T.jsx("button",{onClick:()=>{e(nt),m(null)},style:{padding:"8px 14px",borderRadius:8,border:`1px solid ${ft?"#0d6efd":"#ddd"}`,background:ft?"#0d6efd":"#fff",color:ft?"#fff":"#333",fontWeight:600,cursor:"pointer"},children:lt[nt]},nt)})}),r==="operation"?T.jsxs("div",{style:{border:"1px solid #e5e7eb",borderRadius:8,padding:12,background:"#fdfdfd"},children:[T.jsx("h3",{style:{marginBottom:10,fontSize:16},children:" "}),T.jsx("p",{style:{fontSize:13,color:"#4b5563",marginBottom:6},children:"      ."}),T.jsxs("p",{style:{fontSize:13,color:"#4b5563",marginBottom:10},children:[" ",T.jsx("b",{children:" "}),", ",T.jsx("b",{children:"  3"})," .   ",T.jsx("b",{children:"50 "}),", ",T.jsx("b",{children:"3  / 4 "}),"  "," ",T.jsx("b",{children:"  8"}),"."]}),T.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8,marginBottom:12},children:yt.map(nt=>T.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,padding:"8px 10px",borderRadius:8,border:x===nt.id?"1px solid #0d6efd":"1px solid #e5e7eb",background:x===nt.id?"#e7f1ff":"#ffffff",cursor:"pointer",fontSize:13,color:"#111827"},children:[T.jsx("input",{type:"radio",name:"operation_choice",value:nt.id,checked:x===nt.id,onChange:()=>w(nt.id)}),T.jsx("span",{children:nt.label})]},nt.id))}),T.jsx("button",{onClick:ai,style:{padding:"8px 12px",borderRadius:8,border:"1px solid #0d6efd",background:"#0d6efd",color:"#fff",fontWeight:700,cursor:"pointer",marginBottom:12},children:"  "}),T.jsxs("div",{style:{padding:10,borderRadius:8,border:"1px solid #e5e7eb",background:"#f9fafb",fontSize:13},children:[T.jsxs("div",{style:{fontWeight:700,marginBottom:4},children:["   ",o?`: ${o}`:""]}),j?T.jsxs(T.Fragment,{children:[T.jsxs("div",{style:{marginBottom:4},children:[":"," ",T.jsx("b",{children:O[j.choice]||"   "})]}),((si=j.updatedAt)==null?void 0:si.toDate)&&T.jsxs("div",{style:{fontSize:12,color:"#6b7280"},children:[":"," ",j.updatedAt.toDate().toLocaleString()]})]}):T.jsx("div",{style:{color:"#6b7280"},children:"    ."})]})]}):r==="middleClinic"?T.jsxs("div",{style:{border:"1px solid #e5e7eb",borderRadius:8,padding:12,background:"#fdfdfd"},children:[T.jsx("h3",{style:{marginBottom:10,fontSize:16},children:"  "}),T.jsxs("p",{style:{fontSize:13,color:"#4b5563",marginBottom:6},children:["   , ",T.jsx("b",{children:"   "}),"  ."]}),T.jsxs("p",{style:{fontSize:13,color:"#4b5563",marginBottom:10},children:["  ",T.jsx("b",{children:"  , / "}),"  ,",T.jsx("b",{children:"   1"}),"   ."]}),T.jsx("div",{style:{display:"flex",gap:8,flexWrap:"wrap",marginBottom:12},children:L.map(nt=>{const ft=C.includes(nt);return T.jsx("button",{onClick:()=>mt(nt),style:{padding:"8px 10px",borderRadius:999,border:ft?"1px solid #0d6efd":"1px solid #e5e7eb",background:ft?"#e7f1ff":"#ffffff",cursor:"pointer",fontSize:13,minWidth:48},children:nt},nt)})}),T.jsx("button",{onClick:Yn,style:{padding:"8px 12px",borderRadius:8,border:"1px solid #0d6efd",background:"#0d6efd",color:"#fff",fontWeight:700,cursor:"pointer",marginBottom:12},children:"  "}),T.jsxs("div",{style:{padding:10,borderRadius:8,border:"1px solid #e5e7eb",background:"#f9fafb",fontSize:13},children:[T.jsxs("div",{style:{fontWeight:700,marginBottom:4},children:["    ",o?`: ${o}`:""]}),Vt&&Array.isArray(Vt.days)&&Vt.days.length?T.jsxs(T.Fragment,{children:[T.jsxs("div",{style:{marginBottom:4},children:[" : ",T.jsx("b",{children:Vt.days.join(", ")})]}),((li=Vt.updatedAt)==null?void 0:li.toDate)&&T.jsxs("div",{style:{fontSize:12,color:"#6b7280"},children:[": ",Vt.updatedAt.toDate().toLocaleString()]})]}):T.jsx("div",{style:{color:"#6b7280"},children:"     ."})]})]}):T.jsxs(T.Fragment,{children:[T.jsx("div",{style:{overflowX:"auto"},children:T.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",minWidth:560,border:"1px solid #e5e7eb"},children:[T.jsx("thead",{children:T.jsxs("tr",{style:{background:"#f8fafc"},children:[T.jsx("th",{style:{textAlign:"left",padding:"10px 12px",borderBottom:"1px solid #e5e7eb",fontWeight:700,width:90,whiteSpace:"nowrap"},children:""}),T.jsx("th",{style:{textAlign:"left",padding:"10px 12px",borderBottom:"1px solid #e5e7eb",fontWeight:700},children:" ( / )"})]})}),T.jsx("tbody",{children:dt&&Object.entries(dt).map(([nt,ft])=>T.jsxs("tr",{children:[T.jsx("td",{style:{padding:"10px 12px",borderBottom:"1px solid #f1f5f9",fontWeight:600,whiteSpace:"nowrap"},children:nt}),T.jsx("td",{style:{padding:"10px 12px",borderBottom:"1px solid #f1f5f9"},children:T.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:ft.map(_t=>{const wt=I(nt,_t),ge=R[wt]||0,Fe=V[wt]||0,qt=f&&f.day===nt&&f.time===_t,zt=J(y,nt,_t),ue=J(E,nt,_t);return T.jsxs("button",{onClick:()=>{m({day:nt,time:_t}),r==="elementary"?ot(nt,_t):r==="middle"&&st(nt,_t)},style:{padding:"8px 10px",borderRadius:8,border:`1px solid ${zt||ue||qt?"#0d6efd":"#d1d5db"}`,background:zt?"#e7f1ff":ue?"#f1f1f1":qt?"#f3f4ff":"#fff",color:"#111827",fontWeight:600,cursor:"pointer",whiteSpace:"nowrap"},title:`${nt} ${_t}`,children:[_t,T.jsxs("span",{style:{color:"#6b7280",fontWeight:500,marginLeft:6},children:["( ",ge," /  ",Fe,")"]}),zt&&T.jsx("span",{style:{marginLeft:6,fontSize:12,color:"#0d6efd"},children:" "}),ue&&T.jsx("span",{style:{marginLeft:6,fontSize:12,color:"#6c757d"},children:" "})]},`${nt}-${_t}`)})})})]},nt))})]})}),T.jsxs("div",{style:{marginTop:12,display:"flex",gap:8,alignItems:"center",flexWrap:"wrap"},children:[T.jsx("div",{style:{minWidth:220,color:"#374151"},children:f?T.jsxs("span",{children:[" : ",T.jsx("b",{children:f.day})," ",T.jsx("b",{children:f.time})]}):T.jsx("span",{style:{color:"#6b7280"},children:"   "})}),T.jsx("button",{disabled:!f,onClick:Dt,style:{padding:"8px 12px",borderRadius:8,border:"1px solid #0d6efd",background:f?"#0d6efd":"#e5e7eb",color:f?"#fff":"#9ca3af",fontWeight:700,cursor:f?"pointer":"not-allowed"},children:" ( 2)"}),T.jsx("button",{disabled:!f,onClick:St,style:{padding:"8px 12px",borderRadius:8,border:"1px solid #6c757d",background:f?"#6c757d":"#e5e7eb",color:f?"#fff":"#9ca3af",fontWeight:700,cursor:f?"pointer":"not-allowed"},children:" ()"}),T.jsx("button",{onClick:Nn,style:{padding:"8px 12px",borderRadius:8,border:"1px solid #0d6efd",background:"#0d6efd",color:"#fff",fontWeight:700,cursor:"pointer"},children:""})]}),T.jsxs("div",{style:{marginTop:16,display:"grid",gap:12,gridTemplateColumns:"1fr 1fr"},children:[T.jsxs("div",{children:[T.jsx("div",{style:{fontWeight:700,marginBottom:6},children:" ( 2)"}),y.length===0?T.jsx("div",{style:{color:"#6b7280"},children:""}):T.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:y.map(({day:nt,time:ft,status:_t})=>T.jsxs("span",{style:{padding:"6px 10px",borderRadius:999,border:`1px solid ${_t==="reserve"?"#6c757d":"#0d6efd"}`,background:_t==="reserve"?"#f1f1f1":"#e7f1ff",display:"inline-flex",alignItems:"center",gap:8},title:_t==="reserve"?"()":"",children:[nt," ",ft,_t==="reserve"?" ()":"",T.jsx("button",{onClick:()=>fe(nt,ft),title:"",style:{border:"none",background:"transparent",cursor:"pointer",fontWeight:700,color:_t==="reserve"?"#6c757d":"#0d6efd"},children:""})]},`ap-${nt}-${ft}`))})]}),T.jsxs("div",{children:[T.jsx("div",{style:{fontWeight:700,marginBottom:6},children:" ()"}),E.length===0?T.jsx("div",{style:{color:"#6b7280"},children:""}):T.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:E.map(({day:nt,time:ft})=>T.jsxs("span",{style:{padding:"6px 10px",borderRadius:999,border:"1px solid #6c757d",background:"#f1f1f1",display:"inline-flex",alignItems:"center",gap:8},children:[nt," ",ft,T.jsx("button",{onClick:()=>Kt(nt,ft),title:"",style:{border:"none",background:"transparent",cursor:"pointer",fontWeight:700,color:"#6c757d"},children:""})]},`wt-${nt}-${ft}`))})]})]}),T.jsxs("div",{style:{marginTop:20,padding:12,border:"1px solid #e5e7eb",borderRadius:8},children:[T.jsxs("div",{style:{fontWeight:700,marginBottom:8},children:["  ",o?`: ${o}`:""]}),o?T.jsxs(T.Fragment,{children:[T.jsxs("div",{style:{marginBottom:4},children:[T.jsx("b",{children:":"})," ",N.length?N.map(nt=>{const ft=nt.group==="elementary"?"":"",_t=nt.status==="reserve"||(nt==null?void 0:nt.label)==="()"?" ()":"";return`${ft} ${nt.day} ${nt.time}${_t}`}).join(", "):T.jsx("span",{style:{color:"#6b7280"},children:""})]}),T.jsxs("div",{children:[T.jsx("b",{children:":"})," ",X.length?X.map(nt=>`${nt.group==="elementary"?"":""} ${nt.day} ${nt.time}`).join(", "):T.jsx("span",{style:{color:"#6b7280"},children:""})]}),ct&&T.jsxs("div",{style:{marginTop:6,fontSize:12,color:"#6b7280"},children:[": ",ct.toLocaleString()]})]}):T.jsx("div",{style:{color:"#6b7280"},children:"   "})]})]})]})}function Ow(){const[r,e]=P.useState("elementary"),i={elementary:"",middle:""},o=P.useMemo(()=>({elementary:{:["2","3","4"],:["2","3","4"],:["2","3","4"],:["3","4"]},middle:{:["330","5","630"],:["5","630"],:["5","630"],:["5","630"],:["5","630"]}}),[])[r],[c,f]=P.useState({}),[m,y]=P.useState({});P.useEffect(()=>{const $=Hd(Je(Mt,"enrollments"),Gd("group","==",r)),lt=Vn($,dt=>{const I={},J={};dt.forEach(ot=>{const st=ot.data(),mt=`${st.day}|${st.time}`;st.status==="waitlist"?J[mt]=(J[mt]||0)+1:I[mt]=(I[mt]||0)+1}),f(I),y(J)});return()=>lt()},[r]);const[g,E]=P.useState(null),[S,R]=P.useState([]),[M,V]=P.useState([]),Q=($,lt)=>`${$}|${lt}`,N=($,lt,dt)=>$.some(I=>I.day===lt&&I.time===dt),B=()=>{if(!g)return;const{day:$,time:lt}=g,dt=Q($,lt),I=c[dt]||0;if(N(S,$,lt)){R(S.filter(mt=>!(mt.day===$&&mt.time===lt)));return}let J="applied",ot=".";if(I>=6&&I<8?(J="reserve",ot=` 6 .
7,8  .`):I>=8&&(J="waitlist",ot="   .  ."),J==="waitlist"){alert(ot),X();return}if(S.length>=2){alert("  2 .");return}const st=S.findIndex(mt=>mt.day===$);if(st!==-1){const mt=[...S];mt[st]={day:$,time:lt,status:J},R(mt)}else R([...S,{day:$,time:lt,status:J}]);N(M,$,lt)&&V(M.filter(mt=>!(mt.day===$&&mt.time===lt))),alert(ot)},X=()=>{if(!g)return;const{day:$,time:lt}=g;if(N(M,$,lt)){V(M.filter(dt=>!(dt.day===$&&dt.time===lt)));return}N(S,$,lt)&&R(S.filter(dt=>!(dt.day===$&&dt.time===lt))),V([...M,{day:$,time:lt}])},q=($,lt)=>R(S.filter(dt=>!(dt.day===$&&dt.time===lt))),ct=($,lt)=>V(M.filter(dt=>!(dt.day===$&&dt.time===lt))),[ut,yt]=P.useState(""),[O,x]=P.useState(""),[w,j]=P.useState(""),[k,L]=P.useState(""),C=$=>$.replace(/[^0-9]/g,""),Pt=$=>$.replace(/[^0-9]/g,"").slice(0,6),Vt=async()=>{L("");const $=ut.trim(),lt=C(O),dt=Pt(w);if(!$||dt.length!==6||lt.length<7){L("/6/    .");return}const I=Te(Mt,"newstudent",$),J=await Ma(I);if(!J.exists()){L("   . []   ."),R([]),V([]);return}const ot=J.data()||{},st=(ot.birth6||"").toString()===dt,mt=C(ot.parentPhone||"")===lt;if(!st||!mt){L("   /  ."),R([]),V([]);return}const Dt=Array.isArray(ot.applied)?ot.applied:[],St=Array.isArray(ot.waitlist)?ot.waitlist:[];R(Dt.map(({day:fe,time:Kt})=>({day:fe,time:Kt}))),V(St.map(({day:fe,time:Kt})=>({day:fe,time:Kt}))),L(" .")},Z=async()=>{const $=ut.trim(),lt=C(O),dt=Pt(w);if(!$){alert("   .");return}if(dt.length!==6){alert(" 6  .");return}if(lt.length<7){alert("    .");return}if(S.length===0&&M.length===0&&!confirm("/  .   ?"))return;const I=Te(Mt,"newstudent",$);await RE(I,{studentName:$,parentPhone:lt,birth6:dt,applied:S.map(({day:J,time:ot,status:st})=>({day:J,time:ot,group:r,status:st,label:st==="reserve"?"()":""})),waitlist:M.map(({day:J,time:ot})=>({day:J,time:ot,group:r,status:"waitlist",label:""})),updatedAt:Da()},{merge:!0}),alert("."),L(" .")};return T.jsxs("div",{style:{padding:16},children:[T.jsx("h2",{style:{marginBottom:12},children:"  ( /)"}),T.jsxs("div",{style:{padding:12,border:"1px solid #e5e7eb",borderRadius:8,marginBottom:12},children:[T.jsxs("div",{style:{display:"grid",gap:8,gridTemplateColumns:"1fr 1fr 1fr"},children:[T.jsxs("div",{children:[T.jsx("div",{style:{fontSize:12,color:"#6b7280"},children:" "}),T.jsx("input",{value:ut,onChange:$=>yt($.target.value),placeholder:": ",style:{width:"100%",padding:8,border:"1px solid #d1d5db",borderRadius:8}})]}),T.jsxs("div",{children:[T.jsx("div",{style:{fontSize:12,color:"#6b7280"},children:" "}),T.jsx("input",{value:O,onChange:$=>x($.target.value),placeholder:": 01012345678(-)",style:{width:"100%",padding:8,border:"1px solid #d1d5db",borderRadius:8}})]}),T.jsxs("div",{children:[T.jsx("div",{style:{fontSize:12,color:"#6b7280"},children:" 6"}),T.jsx("input",{value:w,onChange:$=>j($.target.value.replace(/[^0-9]/g,"").slice(0,6)),placeholder:": 170806",inputMode:"numeric",maxLength:6,style:{width:"100%",padding:8,border:"1px solid #d1d5db",borderRadius:8}})]})]}),T.jsxs("div",{style:{marginTop:10,display:"flex",gap:8},children:[T.jsx("button",{onClick:Vt,style:{padding:"8px 12px",borderRadius:8,border:"1px solid #6c757d",background:"#6c757d",color:"#fff",fontWeight:700,cursor:"pointer"},children:""}),T.jsx("button",{onClick:Z,style:{padding:"8px 12px",borderRadius:8,border:"1px solid #0d6efd",background:"#0d6efd",color:"#fff",fontWeight:700,cursor:"pointer"},children:""})]}),k&&T.jsx("div",{style:{marginTop:8,color:"#374151"},children:k})]}),T.jsx("div",{style:{display:"flex",gap:8,marginBottom:12},children:["elementary","middle"].map($=>{const lt=$===r;return T.jsx("button",{onClick:()=>{e($),E(null)},style:{padding:"8px 14px",borderRadius:8,border:`1px solid ${lt?"#0d6efd":"#ddd"}`,background:lt?"#0d6efd":"#fff",color:lt?"#fff":"#333",fontWeight:600,cursor:"pointer"},children:i[$]},$)})}),T.jsx("div",{style:{overflowX:"auto"},children:T.jsxs("table",{style:{width:"100%",minWidth:560,borderCollapse:"collapse",border:"1px solid #e5e7eb"},children:[T.jsx("thead",{children:T.jsxs("tr",{style:{background:"#f8fafc"},children:[T.jsx("th",{style:{textAlign:"left",padding:"10px 12px",borderBottom:"1px solid #e5e7eb",width:90},children:""}),T.jsx("th",{style:{textAlign:"left",padding:"10px 12px",borderBottom:"1px solid #e5e7eb"},children:" ( / )"})]})}),T.jsx("tbody",{children:Object.entries(o).map(([$,lt])=>T.jsxs("tr",{children:[T.jsx("td",{style:{padding:"10px 12px",borderBottom:"1px solid #f1f5f9",fontWeight:600},children:$}),T.jsx("td",{style:{padding:"10px 12px",borderBottom:"1px solid #f1f5f9"},children:T.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:lt.map(dt=>{const I=Q($,dt),J=c[I]||0,ot=m[I]||0,st=g&&g.day===$&&g.time===dt,mt=N(S,$,dt),Dt=N(M,$,dt);return T.jsxs("button",{onClick:()=>E(st?null:{day:$,time:dt}),style:{padding:"8px 10px",borderRadius:8,border:`1px solid ${st?"#0d6efd":"#d1d5db"}`,background:st?"#e7f1ff":"#fff",fontWeight:600,whiteSpace:"nowrap",cursor:"pointer"},title:`${$} ${dt}`,children:[dt,T.jsxs("span",{style:{color:"#6b7280",marginLeft:6},children:["( ",J," /  ",ot,")"]}),mt&&T.jsx("span",{style:{marginLeft:6,fontSize:12,color:"#0d6efd"},children:" "}),Dt&&T.jsx("span",{style:{marginLeft:6,fontSize:12,color:"#6c757d"},children:" "})]},`${$}-${dt}`)})})})]},$))})]})}),T.jsxs("div",{style:{marginTop:12,display:"flex",gap:8,alignItems:"center",flexWrap:"wrap"},children:[T.jsx("div",{style:{minWidth:220,color:"#374151"},children:g?T.jsxs("span",{children:[": ",T.jsx("b",{children:g.day})," ",T.jsx("b",{children:g.time})]}):T.jsx("span",{style:{color:"#6b7280"},children:"   "})}),T.jsx("button",{disabled:!g,onClick:B,style:{padding:"8px 12px",borderRadius:8,border:"1px solid #0d6efd",background:g?"#0d6efd":"#e5e7eb",color:g?"#fff":"#9ca3af",fontWeight:700,cursor:g?"pointer":"not-allowed"},children:" ( 2)"}),T.jsx("button",{disabled:!g,onClick:X,style:{padding:"8px 12px",borderRadius:8,border:"1px solid #6c757d",background:g?"#6c757d":"#e5e7eb",color:g?"##fff":"#9ca3af",fontWeight:700,cursor:g?"pointer":"not-allowed"},children:" ()"})]}),T.jsxs("div",{style:{marginTop:16,display:"grid",gap:12,gridTemplateColumns:"1fr 1fr"},children:[T.jsxs("div",{children:[T.jsx("div",{style:{fontWeight:700,marginBottom:6},children:" ( 2)"}),S.length===0?T.jsx("div",{style:{color:"#6b7280"},children:""}):T.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:S.map(({day:$,time:lt,status:dt})=>T.jsxs("span",{style:{padding:"6px 10px",borderRadius:999,border:`1px solid ${dt==="reserve"?"#6c757d":"#0d6efd"}`,background:dt==="reserve"?"#f1f1f1":"#e7f1ff",display:"inline-flex",gap:8},title:dt==="reserve"?"()":"",children:[$," ",lt,dt==="reserve"?" ()":"",T.jsx("button",{onClick:()=>q($,lt),style:{border:"none",background:"transparent",cursor:"pointer",color:dt==="reserve"?"#6c757d":"#0d6efd",fontWeight:700},children:""})]},`ap-${$}-${lt}`))})]}),T.jsxs("div",{children:[T.jsx("div",{style:{fontWeight:700,marginBottom:6},children:" ()"}),M.length===0?T.jsx("div",{style:{color:"#6b7280"},children:""}):T.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:M.map(({day:$,time:lt})=>T.jsxs("span",{style:{padding:"6px 10px",borderRadius:999,border:"1px solid #6c757d",background:"#f1f1f1",display:"inline-flex",gap:8},children:[$," ",lt,T.jsx("button",{onClick:()=>ct($,lt),style:{border:"none",background:"transparent",cursor:"pointer",color:"#6c757d",fontWeight:700},children:""})]},`wt-${$}-${lt}`))})]})]})]})}class jw extends ib.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,i){console.error("ErrorBoundary caught:",e,i)}render(){return this.state.hasError?T.jsx("div",{style:{padding:16},children:" . (F5),       ."}):this.props.children}}const Sv=r=>{if(!r)return null;if(typeof r.toDate=="function")return r.toDate();const e=new Date(r);return isNaN(e)?null:e};function Uw(){return T.jsx(R1,{children:T.jsx(jw,{children:T.jsx(Lw,{})})})}function Lw(){const[r,e]=P.useState(!!localStorage.getItem("studentId")),[i,s]=P.useState(!1),[o,c]=P.useState(""),f=lr(),[m,y]=P.useState(!1);P.useEffect(()=>{const E=()=>{e(!!localStorage.getItem("studentId"))};return window.addEventListener("storage",E),()=>{window.removeEventListener("storage",E)}},[]),P.useEffect(()=>{e(!!localStorage.getItem("studentId"))},[f]),P.useEffect(()=>{const E=localStorage.getItem("studentId");if(!E)return;(async()=>{const R=new Date,M=new Date;M.setDate(R.getDate()-3);const V=await zs(Je(Mt,"comments")),Q=await zs(Je(Mt,"books")),N=V.docs.some(X=>{const q=X.data();return q.studentId===E&&(Sv(q.createdAt||q.completedDate)??new Date(0))>=M}),B=Q.docs.some(X=>{const q=X.data();return q.studentId===E&&(Sv(q.createdAt||q.completedDate)??new Date(0))>=M});y(N||B)})()},[]),P.useEffect(()=>{let E;const S=()=>{clearTimeout(E),E=setTimeout(()=>{localStorage.clear(),e(!1),window.location.hash="#/login",alert("1     .")},36e5)};if(r){const R=["mousemove","keydown","click","scroll","touchstart"];return R.forEach(M=>window.addEventListener(M,S)),S(),()=>{clearTimeout(E),R.forEach(M=>window.removeEventListener(M,S))}}},[r]);async function g(){const E=localStorage.getItem("studentId");if(!E||o.length!==4){alert("PIN 4   .");return}try{await xE(Te(Mt,"students",E),{pin:o}),alert("PIN  ."),s(!1),c("")}catch(S){console.error(S),alert("PIN    .")}}return T.jsxs("div",{className:"app-shell page",children:[r&&T.jsxs("nav",{className:"nav",children:[T.jsxs("div",{className:"nav-links",style:{justifyContent:"center"},children:[["/attendance","/payment","/notices","/myclass","/enroll"].map(E=>T.jsx(Lv,{to:E,style:({isActive:S})=>({margin:"0 0",padding:"6px 12px",borderRadius:6,textDecoration:"none",fontWeight:S?"bold":"normal",color:S?"#fff":"#333",backgroundColor:S?"#007bff":"#f5f5f7",position:"relative",display:"inline-flex",alignItems:"center",whiteSpace:"nowrap"}),children:{"/attendance":"","/payment":"","/notices":"","/myclass":T.jsxs(T.Fragment,{children:["",m&&T.jsx("span",{className:"pulse wiggle",style:{position:"absolute",top:-8,right:-12,backgroundColor:"red",color:"white",borderRadius:"12px",padding:"2px 6px",fontSize:"10px",fontWeight:"bold",fontFamily:"'Segoe UI','Apple SD Gothic Neo',sans-serif"},children:" "})]}),"/enroll":""}[E]},E)),T.jsx("button",{onClick:()=>s(!0),style:{padding:"6px 12px",border:"none",borderRadius:6,backgroundColor:"#f0f0f0",cursor:"pointer"},children:"PIN "}),T.jsx("button",{onClick:()=>{localStorage.clear(),e(!1),window.location.hash="#/login"},style:{padding:"6px 12px",border:"none",borderRadius:6,backgroundColor:"#f0f0f0",cursor:"pointer"},children:""})]}),i&&T.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center"},children:T.jsxs("div",{className:"modal",style:{background:"#fff",padding:20,borderRadius:8},children:[T.jsx("h2",{children:"PIN "}),T.jsx("input",{type:"text",maxLength:4,value:o,onChange:E=>c(E.target.value.replace(/\D/g,"")),placeholder:" PIN (4)",style:{width:"100%",padding:8,margin:"12px 0"}}),T.jsxs("div",{style:{textAlign:"right"},children:[T.jsx("button",{onClick:()=>s(!1),style:{marginRight:8},children:""}),T.jsx("button",{onClick:g,children:""})]})]})})]}),T.jsxs(e1,{children:[T.jsx(ei,{index:!0,element:r?T.jsx(tr,{to:"notices",replace:!0}):T.jsx(tr,{to:"login",replace:!0})}),T.jsx(ei,{path:"login",element:T.jsx(Rw,{onLoginSuccess:()=>e(!0)})}),T.jsx(ei,{path:"new-enroll",element:T.jsx(Ow,{})}),T.jsx(ei,{path:"attendance",element:r?T.jsx(xw,{}):T.jsx(tr,{to:"login",replace:!0})}),T.jsx(ei,{path:"payment",element:r?T.jsx(ww,{}):T.jsx(tr,{to:"login",replace:!0})}),T.jsx(ei,{path:"notices",element:r?T.jsx(Cw,{}):T.jsx(tr,{to:"login",replace:!0})}),T.jsx(ei,{path:"notices/:id",element:r?T.jsx(Dw,{}):T.jsx(tr,{to:"login",replace:!0})}),T.jsx(ei,{path:"myclass",element:r?T.jsx(Nw,{}):T.jsx(tr,{to:"login",replace:!0})}),T.jsx(ei,{path:"enroll",element:r?T.jsx(Mw,{}):T.jsx(tr,{to:"login",replace:!0})}),T.jsx(ei,{path:"*",element:T.jsx(tr,{to:"/",replace:!0})})]})]})}cb.createRoot(document.getElementById("root")).render(T.jsx(P.StrictMode,{children:T.jsx(Uw,{})}));
