(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function JT(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Jf={exports:{}},to={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wy;function tb(){if(Wy)return to;Wy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:c}}return to.Fragment=e,to.jsx=i,to.jsxs=i,to}var Zy;function eb(){return Zy||(Zy=1,Jf.exports=tb()),Jf.exports}var T=eb(),td={exports:{}},Vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jy;function nb(){if(Jy)return Vt;Jy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function x(M){return M===null||typeof M!="object"?null:(M=S&&M[S]||M["@@iterator"],typeof M=="function"?M:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,G={};function N(M,J,ut){this.props=M,this.context=J,this.refs=G,this.updater=ut||D}N.prototype.isReactComponent={},N.prototype.setState=function(M,J){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,J,"setState")},N.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function z(){}z.prototype=N.prototype;function Y(M,J,ut){this.props=M,this.context=J,this.refs=G,this.updater=ut||D}var B=Y.prototype=new z;B.constructor=Y,V(B,N.prototype),B.isPureReactComponent=!0;var ct=Array.isArray,ot={H:null,A:null,T:null,S:null,V:null},pt=Object.prototype.hasOwnProperty;function O(M,J,ut,it,dt,Ct){return ut=Ct.ref,{$$typeof:r,type:M,key:J,ref:ut!==void 0?ut:null,props:Ct}}function R(M,J){return O(M.type,J,void 0,void 0,void 0,M.props)}function w(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function j(M){var J={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ut){return J[ut]})}var k=/\/+/g;function U(M,J){return typeof M=="object"&&M!==null&&M.key!=null?j(""+M.key):J.toString(36)}function C(){}function Yt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(C,C):(M.status="pending",M.then(function(J){M.status==="pending"&&(M.status="fulfilled",M.value=J)},function(J){M.status==="pending"&&(M.status="rejected",M.reason=J)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function It(M,J,ut,it,dt){var Ct=typeof M;(Ct==="undefined"||Ct==="boolean")&&(M=null);var St=!1;if(M===null)St=!0;else switch(Ct){case"bigint":case"string":case"number":St=!0;break;case"object":switch(M.$$typeof){case r:case e:St=!0;break;case E:return St=M._init,It(St(M._payload),J,ut,it,dt)}}if(St)return dt=dt(M),St=it===""?"."+U(M,0):it,ct(dt)?(ut="",St!=null&&(ut=St.replace(k,"$&/")+"/"),It(dt,J,ut,"",function(Vn){return Vn})):dt!=null&&(w(dt)&&(dt=R(dt,ut+(dt.key==null||M&&M.key===dt.key?"":(""+dt.key).replace(k,"$&/")+"/")+St)),J.push(dt)),1;St=0;var fe=it===""?".":it+":";if(ct(M))for(var Kt=0;Kt<M.length;Kt++)it=M[Kt],Ct=fe+U(it,Kt),St+=It(it,J,ut,Ct,dt);else if(Kt=x(M),typeof Kt=="function")for(M=Kt.call(M),Kt=0;!(it=M.next()).done;)it=it.value,Ct=fe+U(it,Kt++),St+=It(it,J,ut,Ct,dt);else if(Ct==="object"){if(typeof M.then=="function")return It(Yt(M),J,ut,it,dt);throw J=String(M),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return St}function W(M,J,ut){if(M==null)return M;var it=[],dt=0;return It(M,it,"","",function(Ct){return J.call(ut,Ct,dt++)}),it}function $(M){if(M._status===-1){var J=M._result;J=J(),J.then(function(ut){(M._status===0||M._status===-1)&&(M._status=1,M._result=ut)},function(ut){(M._status===0||M._status===-1)&&(M._status=2,M._result=ut)}),M._status===-1&&(M._status=0,M._result=J)}if(M._status===1)return M._result.default;throw M._result}var lt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function mt(){}return Vt.Children={map:W,forEach:function(M,J,ut){W(M,function(){J.apply(this,arguments)},ut)},count:function(M){var J=0;return W(M,function(){J++}),J},toArray:function(M){return W(M,function(J){return J})||[]},only:function(M){if(!w(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Vt.Component=N,Vt.Fragment=i,Vt.Profiler=o,Vt.PureComponent=Y,Vt.StrictMode=s,Vt.Suspense=g,Vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ot,Vt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return ot.H.useMemoCache(M)}},Vt.cache=function(M){return function(){return M.apply(null,arguments)}},Vt.cloneElement=function(M,J,ut){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var it=V({},M.props),dt=M.key,Ct=void 0;if(J!=null)for(St in J.ref!==void 0&&(Ct=void 0),J.key!==void 0&&(dt=""+J.key),J)!pt.call(J,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&J.ref===void 0||(it[St]=J[St]);var St=arguments.length-2;if(St===1)it.children=ut;else if(1<St){for(var fe=Array(St),Kt=0;Kt<St;Kt++)fe[Kt]=arguments[Kt+2];it.children=fe}return O(M.type,dt,void 0,void 0,Ct,it)},Vt.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},Vt.createElement=function(M,J,ut){var it,dt={},Ct=null;if(J!=null)for(it in J.key!==void 0&&(Ct=""+J.key),J)pt.call(J,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(dt[it]=J[it]);var St=arguments.length-2;if(St===1)dt.children=ut;else if(1<St){for(var fe=Array(St),Kt=0;Kt<St;Kt++)fe[Kt]=arguments[Kt+2];dt.children=fe}if(M&&M.defaultProps)for(it in St=M.defaultProps,St)dt[it]===void 0&&(dt[it]=St[it]);return O(M,Ct,void 0,void 0,null,dt)},Vt.createRef=function(){return{current:null}},Vt.forwardRef=function(M){return{$$typeof:m,render:M}},Vt.isValidElement=w,Vt.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:$}},Vt.memo=function(M,J){return{$$typeof:y,type:M,compare:J===void 0?null:J}},Vt.startTransition=function(M){var J=ot.T,ut={};ot.T=ut;try{var it=M(),dt=ot.S;dt!==null&&dt(ut,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(mt,lt)}catch(Ct){lt(Ct)}finally{ot.T=J}},Vt.unstable_useCacheRefresh=function(){return ot.H.useCacheRefresh()},Vt.use=function(M){return ot.H.use(M)},Vt.useActionState=function(M,J,ut){return ot.H.useActionState(M,J,ut)},Vt.useCallback=function(M,J){return ot.H.useCallback(M,J)},Vt.useContext=function(M){return ot.H.useContext(M)},Vt.useDebugValue=function(){},Vt.useDeferredValue=function(M,J){return ot.H.useDeferredValue(M,J)},Vt.useEffect=function(M,J,ut){var it=ot.H;if(typeof ut=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return it.useEffect(M,J)},Vt.useId=function(){return ot.H.useId()},Vt.useImperativeHandle=function(M,J,ut){return ot.H.useImperativeHandle(M,J,ut)},Vt.useInsertionEffect=function(M,J){return ot.H.useInsertionEffect(M,J)},Vt.useLayoutEffect=function(M,J){return ot.H.useLayoutEffect(M,J)},Vt.useMemo=function(M,J){return ot.H.useMemo(M,J)},Vt.useOptimistic=function(M,J){return ot.H.useOptimistic(M,J)},Vt.useReducer=function(M,J,ut){return ot.H.useReducer(M,J,ut)},Vt.useRef=function(M){return ot.H.useRef(M)},Vt.useState=function(M){return ot.H.useState(M)},Vt.useSyncExternalStore=function(M,J,ut){return ot.H.useSyncExternalStore(M,J,ut)},Vt.useTransition=function(){return ot.H.useTransition()},Vt.version="19.1.0",Vt}var t_;function Gd(){return t_||(t_=1,td.exports=nb()),td.exports}var P=Gd();const ib=JT(P);var ed={exports:{}},eo={},nd={exports:{}},id={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_;function rb(){return e_||(e_=1,function(r){function e(W,$){var lt=W.length;W.push($);t:for(;0<lt;){var mt=lt-1>>>1,M=W[mt];if(0<o(M,$))W[mt]=$,W[lt]=M,lt=mt;else break t}}function i(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var $=W[0],lt=W.pop();if(lt!==$){W[0]=lt;t:for(var mt=0,M=W.length,J=M>>>1;mt<J;){var ut=2*(mt+1)-1,it=W[ut],dt=ut+1,Ct=W[dt];if(0>o(it,lt))dt<M&&0>o(Ct,it)?(W[mt]=Ct,W[dt]=lt,mt=dt):(W[mt]=it,W[ut]=lt,mt=ut);else if(dt<M&&0>o(Ct,lt))W[mt]=Ct,W[dt]=lt,mt=dt;else break t}}return $}function o(W,$){var lt=W.sortIndex-$.sortIndex;return lt!==0?lt:W.id-$.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],y=[],E=1,S=null,x=3,D=!1,V=!1,G=!1,N=!1,z=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function ct(W){for(var $=i(y);$!==null;){if($.callback===null)s(y);else if($.startTime<=W)s(y),$.sortIndex=$.expirationTime,e(g,$);else break;$=i(y)}}function ot(W){if(G=!1,ct(W),!V)if(i(g)!==null)V=!0,pt||(pt=!0,U());else{var $=i(y);$!==null&&It(ot,$.startTime-W)}}var pt=!1,O=-1,R=5,w=-1;function j(){return N?!0:!(r.unstable_now()-w<R)}function k(){if(N=!1,pt){var W=r.unstable_now();w=W;var $=!0;try{t:{V=!1,G&&(G=!1,Y(O),O=-1),D=!0;var lt=x;try{e:{for(ct(W),S=i(g);S!==null&&!(S.expirationTime>W&&j());){var mt=S.callback;if(typeof mt=="function"){S.callback=null,x=S.priorityLevel;var M=mt(S.expirationTime<=W);if(W=r.unstable_now(),typeof M=="function"){S.callback=M,ct(W),$=!0;break e}S===i(g)&&s(g),ct(W)}else s(g);S=i(g)}if(S!==null)$=!0;else{var J=i(y);J!==null&&It(ot,J.startTime-W),$=!1}}break t}finally{S=null,x=lt,D=!1}$=void 0}}finally{$?U():pt=!1}}}var U;if(typeof B=="function")U=function(){B(k)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Yt=C.port2;C.port1.onmessage=k,U=function(){Yt.postMessage(null)}}else U=function(){z(k,0)};function It(W,$){O=z(function(){W(r.unstable_now())},$)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(W){W.callback=null},r.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<W?Math.floor(1e3/W):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(W){switch(x){case 1:case 2:case 3:var $=3;break;default:$=x}var lt=x;x=$;try{return W()}finally{x=lt}},r.unstable_requestPaint=function(){N=!0},r.unstable_runWithPriority=function(W,$){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var lt=x;x=W;try{return $()}finally{x=lt}},r.unstable_scheduleCallback=function(W,$,lt){var mt=r.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?mt+lt:mt):lt=mt,W){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=lt+M,W={id:E++,callback:$,priorityLevel:W,startTime:lt,expirationTime:M,sortIndex:-1},lt>mt?(W.sortIndex=lt,e(y,W),i(g)===null&&W===i(y)&&(G?(Y(O),O=-1):G=!0,It(ot,lt-mt))):(W.sortIndex=M,e(g,W),V||D||(V=!0,pt||(pt=!0,U()))),W},r.unstable_shouldYield=j,r.unstable_wrapCallback=function(W){var $=x;return function(){var lt=x;x=$;try{return W.apply(this,arguments)}finally{x=lt}}}}(id)),id}var n_;function ab(){return n_||(n_=1,nd.exports=rb()),nd.exports}var rd={exports:{}},an={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i_;function sb(){if(i_)return an;i_=1;var r=Gd();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:g,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,an.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,E)},an.flushSync=function(g){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=E,s.d.f()}},an.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},an.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},an.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin),x=typeof y.integrity=="string"?y.integrity:void 0,D=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:x,fetchPriority:D}):E==="script"&&s.d.X(g,{crossOrigin:S,integrity:x,fetchPriority:D,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},an.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},an.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},an.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},an.requestFormReset=function(g){s.d.r(g)},an.unstable_batchedUpdates=function(g,y){return g(y)},an.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},an.useFormStatus=function(){return f.H.useHostTransitionStatus()},an.version="19.1.0",an}var r_;function lb(){if(r_)return rd.exports;r_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),rd.exports=sb(),rd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a_;function ob(){if(a_)return eo;a_=1;var r=ab(),e=Gd(),i=lb();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function m(t){if(c(t)!==t)throw Error(s(188))}function g(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),n;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,b=h.child;b;){if(b===a){v=!0,a=h,l=d;break}if(b===l){v=!0,l=h,a=d;break}b=b.sibling}if(!v){for(b=d.child;b;){if(b===a){v=!0,a=d,l=h;break}if(b===l){v=!0,l=d,a=h;break}b=b.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function y(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=y(t),n!==null)return n;t=t.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),Y=Symbol.for("react.consumer"),B=Symbol.for("react.context"),ct=Symbol.for("react.forward_ref"),ot=Symbol.for("react.suspense"),pt=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=k&&t[k]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function Yt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case V:return"Fragment";case N:return"Profiler";case G:return"StrictMode";case ot:return"Suspense";case pt:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case D:return"Portal";case B:return(t.displayName||"Context")+".Provider";case Y:return(t._context.displayName||"Context")+".Consumer";case ct:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return n=t.displayName||null,n!==null?n:Yt(t.type)||"Memo";case R:n=t._payload,t=t._init;try{return Yt(t(n))}catch{}}return null}var It=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},mt=[],M=-1;function J(t){return{current:t}}function ut(t){0>M||(t.current=mt[M],mt[M]=null,M--)}function it(t,n){M++,mt[M]=t.current,t.current=n}var dt=J(null),Ct=J(null),St=J(null),fe=J(null);function Kt(t,n){switch(it(St,n),it(Ct,t),it(dt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?xy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=xy(n),t=Ry(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ut(dt),it(dt,t)}function Vn(){ut(dt),ut(Ct),ut(St)}function ii(t){t.memoizedState!==null&&it(fe,t);var n=dt.current,a=Ry(n,t.type);n!==a&&(it(Ct,t),it(dt,a))}function Qn(t){Ct.current===t&&(ut(dt),ut(Ct)),fe.current===t&&(ut(fe),$l._currentValue=lt)}var Ri=Object.prototype.hasOwnProperty,wi=r.unstable_scheduleCallback,ri=r.unstable_cancelCallback,lr=r.unstable_shouldYield,nt=r.unstable_requestPaint,ft=r.unstable_now,vt=r.unstable_getCurrentPriorityLevel,Mt=r.unstable_ImmediatePriority,ue=r.unstable_UserBlockingPriority,be=r.unstable_NormalPriority,ie=r.unstable_LowPriority,Xt=r.unstable_IdlePriority,Zt=r.log,de=r.unstable_setDisableYieldValue,Bt=null,Ot=null;function Oe(t){if(typeof Zt=="function"&&de(t),Ot&&typeof Ot.setStrictMode=="function")try{Ot.setStrictMode(Bt,t)}catch{}}var we=Math.clz32?Math.clz32:$r,jo=Math.log,th=Math.LN2;function $r(t){return t>>>=0,t===0?32:31-(jo(t)/th|0)|0}var Xr=256,Wr=4194304;function Yn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Pa(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?h=Yn(l):(v&=b,v!==0?h=Yn(v):a||(a=b&~t,a!==0&&(h=Yn(a))))):(b=l&~d,b!==0?h=Yn(b):v!==0?h=Yn(v):a||(a=l&~t,a!==0&&(h=Yn(a)))),h===0?0:n!==0&&n!==h&&(n&d)===0&&(d=h&-h,a=n&-n,d>=a||d===32&&(a&4194048)!==0)?n:h}function Zr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function $s(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xs(){var t=Xr;return Xr<<=1,(Xr&4194048)===0&&(Xr=256),t}function Ws(){var t=Wr;return Wr<<=1,(Wr&62914560)===0&&(Wr=4194304),t}function Ci(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Di(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Zs(t,n,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,I=t.expirationTimes,Q=t.hiddenUpdates;for(a=v&~a;0<a;){var tt=31-we(a),rt=1<<tt;b[tt]=0,I[tt]=-1;var K=Q[tt];if(K!==null)for(Q[tt]=null,tt=0;tt<K.length;tt++){var X=K[tt];X!==null&&(X.lane&=-536870913)}a&=~rt}l!==0&&ai(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~n))}function ai(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-we(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Js(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-we(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function or(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ka(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ur(){var t=$.p;return t!==0?t:(t=window.event,t===void 0?32:Fy(t.type))}function Uo(t,n){var a=$.p;try{return $.p=t,n()}finally{$.p=a}}var me=Math.random().toString(36).slice(2),je="__reactFiber$"+me,Ce="__reactProps$"+me,Nn="__reactContainer$"+me,tl="__reactEvents$"+me,eh="__reactListeners$"+me,cr="__reactHandles$"+me,Lo="__reactResources$"+me,Jr="__reactMarker$"+me;function hr(t){delete t[je],delete t[Ce],delete t[tl],delete t[eh],delete t[cr]}function Ii(t){var n=t[je];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Nn]||a[je]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Iy(t);t!==null;){if(a=t[je])return a;t=Iy(t)}return n}t=a,a=t.parentNode}return null}function si(t){if(t=t[je]||t[Nn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function li(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function cn(t){var n=t[Lo];return n||(n=t[Lo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Se(t){t[Jr]=!0}var el=new Set,za={};function Kn(t,n){Vi(t,n),Vi(t+"Capture",n)}function Vi(t,n){for(za[t]=n,t=0;t<n.length;t++)el.add(n[t])}var Po=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ko={},ta={};function zo(t){return Ri.call(ta,t)?!0:Ri.call(ko,t)?!1:Po.test(t)?ta[t]=!0:(ko[t]=!0,!1)}function fr(t,n,a){if(zo(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function oi(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Ke(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}var ea,Bo;function Ni(t){if(ea===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);ea=n&&n[1]||"",Bo=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ea+t+Bo}var Ba=!1;function qa(t,n){if(!t||Ba)return"";Ba=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var rt=function(){throw Error()};if(Object.defineProperty(rt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(rt,[])}catch(X){var K=X}Reflect.construct(t,[],rt)}else{try{rt.call()}catch(X){K=X}t.call(rt.prototype)}}else{try{throw Error()}catch(X){K=X}(rt=t())&&typeof rt.catch=="function"&&rt.catch(function(){})}}catch(X){if(X&&K&&typeof X.stack=="string")return[X.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],b=d[1];if(v&&b){var I=v.split(`
`),Q=b.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<Q.length&&!Q[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===Q.length)for(l=I.length-1,h=Q.length-1;1<=l&&0<=h&&I[l]!==Q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==Q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==Q[h]){var tt=`
`+I[l].replace(" at new "," at ");return t.displayName&&tt.includes("<anonymous>")&&(tt=tt.replace("<anonymous>",t.displayName)),tt}while(1<=l&&0<=h);break}}}finally{Ba=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ni(a):""}function nl(t){switch(t.tag){case 26:case 27:case 5:return Ni(t.type);case 16:return Ni("Lazy");case 13:return Ni("Suspense");case 19:return Ni("SuspenseList");case 0:case 15:return qa(t.type,!1);case 11:return qa(t.type.render,!1);case 1:return qa(t.type,!0);case 31:return Ni("Activity");default:return""}}function Ha(t){try{var n="";do n+=nl(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function hn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function il(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function nh(t){var n=il(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ga(t){t._valueTracker||(t._valueTracker=nh(t))}function rl(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=il(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function na(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ih=/[\n"\\]/g;function De(t){return t.replace(ih,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Tn(t,n,a,l,h,d,v,b){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),n!=null?v==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+hn(n)):t.value!==""+hn(n)&&(t.value=""+hn(n)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),n!=null?dr(t,v,hn(n)):a!=null?dr(t,v,hn(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+hn(b):t.removeAttribute("name")}function ia(t,n,a,l,h,d,v,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;a=a!=null?""+hn(a):"",n=n!=null?""+hn(n):a,b||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function dr(t,n,a){n==="number"&&na(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Mi(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+hn(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function re(t,n,a){if(n!=null&&(n=""+hn(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+hn(a):""}function ra(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(It(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=hn(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Mn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var aa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qo(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||aa.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function al(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&qo(t,h,l)}else for(var d in n)n.hasOwnProperty(d)&&qo(t,d,n[d])}function sl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ah=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fa(t){return ah.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Oi=null;function On(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ji=null,Ui=null;function ll(t){var n=si(t);if(n&&(t=n.stateNode)){var a=t[Ce]||null;t:switch(t=n.stateNode,n.type){case"input":if(Tn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+De(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[Ce]||null;if(!h)throw Error(s(90));Tn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&rl(l)}break t;case"textarea":re(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Mi(t,!!a.multiple,n,!1)}}}var ui=!1;function Ho(t,n,a){if(ui)return t(n,a);ui=!0;try{var l=t(n);return l}finally{if(ui=!1,(ji!==null||Ui!==null)&&(Uu(),ji&&(n=ji,t=Ui,Ui=ji=null,ll(n),t)))for(n=0;n<t.length;n++)ll(t[n])}}function sa(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Ce]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var $n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jn=!1;if($n)try{var la={};Object.defineProperty(la,"passive",{get:function(){jn=!0}}),window.addEventListener("test",la,la),window.removeEventListener("test",la,la)}catch{jn=!1}var ci=null,mr=null,Li=null;function ol(){if(Li)return Li;var t,n=mr,a=n.length,l,h="value"in ci?ci.value:ci.textContent,d=h.length;for(t=0;t<a&&n[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&n[a-l]===h[d-l];l++);return Li=h.slice(t,1<l?1-l:void 0)}function hi(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function fi(){return!0}function ul(){return!1}function qe(t){function n(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?fi:ul,this.isPropagationStopped=ul,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=fi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=fi)},persist:function(){},isPersistent:fi}),n}var Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qa=qe(Jt),oa=E({},Jt,{view:0,detail:0}),Go=qe(oa),Ya,Ka,di,ua=E({},oa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==di&&(di&&t.type==="mousemove"?(Ya=t.screenX-di.screenX,Ka=t.screenY-di.screenY):Ka=Ya=0,di=t),Ya)},movementY:function(t){return"movementY"in t?t.movementY:Ka}}),Un=qe(ua),Fo=E({},ua,{dataTransfer:0}),sh=qe(Fo),ca=E({},oa,{relatedTarget:0}),$a=qe(ca),cl=E({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0}),Xa=qe(cl),Qo=E({},Jt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Wa=qe(Qo),lh=E({},Jt,{data:0}),hl=qe(lh),ha={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ko={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fl(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Ko[t])?!!n[t]:!1}function fa(){return fl}var $o=E({},oa,{key:function(t){if(t.key){var n=ha[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=hi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Yo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fa,charCode:function(t){return t.type==="keypress"?hi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?hi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Za=qe($o),Xo=E({},ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dl=qe(Xo),Pi=E({},oa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fa}),Wo=qe(Pi),Zo=E({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jo=qe(Zo),tu=E({},ua,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ja=qe(tu),fn=E({},Jt,{newState:0,oldState:0}),eu=qe(fn),nu=[9,13,27,32],mi=$n&&"CompositionEvent"in window,u=null;$n&&"documentMode"in document&&(u=document.documentMode);var p=$n&&"TextEvent"in window&&!u,_=$n&&(!mi||u&&8<u&&11>=u),A=" ",H=!1;function Z(t,n){switch(t){case"keyup":return nu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ht(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qt=!1;function Ue(t,n){switch(t){case"compositionend":return ht(n);case"keypress":return n.which!==32?null:(H=!0,A);case"textInput":return t=n.data,t===A&&H?null:t;default:return null}}function Ht(t,n){if(qt)return t==="compositionend"||!mi&&Z(t,n)?(t=ol(),Li=mr=ci=null,qt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _&&n.locale!=="ko"?null:n.data;default:return null}}var He={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Le(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!He[t.type]:n==="textarea"}function ki(t,n,a,l){ji?Ui?Ui.push(l):Ui=[l]:ji=l,n=qu(n,"onChange"),0<n.length&&(a=new Qa("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var $e=null,pi=null;function ml(t){Ey(t,0)}function iu(t){var n=li(t);if(rl(n))return t}function Bm(t,n){if(t==="change")return n}var qm=!1;if($n){var oh;if($n){var uh="oninput"in document;if(!uh){var Hm=document.createElement("div");Hm.setAttribute("oninput","return;"),uh=typeof Hm.oninput=="function"}oh=uh}else oh=!1;qm=oh&&(!document.documentMode||9<document.documentMode)}function Gm(){$e&&($e.detachEvent("onpropertychange",Fm),pi=$e=null)}function Fm(t){if(t.propertyName==="value"&&iu(pi)){var n=[];ki(n,pi,t,On(t)),Ho(ml,n)}}function DE(t,n,a){t==="focusin"?(Gm(),$e=n,pi=a,$e.attachEvent("onpropertychange",Fm)):t==="focusout"&&Gm()}function IE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return iu(pi)}function VE(t,n){if(t==="click")return iu(n)}function NE(t,n){if(t==="input"||t==="change")return iu(n)}function ME(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var bn=typeof Object.is=="function"?Object.is:ME;function pl(t,n){if(bn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Ri.call(n,h)||!bn(t[h],n[h]))return!1}return!0}function Qm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ym(t,n){var a=Qm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Qm(a)}}function Km(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Km(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function $m(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=na(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=na(t.document)}return n}function ch(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var OE=$n&&"documentMode"in document&&11>=document.documentMode,ts=null,hh=null,gl=null,fh=!1;function Xm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;fh||ts==null||ts!==na(l)||(l=ts,"selectionStart"in l&&ch(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),gl&&pl(gl,l)||(gl=l,l=qu(hh,"onSelect"),0<l.length&&(n=new Qa("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=ts)))}function da(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var es={animationend:da("Animation","AnimationEnd"),animationiteration:da("Animation","AnimationIteration"),animationstart:da("Animation","AnimationStart"),transitionrun:da("Transition","TransitionRun"),transitionstart:da("Transition","TransitionStart"),transitioncancel:da("Transition","TransitionCancel"),transitionend:da("Transition","TransitionEnd")},dh={},Wm={};$n&&(Wm=document.createElement("div").style,"AnimationEvent"in window||(delete es.animationend.animation,delete es.animationiteration.animation,delete es.animationstart.animation),"TransitionEvent"in window||delete es.transitionend.transition);function ma(t){if(dh[t])return dh[t];if(!es[t])return t;var n=es[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Wm)return dh[t]=n[a];return t}var Zm=ma("animationend"),Jm=ma("animationiteration"),tp=ma("animationstart"),jE=ma("transitionrun"),UE=ma("transitionstart"),LE=ma("transitioncancel"),ep=ma("transitionend"),np=new Map,mh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mh.push("scrollEnd");function Xn(t,n){np.set(t,n),Kn(n,[t])}var ip=new WeakMap;function Ln(t,n){if(typeof t=="object"&&t!==null){var a=ip.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Ha(n)},ip.set(t,n),n)}return{value:t,source:n,stack:Ha(n)}}var Pn=[],ns=0,ph=0;function ru(){for(var t=ns,n=ph=ns=0;n<t;){var a=Pn[n];Pn[n++]=null;var l=Pn[n];Pn[n++]=null;var h=Pn[n];Pn[n++]=null;var d=Pn[n];if(Pn[n++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&rp(a,h,d)}}function au(t,n,a,l){Pn[ns++]=t,Pn[ns++]=n,Pn[ns++]=a,Pn[ns++]=l,ph|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function gh(t,n,a,l){return au(t,n,a,l),su(t)}function is(t,n){return au(t,null,null,n),su(t)}function rp(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&n!==null&&(h=31-we(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=a|536870912),d):null}function su(t){if(50<Bl)throw Bl=0,Sf=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var rs={};function PE(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(t,n,a,l){return new PE(t,n,a,l)}function yh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zi(t,n){var a=t.alternate;return a===null?(a=Sn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function ap(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function lu(t,n,a,l,h,d){var v=0;if(l=t,typeof t=="function")yh(t)&&(v=1);else if(typeof t=="string")v=zT(t,a,dt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=Sn(31,a,n,h),t.elementType=w,t.lanes=d,t;case V:return pa(a.children,h,d,n);case G:v=8,h|=24;break;case N:return t=Sn(12,a,n,h|2),t.elementType=N,t.lanes=d,t;case ot:return t=Sn(13,a,n,h),t.elementType=ot,t.lanes=d,t;case pt:return t=Sn(19,a,n,h),t.elementType=pt,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case z:case B:v=10;break t;case Y:v=9;break t;case ct:v=11;break t;case O:v=14;break t;case R:v=16,l=null;break t}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=Sn(v,a,n,h),n.elementType=t,n.type=l,n.lanes=d,n}function pa(t,n,a,l){return t=Sn(7,t,l,n),t.lanes=a,t}function _h(t,n,a){return t=Sn(6,t,null,n),t.lanes=a,t}function vh(t,n,a){return n=Sn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var as=[],ss=0,ou=null,uu=0,kn=[],zn=0,ga=null,Bi=1,qi="";function ya(t,n){as[ss++]=uu,as[ss++]=ou,ou=t,uu=n}function sp(t,n,a){kn[zn++]=Bi,kn[zn++]=qi,kn[zn++]=ga,ga=t;var l=Bi;t=qi;var h=32-we(l)-1;l&=~(1<<h),a+=1;var d=32-we(n)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Bi=1<<32-we(n)+h|a<<h|l,qi=d+t}else Bi=1<<d|a<<h|l,qi=t}function Eh(t){t.return!==null&&(ya(t,1),sp(t,1,0))}function Th(t){for(;t===ou;)ou=as[--ss],as[ss]=null,uu=as[--ss],as[ss]=null;for(;t===ga;)ga=kn[--zn],kn[zn]=null,qi=kn[--zn],kn[zn]=null,Bi=kn[--zn],kn[zn]=null}var dn=null,ve=null,Wt=!1,_a=null,gi=!1,bh=Error(s(519));function va(t){var n=Error(s(418,""));throw vl(Ln(n,t)),bh}function lp(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[je]=t,n[Ce]=l,a){case"dialog":kt("cancel",n),kt("close",n);break;case"iframe":case"object":case"embed":kt("load",n);break;case"video":case"audio":for(a=0;a<Hl.length;a++)kt(Hl[a],n);break;case"source":kt("error",n);break;case"img":case"image":case"link":kt("error",n),kt("load",n);break;case"details":kt("toggle",n);break;case"input":kt("invalid",n),ia(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ga(n);break;case"select":kt("invalid",n);break;case"textarea":kt("invalid",n),ra(n,l.value,l.defaultValue,l.children),Ga(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Ay(n.textContent,a)?(l.popover!=null&&(kt("beforetoggle",n),kt("toggle",n)),l.onScroll!=null&&kt("scroll",n),l.onScrollEnd!=null&&kt("scrollend",n),l.onClick!=null&&(n.onclick=Hu),n=!0):n=!1,n||va(t)}function op(t){for(dn=t.return;dn;)switch(dn.tag){case 5:case 13:gi=!1;return;case 27:case 3:gi=!0;return;default:dn=dn.return}}function yl(t){if(t!==dn)return!1;if(!Wt)return op(t),Wt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||kf(t.type,t.memoizedProps)),a=!a),a&&ve&&va(t),op(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){ve=Zn(t.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}ve=null}}else n===27?(n=ve,Ir(t.type)?(t=Hf,Hf=null,ve=t):ve=n):ve=dn?Zn(t.stateNode.nextSibling):null;return!0}function _l(){ve=dn=null,Wt=!1}function up(){var t=_a;return t!==null&&(_n===null?_n=t:_n.push.apply(_n,t),_a=null),t}function vl(t){_a===null?_a=[t]:_a.push(t)}var Sh=J(null),Ea=null,Hi=null;function pr(t,n,a){it(Sh,n._currentValue),n._currentValue=a}function Gi(t){t._currentValue=Sh.current,ut(Sh)}function Ah(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function xh(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var b=d;d=h;for(var I=0;I<n.length;I++)if(b.context===n[I]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),Ah(d.return,a,t),l||(v=null);break t}d=b.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Ah(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function El(t,n,a,l){t=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var b=h.type;bn(h.pendingProps.value,v.value)||(t!==null?t.push(b):t=[b])}}else if(h===fe.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push($l):t=[$l])}h=h.return}t!==null&&xh(n,t,a,l),n.flags|=262144}function cu(t){for(t=t.firstContext;t!==null;){if(!bn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ta(t){Ea=t,Hi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function rn(t){return cp(Ea,t)}function hu(t,n){return Ea===null&&Ta(t),cp(t,n)}function cp(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Hi===null){if(t===null)throw Error(s(308));Hi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Hi=Hi.next=n;return a}var kE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},zE=r.unstable_scheduleCallback,BE=r.unstable_NormalPriority,Pe={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rh(){return{controller:new kE,data:new Map,refCount:0}}function Tl(t){t.refCount--,t.refCount===0&&zE(BE,function(){t.controller.abort()})}var bl=null,wh=0,ls=0,os=null;function qE(t,n){if(bl===null){var a=bl=[];wh=0,ls=If(),os={status:"pending",value:void 0,then:function(l){a.push(l)}}}return wh++,n.then(hp,hp),n}function hp(){if(--wh===0&&bl!==null){os!==null&&(os.status="fulfilled");var t=bl;bl=null,ls=0,os=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function HE(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var fp=W.S;W.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&qE(t,n),fp!==null&&fp(t,n)};var ba=J(null);function Ch(){var t=ba.current;return t!==null?t:ce.pooledCache}function fu(t,n){n===null?it(ba,ba.current):it(ba,n.pool)}function dp(){var t=Ch();return t===null?null:{parent:Pe._currentValue,pool:t}}var Sl=Error(s(460)),mp=Error(s(474)),du=Error(s(542)),Dh={then:function(){}};function pp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function mu(){}function gp(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(mu,mu),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,_p(t),t;default:if(typeof n.status=="string")n.then(mu,mu);else{if(t=ce,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,_p(t),t}throw Al=n,Sl}}var Al=null;function yp(){if(Al===null)throw Error(s(459));var t=Al;return Al=null,t}function _p(t){if(t===Sl||t===du)throw Error(s(483))}var gr=!1;function Ih(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function yr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function _r(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(ee&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=su(t),rp(t,null,a),n}return au(t,l,n,a),su(t)}function xl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Js(t,a)}}function Nh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=n:d=d.next=n}else h=d=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Mh=!1;function Rl(){if(Mh){var t=os;if(t!==null)throw t}}function wl(t,n,a,l){Mh=!1;var h=t.updateQueue;gr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var I=b,Q=I.next;I.next=null,v===null?d=Q:v.next=Q,v=I;var tt=t.alternate;tt!==null&&(tt=tt.updateQueue,b=tt.lastBaseUpdate,b!==v&&(b===null?tt.firstBaseUpdate=Q:b.next=Q,tt.lastBaseUpdate=I))}if(d!==null){var rt=h.baseState;v=0,tt=Q=I=null,b=d;do{var K=b.lane&-536870913,X=K!==b.lane;if(X?(Gt&K)===K:(l&K)===K){K!==0&&K===ls&&(Mh=!0),tt!==null&&(tt=tt.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var xt=t,bt=b;K=n;var le=a;switch(bt.tag){case 1:if(xt=bt.payload,typeof xt=="function"){rt=xt.call(le,rt,K);break t}rt=xt;break t;case 3:xt.flags=xt.flags&-65537|128;case 0:if(xt=bt.payload,K=typeof xt=="function"?xt.call(le,rt,K):xt,K==null)break t;rt=E({},rt,K);break t;case 2:gr=!0}}K=b.callback,K!==null&&(t.flags|=64,X&&(t.flags|=8192),X=h.callbacks,X===null?h.callbacks=[K]:X.push(K))}else X={lane:K,tag:b.tag,payload:b.payload,callback:b.callback,next:null},tt===null?(Q=tt=X,I=rt):tt=tt.next=X,v|=K;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;X=b,b=X.next,X.next=null,h.lastBaseUpdate=X,h.shared.pending=null}}while(!0);tt===null&&(I=rt),h.baseState=I,h.firstBaseUpdate=Q,h.lastBaseUpdate=tt,d===null&&(h.shared.lanes=0),Rr|=v,t.lanes=v,t.memoizedState=rt}}function vp(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Ep(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)vp(a[t],n)}var us=J(null),pu=J(0);function Tp(t,n){t=Wi,it(pu,t),it(us,n),Wi=t|n.baseLanes}function Oh(){it(pu,Wi),it(us,us.current)}function jh(){Wi=pu.current,ut(us),ut(pu)}var vr=0,jt=null,ae=null,Ie=null,gu=!1,cs=!1,Sa=!1,yu=0,Cl=0,hs=null,GE=0;function Ae(){throw Error(s(321))}function Uh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!bn(t[a],n[a]))return!1;return!0}function Lh(t,n,a,l,h,d){return vr=d,jt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,W.H=t===null||t.memoizedState===null?rg:ag,Sa=!1,d=a(l,h),Sa=!1,cs&&(d=Sp(n,a,l,h)),bp(t),d}function bp(t){W.H=Su;var n=ae!==null&&ae.next!==null;if(vr=0,Ie=ae=jt=null,gu=!1,Cl=0,hs=null,n)throw Error(s(300));t===null||Ge||(t=t.dependencies,t!==null&&cu(t)&&(Ge=!0))}function Sp(t,n,a,l){jt=t;var h=0;do{if(cs&&(hs=null),Cl=0,cs=!1,25<=h)throw Error(s(301));if(h+=1,Ie=ae=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}W.H=WE,d=n(a,l)}while(cs);return d}function FE(){var t=W.H,n=t.useState()[0];return n=typeof n.then=="function"?Dl(n):n,t=t.useState()[0],(ae!==null?ae.memoizedState:null)!==t&&(jt.flags|=1024),n}function Ph(){var t=yu!==0;return yu=0,t}function kh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function zh(t){if(gu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}gu=!1}vr=0,Ie=ae=jt=null,cs=!1,Cl=yu=0,hs=null}function gn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?jt.memoizedState=Ie=t:Ie=Ie.next=t,Ie}function Ve(){if(ae===null){var t=jt.alternate;t=t!==null?t.memoizedState:null}else t=ae.next;var n=Ie===null?jt.memoizedState:Ie.next;if(n!==null)Ie=n,ae=t;else{if(t===null)throw jt.alternate===null?Error(s(467)):Error(s(310));ae=t,t={memoizedState:ae.memoizedState,baseState:ae.baseState,baseQueue:ae.baseQueue,queue:ae.queue,next:null},Ie===null?jt.memoizedState=Ie=t:Ie=Ie.next=t}return Ie}function Bh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Dl(t){var n=Cl;return Cl+=1,hs===null&&(hs=[]),t=gp(hs,t,n),n=jt,(Ie===null?n.memoizedState:Ie.next)===null&&(n=n.alternate,W.H=n===null||n.memoizedState===null?rg:ag),t}function _u(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Dl(t);if(t.$$typeof===B)return rn(t)}throw Error(s(438,String(t)))}function qh(t){var n=null,a=jt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=jt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Bh(),jt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=j;return n.index++,a}function Fi(t,n){return typeof n=="function"?n(t):n}function vu(t){var n=Ve();return Hh(n,ae,t)}function Hh(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}n.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{n=h.next;var b=v=null,I=null,Q=n,tt=!1;do{var rt=Q.lane&-536870913;if(rt!==Q.lane?(Gt&rt)===rt:(vr&rt)===rt){var K=Q.revertLane;if(K===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),rt===ls&&(tt=!0);else if((vr&K)===K){Q=Q.next,K===ls&&(tt=!0);continue}else rt={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},I===null?(b=I=rt,v=d):I=I.next=rt,jt.lanes|=K,Rr|=K;rt=Q.action,Sa&&a(d,rt),d=Q.hasEagerState?Q.eagerState:a(d,rt)}else K={lane:rt,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},I===null?(b=I=K,v=d):I=I.next=K,jt.lanes|=rt,Rr|=rt;Q=Q.next}while(Q!==null&&Q!==n);if(I===null?v=d:I.next=b,!bn(d,t.memoizedState)&&(Ge=!0,tt&&(a=os,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Gh(t){var n=Ve(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=n.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);bn(d,n.memoizedState)||(Ge=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),a.lastRenderedState=d}return[d,l]}function Ap(t,n,a){var l=jt,h=Ve(),d=Wt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=n();var v=!bn((ae||h).memoizedState,a);v&&(h.memoizedState=a,Ge=!0),h=h.queue;var b=wp.bind(null,l,h,t);if(Il(2048,8,b,[t]),h.getSnapshot!==n||v||Ie!==null&&Ie.memoizedState.tag&1){if(l.flags|=2048,fs(9,Eu(),Rp.bind(null,l,h,a,n),null),ce===null)throw Error(s(349));d||(vr&124)!==0||xp(l,n,a)}return a}function xp(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=jt.updateQueue,n===null?(n=Bh(),jt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Rp(t,n,a,l){n.value=a,n.getSnapshot=l,Cp(n)&&Dp(t)}function wp(t,n,a){return a(function(){Cp(n)&&Dp(t)})}function Cp(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!bn(t,a)}catch{return!0}}function Dp(t){var n=is(t,2);n!==null&&Cn(n,t,2)}function Fh(t){var n=gn();if(typeof t=="function"){var a=t;if(t=a(),Sa){Oe(!0);try{a()}finally{Oe(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:t},n}function Ip(t,n,a,l){return t.baseState=a,Hh(t,ae,typeof l=="function"?l:Fi)}function QE(t,n,a,l,h){if(bu(t))throw Error(s(485));if(t=n.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};W.T!==null?a(!0):d.isTransition=!1,l(d),a=n.pending,a===null?(d.next=n.pending=d,Vp(n,d)):(d.next=a.next,n.pending=a.next=d)}}function Vp(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var d=W.T,v={};W.T=v;try{var b=a(h,l),I=W.S;I!==null&&I(v,b),Np(t,n,b)}catch(Q){Qh(t,n,Q)}finally{W.T=d}}else try{d=a(h,l),Np(t,n,d)}catch(Q){Qh(t,n,Q)}}function Np(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Mp(t,n,l)},function(l){return Qh(t,n,l)}):Mp(t,n,a)}function Mp(t,n,a){n.status="fulfilled",n.value=a,Op(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Vp(t,a)))}function Qh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Op(n),n=n.next;while(n!==l)}t.action=null}function Op(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function jp(t,n){return n}function Up(t,n){if(Wt){var a=ce.formState;if(a!==null){t:{var l=jt;if(Wt){if(ve){e:{for(var h=ve,d=gi;h.nodeType!==8;){if(!d){h=null;break e}if(h=Zn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ve=Zn(h.nextSibling),l=h.data==="F!";break t}}va(l)}l=!1}l&&(n=a[0])}}return a=gn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jp,lastRenderedState:n},a.queue=l,a=eg.bind(null,jt,l),l.dispatch=a,l=Fh(!1),d=Wh.bind(null,jt,!1,l.queue),l=gn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=QE.bind(null,jt,h,d,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function Lp(t){var n=Ve();return Pp(n,ae,t)}function Pp(t,n,a){if(n=Hh(t,n,jp)[0],t=vu(Fi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Dl(n)}catch(v){throw v===Sl?du:v}else l=n;n=Ve();var h=n.queue,d=h.dispatch;return a!==n.memoizedState&&(jt.flags|=2048,fs(9,Eu(),YE.bind(null,h,a),null)),[l,d,t]}function YE(t,n){t.action=n}function kp(t){var n=Ve(),a=ae;if(a!==null)return Pp(n,a,t);Ve(),n=n.memoizedState,a=Ve();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function fs(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=jt.updateQueue,n===null&&(n=Bh(),jt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Eu(){return{destroy:void 0,resource:void 0}}function zp(){return Ve().memoizedState}function Tu(t,n,a,l){var h=gn();l=l===void 0?null:l,jt.flags|=t,h.memoizedState=fs(1|n,Eu(),a,l)}function Il(t,n,a,l){var h=Ve();l=l===void 0?null:l;var d=h.memoizedState.inst;ae!==null&&l!==null&&Uh(l,ae.memoizedState.deps)?h.memoizedState=fs(n,d,a,l):(jt.flags|=t,h.memoizedState=fs(1|n,d,a,l))}function Bp(t,n){Tu(8390656,8,t,n)}function qp(t,n){Il(2048,8,t,n)}function Hp(t,n){return Il(4,2,t,n)}function Gp(t,n){return Il(4,4,t,n)}function Fp(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Qp(t,n,a){a=a!=null?a.concat([t]):null,Il(4,4,Fp.bind(null,n,t),a)}function Yh(){}function Yp(t,n){var a=Ve();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Uh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Kp(t,n){var a=Ve();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Uh(n,l[1]))return l[0];if(l=t(),Sa){Oe(!0);try{t()}finally{Oe(!1)}}return a.memoizedState=[l,n],l}function Kh(t,n,a){return a===void 0||(vr&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=Wg(),jt.lanes|=t,Rr|=t,a)}function $p(t,n,a,l){return bn(a,n)?a:us.current!==null?(t=Kh(t,a,l),bn(t,n)||(Ge=!0),t):(vr&42)===0?(Ge=!0,t.memoizedState=a):(t=Wg(),jt.lanes|=t,Rr|=t,n)}function Xp(t,n,a,l,h){var d=$.p;$.p=d!==0&&8>d?d:8;var v=W.T,b={};W.T=b,Wh(t,!1,n,a);try{var I=h(),Q=W.S;if(Q!==null&&Q(b,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var tt=HE(I,l);Vl(t,n,tt,wn(t))}else Vl(t,n,l,wn(t))}catch(rt){Vl(t,n,{then:function(){},status:"rejected",reason:rt},wn())}finally{$.p=d,W.T=v}}function KE(){}function $h(t,n,a,l){if(t.tag!==5)throw Error(s(476));var h=Wp(t).queue;Xp(t,h,n,lt,a===null?KE:function(){return Zp(t),a(l)})}function Wp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:lt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Zp(t){var n=Wp(t).next.queue;Vl(t,n,{},wn())}function Xh(){return rn($l)}function Jp(){return Ve().memoizedState}function tg(){return Ve().memoizedState}function $E(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=wn();t=yr(a);var l=_r(n,t,a);l!==null&&(Cn(l,n,a),xl(l,n,a)),n={cache:Rh()},t.payload=n;return}n=n.return}}function XE(t,n,a){var l=wn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},bu(t)?ng(n,a):(a=gh(t,n,a,l),a!==null&&(Cn(a,t,l),ig(a,n,l)))}function eg(t,n,a){var l=wn();Vl(t,n,a,l)}function Vl(t,n,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(bu(t))ng(n,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var v=n.lastRenderedState,b=d(v,a);if(h.hasEagerState=!0,h.eagerState=b,bn(b,v))return au(t,n,h,0),ce===null&&ru(),!1}catch{}finally{}if(a=gh(t,n,h,l),a!==null)return Cn(a,t,l),ig(a,n,l),!0}return!1}function Wh(t,n,a,l){if(l={lane:2,revertLane:If(),action:l,hasEagerState:!1,eagerState:null,next:null},bu(t)){if(n)throw Error(s(479))}else n=gh(t,a,l,2),n!==null&&Cn(n,t,2)}function bu(t){var n=t.alternate;return t===jt||n!==null&&n===jt}function ng(t,n){cs=gu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function ig(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Js(t,a)}}var Su={readContext:rn,use:_u,useCallback:Ae,useContext:Ae,useEffect:Ae,useImperativeHandle:Ae,useLayoutEffect:Ae,useInsertionEffect:Ae,useMemo:Ae,useReducer:Ae,useRef:Ae,useState:Ae,useDebugValue:Ae,useDeferredValue:Ae,useTransition:Ae,useSyncExternalStore:Ae,useId:Ae,useHostTransitionStatus:Ae,useFormState:Ae,useActionState:Ae,useOptimistic:Ae,useMemoCache:Ae,useCacheRefresh:Ae},rg={readContext:rn,use:_u,useCallback:function(t,n){return gn().memoizedState=[t,n===void 0?null:n],t},useContext:rn,useEffect:Bp,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Tu(4194308,4,Fp.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Tu(4194308,4,t,n)},useInsertionEffect:function(t,n){Tu(4,2,t,n)},useMemo:function(t,n){var a=gn();n=n===void 0?null:n;var l=t();if(Sa){Oe(!0);try{t()}finally{Oe(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=gn();if(a!==void 0){var h=a(n);if(Sa){Oe(!0);try{a(n)}finally{Oe(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=XE.bind(null,jt,t),[l.memoizedState,t]},useRef:function(t){var n=gn();return t={current:t},n.memoizedState=t},useState:function(t){t=Fh(t);var n=t.queue,a=eg.bind(null,jt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Yh,useDeferredValue:function(t,n){var a=gn();return Kh(a,t,n)},useTransition:function(){var t=Fh(!1);return t=Xp.bind(null,jt,t.queue,!0,!1),gn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=jt,h=gn();if(Wt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),ce===null)throw Error(s(349));(Gt&124)!==0||xp(l,n,a)}h.memoizedState=a;var d={value:a,getSnapshot:n};return h.queue=d,Bp(wp.bind(null,l,d,t),[t]),l.flags|=2048,fs(9,Eu(),Rp.bind(null,l,d,a,n),null),a},useId:function(){var t=gn(),n=ce.identifierPrefix;if(Wt){var a=qi,l=Bi;a=(l&~(1<<32-we(l)-1)).toString(32)+a,n=""+n+"R"+a,a=yu++,0<a&&(n+="H"+a.toString(32)),n+=""}else a=GE++,n=""+n+"r"+a.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:Xh,useFormState:Up,useActionState:Up,useOptimistic:function(t){var n=gn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Wh.bind(null,jt,!0,a),a.dispatch=n,[t,n]},useMemoCache:qh,useCacheRefresh:function(){return gn().memoizedState=$E.bind(null,jt)}},ag={readContext:rn,use:_u,useCallback:Yp,useContext:rn,useEffect:qp,useImperativeHandle:Qp,useInsertionEffect:Hp,useLayoutEffect:Gp,useMemo:Kp,useReducer:vu,useRef:zp,useState:function(){return vu(Fi)},useDebugValue:Yh,useDeferredValue:function(t,n){var a=Ve();return $p(a,ae.memoizedState,t,n)},useTransition:function(){var t=vu(Fi)[0],n=Ve().memoizedState;return[typeof t=="boolean"?t:Dl(t),n]},useSyncExternalStore:Ap,useId:Jp,useHostTransitionStatus:Xh,useFormState:Lp,useActionState:Lp,useOptimistic:function(t,n){var a=Ve();return Ip(a,ae,t,n)},useMemoCache:qh,useCacheRefresh:tg},WE={readContext:rn,use:_u,useCallback:Yp,useContext:rn,useEffect:qp,useImperativeHandle:Qp,useInsertionEffect:Hp,useLayoutEffect:Gp,useMemo:Kp,useReducer:Gh,useRef:zp,useState:function(){return Gh(Fi)},useDebugValue:Yh,useDeferredValue:function(t,n){var a=Ve();return ae===null?Kh(a,t,n):$p(a,ae.memoizedState,t,n)},useTransition:function(){var t=Gh(Fi)[0],n=Ve().memoizedState;return[typeof t=="boolean"?t:Dl(t),n]},useSyncExternalStore:Ap,useId:Jp,useHostTransitionStatus:Xh,useFormState:kp,useActionState:kp,useOptimistic:function(t,n){var a=Ve();return ae!==null?Ip(a,ae,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:qh,useCacheRefresh:tg},ds=null,Nl=0;function Au(t){var n=Nl;return Nl+=1,ds===null&&(ds=[]),gp(ds,t,n)}function Ml(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function xu(t,n){throw n.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function sg(t){var n=t._init;return n(t._payload)}function lg(t){function n(q,L){if(t){var F=q.deletions;F===null?(q.deletions=[L],q.flags|=16):F.push(L)}}function a(q,L){if(!t)return null;for(;L!==null;)n(q,L),L=L.sibling;return null}function l(q){for(var L=new Map;q!==null;)q.key!==null?L.set(q.key,q):L.set(q.index,q),q=q.sibling;return L}function h(q,L){return q=zi(q,L),q.index=0,q.sibling=null,q}function d(q,L,F){return q.index=F,t?(F=q.alternate,F!==null?(F=F.index,F<L?(q.flags|=67108866,L):F):(q.flags|=67108866,L)):(q.flags|=1048576,L)}function v(q){return t&&q.alternate===null&&(q.flags|=67108866),q}function b(q,L,F,et){return L===null||L.tag!==6?(L=_h(F,q.mode,et),L.return=q,L):(L=h(L,F),L.return=q,L)}function I(q,L,F,et){var _t=F.type;return _t===V?tt(q,L,F.props.children,et,F.key):L!==null&&(L.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===R&&sg(_t)===L.type)?(L=h(L,F.props),Ml(L,F),L.return=q,L):(L=lu(F.type,F.key,F.props,null,q.mode,et),Ml(L,F),L.return=q,L)}function Q(q,L,F,et){return L===null||L.tag!==4||L.stateNode.containerInfo!==F.containerInfo||L.stateNode.implementation!==F.implementation?(L=vh(F,q.mode,et),L.return=q,L):(L=h(L,F.children||[]),L.return=q,L)}function tt(q,L,F,et,_t){return L===null||L.tag!==7?(L=pa(F,q.mode,et,_t),L.return=q,L):(L=h(L,F),L.return=q,L)}function rt(q,L,F){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=_h(""+L,q.mode,F),L.return=q,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case x:return F=lu(L.type,L.key,L.props,null,q.mode,F),Ml(F,L),F.return=q,F;case D:return L=vh(L,q.mode,F),L.return=q,L;case R:var et=L._init;return L=et(L._payload),rt(q,L,F)}if(It(L)||U(L))return L=pa(L,q.mode,F,null),L.return=q,L;if(typeof L.then=="function")return rt(q,Au(L),F);if(L.$$typeof===B)return rt(q,hu(q,L),F);xu(q,L)}return null}function K(q,L,F,et){var _t=L!==null?L.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return _t!==null?null:b(q,L,""+F,et);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case x:return F.key===_t?I(q,L,F,et):null;case D:return F.key===_t?Q(q,L,F,et):null;case R:return _t=F._init,F=_t(F._payload),K(q,L,F,et)}if(It(F)||U(F))return _t!==null?null:tt(q,L,F,et,null);if(typeof F.then=="function")return K(q,L,Au(F),et);if(F.$$typeof===B)return K(q,L,hu(q,F),et);xu(q,F)}return null}function X(q,L,F,et,_t){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return q=q.get(F)||null,b(L,q,""+et,_t);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case x:return q=q.get(et.key===null?F:et.key)||null,I(L,q,et,_t);case D:return q=q.get(et.key===null?F:et.key)||null,Q(L,q,et,_t);case R:var Lt=et._init;return et=Lt(et._payload),X(q,L,F,et,_t)}if(It(et)||U(et))return q=q.get(F)||null,tt(L,q,et,_t,null);if(typeof et.then=="function")return X(q,L,F,Au(et),_t);if(et.$$typeof===B)return X(q,L,F,hu(L,et),_t);xu(L,et)}return null}function xt(q,L,F,et){for(var _t=null,Lt=null,Et=L,At=L=0,Qe=null;Et!==null&&At<F.length;At++){Et.index>At?(Qe=Et,Et=null):Qe=Et.sibling;var $t=K(q,Et,F[At],et);if($t===null){Et===null&&(Et=Qe);break}t&&Et&&$t.alternate===null&&n(q,Et),L=d($t,L,At),Lt===null?_t=$t:Lt.sibling=$t,Lt=$t,Et=Qe}if(At===F.length)return a(q,Et),Wt&&ya(q,At),_t;if(Et===null){for(;At<F.length;At++)Et=rt(q,F[At],et),Et!==null&&(L=d(Et,L,At),Lt===null?_t=Et:Lt.sibling=Et,Lt=Et);return Wt&&ya(q,At),_t}for(Et=l(Et);At<F.length;At++)Qe=X(Et,q,At,F[At],et),Qe!==null&&(t&&Qe.alternate!==null&&Et.delete(Qe.key===null?At:Qe.key),L=d(Qe,L,At),Lt===null?_t=Qe:Lt.sibling=Qe,Lt=Qe);return t&&Et.forEach(function(jr){return n(q,jr)}),Wt&&ya(q,At),_t}function bt(q,L,F,et){if(F==null)throw Error(s(151));for(var _t=null,Lt=null,Et=L,At=L=0,Qe=null,$t=F.next();Et!==null&&!$t.done;At++,$t=F.next()){Et.index>At?(Qe=Et,Et=null):Qe=Et.sibling;var jr=K(q,Et,$t.value,et);if(jr===null){Et===null&&(Et=Qe);break}t&&Et&&jr.alternate===null&&n(q,Et),L=d(jr,L,At),Lt===null?_t=jr:Lt.sibling=jr,Lt=jr,Et=Qe}if($t.done)return a(q,Et),Wt&&ya(q,At),_t;if(Et===null){for(;!$t.done;At++,$t=F.next())$t=rt(q,$t.value,et),$t!==null&&(L=d($t,L,At),Lt===null?_t=$t:Lt.sibling=$t,Lt=$t);return Wt&&ya(q,At),_t}for(Et=l(Et);!$t.done;At++,$t=F.next())$t=X(Et,q,At,$t.value,et),$t!==null&&(t&&$t.alternate!==null&&Et.delete($t.key===null?At:$t.key),L=d($t,L,At),Lt===null?_t=$t:Lt.sibling=$t,Lt=$t);return t&&Et.forEach(function(ZT){return n(q,ZT)}),Wt&&ya(q,At),_t}function le(q,L,F,et){if(typeof F=="object"&&F!==null&&F.type===V&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case x:t:{for(var _t=F.key;L!==null;){if(L.key===_t){if(_t=F.type,_t===V){if(L.tag===7){a(q,L.sibling),et=h(L,F.props.children),et.return=q,q=et;break t}}else if(L.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===R&&sg(_t)===L.type){a(q,L.sibling),et=h(L,F.props),Ml(et,F),et.return=q,q=et;break t}a(q,L);break}else n(q,L);L=L.sibling}F.type===V?(et=pa(F.props.children,q.mode,et,F.key),et.return=q,q=et):(et=lu(F.type,F.key,F.props,null,q.mode,et),Ml(et,F),et.return=q,q=et)}return v(q);case D:t:{for(_t=F.key;L!==null;){if(L.key===_t)if(L.tag===4&&L.stateNode.containerInfo===F.containerInfo&&L.stateNode.implementation===F.implementation){a(q,L.sibling),et=h(L,F.children||[]),et.return=q,q=et;break t}else{a(q,L);break}else n(q,L);L=L.sibling}et=vh(F,q.mode,et),et.return=q,q=et}return v(q);case R:return _t=F._init,F=_t(F._payload),le(q,L,F,et)}if(It(F))return xt(q,L,F,et);if(U(F)){if(_t=U(F),typeof _t!="function")throw Error(s(150));return F=_t.call(F),bt(q,L,F,et)}if(typeof F.then=="function")return le(q,L,Au(F),et);if(F.$$typeof===B)return le(q,L,hu(q,F),et);xu(q,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,L!==null&&L.tag===6?(a(q,L.sibling),et=h(L,F),et.return=q,q=et):(a(q,L),et=_h(F,q.mode,et),et.return=q,q=et),v(q)):a(q,L)}return function(q,L,F,et){try{Nl=0;var _t=le(q,L,F,et);return ds=null,_t}catch(Et){if(Et===Sl||Et===du)throw Et;var Lt=Sn(29,Et,null,q.mode);return Lt.lanes=et,Lt.return=q,Lt}finally{}}}var ms=lg(!0),og=lg(!1),Bn=J(null),yi=null;function Er(t){var n=t.alternate;it(ke,ke.current&1),it(Bn,t),yi===null&&(n===null||us.current!==null||n.memoizedState!==null)&&(yi=t)}function ug(t){if(t.tag===22){if(it(ke,ke.current),it(Bn,t),yi===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(yi=t)}}else Tr()}function Tr(){it(ke,ke.current),it(Bn,Bn.current)}function Qi(t){ut(Bn),yi===t&&(yi=null),ut(ke)}var ke=J(0);function Ru(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||qf(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Zh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:E({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Jh={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=wn(),h=yr(l);h.payload=n,a!=null&&(h.callback=a),n=_r(t,h,l),n!==null&&(Cn(n,t,l),xl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=wn(),h=yr(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=_r(t,h,l),n!==null&&(Cn(n,t,l),xl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=wn(),l=yr(a);l.tag=2,n!=null&&(l.callback=n),n=_r(t,l,a),n!==null&&(Cn(n,t,a),xl(n,t,a))}};function cg(t,n,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):n.prototype&&n.prototype.isPureReactComponent?!pl(a,l)||!pl(h,d):!0}function hg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Jh.enqueueReplaceState(n,n.state,null)}function Aa(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var wu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function fg(t){wu(t)}function dg(t){console.error(t)}function mg(t){wu(t)}function Cu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function pg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function tf(t,n,a){return a=yr(a),a.tag=3,a.payload={element:null},a.callback=function(){Cu(t,n)},a}function gg(t){return t=yr(t),t.tag=3,t}function yg(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){pg(n,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){pg(n,a,l),typeof h!="function"&&(wr===null?wr=new Set([this]):wr.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function ZE(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&El(n,a,h,!0),a=Bn.current,a!==null){switch(a.tag){case 13:return yi===null?xf():a.alternate===null&&Ee===0&&(Ee=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Dh?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),wf(t,l,h)),!1;case 22:return a.flags|=65536,l===Dh?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),wf(t,l,h)),!1}throw Error(s(435,a.tag))}return wf(t,l,h),xf(),!1}if(Wt)return n=Bn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==bh&&(t=Error(s(422),{cause:l}),vl(Ln(t,a)))):(l!==bh&&(n=Error(s(423),{cause:l}),vl(Ln(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Ln(l,a),h=tf(t.stateNode,l,h),Nh(t,h),Ee!==4&&(Ee=2)),!1;var d=Error(s(520),{cause:l});if(d=Ln(d,a),zl===null?zl=[d]:zl.push(d),Ee!==4&&(Ee=2),n===null)return!0;l=Ln(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=tf(a.stateNode,l,t),Nh(a,t),!1;case 1:if(n=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(wr===null||!wr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=gg(h),yg(h,t,a,l),Nh(a,h),!1}a=a.return}while(a!==null);return!1}var _g=Error(s(461)),Ge=!1;function Xe(t,n,a,l){n.child=t===null?og(n,null,a,l):ms(n,t.child,a,l)}function vg(t,n,a,l,h){a=a.render;var d=n.ref;if("ref"in l){var v={};for(var b in l)b!=="ref"&&(v[b]=l[b])}else v=l;return Ta(n),l=Lh(t,n,a,v,d,h),b=Ph(),t!==null&&!Ge?(kh(t,n,h),Yi(t,n,h)):(Wt&&b&&Eh(n),n.flags|=1,Xe(t,n,l,h),n.child)}function Eg(t,n,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!yh(d)&&d.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=d,Tg(t,n,d,l,h)):(t=lu(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!uf(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:pl,a(v,l)&&t.ref===n.ref)return Yi(t,n,h)}return n.flags|=1,t=zi(d,l),t.ref=n.ref,t.return=n,n.child=t}function Tg(t,n,a,l,h){if(t!==null){var d=t.memoizedProps;if(pl(d,l)&&t.ref===n.ref)if(Ge=!1,n.pendingProps=l=d,uf(t,h))(t.flags&131072)!==0&&(Ge=!0);else return n.lanes=t.lanes,Yi(t,n,h)}return ef(t,n,a,l,h)}function bg(t,n,a){var l=n.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=n.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;n.childLanes=d&~l}else n.childLanes=0,n.child=null;return Sg(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&fu(n,d!==null?d.cachePool:null),d!==null?Tp(n,d):Oh(),ug(n);else return n.lanes=n.childLanes=536870912,Sg(t,n,d!==null?d.baseLanes|a:a,a)}else d!==null?(fu(n,d.cachePool),Tp(n,d),Tr(),n.memoizedState=null):(t!==null&&fu(n,null),Oh(),Tr());return Xe(t,n,h,a),n.child}function Sg(t,n,a,l){var h=Ch();return h=h===null?null:{parent:Pe._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},t!==null&&fu(n,null),Oh(),ug(n),t!==null&&El(t,n,l,!0),null}function Du(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function ef(t,n,a,l,h){return Ta(n),a=Lh(t,n,a,l,void 0,h),l=Ph(),t!==null&&!Ge?(kh(t,n,h),Yi(t,n,h)):(Wt&&l&&Eh(n),n.flags|=1,Xe(t,n,a,h),n.child)}function Ag(t,n,a,l,h,d){return Ta(n),n.updateQueue=null,a=Sp(n,l,a,h),bp(t),l=Ph(),t!==null&&!Ge?(kh(t,n,d),Yi(t,n,d)):(Wt&&l&&Eh(n),n.flags|=1,Xe(t,n,a,d),n.child)}function xg(t,n,a,l,h){if(Ta(n),n.stateNode===null){var d=rs,v=a.contextType;typeof v=="object"&&v!==null&&(d=rn(v)),d=new a(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Jh,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},Ih(n),v=a.contextType,d.context=typeof v=="object"&&v!==null?rn(v):rs,d.state=n.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Zh(n,a,v,l),d.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Jh.enqueueReplaceState(d,d.state,null),wl(n,l,d,h),Rl(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){d=n.stateNode;var b=n.memoizedProps,I=Aa(a,b);d.props=I;var Q=d.context,tt=a.contextType;v=rs,typeof tt=="object"&&tt!==null&&(v=rn(tt));var rt=a.getDerivedStateFromProps;tt=typeof rt=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=n.pendingProps!==b,tt||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||Q!==v)&&hg(n,d,l,v),gr=!1;var K=n.memoizedState;d.state=K,wl(n,l,d,h),Rl(),Q=n.memoizedState,b||K!==Q||gr?(typeof rt=="function"&&(Zh(n,a,rt,l),Q=n.memoizedState),(I=gr||cg(n,a,I,l,K,Q,v))?(tt||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=Q),d.props=l,d.state=Q,d.context=v,l=I):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,Vh(t,n),v=n.memoizedProps,tt=Aa(a,v),d.props=tt,rt=n.pendingProps,K=d.context,Q=a.contextType,I=rs,typeof Q=="object"&&Q!==null&&(I=rn(Q)),b=a.getDerivedStateFromProps,(Q=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==rt||K!==I)&&hg(n,d,l,I),gr=!1,K=n.memoizedState,d.state=K,wl(n,l,d,h),Rl();var X=n.memoizedState;v!==rt||K!==X||gr||t!==null&&t.dependencies!==null&&cu(t.dependencies)?(typeof b=="function"&&(Zh(n,a,b,l),X=n.memoizedState),(tt=gr||cg(n,a,tt,l,K,X,I)||t!==null&&t.dependencies!==null&&cu(t.dependencies))?(Q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,X,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,X,I)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=X),d.props=l,d.state=X,d.context=I,l=tt):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(n.flags|=1024),l=!1)}return d=l,Du(t,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&l?(n.child=ms(n,t.child,null,h),n.child=ms(n,null,a,h)):Xe(t,n,a,h),n.memoizedState=d.state,t=n.child):t=Yi(t,n,h),t}function Rg(t,n,a,l){return _l(),n.flags|=256,Xe(t,n,a,l),n.child}var nf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rf(t){return{baseLanes:t,cachePool:dp()}}function af(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=qn),t}function wg(t,n,a){var l=n.pendingProps,h=!1,d=(n.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(ke.current&2)!==0),v&&(h=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,t===null){if(Wt){if(h?Er(n):Tr(),Wt){var b=ve,I;if(I=b){t:{for(I=b,b=gi;I.nodeType!==8;){if(!b){b=null;break t}if(I=Zn(I.nextSibling),I===null){b=null;break t}}b=I}b!==null?(n.memoizedState={dehydrated:b,treeContext:ga!==null?{id:Bi,overflow:qi}:null,retryLane:536870912,hydrationErrors:null},I=Sn(18,null,null,0),I.stateNode=b,I.return=n,n.child=I,dn=n,ve=null,I=!0):I=!1}I||va(n)}if(b=n.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return qf(b)?n.lanes=32:n.lanes=536870912,null;Qi(n)}return b=l.children,l=l.fallback,h?(Tr(),h=n.mode,b=Iu({mode:"hidden",children:b},h),l=pa(l,h,a,null),b.return=n,l.return=n,b.sibling=l,n.child=b,h=n.child,h.memoizedState=rf(a),h.childLanes=af(t,v,a),n.memoizedState=nf,l):(Er(n),sf(n,b))}if(I=t.memoizedState,I!==null&&(b=I.dehydrated,b!==null)){if(d)n.flags&256?(Er(n),n.flags&=-257,n=lf(t,n,a)):n.memoizedState!==null?(Tr(),n.child=t.child,n.flags|=128,n=null):(Tr(),h=l.fallback,b=n.mode,l=Iu({mode:"visible",children:l.children},b),h=pa(h,b,a,null),h.flags|=2,l.return=n,h.return=n,l.sibling=h,n.child=l,ms(n,t.child,null,a),l=n.child,l.memoizedState=rf(a),l.childLanes=af(t,v,a),n.memoizedState=nf,n=h);else if(Er(n),qf(b)){if(v=b.nextSibling&&b.nextSibling.dataset,v)var Q=v.dgst;v=Q,l=Error(s(419)),l.stack="",l.digest=v,vl({value:l,source:null,stack:null}),n=lf(t,n,a)}else if(Ge||El(t,n,a,!1),v=(a&t.childLanes)!==0,Ge||v){if(v=ce,v!==null&&(l=a&-a,l=(l&42)!==0?1:or(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,is(t,l),Cn(v,t,l),_g;b.data==="$?"||xf(),n=lf(t,n,a)}else b.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=I.treeContext,ve=Zn(b.nextSibling),dn=n,Wt=!0,_a=null,gi=!1,t!==null&&(kn[zn++]=Bi,kn[zn++]=qi,kn[zn++]=ga,Bi=t.id,qi=t.overflow,ga=n),n=sf(n,l.children),n.flags|=4096);return n}return h?(Tr(),h=l.fallback,b=n.mode,I=t.child,Q=I.sibling,l=zi(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,Q!==null?h=zi(Q,h):(h=pa(h,b,a,null),h.flags|=2),h.return=n,l.return=n,l.sibling=h,n.child=l,l=h,h=n.child,b=t.child.memoizedState,b===null?b=rf(a):(I=b.cachePool,I!==null?(Q=Pe._currentValue,I=I.parent!==Q?{parent:Q,pool:Q}:I):I=dp(),b={baseLanes:b.baseLanes|a,cachePool:I}),h.memoizedState=b,h.childLanes=af(t,v,a),n.memoizedState=nf,l):(Er(n),a=t.child,t=a.sibling,a=zi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(v=n.deletions,v===null?(n.deletions=[t],n.flags|=16):v.push(t)),n.child=a,n.memoizedState=null,a)}function sf(t,n){return n=Iu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Iu(t,n){return t=Sn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function lf(t,n,a){return ms(n,t.child,null,a),t=sf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Cg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Ah(t.return,n,a)}function of(t,n,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Dg(t,n,a){var l=n.pendingProps,h=l.revealOrder,d=l.tail;if(Xe(t,n,l.children,a),l=ke.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Cg(t,a,n);else if(t.tag===19)Cg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(it(ke,l),h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Ru(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),of(n,!1,h,a,d);break;case"backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Ru(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}of(n,!0,a,null,d);break;case"together":of(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Yi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Rr|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(El(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=zi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=zi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function uf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&cu(t)))}function JE(t,n,a){switch(n.tag){case 3:Kt(n,n.stateNode.containerInfo),pr(n,Pe,t.memoizedState.cache),_l();break;case 27:case 5:ii(n);break;case 4:Kt(n,n.stateNode.containerInfo);break;case 10:pr(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Er(n),n.flags|=128,null):(a&n.child.childLanes)!==0?wg(t,n,a):(Er(n),t=Yi(t,n,a),t!==null?t.sibling:null);Er(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(El(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return Dg(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(ke,ke.current),l)break;return null;case 22:case 23:return n.lanes=0,bg(t,n,a);case 24:pr(n,Pe,t.memoizedState.cache)}return Yi(t,n,a)}function Ig(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ge=!0;else{if(!uf(t,a)&&(n.flags&128)===0)return Ge=!1,JE(t,n,a);Ge=(t.flags&131072)!==0}else Ge=!1,Wt&&(n.flags&1048576)!==0&&sp(n,uu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,h=l._init;if(l=h(l._payload),n.type=l,typeof l=="function")yh(l)?(t=Aa(l,t),n.tag=1,n=xg(null,n,l,t,a)):(n.tag=0,n=ef(null,n,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===ct){n.tag=11,n=vg(null,n,l,t,a);break t}else if(h===O){n.tag=14,n=Eg(null,n,l,t,a);break t}}throw n=Yt(l)||l,Error(s(306,n,""))}}return n;case 0:return ef(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=Aa(l,n.pendingProps),xg(t,n,l,h,a);case 3:t:{if(Kt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var d=n.memoizedState;h=d.element,Vh(t,n),wl(n,l,null,a);var v=n.memoizedState;if(l=v.cache,pr(n,Pe,l),l!==d.cache&&xh(n,[Pe],a,!0),Rl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=Rg(t,n,l,a);break t}else if(l!==h){h=Ln(Error(s(424)),n),vl(h),n=Rg(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ve=Zn(t.firstChild),dn=n,Wt=!0,_a=null,gi=!0,a=og(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(_l(),l===h){n=Yi(t,n,a);break t}Xe(t,n,l,a)}n=n.child}return n;case 26:return Du(t,n),t===null?(a=Oy(n.type,null,n.pendingProps,null))?n.memoizedState=a:Wt||(a=n.type,t=n.pendingProps,l=Gu(St.current).createElement(a),l[je]=n,l[Ce]=t,Ze(l,a,t),Se(l),n.stateNode=l):n.memoizedState=Oy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return ii(n),t===null&&Wt&&(l=n.stateNode=Vy(n.type,n.pendingProps,St.current),dn=n,gi=!0,h=ve,Ir(n.type)?(Hf=h,ve=Zn(l.firstChild)):ve=h),Xe(t,n,n.pendingProps.children,a),Du(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Wt&&((h=l=ve)&&(l=wT(l,n.type,n.pendingProps,gi),l!==null?(n.stateNode=l,dn=n,ve=Zn(l.firstChild),gi=!1,h=!0):h=!1),h||va(n)),ii(n),h=n.type,d=n.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,kf(h,d)?l=null:v!==null&&kf(h,v)&&(n.flags|=32),n.memoizedState!==null&&(h=Lh(t,n,FE,null,null,a),$l._currentValue=h),Du(t,n),Xe(t,n,l,a),n.child;case 6:return t===null&&Wt&&((t=a=ve)&&(a=CT(a,n.pendingProps,gi),a!==null?(n.stateNode=a,dn=n,ve=null,t=!0):t=!1),t||va(n)),null;case 13:return wg(t,n,a);case 4:return Kt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ms(n,null,l,a):Xe(t,n,l,a),n.child;case 11:return vg(t,n,n.type,n.pendingProps,a);case 7:return Xe(t,n,n.pendingProps,a),n.child;case 8:return Xe(t,n,n.pendingProps.children,a),n.child;case 12:return Xe(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,pr(n,n.type,l.value),Xe(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Ta(n),h=rn(h),l=l(h),n.flags|=1,Xe(t,n,l,a),n.child;case 14:return Eg(t,n,n.type,n.pendingProps,a);case 15:return Tg(t,n,n.type,n.pendingProps,a);case 19:return Dg(t,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},t===null?(a=Iu(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=zi(t.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return bg(t,n,a);case 24:return Ta(n),l=rn(Pe),t===null?(h=Ch(),h===null&&(h=ce,d=Rh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),n.memoizedState={parent:l,cache:h},Ih(n),pr(n,Pe,h)):((t.lanes&a)!==0&&(Vh(t,n),wl(n,null,null,a),Rl()),h=t.memoizedState,d=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),pr(n,Pe,l)):(l=d.cache,pr(n,Pe,l),l!==h.cache&&xh(n,[Pe],a,!0))),Xe(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Ki(t){t.flags|=4}function Vg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ky(n)){if(n=Bn.current,n!==null&&((Gt&4194048)===Gt?yi!==null:(Gt&62914560)!==Gt&&(Gt&536870912)===0||n!==yi))throw Al=Dh,mp;t.flags|=8192}}function Vu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Ws():536870912,t.lanes|=n,_s|=n)}function Ol(t,n){if(!Wt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ye(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function tT(t,n,a){var l=n.pendingProps;switch(Th(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ye(n),null;case 1:return ye(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Gi(Pe),Vn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(yl(n)?Ki(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,up())),ye(n),null;case 26:return a=n.memoizedState,t===null?(Ki(n),a!==null?(ye(n),Vg(n,a)):(ye(n),n.flags&=-16777217)):a?a!==t.memoizedState?(Ki(n),ye(n),Vg(n,a)):(ye(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ki(n),ye(n),n.flags&=-16777217),null;case 27:Qn(n),a=St.current;var h=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ki(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ye(n),null}t=dt.current,yl(n)?lp(n):(t=Vy(h,l,a),n.stateNode=t,Ki(n))}return ye(n),null;case 5:if(Qn(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ki(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ye(n),null}if(t=dt.current,yl(n))lp(n);else{switch(h=Gu(St.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[je]=n,t[Ce]=l;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=t;t:switch(Ze(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ki(n)}}return ye(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ki(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=St.current,yl(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=dn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[je]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Ay(t.nodeValue,a)),t||va(n)}else t=Gu(t).createTextNode(l),t[je]=n,n.stateNode=t}return ye(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=yl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[je]=n}else _l(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ye(n),h=!1}else h=up(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Qi(n),n):(Qi(n),null)}if(Qi(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),Vu(n,n.updateQueue),ye(n),null;case 4:return Vn(),t===null&&Of(n.stateNode.containerInfo),ye(n),null;case 10:return Gi(n.type),ye(n),null;case 19:if(ut(ke),h=n.memoizedState,h===null)return ye(n),null;if(l=(n.flags&128)!==0,d=h.rendering,d===null)if(l)Ol(h,!1);else{if(Ee!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(d=Ru(t),d!==null){for(n.flags|=128,Ol(h,!1),t=d.updateQueue,n.updateQueue=t,Vu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)ap(a,t),a=a.sibling;return it(ke,ke.current&1|2),n.child}t=t.sibling}h.tail!==null&&ft()>Ou&&(n.flags|=128,l=!0,Ol(h,!1),n.lanes=4194304)}else{if(!l)if(t=Ru(d),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Vu(n,t),Ol(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Wt)return ye(n),null}else 2*ft()-h.renderingStartTime>Ou&&a!==536870912&&(n.flags|=128,l=!0,Ol(h,!1),n.lanes=4194304);h.isBackwards?(d.sibling=n.child,n.child=d):(t=h.last,t!==null?t.sibling=d:n.child=d,h.last=d)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=ft(),n.sibling=null,t=ke.current,it(ke,l?t&1|2:t&1),n):(ye(n),null);case 22:case 23:return Qi(n),jh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ye(n),n.subtreeFlags&6&&(n.flags|=8192)):ye(n),a=n.updateQueue,a!==null&&Vu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&ut(ba),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Gi(Pe),ye(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function eT(t,n){switch(Th(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Gi(Pe),Vn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Qn(n),null;case 13:if(Qi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));_l()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ut(ke),null;case 4:return Vn(),null;case 10:return Gi(n.type),null;case 22:case 23:return Qi(n),jh(),t!==null&&ut(ba),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Gi(Pe),null;case 25:return null;default:return null}}function Ng(t,n){switch(Th(n),n.tag){case 3:Gi(Pe),Vn();break;case 26:case 27:case 5:Qn(n);break;case 4:Vn();break;case 13:Qi(n);break;case 19:ut(ke);break;case 10:Gi(n.type);break;case 22:case 23:Qi(n),jh(),t!==null&&ut(ba);break;case 24:Gi(Pe)}}function jl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(b){oe(n,n.return,b)}}function br(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,b=v.destroy;if(b!==void 0){v.destroy=void 0,h=n;var I=a,Q=b;try{Q()}catch(tt){oe(h,I,tt)}}}l=l.next}while(l!==d)}}catch(tt){oe(n,n.return,tt)}}function Mg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Ep(n,a)}catch(l){oe(t,t.return,l)}}}function Og(t,n,a){a.props=Aa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){oe(t,n,l)}}function Ul(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){oe(t,n,h)}}function _i(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){oe(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){oe(t,n,h)}else a.current=null}function jg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){oe(t,t.return,h)}}function cf(t,n,a){try{var l=t.stateNode;bT(l,t.type,a,n),l[Ce]=n}catch(h){oe(t,t.return,h)}}function Ug(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ir(t.type)||t.tag===4}function hf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Ug(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ir(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ff(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Hu));else if(l!==4&&(l===27&&Ir(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(ff(t,n,a),t=t.sibling;t!==null;)ff(t,n,a),t=t.sibling}function Nu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Ir(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Nu(t,n,a),t=t.sibling;t!==null;)Nu(t,n,a),t=t.sibling}function Lg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ze(n,l,a),n[je]=t,n[Ce]=a}catch(d){oe(t,t.return,d)}}var $i=!1,xe=!1,df=!1,Pg=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function nT(t,n){if(t=t.containerInfo,Lf=Xu,t=$m(t),ch(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,b=-1,I=-1,Q=0,tt=0,rt=t,K=null;e:for(;;){for(var X;rt!==a||h!==0&&rt.nodeType!==3||(b=v+h),rt!==d||l!==0&&rt.nodeType!==3||(I=v+l),rt.nodeType===3&&(v+=rt.nodeValue.length),(X=rt.firstChild)!==null;)K=rt,rt=X;for(;;){if(rt===t)break e;if(K===a&&++Q===h&&(b=v),K===d&&++tt===l&&(I=v),(X=rt.nextSibling)!==null)break;rt=K,K=rt.parentNode}rt=X}a=b===-1||I===-1?null:{start:b,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Pf={focusedElem:t,selectionRange:a},Xu=!1,Fe=n;Fe!==null;)if(n=Fe,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Fe=t;else for(;Fe!==null;){switch(n=Fe,d=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=n,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var xt=Aa(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(xt,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(bt){oe(a,a.return,bt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Bf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Bf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Fe=t;break}Fe=n.return}}function kg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Sr(t,a),l&4&&jl(5,a);break;case 1:if(Sr(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(v){oe(a,a.return,v)}else{var h=Aa(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(v){oe(a,a.return,v)}}l&64&&Mg(a),l&512&&Ul(a,a.return);break;case 3:if(Sr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Ep(t,n)}catch(v){oe(a,a.return,v)}}break;case 27:n===null&&l&4&&Lg(a);case 26:case 5:Sr(t,a),n===null&&l&4&&jg(a),l&512&&Ul(a,a.return);break;case 12:Sr(t,a);break;case 13:Sr(t,a),l&4&&qg(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=hT.bind(null,a),DT(t,a))));break;case 22:if(l=a.memoizedState!==null||$i,!l){n=n!==null&&n.memoizedState!==null||xe,h=$i;var d=xe;$i=l,(xe=n)&&!d?Ar(t,a,(a.subtreeFlags&8772)!==0):Sr(t,a),$i=h,xe=d}break;case 30:break;default:Sr(t,a)}}function zg(t){var n=t.alternate;n!==null&&(t.alternate=null,zg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&hr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var pe=null,yn=!1;function Xi(t,n,a){for(a=a.child;a!==null;)Bg(t,n,a),a=a.sibling}function Bg(t,n,a){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(Bt,a)}catch{}switch(a.tag){case 26:xe||_i(a,n),Xi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:xe||_i(a,n);var l=pe,h=yn;Ir(a.type)&&(pe=a.stateNode,yn=!1),Xi(t,n,a),Fl(a.stateNode),pe=l,yn=h;break;case 5:xe||_i(a,n);case 6:if(l=pe,h=yn,pe=null,Xi(t,n,a),pe=l,yn=h,pe!==null)if(yn)try{(pe.nodeType===9?pe.body:pe.nodeName==="HTML"?pe.ownerDocument.body:pe).removeChild(a.stateNode)}catch(d){oe(a,n,d)}else try{pe.removeChild(a.stateNode)}catch(d){oe(a,n,d)}break;case 18:pe!==null&&(yn?(t=pe,Dy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Jl(t)):Dy(pe,a.stateNode));break;case 4:l=pe,h=yn,pe=a.stateNode.containerInfo,yn=!0,Xi(t,n,a),pe=l,yn=h;break;case 0:case 11:case 14:case 15:xe||br(2,a,n),xe||br(4,a,n),Xi(t,n,a);break;case 1:xe||(_i(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Og(a,n,l)),Xi(t,n,a);break;case 21:Xi(t,n,a);break;case 22:xe=(l=xe)||a.memoizedState!==null,Xi(t,n,a),xe=l;break;default:Xi(t,n,a)}}function qg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Jl(t)}catch(a){oe(n,n.return,a)}}function iT(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Pg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Pg),n;default:throw Error(s(435,t.tag))}}function mf(t,n){var a=iT(t);n.forEach(function(l){var h=fT.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function An(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=n,b=v;t:for(;b!==null;){switch(b.tag){case 27:if(Ir(b.type)){pe=b.stateNode,yn=!1;break t}break;case 5:pe=b.stateNode,yn=!1;break t;case 3:case 4:pe=b.stateNode.containerInfo,yn=!0;break t}b=b.return}if(pe===null)throw Error(s(160));Bg(d,v,h),pe=null,yn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Hg(n,t),n=n.sibling}var Wn=null;function Hg(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:An(n,t),xn(t),l&4&&(br(3,t,t.return),jl(3,t),br(5,t,t.return));break;case 1:An(n,t),xn(t),l&512&&(xe||a===null||_i(a,a.return)),l&64&&$i&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Wn;if(An(n,t),xn(t),l&512&&(xe||a===null||_i(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Jr]||d[je]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ze(d,l,a),d[je]=t,Se(d),l=d;break t;case"link":var v=Ly("link","href",h).get(l+(a.href||""));if(v){for(var b=0;b<v.length;b++)if(d=v[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(b,1);break e}}d=h.createElement(l),Ze(d,l,a),h.head.appendChild(d);break;case"meta":if(v=Ly("meta","content",h).get(l+(a.content||""))){for(b=0;b<v.length;b++)if(d=v[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(b,1);break e}}d=h.createElement(l),Ze(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[je]=t,Se(d),l=d}t.stateNode=l}else Py(h,t.type,t.stateNode);else t.stateNode=Uy(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Py(h,t.type,t.stateNode):Uy(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&cf(t,t.memoizedProps,a.memoizedProps)}break;case 27:An(n,t),xn(t),l&512&&(xe||a===null||_i(a,a.return)),a!==null&&l&4&&cf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(An(n,t),xn(t),l&512&&(xe||a===null||_i(a,a.return)),t.flags&32){h=t.stateNode;try{Mn(h,"")}catch(X){oe(t,t.return,X)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,cf(t,h,a!==null?a.memoizedProps:h)),l&1024&&(df=!0);break;case 6:if(An(n,t),xn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(X){oe(t,t.return,X)}}break;case 3:if(Yu=null,h=Wn,Wn=Fu(n.containerInfo),An(n,t),Wn=h,xn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Jl(n.containerInfo)}catch(X){oe(t,t.return,X)}df&&(df=!1,Gg(t));break;case 4:l=Wn,Wn=Fu(t.stateNode.containerInfo),An(n,t),xn(t),Wn=l;break;case 12:An(n,t),xn(t);break;case 13:An(n,t),xn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ef=ft()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,mf(t,l)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,Q=$i,tt=xe;if($i=Q||h,xe=tt||I,An(n,t),xe=tt,$i=Q,xn(t),l&8192)t:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||I||$i||xe||xa(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){I=a=n;try{if(d=I.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{b=I.stateNode;var rt=I.memoizedProps.style,K=rt!=null&&rt.hasOwnProperty("display")?rt.display:null;b.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(X){oe(I,I.return,X)}}}else if(n.tag===6){if(a===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(X){oe(I,I.return,X)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,mf(t,a))));break;case 19:An(n,t),xn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,mf(t,l)));break;case 30:break;case 21:break;default:An(n,t),xn(t)}}function xn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Ug(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=hf(t);Nu(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(Mn(v,""),a.flags&=-33);var b=hf(t);Nu(t,b,v);break;case 3:case 4:var I=a.stateNode.containerInfo,Q=hf(t);ff(t,Q,I);break;default:throw Error(s(161))}}catch(tt){oe(t,t.return,tt)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Gg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Gg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Sr(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)kg(t,n.alternate,n),n=n.sibling}function xa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:br(4,n,n.return),xa(n);break;case 1:_i(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Og(n,n.return,a),xa(n);break;case 27:Fl(n.stateNode);case 26:case 5:_i(n,n.return),xa(n);break;case 22:n.memoizedState===null&&xa(n);break;case 30:xa(n);break;default:xa(n)}t=t.sibling}}function Ar(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,d=n,v=d.flags;switch(d.tag){case 0:case 11:case 15:Ar(h,d,a),jl(4,d);break;case 1:if(Ar(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(Q){oe(l,l.return,Q)}if(l=d,h=l.updateQueue,h!==null){var b=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)vp(I[h],b)}catch(Q){oe(l,l.return,Q)}}a&&v&64&&Mg(d),Ul(d,d.return);break;case 27:Lg(d);case 26:case 5:Ar(h,d,a),a&&l===null&&v&4&&jg(d),Ul(d,d.return);break;case 12:Ar(h,d,a);break;case 13:Ar(h,d,a),a&&v&4&&qg(h,d);break;case 22:d.memoizedState===null&&Ar(h,d,a),Ul(d,d.return);break;case 30:break;default:Ar(h,d,a)}n=n.sibling}}function pf(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Tl(a))}function gf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Tl(t))}function vi(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Fg(t,n,a,l),n=n.sibling}function Fg(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:vi(t,n,a,l),h&2048&&jl(9,n);break;case 1:vi(t,n,a,l);break;case 3:vi(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Tl(t)));break;case 12:if(h&2048){vi(t,n,a,l),t=n.stateNode;try{var d=n.memoizedProps,v=d.id,b=d.onPostCommit;typeof b=="function"&&b(v,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){oe(n,n.return,I)}}else vi(t,n,a,l);break;case 13:vi(t,n,a,l);break;case 23:break;case 22:d=n.stateNode,v=n.alternate,n.memoizedState!==null?d._visibility&2?vi(t,n,a,l):Ll(t,n):d._visibility&2?vi(t,n,a,l):(d._visibility|=2,ps(t,n,a,l,(n.subtreeFlags&10256)!==0)),h&2048&&pf(v,n);break;case 24:vi(t,n,a,l),h&2048&&gf(n.alternate,n);break;default:vi(t,n,a,l)}}function ps(t,n,a,l,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=t,v=n,b=a,I=l,Q=v.flags;switch(v.tag){case 0:case 11:case 15:ps(d,v,b,I,h),jl(8,v);break;case 23:break;case 22:var tt=v.stateNode;v.memoizedState!==null?tt._visibility&2?ps(d,v,b,I,h):Ll(d,v):(tt._visibility|=2,ps(d,v,b,I,h)),h&&Q&2048&&pf(v.alternate,v);break;case 24:ps(d,v,b,I,h),h&&Q&2048&&gf(v.alternate,v);break;default:ps(d,v,b,I,h)}n=n.sibling}}function Ll(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:Ll(a,l),h&2048&&pf(l.alternate,l);break;case 24:Ll(a,l),h&2048&&gf(l.alternate,l);break;default:Ll(a,l)}n=n.sibling}}var Pl=8192;function gs(t){if(t.subtreeFlags&Pl)for(t=t.child;t!==null;)Qg(t),t=t.sibling}function Qg(t){switch(t.tag){case 26:gs(t),t.flags&Pl&&t.memoizedState!==null&&qT(Wn,t.memoizedState,t.memoizedProps);break;case 5:gs(t);break;case 3:case 4:var n=Wn;Wn=Fu(t.stateNode.containerInfo),gs(t),Wn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Pl,Pl=16777216,gs(t),Pl=n):gs(t));break;default:gs(t)}}function Yg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function kl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Fe=l,$g(l,t)}Yg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Kg(t),t=t.sibling}function Kg(t){switch(t.tag){case 0:case 11:case 15:kl(t),t.flags&2048&&br(9,t,t.return);break;case 3:kl(t);break;case 12:kl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Mu(t)):kl(t);break;default:kl(t)}}function Mu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Fe=l,$g(l,t)}Yg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:br(8,n,n.return),Mu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Mu(n));break;default:Mu(n)}t=t.sibling}}function $g(t,n){for(;Fe!==null;){var a=Fe;switch(a.tag){case 0:case 11:case 15:br(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Tl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Fe=l;else t:for(a=t;Fe!==null;){l=Fe;var h=l.sibling,d=l.return;if(zg(l),l===a){Fe=null;break t}if(h!==null){h.return=d,Fe=h;break t}Fe=d}}}var rT={getCacheForType:function(t){var n=rn(Pe),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},aT=typeof WeakMap=="function"?WeakMap:Map,ee=0,ce=null,Pt=null,Gt=0,ne=0,Rn=null,xr=!1,ys=!1,yf=!1,Wi=0,Ee=0,Rr=0,Ra=0,_f=0,qn=0,_s=0,zl=null,_n=null,vf=!1,Ef=0,Ou=1/0,ju=null,wr=null,We=0,Cr=null,vs=null,Es=0,Tf=0,bf=null,Xg=null,Bl=0,Sf=null;function wn(){if((ee&2)!==0&&Gt!==0)return Gt&-Gt;if(W.T!==null){var t=ls;return t!==0?t:If()}return ur()}function Wg(){qn===0&&(qn=(Gt&536870912)===0||Wt?Xs():536870912);var t=Bn.current;return t!==null&&(t.flags|=32),qn}function Cn(t,n,a){(t===ce&&(ne===2||ne===9)||t.cancelPendingCommit!==null)&&(Ts(t,0),Dr(t,Gt,qn,!1)),Di(t,a),((ee&2)===0||t!==ce)&&(t===ce&&((ee&2)===0&&(Ra|=a),Ee===4&&Dr(t,Gt,qn,!1)),Ei(t))}function Zg(t,n,a){if((ee&6)!==0)throw Error(s(327));var l=!a&&(n&124)===0&&(n&t.expiredLanes)===0||Zr(t,n),h=l?oT(t,n):Rf(t,n,!0),d=l;do{if(h===0){ys&&!l&&Dr(t,n,0,!1);break}else{if(a=t.current.alternate,d&&!sT(a)){h=Rf(t,n,!1),d=!1;continue}if(h===2){if(d=n,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var b=t;h=zl;var I=b.current.memoizedState.isDehydrated;if(I&&(Ts(b,v).flags|=256),v=Rf(b,v,!1),v!==2){if(yf&&!I){b.errorRecoveryDisabledLanes|=d,Ra|=d,h=4;break t}d=_n,_n=h,d!==null&&(_n===null?_n=d:_n.push.apply(_n,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Ts(t,0),Dr(t,n,0,!0);break}t:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Dr(l,n,qn,!xr);break t;case 2:_n=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=Ef+300-ft(),10<h)){if(Dr(l,n,qn,!xr),Pa(l,0,!0)!==0)break t;l.timeoutHandle=wy(Jg.bind(null,l,a,_n,ju,vf,n,qn,Ra,_s,xr,d,2,-0,0),h);break t}Jg(l,a,_n,ju,vf,n,qn,Ra,_s,xr,d,0,-0,0)}}break}while(!0);Ei(t)}function Jg(t,n,a,l,h,d,v,b,I,Q,tt,rt,K,X){if(t.timeoutHandle=-1,rt=n.subtreeFlags,(rt&8192||(rt&16785408)===16785408)&&(Kl={stylesheets:null,count:0,unsuspend:BT},Qg(n),rt=HT(),rt!==null)){t.cancelPendingCommit=rt(sy.bind(null,t,n,d,a,l,h,v,b,I,tt,1,K,X)),Dr(t,d,v,!Q);return}sy(t,n,d,a,l,h,v,b,I)}function sT(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!bn(d(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Dr(t,n,a,l){n&=~_f,n&=~Ra,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var d=31-we(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&ai(t,a,n)}function Uu(){return(ee&6)===0?(ql(0),!1):!0}function Af(){if(Pt!==null){if(ne===0)var t=Pt.return;else t=Pt,Hi=Ea=null,zh(t),ds=null,Nl=0,t=Pt;for(;t!==null;)Ng(t.alternate,t),t=t.return;Pt=null}}function Ts(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,AT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Af(),ce=t,Pt=a=zi(t.current,null),Gt=n,ne=0,Rn=null,xr=!1,ys=Zr(t,n),yf=!1,_s=qn=_f=Ra=Rr=Ee=0,_n=zl=null,vf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-we(l),d=1<<h;n|=t[h],l&=~d}return Wi=n,ru(),a}function ty(t,n){jt=null,W.H=Su,n===Sl||n===du?(n=yp(),ne=3):n===mp?(n=yp(),ne=4):ne=n===_g?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Rn=n,Pt===null&&(Ee=1,Cu(t,Ln(n,t.current)))}function ey(){var t=W.H;return W.H=Su,t===null?Su:t}function ny(){var t=W.A;return W.A=rT,t}function xf(){Ee=4,xr||(Gt&4194048)!==Gt&&Bn.current!==null||(ys=!0),(Rr&134217727)===0&&(Ra&134217727)===0||ce===null||Dr(ce,Gt,qn,!1)}function Rf(t,n,a){var l=ee;ee|=2;var h=ey(),d=ny();(ce!==t||Gt!==n)&&(ju=null,Ts(t,n)),n=!1;var v=Ee;t:do try{if(ne!==0&&Pt!==null){var b=Pt,I=Rn;switch(ne){case 8:Af(),v=6;break t;case 3:case 2:case 9:case 6:Bn.current===null&&(n=!0);var Q=ne;if(ne=0,Rn=null,bs(t,b,I,Q),a&&ys){v=0;break t}break;default:Q=ne,ne=0,Rn=null,bs(t,b,I,Q)}}lT(),v=Ee;break}catch(tt){ty(t,tt)}while(!0);return n&&t.shellSuspendCounter++,Hi=Ea=null,ee=l,W.H=h,W.A=d,Pt===null&&(ce=null,Gt=0,ru()),v}function lT(){for(;Pt!==null;)iy(Pt)}function oT(t,n){var a=ee;ee|=2;var l=ey(),h=ny();ce!==t||Gt!==n?(ju=null,Ou=ft()+500,Ts(t,n)):ys=Zr(t,n);t:do try{if(ne!==0&&Pt!==null){n=Pt;var d=Rn;e:switch(ne){case 1:ne=0,Rn=null,bs(t,n,d,1);break;case 2:case 9:if(pp(d)){ne=0,Rn=null,ry(n);break}n=function(){ne!==2&&ne!==9||ce!==t||(ne=7),Ei(t)},d.then(n,n);break t;case 3:ne=7;break t;case 4:ne=5;break t;case 7:pp(d)?(ne=0,Rn=null,ry(n)):(ne=0,Rn=null,bs(t,n,d,7));break;case 5:var v=null;switch(Pt.tag){case 26:v=Pt.memoizedState;case 5:case 27:var b=Pt;if(!v||ky(v)){ne=0,Rn=null;var I=b.sibling;if(I!==null)Pt=I;else{var Q=b.return;Q!==null?(Pt=Q,Lu(Q)):Pt=null}break e}}ne=0,Rn=null,bs(t,n,d,5);break;case 6:ne=0,Rn=null,bs(t,n,d,6);break;case 8:Af(),Ee=6;break t;default:throw Error(s(462))}}uT();break}catch(tt){ty(t,tt)}while(!0);return Hi=Ea=null,W.H=l,W.A=h,ee=a,Pt!==null?0:(ce=null,Gt=0,ru(),Ee)}function uT(){for(;Pt!==null&&!lr();)iy(Pt)}function iy(t){var n=Ig(t.alternate,t,Wi);t.memoizedProps=t.pendingProps,n===null?Lu(t):Pt=n}function ry(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Ag(a,n,n.pendingProps,n.type,void 0,Gt);break;case 11:n=Ag(a,n,n.pendingProps,n.type.render,n.ref,Gt);break;case 5:zh(n);default:Ng(a,n),n=Pt=ap(n,Wi),n=Ig(a,n,Wi)}t.memoizedProps=t.pendingProps,n===null?Lu(t):Pt=n}function bs(t,n,a,l){Hi=Ea=null,zh(n),ds=null,Nl=0;var h=n.return;try{if(ZE(t,h,n,a,Gt)){Ee=1,Cu(t,Ln(a,t.current)),Pt=null;return}}catch(d){if(h!==null)throw Pt=h,d;Ee=1,Cu(t,Ln(a,t.current)),Pt=null;return}n.flags&32768?(Wt||l===1?t=!0:ys||(Gt&536870912)!==0?t=!1:(xr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),ay(n,t)):Lu(n)}function Lu(t){var n=t;do{if((n.flags&32768)!==0){ay(n,xr);return}t=n.return;var a=tT(n.alternate,n,Wi);if(a!==null){Pt=a;return}if(n=n.sibling,n!==null){Pt=n;return}Pt=n=t}while(n!==null);Ee===0&&(Ee=5)}function ay(t,n){do{var a=eT(t.alternate,t);if(a!==null){a.flags&=32767,Pt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Pt=t;return}Pt=t=a}while(t!==null);Ee=6,Pt=null}function sy(t,n,a,l,h,d,v,b,I){t.cancelPendingCommit=null;do Pu();while(We!==0);if((ee&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(d=n.lanes|n.childLanes,d|=ph,Zs(t,a,d,v,b,I),t===ce&&(Pt=ce=null,Gt=0),vs=n,Cr=t,Es=a,Tf=d,bf=h,Xg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,dT(be,function(){return hy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=W.T,W.T=null,h=$.p,$.p=2,v=ee,ee|=4;try{nT(t,n,a)}finally{ee=v,$.p=h,W.T=l}}We=1,ly(),oy(),uy()}}function ly(){if(We===1){We=0;var t=Cr,n=vs,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var l=$.p;$.p=2;var h=ee;ee|=4;try{Hg(n,t);var d=Pf,v=$m(t.containerInfo),b=d.focusedElem,I=d.selectionRange;if(v!==b&&b&&b.ownerDocument&&Km(b.ownerDocument.documentElement,b)){if(I!==null&&ch(b)){var Q=I.start,tt=I.end;if(tt===void 0&&(tt=Q),"selectionStart"in b)b.selectionStart=Q,b.selectionEnd=Math.min(tt,b.value.length);else{var rt=b.ownerDocument||document,K=rt&&rt.defaultView||window;if(K.getSelection){var X=K.getSelection(),xt=b.textContent.length,bt=Math.min(I.start,xt),le=I.end===void 0?bt:Math.min(I.end,xt);!X.extend&&bt>le&&(v=le,le=bt,bt=v);var q=Ym(b,bt),L=Ym(b,le);if(q&&L&&(X.rangeCount!==1||X.anchorNode!==q.node||X.anchorOffset!==q.offset||X.focusNode!==L.node||X.focusOffset!==L.offset)){var F=rt.createRange();F.setStart(q.node,q.offset),X.removeAllRanges(),bt>le?(X.addRange(F),X.extend(L.node,L.offset)):(F.setEnd(L.node,L.offset),X.addRange(F))}}}}for(rt=[],X=b;X=X.parentNode;)X.nodeType===1&&rt.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<rt.length;b++){var et=rt[b];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}Xu=!!Lf,Pf=Lf=null}finally{ee=h,$.p=l,W.T=a}}t.current=n,We=2}}function oy(){if(We===2){We=0;var t=Cr,n=vs,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var l=$.p;$.p=2;var h=ee;ee|=4;try{kg(t,n.alternate,n)}finally{ee=h,$.p=l,W.T=a}}We=3}}function uy(){if(We===4||We===3){We=0,nt();var t=Cr,n=vs,a=Es,l=Xg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?We=5:(We=0,vs=Cr=null,cy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(wr=null),ka(a),n=n.stateNode,Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(Bt,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=W.T,h=$.p,$.p=2,W.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var b=l[v];d(b.value,{componentStack:b.stack})}}finally{W.T=n,$.p=h}}(Es&3)!==0&&Pu(),Ei(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Sf?Bl++:(Bl=0,Sf=t):Bl=0,ql(0)}}function cy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Tl(n)))}function Pu(t){return ly(),oy(),uy(),hy()}function hy(){if(We!==5)return!1;var t=Cr,n=Tf;Tf=0;var a=ka(Es),l=W.T,h=$.p;try{$.p=32>a?32:a,W.T=null,a=bf,bf=null;var d=Cr,v=Es;if(We=0,vs=Cr=null,Es=0,(ee&6)!==0)throw Error(s(331));var b=ee;if(ee|=4,Kg(d.current),Fg(d,d.current,v,a),ee=b,ql(0,!1),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(Bt,d)}catch{}return!0}finally{$.p=h,W.T=l,cy(t,n)}}function fy(t,n,a){n=Ln(a,n),n=tf(t.stateNode,n,2),t=_r(t,n,2),t!==null&&(Di(t,2),Ei(t))}function oe(t,n,a){if(t.tag===3)fy(t,t,a);else for(;n!==null;){if(n.tag===3){fy(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(wr===null||!wr.has(l))){t=Ln(a,t),a=gg(2),l=_r(n,a,2),l!==null&&(yg(a,l,n,t),Di(l,2),Ei(l));break}}n=n.return}}function wf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new aT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(yf=!0,h.add(a),t=cT.bind(null,t,n,a),n.then(t,t))}function cT(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ce===t&&(Gt&a)===a&&(Ee===4||Ee===3&&(Gt&62914560)===Gt&&300>ft()-Ef?(ee&2)===0&&Ts(t,0):_f|=a,_s===Gt&&(_s=0)),Ei(t)}function dy(t,n){n===0&&(n=Ws()),t=is(t,n),t!==null&&(Di(t,n),Ei(t))}function hT(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),dy(t,a)}function fT(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),dy(t,a)}function dT(t,n){return wi(t,n)}var ku=null,Ss=null,Cf=!1,zu=!1,Df=!1,wa=0;function Ei(t){t!==Ss&&t.next===null&&(Ss===null?ku=Ss=t:Ss=Ss.next=t),zu=!0,Cf||(Cf=!0,pT())}function ql(t,n){if(!Df&&zu){Df=!0;do for(var a=!1,l=ku;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-we(42|t)+1)-1,d&=h&~(v&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,yy(l,d))}else d=Gt,d=Pa(l,l===ce?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Zr(l,d)||(a=!0,yy(l,d));l=l.next}while(a);Df=!1}}function mT(){my()}function my(){zu=Cf=!1;var t=0;wa!==0&&(ST()&&(t=wa),wa=0);for(var n=ft(),a=null,l=ku;l!==null;){var h=l.next,d=py(l,n);d===0?(l.next=null,a===null?ku=h:a.next=h,h===null&&(Ss=a)):(a=l,(t!==0||(d&3)!==0)&&(zu=!0)),l=h}ql(t)}function py(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-we(d),b=1<<v,I=h[v];I===-1?((b&a)===0||(b&l)!==0)&&(h[v]=$s(b,n)):I<=n&&(t.expiredLanes|=b),d&=~b}if(n=ce,a=Gt,a=Pa(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(ne===2||ne===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ri(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Zr(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&ri(l),ka(a)){case 2:case 8:a=ue;break;case 32:a=be;break;case 268435456:a=Xt;break;default:a=be}return l=gy.bind(null,t),a=wi(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&ri(l),t.callbackPriority=2,t.callbackNode=null,2}function gy(t,n){if(We!==0&&We!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Pu()&&t.callbackNode!==a)return null;var l=Gt;return l=Pa(t,t===ce?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Zg(t,l,n),py(t,ft()),t.callbackNode!=null&&t.callbackNode===a?gy.bind(null,t):null)}function yy(t,n){if(Pu())return null;Zg(t,n,!0)}function pT(){xT(function(){(ee&6)!==0?wi(Mt,mT):my()})}function If(){return wa===0&&(wa=Xs()),wa}function _y(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Fa(""+t)}function vy(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function gT(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var d=_y((h[Ce]||null).action),v=l.submitter;v&&(n=(n=v[Ce]||null)?_y(n.formAction):v.getAttribute("formAction"),n!==null&&(d=n,v=null));var b=new Qa("action","action",null,l,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(wa!==0){var I=v?vy(h,v):new FormData(h);$h(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(b.preventDefault(),I=v?vy(h,v):new FormData(h),$h(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var Vf=0;Vf<mh.length;Vf++){var Nf=mh[Vf],yT=Nf.toLowerCase(),_T=Nf[0].toUpperCase()+Nf.slice(1);Xn(yT,"on"+_T)}Xn(Zm,"onAnimationEnd"),Xn(Jm,"onAnimationIteration"),Xn(tp,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(jE,"onTransitionRun"),Xn(UE,"onTransitionStart"),Xn(LE,"onTransitionCancel"),Xn(ep,"onTransitionEnd"),Vi("onMouseEnter",["mouseout","mouseover"]),Vi("onMouseLeave",["mouseout","mouseover"]),Vi("onPointerEnter",["pointerout","pointerover"]),Vi("onPointerLeave",["pointerout","pointerover"]),Kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Kn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hl));function Ey(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;t:{var d=void 0;if(n)for(var v=l.length-1;0<=v;v--){var b=l[v],I=b.instance,Q=b.currentTarget;if(b=b.listener,I!==d&&h.isPropagationStopped())break t;d=b,h.currentTarget=Q;try{d(h)}catch(tt){wu(tt)}h.currentTarget=null,d=I}else for(v=0;v<l.length;v++){if(b=l[v],I=b.instance,Q=b.currentTarget,b=b.listener,I!==d&&h.isPropagationStopped())break t;d=b,h.currentTarget=Q;try{d(h)}catch(tt){wu(tt)}h.currentTarget=null,d=I}}}}function kt(t,n){var a=n[tl];a===void 0&&(a=n[tl]=new Set);var l=t+"__bubble";a.has(l)||(Ty(n,t,2,!1),a.add(l))}function Mf(t,n,a){var l=0;n&&(l|=4),Ty(a,t,l,n)}var Bu="_reactListening"+Math.random().toString(36).slice(2);function Of(t){if(!t[Bu]){t[Bu]=!0,el.forEach(function(a){a!=="selectionchange"&&(vT.has(a)||Mf(a,!1,t),Mf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Bu]||(n[Bu]=!0,Mf("selectionchange",!1,n))}}function Ty(t,n,a,l){switch(Fy(n)){case 2:var h=QT;break;case 8:h=YT;break;default:h=Kf}a=h.bind(null,n,a,t),h=void 0,!jn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function jf(t,n,a,l,h){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var b=l.stateNode.containerInfo;if(b===h)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;b!==null;){if(v=Ii(b),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=d=v;continue t}b=b.parentNode}}l=l.return}Ho(function(){var Q=d,tt=On(a),rt=[];t:{var K=np.get(t);if(K!==void 0){var X=Qa,xt=t;switch(t){case"keypress":if(hi(a)===0)break t;case"keydown":case"keyup":X=Za;break;case"focusin":xt="focus",X=$a;break;case"focusout":xt="blur",X=$a;break;case"beforeblur":case"afterblur":X=$a;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Un;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=sh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Wo;break;case Zm:case Jm:case tp:X=Xa;break;case ep:X=Jo;break;case"scroll":case"scrollend":X=Go;break;case"wheel":X=Ja;break;case"copy":case"cut":case"paste":X=Wa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=dl;break;case"toggle":case"beforetoggle":X=eu}var bt=(n&4)!==0,le=!bt&&(t==="scroll"||t==="scrollend"),q=bt?K!==null?K+"Capture":null:K;bt=[];for(var L=Q,F;L!==null;){var et=L;if(F=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||F===null||q===null||(et=sa(L,q),et!=null&&bt.push(Gl(L,et,F))),le)break;L=L.return}0<bt.length&&(K=new X(K,xt,null,a,tt),rt.push({event:K,listeners:bt}))}}if((n&7)===0){t:{if(K=t==="mouseover"||t==="pointerover",X=t==="mouseout"||t==="pointerout",K&&a!==Oi&&(xt=a.relatedTarget||a.fromElement)&&(Ii(xt)||xt[Nn]))break t;if((X||K)&&(K=tt.window===tt?tt:(K=tt.ownerDocument)?K.defaultView||K.parentWindow:window,X?(xt=a.relatedTarget||a.toElement,X=Q,xt=xt?Ii(xt):null,xt!==null&&(le=c(xt),bt=xt.tag,xt!==le||bt!==5&&bt!==27&&bt!==6)&&(xt=null)):(X=null,xt=Q),X!==xt)){if(bt=Un,et="onMouseLeave",q="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(bt=dl,et="onPointerLeave",q="onPointerEnter",L="pointer"),le=X==null?K:li(X),F=xt==null?K:li(xt),K=new bt(et,L+"leave",X,a,tt),K.target=le,K.relatedTarget=F,et=null,Ii(tt)===Q&&(bt=new bt(q,L+"enter",xt,a,tt),bt.target=F,bt.relatedTarget=le,et=bt),le=et,X&&xt)e:{for(bt=X,q=xt,L=0,F=bt;F;F=As(F))L++;for(F=0,et=q;et;et=As(et))F++;for(;0<L-F;)bt=As(bt),L--;for(;0<F-L;)q=As(q),F--;for(;L--;){if(bt===q||q!==null&&bt===q.alternate)break e;bt=As(bt),q=As(q)}bt=null}else bt=null;X!==null&&by(rt,K,X,bt,!1),xt!==null&&le!==null&&by(rt,le,xt,bt,!0)}}t:{if(K=Q?li(Q):window,X=K.nodeName&&K.nodeName.toLowerCase(),X==="select"||X==="input"&&K.type==="file")var _t=Bm;else if(Le(K))if(qm)_t=NE;else{_t=IE;var Lt=DE}else X=K.nodeName,!X||X.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?Q&&sl(Q.elementType)&&(_t=Bm):_t=VE;if(_t&&(_t=_t(t,Q))){ki(rt,_t,a,tt);break t}Lt&&Lt(t,K,Q),t==="focusout"&&Q&&K.type==="number"&&Q.memoizedProps.value!=null&&dr(K,"number",K.value)}switch(Lt=Q?li(Q):window,t){case"focusin":(Le(Lt)||Lt.contentEditable==="true")&&(ts=Lt,hh=Q,gl=null);break;case"focusout":gl=hh=ts=null;break;case"mousedown":fh=!0;break;case"contextmenu":case"mouseup":case"dragend":fh=!1,Xm(rt,a,tt);break;case"selectionchange":if(OE)break;case"keydown":case"keyup":Xm(rt,a,tt)}var Et;if(mi)t:{switch(t){case"compositionstart":var At="onCompositionStart";break t;case"compositionend":At="onCompositionEnd";break t;case"compositionupdate":At="onCompositionUpdate";break t}At=void 0}else qt?Z(t,a)&&(At="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(At="onCompositionStart");At&&(_&&a.locale!=="ko"&&(qt||At!=="onCompositionStart"?At==="onCompositionEnd"&&qt&&(Et=ol()):(ci=tt,mr="value"in ci?ci.value:ci.textContent,qt=!0)),Lt=qu(Q,At),0<Lt.length&&(At=new hl(At,t,null,a,tt),rt.push({event:At,listeners:Lt}),Et?At.data=Et:(Et=ht(a),Et!==null&&(At.data=Et)))),(Et=p?Ue(t,a):Ht(t,a))&&(At=qu(Q,"onBeforeInput"),0<At.length&&(Lt=new hl("onBeforeInput","beforeinput",null,a,tt),rt.push({event:Lt,listeners:At}),Lt.data=Et)),gT(rt,t,Q,a,tt)}Ey(rt,n)})}function Gl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function qu(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=sa(t,a),h!=null&&l.unshift(Gl(t,h,d)),h=sa(t,n),h!=null&&l.push(Gl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function As(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function by(t,n,a,l,h){for(var d=n._reactName,v=[];a!==null&&a!==l;){var b=a,I=b.alternate,Q=b.stateNode;if(b=b.tag,I!==null&&I===l)break;b!==5&&b!==26&&b!==27||Q===null||(I=Q,h?(Q=sa(a,d),Q!=null&&v.unshift(Gl(a,Q,I))):h||(Q=sa(a,d),Q!=null&&v.push(Gl(a,Q,I)))),a=a.return}v.length!==0&&t.push({event:n,listeners:v})}var ET=/\r\n?/g,TT=/\u0000|\uFFFD/g;function Sy(t){return(typeof t=="string"?t:""+t).replace(ET,`
`).replace(TT,"")}function Ay(t,n){return n=Sy(n),Sy(t)===n}function Hu(){}function se(t,n,a,l,h,d){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Mn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Mn(t,""+l);break;case"className":oi(t,"class",l);break;case"tabIndex":oi(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":oi(t,a,l);break;case"style":al(t,l,d);break;case"data":if(n!=="object"){oi(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Fa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(n!=="input"&&se(t,n,"name",h.name,h,null),se(t,n,"formEncType",h.formEncType,h,null),se(t,n,"formMethod",h.formMethod,h,null),se(t,n,"formTarget",h.formTarget,h,null)):(se(t,n,"encType",h.encType,h,null),se(t,n,"method",h.method,h,null),se(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Fa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Hu);break;case"onScroll":l!=null&&kt("scroll",t);break;case"onScrollEnd":l!=null&&kt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Fa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":kt("beforetoggle",t),kt("toggle",t),fr(t,"popover",l);break;case"xlinkActuate":Ke(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ke(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ke(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ke(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ke(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ke(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ke(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ke(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ke(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":fr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=rh.get(a)||a,fr(t,a,l))}}function Uf(t,n,a,l,h,d){switch(a){case"style":al(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Mn(t,l):(typeof l=="number"||typeof l=="bigint")&&Mn(t,""+l);break;case"onScroll":l!=null&&kt("scroll",t);break;case"onScrollEnd":l!=null&&kt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Hu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!za.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),d=t[Ce]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(n,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):fr(t,a,l)}}}function Ze(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",t),kt("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:se(t,n,d,v,a,null)}}h&&se(t,n,"srcSet",a.srcSet,a,null),l&&se(t,n,"src",a.src,a,null);return;case"input":kt("invalid",t);var b=d=v=h=null,I=null,Q=null;for(l in a)if(a.hasOwnProperty(l)){var tt=a[l];if(tt!=null)switch(l){case"name":h=tt;break;case"type":v=tt;break;case"checked":I=tt;break;case"defaultChecked":Q=tt;break;case"value":d=tt;break;case"defaultValue":b=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(s(137,n));break;default:se(t,n,l,tt,a,null)}}ia(t,d,b,I,Q,v,h,!1),Ga(t);return;case"select":kt("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":d=b;break;case"defaultValue":v=b;break;case"multiple":l=b;default:se(t,n,h,b,a,null)}n=d,a=v,t.multiple=!!l,n!=null?Mi(t,!!l,n,!1):a!=null&&Mi(t,!!l,a,!0);return;case"textarea":kt("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(b=a[v],b!=null))switch(v){case"value":l=b;break;case"defaultValue":h=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:se(t,n,v,b,a,null)}ra(t,l,h,d),Ga(t);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:se(t,n,I,l,a,null)}return;case"dialog":kt("beforetoggle",t),kt("toggle",t),kt("cancel",t),kt("close",t);break;case"iframe":case"object":kt("load",t);break;case"video":case"audio":for(l=0;l<Hl.length;l++)kt(Hl[l],t);break;case"image":kt("error",t),kt("load",t);break;case"details":kt("toggle",t);break;case"embed":case"source":case"link":kt("error",t),kt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in a)if(a.hasOwnProperty(Q)&&(l=a[Q],l!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:se(t,n,Q,l,a,null)}return;default:if(sl(n)){for(tt in a)a.hasOwnProperty(tt)&&(l=a[tt],l!==void 0&&Uf(t,n,tt,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&se(t,n,b,l,a,null))}function bT(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,b=null,I=null,Q=null,tt=null;for(X in a){var rt=a[X];if(a.hasOwnProperty(X)&&rt!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":I=rt;default:l.hasOwnProperty(X)||se(t,n,X,null,l,rt)}}for(var K in l){var X=l[K];if(rt=a[K],l.hasOwnProperty(K)&&(X!=null||rt!=null))switch(K){case"type":d=X;break;case"name":h=X;break;case"checked":Q=X;break;case"defaultChecked":tt=X;break;case"value":v=X;break;case"defaultValue":b=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,n));break;default:X!==rt&&se(t,n,K,X,l,rt)}}Tn(t,v,b,I,Q,tt,d,h);return;case"select":X=v=b=K=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":X=I;default:l.hasOwnProperty(d)||se(t,n,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":K=d;break;case"defaultValue":b=d;break;case"multiple":v=d;default:d!==I&&se(t,n,h,d,l,I)}n=b,a=v,l=X,K!=null?Mi(t,!!a,K,!1):!!l!=!!a&&(n!=null?Mi(t,!!a,n,!0):Mi(t,!!a,a?[]:"",!1));return;case"textarea":X=K=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:se(t,n,b,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":K=h;break;case"defaultValue":X=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&se(t,n,v,h,l,d)}re(t,K,X);return;case"option":for(var xt in a)if(K=a[xt],a.hasOwnProperty(xt)&&K!=null&&!l.hasOwnProperty(xt))switch(xt){case"selected":t.selected=!1;break;default:se(t,n,xt,null,l,K)}for(I in l)if(K=l[I],X=a[I],l.hasOwnProperty(I)&&K!==X&&(K!=null||X!=null))switch(I){case"selected":t.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:se(t,n,I,K,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in a)K=a[bt],a.hasOwnProperty(bt)&&K!=null&&!l.hasOwnProperty(bt)&&se(t,n,bt,null,l,K);for(Q in l)if(K=l[Q],X=a[Q],l.hasOwnProperty(Q)&&K!==X&&(K!=null||X!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,n));break;default:se(t,n,Q,K,l,X)}return;default:if(sl(n)){for(var le in a)K=a[le],a.hasOwnProperty(le)&&K!==void 0&&!l.hasOwnProperty(le)&&Uf(t,n,le,void 0,l,K);for(tt in l)K=l[tt],X=a[tt],!l.hasOwnProperty(tt)||K===X||K===void 0&&X===void 0||Uf(t,n,tt,K,l,X);return}}for(var q in a)K=a[q],a.hasOwnProperty(q)&&K!=null&&!l.hasOwnProperty(q)&&se(t,n,q,null,l,K);for(rt in l)K=l[rt],X=a[rt],!l.hasOwnProperty(rt)||K===X||K==null&&X==null||se(t,n,rt,K,l,X)}var Lf=null,Pf=null;function Gu(t){return t.nodeType===9?t:t.ownerDocument}function xy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ry(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function kf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var zf=null;function ST(){var t=window.event;return t&&t.type==="popstate"?t===zf?!1:(zf=t,!0):(zf=null,!1)}var wy=typeof setTimeout=="function"?setTimeout:void 0,AT=typeof clearTimeout=="function"?clearTimeout:void 0,Cy=typeof Promise=="function"?Promise:void 0,xT=typeof queueMicrotask=="function"?queueMicrotask:typeof Cy<"u"?function(t){return Cy.resolve(null).then(t).catch(RT)}:wy;function RT(t){setTimeout(function(){throw t})}function Ir(t){return t==="head"}function Dy(t,n){var a=n,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&Fl(v.documentElement),a&2&&Fl(v.body),a&4)for(a=v.head,Fl(a),v=a.firstChild;v;){var b=v.nextSibling,I=v.nodeName;v[Jr]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=b}}if(h===0){t.removeChild(d),Jl(n);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Jl(n)}function Bf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Bf(a),hr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function wT(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Jr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Zn(t.nextSibling),t===null)break}return null}function CT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Zn(t.nextSibling),t===null))return null;return t}function qf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function DT(t,n){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Zn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Hf=null;function Iy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function Vy(t,n,a){switch(n=Gu(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Fl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);hr(t)}var Hn=new Map,Ny=new Set;function Fu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Zi=$.d;$.d={f:IT,r:VT,D:NT,C:MT,L:OT,m:jT,X:LT,S:UT,M:PT};function IT(){var t=Zi.f(),n=Uu();return t||n}function VT(t){var n=si(t);n!==null&&n.tag===5&&n.type==="form"?Zp(n):Zi.r(t)}var xs=typeof document>"u"?null:document;function My(t,n,a){var l=xs;if(l&&typeof n=="string"&&n){var h=De(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Ny.has(h)||(Ny.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Ze(n,"link",t),Se(n),l.head.appendChild(n)))}}function NT(t){Zi.D(t),My("dns-prefetch",t,null)}function MT(t,n){Zi.C(t,n),My("preconnect",t,n)}function OT(t,n,a){Zi.L(t,n,a);var l=xs;if(l&&t&&n){var h='link[rel="preload"][as="'+De(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+De(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+De(a.imageSizes)+'"]')):h+='[href="'+De(t)+'"]';var d=h;switch(n){case"style":d=Rs(t);break;case"script":d=ws(t)}Hn.has(d)||(t=E({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Hn.set(d,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(Ql(d))||n==="script"&&l.querySelector(Yl(d))||(n=l.createElement("link"),Ze(n,"link",t),Se(n),l.head.appendChild(n)))}}function jT(t,n){Zi.m(t,n);var a=xs;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+De(l)+'"][href="'+De(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ws(t)}if(!Hn.has(d)&&(t=E({rel:"modulepreload",href:t},n),Hn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Yl(d)))return}l=a.createElement("link"),Ze(l,"link",t),Se(l),a.head.appendChild(l)}}}function UT(t,n,a){Zi.S(t,n,a);var l=xs;if(l&&t){var h=cn(l).hoistableStyles,d=Rs(t);n=n||"default";var v=h.get(d);if(!v){var b={loading:0,preload:null};if(v=l.querySelector(Ql(d)))b.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Hn.get(d))&&Gf(t,a);var I=v=l.createElement("link");Se(I),Ze(I,"link",t),I._p=new Promise(function(Q,tt){I.onload=Q,I.onerror=tt}),I.addEventListener("load",function(){b.loading|=1}),I.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Qu(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:b},h.set(d,v)}}}function LT(t,n){Zi.X(t,n);var a=xs;if(a&&t){var l=cn(a).hoistableScripts,h=ws(t),d=l.get(h);d||(d=a.querySelector(Yl(h)),d||(t=E({src:t,async:!0},n),(n=Hn.get(h))&&Ff(t,n),d=a.createElement("script"),Se(d),Ze(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function PT(t,n){Zi.M(t,n);var a=xs;if(a&&t){var l=cn(a).hoistableScripts,h=ws(t),d=l.get(h);d||(d=a.querySelector(Yl(h)),d||(t=E({src:t,async:!0,type:"module"},n),(n=Hn.get(h))&&Ff(t,n),d=a.createElement("script"),Se(d),Ze(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Oy(t,n,a,l){var h=(h=St.current)?Fu(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Rs(a.href),a=cn(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Rs(a.href);var d=cn(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Ql(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Hn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Hn.set(t,a),d||kT(h,t,a,v.state))),n&&l===null)throw Error(s(528,""));return v}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ws(a),a=cn(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Rs(t){return'href="'+De(t)+'"'}function Ql(t){return'link[rel="stylesheet"]['+t+"]"}function jy(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function kT(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ze(n,"link",a),Se(n),t.head.appendChild(n))}function ws(t){return'[src="'+De(t)+'"]'}function Yl(t){return"script[async]"+t}function Uy(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+De(a.href)+'"]');if(l)return n.instance=l,Se(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Se(l),Ze(l,"style",h),Qu(l,a.precedence,t),n.instance=l;case"stylesheet":h=Rs(a.href);var d=t.querySelector(Ql(h));if(d)return n.state.loading|=4,n.instance=d,Se(d),d;l=jy(a),(h=Hn.get(h))&&Gf(l,h),d=(t.ownerDocument||t).createElement("link"),Se(d);var v=d;return v._p=new Promise(function(b,I){v.onload=b,v.onerror=I}),Ze(d,"link",l),n.state.loading|=4,Qu(d,a.precedence,t),n.instance=d;case"script":return d=ws(a.src),(h=t.querySelector(Yl(d)))?(n.instance=h,Se(h),h):(l=a,(h=Hn.get(d))&&(l=E({},a),Ff(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Se(h),Ze(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Qu(l,a.precedence,t));return n.instance}function Qu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var b=l[v];if(b.dataset.precedence===n)d=b;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Gf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Ff(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Yu=null;function Ly(t,n,a){if(Yu===null){var l=new Map,h=Yu=new Map;h.set(a,l)}else h=Yu,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[Jr]||d[je]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(n)||"";v=t+v;var b=l.get(v);b?b.push(d):l.set(v,[d])}}return l}function Py(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function zT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function ky(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Kl=null;function BT(){}function qT(t,n,a){if(Kl===null)throw Error(s(475));var l=Kl;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=Rs(a.href),d=t.querySelector(Ql(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Ku.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=d,Se(d);return}d=t.ownerDocument||t,a=jy(a),(h=Hn.get(h))&&Gf(a,h),d=d.createElement("link"),Se(d);var v=d;v._p=new Promise(function(b,I){v.onload=b,v.onerror=I}),Ze(d,"link",a),n.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Ku.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function HT(){if(Kl===null)throw Error(s(475));var t=Kl;return t.stylesheets&&t.count===0&&Qf(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&Qf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Ku(){if(this.count--,this.count===0){if(this.stylesheets)Qf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var $u=null;function Qf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,$u=new Map,n.forEach(GT,t),$u=null,Ku.call(t))}function GT(t,n){if(!(n.state.loading&4)){var a=$u.get(t);if(a)var l=a.get(null);else{a=new Map,$u.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=n.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Ku.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var $l={$$typeof:B,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function FT(t,n,a,l,h,d,v,b){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ci(0),this.hiddenUpdates=Ci(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function zy(t,n,a,l,h,d,v,b,I,Q,tt,rt){return t=new FT(t,n,a,v,b,I,Q,rt),n=1,d===!0&&(n|=24),d=Sn(3,null,null,n),t.current=d,d.stateNode=t,n=Rh(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:n},Ih(d),t}function By(t){return t?(t=rs,t):rs}function qy(t,n,a,l,h,d){h=By(h),l.context===null?l.context=h:l.pendingContext=h,l=yr(n),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=_r(t,l,n),a!==null&&(Cn(a,t,n),xl(a,t,n))}function Hy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Yf(t,n){Hy(t,n),(t=t.alternate)&&Hy(t,n)}function Gy(t){if(t.tag===13){var n=is(t,67108864);n!==null&&Cn(n,t,67108864),Yf(t,67108864)}}var Xu=!0;function QT(t,n,a,l){var h=W.T;W.T=null;var d=$.p;try{$.p=2,Kf(t,n,a,l)}finally{$.p=d,W.T=h}}function YT(t,n,a,l){var h=W.T;W.T=null;var d=$.p;try{$.p=8,Kf(t,n,a,l)}finally{$.p=d,W.T=h}}function Kf(t,n,a,l){if(Xu){var h=$f(l);if(h===null)jf(t,n,l,Wu,a),Qy(t,l);else if($T(h,t,n,a,l))l.stopPropagation();else if(Qy(t,l),n&4&&-1<KT.indexOf(t)){for(;h!==null;){var d=si(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Yn(d.pendingLanes);if(v!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;v;){var I=1<<31-we(v);b.entanglements[1]|=I,v&=~I}Ei(d),(ee&6)===0&&(Ou=ft()+500,ql(0))}}break;case 13:b=is(d,2),b!==null&&Cn(b,d,2),Uu(),Yf(d,2)}if(d=$f(l),d===null&&jf(t,n,l,Wu,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else jf(t,n,l,null,a)}}function $f(t){return t=On(t),Xf(t)}var Wu=null;function Xf(t){if(Wu=null,t=Ii(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=f(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Wu=t,null}function Fy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vt()){case Mt:return 2;case ue:return 8;case be:case ie:return 32;case Xt:return 268435456;default:return 32}default:return 32}}var Wf=!1,Vr=null,Nr=null,Mr=null,Xl=new Map,Wl=new Map,Or=[],KT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Qy(t,n){switch(t){case"focusin":case"focusout":Vr=null;break;case"dragenter":case"dragleave":Nr=null;break;case"mouseover":case"mouseout":Mr=null;break;case"pointerover":case"pointerout":Xl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wl.delete(n.pointerId)}}function Zl(t,n,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},n!==null&&(n=si(n),n!==null&&Gy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function $T(t,n,a,l,h){switch(n){case"focusin":return Vr=Zl(Vr,t,n,a,l,h),!0;case"dragenter":return Nr=Zl(Nr,t,n,a,l,h),!0;case"mouseover":return Mr=Zl(Mr,t,n,a,l,h),!0;case"pointerover":var d=h.pointerId;return Xl.set(d,Zl(Xl.get(d)||null,t,n,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Wl.set(d,Zl(Wl.get(d)||null,t,n,a,l,h)),!0}return!1}function Yy(t){var n=Ii(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=f(a),n!==null){t.blockedOn=n,Uo(t.priority,function(){if(a.tag===13){var l=wn();l=or(l);var h=is(a,l);h!==null&&Cn(h,a,l),Yf(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=$f(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Oi=l,a.target.dispatchEvent(l),Oi=null}else return n=si(a),n!==null&&Gy(n),t.blockedOn=a,!1;n.shift()}return!0}function Ky(t,n,a){Zu(t)&&a.delete(n)}function XT(){Wf=!1,Vr!==null&&Zu(Vr)&&(Vr=null),Nr!==null&&Zu(Nr)&&(Nr=null),Mr!==null&&Zu(Mr)&&(Mr=null),Xl.forEach(Ky),Wl.forEach(Ky)}function Ju(t,n){t.blockedOn===n&&(t.blockedOn=null,Wf||(Wf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,XT)))}var tc=null;function $y(t){tc!==t&&(tc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){tc===t&&(tc=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Xf(l||a)===null)continue;break}var d=si(a);d!==null&&(t.splice(n,3),n-=3,$h(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Jl(t){function n(I){return Ju(I,t)}Vr!==null&&Ju(Vr,t),Nr!==null&&Ju(Nr,t),Mr!==null&&Ju(Mr,t),Xl.forEach(n),Wl.forEach(n);for(var a=0;a<Or.length;a++){var l=Or[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Or.length&&(a=Or[0],a.blockedOn===null);)Yy(a),a.blockedOn===null&&Or.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[Ce]||null;if(typeof d=="function")v||$y(a);else if(v){var b=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Ce]||null)b=v.formAction;else if(Xf(h)!==null)continue}else b=v.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),$y(a)}}}function Zf(t){this._internalRoot=t}ec.prototype.render=Zf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=wn();qy(a,l,t,n,null,null)},ec.prototype.unmount=Zf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;qy(t.current,2,null,t,null,null),Uu(),n[Nn]=null}};function ec(t){this._internalRoot=t}ec.prototype.unstable_scheduleHydration=function(t){if(t){var n=ur();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Or.length&&n!==0&&n<Or[a].priority;a++);Or.splice(a,0,t),a===0&&Yy(t)}};var Xy=e.version;if(Xy!=="19.1.0")throw Error(s(527,Xy,"19.1.0"));$.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(n),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var WT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nc.isDisabled&&nc.supportsFiber)try{Bt=nc.inject(WT),Ot=nc}catch{}}return eo.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",h=fg,d=dg,v=mg,b=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(b=n.unstable_transitionCallbacks)),n=zy(t,1,!1,null,null,a,l,h,d,v,b,null),t[Nn]=n.current,Of(t),new Zf(n)},eo.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=fg,v=dg,b=mg,I=null,Q=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(Q=a.formState)),n=zy(t,1,!0,n,a??null,l,h,d,v,b,I,Q),n.context=By(null),a=n.current,l=wn(),l=or(l),h=yr(l),h.callback=null,_r(a,h,l),a=l,n.current.lanes=a,Di(n,a),Ei(n),t[Nn]=n.current,Of(t),new ec(n)},eo.version="19.1.0",eo}var s_;function ub(){if(s_)return ed.exports;s_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ed.exports=ob(),ed.exports}var cb=ub(),no={},l_;function hb(){if(l_)return no;l_=1,Object.defineProperty(no,"__esModule",{value:!0}),no.parse=f,no.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,c=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function f(x,D){const V=new c,G=x.length;if(G<2)return V;const N=(D==null?void 0:D.decode)||E;let z=0;do{const Y=x.indexOf("=",z);if(Y===-1)break;const B=x.indexOf(";",z),ct=B===-1?G:B;if(Y>ct){z=x.lastIndexOf(";",Y-1)+1;continue}const ot=m(x,z,Y),pt=g(x,Y,ot),O=x.slice(ot,pt);if(V[O]===void 0){let R=m(x,Y+1,ct),w=g(x,ct,R);const j=N(x.slice(R,w));V[O]=j}z=ct+1}while(z<G);return V}function m(x,D,V){do{const G=x.charCodeAt(D);if(G!==32&&G!==9)return D}while(++D<V);return V}function g(x,D,V){for(;D>V;){const G=x.charCodeAt(--D);if(G!==32&&G!==9)return D+1}return V}function y(x,D,V){const G=(V==null?void 0:V.encode)||encodeURIComponent;if(!r.test(x))throw new TypeError(`argument name is invalid: ${x}`);const N=G(D);if(!e.test(N))throw new TypeError(`argument val is invalid: ${D}`);let z=x+"="+N;if(!V)return z;if(V.maxAge!==void 0){if(!Number.isInteger(V.maxAge))throw new TypeError(`option maxAge is invalid: ${V.maxAge}`);z+="; Max-Age="+V.maxAge}if(V.domain){if(!i.test(V.domain))throw new TypeError(`option domain is invalid: ${V.domain}`);z+="; Domain="+V.domain}if(V.path){if(!s.test(V.path))throw new TypeError(`option path is invalid: ${V.path}`);z+="; Path="+V.path}if(V.expires){if(!S(V.expires)||!Number.isFinite(V.expires.valueOf()))throw new TypeError(`option expires is invalid: ${V.expires}`);z+="; Expires="+V.expires.toUTCString()}if(V.httpOnly&&(z+="; HttpOnly"),V.secure&&(z+="; Secure"),V.partitioned&&(z+="; Partitioned"),V.priority)switch(typeof V.priority=="string"?V.priority.toLowerCase():void 0){case"low":z+="; Priority=Low";break;case"medium":z+="; Priority=Medium";break;case"high":z+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${V.priority}`)}if(V.sameSite)switch(typeof V.sameSite=="string"?V.sameSite.toLowerCase():V.sameSite){case!0:case"strict":z+="; SameSite=Strict";break;case"lax":z+="; SameSite=Lax";break;case"none":z+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${V.sameSite}`)}return z}function E(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function S(x){return o.call(x)==="[object Date]"}return no}hb();/**
 * react-router v7.5.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var o_="popstate";function fb(r={}){function e(o,c){let{pathname:f="/",search:m="",hash:g=""}=Oa(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),yd("",{pathname:f,search:m,hash:g},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function i(o,c){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let g=o.location.href,y=g.indexOf("#");m=y===-1?g:g.slice(0,y)}return m+"#"+(typeof c=="string"?c:fo(c))}function s(o,c){Gn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return mb(e,i,s,r)}function ge(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Gn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function db(){return Math.random().toString(36).substring(2,10)}function u_(r,e){return{usr:r.state,key:r.key,idx:e}}function yd(r,e,i=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Oa(e):e,state:i,key:e&&e.key||s||db()}}function fo({pathname:r="/",search:e="",hash:i=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Oa(r){let e={};if(r){let i=r.indexOf("#");i>=0&&(e.hash=r.substring(i),r=r.substring(0,i));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function mb(r,e,i,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,f=o.history,m="POP",g=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function S(){m="POP";let N=E(),z=N==null?null:N-y;y=N,g&&g({action:m,location:G.location,delta:z})}function x(N,z){m="PUSH";let Y=yd(G.location,N,z);i&&i(Y,N),y=E()+1;let B=u_(Y,y),ct=G.createHref(Y);try{f.pushState(B,"",ct)}catch(ot){if(ot instanceof DOMException&&ot.name==="DataCloneError")throw ot;o.location.assign(ct)}c&&g&&g({action:m,location:G.location,delta:1})}function D(N,z){m="REPLACE";let Y=yd(G.location,N,z);i&&i(Y,N),y=E();let B=u_(Y,y),ct=G.createHref(Y);f.replaceState(B,"",ct),c&&g&&g({action:m,location:G.location,delta:0})}function V(N){let z=o.location.origin!=="null"?o.location.origin:o.location.href,Y=typeof N=="string"?N:fo(N);return Y=Y.replace(/ $/,"%20"),ge(z,`No window.location.(origin|href) available to create URL for href: ${Y}`),new URL(Y,z)}let G={get action(){return m},get location(){return r(o,f)},listen(N){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(o_,S),g=N,()=>{o.removeEventListener(o_,S),g=null}},createHref(N){return e(o,N)},createURL:V,encodeLocation(N){let z=V(N);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:x,replace:D,go(N){return f.go(N)}};return G}function Av(r,e,i="/"){return pb(r,e,i,!1)}function pb(r,e,i,s){let o=typeof e=="string"?Oa(e):e,c=nr(o.pathname||"/",i);if(c==null)return null;let f=xv(r);gb(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let y=wb(c);m=xb(f[g],y,s)}return m}function xv(r,e=[],i=[],s=""){let o=(c,f,m)=>{let g={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};g.relativePath.startsWith("/")&&(ge(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let y=tr([s,g.relativePath]),E=i.concat(g);c.children&&c.children.length>0&&(ge(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),xv(c.children,e,E,y)),!(c.path==null&&!c.index)&&e.push({path:y,score:Sb(y,c.index),routesMeta:E})};return r.forEach((c,f)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))o(c,f);else for(let g of Rv(c.path))o(c,f,g)}),e}function Rv(r){let e=r.split("/");if(e.length===0)return[];let[i,...s]=e,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let f=Rv(s.join("/")),m=[];return m.push(...f.map(g=>g===""?c:[c,g].join("/"))),o&&m.push(...f),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function gb(r){r.sort((e,i)=>e.score!==i.score?i.score-e.score:Ab(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var yb=/^:[\w-]+$/,_b=3,vb=2,Eb=1,Tb=10,bb=-2,c_=r=>r==="*";function Sb(r,e){let i=r.split("/"),s=i.length;return i.some(c_)&&(s+=bb),e&&(s+=vb),i.filter(o=>!c_(o)).reduce((o,c)=>o+(yb.test(c)?_b:c===""?Eb:Tb),s)}function Ab(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function xb(r,e,i=!1){let{routesMeta:s}=r,o={},c="/",f=[];for(let m=0;m<s.length;++m){let g=s[m],y=m===s.length-1,E=c==="/"?e:e.slice(c.length)||"/",S=yc({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),x=g.route;if(!S&&y&&i&&!s[s.length-1].route.index&&(S=yc({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:tr([c,S.pathname]),pathnameBase:Vb(tr([c,S.pathnameBase])),route:x}),S.pathnameBase!=="/"&&(c=tr([c,S.pathnameBase]))}return f}function yc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,s]=Rb(r.path,r.caseSensitive,r.end),o=e.match(i);if(!o)return null;let c=o[0],f=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:S},x)=>{if(E==="*"){let V=m[x]||"";f=c.slice(0,c.length-V.length).replace(/(.)\/+$/,"$1")}const D=m[x];return S&&!D?y[E]=void 0:y[E]=(D||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:f,pattern:r}}function Rb(r,e=!1,i=!0){Gn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function wb(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function nr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=r.charAt(i);return s&&s!=="/"?null:r.slice(i)||"/"}function Cb(r,e="/"){let{pathname:i,search:s="",hash:o=""}=typeof r=="string"?Oa(r):r;return{pathname:i?i.startsWith("/")?i:Db(i,e):e,search:Nb(s),hash:Mb(o)}}function Db(r,e){let i=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function ad(r,e,i,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ib(r){return r.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function Fd(r){let e=Ib(r);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function Qd(r,e,i,s=!1){let o;typeof r=="string"?o=Oa(r):(o={...r},ge(!o.pathname||!o.pathname.includes("?"),ad("?","pathname","search",o)),ge(!o.pathname||!o.pathname.includes("#"),ad("#","pathname","hash",o)),ge(!o.search||!o.search.includes("#"),ad("#","search","hash",o)));let c=r===""||o.pathname==="",f=c?"/":o.pathname,m;if(f==null)m=i;else{let S=e.length-1;if(!s&&f.startsWith("..")){let x=f.split("/");for(;x[0]==="..";)x.shift(),S-=1;o.pathname=x.join("/")}m=S>=0?e[S]:"/"}let g=Cb(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(c||f===".")&&i.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var tr=r=>r.join("/").replace(/\/\/+/g,"/"),Vb=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Nb=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Mb=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Ob(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var wv=["POST","PUT","PATCH","DELETE"];new Set(wv);var jb=["GET",...wv];new Set(jb);var qs=P.createContext(null);qs.displayName="DataRouter";var Oc=P.createContext(null);Oc.displayName="DataRouterState";var Cv=P.createContext({isTransitioning:!1});Cv.displayName="ViewTransition";var Ub=P.createContext(new Map);Ub.displayName="Fetchers";var Lb=P.createContext(null);Lb.displayName="Await";var ei=P.createContext(null);ei.displayName="Navigation";var So=P.createContext(null);So.displayName="Location";var ni=P.createContext({outlet:null,matches:[],isDataRoute:!1});ni.displayName="Route";var Yd=P.createContext(null);Yd.displayName="RouteError";function Pb(r,{relative:e}={}){ge(Hs(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=P.useContext(ei),{hash:o,pathname:c,search:f}=Ao(r,{relative:e}),m=c;return i!=="/"&&(m=c==="/"?i:tr([i,c])),s.createHref({pathname:m,search:f,hash:o})}function Hs(){return P.useContext(So)!=null}function sr(){return ge(Hs(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(So).location}var Dv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Iv(r){P.useContext(ei).static||P.useLayoutEffect(r)}function Kd(){let{isDataRoute:r}=P.useContext(ni);return r?Zb():kb()}function kb(){ge(Hs(),"useNavigate() may be used only in the context of a <Router> component.");let r=P.useContext(qs),{basename:e,navigator:i}=P.useContext(ei),{matches:s}=P.useContext(ni),{pathname:o}=sr(),c=JSON.stringify(Fd(s)),f=P.useRef(!1);return Iv(()=>{f.current=!0}),P.useCallback((g,y={})=>{if(Gn(f.current,Dv),!f.current)return;if(typeof g=="number"){i.go(g);return}let E=Qd(g,JSON.parse(c),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:tr([e,E.pathname])),(y.replace?i.replace:i.push)(E,y.state,y)},[e,i,c,o,r])}P.createContext(null);function zb(){let{matches:r}=P.useContext(ni),e=r[r.length-1];return e?e.params:{}}function Ao(r,{relative:e}={}){let{matches:i}=P.useContext(ni),{pathname:s}=sr(),o=JSON.stringify(Fd(i));return P.useMemo(()=>Qd(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function Bb(r,e){return Vv(r,e)}function Vv(r,e,i,s){var Y;ge(Hs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:c}=P.useContext(ei),{matches:f}=P.useContext(ni),m=f[f.length-1],g=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",S=m&&m.route;{let B=S&&S.path||"";Nv(y,!S||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let x=sr(),D;if(e){let B=typeof e=="string"?Oa(e):e;ge(E==="/"||((Y=B.pathname)==null?void 0:Y.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${B.pathname}" was given in the \`location\` prop.`),D=B}else D=x;let V=D.pathname||"/",G=V;if(E!=="/"){let B=E.replace(/^\//,"").split("/");G="/"+V.replace(/^\//,"").split("/").slice(B.length).join("/")}let N=!c&&i&&i.matches&&i.matches.length>0?i.matches:Av(r,{pathname:G});Gn(S||N!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),Gn(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=Qb(N&&N.map(B=>Object.assign({},B,{params:Object.assign({},g,B.params),pathname:tr([E,o.encodeLocation?o.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?E:tr([E,o.encodeLocation?o.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),f,i,s);return e&&z?P.createElement(So.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},z):z}function qb(){let r=Wb(),e=Ob(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:c},"ErrorBoundary")," or"," ",P.createElement("code",{style:c},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),i?P.createElement("pre",{style:o},i):null,f)}var Hb=P.createElement(qb,null),Gb=class extends P.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?P.createElement(ni.Provider,{value:this.props.routeContext},P.createElement(Yd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Fb({routeContext:r,match:e,children:i}){let s=P.useContext(qs);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(ni.Provider,{value:r},i)}function Qb(r,e=[],i=null,s=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let o=r,c=i==null?void 0:i.errors;if(c!=null){let g=o.findIndex(y=>y.route.id&&(c==null?void 0:c[y.route.id])!==void 0);ge(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let f=!1,m=-1;if(i)for(let g=0;g<o.length;g++){let y=o[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=g),y.route.id){let{loaderData:E,errors:S}=i,x=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!S||S[y.route.id]===void 0);if(y.route.lazy||x){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((g,y,E)=>{let S,x=!1,D=null,V=null;i&&(S=c&&y.route.id?c[y.route.id]:void 0,D=y.route.errorElement||Hb,f&&(m<0&&E===0?(Nv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,V=null):m===E&&(x=!0,V=y.route.hydrateFallbackElement||null)));let G=e.concat(o.slice(0,E+1)),N=()=>{let z;return S?z=D:x?z=V:y.route.Component?z=P.createElement(y.route.Component,null):y.route.element?z=y.route.element:z=g,P.createElement(Fb,{match:y,routeContext:{outlet:g,matches:G,isDataRoute:i!=null},children:z})};return i&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?P.createElement(Gb,{location:i.location,revalidation:i.revalidation,component:D,error:S,children:N(),routeContext:{outlet:null,matches:G,isDataRoute:!0}}):N()},null)}function $d(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Yb(r){let e=P.useContext(qs);return ge(e,$d(r)),e}function Kb(r){let e=P.useContext(Oc);return ge(e,$d(r)),e}function $b(r){let e=P.useContext(ni);return ge(e,$d(r)),e}function Xd(r){let e=$b(r),i=e.matches[e.matches.length-1];return ge(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function Xb(){return Xd("useRouteId")}function Wb(){var s;let r=P.useContext(Yd),e=Kb("useRouteError"),i=Xd("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[i]}function Zb(){let{router:r}=Yb("useNavigate"),e=Xd("useNavigate"),i=P.useRef(!1);return Iv(()=>{i.current=!0}),P.useCallback(async(o,c={})=>{Gn(i.current,Dv),i.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...c}))},[r,e])}var h_={};function Nv(r,e,i){!e&&!h_[r]&&(h_[r]=!0,Gn(!1,i))}P.memo(Jb);function Jb({routes:r,future:e,state:i}){return Vv(r,void 0,i,e)}function Ji({to:r,replace:e,state:i,relative:s}){ge(Hs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=P.useContext(ei);Gn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=P.useContext(ni),{pathname:f}=sr(),m=Kd(),g=Qd(r,Fd(c),f,s==="path"),y=JSON.stringify(g);return P.useEffect(()=>{m(JSON.parse(y),{replace:e,state:i,relative:s})},[m,y,s,e,i]),null}function Jn(r){ge(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function t1({basename:r="/",children:e=null,location:i,navigationType:s="POP",navigator:o,static:c=!1}){ge(!Hs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=P.useMemo(()=>({basename:f,navigator:o,static:c,future:{}}),[f,o,c]);typeof i=="string"&&(i=Oa(i));let{pathname:g="/",search:y="",hash:E="",state:S=null,key:x="default"}=i,D=P.useMemo(()=>{let V=nr(g,f);return V==null?null:{location:{pathname:V,search:y,hash:E,state:S,key:x},navigationType:s}},[f,g,y,E,S,x,s]);return Gn(D!=null,`<Router basename="${f}"> is not able to match the URL "${g}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:P.createElement(ei.Provider,{value:m},P.createElement(So.Provider,{children:e,value:D}))}function e1({children:r,location:e}){return Bb(_d(r),e)}function _d(r,e=[]){let i=[];return P.Children.forEach(r,(s,o)=>{if(!P.isValidElement(s))return;let c=[...e,o];if(s.type===P.Fragment){i.push.apply(i,_d(s.props.children,c));return}ge(s.type===Jn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ge(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=_d(s.props.children,c)),i.push(f)}),i}var uc="get",cc="application/x-www-form-urlencoded";function jc(r){return r!=null&&typeof r.tagName=="string"}function n1(r){return jc(r)&&r.tagName.toLowerCase()==="button"}function i1(r){return jc(r)&&r.tagName.toLowerCase()==="form"}function r1(r){return jc(r)&&r.tagName.toLowerCase()==="input"}function a1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function s1(r,e){return r.button===0&&(!e||e==="_self")&&!a1(r)}var ic=null;function l1(){if(ic===null)try{new FormData(document.createElement("form"),0),ic=!1}catch{ic=!0}return ic}var o1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sd(r){return r!=null&&!o1.has(r)?(Gn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${cc}"`),null):r}function u1(r,e){let i,s,o,c,f;if(i1(r)){let m=r.getAttribute("action");s=m?nr(m,e):null,i=r.getAttribute("method")||uc,o=sd(r.getAttribute("enctype"))||cc,c=new FormData(r)}else if(n1(r)||r1(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?nr(g,e):null,i=r.getAttribute("formmethod")||m.getAttribute("method")||uc,o=sd(r.getAttribute("formenctype"))||sd(m.getAttribute("enctype"))||cc,c=new FormData(m,r),!l1()){let{name:y,type:E,value:S}=r;if(E==="image"){let x=y?`${y}.`:"";c.append(`${x}x`,"0"),c.append(`${x}y`,"0")}else y&&c.append(y,S)}}else{if(jc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=uc,s=null,o=cc,f=r}return c&&o==="text/plain"&&(f=c,c=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:c,body:f}}function Wd(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function c1(r,e){if(r.id in e)return e[r.id];try{let i=await import(r.module);return e[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function h1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function f1(r,e,i){let s=await Promise.all(r.map(async o=>{let c=e.routes[o.route.id];if(c){let f=await c1(c,i);return f.links?f.links():[]}return[]}));return g1(s.flat(1).filter(h1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function f_(r,e,i,s,o,c){let f=(g,y)=>i[y]?g.route.id!==i[y].route.id:!0,m=(g,y)=>{var E;return i[y].pathname!==g.pathname||((E=i[y].route.path)==null?void 0:E.endsWith("*"))&&i[y].params["*"]!==g.params["*"]};return c==="assets"?e.filter((g,y)=>f(g,y)||m(g,y)):c==="data"?e.filter((g,y)=>{var S;let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let x=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=i[0])==null?void 0:S.params)||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function d1(r,e,{includeHydrateFallback:i}={}){return m1(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function m1(r){return[...new Set(r)]}function p1(r){let e={},i=Object.keys(r).sort();for(let s of i)e[s]=r[s];return e}function g1(r,e){let i=new Set;return new Set(e),r.reduce((s,o)=>{let c=JSON.stringify(p1(o));return i.has(c)||(i.add(c),s.push({key:c,link:o})),s},[])}var y1=new Set([100,101,204,205]);function _1(r,e){let i=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return i.pathname==="/"?i.pathname="_root.data":e&&nr(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function Mv(){let r=P.useContext(qs);return Wd(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function v1(){let r=P.useContext(Oc);return Wd(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Zd=P.createContext(void 0);Zd.displayName="FrameworkContext";function Ov(){let r=P.useContext(Zd);return Wd(r,"You must render this element inside a <HydratedRouter> element"),r}function E1(r,e){let i=P.useContext(Zd),[s,o]=P.useState(!1),[c,f]=P.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:S}=e,x=P.useRef(null);P.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let G=z=>{z.forEach(Y=>{f(Y.isIntersecting)})},N=new IntersectionObserver(G,{threshold:.5});return x.current&&N.observe(x.current),()=>{N.disconnect()}}},[r]),P.useEffect(()=>{if(s){let G=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(G)}}},[s]);let D=()=>{o(!0)},V=()=>{o(!1),f(!1)};return i?r!=="intent"?[c,x,{}]:[c,x,{onFocus:io(m,D),onBlur:io(g,V),onMouseEnter:io(y,D),onMouseLeave:io(E,V),onTouchStart:io(S,D)}]:[!1,x,{}]}function io(r,e){return i=>{r&&r(i),i.defaultPrevented||e(i)}}function T1({page:r,...e}){let{router:i}=Mv(),s=P.useMemo(()=>Av(i.routes,r,i.basename),[i.routes,r,i.basename]);return s?P.createElement(S1,{page:r,matches:s,...e}):null}function b1(r){let{manifest:e,routeModules:i}=Ov(),[s,o]=P.useState([]);return P.useEffect(()=>{let c=!1;return f1(r,e,i).then(f=>{c||o(f)}),()=>{c=!0}},[r,e,i]),s}function S1({page:r,matches:e,...i}){let s=sr(),{manifest:o,routeModules:c}=Ov(),{basename:f}=Mv(),{loaderData:m,matches:g}=v1(),y=P.useMemo(()=>f_(r,e,g,o,s,"data"),[r,e,g,o,s]),E=P.useMemo(()=>f_(r,e,g,o,s,"assets"),[r,e,g,o,s]),S=P.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let V=new Set,G=!1;if(e.forEach(z=>{var B;let Y=o.routes[z.route.id];!Y||!Y.hasLoader||(!y.some(ct=>ct.route.id===z.route.id)&&z.route.id in m&&((B=c[z.route.id])!=null&&B.shouldRevalidate)||Y.hasClientLoader?G=!0:V.add(z.route.id))}),V.size===0)return[];let N=_1(r,f);return G&&V.size>0&&N.searchParams.set("_routes",e.filter(z=>V.has(z.route.id)).map(z=>z.route.id).join(",")),[N.pathname+N.search]},[f,m,s,o,y,e,r,c]),x=P.useMemo(()=>d1(E,o),[E,o]),D=b1(E);return P.createElement(P.Fragment,null,S.map(V=>P.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...i})),x.map(V=>P.createElement("link",{key:V,rel:"modulepreload",href:V,...i})),D.map(({key:V,link:G})=>P.createElement("link",{key:V,...G})))}function A1(...r){return e=>{r.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var jv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jv&&(window.__reactRouterVersion="7.5.1")}catch{}function x1({basename:r,children:e,window:i}){let s=P.useRef();s.current==null&&(s.current=fb({window:i,v5Compat:!0}));let o=s.current,[c,f]=P.useState({action:o.action,location:o.location}),m=P.useCallback(g=>{P.startTransition(()=>f(g))},[f]);return P.useLayoutEffect(()=>o.listen(m),[o,m]),P.createElement(t1,{basename:r,children:e,location:c.location,navigationType:c.action,navigator:o})}var Uv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jd=P.forwardRef(function({onClick:e,discover:i="render",prefetch:s="none",relative:o,reloadDocument:c,replace:f,state:m,target:g,to:y,preventScrollReset:E,viewTransition:S,...x},D){let{basename:V}=P.useContext(ei),G=typeof y=="string"&&Uv.test(y),N,z=!1;if(typeof y=="string"&&G&&(N=y,jv))try{let w=new URL(window.location.href),j=y.startsWith("//")?new URL(w.protocol+y):new URL(y),k=nr(j.pathname,V);j.origin===w.origin&&k!=null?y=k+j.search+j.hash:z=!0}catch{Gn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=Pb(y,{relative:o}),[B,ct,ot]=E1(s,x),pt=C1(y,{replace:f,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:S});function O(w){e&&e(w),w.defaultPrevented||pt(w)}let R=P.createElement("a",{...x,...ot,href:N||Y,onClick:z||c?e:O,ref:A1(D,ct),target:g,"data-discover":!G&&i==="render"?"true":void 0});return B&&!G?P.createElement(P.Fragment,null,R,P.createElement(T1,{page:Y})):R});Jd.displayName="Link";var Lv=P.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:s="",end:o=!1,style:c,to:f,viewTransition:m,children:g,...y},E){let S=Ao(f,{relative:y.relative}),x=sr(),D=P.useContext(Oc),{navigator:V,basename:G}=P.useContext(ei),N=D!=null&&M1(S)&&m===!0,z=V.encodeLocation?V.encodeLocation(S).pathname:S.pathname,Y=x.pathname,B=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;i||(Y=Y.toLowerCase(),B=B?B.toLowerCase():null,z=z.toLowerCase()),B&&G&&(B=nr(B,G)||B);const ct=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let ot=Y===z||!o&&Y.startsWith(z)&&Y.charAt(ct)==="/",pt=B!=null&&(B===z||!o&&B.startsWith(z)&&B.charAt(z.length)==="/"),O={isActive:ot,isPending:pt,isTransitioning:N},R=ot?e:void 0,w;typeof s=="function"?w=s(O):w=[s,ot?"active":null,pt?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let j=typeof c=="function"?c(O):c;return P.createElement(Jd,{...y,"aria-current":R,className:w,ref:E,style:j,to:f,viewTransition:m},typeof g=="function"?g(O):g)});Lv.displayName="NavLink";var R1=P.forwardRef(({discover:r="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:o,state:c,method:f=uc,action:m,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:S,...x},D)=>{let V=V1(),G=N1(m,{relative:y}),N=f.toLowerCase()==="get"?"get":"post",z=typeof m=="string"&&Uv.test(m),Y=B=>{if(g&&g(B),B.defaultPrevented)return;B.preventDefault();let ct=B.nativeEvent.submitter,ot=(ct==null?void 0:ct.getAttribute("formmethod"))||f;V(ct||B.currentTarget,{fetcherKey:e,method:ot,navigate:i,replace:o,state:c,relative:y,preventScrollReset:E,viewTransition:S})};return P.createElement("form",{ref:D,method:N,action:G,onSubmit:s?g:Y,...x,"data-discover":!z&&r==="render"?"true":void 0})});R1.displayName="Form";function w1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Pv(r){let e=P.useContext(qs);return ge(e,w1(r)),e}function C1(r,{target:e,replace:i,state:s,preventScrollReset:o,relative:c,viewTransition:f}={}){let m=Kd(),g=sr(),y=Ao(r,{relative:c});return P.useCallback(E=>{if(s1(E,e)){E.preventDefault();let S=i!==void 0?i:fo(g)===fo(y);m(r,{replace:S,state:s,preventScrollReset:o,relative:c,viewTransition:f})}},[g,m,y,i,s,e,r,o,c,f])}var D1=0,I1=()=>`__${String(++D1)}__`;function V1(){let{router:r}=Pv("useSubmit"),{basename:e}=P.useContext(ei),i=Xb();return P.useCallback(async(s,o={})=>{let{action:c,method:f,encType:m,formData:g,body:y}=u1(s,e);if(o.navigate===!1){let E=o.fetcherKey||I1();await r.fetch(E,i,o.action||c,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,i])}function N1(r,{relative:e}={}){let{basename:i}=P.useContext(ei),s=P.useContext(ni);ge(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...Ao(r||".",{relative:e})},f=sr();if(r==null){c.search=f.search;let m=new URLSearchParams(c.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();c.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:tr([i,c.pathname])),fo(c)}function M1(r,e={}){let i=P.useContext(Cv);ge(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Pv("useViewTransitionState"),o=Ao(r,{relative:e.relative});if(!i.isTransitioning)return!1;let c=nr(i.currentLocation.pathname,s)||i.currentLocation.pathname,f=nr(i.nextLocation.pathname,s)||i.nextLocation.pathname;return yc(o.pathname,f)!=null||yc(o.pathname,c)!=null}new TextEncoder;[...y1];const O1=()=>{};var d_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},j1=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],f=r[i++],m=r[i++],g=((o&7)<<18|(c&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const c=r[i++],f=r[i++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|f&63)}}return e.join("")},zv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const c=r[o],f=o+1<r.length,m=f?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,E=c>>2,S=(c&3)<<4|m>>4;let x=(m&15)<<2|y>>6,D=y&63;g||(D=64,f||(x=64)),s.push(i[E],i[S],i[x],i[D])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(kv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):j1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],m=o<r.length?i[r.charAt(o)]:0;++o;const y=o<r.length?i[r.charAt(o)]:64;++o;const S=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||m==null||y==null||S==null)throw new U1;const x=c<<2|m>>4;if(s.push(x),y!==64){const D=m<<4&240|y>>2;if(s.push(D),S!==64){const V=y<<6&192|S;s.push(V)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class U1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const L1=function(r){const e=kv(r);return zv.encodeByteArray(e,!0)},_c=function(r){return L1(r).replace(/\./g,"")},P1=function(r){try{return zv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1=()=>k1().__FIREBASE_DEFAULTS__,B1=()=>{if(typeof process>"u"||typeof d_>"u")return;const r=d_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},q1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&P1(r[1]);return e&&JSON.parse(e)},tm=()=>{try{return O1()||z1()||B1()||q1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},H1=r=>{var e,i;return(i=(e=tm())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[r]},G1=r=>{const e=H1(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},Bv=()=>{var r;return(r=tm())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[_c(JSON.stringify(i)),_c(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function K1(){var r;const e=(r=tm())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $1(){return!K1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function X1(){try{return typeof indexedDB=="object"}catch{return!1}}function W1(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var c;e(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1="FirebaseError";class Gs extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=Z1,Object.setPrototypeOf(this,Gs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qv.prototype.create)}}class qv{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],f=c?J1(c,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Gs(o,m,s)}}function J1(r,e){return r.replace(tS,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const tS=/\{\$([^}]+)}/g;function vc(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const c=r[o],f=e[o];if(m_(c)&&m_(f)){if(!vc(c,f))return!1}else if(c!==f)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function m_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(r){return r&&r._delegate?r._delegate:r}class mo{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new F1;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iS(e))try{this.getOrInitializeService({instanceIdentifier:Ca})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=Ca){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ca){return this.instances.has(e)}getOptions(e=Ca){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&f.resolve(o)}return o}onInit(e,i){var s;const o=this.normalizeInstanceIdentifier(i),c=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(o,c);const f=this.instances.get(o);return f&&e(f,o),()=>{c.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:nS(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ca){return this.component?this.component.multipleInstances?e:Ca:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nS(r){return r===Ca?void 0:r}function iS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new eS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Qt||(Qt={}));const aS={debug:Qt.DEBUG,verbose:Qt.VERBOSE,info:Qt.INFO,warn:Qt.WARN,error:Qt.ERROR,silent:Qt.SILENT},sS=Qt.INFO,lS={[Qt.DEBUG]:"log",[Qt.VERBOSE]:"log",[Qt.INFO]:"info",[Qt.WARN]:"warn",[Qt.ERROR]:"error"},oS=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=lS[e];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hv{constructor(e){this.name=e,this._logLevel=sS,this._logHandler=oS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?aS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qt.DEBUG,...e),this._logHandler(this,Qt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qt.VERBOSE,...e),this._logHandler(this,Qt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qt.INFO,...e),this._logHandler(this,Qt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qt.WARN,...e),this._logHandler(this,Qt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qt.ERROR,...e),this._logHandler(this,Qt.ERROR,...e)}}const uS=(r,e)=>e.some(i=>r instanceof i);let p_,g_;function cS(){return p_||(p_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hS(){return g_||(g_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Gv=new WeakMap,vd=new WeakMap,Fv=new WeakMap,ld=new WeakMap,em=new WeakMap;function fS(r){const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",f)},c=()=>{i(Lr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",f)});return e.then(i=>{i instanceof IDBCursor&&Gv.set(i,r)}).catch(()=>{}),em.set(e,r),e}function dS(r){if(vd.has(r))return;const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",f),r.removeEventListener("abort",f)},c=()=>{i(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",f),r.addEventListener("abort",f)});vd.set(r,e)}let Ed={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return vd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Fv.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Lr(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function mS(r){Ed=r(Ed)}function pS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(od(this),e,...i);return Fv.set(s,e.sort?e.sort():[e]),Lr(s)}:hS().includes(r)?function(...e){return r.apply(od(this),e),Lr(Gv.get(this))}:function(...e){return Lr(r.apply(od(this),e))}}function gS(r){return typeof r=="function"?pS(r):(r instanceof IDBTransaction&&dS(r),uS(r,cS())?new Proxy(r,Ed):r)}function Lr(r){if(r instanceof IDBRequest)return fS(r);if(ld.has(r))return ld.get(r);const e=gS(r);return e!==r&&(ld.set(r,e),em.set(e,r)),e}const od=r=>em.get(r);function yS(r,e,{blocked:i,upgrade:s,blocking:o,terminated:c}={}){const f=indexedDB.open(r,e),m=Lr(f);return s&&f.addEventListener("upgradeneeded",g=>{s(Lr(f.result),g.oldVersion,g.newVersion,Lr(f.transaction),g)}),i&&f.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),m.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const _S=["get","getKey","getAll","getAllKeys","count"],vS=["put","add","delete","clear"],ud=new Map;function y_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(ud.get(e))return ud.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=vS.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||_S.includes(i)))return;const c=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[i](...m),o&&g.done]))[0]};return ud.set(e,c),c}mS(r=>({...r,get:(e,i,s)=>y_(e,i)||r.get(e,i,s),has:(e,i)=>!!y_(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(TS(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function TS(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Td="@firebase/app",__="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir=new Hv("@firebase/app"),bS="@firebase/app-compat",SS="@firebase/analytics-compat",AS="@firebase/analytics",xS="@firebase/app-check-compat",RS="@firebase/app-check",wS="@firebase/auth",CS="@firebase/auth-compat",DS="@firebase/database",IS="@firebase/data-connect",VS="@firebase/database-compat",NS="@firebase/functions",MS="@firebase/functions-compat",OS="@firebase/installations",jS="@firebase/installations-compat",US="@firebase/messaging",LS="@firebase/messaging-compat",PS="@firebase/performance",kS="@firebase/performance-compat",zS="@firebase/remote-config",BS="@firebase/remote-config-compat",qS="@firebase/storage",HS="@firebase/storage-compat",GS="@firebase/firestore",FS="@firebase/vertexai",QS="@firebase/firestore-compat",YS="firebase",KS="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd="[DEFAULT]",$S={[Td]:"fire-core",[bS]:"fire-core-compat",[AS]:"fire-analytics",[SS]:"fire-analytics-compat",[RS]:"fire-app-check",[xS]:"fire-app-check-compat",[wS]:"fire-auth",[CS]:"fire-auth-compat",[DS]:"fire-rtdb",[IS]:"fire-data-connect",[VS]:"fire-rtdb-compat",[NS]:"fire-fn",[MS]:"fire-fn-compat",[OS]:"fire-iid",[jS]:"fire-iid-compat",[US]:"fire-fcm",[LS]:"fire-fcm-compat",[PS]:"fire-perf",[kS]:"fire-perf-compat",[zS]:"fire-rc",[BS]:"fire-rc-compat",[qS]:"fire-gcs",[HS]:"fire-gcs-compat",[GS]:"fire-fst",[QS]:"fire-fst-compat",[FS]:"fire-vertex","fire-js":"fire-js",[YS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec=new Map,XS=new Map,Sd=new Map;function v_(r,e){try{r.container.addComponent(e)}catch(i){ir.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function Tc(r){const e=r.name;if(Sd.has(e))return ir.debug(`There were multiple attempts to register component ${e}.`),!1;Sd.set(e,r);for(const i of Ec.values())v_(i,r);for(const i of XS.values())v_(i,r);return!0}function WS(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function ZS(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pr=new qv("app","Firebase",JS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new mo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA=KS;function Qv(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:bd,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Pr.create("bad-app-name",{appName:String(o)});if(i||(i=Bv()),!i)throw Pr.create("no-options");const c=Ec.get(o);if(c){if(vc(i,c.options)&&vc(s,c.config))return c;throw Pr.create("duplicate-app",{appName:o})}const f=new rS(o);for(const g of Sd.values())f.addComponent(g);const m=new tA(i,s,f);return Ec.set(o,m),m}function nA(r=bd){const e=Ec.get(r);if(!e&&r===bd&&Bv())return Qv();if(!e)throw Pr.create("no-app",{appName:r});return e}function Ns(r,e,i){var s;let o=(s=$S[r])!==null&&s!==void 0?s:r;i&&(o+=`-${i}`);const c=o.match(/\s|\//),f=e.match(/\s|\//);if(c||f){const m=[`Unable to register library "${o}" with version "${e}":`];c&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ir.warn(m.join(" "));return}Tc(new mo(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA="firebase-heartbeat-database",rA=1,po="firebase-heartbeat-store";let cd=null;function Yv(){return cd||(cd=yS(iA,rA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(po)}catch(i){console.warn(i)}}}}).catch(r=>{throw Pr.create("idb-open",{originalErrorMessage:r.message})})),cd}async function aA(r){try{const i=(await Yv()).transaction(po),s=await i.objectStore(po).get(Kv(r));return await i.done,s}catch(e){if(e instanceof Gs)ir.warn(e.message);else{const i=Pr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ir.warn(i.message)}}}async function E_(r,e){try{const s=(await Yv()).transaction(po,"readwrite");await s.objectStore(po).put(e,Kv(r)),await s.done}catch(i){if(i instanceof Gs)ir.warn(i.message);else{const s=Pr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});ir.warn(s.message)}}}function Kv(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA=1024,lA=30;class oA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new cA(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=T_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>lA){const f=hA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ir.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=T_(),{heartbeatsToSend:s,unsentEntries:o}=uA(this._heartbeatsCache.heartbeats),c=_c(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return ir.warn(i),""}}}function T_(){return new Date().toISOString().substring(0,10)}function uA(r,e=sA){const i=[];let s=r.slice();for(const o of r){const c=i.find(f=>f.agent===o.agent);if(c){if(c.dates.push(o.date),b_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),b_(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class cA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return X1()?W1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await aA(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return E_(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return E_(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function b_(r){return _c(JSON.stringify({version:2,heartbeats:r})).length}function hA(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(r){Tc(new mo("platform-logger",e=>new ES(e),"PRIVATE")),Tc(new mo("heartbeat",e=>new oA(e),"PRIVATE")),Ns(Td,__,r),Ns(Td,__,"esm2017"),Ns("fire-js","")}fA("");var dA="firebase",mA="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ns(dA,mA,"app");var S_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kr,$v;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,R){function w(){}w.prototype=R.prototype,O.D=R.prototype,O.prototype=new w,O.prototype.constructor=O,O.C=function(j,k,U){for(var C=Array(arguments.length-2),Yt=2;Yt<arguments.length;Yt++)C[Yt-2]=arguments[Yt];return R.prototype[k].apply(j,C)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,R,w){w||(w=0);var j=Array(16);if(typeof R=="string")for(var k=0;16>k;++k)j[k]=R.charCodeAt(w++)|R.charCodeAt(w++)<<8|R.charCodeAt(w++)<<16|R.charCodeAt(w++)<<24;else for(k=0;16>k;++k)j[k]=R[w++]|R[w++]<<8|R[w++]<<16|R[w++]<<24;R=O.g[0],w=O.g[1],k=O.g[2];var U=O.g[3],C=R+(U^w&(k^U))+j[0]+3614090360&4294967295;R=w+(C<<7&4294967295|C>>>25),C=U+(k^R&(w^k))+j[1]+3905402710&4294967295,U=R+(C<<12&4294967295|C>>>20),C=k+(w^U&(R^w))+j[2]+606105819&4294967295,k=U+(C<<17&4294967295|C>>>15),C=w+(R^k&(U^R))+j[3]+3250441966&4294967295,w=k+(C<<22&4294967295|C>>>10),C=R+(U^w&(k^U))+j[4]+4118548399&4294967295,R=w+(C<<7&4294967295|C>>>25),C=U+(k^R&(w^k))+j[5]+1200080426&4294967295,U=R+(C<<12&4294967295|C>>>20),C=k+(w^U&(R^w))+j[6]+2821735955&4294967295,k=U+(C<<17&4294967295|C>>>15),C=w+(R^k&(U^R))+j[7]+4249261313&4294967295,w=k+(C<<22&4294967295|C>>>10),C=R+(U^w&(k^U))+j[8]+1770035416&4294967295,R=w+(C<<7&4294967295|C>>>25),C=U+(k^R&(w^k))+j[9]+2336552879&4294967295,U=R+(C<<12&4294967295|C>>>20),C=k+(w^U&(R^w))+j[10]+4294925233&4294967295,k=U+(C<<17&4294967295|C>>>15),C=w+(R^k&(U^R))+j[11]+2304563134&4294967295,w=k+(C<<22&4294967295|C>>>10),C=R+(U^w&(k^U))+j[12]+1804603682&4294967295,R=w+(C<<7&4294967295|C>>>25),C=U+(k^R&(w^k))+j[13]+4254626195&4294967295,U=R+(C<<12&4294967295|C>>>20),C=k+(w^U&(R^w))+j[14]+2792965006&4294967295,k=U+(C<<17&4294967295|C>>>15),C=w+(R^k&(U^R))+j[15]+1236535329&4294967295,w=k+(C<<22&4294967295|C>>>10),C=R+(k^U&(w^k))+j[1]+4129170786&4294967295,R=w+(C<<5&4294967295|C>>>27),C=U+(w^k&(R^w))+j[6]+3225465664&4294967295,U=R+(C<<9&4294967295|C>>>23),C=k+(R^w&(U^R))+j[11]+643717713&4294967295,k=U+(C<<14&4294967295|C>>>18),C=w+(U^R&(k^U))+j[0]+3921069994&4294967295,w=k+(C<<20&4294967295|C>>>12),C=R+(k^U&(w^k))+j[5]+3593408605&4294967295,R=w+(C<<5&4294967295|C>>>27),C=U+(w^k&(R^w))+j[10]+38016083&4294967295,U=R+(C<<9&4294967295|C>>>23),C=k+(R^w&(U^R))+j[15]+3634488961&4294967295,k=U+(C<<14&4294967295|C>>>18),C=w+(U^R&(k^U))+j[4]+3889429448&4294967295,w=k+(C<<20&4294967295|C>>>12),C=R+(k^U&(w^k))+j[9]+568446438&4294967295,R=w+(C<<5&4294967295|C>>>27),C=U+(w^k&(R^w))+j[14]+3275163606&4294967295,U=R+(C<<9&4294967295|C>>>23),C=k+(R^w&(U^R))+j[3]+4107603335&4294967295,k=U+(C<<14&4294967295|C>>>18),C=w+(U^R&(k^U))+j[8]+1163531501&4294967295,w=k+(C<<20&4294967295|C>>>12),C=R+(k^U&(w^k))+j[13]+2850285829&4294967295,R=w+(C<<5&4294967295|C>>>27),C=U+(w^k&(R^w))+j[2]+4243563512&4294967295,U=R+(C<<9&4294967295|C>>>23),C=k+(R^w&(U^R))+j[7]+1735328473&4294967295,k=U+(C<<14&4294967295|C>>>18),C=w+(U^R&(k^U))+j[12]+2368359562&4294967295,w=k+(C<<20&4294967295|C>>>12),C=R+(w^k^U)+j[5]+4294588738&4294967295,R=w+(C<<4&4294967295|C>>>28),C=U+(R^w^k)+j[8]+2272392833&4294967295,U=R+(C<<11&4294967295|C>>>21),C=k+(U^R^w)+j[11]+1839030562&4294967295,k=U+(C<<16&4294967295|C>>>16),C=w+(k^U^R)+j[14]+4259657740&4294967295,w=k+(C<<23&4294967295|C>>>9),C=R+(w^k^U)+j[1]+2763975236&4294967295,R=w+(C<<4&4294967295|C>>>28),C=U+(R^w^k)+j[4]+1272893353&4294967295,U=R+(C<<11&4294967295|C>>>21),C=k+(U^R^w)+j[7]+4139469664&4294967295,k=U+(C<<16&4294967295|C>>>16),C=w+(k^U^R)+j[10]+3200236656&4294967295,w=k+(C<<23&4294967295|C>>>9),C=R+(w^k^U)+j[13]+681279174&4294967295,R=w+(C<<4&4294967295|C>>>28),C=U+(R^w^k)+j[0]+3936430074&4294967295,U=R+(C<<11&4294967295|C>>>21),C=k+(U^R^w)+j[3]+3572445317&4294967295,k=U+(C<<16&4294967295|C>>>16),C=w+(k^U^R)+j[6]+76029189&4294967295,w=k+(C<<23&4294967295|C>>>9),C=R+(w^k^U)+j[9]+3654602809&4294967295,R=w+(C<<4&4294967295|C>>>28),C=U+(R^w^k)+j[12]+3873151461&4294967295,U=R+(C<<11&4294967295|C>>>21),C=k+(U^R^w)+j[15]+530742520&4294967295,k=U+(C<<16&4294967295|C>>>16),C=w+(k^U^R)+j[2]+3299628645&4294967295,w=k+(C<<23&4294967295|C>>>9),C=R+(k^(w|~U))+j[0]+4096336452&4294967295,R=w+(C<<6&4294967295|C>>>26),C=U+(w^(R|~k))+j[7]+1126891415&4294967295,U=R+(C<<10&4294967295|C>>>22),C=k+(R^(U|~w))+j[14]+2878612391&4294967295,k=U+(C<<15&4294967295|C>>>17),C=w+(U^(k|~R))+j[5]+4237533241&4294967295,w=k+(C<<21&4294967295|C>>>11),C=R+(k^(w|~U))+j[12]+1700485571&4294967295,R=w+(C<<6&4294967295|C>>>26),C=U+(w^(R|~k))+j[3]+2399980690&4294967295,U=R+(C<<10&4294967295|C>>>22),C=k+(R^(U|~w))+j[10]+4293915773&4294967295,k=U+(C<<15&4294967295|C>>>17),C=w+(U^(k|~R))+j[1]+2240044497&4294967295,w=k+(C<<21&4294967295|C>>>11),C=R+(k^(w|~U))+j[8]+1873313359&4294967295,R=w+(C<<6&4294967295|C>>>26),C=U+(w^(R|~k))+j[15]+4264355552&4294967295,U=R+(C<<10&4294967295|C>>>22),C=k+(R^(U|~w))+j[6]+2734768916&4294967295,k=U+(C<<15&4294967295|C>>>17),C=w+(U^(k|~R))+j[13]+1309151649&4294967295,w=k+(C<<21&4294967295|C>>>11),C=R+(k^(w|~U))+j[4]+4149444226&4294967295,R=w+(C<<6&4294967295|C>>>26),C=U+(w^(R|~k))+j[11]+3174756917&4294967295,U=R+(C<<10&4294967295|C>>>22),C=k+(R^(U|~w))+j[2]+718787259&4294967295,k=U+(C<<15&4294967295|C>>>17),C=w+(U^(k|~R))+j[9]+3951481745&4294967295,O.g[0]=O.g[0]+R&4294967295,O.g[1]=O.g[1]+(k+(C<<21&4294967295|C>>>11))&4294967295,O.g[2]=O.g[2]+k&4294967295,O.g[3]=O.g[3]+U&4294967295}s.prototype.u=function(O,R){R===void 0&&(R=O.length);for(var w=R-this.blockSize,j=this.B,k=this.h,U=0;U<R;){if(k==0)for(;U<=w;)o(this,O,U),U+=this.blockSize;if(typeof O=="string"){for(;U<R;)if(j[k++]=O.charCodeAt(U++),k==this.blockSize){o(this,j),k=0;break}}else for(;U<R;)if(j[k++]=O[U++],k==this.blockSize){o(this,j),k=0;break}}this.h=k,this.o+=R},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var R=1;R<O.length-8;++R)O[R]=0;var w=8*this.o;for(R=O.length-8;R<O.length;++R)O[R]=w&255,w/=256;for(this.u(O),O=Array(16),R=w=0;4>R;++R)for(var j=0;32>j;j+=8)O[w++]=this.g[R]>>>j&255;return O};function c(O,R){var w=m;return Object.prototype.hasOwnProperty.call(w,O)?w[O]:w[O]=R(O)}function f(O,R){this.h=R;for(var w=[],j=!0,k=O.length-1;0<=k;k--){var U=O[k]|0;j&&U==R||(w[k]=U,j=!1)}this.g=w}var m={};function g(O){return-128<=O&&128>O?c(O,function(R){return new f([R|0],0>R?-1:0)}):new f([O|0],0>O?-1:0)}function y(O){if(isNaN(O)||!isFinite(O))return S;if(0>O)return N(y(-O));for(var R=[],w=1,j=0;O>=w;j++)R[j]=O/w|0,w*=4294967296;return new f(R,0)}function E(O,R){if(O.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(O.charAt(0)=="-")return N(E(O.substring(1),R));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=y(Math.pow(R,8)),j=S,k=0;k<O.length;k+=8){var U=Math.min(8,O.length-k),C=parseInt(O.substring(k,k+U),R);8>U?(U=y(Math.pow(R,U)),j=j.j(U).add(y(C))):(j=j.j(w),j=j.add(y(C)))}return j}var S=g(0),x=g(1),D=g(16777216);r=f.prototype,r.m=function(){if(G(this))return-N(this).m();for(var O=0,R=1,w=0;w<this.g.length;w++){var j=this.i(w);O+=(0<=j?j:4294967296+j)*R,R*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(V(this))return"0";if(G(this))return"-"+N(this).toString(O);for(var R=y(Math.pow(O,6)),w=this,j="";;){var k=ct(w,R).g;w=z(w,k.j(R));var U=((0<w.g.length?w.g[0]:w.h)>>>0).toString(O);if(w=k,V(w))return U+j;for(;6>U.length;)U="0"+U;j=U+j}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function V(O){if(O.h!=0)return!1;for(var R=0;R<O.g.length;R++)if(O.g[R]!=0)return!1;return!0}function G(O){return O.h==-1}r.l=function(O){return O=z(this,O),G(O)?-1:V(O)?0:1};function N(O){for(var R=O.g.length,w=[],j=0;j<R;j++)w[j]=~O.g[j];return new f(w,~O.h).add(x)}r.abs=function(){return G(this)?N(this):this},r.add=function(O){for(var R=Math.max(this.g.length,O.g.length),w=[],j=0,k=0;k<=R;k++){var U=j+(this.i(k)&65535)+(O.i(k)&65535),C=(U>>>16)+(this.i(k)>>>16)+(O.i(k)>>>16);j=C>>>16,U&=65535,C&=65535,w[k]=C<<16|U}return new f(w,w[w.length-1]&-2147483648?-1:0)};function z(O,R){return O.add(N(R))}r.j=function(O){if(V(this)||V(O))return S;if(G(this))return G(O)?N(this).j(N(O)):N(N(this).j(O));if(G(O))return N(this.j(N(O)));if(0>this.l(D)&&0>O.l(D))return y(this.m()*O.m());for(var R=this.g.length+O.g.length,w=[],j=0;j<2*R;j++)w[j]=0;for(j=0;j<this.g.length;j++)for(var k=0;k<O.g.length;k++){var U=this.i(j)>>>16,C=this.i(j)&65535,Yt=O.i(k)>>>16,It=O.i(k)&65535;w[2*j+2*k]+=C*It,Y(w,2*j+2*k),w[2*j+2*k+1]+=U*It,Y(w,2*j+2*k+1),w[2*j+2*k+1]+=C*Yt,Y(w,2*j+2*k+1),w[2*j+2*k+2]+=U*Yt,Y(w,2*j+2*k+2)}for(j=0;j<R;j++)w[j]=w[2*j+1]<<16|w[2*j];for(j=R;j<2*R;j++)w[j]=0;return new f(w,0)};function Y(O,R){for(;(O[R]&65535)!=O[R];)O[R+1]+=O[R]>>>16,O[R]&=65535,R++}function B(O,R){this.g=O,this.h=R}function ct(O,R){if(V(R))throw Error("division by zero");if(V(O))return new B(S,S);if(G(O))return R=ct(N(O),R),new B(N(R.g),N(R.h));if(G(R))return R=ct(O,N(R)),new B(N(R.g),R.h);if(30<O.g.length){if(G(O)||G(R))throw Error("slowDivide_ only works with positive integers.");for(var w=x,j=R;0>=j.l(O);)w=ot(w),j=ot(j);var k=pt(w,1),U=pt(j,1);for(j=pt(j,2),w=pt(w,2);!V(j);){var C=U.add(j);0>=C.l(O)&&(k=k.add(w),U=C),j=pt(j,1),w=pt(w,1)}return R=z(O,k.j(R)),new B(k,R)}for(k=S;0<=O.l(R);){for(w=Math.max(1,Math.floor(O.m()/R.m())),j=Math.ceil(Math.log(w)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),U=y(w),C=U.j(R);G(C)||0<C.l(O);)w-=j,U=y(w),C=U.j(R);V(U)&&(U=x),k=k.add(U),O=z(O,C)}return new B(k,O)}r.A=function(O){return ct(this,O).h},r.and=function(O){for(var R=Math.max(this.g.length,O.g.length),w=[],j=0;j<R;j++)w[j]=this.i(j)&O.i(j);return new f(w,this.h&O.h)},r.or=function(O){for(var R=Math.max(this.g.length,O.g.length),w=[],j=0;j<R;j++)w[j]=this.i(j)|O.i(j);return new f(w,this.h|O.h)},r.xor=function(O){for(var R=Math.max(this.g.length,O.g.length),w=[],j=0;j<R;j++)w[j]=this.i(j)^O.i(j);return new f(w,this.h^O.h)};function ot(O){for(var R=O.g.length+1,w=[],j=0;j<R;j++)w[j]=O.i(j)<<1|O.i(j-1)>>>31;return new f(w,O.h)}function pt(O,R){var w=R>>5;R%=32;for(var j=O.g.length-w,k=[],U=0;U<j;U++)k[U]=0<R?O.i(U+w)>>>R|O.i(U+w+1)<<32-R:O.i(U+w);return new f(k,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,$v=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,kr=f}).apply(typeof S_<"u"?S_:typeof self<"u"?self:typeof window<"u"?window:{});var rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xv,ro,Wv,hc,Ad,Zv,Jv,t0;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,_){return u==Array.prototype||u==Object.prototype||(u[p]=_.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof rc=="object"&&rc];for(var p=0;p<u.length;++p){var _=u[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=i(this);function o(u,p){if(p)t:{var _=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var H=u[A];if(!(H in _))break t;_=_[H]}u=u[u.length-1],A=_[u],p=p(A),p!=A&&p!=null&&e(_,u,{configurable:!0,writable:!0,value:p})}}function c(u,p){u instanceof String&&(u+="");var _=0,A=!1,H={next:function(){if(!A&&_<u.length){var Z=_++;return{value:p(Z,u[Z]),done:!1}}return A=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(u){return u||function(){return c(this,function(p,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function g(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function y(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function E(u,p,_){return u.call.apply(u.bind,arguments)}function S(u,p,_){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,A),u.apply(p,H)}}return function(){return u.apply(p,arguments)}}function x(u,p,_){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,x.apply(null,arguments)}function D(u,p){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function V(u,p){function _(){}_.prototype=p.prototype,u.aa=p.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(A,H,Z){for(var ht=Array(arguments.length-2),qt=2;qt<arguments.length;qt++)ht[qt-2]=arguments[qt];return p.prototype[H].apply(A,ht)}}function G(u){const p=u.length;if(0<p){const _=Array(p);for(let A=0;A<p;A++)_[A]=u[A];return _}return[]}function N(u,p){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(g(A)){const H=u.length||0,Z=A.length||0;u.length=H+Z;for(let ht=0;ht<Z;ht++)u[H+ht]=A[ht]}else u.push(A)}}class z{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function Y(u){return/^[\s\xa0]*$/.test(u)}function B(){var u=m.navigator;return u&&(u=u.userAgent)?u:""}function ct(u){return ct[" "](u),u}ct[" "]=function(){};var ot=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function pt(u,p,_){for(const A in u)p.call(_,u[A],A,u)}function O(u,p){for(const _ in u)p.call(void 0,u[_],_,u)}function R(u){const p={};for(const _ in u)p[_]=u[_];return p}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(u,p){let _,A;for(let H=1;H<arguments.length;H++){A=arguments[H];for(_ in A)u[_]=A[_];for(let Z=0;Z<w.length;Z++)_=w[Z],Object.prototype.hasOwnProperty.call(A,_)&&(u[_]=A[_])}}function k(u){var p=1;u=u.split(":");const _=[];for(;0<p&&u.length;)_.push(u.shift()),p--;return u.length&&_.push(u.join(":")),_}function U(u){m.setTimeout(()=>{throw u},0)}function C(){var u=mt;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class Yt{constructor(){this.h=this.g=null}add(p,_){const A=It.get();A.set(p,_),this.h?this.h.next=A:this.g=A,this.h=A}}var It=new z(()=>new W,u=>u.reset());class W{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let $,lt=!1,mt=new Yt,M=()=>{const u=m.Promise.resolve(void 0);$=()=>{u.then(J)}};var J=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(_){U(_)}var p=It;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}lt=!1};function ut(){this.s=this.s,this.C=this.C}ut.prototype.s=!1,ut.prototype.ma=function(){this.s||(this.s=!0,this.N())},ut.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function it(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}it.prototype.h=function(){this.defaultPrevented=!0};var dt=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};m.addEventListener("test",_,p),m.removeEventListener("test",_,p)}catch{}return u}();function Ct(u,p){if(it.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(ot){t:{try{ct(p.nodeName);var H=!0;break t}catch{}H=!1}H||(p=null)}}else _=="mouseover"?p=u.fromElement:_=="mouseout"&&(p=u.toElement);this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:St[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ct.aa.h.call(this)}}V(Ct,it);var St={2:"touch",3:"pen",4:"mouse"};Ct.prototype.h=function(){Ct.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var fe="closure_listenable_"+(1e6*Math.random()|0),Kt=0;function Vn(u,p,_,A,H){this.listener=u,this.proxy=null,this.src=p,this.type=_,this.capture=!!A,this.ha=H,this.key=++Kt,this.da=this.fa=!1}function ii(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Qn(u){this.src=u,this.g={},this.h=0}Qn.prototype.add=function(u,p,_,A,H){var Z=u.toString();u=this.g[Z],u||(u=this.g[Z]=[],this.h++);var ht=wi(u,p,A,H);return-1<ht?(p=u[ht],_||(p.fa=!1)):(p=new Vn(p,this.src,Z,!!A,H),p.fa=_,u.push(p)),p};function Ri(u,p){var _=p.type;if(_ in u.g){var A=u.g[_],H=Array.prototype.indexOf.call(A,p,void 0),Z;(Z=0<=H)&&Array.prototype.splice.call(A,H,1),Z&&(ii(p),u.g[_].length==0&&(delete u.g[_],u.h--))}}function wi(u,p,_,A){for(var H=0;H<u.length;++H){var Z=u[H];if(!Z.da&&Z.listener==p&&Z.capture==!!_&&Z.ha==A)return H}return-1}var ri="closure_lm_"+(1e6*Math.random()|0),lr={};function nt(u,p,_,A,H){if(Array.isArray(p)){for(var Z=0;Z<p.length;Z++)nt(u,p[Z],_,A,H);return null}return _=de(_),u&&u[fe]?u.K(p,_,y(A)?!!A.capture:!1,H):ft(u,p,_,!1,A,H)}function ft(u,p,_,A,H,Z){if(!p)throw Error("Invalid event type");var ht=y(H)?!!H.capture:!!H,qt=Xt(u);if(qt||(u[ri]=qt=new Qn(u)),_=qt.add(p,_,A,ht,Z),_.proxy)return _;if(A=vt(),_.proxy=A,A.src=u,A.listener=_,u.addEventListener)dt||(H=ht),H===void 0&&(H=!1),u.addEventListener(p.toString(),A,H);else if(u.attachEvent)u.attachEvent(be(p.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function vt(){function u(_){return p.call(u.src,u.listener,_)}const p=ie;return u}function Mt(u,p,_,A,H){if(Array.isArray(p))for(var Z=0;Z<p.length;Z++)Mt(u,p[Z],_,A,H);else A=y(A)?!!A.capture:!!A,_=de(_),u&&u[fe]?(u=u.i,p=String(p).toString(),p in u.g&&(Z=u.g[p],_=wi(Z,_,A,H),-1<_&&(ii(Z[_]),Array.prototype.splice.call(Z,_,1),Z.length==0&&(delete u.g[p],u.h--)))):u&&(u=Xt(u))&&(p=u.g[p.toString()],u=-1,p&&(u=wi(p,_,A,H)),(_=-1<u?p[u]:null)&&ue(_))}function ue(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[fe])Ri(p.i,u);else{var _=u.type,A=u.proxy;p.removeEventListener?p.removeEventListener(_,A,u.capture):p.detachEvent?p.detachEvent(be(_),A):p.addListener&&p.removeListener&&p.removeListener(A),(_=Xt(p))?(Ri(_,u),_.h==0&&(_.src=null,p[ri]=null)):ii(u)}}}function be(u){return u in lr?lr[u]:lr[u]="on"+u}function ie(u,p){if(u.da)u=!0;else{p=new Ct(p,this);var _=u.listener,A=u.ha||u.src;u.fa&&ue(u),u=_.call(A,p)}return u}function Xt(u){return u=u[ri],u instanceof Qn?u:null}var Zt="__closure_events_fn_"+(1e9*Math.random()>>>0);function de(u){return typeof u=="function"?u:(u[Zt]||(u[Zt]=function(p){return u.handleEvent(p)}),u[Zt])}function Bt(){ut.call(this),this.i=new Qn(this),this.M=this,this.F=null}V(Bt,ut),Bt.prototype[fe]=!0,Bt.prototype.removeEventListener=function(u,p,_,A){Mt(this,u,p,_,A)};function Ot(u,p){var _,A=u.F;if(A)for(_=[];A;A=A.F)_.push(A);if(u=u.M,A=p.type||p,typeof p=="string")p=new it(p,u);else if(p instanceof it)p.target=p.target||u;else{var H=p;p=new it(A,u),j(p,H)}if(H=!0,_)for(var Z=_.length-1;0<=Z;Z--){var ht=p.g=_[Z];H=Oe(ht,A,!0,p)&&H}if(ht=p.g=u,H=Oe(ht,A,!0,p)&&H,H=Oe(ht,A,!1,p)&&H,_)for(Z=0;Z<_.length;Z++)ht=p.g=_[Z],H=Oe(ht,A,!1,p)&&H}Bt.prototype.N=function(){if(Bt.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var _=u.g[p],A=0;A<_.length;A++)ii(_[A]);delete u.g[p],u.h--}}this.F=null},Bt.prototype.K=function(u,p,_,A){return this.i.add(String(u),p,!1,_,A)},Bt.prototype.L=function(u,p,_,A){return this.i.add(String(u),p,!0,_,A)};function Oe(u,p,_,A){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var H=!0,Z=0;Z<p.length;++Z){var ht=p[Z];if(ht&&!ht.da&&ht.capture==_){var qt=ht.listener,Ue=ht.ha||ht.src;ht.fa&&Ri(u.i,ht),H=qt.call(Ue,A)!==!1&&H}}return H&&!A.defaultPrevented}function we(u,p,_){if(typeof u=="function")_&&(u=x(u,_));else if(u&&typeof u.handleEvent=="function")u=x(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:m.setTimeout(u,p||0)}function jo(u){u.g=we(()=>{u.g=null,u.i&&(u.i=!1,jo(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class th extends ut{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:jo(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $r(u){ut.call(this),this.h=u,this.g={}}V($r,ut);var Xr=[];function Wr(u){pt(u.g,function(p,_){this.g.hasOwnProperty(_)&&ue(p)},u),u.g={}}$r.prototype.N=function(){$r.aa.N.call(this),Wr(this)},$r.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yn=m.JSON.stringify,Pa=m.JSON.parse,Zr=class{stringify(u){return m.JSON.stringify(u,void 0)}parse(u){return m.JSON.parse(u,void 0)}};function $s(){}$s.prototype.h=null;function Xs(u){return u.h||(u.h=u.i())}function Ws(){}var Ci={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Di(){it.call(this,"d")}V(Di,it);function Zs(){it.call(this,"c")}V(Zs,it);var ai={},Js=null;function or(){return Js=Js||new Bt}ai.La="serverreachability";function ka(u){it.call(this,ai.La,u)}V(ka,it);function ur(u){const p=or();Ot(p,new ka(p))}ai.STAT_EVENT="statevent";function Uo(u,p){it.call(this,ai.STAT_EVENT,u),this.stat=p}V(Uo,it);function me(u){const p=or();Ot(p,new Uo(p,u))}ai.Ma="timingevent";function je(u,p){it.call(this,ai.Ma,u),this.size=p}V(je,it);function Ce(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){u()},p)}function Nn(){this.g=!0}Nn.prototype.xa=function(){this.g=!1};function tl(u,p,_,A,H,Z){u.info(function(){if(u.g)if(Z)for(var ht="",qt=Z.split("&"),Ue=0;Ue<qt.length;Ue++){var Ht=qt[Ue].split("=");if(1<Ht.length){var He=Ht[0];Ht=Ht[1];var Le=He.split("_");ht=2<=Le.length&&Le[1]=="type"?ht+(He+"="+Ht+"&"):ht+(He+"=redacted&")}}else ht=null;else ht=Z;return"XMLHTTP REQ ("+A+") [attempt "+H+"]: "+p+`
`+_+`
`+ht})}function eh(u,p,_,A,H,Z,ht){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+H+"]: "+p+`
`+_+`
`+Z+" "+ht})}function cr(u,p,_,A){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+Jr(u,_)+(A?" "+A:"")})}function Lo(u,p){u.info(function(){return"TIMEOUT: "+p})}Nn.prototype.info=function(){};function Jr(u,p){if(!u.g)return p;if(!p)return null;try{var _=JSON.parse(p);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var A=_[u];if(!(2>A.length)){var H=A[1];if(Array.isArray(H)&&!(1>H.length)){var Z=H[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var ht=1;ht<H.length;ht++)H[ht]=""}}}}return Yn(_)}catch{return p}}var hr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ii={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},si;function li(){}V(li,$s),li.prototype.g=function(){return new XMLHttpRequest},li.prototype.i=function(){return{}},si=new li;function cn(u,p,_,A){this.j=u,this.i=p,this.l=_,this.R=A||1,this.U=new $r(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Se}function Se(){this.i=null,this.g="",this.h=!1}var el={},za={};function Kn(u,p,_){u.L=1,u.v=ra(Tn(p)),u.m=_,u.P=!0,Vi(u,null)}function Vi(u,p){u.F=Date.now(),ta(u),u.A=Tn(u.v);var _=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),ll(_.i,"t",A),u.C=0,_=u.j.J,u.h=new Se,u.g=Jo(u.j,_?p:null,!u.m),0<u.O&&(u.M=new th(x(u.Y,u,u.g),u.O)),p=u.U,_=u.g,A=u.ca;var H="readystatechange";Array.isArray(H)||(H&&(Xr[0]=H.toString()),H=Xr);for(var Z=0;Z<H.length;Z++){var ht=nt(_,H[Z],A||p.handleEvent,!1,p.h||p);if(!ht)break;p.g[ht.key]=ht}p=u.H?R(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),ur(),tl(u.i,u.u,u.A,u.l,u.R,u.m)}cn.prototype.ca=function(u){u=u.target;const p=this.M;p&&Un(u)==3?p.j():this.Y(u)},cn.prototype.Y=function(u){try{if(u==this.g)t:{const Le=Un(this.g);var p=this.g.Ba();const ki=this.g.Z();if(!(3>Le)&&(Le!=3||this.g&&(this.h.h||this.g.oa()||Fo(this.g)))){this.J||Le!=4||p==7||(p==8||0>=ki?ur(3):ur(2)),fr(this);var _=this.g.Z();this.X=_;e:if(Po(this)){var A=Fo(this.g);u="";var H=A.length,Z=Un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ke(this),oi(this);var ht="";break e}this.h.i=new m.TextDecoder}for(p=0;p<H;p++)this.h.h=!0,u+=this.h.i.decode(A[p],{stream:!(Z&&p==H-1)});A.length=0,this.h.g+=u,this.C=0,ht=this.h.g}else ht=this.g.oa();if(this.o=_==200,eh(this.i,this.u,this.A,this.l,this.R,Le,_),this.o){if(this.T&&!this.K){e:{if(this.g){var qt,Ue=this.g;if((qt=Ue.g?Ue.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(qt)){var Ht=qt;break e}}Ht=null}if(_=Ht)cr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ea(this,_);else{this.o=!1,this.s=3,me(12),Ke(this),oi(this);break t}}if(this.P){_=!0;let $e;for(;!this.J&&this.C<ht.length;)if($e=ko(this,ht),$e==za){Le==4&&(this.s=4,me(14),_=!1),cr(this.i,this.l,null,"[Incomplete Response]");break}else if($e==el){this.s=4,me(15),cr(this.i,this.l,ht,"[Invalid Chunk]"),_=!1;break}else cr(this.i,this.l,$e,null),ea(this,$e);if(Po(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Le!=4||ht.length!=0||this.h.h||(this.s=1,me(16),_=!1),this.o=this.o&&_,!_)cr(this.i,this.l,ht,"[Invalid Chunked Response]"),Ke(this),oi(this);else if(0<ht.length&&!this.W){this.W=!0;var He=this.j;He.g==this&&He.ba&&!He.M&&(He.j.info("Great, no buffering proxy detected. Bytes received: "+ht.length),fa(He),He.M=!0,me(11))}}else cr(this.i,this.l,ht,null),ea(this,ht);Le==4&&Ke(this),this.o&&!this.J&&(Le==4?Xo(this.j,this):(this.o=!1,ta(this)))}else sh(this.g),_==400&&0<ht.indexOf("Unknown SID")?(this.s=3,me(12)):(this.s=0,me(13)),Ke(this),oi(this)}}}catch{}finally{}};function Po(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function ko(u,p){var _=u.C,A=p.indexOf(`
`,_);return A==-1?za:(_=Number(p.substring(_,A)),isNaN(_)?el:(A+=1,A+_>p.length?za:(p=p.slice(A,A+_),u.C=A+_,p)))}cn.prototype.cancel=function(){this.J=!0,Ke(this)};function ta(u){u.S=Date.now()+u.I,zo(u,u.I)}function zo(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Ce(x(u.ba,u),p)}function fr(u){u.B&&(m.clearTimeout(u.B),u.B=null)}cn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Lo(this.i,this.A),this.L!=2&&(ur(),me(17)),Ke(this),this.s=2,oi(this)):zo(this,this.S-u)};function oi(u){u.j.G==0||u.J||Xo(u.j,u)}function Ke(u){fr(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,Wr(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function ea(u,p){try{var _=u.j;if(_.G!=0&&(_.g==u||nl(_.h,u))){if(!u.K&&nl(_.h,u)&&_.G==3){try{var A=_.Da.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var H=A;if(H[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Za(_),Xa(_);else break t;fl(_),me(18)}}else _.za=H[1],0<_.za-_.T&&37500>H[2]&&_.F&&_.v==0&&!_.C&&(_.C=Ce(x(_.Za,_),6e3));if(1>=qa(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Pi(_,11)}else if((u.K||_.g==u)&&Za(_),!Y(p))for(H=_.Da.g.parse(p),p=0;p<H.length;p++){let Ht=H[p];if(_.T=Ht[0],Ht=Ht[1],_.G==2)if(Ht[0]=="c"){_.K=Ht[1],_.ia=Ht[2];const He=Ht[3];He!=null&&(_.la=He,_.j.info("VER="+_.la));const Le=Ht[4];Le!=null&&(_.Aa=Le,_.j.info("SVER="+_.Aa));const ki=Ht[5];ki!=null&&typeof ki=="number"&&0<ki&&(A=1.5*ki,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const $e=u.g;if($e){const pi=$e.g?$e.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pi){var Z=A.h;Z.g||pi.indexOf("spdy")==-1&&pi.indexOf("quic")==-1&&pi.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(Ha(Z,Z.h),Z.h=null))}if(A.D){const ml=$e.g?$e.g.getResponseHeader("X-HTTP-Session-Id"):null;ml&&(A.ya=ml,re(A.I,A.D,ml))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var ht=u;if(A.qa=Zo(A,A.J?A.ia:null,A.W),ht.K){hn(A.h,ht);var qt=ht,Ue=A.L;Ue&&(qt.I=Ue),qt.B&&(fr(qt),ta(qt)),A.g=ht}else Ko(A);0<_.i.length&&Wa(_)}else Ht[0]!="stop"&&Ht[0]!="close"||Pi(_,7);else _.G==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?Pi(_,7):cl(_):Ht[0]!="noop"&&_.l&&_.l.ta(Ht),_.v=0)}}ur(4)}catch{}}var Bo=class{constructor(u,p){this.g=u,this.map=p}};function Ni(u){this.l=u||10,m.PerformanceNavigationTiming?(u=m.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ba(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function qa(u){return u.h?1:u.g?u.g.size:0}function nl(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Ha(u,p){u.g?u.g.add(p):u.h=p}function hn(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Ni.prototype.cancel=function(){if(this.i=il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function il(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const _ of u.g.values())p=p.concat(_.D);return p}return G(u.i)}function nh(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(g(u)){for(var p=[],_=u.length,A=0;A<_;A++)p.push(u[A]);return p}p=[],_=0;for(A in u)p[_++]=u[A];return p}function Ga(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(g(u)||typeof u=="string"){var p=[];u=u.length;for(var _=0;_<u;_++)p.push(_);return p}p=[],_=0;for(const A in u)p[_++]=A;return p}}}function rl(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(g(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var _=Ga(u),A=nh(u),H=A.length,Z=0;Z<H;Z++)p.call(void 0,A[Z],_&&_[Z],u)}var na=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ih(u,p){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var A=u[_].indexOf("="),H=null;if(0<=A){var Z=u[_].substring(0,A);H=u[_].substring(A+1)}else Z=u[_];p(Z,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function De(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof De){this.h=u.h,ia(this,u.j),this.o=u.o,this.g=u.g,dr(this,u.s),this.l=u.l;var p=u.i,_=new Oi;_.i=p.i,p.g&&(_.g=new Map(p.g),_.h=p.h),Mi(this,_),this.m=u.m}else u&&(p=String(u).match(na))?(this.h=!1,ia(this,p[1]||"",!0),this.o=Mn(p[2]||""),this.g=Mn(p[3]||"",!0),dr(this,p[4]),this.l=Mn(p[5]||"",!0),Mi(this,p[6]||"",!0),this.m=Mn(p[7]||"")):(this.h=!1,this.i=new Oi(null,this.h))}De.prototype.toString=function(){var u=[],p=this.j;p&&u.push(aa(p,al,!0),":");var _=this.g;return(_||p=="file")&&(u.push("//"),(p=this.o)&&u.push(aa(p,al,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(aa(_,_.charAt(0)=="/"?rh:sl,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",aa(_,Fa)),u.join("")};function Tn(u){return new De(u)}function ia(u,p,_){u.j=_?Mn(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function dr(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function Mi(u,p,_){p instanceof Oi?(u.i=p,Ho(u.i,u.h)):(_||(p=aa(p,ah)),u.i=new Oi(p,u.h))}function re(u,p,_){u.i.set(p,_)}function ra(u){return re(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Mn(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function aa(u,p,_){return typeof u=="string"?(u=encodeURI(u).replace(p,qo),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function qo(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var al=/[#\/\?@]/g,sl=/[#\?:]/g,rh=/[#\?]/g,ah=/[#\?@]/g,Fa=/#/g;function Oi(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function On(u){u.g||(u.g=new Map,u.h=0,u.i&&ih(u.i,function(p,_){u.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}r=Oi.prototype,r.add=function(u,p){On(this),this.i=null,u=ui(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(p),this.h+=1,this};function ji(u,p){On(u),p=ui(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Ui(u,p){return On(u),p=ui(u,p),u.g.has(p)}r.forEach=function(u,p){On(this),this.g.forEach(function(_,A){_.forEach(function(H){u.call(p,H,A,this)},this)},this)},r.na=function(){On(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),_=[];for(let A=0;A<p.length;A++){const H=u[A];for(let Z=0;Z<H.length;Z++)_.push(p[A])}return _},r.V=function(u){On(this);let p=[];if(typeof u=="string")Ui(this,u)&&(p=p.concat(this.g.get(ui(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)p=p.concat(u[_])}return p},r.set=function(u,p){return On(this),this.i=null,u=ui(this,u),Ui(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},r.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function ll(u,p,_){ji(u,p),0<_.length&&(u.i=null,u.g.set(ui(u,p),G(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var _=0;_<p.length;_++){var A=p[_];const Z=encodeURIComponent(String(A)),ht=this.V(A);for(A=0;A<ht.length;A++){var H=Z;ht[A]!==""&&(H+="="+encodeURIComponent(String(ht[A]))),u.push(H)}}return this.i=u.join("&")};function ui(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function Ho(u,p){p&&!u.j&&(On(u),u.i=null,u.g.forEach(function(_,A){var H=A.toLowerCase();A!=H&&(ji(this,A),ll(this,H,_))},u)),u.j=p}function sa(u,p){const _=new Nn;if(m.Image){const A=new Image;A.onload=D(jn,_,"TestLoadImage: loaded",!0,p,A),A.onerror=D(jn,_,"TestLoadImage: error",!1,p,A),A.onabort=D(jn,_,"TestLoadImage: abort",!1,p,A),A.ontimeout=D(jn,_,"TestLoadImage: timeout",!1,p,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else p(!1)}function $n(u,p){const _=new Nn,A=new AbortController,H=setTimeout(()=>{A.abort(),jn(_,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:A.signal}).then(Z=>{clearTimeout(H),Z.ok?jn(_,"TestPingServer: ok",!0,p):jn(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(H),jn(_,"TestPingServer: error",!1,p)})}function jn(u,p,_,A,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),A(_)}catch{}}function la(){this.g=new Zr}function ci(u,p,_){const A=_||"";try{rl(u,function(H,Z){let ht=H;y(H)&&(ht=Yn(H)),p.push(A+Z+"="+encodeURIComponent(ht))})}catch(H){throw p.push(A+"type="+encodeURIComponent("_badmap")),H}}function mr(u){this.l=u.Ub||null,this.j=u.eb||!1}V(mr,$s),mr.prototype.g=function(){return new Li(this.l,this.j)},mr.prototype.i=function(u){return function(){return u}}({});function Li(u,p){Bt.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(Li,Bt),r=Li.prototype,r.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,fi(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||m).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hi(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,fi(this)),this.g&&(this.readyState=3,fi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ol(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function ol(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?hi(this):fi(this),this.readyState==3&&ol(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,hi(this))},r.Qa=function(u){this.g&&(this.response=u,hi(this))},r.ga=function(){this.g&&hi(this)};function hi(u){u.readyState=4,u.l=null,u.j=null,u.v=null,fi(u)}r.setRequestHeader=function(u,p){this.u.append(u,p)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=p.next();return u.join(`\r
`)};function fi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Li.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ul(u){let p="";return pt(u,function(_,A){p+=A,p+=":",p+=_,p+=`\r
`}),p}function qe(u,p,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=ul(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):re(u,p,_))}function Jt(u){Bt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(Jt,Bt);var Qa=/^https?$/i,oa=["POST","PUT"];r=Jt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,p,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():si.g(),this.v=this.o?Xs(this.o):Xs(si),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(Z){Go(this,Z);return}if(u=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var H in A)_.set(H,A[H]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Z of A.keys())_.set(Z,A.get(Z));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(Z=>Z.toLowerCase()=="content-type"),H=m.FormData&&u instanceof m.FormData,!(0<=Array.prototype.indexOf.call(oa,p,void 0))||A||H||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,ht]of _)this.g.setRequestHeader(Z,ht);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ua(this),this.u=!0,this.g.send(u),this.u=!1}catch(Z){Go(this,Z)}};function Go(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,Ya(u),di(u)}function Ya(u){u.A||(u.A=!0,Ot(u,"complete"),Ot(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ot(this,"complete"),Ot(this,"abort"),di(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),di(this,!0)),Jt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ka(this):this.bb())},r.bb=function(){Ka(this)};function Ka(u){if(u.h&&typeof f<"u"&&(!u.v[1]||Un(u)!=4||u.Z()!=2)){if(u.u&&Un(u)==4)we(u.Ea,0,u);else if(Ot(u,"readystatechange"),Un(u)==4){u.h=!1;try{const ht=u.Z();t:switch(ht){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var _;if(!(_=p)){var A;if(A=ht===0){var H=String(u.D).match(na)[1]||null;!H&&m.self&&m.self.location&&(H=m.self.location.protocol.slice(0,-1)),A=!Qa.test(H?H.toLowerCase():"")}_=A}if(_)Ot(u,"complete"),Ot(u,"success");else{u.m=6;try{var Z=2<Un(u)?u.g.statusText:""}catch{Z=""}u.l=Z+" ["+u.Z()+"]",Ya(u)}}finally{di(u)}}}}function di(u,p){if(u.g){ua(u);const _=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||Ot(u,"ready");try{_.onreadystatechange=A}catch{}}}function ua(u){u.I&&(m.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function Un(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<Un(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),Pa(p)}};function Fo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function sh(u){const p={};u=(u.g&&2<=Un(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(Y(u[A]))continue;var _=k(u[A]);const H=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Z=p[H]||[];p[H]=Z,Z.push(_)}O(p,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ca(u,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||p}function $a(u){this.Aa=0,this.i=[],this.j=new Nn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ca("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ca("baseRetryDelayMs",5e3,u),this.cb=ca("retryDelaySeedMs",1e4,u),this.Wa=ca("forwardChannelMaxRetries",2,u),this.wa=ca("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ni(u&&u.concurrentRequestLimit),this.Da=new la,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=$a.prototype,r.la=8,r.G=1,r.connect=function(u,p,_,A){me(0),this.W=u,this.H=p||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=Zo(this,null,this.W),Wa(this)};function cl(u){if(Qo(u),u.G==3){var p=u.U++,_=Tn(u.I);if(re(_,"SID",u.K),re(_,"RID",p),re(_,"TYPE","terminate"),ha(u,_),p=new cn(u,u.j,p),p.L=2,p.v=ra(Tn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(p.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=p.v,_=!0),_||(p.g=Jo(p.j,null),p.g.ea(p.v)),p.F=Date.now(),ta(p)}Wo(u)}function Xa(u){u.g&&(fa(u),u.g.cancel(),u.g=null)}function Qo(u){Xa(u),u.u&&(m.clearTimeout(u.u),u.u=null),Za(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&m.clearTimeout(u.s),u.s=null)}function Wa(u){if(!Ba(u.h)&&!u.s){u.s=!0;var p=u.Ga;$||M(),lt||($(),lt=!0),mt.add(p,u),u.B=0}}function lh(u,p){return qa(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Ce(x(u.Ga,u,p),dl(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const H=new cn(this,this.j,u);let Z=this.o;if(this.S&&(Z?(Z=R(Z),j(Z,this.S)):Z=this.S),this.m!==null||this.O||(H.H=Z,Z=null),this.P)t:{for(var p=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(p+=A,4096<p){p=_;break t}if(p===4096||_===this.i.length-1){p=_+1;break t}}p=1e3}else p=1e3;p=Yo(this,H,p),_=Tn(this.I),re(_,"RID",u),re(_,"CVER",22),this.D&&re(_,"X-HTTP-Session-Id",this.D),ha(this,_),Z&&(this.O?p="headers="+encodeURIComponent(String(ul(Z)))+"&"+p:this.m&&qe(_,this.m,Z)),Ha(this.h,H),this.Ua&&re(_,"TYPE","init"),this.P?(re(_,"$req",p),re(_,"SID","null"),H.T=!0,Kn(H,_,null)):Kn(H,_,p),this.G=2}}else this.G==3&&(u?hl(this,u):this.i.length==0||Ba(this.h)||hl(this))};function hl(u,p){var _;p?_=p.l:_=u.U++;const A=Tn(u.I);re(A,"SID",u.K),re(A,"RID",_),re(A,"AID",u.T),ha(u,A),u.m&&u.o&&qe(A,u.m,u.o),_=new cn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),p&&(u.i=p.D.concat(u.i)),p=Yo(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ha(u.h,_),Kn(_,A,p)}function ha(u,p){u.H&&pt(u.H,function(_,A){re(p,A,_)}),u.l&&rl({},function(_,A){re(p,A,_)})}function Yo(u,p,_){_=Math.min(u.i.length,_);var A=u.l?x(u.l.Na,u.l,u):null;t:{var H=u.i;let Z=-1;for(;;){const ht=["count="+_];Z==-1?0<_?(Z=H[0].g,ht.push("ofs="+Z)):Z=0:ht.push("ofs="+Z);let qt=!0;for(let Ue=0;Ue<_;Ue++){let Ht=H[Ue].g;const He=H[Ue].map;if(Ht-=Z,0>Ht)Z=Math.max(0,H[Ue].g-100),qt=!1;else try{ci(He,ht,"req"+Ht+"_")}catch{A&&A(He)}}if(qt){A=ht.join("&");break t}}}return u=u.i.splice(0,_),p.D=u,A}function Ko(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;$||M(),lt||($(),lt=!0),mt.add(p,u),u.v=0}}function fl(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Ce(x(u.Fa,u),dl(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,$o(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Ce(x(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,me(10),Xa(this),$o(this))};function fa(u){u.A!=null&&(m.clearTimeout(u.A),u.A=null)}function $o(u){u.g=new cn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=Tn(u.qa);re(p,"RID","rpc"),re(p,"SID",u.K),re(p,"AID",u.T),re(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&re(p,"TO",u.ja),re(p,"TYPE","xmlhttp"),ha(u,p),u.m&&u.o&&qe(p,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=ra(Tn(p)),_.m=null,_.P=!0,Vi(_,u)}r.Za=function(){this.C!=null&&(this.C=null,Xa(this),fl(this),me(19))};function Za(u){u.C!=null&&(m.clearTimeout(u.C),u.C=null)}function Xo(u,p){var _=null;if(u.g==p){Za(u),fa(u),u.g=null;var A=2}else if(nl(u.h,p))_=p.D,hn(u.h,p),A=1;else return;if(u.G!=0){if(p.o)if(A==1){_=p.m?p.m.length:0,p=Date.now()-p.F;var H=u.B;A=or(),Ot(A,new je(A,_)),Wa(u)}else Ko(u);else if(H=p.s,H==3||H==0&&0<p.X||!(A==1&&lh(u,p)||A==2&&fl(u)))switch(_&&0<_.length&&(p=u.h,p.i=p.i.concat(_)),H){case 1:Pi(u,5);break;case 4:Pi(u,10);break;case 3:Pi(u,6);break;default:Pi(u,2)}}}function dl(u,p){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*p}function Pi(u,p){if(u.j.info("Error code "+p),p==2){var _=x(u.fb,u),A=u.Xa;const H=!A;A=new De(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ia(A,"https"),ra(A),H?sa(A.toString(),_):$n(A.toString(),_)}else me(2);u.G=0,u.l&&u.l.sa(p),Wo(u),Qo(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),me(2)):(this.j.info("Failed to ping google.com"),me(1))};function Wo(u){if(u.G=0,u.ka=[],u.l){const p=il(u.h);(p.length!=0||u.i.length!=0)&&(N(u.ka,p),N(u.ka,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.ra()}}function Zo(u,p,_){var A=_ instanceof De?Tn(_):new De(_);if(A.g!="")p&&(A.g=p+"."+A.g),dr(A,A.s);else{var H=m.location;A=H.protocol,p=p?p+"."+H.hostname:H.hostname,H=+H.port;var Z=new De(null);A&&ia(Z,A),p&&(Z.g=p),H&&dr(Z,H),_&&(Z.l=_),A=Z}return _=u.D,p=u.ya,_&&p&&re(A,_,p),re(A,"VER",u.la),ha(u,A),A}function Jo(u,p,_){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new Jt(new mr({eb:_})):new Jt(u.pa),p.Ha(u.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function tu(){}r=tu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ja(){}Ja.prototype.g=function(u,p){return new fn(u,p)};function fn(u,p){Bt.call(this),this.g=new $a(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!Y(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!Y(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new mi(this)}V(fn,Bt),fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){cl(this.g)},fn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Yn(u),u=_);p.i.push(new Bo(p.Ya++,u)),p.G==3&&Wa(p)},fn.prototype.N=function(){this.g.l=null,delete this.j,cl(this.g),delete this.g,fn.aa.N.call(this)};function eu(u){Di.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){t:{for(const _ in p){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}V(eu,Di);function nu(){Zs.call(this),this.status=1}V(nu,Zs);function mi(u){this.g=u}V(mi,tu),mi.prototype.ua=function(){Ot(this.g,"a")},mi.prototype.ta=function(u){Ot(this.g,new eu(u))},mi.prototype.sa=function(u){Ot(this.g,new nu)},mi.prototype.ra=function(){Ot(this.g,"b")},Ja.prototype.createWebChannel=Ja.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,t0=function(){return new Ja},Jv=function(){return or()},Zv=ai,Ad={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},hr.NO_ERROR=0,hr.TIMEOUT=8,hr.HTTP_ERROR=6,hc=hr,Ii.COMPLETE="complete",Wv=Ii,Ws.EventType=Ci,Ci.OPEN="a",Ci.CLOSE="b",Ci.ERROR="c",Ci.MESSAGE="d",Bt.prototype.listen=Bt.prototype.K,ro=Ws,Jt.prototype.listenOnce=Jt.prototype.L,Jt.prototype.getLastError=Jt.prototype.Ka,Jt.prototype.getLastErrorCode=Jt.prototype.Ba,Jt.prototype.getStatus=Jt.prototype.Z,Jt.prototype.getResponseJson=Jt.prototype.Oa,Jt.prototype.getResponseText=Jt.prototype.oa,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Ha,Xv=Jt}).apply(typeof rc<"u"?rc:typeof self<"u"?self:typeof window<"u"?window:{});const A_="@firebase/firestore",x_="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fs="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va=new Hv("@firebase/firestore");function Cs(){return Va.logLevel}function gt(r,...e){if(Va.logLevel<=Qt.DEBUG){const i=e.map(nm);Va.debug(`Firestore (${Fs}): ${r}`,...i)}}function rr(r,...e){if(Va.logLevel<=Qt.ERROR){const i=e.map(nm);Va.error(`Firestore (${Fs}): ${r}`,...i)}}function Os(r,...e){if(Va.logLevel<=Qt.WARN){const i=e.map(nm);Va.warn(`Firestore (${Fs}): ${r}`,...i)}}function nm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(r="Unexpected state"){const e=`FIRESTORE (${Fs}) INTERNAL ASSERTION FAILED: `+r;throw rr(e),new Error(e)}function te(r,e){r||Rt()}function Dt(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const at={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yt extends Gs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(ln.UNAUTHENTICATED))}shutdown(){}}class gA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class yA{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){te(this.o===void 0);let s=this.i;const o=g=>this.i!==s?(s=this.i,i(g)):Promise.resolve();let c=new er;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new er,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const g=c;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},m=g=>{gt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(gt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new er)}},0),f()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(gt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(te(typeof s.accessToken=="string"),new e0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return te(e===null||typeof e=="string"),new ln(e)}}class _A{constructor(e,i,s){this.l=e,this.h=i,this.P=s,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class vA{constructor(e,i,s){this.l=e,this.h=i,this.P=s}getToken(){return Promise.resolve(new _A(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class R_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class EA{constructor(e,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,ZS(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,i){te(this.o===void 0);const s=c=>{c.error!=null&&gt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.R;return this.R=c.token,gt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const o=c=>{gt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?o(c):gt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new R_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(te(typeof i.token=="string"),this.R=i.token,new R_(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=TA(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<i&&(s+=e.charAt(o[c]%62))}return s}}function Ut(r,e){return r<e?-1:r>e?1:0}function xd(r,e){let i=0;for(;i<r.length&&i<e.length;){const s=r.codePointAt(i),o=e.codePointAt(i);if(s!==o){if(s<128&&o<128)return Ut(s,o);{const c=n0(),f=bA(c.encode(w_(r,i)),c.encode(w_(e,i)));return f!==0?f:Ut(s,o)}}i+=s>65535?2:1}return Ut(r.length,e.length)}function w_(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function bA(r,e){for(let i=0;i<r.length&&i<e.length;++i)if(r[i]!==e[i])return Ut(r[i],e[i]);return Ut(r.length,e.length)}function js(r,e,i){return r.length===e.length&&r.every((s,o)=>i(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_=-62135596800,D_=1e6;class ze{static now(){return ze.fromMillis(Date.now())}static fromDate(e){return ze.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*D_);return new ze(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new yt(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new yt(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<C_)throw new yt(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new yt(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/D_}_compareTo(e){return this.seconds===e.seconds?Ut(this.nanoseconds,e.nanoseconds):Ut(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-C_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{static fromTimestamp(e){return new wt(e)}static min(){return new wt(new ze(0,0))}static max(){return new wt(new ze(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="__name__";class Ti{constructor(e,i,s){i===void 0?i=0:i>e.length&&Rt(),s===void 0?s=e.length-i:s>e.length-i&&Rt(),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Ti.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ti?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const c=Ti.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Ut(e.length,i.length)}static compareSegments(e,i){const s=Ti.isNumericId(e),o=Ti.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?Ti.extractNumericId(e).compare(Ti.extractNumericId(i)):xd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return kr.fromString(e.substring(4,e.length-2))}}class he extends Ti{construct(e,i,s){return new he(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new yt(at.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new he(i)}static emptyPath(){return new he([])}}const SA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Ti{construct(e,i,s){return new tn(e,i,s)}static isValidIdentifier(e){return SA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===I_}static keyField(){return new tn([I_])}static fromServerFormat(e){const i=[];let s="",o=0;const c=()=>{if(s.length===0)throw new yt(at.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new yt(at.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new yt(at.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(c(),o++)}if(c(),f)throw new yt(at.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(i)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.path=e}static fromPath(e){return new Tt(he.fromString(e))}static fromName(e){return new Tt(he.fromString(e).popFirst(5))}static empty(){return new Tt(he.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&he.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return he.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Tt(new he(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go=-1;function AA(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=wt.fromTimestamp(s===1e9?new ze(i+1,0):new ze(i,s));return new Br(o,Tt.empty(),e)}function xA(r){return new Br(r.readTime,r.key,go)}class Br{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Br(wt.min(),Tt.empty(),go)}static max(){return new Br(wt.max(),Tt.empty(),go)}}function RA(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=Tt.comparator(r.documentKey,e.documentKey),i!==0?i:Ut(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qs(r){if(r.code!==at.FAILED_PRECONDITION||r.message!==wA)throw r;gt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new st((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof st?i:st.resolve(i)}catch(i){return st.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):st.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):st.reject(i)}static resolve(e){return new st((i,s)=>{i(e)})}static reject(e){return new st((i,s)=>{s(e)})}static waitFor(e){return new st((i,s)=>{let o=0,c=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++c,f&&c===o&&i()},g=>s(g))}),f=!0,c===o&&i()})}static or(e){let i=st.resolve(!1);for(const s of e)i=i.next(o=>o?st.resolve(o):s());return i}static forEach(e,i){const s=[];return e.forEach((o,c)=>{s.push(i.call(this,o,c))}),this.waitFor(s)}static mapArray(e,i){return new st((s,o)=>{const c=e.length,f=new Array(c);let m=0;for(let g=0;g<c;g++){const y=g;i(e[y]).next(E=>{f[y]=E,++m,m===c&&s(f)},E=>o(E))}})}static doWhile(e,i){return new st((s,o)=>{const c=()=>{e()===!0?i().next(()=>{c()},o):s()};c()})}}function DA(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ys(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.oe(s),this._e=s=>i.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Uc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im=-1;function Lc(r){return r==null}function bc(r){return r===0&&1/r==-1/0}function IA(r){return typeof r=="number"&&Number.isInteger(r)&&!bc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="";function VA(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=V_(e)),e=NA(r.get(i),e);return V_(e)}function NA(r,e){let i=e;const s=r.length;for(let o=0;o<s;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case r0:i+="";break;default:i+=c}}return i}function V_(r){return r+r0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N_(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Yr(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function a0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e,i){this.comparator=e,this.root=i||Je.EMPTY}insert(e,i){return new _e(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Je.BLACK,null,null))}remove(e){return new _e(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Je.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ac(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ac(this.root,e,this.comparator,!1)}getReverseIterator(){return new ac(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ac(this.root,e,this.comparator,!0)}}class ac{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Je{constructor(e,i,s,o,c){this.key=e,this.value=i,this.color=s??Je.RED,this.left=o??Je.EMPTY,this.right=c??Je.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,c){return new Je(e??this.key,i??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,s),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Je.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Je.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Je.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Rt();const e=this.left.check();if(e!==this.right.check())throw Rt();return e+(this.isRed()?0:1)}}Je.EMPTY=null,Je.RED=!0,Je.BLACK=!1;Je.EMPTY=new class{constructor(){this.size=0}get key(){throw Rt()}get value(){throw Rt()}get color(){throw Rt()}get left(){throw Rt()}get right(){throw Rt()}copy(e,i,s,o,c){return this}insert(e,i,s){return new Je(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.comparator=e,this.data=new _e(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new M_(this.data.getIterator())}getIteratorFrom(e){return new M_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof Be)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Be(this.comparator);return i.data=e,i}}class M_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new Dn([])}unionWith(e){let i=new Be(tn.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new Dn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return js(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new s0("Invalid base64 string: "+c):c}}(e);return new nn(i)}static fromUint8Array(e){const i=function(o){let c="";for(let f=0;f<o.length;++f)c+=String.fromCharCode(o[f]);return c}(e);return new nn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ut(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const MA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qr(r){if(te(!!r),typeof r=="string"){let e=0;const i=MA.exec(r);if(te(!!i),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Re(r.seconds),nanos:Re(r.nanos)}}function Re(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Hr(r){return typeof r=="string"?nn.fromBase64String(r):nn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0="server_timestamp",o0="__type__",u0="__previous_value__",c0="__local_write_time__";function rm(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[o0])===null||i===void 0?void 0:i.stringValue)===l0}function Pc(r){const e=r.mapValue.fields[u0];return rm(e)?Pc(e):e}function yo(r){const e=qr(r.mapValue.fields[c0].timestampValue);return new ze(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e,i,s,o,c,f,m,g,y){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y}}const Sc="(default)";class _o{constructor(e,i){this.projectId=e,this.database=i||Sc}static empty(){return new _o("","")}get isDefaultDatabase(){return this.database===Sc}isEqual(e){return e instanceof _o&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0="__type__",jA="__max__",sc={mapValue:{}},f0="__vector__",Ac="value";function Gr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?rm(r)?4:LA(r)?9007199254740991:UA(r)?10:11:Rt()}function Ai(r,e){if(r===e)return!0;const i=Gr(r);if(i!==Gr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return yo(r).isEqual(yo(e));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const f=qr(o.timestampValue),m=qr(c.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,c){return Hr(o.bytesValue).isEqual(Hr(c.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,c){return Re(o.geoPointValue.latitude)===Re(c.geoPointValue.latitude)&&Re(o.geoPointValue.longitude)===Re(c.geoPointValue.longitude)}(r,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return Re(o.integerValue)===Re(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const f=Re(o.doubleValue),m=Re(c.doubleValue);return f===m?bc(f)===bc(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return js(r.arrayValue.values||[],e.arrayValue.values||[],Ai);case 10:case 11:return function(o,c){const f=o.mapValue.fields||{},m=c.mapValue.fields||{};if(N_(f)!==N_(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!Ai(f[g],m[g])))return!1;return!0}(r,e);default:return Rt()}}function vo(r,e){return(r.values||[]).find(i=>Ai(i,e))!==void 0}function Us(r,e){if(r===e)return 0;const i=Gr(r),s=Gr(e);if(i!==s)return Ut(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ut(r.booleanValue,e.booleanValue);case 2:return function(c,f){const m=Re(c.integerValue||c.doubleValue),g=Re(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(r,e);case 3:return O_(r.timestampValue,e.timestampValue);case 4:return O_(yo(r),yo(e));case 5:return xd(r.stringValue,e.stringValue);case 6:return function(c,f){const m=Hr(c),g=Hr(f);return m.compareTo(g)}(r.bytesValue,e.bytesValue);case 7:return function(c,f){const m=c.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const E=Ut(m[y],g[y]);if(E!==0)return E}return Ut(m.length,g.length)}(r.referenceValue,e.referenceValue);case 8:return function(c,f){const m=Ut(Re(c.latitude),Re(f.latitude));return m!==0?m:Ut(Re(c.longitude),Re(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return j_(r.arrayValue,e.arrayValue);case 10:return function(c,f){var m,g,y,E;const S=c.fields||{},x=f.fields||{},D=(m=S[Ac])===null||m===void 0?void 0:m.arrayValue,V=(g=x[Ac])===null||g===void 0?void 0:g.arrayValue,G=Ut(((y=D==null?void 0:D.values)===null||y===void 0?void 0:y.length)||0,((E=V==null?void 0:V.values)===null||E===void 0?void 0:E.length)||0);return G!==0?G:j_(D,V)}(r.mapValue,e.mapValue);case 11:return function(c,f){if(c===sc.mapValue&&f===sc.mapValue)return 0;if(c===sc.mapValue)return 1;if(f===sc.mapValue)return-1;const m=c.fields||{},g=Object.keys(m),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let S=0;S<g.length&&S<E.length;++S){const x=xd(g[S],E[S]);if(x!==0)return x;const D=Us(m[g[S]],y[E[S]]);if(D!==0)return D}return Ut(g.length,E.length)}(r.mapValue,e.mapValue);default:throw Rt()}}function O_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ut(r,e);const i=qr(r),s=qr(e),o=Ut(i.seconds,s.seconds);return o!==0?o:Ut(i.nanos,s.nanos)}function j_(r,e){const i=r.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const c=Us(i[o],s[o]);if(c)return c}return Ut(i.length,s.length)}function Ls(r){return Rd(r)}function Rd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const s=qr(i);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return Hr(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return Tt.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let s="[",o=!0;for(const c of i.values||[])o?o=!1:s+=",",s+=Rd(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const f of s)c?c=!1:o+=",",o+=`${f}:${Rd(i.fields[f])}`;return o+"}"}(r.mapValue):Rt()}function fc(r){switch(Gr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Pc(r);return e?16+fc(e):16;case 5:return 2*r.stringValue.length;case 6:return Hr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,c)=>o+fc(c),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Yr(s.fields,(c,f)=>{o+=c.length+fc(f)}),o}(r.mapValue);default:throw Rt()}}function U_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function wd(r){return!!r&&"integerValue"in r}function am(r){return!!r&&"arrayValue"in r}function L_(r){return!!r&&"nullValue"in r}function P_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function dc(r){return!!r&&"mapValue"in r}function UA(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[h0])===null||i===void 0?void 0:i.stringValue)===f0}function oo(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Yr(r.mapValue.fields,(i,s)=>e.mapValue.fields[i]=oo(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=oo(r.arrayValue.values[i]);return e}return Object.assign({},r)}function LA(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===jA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!dc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=oo(i)}setAll(e){let i=tn.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!i.isImmediateParentOf(m)){const g=this.getFieldsMap(i);this.applyChanges(g,s,o),s={},o=[],i=m.popLast()}f?s[m.lastSegment()]=oo(f):o.push(m.lastSegment())});const c=this.getFieldsMap(i);this.applyChanges(c,s,o)}delete(e){const i=this.field(e.popLast());dc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ai(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];dc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Yr(i,(o,c)=>e[o]=c);for(const o of s)delete e[o]}clone(){return new En(oo(this.value))}}function d0(r){const e=[];return Yr(r.fields,(i,s)=>{const o=new tn([i]);if(dc(s)){const c=d0(s.mapValue).fields;if(c.length===0)e.push(o);else for(const f of c)e.push(o.child(f))}else e.push(o)}),new Dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,i,s,o,c,f,m){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=c,this.data=f,this.documentState=m}static newInvalidDocument(e){return new on(e,0,wt.min(),wt.min(),wt.min(),En.empty(),0)}static newFoundDocument(e,i,s,o){return new on(e,1,i,wt.min(),s,o,0)}static newNoDocument(e,i){return new on(e,2,i,wt.min(),wt.min(),En.empty(),0)}static newUnknownDocument(e,i){return new on(e,3,i,wt.min(),wt.min(),En.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(wt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,i){this.position=e,this.inclusive=i}}function k_(r,e,i){let s=0;for(let o=0;o<r.position.length;o++){const c=e[o],f=r.position[o];if(c.field.isKeyField()?s=Tt.comparator(Tt.fromName(f.referenceValue),i.key):s=Us(f,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function z_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ai(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,i="asc"){this.field=e,this.dir=i}}function PA(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{}class Me extends m0{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new zA(e,i,s):i==="array-contains"?new HA(e,s):i==="in"?new GA(e,s):i==="not-in"?new FA(e,s):i==="array-contains-any"?new QA(e,s):new Me(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new BA(e,s):new qA(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(Us(i,this.value)):i!==null&&Gr(this.value)===Gr(i)&&this.matchesComparison(Us(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Rt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ti extends m0{constructor(e,i){super(),this.filters=e,this.op=i,this.ce=null}static create(e,i){return new ti(e,i)}matches(e){return p0(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function p0(r){return r.op==="and"}function g0(r){return kA(r)&&p0(r)}function kA(r){for(const e of r.filters)if(e instanceof ti)return!1;return!0}function Cd(r){if(r instanceof Me)return r.field.canonicalString()+r.op.toString()+Ls(r.value);if(g0(r))return r.filters.map(e=>Cd(e)).join(",");{const e=r.filters.map(i=>Cd(i)).join(",");return`${r.op}(${e})`}}function y0(r,e){return r instanceof Me?function(s,o){return o instanceof Me&&s.op===o.op&&s.field.isEqual(o.field)&&Ai(s.value,o.value)}(r,e):r instanceof ti?function(s,o){return o instanceof ti&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((c,f,m)=>c&&y0(f,o.filters[m]),!0):!1}(r,e):void Rt()}function _0(r){return r instanceof Me?function(i){return`${i.field.canonicalString()} ${i.op} ${Ls(i.value)}`}(r):r instanceof ti?function(i){return i.op.toString()+" {"+i.getFilters().map(_0).join(" ,")+"}"}(r):"Filter"}class zA extends Me{constructor(e,i,s){super(e,i,s),this.key=Tt.fromName(s.referenceValue)}matches(e){const i=Tt.comparator(e.key,this.key);return this.matchesComparison(i)}}class BA extends Me{constructor(e,i){super(e,"in",i),this.keys=v0("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class qA extends Me{constructor(e,i){super(e,"not-in",i),this.keys=v0("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function v0(r,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>Tt.fromName(s.referenceValue))}class HA extends Me{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return am(i)&&vo(i.arrayValue,this.value)}}class GA extends Me{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&vo(this.value.arrayValue,i)}}class FA extends Me{constructor(e,i){super(e,"not-in",i)}matches(e){if(vo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!vo(this.value.arrayValue,i)}}class QA extends Me{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!am(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>vo(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,i=null,s=[],o=[],c=null,f=null,m=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=f,this.endAt=m,this.le=null}}function B_(r,e=null,i=[],s=[],o=null,c=null,f=null){return new YA(r,e,i,s,o,c,f)}function sm(r){const e=Dt(r);if(e.le===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>Cd(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),Lc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>Ls(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>Ls(s)).join(",")),e.le=i}return e.le}function lm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!PA(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!y0(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!z_(r.startAt,e.startAt)&&z_(r.endAt,e.endAt)}function Dd(r){return Tt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,i=null,s=[],o=[],c=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=f,this.startAt=m,this.endAt=g,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function KA(r,e,i,s,o,c,f,m){return new xo(r,e,i,s,o,c,f,m)}function kc(r){return new xo(r)}function q_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function E0(r){return r.collectionGroup!==null}function uo(r){const e=Dt(r);if(e.he===null){e.he=[];const i=new Set;for(const c of e.explicitOrderBy)e.he.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Be(tn.comparator);return f.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(c=>{i.has(c.canonicalString())||c.isKeyField()||e.he.push(new Rc(c,s))}),i.has(tn.keyField().canonicalString())||e.he.push(new Rc(tn.keyField(),s))}return e.he}function bi(r){const e=Dt(r);return e.Pe||(e.Pe=$A(e,uo(r))),e.Pe}function $A(r,e){if(r.limitType==="F")return B_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new Rc(o.field,c)});const i=r.endAt?new xc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new xc(r.startAt.position,r.startAt.inclusive):null;return B_(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function Id(r,e){const i=r.filters.concat([e]);return new xo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function Vd(r,e,i){return new xo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function zc(r,e){return lm(bi(r),bi(e))&&r.limitType===e.limitType}function T0(r){return`${sm(bi(r))}|lt:${r.limitType}`}function Ds(r){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>_0(o)).join(", ")}]`),Lc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>Ls(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>Ls(o)).join(",")),`Target(${s})`}(bi(r))}; limitType=${r.limitType})`}function Bc(r,e){return e.isFoundDocument()&&function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):Tt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,e)&&function(s,o){for(const c of uo(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,g){const y=k_(f,m,g);return f.inclusive?y<=0:y<0}(s.startAt,uo(s),o)||s.endAt&&!function(f,m,g){const y=k_(f,m,g);return f.inclusive?y>=0:y>0}(s.endAt,uo(s),o))}(r,e)}function XA(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function b0(r){return(e,i)=>{let s=!1;for(const o of uo(r)){const c=WA(o,e,i);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function WA(r,e,i){const s=r.field.isKeyField()?Tt.comparator(e.key,i.key):function(c,f,m){const g=f.data.field(c),y=m.data.field(c);return g!==null&&y!==null?Us(g,y):Rt()}(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Rt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Yr(this.inner,(i,s)=>{for(const[o,c]of s)e(o,c)})}isEmpty(){return a0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=new _e(Tt.comparator);function ar(){return ZA}const S0=new _e(Tt.comparator);function ao(...r){let e=S0;for(const i of r)e=e.insert(i.key,i);return e}function A0(r){let e=S0;return r.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function Ia(){return co()}function x0(){return co()}function co(){return new ja(r=>r.toString(),(r,e)=>r.isEqual(e))}const JA=new _e(Tt.comparator),tx=new Be(Tt.comparator);function zt(...r){let e=tx;for(const i of r)e=e.add(i);return e}const ex=new Be(Ut);function nx(){return ex}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bc(e)?"-0":e}}function R0(r){return{integerValue:""+r}}function ix(r,e){return IA(e)?R0(e):om(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(){this._=void 0}}function rx(r,e,i){return r instanceof Eo?function(o,c){const f={fields:{[o0]:{stringValue:l0},[c0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&rm(c)&&(c=Pc(c)),c&&(f.fields[u0]=c),{mapValue:f}}(i,e):r instanceof To?C0(r,e):r instanceof bo?D0(r,e):function(o,c){const f=w0(o,c),m=H_(f)+H_(o.Ie);return wd(f)&&wd(o.Ie)?R0(m):om(o.serializer,m)}(r,e)}function ax(r,e,i){return r instanceof To?C0(r,e):r instanceof bo?D0(r,e):i}function w0(r,e){return r instanceof wc?function(s){return wd(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class Eo extends qc{}class To extends qc{constructor(e){super(),this.elements=e}}function C0(r,e){const i=I0(e);for(const s of r.elements)i.some(o=>Ai(o,s))||i.push(s);return{arrayValue:{values:i}}}class bo extends qc{constructor(e){super(),this.elements=e}}function D0(r,e){let i=I0(e);for(const s of r.elements)i=i.filter(o=>!Ai(o,s));return{arrayValue:{values:i}}}class wc extends qc{constructor(e,i){super(),this.serializer=e,this.Ie=i}}function H_(r){return Re(r.integerValue||r.doubleValue)}function I0(r){return am(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e,i){this.field=e,this.transform=i}}function lx(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof To&&o instanceof To||s instanceof bo&&o instanceof bo?js(s.elements,o.elements,Ai):s instanceof wc&&o instanceof wc?Ai(s.Ie,o.Ie):s instanceof Eo&&o instanceof Eo}(r.transform,e.transform)}class ox{constructor(e,i){this.version=e,this.transformResults=i}}class mn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new mn}static exists(e){return new mn(void 0,e)}static updateTime(e){return new mn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Hc{}function V0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Gc(r.key,mn.none()):new Ro(r.key,r.data,mn.none());{const i=r.data,s=En.empty();let o=new Be(tn.comparator);for(let c of e.fields)if(!o.has(c)){let f=i.field(c);f===null&&c.length>1&&(c=c.popLast(),f=i.field(c)),f===null?s.delete(c):s.set(c,f),o=o.add(c)}return new Kr(r.key,s,new Dn(o.toArray()),mn.none())}}function ux(r,e,i){r instanceof Ro?function(o,c,f){const m=o.value.clone(),g=F_(o.fieldTransforms,c,f.transformResults);m.setAll(g),c.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,i):r instanceof Kr?function(o,c,f){if(!mc(o.precondition,c))return void c.convertToUnknownDocument(f.version);const m=F_(o.fieldTransforms,c,f.transformResults),g=c.data;g.setAll(N0(o)),g.setAll(m),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(r,e,i):function(o,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,i)}function ho(r,e,i,s){return r instanceof Ro?function(c,f,m,g){if(!mc(c.precondition,f))return m;const y=c.value.clone(),E=Q_(c.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,e,i,s):r instanceof Kr?function(c,f,m,g){if(!mc(c.precondition,f))return m;const y=Q_(c.fieldTransforms,g,f),E=f.data;return E.setAll(N0(c)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(S=>S.field))}(r,e,i,s):function(c,f,m){return mc(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,i)}function cx(r,e){let i=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),c=w0(s.transform,o||null);c!=null&&(i===null&&(i=En.empty()),i.set(s.field,c))}return i||null}function G_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&js(s,o,(c,f)=>lx(c,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Ro extends Hc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Kr extends Hc{constructor(e,i,s,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function N0(r){const e=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}}),e}function F_(r,e,i){const s=new Map;te(r.length===i.length);for(let o=0;o<i.length;o++){const c=r[o],f=c.transform,m=e.data.field(c.field);s.set(c.field,ax(f,m,i[o]))}return s}function Q_(r,e,i){const s=new Map;for(const o of r){const c=o.transform,f=i.data.field(o.field);s.set(o.field,rx(c,f,e))}return s}class Gc extends Hc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hx extends Hc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&ux(c,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=ho(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=ho(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=x0();return this.mutations.forEach(o=>{const c=e.get(o.key),f=c.overlayedDocument;let m=this.applyToLocalView(f,c.mutatedFields);m=i.has(o.key)?null:m;const g=V0(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(wt.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),zt())}isEqual(e){return this.batchId===e.batchId&&js(this.mutations,e.mutations,(i,s)=>G_(i,s))&&js(this.baseMutations,e.baseMutations,(i,s)=>G_(i,s))}}class um{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){te(e.mutations.length===s.length);let o=function(){return JA}();const c=e.mutations;for(let f=0;f<c.length;f++)o=o.insert(c[f].key,s[f].version);return new um(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne,Ft;function px(r){switch(r){case at.OK:return Rt();case at.CANCELLED:case at.UNKNOWN:case at.DEADLINE_EXCEEDED:case at.RESOURCE_EXHAUSTED:case at.INTERNAL:case at.UNAVAILABLE:case at.UNAUTHENTICATED:return!1;case at.INVALID_ARGUMENT:case at.NOT_FOUND:case at.ALREADY_EXISTS:case at.PERMISSION_DENIED:case at.FAILED_PRECONDITION:case at.ABORTED:case at.OUT_OF_RANGE:case at.UNIMPLEMENTED:case at.DATA_LOSS:return!0;default:return Rt()}}function M0(r){if(r===void 0)return rr("GRPC error has no .code"),at.UNKNOWN;switch(r){case Ne.OK:return at.OK;case Ne.CANCELLED:return at.CANCELLED;case Ne.UNKNOWN:return at.UNKNOWN;case Ne.DEADLINE_EXCEEDED:return at.DEADLINE_EXCEEDED;case Ne.RESOURCE_EXHAUSTED:return at.RESOURCE_EXHAUSTED;case Ne.INTERNAL:return at.INTERNAL;case Ne.UNAVAILABLE:return at.UNAVAILABLE;case Ne.UNAUTHENTICATED:return at.UNAUTHENTICATED;case Ne.INVALID_ARGUMENT:return at.INVALID_ARGUMENT;case Ne.NOT_FOUND:return at.NOT_FOUND;case Ne.ALREADY_EXISTS:return at.ALREADY_EXISTS;case Ne.PERMISSION_DENIED:return at.PERMISSION_DENIED;case Ne.FAILED_PRECONDITION:return at.FAILED_PRECONDITION;case Ne.ABORTED:return at.ABORTED;case Ne.OUT_OF_RANGE:return at.OUT_OF_RANGE;case Ne.UNIMPLEMENTED:return at.UNIMPLEMENTED;case Ne.DATA_LOSS:return at.DATA_LOSS;default:return Rt()}}(Ft=Ne||(Ne={}))[Ft.OK=0]="OK",Ft[Ft.CANCELLED=1]="CANCELLED",Ft[Ft.UNKNOWN=2]="UNKNOWN",Ft[Ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ft[Ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ft[Ft.NOT_FOUND=5]="NOT_FOUND",Ft[Ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ft[Ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ft[Ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ft[Ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ft[Ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ft[Ft.ABORTED=10]="ABORTED",Ft[Ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ft[Ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ft[Ft.INTERNAL=13]="INTERNAL",Ft[Ft.UNAVAILABLE=14]="UNAVAILABLE",Ft[Ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx=new kr([4294967295,4294967295],0);function Y_(r){const e=n0().encode(r),i=new $v;return i.update(e),new Uint8Array(i.digest())}function K_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new kr([i,s],0),new kr([o,c],0)]}class cm{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new so(`Invalid padding: ${i}`);if(s<0)throw new so(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new so(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new so(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*e.length-i,this.de=kr.fromNumber(this.Ee)}Ae(e,i,s){let o=e.add(i.multiply(kr.fromNumber(s)));return o.compare(gx)===1&&(o=new kr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const i=Y_(e),[s,o]=K_(i);for(let c=0;c<this.hashCount;c++){const f=this.Ae(s,o,c);if(!this.Re(f))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new cm(c,o,i);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const i=Y_(e),[s,o]=K_(i);for(let c=0;c<this.hashCount;c++){const f=this.Ae(s,o,c);this.Ve(f)}}Ve(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class so extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,i,s,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,wo.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Fc(wt.min(),o,new _e(Ut),ar(),zt())}}class wo{constructor(e,i,s,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new wo(s,i,zt(),zt(),zt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,i,s,o){this.me=e,this.removedTargetIds=i,this.key=s,this.fe=o}}class O0{constructor(e,i){this.targetId=e,this.ge=i}}class j0{constructor(e,i,s=nn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class $_{constructor(){this.pe=0,this.ye=X_(),this.we=nn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=zt(),i=zt(),s=zt();return this.ye.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:Rt()}}),new wo(this.we,this.Se,e,i,s)}Me(){this.be=!1,this.ye=X_()}xe(e,i){this.be=!0,this.ye=this.ye.insert(e,i)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,te(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class yx{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ar(),this.$e=lc(),this.Ue=lc(),this.Ke=new _e(Ut)}We(e){for(const i of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(i,e.fe):this.ze(i,e.key,e.fe);for(const i of e.removedTargetIds)this.ze(i,e.key,e.fe)}je(e){this.forEachTarget(e,i=>{const s=this.He(i);switch(e.state){case 0:this.Je(i)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(i);break;case 3:this.Je(i)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),s.Ce(e.resumeToken));break;default:Rt()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.qe.forEach((s,o)=>{this.Je(o)&&i(o)})}Ze(e){const i=e.targetId,s=e.ge.count,o=this.Xe(i);if(o){const c=o.target;if(Dd(c))if(s===0){const f=new Tt(c.path);this.ze(i,f,on.newNoDocument(f,wt.min()))}else te(s===1);else{const f=this.et(i);if(f!==s){const m=this.tt(e),g=m?this.nt(m,e,f):1;if(g!==0){this.Ye(i);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(i,y)}}}}}tt(e){const i=e.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=i;let f,m;try{f=Hr(s).toUint8Array()}catch(g){if(g instanceof s0)return Os("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new cm(f,o,c)}catch(g){return Os(g instanceof so?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.Ee===0?null:m}nt(e,i,s){return i.ge.count===s-this.st(e,i.targetId)?0:2}st(e,i){const s=this.ke.getRemoteKeysForTarget(i);let o=0;return s.forEach(c=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.ze(i,c,null),o++)}),o}ot(e){const i=new Map;this.qe.forEach((c,f)=>{const m=this.Xe(f);if(m){if(c.current&&Dd(m.target)){const g=new Tt(m.target.path);this._t(g).has(f)||this.ut(f,g)||this.ze(f,g,on.newNoDocument(g,e))}c.ve&&(i.set(f,c.Fe()),c.Me())}});let s=zt();this.Ue.forEach((c,f)=>{let m=!0;f.forEachWhile(g=>{const y=this.Xe(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(c))}),this.Qe.forEach((c,f)=>f.setReadTime(e));const o=new Fc(e,i,this.Ke,this.Qe,s);return this.Qe=ar(),this.$e=lc(),this.Ue=lc(),this.Ke=new _e(Ut),o}Ge(e,i){if(!this.Je(e))return;const s=this.ut(e,i.key)?2:0;this.He(e).xe(i.key,s),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(e)),this.Ue=this.Ue.insert(i.key,this.ct(i.key).add(e))}ze(e,i,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,i)?o.xe(i,1):o.Oe(i),this.Ue=this.Ue.insert(i,this.ct(i).delete(e)),this.Ue=this.Ue.insert(i,this.ct(i).add(e)),s&&(this.Qe=this.Qe.insert(i,s))}removeTarget(e){this.qe.delete(e)}et(e){const i=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let i=this.qe.get(e);return i||(i=new $_,this.qe.set(e,i)),i}ct(e){let i=this.Ue.get(e);return i||(i=new Be(Ut),this.Ue=this.Ue.insert(e,i)),i}_t(e){let i=this.$e.get(e);return i||(i=new Be(Ut),this.$e=this.$e.insert(e,i)),i}Je(e){const i=this.Xe(e)!==null;return i||gt("WatchChangeAggregator","Detected inactive target",e),i}Xe(e){const i=this.qe.get(e);return i&&i.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new $_),this.ke.getRemoteKeysForTarget(e).forEach(i=>{this.ze(e,i,null)})}ut(e,i){return this.ke.getRemoteKeysForTarget(e).has(i)}}function lc(){return new _e(Tt.comparator)}function X_(){return new _e(Tt.comparator)}const _x={asc:"ASCENDING",desc:"DESCENDING"},vx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ex={and:"AND",or:"OR"};class Tx{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Nd(r,e){return r.useProto3Json||Lc(e)?e:{value:e}}function Cc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function U0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function bx(r,e){return Cc(r,e.toTimestamp())}function Si(r){return te(!!r),wt.fromTimestamp(function(i){const s=qr(i);return new ze(s.seconds,s.nanos)}(r))}function hm(r,e){return Md(r,e).canonicalString()}function Md(r,e){const i=function(o){return new he(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?i:i.child(e)}function L0(r){const e=he.fromString(r);return te(q0(e)),e}function Od(r,e){return hm(r.databaseId,e.path)}function hd(r,e){const i=L0(e);if(i.get(1)!==r.databaseId.projectId)throw new yt(at.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new yt(at.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new Tt(k0(i))}function P0(r,e){return hm(r.databaseId,e)}function Sx(r){const e=L0(r);return e.length===4?he.emptyPath():k0(e)}function jd(r){return new he(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function k0(r){return te(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function W_(r,e,i){return{name:Od(r,e),fields:i.value.mapValue.fields}}function Ax(r,e){let i;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Rt()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=function(y,E){return y.useProto3Json?(te(E===void 0||typeof E=="string"),nn.fromBase64String(E||"")):(te(E===void 0||E instanceof Buffer||E instanceof Uint8Array),nn.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(y){const E=y.code===void 0?at.UNKNOWN:M0(y.code);return new yt(E,y.message||"")}(f);i=new j0(s,o,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=hd(r,s.document.name),c=Si(s.document.updateTime),f=s.document.createTime?Si(s.document.createTime):wt.min(),m=new En({mapValue:{fields:s.document.fields}}),g=on.newFoundDocument(o,c,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];i=new pc(y,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=hd(r,s.document),c=s.readTime?Si(s.readTime):wt.min(),f=on.newNoDocument(o,c),m=s.removedTargetIds||[];i=new pc([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=hd(r,s.document),c=s.removedTargetIds||[];i=new pc([],c,o,null)}else{if(!("filter"in e))return Rt();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,f=new mx(o,c),m=s.targetId;i=new O0(m,f)}}return i}function xx(r,e){let i;if(e instanceof Ro)i={update:W_(r,e.key,e.value)};else if(e instanceof Gc)i={delete:Od(r,e.key)};else if(e instanceof Kr)i={update:W_(r,e.key,e.data),updateMask:Ox(e.fieldMask)};else{if(!(e instanceof hx))return Rt();i={verify:Od(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(c,f){const m=f.transform;if(m instanceof Eo)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof To)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof bo)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof wc)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw Rt()}(0,s))),e.precondition.isNone||(i.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:bx(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Rt()}(r,e.precondition)),i}function Rx(r,e){return r&&r.length>0?(te(e!==void 0),r.map(i=>function(o,c){let f=o.updateTime?Si(o.updateTime):Si(c);return f.isEqual(wt.min())&&(f=Si(c)),new ox(f,o.transformResults||[])}(i,e))):[]}function wx(r,e){return{documents:[P0(r,e.path)]}}function Cx(r,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=P0(r,o);const c=function(y){if(y.length!==0)return B0(ti.create(y,"and"))}(e.filters);c&&(i.structuredQuery.where=c);const f=function(y){if(y.length!==0)return y.map(E=>function(x){return{field:Is(x.field),direction:Vx(x.dir)}}(E))}(e.orderBy);f&&(i.structuredQuery.orderBy=f);const m=Nd(r,e.limit);return m!==null&&(i.structuredQuery.limit=m),e.startAt&&(i.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:i,parent:o}}function Dx(r){let e=Sx(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){te(s===1);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];i.where&&(c=function(S){const x=z0(S);return x instanceof ti&&g0(x)?x.getFilters():[x]}(i.where));let f=[];i.orderBy&&(f=function(S){return S.map(x=>function(V){return new Rc(Vs(V.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction))}(x))}(i.orderBy));let m=null;i.limit&&(m=function(S){let x;return x=typeof S=="object"?S.value:S,Lc(x)?null:x}(i.limit));let g=null;i.startAt&&(g=function(S){const x=!!S.before,D=S.values||[];return new xc(D,x)}(i.startAt));let y=null;return i.endAt&&(y=function(S){const x=!S.before,D=S.values||[];return new xc(D,x)}(i.endAt)),KA(e,o,f,c,m,"F",g,y)}function Ix(r,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Rt()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function z0(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Vs(i.unaryFilter.field);return Me.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Vs(i.unaryFilter.field);return Me.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Vs(i.unaryFilter.field);return Me.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Vs(i.unaryFilter.field);return Me.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Rt()}}(r):r.fieldFilter!==void 0?function(i){return Me.create(Vs(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Rt()}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return ti.create(i.compositeFilter.filters.map(s=>z0(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Rt()}}(i.compositeFilter.op))}(r):Rt()}function Vx(r){return _x[r]}function Nx(r){return vx[r]}function Mx(r){return Ex[r]}function Is(r){return{fieldPath:r.canonicalString()}}function Vs(r){return tn.fromServerFormat(r.fieldPath)}function B0(r){return r instanceof Me?function(i){if(i.op==="=="){if(P_(i.value))return{unaryFilter:{field:Is(i.field),op:"IS_NAN"}};if(L_(i.value))return{unaryFilter:{field:Is(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(P_(i.value))return{unaryFilter:{field:Is(i.field),op:"IS_NOT_NAN"}};if(L_(i.value))return{unaryFilter:{field:Is(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Is(i.field),op:Nx(i.op),value:i.value}}}(r):r instanceof ti?function(i){const s=i.getFilters().map(o=>B0(o));return s.length===1?s[0]:{compositeFilter:{op:Mx(i.op),filters:s}}}(r):Rt()}function Ox(r){const e=[];return r.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function q0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e,i,s,o,c=wt.min(),f=wt.min(),m=nn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Ur(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e){this.Tt=e}}function Ux(r){const e=Dx({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Vd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(){this.Tn=new Px}addToCollectionParentIndex(e,i){return this.Tn.add(i),st.resolve()}getCollectionParents(e,i){return st.resolve(this.Tn.getEntries(i))}addFieldIndex(e,i){return st.resolve()}deleteFieldIndex(e,i){return st.resolve()}deleteAllFieldIndexes(e){return st.resolve()}createTargetIndexes(e,i){return st.resolve()}getDocumentsMatchingTarget(e,i){return st.resolve(null)}getIndexType(e,i){return st.resolve(0)}getFieldIndexes(e,i){return st.resolve([])}getNextCollectionGroupToUpdate(e){return st.resolve(null)}getMinOffset(e,i){return st.resolve(Br.min())}getMinOffsetFromCollectionGroup(e,i){return st.resolve(Br.min())}updateCollectionGroup(e,i,s){return st.resolve()}updateIndexEntries(e,i){return st.resolve()}}class Px{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new Be(he.comparator),c=!o.has(s);return this.index[i]=o.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Be(he.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},H0=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(H0,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Ps(0)}static Kn(){return new Ps(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="LruGarbageCollector",kx=1048576;function tv([r,e],[i,s]){const o=Ut(r,i);return o===0?Ut(e,s):o}class zx{constructor(e){this.Hn=e,this.buffer=new Be(tv),this.Jn=0}Yn(){return++this.Jn}Zn(e){const i=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();tv(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Bx{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){gt(J_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ys(i)?gt(J_,"Ignoring IndexedDB error during garbage collection: ",i):await Qs(i)}await this.er(3e5)})}}class qx{constructor(e,i){this.tr=e,this.params=i}calculateTargetCount(e,i){return this.tr.nr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return st.resolve(Uc.ae);const s=new zx(i);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.tr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.tr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(gt("LruGarbageCollector","Garbage collection skipped; disabled"),st.resolve(Z_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(gt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Z_):this.ir(e,i))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,i){let s,o,c,f,m,g,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(gt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(s=S,m=Date.now(),this.removeTargets(e,s,i))).next(S=>(c=S,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(S=>(y=Date.now(),Cs()<=Qt.DEBUG&&gt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${c} targets in `+(g-m)+`ms
	Removed ${S} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),st.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S})))}}function Hx(r,e){return new qx(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(){this.changes=new ja(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?st.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(s!==null&&ho(s.mutation,o,Dn.empty(),ze.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,zt()).next(()=>s))}getLocalViewOfDocuments(e,i,s=zt()){const o=Ia();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,s).next(c=>{let f=ao();return c.forEach((m,g)=>{f=f.insert(m,g.overlayedDocument)}),f}))}getOverlayedDocuments(e,i){const s=Ia();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,zt()))}populateOverlays(e,i,s){const o=[];return s.forEach(c=>{i.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((f,m)=>{i.set(f,m)})})}computeViews(e,i,s,o){let c=ar();const f=co(),m=function(){return co()}();return i.forEach((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Kr)?c=c.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),ho(E.mutation,y,E.mutation.getFieldMask(),ze.now())):f.set(y.key,Dn.empty())}),this.recalculateAndSaveOverlays(e,c).next(g=>(g.forEach((y,E)=>f.set(y,E)),i.forEach((y,E)=>{var S;return m.set(y,new Fx(E,(S=f.get(y))!==null&&S!==void 0?S:null))}),m))}recalculateAndSaveOverlays(e,i){const s=co();let o=new _e((f,m)=>f-m),c=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(f=>{for(const m of f)m.keys().forEach(g=>{const y=i.get(g);if(y===null)return;let E=s.get(g)||Dn.empty();E=m.applyToLocalView(y,E),s.set(g,E);const S=(o.get(m.batchId)||zt()).add(g);o=o.insert(m.batchId,S)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,E=g.value,S=x0();E.forEach(x=>{if(!c.has(x)){const D=V0(i.get(x),s.get(x));D!==null&&S.set(x,D),c=c.add(x)}}),f.push(this.documentOverlayCache.saveOverlays(e,y,S))}return st.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,o){return function(f){return Tt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):E0(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next(c=>{const f=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-c.size):st.resolve(Ia());let m=go,g=c;return f.next(y=>st.forEach(y,(E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),c.get(E)?st.resolve():this.remoteDocumentCache.getEntry(e,E).next(x=>{g=g.insert(E,x)}))).next(()=>this.populateOverlays(e,y,c)).next(()=>this.computeViews(e,g,y,zt())).next(E=>({batchId:m,changes:A0(E)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new Tt(i)).next(s=>{let o=ao();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const c=i.collectionGroup;let f=ao();return this.indexManager.getCollectionParents(e,c).next(m=>st.forEach(m,g=>{const y=function(S,x){return new xo(x,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(i,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(E=>{E.forEach((S,x)=>{f=f.insert(S,x)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,i,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,o))).next(f=>{c.forEach((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,on.newInvalidDocument(E)))});let m=ao();return f.forEach((g,y)=>{const E=c.get(g);E!==void 0&&ho(E.mutation,y,Dn.empty(),ze.now()),Bc(i,y)&&(m=m.insert(g,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,i){return st.resolve(this.dr.get(i))}saveBundleMetadata(e,i){return this.dr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:Si(o.createTime)}}(i)),st.resolve()}getNamedQuery(e,i){return st.resolve(this.Ar.get(i))}saveNamedQuery(e,i){return this.Ar.set(i.name,function(o){return{name:o.name,query:Ux(o.bundledQuery),readTime:Si(o.readTime)}}(i)),st.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(){this.overlays=new _e(Tt.comparator),this.Rr=new Map}getOverlay(e,i){return st.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Ia();return st.forEach(i,o=>this.getOverlay(e,o).next(c=>{c!==null&&s.set(o,c)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((o,c)=>{this.Et(e,i,c)}),st.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(s)),st.resolve()}getOverlaysForCollection(e,i,s){const o=Ia(),c=i.length+1,f=new Tt(i.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>s&&o.set(g.getKey(),g)}return st.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let c=new _e((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let E=c.get(y.largestBatchId);E===null&&(E=Ia(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Ia(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=o)););return st.resolve(m)}Et(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new dx(i,s));let c=this.Rr.get(i);c===void 0&&(c=zt(),this.Rr.set(i,c)),this.Rr.set(i,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return st.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,st.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(){this.Vr=new Be(Ye.mr),this.gr=new Be(Ye.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,i){const s=new Ye(e,i);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.wr(new Ye(e,i))}Sr(e,i){e.forEach(s=>this.removeReference(s,i))}br(e){const i=new Tt(new he([])),s=new Ye(i,e),o=new Ye(i,e+1),c=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),c.push(f.key)}),c}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const i=new Tt(new he([])),s=new Ye(i,e),o=new Ye(i,e+1);let c=zt();return this.gr.forEachInRange([s,o],f=>{c=c.add(f.key)}),c}containsKey(e){const i=new Ye(e,0),s=this.Vr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Ye{constructor(e,i){this.key=e,this.Cr=i}static mr(e,i){return Tt.comparator(e.key,i.key)||Ut(e.Cr,i.Cr)}static pr(e,i){return Ut(e.Cr,i.Cr)||Tt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new Be(Ye.mr)}checkEmpty(e){return st.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new fx(c,i,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new Ye(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return st.resolve(f)}lookupMutationBatch(e,i){return st.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.Nr(s),c=o<0?0:o;return st.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return st.resolve(this.mutationQueue.length===0?im:this.Fr-1)}getAllMutationBatches(e){return st.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Ye(i,0),o=new Ye(i,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);c.push(m)}),st.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Be(Ut);return i.forEach(o=>{const c=new Ye(o,0),f=new Ye(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,f],m=>{s=s.add(m.Cr)})}),st.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let c=s;Tt.isDocumentKey(c)||(c=c.child(""));const f=new Ye(new Tt(c),0);let m=new Be(Ut);return this.Mr.forEachWhile(g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Cr)),!0)},f),st.resolve(this.Br(m))}Br(e){const i=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){te(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return st.forEach(i.mutations,o=>{const c=new Ye(o.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,i){const s=new Ye(i,0),o=this.Mr.firstAfterOrEqual(s);return st.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,st.resolve()}Lr(e,i){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const i=this.Nr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e){this.kr=e,this.docs=function(){return new _e(Tt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),c=o?o.size:0,f=this.kr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return st.resolve(s?s.document.mutableCopy():on.newInvalidDocument(i))}getEntries(e,i){let s=ar();return i.forEach(o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():on.newInvalidDocument(o))}),st.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let c=ar();const f=i.path,m=new Tt(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||RA(xA(E),s)<=0||(o.has(E.key)||Bc(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return st.resolve(c)}getAllFromCollectionGroup(e,i,s,o){Rt()}qr(e,i){return st.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new Zx(this)}getSize(e){return st.resolve(this.size)}}class Zx extends Gx{constructor(e){super(),this.Ir=e}applyChanges(e){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),st.waitFor(i)}getFromCache(e,i){return this.Ir.getEntry(e,i)}getAllFromCache(e,i){return this.Ir.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e){this.persistence=e,this.Qr=new ja(i=>sm(i),lm),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new fm,this.targetCount=0,this.Kr=Ps.Un()}forEachTarget(e,i){return this.Qr.forEach((s,o)=>i(o)),st.resolve()}getLastRemoteSnapshotVersion(e){return st.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return st.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),st.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.$r&&(this.$r=i),st.resolve()}zn(e){this.Qr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Kr=new Ps(i),this.highestTargetId=i),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,i){return this.zn(i),this.targetCount+=1,st.resolve()}updateTargetData(e,i){return this.zn(i),st.resolve()}removeTargetData(e,i){return this.Qr.delete(i.target),this.Ur.br(i.targetId),this.targetCount-=1,st.resolve()}removeTargets(e,i,s){let o=0;const c=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=i&&s.get(m.targetId)===null&&(this.Qr.delete(f),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),st.waitFor(c).next(()=>o)}getTargetCount(e){return st.resolve(this.targetCount)}getTargetData(e,i){const s=this.Qr.get(i)||null;return st.resolve(s)}addMatchingKeys(e,i,s){return this.Ur.yr(i,s),st.resolve()}removeMatchingKeys(e,i,s){this.Ur.Sr(i,s);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach(f=>{c.push(o.markPotentiallyOrphaned(e,f))}),st.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.Ur.br(i),st.resolve()}getMatchingKeysForTargetId(e,i){const s=this.Ur.vr(i);return st.resolve(s)}containsKey(e,i){return st.resolve(this.Ur.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,i){this.Wr={},this.overlays={},this.Gr=new Uc(0),this.zr=!1,this.zr=!0,this.jr=new $x,this.referenceDelegate=e(this),this.Hr=new Jx(this),this.indexManager=new Lx,this.remoteDocumentCache=function(o){return new Wx(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new jx(i),this.Yr=new Yx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new Kx,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.Wr[e.toKey()];return s||(s=new Xx(i,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,i,s){gt("MemoryPersistence","Starting transaction:",e);const o=new tR(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(c=>this.referenceDelegate.Xr(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}ei(e,i){return st.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,i)))}}class tR extends CA{constructor(e){super(),this.currentSequenceNumber=e}}class dm{constructor(e){this.persistence=e,this.ti=new fm,this.ni=null}static ri(e){return new dm(e)}get ii(){if(this.ni)return this.ni;throw Rt()}addReference(e,i,s){return this.ti.addReference(s,i),this.ii.delete(s.toString()),st.resolve()}removeReference(e,i,s){return this.ti.removeReference(s,i),this.ii.add(s.toString()),st.resolve()}markPotentiallyOrphaned(e,i){return this.ii.add(i.toString()),st.resolve()}removeTarget(e,i){this.ti.br(i.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(c=>this.ii.add(c.toString()))}).next(()=>s.removeTargetData(e,i))}Zr(){this.ni=new Set}Xr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return st.forEach(this.ii,s=>{const o=Tt.fromPath(s);return this.si(e,o).next(c=>{c||i.removeEntry(o,wt.min())})}).next(()=>(this.ni=null,i.apply(e)))}updateLimboDocument(e,i){return this.si(e,i).next(s=>{s?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(e){return 0}si(e,i){return st.or([()=>st.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.ei(e,i)])}}class Dc{constructor(e,i){this.persistence=e,this.oi=new ja(s=>VA(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=Hx(this,i)}static ri(e,i){return new Dc(e,i)}Zr(){}Xr(e){return st.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}nr(e){const i=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(o=>s+o))}sr(e){let i=0;return this.rr(e,s=>{i++}).next(()=>i)}rr(e,i){return st.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(c=>c?st.resolve():i(o)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,i).next(m=>{m||(s++,c.removeEntry(f,wt.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.oi.set(i,e.currentSequenceNumber),st.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),st.resolve()}removeReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),st.resolve()}updateLimboDocument(e,i){return this.oi.set(i,e.currentSequenceNumber),st.resolve()}Jr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=fc(e.data.value)),i}ar(e,i,s){return st.or([()=>this.persistence.ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.oi.get(i);return st.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Hi=s,this.Ji=o}static Yi(e,i){let s=zt(),o=zt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new mm(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return $1()?8:DA(Y1())>0?6:4}()}initialize(e,i){this.ns=e,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(e,i,s,o){const c={result:null};return this.rs(e,i).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.ss(e,i,o,s).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new eR;return this._s(e,i,f).next(m=>{if(c.result=m,this.Xi)return this.us(e,i,f,m.size)})}).next(()=>c.result)}us(e,i,s,o){return s.documentReadCount<this.es?(Cs()<=Qt.DEBUG&&gt("QueryEngine","SDK will not create cache indexes for query:",Ds(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),st.resolve()):(Cs()<=Qt.DEBUG&&gt("QueryEngine","Query:",Ds(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(Cs()<=Qt.DEBUG&&gt("QueryEngine","The SDK decides to create cache indexes for query:",Ds(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bi(i))):st.resolve())}rs(e,i){if(q_(i))return st.resolve(null);let s=bi(i);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=Vd(i,null,"F"),s=bi(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const f=zt(...c);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(g=>{const y=this.cs(i,m);return this.ls(i,y,f,g.readTime)?this.rs(e,Vd(i,null,"F")):this.hs(e,y,i,g)}))})))}ss(e,i,s,o){return q_(i)||o.isEqual(wt.min())?st.resolve(null):this.ns.getDocuments(e,s).next(c=>{const f=this.cs(i,c);return this.ls(i,f,s,o)?st.resolve(null):(Cs()<=Qt.DEBUG&&gt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ds(i)),this.hs(e,f,i,AA(o,go)).next(m=>m))})}cs(e,i){let s=new Be(b0(e));return i.forEach((o,c)=>{Bc(e,c)&&(s=s.add(c))}),s}ls(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}_s(e,i,s){return Cs()<=Qt.DEBUG&&gt("QueryEngine","Using full collection scan to execute query:",Ds(i)),this.ns.getDocumentsMatchingQuery(e,i,Br.min(),s)}hs(e,i,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(c=>(i.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm="LocalStore",iR=3e8;class rR{constructor(e,i,s,o){this.persistence=e,this.Ps=i,this.serializer=o,this.Ts=new _e(Ut),this.Is=new ja(c=>sm(c),lm),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Qx(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ts))}}function aR(r,e,i,s){return new rR(r,e,i,s)}async function F0(r,e){const i=Dt(r);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(c=>(o=c,i.As(e),i.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],m=[];let g=zt();for(const y of o){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of c){m.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return i.localDocuments.getDocuments(s,g).next(y=>({Rs:y,removedBatchIds:f,addedBatchIds:m}))})})}function sR(r,e){const i=Dt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),c=i.ds.newChangeBuffer({trackRemovals:!0});return function(m,g,y,E){const S=y.batch,x=S.keys();let D=st.resolve();return x.forEach(V=>{D=D.next(()=>E.getEntry(g,V)).next(G=>{const N=y.docVersions.get(V);te(N!==null),G.version.compareTo(N)<0&&(S.applyToRemoteDocument(G,y),G.isValidDocument()&&(G.setReadTime(y.commitVersion),E.addEntry(G)))})}),D.next(()=>m.mutationQueue.removeMutationBatch(g,S))}(i,s,e,c).next(()=>c.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let g=zt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g}(e))).next(()=>i.localDocuments.getDocuments(s,o))})}function Q0(r){const e=Dt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Hr.getLastRemoteSnapshotVersion(i))}function lR(r,e){const i=Dt(r),s=e.snapshotVersion;let o=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=i.ds.newChangeBuffer({trackRemovals:!0});o=i.Ts;const m=[];e.targetChanges.forEach((E,S)=>{const x=o.get(S);if(!x)return;m.push(i.Hr.removeMatchingKeys(c,E.removedDocuments,S).next(()=>i.Hr.addMatchingKeys(c,E.addedDocuments,S)));let D=x.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?D=D.withResumeToken(nn.EMPTY_BYTE_STRING,wt.min()).withLastLimboFreeSnapshotVersion(wt.min()):E.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(E.resumeToken,s)),o=o.insert(S,D),function(G,N,z){return G.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=iR?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0}(x,D,E)&&m.push(i.Hr.updateTargetData(c,D))});let g=ar(),y=zt();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))}),m.push(oR(c,f,e.documentUpdates).next(E=>{g=E.Vs,y=E.fs})),!s.isEqual(wt.min())){const E=i.Hr.getLastRemoteSnapshotVersion(c).next(S=>i.Hr.setTargetsMetadata(c,c.currentSequenceNumber,s));m.push(E)}return st.waitFor(m).next(()=>f.apply(c)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,g,y)).next(()=>g)}).then(c=>(i.Ts=o,c))}function oR(r,e,i){let s=zt(),o=zt();return i.forEach(c=>s=s.add(c)),e.getEntries(r,s).next(c=>{let f=ar();return i.forEach((m,g)=>{const y=c.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(wt.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):gt(pm,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)}),{Vs:f,fs:o}})}function uR(r,e){const i=Dt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=im),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function cR(r,e){const i=Dt(r);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.Hr.getTargetData(s,e).next(c=>c?(o=c,st.resolve(o)):i.Hr.allocateTargetId(s).next(f=>(o=new Ur(e,f,"TargetPurposeListen",s.currentSequenceNumber),i.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(s.targetId,s),i.Is.set(e,s.targetId)),s})}async function Ud(r,e,i){const s=Dt(r),o=s.Ts.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Ys(f))throw f;gt(pm,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function ev(r,e,i){const s=Dt(r);let o=wt.min(),c=zt();return s.persistence.runTransaction("Execute query","readwrite",f=>function(g,y,E){const S=Dt(g),x=S.Is.get(E);return x!==void 0?st.resolve(S.Ts.get(x)):S.Hr.getTargetData(y,E)}(s,f,bi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(g=>{c=g})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,i?o:wt.min(),i?c:zt())).next(m=>(hR(s,XA(e),m),{documents:m,gs:c})))}function hR(r,e,i){let s=r.Es.get(e)||wt.min();i.forEach((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Es.set(e,s)}class nv{constructor(){this.activeTargetIds=nx()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fR{constructor(){this.ho=new nv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,i,s){this.Po[e]=i}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new nv,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv="ConnectivityMonitor";class rv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){gt(iv,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){gt(iv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oc=null;function Ld(){return oc===null?oc=function(){return 268435456+Math.round(2147483648*Math.random())}():oc++,"0x"+oc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd="RestConnection",mR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pR{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=i+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Sc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,i,s,o,c){const f=Ld(),m=this.bo(e,i.toUriEncodedString());gt(fd,`Sending RPC '${e}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(g,o,c),this.vo(e,m,g,s).then(y=>(gt(fd,`Received RPC '${e}' ${f}: `,y),y),y=>{throw Os(fd,`RPC '${e}' ${f} failed with error: `,y,"url: ",m,"request:",s),y})}Co(e,i,s,o,c,f){return this.So(e,i,s,o,c)}Do(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Fs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,c)=>e[c]=o),s&&s.headers.forEach((o,c)=>e[c]=o)}bo(e,i){const s=mR[e];return`${this.po}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn="WebChannelConnection";class yR extends pR{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,i,s,o){const c=Ld();return new Promise((f,m)=>{const g=new Xv;g.setWithCredentials(!0),g.listenOnce(Wv.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case hc.NO_ERROR:const E=g.getResponseJson();gt(sn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),f(E);break;case hc.TIMEOUT:gt(sn,`RPC '${e}' ${c} timed out`),m(new yt(at.DEADLINE_EXCEEDED,"Request time out"));break;case hc.HTTP_ERROR:const S=g.getStatus();if(gt(sn,`RPC '${e}' ${c} failed with status:`,S,"response text:",g.getResponseText()),S>0){let x=g.getResponseJson();Array.isArray(x)&&(x=x[0]);const D=x==null?void 0:x.error;if(D&&D.status&&D.message){const V=function(N){const z=N.toLowerCase().replace(/_/g,"-");return Object.values(at).indexOf(z)>=0?z:at.UNKNOWN}(D.status);m(new yt(V,D.message))}else m(new yt(at.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new yt(at.UNAVAILABLE,"Connection failed."));break;default:Rt()}}finally{gt(sn,`RPC '${e}' ${c} completed.`)}});const y=JSON.stringify(o);gt(sn,`RPC '${e}' ${c} sending request:`,o),g.send(i,"POST",y,s,15)})}Wo(e,i,s){const o=Ld(),c=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=t0(),m=Jv(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Do(g.initMessageHeaders,i,s),g.encodeInitMessageHeaders=!0;const E=c.join("");gt(sn,`Creating RPC '${e}' stream ${o}: ${E}`,g);const S=f.createWebChannel(E,g);let x=!1,D=!1;const V=new gR({Fo:N=>{D?gt(sn,`Not sending because RPC '${e}' stream ${o} is closed:`,N):(x||(gt(sn,`Opening RPC '${e}' stream ${o} transport.`),S.open(),x=!0),gt(sn,`RPC '${e}' stream ${o} sending:`,N),S.send(N))},Mo:()=>S.close()}),G=(N,z,Y)=>{N.listen(z,B=>{try{Y(B)}catch(ct){setTimeout(()=>{throw ct},0)}})};return G(S,ro.EventType.OPEN,()=>{D||(gt(sn,`RPC '${e}' stream ${o} transport opened.`),V.Qo())}),G(S,ro.EventType.CLOSE,()=>{D||(D=!0,gt(sn,`RPC '${e}' stream ${o} transport closed`),V.Uo())}),G(S,ro.EventType.ERROR,N=>{D||(D=!0,Os(sn,`RPC '${e}' stream ${o} transport errored:`,N),V.Uo(new yt(at.UNAVAILABLE,"The operation could not be completed")))}),G(S,ro.EventType.MESSAGE,N=>{var z;if(!D){const Y=N.data[0];te(!!Y);const B=Y,ct=(B==null?void 0:B.error)||((z=B[0])===null||z===void 0?void 0:z.error);if(ct){gt(sn,`RPC '${e}' stream ${o} received error:`,ct);const ot=ct.status;let pt=function(w){const j=Ne[w];if(j!==void 0)return M0(j)}(ot),O=ct.message;pt===void 0&&(pt=at.INTERNAL,O="Unknown error status: "+ot+" with message "+ct.message),D=!0,V.Uo(new yt(pt,O)),S.close()}else gt(sn,`RPC '${e}' stream ${o} received:`,Y),V.Ko(Y)}}),G(m,Zv.STAT_EVENT,N=>{N.stat===Ad.PROXY?gt(sn,`RPC '${e}' stream ${o} detected buffering proxy`):N.stat===Ad.NOPROXY&&gt(sn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{V.$o()},0),V}}function dd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(r){return new Tx(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e,i,s=1e3,o=1.5,c=6e4){this.Ti=e,this.timerId=i,this.Go=s,this.zo=o,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const i=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,i-s);o>0&&gt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av="PersistentStream";class K0{constructor(e,i,s,o,c,f,m,g){this.Ti=e,this.n_=s,this.r_=o,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Y0(e,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():i&&i.code===at.RESOURCE_EXHAUSTED?(rr(i.toString()),rr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===at.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===i&&this.V_(s,o)},s=>{e(()=>{const o=new yt(at.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,i){const s=this.R_(this.i_);this.stream=this.f_(e,i),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return gt(av,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return i=>{this.Ti.enqueueAndForget(()=>this.i_===e?i():(gt(av,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _R extends K0{constructor(e,i,s,o,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,f),this.serializer=c}f_(e,i){return this.connection.Wo("Listen",e,i)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const i=Ax(this.serializer,e),s=function(c){if(!("targetChange"in c))return wt.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?wt.min():f.readTime?Si(f.readTime):wt.min()}(e);return this.listener.p_(i,s)}y_(e){const i={};i.database=jd(this.serializer),i.addTarget=function(c,f){let m;const g=f.target;if(m=Dd(g)?{documents:wx(c,g)}:{query:Cx(c,g).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=U0(c,f.resumeToken);const y=Nd(c,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(wt.min())>0){m.readTime=Cc(c,f.snapshotVersion.toTimestamp());const y=Nd(c,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const s=Ix(this.serializer,e);s&&(i.labels=s),this.I_(i)}w_(e){const i={};i.database=jd(this.serializer),i.removeTarget=e,this.I_(i)}}class vR extends K0{constructor(e,i,s,o,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,f),this.serializer=c}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,i){return this.connection.Wo("Write",e,i)}g_(e){return te(!!e.streamToken),this.lastStreamToken=e.streamToken,te(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){te(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const i=Rx(e.writeResults,e.commitTime),s=Si(e.commitTime);return this.listener.v_(s,i)}C_(){const e={};e.database=jd(this.serializer),this.I_(e)}b_(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>xx(this.serializer,s))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{}class TR extends ER{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new yt(at.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,i,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.So(e,Md(i,s),o,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new yt(at.UNKNOWN,c.toString())})}Co(e,i,s,o,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,Md(i,s),o,f,m,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new yt(at.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class bR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(rr(i),this.N_=!1):gt("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na="RemoteStore";class SR{constructor(e,i,s,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(f=>{s.enqueueAndForget(async()=>{Ua(this)&&(gt(Na,"Restarting streams for network reachability change."),await async function(g){const y=Dt(g);y.W_.add(4),await Co(y),y.j_.set("Unknown"),y.W_.delete(4),await Yc(y)}(this))})}),this.j_=new bR(s,o)}}async function Yc(r){if(Ua(r))for(const e of r.G_)await e(!0)}async function Co(r){for(const e of r.G_)await e(!1)}function $0(r,e){const i=Dt(r);i.K_.has(e.targetId)||(i.K_.set(e.targetId,e),vm(i)?_m(i):Ks(i).c_()&&ym(i,e))}function gm(r,e){const i=Dt(r),s=Ks(i);i.K_.delete(e),s.c_()&&X0(i,e),i.K_.size===0&&(s.c_()?s.P_():Ua(i)&&i.j_.set("Unknown"))}function ym(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(wt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ks(r).y_(e)}function X0(r,e){r.H_.Ne(e),Ks(r).w_(e)}function _m(r){r.H_=new yx({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.K_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),Ks(r).start(),r.j_.B_()}function vm(r){return Ua(r)&&!Ks(r).u_()&&r.K_.size>0}function Ua(r){return Dt(r).W_.size===0}function W0(r){r.H_=void 0}async function AR(r){r.j_.set("Online")}async function xR(r){r.K_.forEach((e,i)=>{ym(r,e)})}async function RR(r,e){W0(r),vm(r)?(r.j_.q_(e),_m(r)):r.j_.set("Unknown")}async function wR(r,e,i){if(r.j_.set("Online"),e instanceof j0&&e.state===2&&e.cause)try{await async function(o,c){const f=c.cause;for(const m of c.targetIds)o.K_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.K_.delete(m),o.H_.removeTarget(m))}(r,e)}catch(s){gt(Na,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ic(r,s)}else if(e instanceof pc?r.H_.We(e):e instanceof O0?r.H_.Ze(e):r.H_.je(e),!i.isEqual(wt.min()))try{const s=await Q0(r.localStore);i.compareTo(s)>=0&&await function(c,f){const m=c.H_.ot(f);return m.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=c.K_.get(y);E&&c.K_.set(y,E.withResumeToken(g.resumeToken,f))}}),m.targetMismatches.forEach((g,y)=>{const E=c.K_.get(g);if(!E)return;c.K_.set(g,E.withResumeToken(nn.EMPTY_BYTE_STRING,E.snapshotVersion)),X0(c,g);const S=new Ur(E.target,g,y,E.sequenceNumber);ym(c,S)}),c.remoteSyncer.applyRemoteEvent(m)}(r,i)}catch(s){gt(Na,"Failed to raise snapshot:",s),await Ic(r,s)}}async function Ic(r,e,i){if(!Ys(e))throw e;r.W_.add(1),await Co(r),r.j_.set("Offline"),i||(i=()=>Q0(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{gt(Na,"Retrying IndexedDB access"),await i(),r.W_.delete(1),await Yc(r)})}function Z0(r,e){return e().catch(i=>Ic(r,i,e))}async function Kc(r){const e=Dt(r),i=Fr(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:im;for(;CR(e);)try{const o=await uR(e.localStore,s);if(o===null){e.U_.length===0&&i.P_();break}s=o.batchId,DR(e,o)}catch(o){await Ic(e,o)}J0(e)&&tE(e)}function CR(r){return Ua(r)&&r.U_.length<10}function DR(r,e){r.U_.push(e);const i=Fr(r);i.c_()&&i.S_&&i.b_(e.mutations)}function J0(r){return Ua(r)&&!Fr(r).u_()&&r.U_.length>0}function tE(r){Fr(r).start()}async function IR(r){Fr(r).C_()}async function VR(r){const e=Fr(r);for(const i of r.U_)e.b_(i.mutations)}async function NR(r,e,i){const s=r.U_.shift(),o=um.from(s,e,i);await Z0(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Kc(r)}async function MR(r,e){e&&Fr(r).S_&&await async function(s,o){if(function(f){return px(f)&&f!==at.ABORTED}(o.code)){const c=s.U_.shift();Fr(s).h_(),await Z0(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o)),await Kc(s)}}(r,e),J0(r)&&tE(r)}async function sv(r,e){const i=Dt(r);i.asyncQueue.verifyOperationInProgress(),gt(Na,"RemoteStore received new credentials");const s=Ua(i);i.W_.add(3),await Co(i),s&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.W_.delete(3),await Yc(i)}async function OR(r,e){const i=Dt(r);e?(i.W_.delete(2),await Yc(i)):e||(i.W_.add(2),await Co(i),i.j_.set("Unknown"))}function Ks(r){return r.J_||(r.J_=function(i,s,o){const c=Dt(i);return c.M_(),new _R(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{xo:AR.bind(null,r),No:xR.bind(null,r),Lo:RR.bind(null,r),p_:wR.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),vm(r)?_m(r):r.j_.set("Unknown")):(await r.J_.stop(),W0(r))})),r.J_}function Fr(r){return r.Y_||(r.Y_=function(i,s,o){const c=Dt(i);return c.M_(),new vR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:IR.bind(null,r),Lo:MR.bind(null,r),D_:VR.bind(null,r),v_:NR.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await Kc(r)):(await r.Y_.stop(),r.U_.length>0&&(gt(Na,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,i,s,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,c){const f=Date.now()+s,m=new Em(e,i,f,o,c);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new yt(at.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tm(r,e){if(rr("AsyncQueue",`${e}: ${r}`),Ys(r))return new yt(at.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{static emptySet(e){return new Ms(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||Tt.comparator(i.key,s.key):(i,s)=>Tt.comparator(i.key,s.key),this.keyedMap=ao(),this.sortedSet=new _e(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ms)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Ms;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(){this.Z_=new _e(Tt.comparator)}track(e){const i=e.doc.key,s=this.Z_.get(i);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(i,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(i):e.type===1&&s.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):Rt():this.Z_=this.Z_.insert(i,e)}X_(){const e=[];return this.Z_.inorderTraversal((i,s)=>{e.push(s)}),e}}class ks{constructor(e,i,s,o,c,f,m,g,y){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,i,s,o,c){const f=[];return i.forEach(m=>{f.push({type:0,doc:m})}),new ks(e,i,Ms.emptySet(i),f,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class UR{constructor(){this.queries=ov(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,s){const o=Dt(i),c=o.queries;o.queries=ov(),c.forEach((f,m)=>{for(const g of m.ta)g.onError(s)})})(this,new yt(at.ABORTED,"Firestore shutting down"))}}function ov(){return new ja(r=>T0(r),zc)}async function bm(r,e){const i=Dt(r);let s=3;const o=e.query;let c=i.queries.get(o);c?!c.na()&&e.ra()&&(s=2):(c=new jR,s=e.ra()?0:1);try{switch(s){case 0:c.ea=await i.onListen(o,!0);break;case 1:c.ea=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(f){const m=Tm(f,`Initialization of query '${Ds(e.query)}' failed`);return void e.onError(m)}i.queries.set(o,c),c.ta.push(e),e.sa(i.onlineState),c.ea&&e.oa(c.ea)&&Am(i)}async function Sm(r,e){const i=Dt(r),s=e.query;let o=3;const c=i.queries.get(s);if(c){const f=c.ta.indexOf(e);f>=0&&(c.ta.splice(f,1),c.ta.length===0?o=e.ra()?0:1:!c.na()&&e.ra()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function LR(r,e){const i=Dt(r);let s=!1;for(const o of e){const c=o.query,f=i.queries.get(c);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&Am(i)}function PR(r,e,i){const s=Dt(r),o=s.queries.get(e);if(o)for(const c of o.ta)c.onError(i);s.queries.delete(e)}function Am(r){r.ia.forEach(e=>{e.next()})}var Pd,uv;(uv=Pd||(Pd={}))._a="default",uv.Cache="cache";class xm{constructor(e,i,s){this.query=e,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new ks(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ua?this.la(e)&&(this.aa.next(e),i=!0):this.ha(e,this.onlineState)&&(this.Pa(e),i=!0),this.ca=e,i}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),i=!0),i}ha(e,i){if(!e.fromCache||!this.ra())return!0;const s=i!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}la(e){if(e.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(e){e=ks.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Pd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e){this.key=e}}class nE{constructor(e){this.key=e}}class kR{constructor(e,i){this.query=e,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=zt(),this.mutatedKeys=zt(),this.ya=b0(e),this.wa=new Ms(this.ya)}get Sa(){return this.fa}ba(e,i){const s=i?i.Da:new lv,o=i?i.wa:this.wa;let c=i?i.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,S)=>{const x=o.get(E),D=Bc(this.query,S)?S:null,V=!!x&&this.mutatedKeys.has(x.key),G=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let N=!1;x&&D?x.data.isEqual(D.data)?V!==G&&(s.track({type:3,doc:D}),N=!0):this.va(x,D)||(s.track({type:2,doc:D}),N=!0,(g&&this.ya(D,g)>0||y&&this.ya(D,y)<0)&&(m=!0)):!x&&D?(s.track({type:0,doc:D}),N=!0):x&&!D&&(s.track({type:1,doc:x}),N=!0,(g||y)&&(m=!0)),N&&(D?(f=f.add(D),c=G?c.add(E):c.delete(E)):(f=f.delete(E),c=c.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{wa:f,Da:s,ls:m,mutatedKeys:c}}va(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const c=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((E,S)=>function(D,V){const G=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rt()}};return G(D)-G(V)}(E.type,S.type)||this.ya(E.doc,S.doc)),this.Ca(s),o=o!=null&&o;const m=i&&!o?this.Fa():[],g=this.pa.size===0&&this.current&&!o?1:0,y=g!==this.ga;return this.ga=g,f.length!==0||y?{snapshot:new ks(this.query,e.wa,c,f,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new lv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=zt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const i=[];return e.forEach(s=>{this.pa.has(s)||i.push(new nE(s))}),this.pa.forEach(s=>{e.has(s)||i.push(new eE(s))}),i}Oa(e){this.fa=e.gs,this.pa=zt();const i=this.ba(e.documents);return this.applyChanges(i,!0)}Na(){return ks.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Rm="SyncEngine";class zR{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class BR{constructor(e){this.key=e,this.Ba=!1}}class qR{constructor(e,i,s,o,c,f){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new ja(m=>T0(m),zc),this.qa=new Map,this.Qa=new Set,this.$a=new _e(Tt.comparator),this.Ua=new Map,this.Ka=new fm,this.Wa={},this.Ga=new Map,this.za=Ps.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function HR(r,e,i=!0){const s=oE(r);let o;const c=s.ka.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.Na()):o=await iE(s,e,i,!0),o}async function GR(r,e){const i=oE(r);await iE(i,e,!0,!1)}async function iE(r,e,i,s){const o=await cR(r.localStore,bi(e)),c=o.targetId,f=r.sharedClientState.addLocalQueryTarget(c,i);let m;return s&&(m=await FR(r,e,c,f==="current",o.resumeToken)),r.isPrimaryClient&&i&&$0(r.remoteStore,o),m}async function FR(r,e,i,s,o){r.Ha=(S,x,D)=>async function(G,N,z,Y){let B=N.view.ba(z);B.ls&&(B=await ev(G.localStore,N.query,!1).then(({documents:O})=>N.view.ba(O,B)));const ct=Y&&Y.targetChanges.get(N.targetId),ot=Y&&Y.targetMismatches.get(N.targetId)!=null,pt=N.view.applyChanges(B,G.isPrimaryClient,ct,ot);return hv(G,N.targetId,pt.Ma),pt.snapshot}(r,S,x,D);const c=await ev(r.localStore,e,!0),f=new kR(e,c.gs),m=f.ba(c.documents),g=wo.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,g);hv(r,i,y.Ma);const E=new zR(e,i,f);return r.ka.set(e,E),r.qa.has(i)?r.qa.get(i).push(e):r.qa.set(i,[e]),y.snapshot}async function QR(r,e,i){const s=Dt(r),o=s.ka.get(e),c=s.qa.get(o.targetId);if(c.length>1)return s.qa.set(o.targetId,c.filter(f=>!zc(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Ud(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&gm(s.remoteStore,o.targetId),kd(s,o.targetId)}).catch(Qs)):(kd(s,o.targetId),await Ud(s.localStore,o.targetId,!0))}async function YR(r,e){const i=Dt(r),s=i.ka.get(e),o=i.qa.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),gm(i.remoteStore,s.targetId))}async function KR(r,e,i){const s=ew(r);try{const o=await function(f,m){const g=Dt(f),y=ze.now(),E=m.reduce((D,V)=>D.add(V.key),zt());let S,x;return g.persistence.runTransaction("Locally write mutations","readwrite",D=>{let V=ar(),G=zt();return g.ds.getEntries(D,E).next(N=>{V=N,V.forEach((z,Y)=>{Y.isValidDocument()||(G=G.add(z))})}).next(()=>g.localDocuments.getOverlayedDocuments(D,V)).next(N=>{S=N;const z=[];for(const Y of m){const B=cx(Y,S.get(Y.key).overlayedDocument);B!=null&&z.push(new Kr(Y.key,B,d0(B.value.mapValue),mn.exists(!0)))}return g.mutationQueue.addMutationBatch(D,y,z,m)}).next(N=>{x=N;const z=N.applyToLocalDocumentSet(S,G);return g.documentOverlayCache.saveOverlays(D,N.batchId,z)})}).then(()=>({batchId:x.batchId,changes:A0(S)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,g){let y=f.Wa[f.currentUser.toKey()];y||(y=new _e(Ut)),y=y.insert(m,g),f.Wa[f.currentUser.toKey()]=y}(s,o.batchId,i),await Do(s,o.changes),await Kc(s.remoteStore)}catch(o){const c=Tm(o,"Failed to persist write");i.reject(c)}}async function rE(r,e){const i=Dt(r);try{const s=await lR(i.localStore,e);e.targetChanges.forEach((o,c)=>{const f=i.Ua.get(c);f&&(te(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?te(f.Ba):o.removedDocuments.size>0&&(te(f.Ba),f.Ba=!1))}),await Do(i,s,e)}catch(s){await Qs(s)}}function cv(r,e,i){const s=Dt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.ka.forEach((c,f)=>{const m=f.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const g=Dt(f);g.onlineState=m;let y=!1;g.queries.forEach((E,S)=>{for(const x of S.ta)x.sa(m)&&(y=!0)}),y&&Am(g)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function $R(r,e,i){const s=Dt(r);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Ua.get(e),c=o&&o.key;if(c){let f=new _e(Tt.comparator);f=f.insert(c,on.newNoDocument(c,wt.min()));const m=zt().add(c),g=new Fc(wt.min(),new Map,new _e(Ut),f,m);await rE(s,g),s.$a=s.$a.remove(c),s.Ua.delete(e),wm(s)}else await Ud(s.localStore,e,!1).then(()=>kd(s,e,i)).catch(Qs)}async function XR(r,e){const i=Dt(r),s=e.batch.batchId;try{const o=await sR(i.localStore,e);sE(i,s,null),aE(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Do(i,o)}catch(o){await Qs(o)}}async function WR(r,e,i){const s=Dt(r);try{const o=await function(f,m){const g=Dt(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return g.mutationQueue.lookupMutationBatch(y,m).next(S=>(te(S!==null),E=S.keys(),g.mutationQueue.removeMutationBatch(y,S))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>g.localDocuments.getDocuments(y,E))})}(s.localStore,e);sE(s,e,i),aE(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await Do(s,o)}catch(o){await Qs(o)}}function aE(r,e){(r.Ga.get(e)||[]).forEach(i=>{i.resolve()}),r.Ga.delete(e)}function sE(r,e,i){const s=Dt(r);let o=s.Wa[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function kd(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),i&&r.La.Ja(s,i);r.qa.delete(e),r.isPrimaryClient&&r.Ka.br(e).forEach(s=>{r.Ka.containsKey(s)||lE(r,s)})}function lE(r,e){r.Qa.delete(e.path.canonicalString());const i=r.$a.get(e);i!==null&&(gm(r.remoteStore,i),r.$a=r.$a.remove(e),r.Ua.delete(i),wm(r))}function hv(r,e,i){for(const s of i)s instanceof eE?(r.Ka.addReference(s.key,e),ZR(r,s)):s instanceof nE?(gt(Rm,"Document no longer in limbo: "+s.key),r.Ka.removeReference(s.key,e),r.Ka.containsKey(s.key)||lE(r,s.key)):Rt()}function ZR(r,e){const i=e.key,s=i.path.canonicalString();r.$a.get(i)||r.Qa.has(s)||(gt(Rm,"New document in limbo: "+i),r.Qa.add(s),wm(r))}function wm(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const i=new Tt(he.fromString(e)),s=r.za.next();r.Ua.set(s,new BR(i)),r.$a=r.$a.insert(i,s),$0(r.remoteStore,new Ur(bi(kc(i.path)),s,"TargetPurposeLimboResolution",Uc.ae))}}async function Do(r,e,i){const s=Dt(r),o=[],c=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,g)=>{f.push(s.Ha(g,e,i).then(y=>{var E;if((y||i)&&s.isPrimaryClient){const S=y?!y.fromCache:(E=i==null?void 0:i.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(g.targetId,S?"current":"not-current")}if(y){o.push(y);const S=mm.Yi(g.targetId,y);c.push(S)}}))}),await Promise.all(f),s.La.p_(o),await async function(g,y){const E=Dt(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>st.forEach(y,x=>st.forEach(x.Hi,D=>E.persistence.referenceDelegate.addReference(S,x.targetId,D)).next(()=>st.forEach(x.Ji,D=>E.persistence.referenceDelegate.removeReference(S,x.targetId,D)))))}catch(S){if(!Ys(S))throw S;gt(pm,"Failed to update sequence numbers: "+S)}for(const S of y){const x=S.targetId;if(!S.fromCache){const D=E.Ts.get(x),V=D.snapshotVersion,G=D.withLastLimboFreeSnapshotVersion(V);E.Ts=E.Ts.insert(x,G)}}}(s.localStore,c))}async function JR(r,e){const i=Dt(r);if(!i.currentUser.isEqual(e)){gt(Rm,"User change. New user:",e.toKey());const s=await F0(i.localStore,e);i.currentUser=e,function(c,f){c.Ga.forEach(m=>{m.forEach(g=>{g.reject(new yt(at.CANCELLED,f))})}),c.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Do(i,s.Rs)}}function tw(r,e){const i=Dt(r),s=i.Ua.get(e);if(s&&s.Ba)return zt().add(s.key);{let o=zt();const c=i.qa.get(e);if(!c)return o;for(const f of c){const m=i.ka.get(f);o=o.unionWith(m.view.Sa)}return o}}function oE(r){const e=Dt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=rE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$R.bind(null,e),e.La.p_=LR.bind(null,e.eventManager),e.La.Ja=PR.bind(null,e.eventManager),e}function ew(r){const e=Dt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=XR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WR.bind(null,e),e}class Vc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,i){return null}nu(e,i){return null}eu(e){return aR(this.persistence,new nR,e.initialUser,this.serializer)}Xa(e){return new G0(dm.ri,this.serializer)}Za(e){return new fR}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vc.provider={build:()=>new Vc};class nw extends Vc{constructor(e){super(),this.cacheSizeBytes=e}tu(e,i){te(this.persistence.referenceDelegate instanceof Dc);const s=this.persistence.referenceDelegate.garbageCollector;return new Bx(s,e.asyncQueue,i)}Xa(e){const i=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new G0(s=>Dc.ri(s,i),this.serializer)}}class zd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>cv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=JR.bind(null,this.syncEngine),await OR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new UR}()}createDatastore(e){const i=Qc(e.databaseInfo.databaseId),s=function(c){return new yR(c)}(e.databaseInfo);return function(c,f,m,g){return new TR(c,f,m,g)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,o,c,f,m){return new SR(s,o,c,f,m)}(this.localStore,this.datastore,e.asyncQueue,i=>cv(this.syncEngine,i,0),function(){return rv.D()?new rv:new dR}())}createSyncEngine(e,i){return function(o,c,f,m,g,y,E){const S=new qR(o,c,f,m,g,y);return E&&(S.ja=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const c=Dt(o);gt(Na,"RemoteStore shutting down."),c.W_.add(5),await Co(c),c.z_.shutdown(),c.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}zd.provider={build:()=>new zd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):rr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr="FirestoreClient";class iw{constructor(e,i,s,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=ln.UNAUTHENTICATED,this.clientId=i0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async f=>{gt(Qr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(gt(Qr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Tm(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function md(r,e){r.asyncQueue.verifyOperationInProgress(),gt(Qr,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await F0(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function fv(r,e){r.asyncQueue.verifyOperationInProgress();const i=await rw(r);gt(Qr,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener(s=>sv(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>sv(e.remoteStore,o)),r._onlineComponents=e}async function rw(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){gt(Qr,"Using user provided OfflineComponentProvider");try{await md(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===at.FAILED_PRECONDITION||o.code===at.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;Os("Error using user provided cache. Falling back to memory cache: "+i),await md(r,new Vc)}}else gt(Qr,"Using default OfflineComponentProvider"),await md(r,new nw(void 0));return r._offlineComponents}async function uE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(gt(Qr,"Using user provided OnlineComponentProvider"),await fv(r,r._uninitializedComponentsProvider._online)):(gt(Qr,"Using default OnlineComponentProvider"),await fv(r,new zd))),r._onlineComponents}function aw(r){return uE(r).then(e=>e.syncEngine)}async function Nc(r){const e=await uE(r),i=e.eventManager;return i.onListen=HR.bind(null,e.syncEngine),i.onUnlisten=QR.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=GR.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=YR.bind(null,e.syncEngine),i}function sw(r,e,i={}){const s=new er;return r.asyncQueue.enqueueAndForget(async()=>function(c,f,m,g,y){const E=new Cm({next:x=>{E.su(),f.enqueueAndForget(()=>Sm(c,S));const D=x.docs.has(m);!D&&x.fromCache?y.reject(new yt(at.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&x.fromCache&&g&&g.source==="server"?y.reject(new yt(at.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(x)},error:x=>y.reject(x)}),S=new xm(kc(m.path),E,{includeMetadataChanges:!0,Ta:!0});return bm(c,S)}(await Nc(r),r.asyncQueue,e,i,s)),s.promise}function lw(r,e,i={}){const s=new er;return r.asyncQueue.enqueueAndForget(async()=>function(c,f,m,g,y){const E=new Cm({next:x=>{E.su(),f.enqueueAndForget(()=>Sm(c,S)),x.fromCache&&g.source==="server"?y.reject(new yt(at.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(x)},error:x=>y.reject(x)}),S=new xm(m,E,{includeMetadataChanges:!0,Ta:!0});return bm(c,S)}(await Nc(r),r.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(r,e,i){if(!i)throw new yt(at.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function ow(r,e,i,s){if(e===!0&&s===!0)throw new yt(at.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function mv(r){if(!Tt.isDocumentKey(r))throw new yt(at.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function pv(r){if(Tt.isDocumentKey(r))throw new yt(at.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function $c(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Rt()}function pn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new yt(at.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=$c(r);throw new yt(at.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="firestore.googleapis.com",gv=!0;class yv{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new yt(at.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=fE,this.ssl=gv}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:gv;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=H0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<kx)throw new yt(at.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ow("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cE((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new yt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new yt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new yt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new yt(at.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new yt(at.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new pA;switch(s.type){case"firstParty":return new vA(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new yt(at.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=dv.get(i);s&&(gt("ComponentProvider","Removing Datastore"),dv.delete(i),s.terminate())}(this),Promise.resolve()}}function uw(r,e,i,s={}){var o;const c=(r=pn(r,Xc))._getSettings(),f=Object.assign(Object.assign({},c),{emulatorOptions:r._getEmulatorOptions()}),m=`${e}:${i}`;c.host!==fE&&c.host!==m&&Os("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},c),{host:m,ssl:!1,emulatorOptions:s});if(!vc(g,f)&&(r._setSettings(g),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=ln.MOCK_USER;else{y=Q1(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new yt(at.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new ln(S)}r._authCredentials=new gA(new e0(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new La(this.firestore,e,this._query)}}class un{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new un(this.firestore,e,this._key)}}class zr extends La{constructor(e,i,s){super(e,i,kc(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new un(this.firestore,null,new Tt(e))}withConverter(e){return new zr(this.firestore,e,this._path)}}function en(r,e,...i){if(r=Fn(r),hE("collection","path",e),r instanceof Xc){const s=he.fromString(e,...i);return pv(s),new zr(r,null,s)}{if(!(r instanceof un||r instanceof zr))throw new yt(at.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(he.fromString(e,...i));return pv(s),new zr(r.firestore,null,s)}}function Te(r,e,...i){if(r=Fn(r),arguments.length===1&&(e=i0.newId()),hE("doc","path",e),r instanceof Xc){const s=he.fromString(e,...i);return mv(s),new un(r,null,new Tt(s))}{if(!(r instanceof un||r instanceof zr))throw new yt(at.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(he.fromString(e,...i));return mv(s),new un(r.firestore,r instanceof zr?r.converter:null,new Tt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v="AsyncQueue";class vv{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Y0(this,"async_queue_retry"),this.Su=()=>{const s=dd();s&&gt(_v,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const i=dd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const i=dd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const i=new er;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Ys(e))throw e;gt(_v,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const i=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw rr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=i,i}enqueueAfterDelay(e,i,s){this.Du(),this.wu.indexOf(e)>-1&&(i=0);const o=Em.createAndSchedule(this,e,i,s,c=>this.Fu(c));return this.fu.push(o),o}Du(){this.gu&&Rt()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const i of this.fu)if(i.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const i=this.fu.indexOf(e);this.fu.splice(i,1)}}function Ev(r){return function(i,s){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1}(r,["next","error","complete"])}class xi extends Xc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new vv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vv(e),this._firestoreClient=void 0,await e}}}function cw(r,e){const i=typeof r=="object"?r:nA(),s=typeof r=="string"?r:Sc,o=WS(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=G1("firestore");c&&uw(o,...c)}return o}function Io(r){if(r._terminated)throw new yt(at.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||hw(r),r._firestoreClient}function hw(r){var e,i,s;const o=r._freezeSettings(),c=function(m,g,y,E){return new OA(m,g,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,cE(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new iw(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zs(nn.fromBase64String(e))}catch(i){throw new yt(at.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new zs(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new yt(at.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new yt(at.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new yt(at.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ut(this._lat,e._lat)||Ut(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw=/^__.*__$/;class dw{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Kr(e,this.data,this.fieldMask,i,this.fieldTransforms):new Ro(e,this.data,i,this.fieldTransforms)}}class dE{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new Kr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function mE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rt()}}class Vm{constructor(e,i,s,o,c,f){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Vm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Uu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Mc(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(mE(this.Lu)&&fw.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class mw{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Qc(e)}ju(e,i,s,o=!1){return new Vm({Lu:e,methodName:i,zu:s,path:tn.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function No(r){const e=r._freezeSettings(),i=Qc(r._databaseId);return new mw(r._databaseId,!!e.ignoreUndefinedProperties,i)}function Nm(r,e,i,s,o,c={}){const f=r.ju(c.merge||c.mergeFields?2:0,e,i,o);Om("Data must be an object, but it was:",f,s);const m=yE(s,f);let g,y;if(c.merge)g=new Dn(f.fieldMask),y=f.fieldTransforms;else if(c.mergeFields){const E=[];for(const S of c.mergeFields){const x=Bd(e,S,i);if(!f.contains(x))throw new yt(at.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);vE(E,x)||E.push(x)}g=new Dn(E),y=f.fieldTransforms.filter(S=>g.covers(S.field))}else g=null,y=f.fieldTransforms;return new dw(new En(m),g,y)}class Zc extends Wc{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zc}}class Mm extends Wc{_toFieldTransform(e){return new sx(e.path,new Eo)}isEqual(e){return e instanceof Mm}}function pE(r,e,i,s){const o=r.ju(1,e,i);Om("Data must be an object, but it was:",o,s);const c=[],f=En.empty();Yr(s,(g,y)=>{const E=jm(e,g,i);y=Fn(y);const S=o.Uu(E);if(y instanceof Zc)c.push(E);else{const x=Mo(y,S);x!=null&&(c.push(E),f.set(E,x))}});const m=new Dn(c);return new dE(f,m,o.fieldTransforms)}function gE(r,e,i,s,o,c){const f=r.ju(1,e,i),m=[Bd(e,s,i)],g=[o];if(c.length%2!=0)throw new yt(at.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<c.length;x+=2)m.push(Bd(e,c[x])),g.push(c[x+1]);const y=[],E=En.empty();for(let x=m.length-1;x>=0;--x)if(!vE(y,m[x])){const D=m[x];let V=g[x];V=Fn(V);const G=f.Uu(D);if(V instanceof Zc)y.push(D);else{const N=Mo(V,G);N!=null&&(y.push(D),E.set(D,N))}}const S=new Dn(y);return new dE(E,S,f.fieldTransforms)}function pw(r,e,i,s=!1){return Mo(i,r.ju(s?4:3,e))}function Mo(r,e){if(_E(r=Fn(r)))return Om("Unsupported field value:",e,r),yE(r,e);if(r instanceof Wc)return function(s,o){if(!mE(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const c=[];let f=0;for(const m of s){let g=Mo(m,o.Ku(f));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),f++}return{arrayValue:{values:c}}}(r,e)}return function(s,o){if((s=Fn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return ix(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=ze.fromDate(s);return{timestampValue:Cc(o.serializer,c)}}if(s instanceof ze){const c=new ze(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Cc(o.serializer,c)}}if(s instanceof Dm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof zs)return{bytesValue:U0(o.serializer,s._byteString)};if(s instanceof un){const c=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:hm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Im)return function(f,m){return{mapValue:{fields:{[h0]:{stringValue:f0},[Ac]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.Wu("VectorValues must only contain numeric values.");return om(m.serializer,y)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${$c(s)}`)}(r,e)}function yE(r,e){const i={};return a0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yr(r,(s,o)=>{const c=Mo(o,e.qu(s));c!=null&&(i[s]=c)}),{mapValue:{fields:i}}}function _E(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ze||r instanceof Dm||r instanceof zs||r instanceof un||r instanceof Wc||r instanceof Im)}function Om(r,e,i){if(!_E(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const s=$c(i);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function Bd(r,e,i){if((e=Fn(e))instanceof Vo)return e._internalPath;if(typeof e=="string")return jm(r,e);throw Mc("Field path arguments must be of type string or ",r,!1,void 0,i)}const gw=new RegExp("[~\\*/\\[\\]]");function jm(r,e,i){if(e.search(gw)>=0)throw Mc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Vo(...e.split("."))._internalPath}catch{throw Mc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Mc(r,e,i,s,o){const c=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;i&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(c||f)&&(g+=" (found",c&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new yt(at.INVALID_ARGUMENT,m+r+g)}function vE(r,e){return r.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e,i,s,o,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new yw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Um("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class yw extends EE{data(){return super.data()}}function Um(r,e){return typeof e=="string"?jm(r,e):e instanceof Vo?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new yt(at.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lm{}class _w extends Lm{}function qd(r,e,...i){let s=[];e instanceof Lm&&s.push(e),s=s.concat(i),function(c){const f=c.filter(g=>g instanceof Pm).length,m=c.filter(g=>g instanceof Jc).length;if(f>1||f>0&&m>0)throw new yt(at.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class Jc extends _w{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new Jc(e,i,s)}_apply(e){const i=this._parse(e);return bE(e._query,i),new La(e.firestore,e.converter,Id(e._query,i))}_parse(e){const i=No(e.firestore);return function(c,f,m,g,y,E,S){let x;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new yt(at.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){bv(S,E);const V=[];for(const G of S)V.push(Tv(g,c,G));x={arrayValue:{values:V}}}else x=Tv(g,c,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||bv(S,E),x=pw(m,f,S,E==="in"||E==="not-in");return Me.create(y,E,x)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function Hd(r,e,i){const s=e,o=Um("where",r);return Jc._create(o,s,i)}class Pm extends Lm{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Pm(e,i)}_parse(e){const i=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return i.length===1?i[0]:ti.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:(function(o,c){let f=o;const m=c.getFlattenedFilters();for(const g of m)bE(f,g),f=Id(f,g)}(e._query,i),new La(e.firestore,e.converter,Id(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Tv(r,e,i){if(typeof(i=Fn(i))=="string"){if(i==="")throw new yt(at.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!E0(e)&&i.indexOf("/")!==-1)throw new yt(at.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(he.fromString(i));if(!Tt.isDocumentKey(s))throw new yt(at.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return U_(r,new Tt(s))}if(i instanceof un)return U_(r,i._key);throw new yt(at.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$c(i)}.`)}function bv(r,e){if(!Array.isArray(r)||r.length===0)throw new yt(at.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function bE(r,e){const i=function(o,c){for(const f of o)for(const m of f.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new yt(at.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new yt(at.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class vw{convertValue(e,i="none"){switch(Gr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Re(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Hr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Rt()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Yr(e,(o,c)=>{s[o]=this.convertValue(c,i)}),s}convertVectorValue(e){var i,s,o;const c=(o=(s=(i=e.fields)===null||i===void 0?void 0:i[Ac].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>Re(f.doubleValue));return new Im(c)}convertGeoPoint(e){return new Dm(Re(e.latitude),Re(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=Pc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(yo(e));default:return null}}convertTimestamp(e){const i=qr(e);return new ze(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=he.fromString(e);te(q0(s));const o=new _o(s.get(1),s.get(3)),c=new Tt(s.popFirst(5));return o.isEqual(i)||rr(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(r,e,i){let s;return s=r?i&&(i.merge||i.mergeFields)?r.toFirestore(e,i):r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class SE extends EE{constructor(e,i,s,o,c,f){super(e,i,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new gc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(Um("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class gc extends SE{data(e={}){return super.data(e)}}class AE{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new lo(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new gc(this._firestore,this._userDataWriter,s.key,s,new lo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new yt(at.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const g=new gc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new lo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const g=new gc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new lo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:Ew(m.type),doc:g,oldIndex:y,newIndex:E}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function Ew(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ma(r){r=pn(r,un);const e=pn(r.firestore,xi);return sw(Io(e),r._key).then(i=>CE(e,r,i))}class zm extends vw{constructor(e){super(),this.firestore=e}convertBytes(e){return new zs(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new un(this.firestore,null,i)}}function Bs(r){r=pn(r,La);const e=pn(r.firestore,xi),i=Io(e),s=new zm(e);return TE(r._query),lw(i,r._query).then(o=>new AE(e,s,r,o))}function xE(r,e,i){r=pn(r,un);const s=pn(r.firestore,xi),o=km(r.converter,e,i);return Oo(s,[Nm(No(s),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,mn.none())])}function RE(r,e,i,...s){r=pn(r,un);const o=pn(r.firestore,xi),c=No(o);let f;return f=typeof(e=Fn(e))=="string"||e instanceof Vo?gE(c,"updateDoc",r._key,e,i,s):pE(c,"updateDoc",r._key,e),Oo(o,[f.toMutation(r._key,mn.exists(!0))])}function Tw(r){return Oo(pn(r.firestore,xi),[new Gc(r._key,mn.none())])}function wE(r,e){const i=pn(r.firestore,xi),s=Te(r),o=km(r.converter,e);return Oo(i,[Nm(No(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,mn.exists(!1))]).then(()=>s)}function In(r,...e){var i,s,o;r=Fn(r);let c={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||Ev(e[f])||(c=e[f],f++);const m={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(Ev(e[f])){const S=e[f];e[f]=(i=S.next)===null||i===void 0?void 0:i.bind(S),e[f+1]=(s=S.error)===null||s===void 0?void 0:s.bind(S),e[f+2]=(o=S.complete)===null||o===void 0?void 0:o.bind(S)}let g,y,E;if(r instanceof un)y=pn(r.firestore,xi),E=kc(r._key.path),g={next:S=>{e[f]&&e[f](CE(y,r,S))},error:e[f+1],complete:e[f+2]};else{const S=pn(r,La);y=pn(S.firestore,xi),E=S._query;const x=new zm(y);g={next:D=>{e[f]&&e[f](new AE(y,x,S,D))},error:e[f+1],complete:e[f+2]},TE(r._query)}return function(x,D,V,G){const N=new Cm(G),z=new xm(D,N,V);return x.asyncQueue.enqueueAndForget(async()=>bm(await Nc(x),z)),()=>{N.su(),x.asyncQueue.enqueueAndForget(async()=>Sm(await Nc(x),z))}}(Io(y),E,m,g)}function Oo(r,e){return function(s,o){const c=new er;return s.asyncQueue.enqueueAndForget(async()=>KR(await aw(s),o,c)),c.promise}(Io(r),e)}function CE(r,e,i){const s=i.docs.get(e._key),o=new zm(r);return new SE(r,o,e._key,s,new lo(i.hasPendingWrites,i.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=No(e)}set(e,i,s){this._verifyNotCommitted();const o=pd(e,this._firestore),c=km(o.converter,i,s),f=Nm(this._dataReader,"WriteBatch.set",o._key,c,o.converter!==null,s);return this._mutations.push(f.toMutation(o._key,mn.none())),this}update(e,i,s,...o){this._verifyNotCommitted();const c=pd(e,this._firestore);let f;return f=typeof(i=Fn(i))=="string"||i instanceof Vo?gE(this._dataReader,"WriteBatch.update",c._key,i,s,o):pE(this._dataReader,"WriteBatch.update",c._key,i),this._mutations.push(f.toMutation(c._key,mn.exists(!0))),this}delete(e){this._verifyNotCommitted();const i=pd(e,this._firestore);return this._mutations=this._mutations.concat(new Gc(i._key,mn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new yt(at.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function pd(r,e){if((r=Fn(r)).firestore!==e)throw new yt(at.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function Da(){return new Mm("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(r){return Io(r=pn(r,xi)),new bw(r,e=>Oo(r,e))}(function(e,i=!0){(function(o){Fs=o})(eA),Tc(new mo("firestore",(s,{instanceIdentifier:o,options:c})=>{const f=s.getProvider("app").getImmediate(),m=new xi(new yA(s.getProvider("auth-internal")),new EA(f,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new yt(at.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _o(y.options.projectId,E)}(f,o),f);return c=Object.assign({useFetchStreams:i},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),Ns(A_,x_,e),Ns(A_,x_,"esm2017")})();const Sw={apiKey:"AIzaSyA",authDomain:"myattendanceproject-45c1b.firebaseapp.com",projectId:"myattendanceproject-45c1b",storageBucket:"myattendanceproject-45c1b.appspot.com",messagingSenderId:"347137303283",appId:"1:347137303283:web:9369753f976dffcf65cd86"},Aw=Qv(Sw),Nt=cw(Aw);function xw({onLoginSuccess:r}){const[e,i]=P.useState(""),[s,o]=P.useState(""),[c,f]=P.useState(""),m=Kd(),g=E=>{const S=(E||"").toString().trim(),x=S.slice(0,6).replace(/[^0-9]/g,""),D=S.slice(6).replace(/[^A-Za-z-]/g,"");return{birth6:x,name:D}},y=async()=>{f("");const E=(e||"").replace(/\s+/g,""),S=(s||"").replace(/[^0-9]/g,"").slice(0,4),{birth6:x,name:D}=g(E);if(x.length!==6||!D){f(" 6+  . : 170806");return}if(S.length!==4){f("    4.");return}try{const V=await Bs(en(Nt,"students")),G=[];if(V.forEach(z=>{const Y=z.data()||{},B=(Y.name||"").toString().trim(),ot=(Y.birth||"").toString().replace(/[^0-9]/g,"").slice(-6),O=(Y.parentPhone||Y.parent_phone||Y.momPhone||"").toString().replace(/[^0-9]/g,"").slice(-4);ot===x&&B===D&&O===S&&G.push({id:z.id,data:Y})}),G.length===0){f("  . (+) ( 4)  .");return}const N=G[0];localStorage.setItem("studentId",N.id),localStorage.setItem("studentName",N.data.name||"");try{await wE(en(Nt,"parentLogins"),{studentId:N.id,studentName:N.data.name||"",loginTime:Da()})}catch(z){console.error("parentLogins   :",z)}r&&r(),m("/attendance")}catch(V){console.error(V),f("   .")}};return T.jsxs("div",{style:{maxWidth:380,margin:"40px auto",padding:16},children:[T.jsx("h1",{style:{fontSize:22,fontWeight:800,marginBottom:12},children:" "}),T.jsx("label",{style:{display:"block",fontWeight:600,marginTop:8},children:""}),T.jsx("input",{value:e,onChange:E=>i(E.target.value),placeholder:": 170806 (6+)",style:{width:"100%",padding:10,borderRadius:8,border:"1px solid #d1d5db"}}),T.jsx("label",{style:{display:"block",fontWeight:600,marginTop:12},children:""}),T.jsx("input",{value:s,onChange:E=>o(E.target.value.replace(/[^0-9]/g,"").slice(0,4)),placeholder:"   4",inputMode:"numeric",maxLength:4,style:{width:"100%",padding:10,borderRadius:8,border:"1px solid #d1d5db"}}),T.jsx("button",{onClick:y,style:{width:"100%",padding:12,borderRadius:10,marginTop:16,fontWeight:800,border:"1px solid #0d6efd",background:"#0d6efd",color:"#fff",cursor:"pointer"},children:""}),c&&T.jsx("div",{style:{color:"#dc3545",marginTop:8},children:c}),T.jsxs("div",{style:{marginTop:12,fontSize:12,color:"#6b7280",lineHeight:1.5},children:[' : 2017-08-06  ""   ',T.jsx("b",{children:"170806"}),",  ",T.jsx("b",{children:"  4"}),T.jsx("br",{})]})]})}function Rw(){const r=(localStorage.getItem("studentName")||"").trim(),[e,i]=P.useState({}),[s,o]=P.useState({}),[c,f]=P.useState(()=>new Date().getFullYear()),[m,g]=P.useState(()=>new Date().getMonth());P.useEffect(()=>{const N=In(en(Nt,"attendance"),z=>{const Y={};z.forEach(B=>{const ct=B.id,ot=B.data()||{};Y[ct]=ot}),i(Y)});return()=>N()},[]),P.useEffect(()=>{const N=In(en(Nt,"holidays"),z=>{const Y={};z.forEach(B=>{const ct=B.data()||{},ot=(ct.date||"").toString(),pt=(ct.name||"").toString();ot&&(Y[ot]=pt||"")}),o(Y)});return()=>N()},[]);const y=P.useMemo(()=>r?Object.entries(e).map(([N,z])=>{const Y=z==null?void 0:z[r];return Y?{date:N,time:Y.time||"",departureTime:Y.departureTime||"",status:Y.status||""}:null}).filter(Boolean).sort((N,z)=>z.date.localeCompare(N.date)):[],[e,r]),E=P.useMemo(()=>{const N=`${c}-${String(m+1).padStart(2,"0")}`;return y.filter(z=>z.date.startsWith(N))},[y,c,m]),S=P.useMemo(()=>{const N=new Date(c,m,1),z=[],Y=N.getDay(),B=new Date(N),ct=(Y+6)%7;B.setDate(N.getDate()-ct);for(let ot=0;ot<6;ot++){const pt=[],O=new Date(B);O.setDate(B.getDate()+ot*7);for(let R=0;R<7;R++){const w=new Date(O);w.setDate(O.getDate()+R);const j=w.getDay();j>=1&&j<=5&&pt.push(new Date(w))}pt.some(R=>R.getMonth()===m||R.getMonth()!==m&&R.getDate()<=7)&&z.push(pt)}for(;z.length&&z[z.length-1].every(ot=>ot.getMonth()!==m);)z.pop();return z},[c,m]),x=N=>{const z=N.getFullYear(),Y=String(N.getMonth()+1).padStart(2,"0"),B=String(N.getDate()).padStart(2,"0");return`${z}-${Y}-${B}`},D=`${c} ${String(m+1).padStart(2,"0")}`,V=()=>{const N=new Date(c,m-1,1);f(N.getFullYear()),g(N.getMonth())},G=()=>{const N=new Date(c,m+1,1);f(N.getFullYear()),g(N.getMonth())};return T.jsxs("div",{style:{padding:16},children:[T.jsx("h1",{style:{fontSize:22,fontWeight:800,marginBottom:8},children:" "}),T.jsx("div",{style:{color:"#6b7280",marginBottom:12},children:r?`: ${r}`:"  ."}),T.jsxs("div",{style:{border:"1px solid #e5e7eb",borderRadius:8,padding:12,marginBottom:16},children:[T.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},children:[T.jsx("button",{onClick:V,style:{padding:"6px 10px",border:"1px solid #d1d5db",borderRadius:8,background:"#fff",cursor:"pointer"},children:""}),T.jsx("div",{style:{fontWeight:800},children:D}),T.jsx("button",{onClick:G,style:{padding:"6px 10px",border:"1px solid #d1d5db",borderRadius:8,background:"#fff",cursor:"pointer"},children:""})]}),T.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:8,paddingBottom:8,borderBottom:"1px solid #f1f5f9",fontWeight:700,color:"#6b7280"},children:["","","","",""].map(N=>T.jsx("div",{style:{textAlign:"center"},children:N},N))}),T.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:8,marginTop:8},children:S.map((N,z)=>T.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:8},children:N.map(Y=>{var O;const B=x(Y),ct=Y.getMonth()===m,ot=(O=e==null?void 0:e[B])==null?void 0:O[r],pt=!!s[B];return T.jsxs("div",{title:pt?`${B}  ${s[B]}`:B,style:{minHeight:72,border:`1px solid ${pt?"#fecaca":"#e5e7eb"}`,borderRadius:8,padding:8,background:ct?pt?"#fff1f2":"#fff":"#fafafa",opacity:ct?1:.6},children:[T.jsxs("div",{style:{display:"flex",alignItems:"baseline",gap:6,marginBottom:4},children:[T.jsx("div",{style:{fontWeight:800,color:pt?"#ef4444":"#111827"},children:Y.getDate()}),pt&&T.jsx("span",{style:{fontSize:11,color:"#ef4444",fontWeight:700},children:s[B]})]}),ot?T.jsxs("div",{style:{fontSize:12,color:"#111827"},children:[T.jsxs("div",{children:[": ",ot.time||"-"]}),T.jsxs("div",{children:[": ",ot.departureTime||"-"]})]}):T.jsx("div",{style:{fontSize:12,color:"#9ca3af"},children:" "})]},B)})},z))})]}),T.jsxs("div",{style:{textAlign:"left"},children:[T.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},children:[T.jsx("h2",{style:{fontSize:18,margin:0},children:"   (/)"}),T.jsxs("div",{children:[T.jsx("button",{onClick:V,style:{padding:"4px 10px",border:"1px solid #d1d5db",borderRadius:8,background:"#fff",cursor:"pointer",marginRight:6},children:""}),T.jsx("span",{style:{fontWeight:700},children:D}),T.jsx("button",{onClick:G,style:{padding:"4px 10px",border:"1px solid #d1d5db",borderRadius:8,background:"#fff",cursor:"pointer",marginLeft:6},children:""})]})]}),E.length===0?T.jsx("div",{style:{color:"#6b7280"},children:"    ."}):T.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14},children:[T.jsx("thead",{children:T.jsxs("tr",{style:{background:"#f8fafc"},children:[T.jsx("th",{style:{textAlign:"left",padding:"8px",borderBottom:"1px solid #e5e7eb"},children:""}),T.jsx("th",{style:{textAlign:"left",padding:"8px",borderBottom:"1px solid #e5e7eb"},children:""}),T.jsx("th",{style:{textAlign:"left",padding:"8px",borderBottom:"1px solid #e5e7eb"},children:""}),T.jsx("th",{style:{textAlign:"left",padding:"8px",borderBottom:"1px solid #e5e7eb"},children:""})]})}),T.jsx("tbody",{children:E.sort((N,z)=>z.date.localeCompare(N.date)).map(N=>T.jsxs("tr",{children:[T.jsxs("td",{style:{padding:"8px",borderBottom:"1px solid #f1f5f9"},children:[N.date,s[N.date]&&T.jsxs("span",{style:{marginLeft:8,fontSize:12,color:"#ef4444",fontWeight:700},children:["(",s[N.date],")"]})]}),T.jsx("td",{style:{padding:"8px",borderBottom:"1px solid #f1f5f9"},children:N.time||"-"}),T.jsx("td",{style:{padding:"8px",borderBottom:"1px solid #f1f5f9"},children:N.departureTime||"-"}),T.jsx("td",{style:{padding:"8px",borderBottom:"1px solid #f1f5f9"},children:N.status||"-"})]},N.date))})]})]})]})}function ww(){var Y;const r=localStorage.getItem("studentId"),e=P.useRef(!1),[i,s]=P.useState(null),[o,c]=P.useState([]),[f,m]=P.useState(0),[g,y]=P.useState({}),[E,S]=P.useState(!1),x=["","",""];P.useEffect(()=>{if(!r)return;const B=In(Te(Nt,"students",r),ct=>{ct.exists()&&s({id:ct.id,...ct.data()})});return()=>B()},[r]),P.useEffect(()=>{if(!r)return;const B=In(en(Nt,"payments"),ct=>{const ot={};ct.docs.forEach(pt=>{const O=pt.data();O.studentId===r&&(ot[O.routineNumber]=O.paymentMethod)}),y(ot)});return()=>B()},[r]),P.useEffect(()=>{if(!r)return;const B=In(en(Nt,"routines"),async ct=>{const ot=ct.docs.filter(U=>{const C=U.data();return C.students&&C.students[r]});if(ot.length===0){c([]);return}let pt=[];ot.forEach(U=>{const C=U.data(),Yt=C.students[r],It=Yt.routineNumber||C.routineNumber||1,W=Yt.sessions||{};Object.values(W).sort((lt,mt)=>(lt.session||0)-(mt.session||0)).forEach(lt=>{pt.push({date:lt.date,session:lt.session,routineNumber:It})})});const O=Array.from(new Set(pt.map(U=>U.date))),R=i&&i.name||null,w=await Promise.all(O.map(async U=>{const C=await Ma(Te(Nt,"attendance",U));if(!C.exists())return[U,{}];const Yt=C.data(),It=Yt[r]||R&&Yt[R]||{};return[U,It]})),j=Object.fromEntries(w),k=pt.map(U=>{var C,Yt;return{...U,status:((C=j[U.date])==null?void 0:C.status)||"",time:((Yt=j[U.date])==null?void 0:Yt.time)||""}});if(c(k),!e.current){e.current=!0;const U=new Date().toISOString().slice(0,10),C={};k.forEach(It=>{const W=It.routineNumber||1;C[W]||(C[W]=[]),C[W].push(It)}),Object.values(C).sort((It,W)=>It[0].routineNumber-W[0].routineNumber).findIndex(It=>It.some(W=>W.date===U)),m(0)}});return()=>B()},[r,i]);const D=async(B,ct)=>{y(ot=>({...ot,[ct]:B})),await xE(Te(Nt,"payments",`${r}_routine_${ct}`),{studentId:r,routineNumber:ct,paymentMethod:B,paymentComplete:!1,updatedAt:new Date().toISOString()},{merge:!0})},V={};o.forEach(B=>{const ct=B.routineNumber||1;V[ct]||(V[ct]=[]),V[ct].push(B)});const G=Object.values(V).sort((B,ct)=>ct[0].routineNumber-B[0].routineNumber),N=G[f]||[],z=((Y=N[0])==null?void 0:Y.routineNumber)??f+1;return P.useEffect(()=>{if(!i||!z){S(!1);return}const B=`${i.name}_${z}`;(async()=>{try{const ot=await Ma(Te(Nt,"payment_completed",B));if(!ot.exists()){S(!1);return}const pt=ot.data();S(!!pt.paymentComplete)}catch(ot){console.error("payment_completed  :",ot),S(!1)}})()},[i,z]),i?T.jsxs("div",{className:"container-wide",style:{textAlign:"center"},children:[T.jsxs("h1",{style:{fontSize:20,marginBottom:16},children:[" ",i.name,"   ",z,""]}),T.jsx("p",{style:{fontSize:18,marginBottom:16},children:E?"  .":"  .    ."}),T.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:8,marginBottom:24},children:[T.jsx("h3",{style:{margin:0,fontSize:16,fontWeight:"bold"},children:""}),x.map(B=>T.jsx("button",{onClick:()=>D(B,z),style:{padding:"4px 8px",background:B===""?"#4caf50":B===""?"#2196f3":"#f44336",color:"white",borderRadius:4,minWidth:80},children:B},B))]}),T.jsxs("p",{style:{fontSize:16,marginBottom:16},children:["   : ",g[z]||"",g[z]===""&&T.jsx("span",{style:{display:"block",marginTop:8,fontSize:14,color:"#555"},children:"      "}),g[z]===""&&T.jsx("span",{style:{display:"block",marginTop:8,fontSize:14,color:"#555"},children:"  5  ."}),g[z]===""&&T.jsx("span",{style:{display:"block",marginTop:8,fontSize:14,color:"#555"},children:" 3333-31-6107963  * "})]}),T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:24},children:[T.jsx("button",{onClick:()=>m(B=>Math.max(B-1,0)),disabled:f===0,style:{padding:"8px 16px",background:f===0?"#ccc":"#1565c0",color:"white",border:"none",borderRadius:4,cursor:f===0?"default":"pointer"},children:""}),T.jsx("button",{onClick:()=>m(B=>Math.min(B+1,G.length-1)),disabled:f>=G.length-1,style:{padding:"8px 16px",background:f>=G.length-1?"#ccc":"#1565c0",color:"white",border:"none",borderRadius:4,cursor:f>=G.length-1?"default":"pointer"},children:""})]}),T.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{style:{border:"1px solid #ccc",padding:8},children:""}),T.jsx("th",{style:{border:"1px solid #ccc",padding:8},children:""}),T.jsx("th",{style:{border:"1px solid #ccc",padding:8},children:""}),T.jsx("th",{style:{border:"1px solid #ccc",padding:8},children:""})]})}),T.jsxs("tbody",{children:[N.map((B,ct)=>{const ot=N.slice(0,ct).reduce((R,w)=>R+(w.status==="carryover"?1:0),0),pt=B.status==="carryover",O=pt?"X":(B.session||ct+1)-ot;return T.jsxs("tr",{children:[T.jsx("td",{style:{border:"1px solid #ccc",padding:8,textAlign:"center"},children:O}),T.jsx("td",{style:{border:"1px solid #ccc",padding:8,textAlign:"center"},children:T.jsx("span",{style:pt?{textDecoration:"line-through",color:"#999"}:{},children:B.date})}),T.jsx("td",{style:{border:"1px solid #ccc",padding:8,textAlign:"center"},children:B.status}),T.jsx("td",{style:{border:"1px solid #ccc",padding:8,textAlign:"center"},children:B.time||"-"})]},ct)}),N.length===0&&T.jsx("tr",{children:T.jsx("td",{colSpan:4,style:{padding:16,textAlign:"center",color:"#888"},children:"  ."})})]})]})]}):T.jsx("p",{children:" "})}const Cw=5;function Dw(r=""){return r?r.split(`
`).map(e=>e||"&nbsp;").join("<br />"):""}function Iw(){const[r,e]=P.useState([]),[i,s]=P.useState(null),[o,c]=P.useState({}),[f,m]=P.useState([]),[g,y]=P.useState([]),[E,S]=P.useState(!1);P.useEffect(()=>{(async()=>{const G=(await Bs(en(Nt,"notices"))).docs.map(N=>{const z=N.data();return{id:N.id,title:z.title||"",date:z.date||"",showOnParents:z.showOnParents,isPinned:z.isPinned===!0,priority:typeof z.priority=="number"?z.priority:9999}}).filter(N=>N.showOnParents!==!1);G.sort((N,z)=>{const Y=N.isPinned?1:0,B=z.isPinned?1:0;if(Y!==B)return B-Y;const ct=N.priority??9999,ot=z.priority??9999;if(ct!==ot)return ct-ot;const pt=N.date||"";return(z.date||"").localeCompare(pt)}),e(G.slice(0,Cw))})(),(async()=>{const D=await Bs(en(Nt,"holidays")),V=new Date().toISOString().slice(0,10),G=D.docs.map(Y=>({id:Y.id,...Y.data()})).filter(Y=>!!Y.date),N=G.filter(Y=>(Y.date||"").toString()>=V).sort((Y,B)=>(Y.date||"").toString().localeCompare((B.date||"").toString())),z=G.filter(Y=>(Y.date||"").toString()<V).sort((Y,B)=>(B.date||"").toString().localeCompare((Y.date||"").toString()));m(N),y(z)})()},[]);const x=async D=>{if(i===D){s(null);return}if(!o[D]){const V=await Ma(Te(Nt,"notices",D));if(V.exists()){const G=V.data(),N=(G.contentHtml||"").toString(),z=(G.contentPlain||"").toString(),Y=(G.content||"").toString();let B=z||Y,ct=N;ct||(ct=Dw(B)),c(ot=>({...ot,[D]:{html:ct,plain:B}}))}}s(D)};return T.jsxs("div",{className:"container",style:{maxWidth:800,margin:"0 auto",padding:"16px"},children:[T.jsxs("div",{style:{background:"#f9fafb",padding:"12px 14px",borderRadius:8,marginBottom:18,border:"1px solid #e5e7eb"},children:[T.jsxs("h2",{style:{fontSize:18,fontWeight:600,marginBottom:6,display:"flex",alignItems:"center",gap:6},children:[T.jsx("span",{children:""})," ",T.jsx("span",{children:"  "})]}),f.length>0?T.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:f.map(D=>T.jsxs("li",{style:{marginBottom:4,fontSize:14,display:"flex",justifyContent:"space-between"},children:[T.jsx("span",{children:D.name}),T.jsx("span",{style:{color:"#dc2626",marginLeft:8},children:D.date})]},D.id))}):T.jsx("p",{style:{fontSize:13,color:"#6b7280",margin:0},children:"  ."}),g.length>0&&T.jsxs("div",{style:{marginTop:10},children:[T.jsx("button",{type:"button",onClick:()=>S(D=>!D),style:{fontSize:12,padding:"4px 8px",borderRadius:4,border:"1px solid #d1d5db",background:"white",cursor:"pointer"},children:E?"   ":"   "}),E&&T.jsx("div",{style:{marginTop:8,maxHeight:160,overflowY:"auto",borderTop:"1px dashed #e5e7eb",paddingTop:6},children:T.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:g.map(D=>T.jsxs("li",{style:{marginBottom:3,fontSize:13,display:"flex",justifyContent:"space-between",color:"#6b7280"},children:[T.jsx("span",{children:D.name}),T.jsx("span",{style:{marginLeft:8},children:D.date})]},D.id))})})]})]}),T.jsx("h1",{style:{fontSize:22,fontWeight:700,marginBottom:10},children:" "}),r.length===0&&T.jsx("p",{style:{fontSize:14,color:"#6b7280"},children:"    ."}),T.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:r.map(D=>{const V=i===D.id,G=o[D.id];return T.jsxs("li",{style:{margin:"6px 0",borderBottom:"1px solid #e5e7eb",padding:"8px 4px 10px"},children:[T.jsxs("div",{onClick:()=>x(D.id),style:{cursor:"pointer",fontWeight:600,fontSize:15,display:"flex",justifyContent:"space-between",alignItems:"center",gap:8},children:[T.jsxs("span",{style:{flex:1},children:[D.isPinned&&T.jsx("span",{style:{display:"inline-block",fontSize:11,color:"#f97316",border:"1px solid #fed7aa",borderRadius:4,padding:"2px 4px",marginRight:6},children:""}),D.title]}),T.jsx("span",{style:{fontSize:12,color:"#6b7280",whiteSpace:"nowrap"},children:D.date})]}),V&&T.jsx("div",{style:{marginTop:8},children:G?T.jsx("div",{style:{fontSize:14,color:"#111827",lineHeight:1.6},dangerouslySetInnerHTML:{__html:G.html}}):T.jsx("span",{style:{fontSize:13,color:"#6b7280"},children:" ..."})})]},D.id)})})]})}function Vw(){const{id:r}=zb(),[e,i]=P.useState(null);return P.useEffect(()=>{(async()=>{const s=await Ma(Te(Nt,"notices",r));s.exists()&&i({id:s.id,...s.data()})})()},[r]),e?T.jsxs("div",{className:"container",style:{maxWidth:800,margin:"0 auto",padding:"16px"},children:[T.jsx("h1",{style:{fontSize:22,fontWeight:"bold",marginBottom:8},children:e.title}),T.jsxs("p",{style:{fontSize:13,color:"#6b7280",marginBottom:16},children:[T.jsx("strong",{children:":"})," ",e.date]}),T.jsx("div",{style:{marginTop:12,fontSize:14,color:"#111827",lineHeight:1.7,whiteSpace:"normal"},dangerouslySetInnerHTML:{__html:e.content||""}}),T.jsx("p",{style:{marginTop:24},children:T.jsx(Jd,{to:"/notices",style:{fontSize:14,color:"#2563eb"},children:"  "})})]}):T.jsx("p",{children:"  "})}function Nw(){console.log("  !");const[r,e]=P.useState([]),[i,s]=P.useState(""),o=localStorage.getItem("studentId");P.useEffect(()=>{const m=en(Nt,"books");return In(m,g=>{const E=g.docs.map(S=>({id:S.id,...S.data()})).filter(S=>S.studentId===o);e(E)})},[o]);const c=P.useMemo(()=>i?[...r].sort((g,y)=>i==="grade"?g.grade-y.grade:i==="title"?g.title.localeCompare(y.title):i==="completedDate"?g.completedDate.localeCompare(y.completedDate):0):r,[r,i]),f=()=>{const m=["","",""," ",""],g=c.map((D,V)=>[V+1,D.name,D.grade,D.title,D.completedDate]);let y=m.join(",")+`
`;g.forEach(D=>{y+=D.join(",")+`
`});const E=new Blob([y],{type:"text/csv;charset=utf-8;"}),S=URL.createObjectURL(E),x=document.createElement("a");x.href=S,x.download=`_${new Date().toISOString().slice(0,10)}.csv`,x.click(),URL.revokeObjectURL(S)};return T.jsxs("div",{className:"container",children:[T.jsxs("h1",{style:{fontSize:"24px",marginBottom:"20px"},children:["   ( : ",r.length,")"]}),T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px"},children:[T.jsx("button",{onClick:f,style:{padding:"8px 16px",backgroundColor:"#007bff",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"},children:" "}),T.jsx("button",{onClick:()=>s("grade"),style:{padding:"8px 12px",marginLeft:"4px",backgroundColor:"#28a745",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"},children:" "}),T.jsx("button",{onClick:()=>s("title"),style:{padding:"8px 12px",backgroundColor:"#17a2b8",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"},children:" "}),T.jsx("button",{onClick:()=>s("completedDate"),style:{padding:"8px 12px",backgroundColor:"#ffc107",color:"#000",border:"none",borderRadius:"4px",cursor:"pointer"},children:" "})]}),T.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"20px"},children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{style:{border:"1px solid #ccc",padding:"8px"},children:""}),T.jsx("th",{style:{border:"1px solid #ccc",padding:"8px"},children:""}),T.jsx("th",{style:{border:"1px solid #ccc",padding:"8px"},children:""}),T.jsx("th",{style:{border:"1px solid #ccc",padding:"8px"},children:" "}),T.jsx("th",{style:{border:"1px solid #ccc",padding:"8px"},children:""})]})}),T.jsx("tbody",{children:c.length>0?c.map((m,g)=>T.jsxs("tr",{children:[T.jsx("td",{style:{border:"1px solid #ccc",padding:"8px"},children:g+1}),T.jsx("td",{style:{border:"1px solid #ccc",padding:"8px"},children:m.name}),T.jsx("td",{style:{border:"1px solid #ccc",padding:"8px"},children:m.grade}),T.jsx("td",{style:{border:"1px solid #ccc",padding:"8px"},children:m.title}),T.jsx("td",{style:{border:"1px solid #ccc",padding:"8px"},children:m.completedDate})]},m.id)):T.jsx("tr",{children:T.jsx("td",{colSpan:"5",style:{border:"1px solid #ccc",padding:"8px",textAlign:"center"},children:"  ."})})})]})]})}function Mw(){const[r,e]=P.useState([]),[i,s]=P.useState([]),[o,c]=P.useState({}),[f,m]=P.useState(null),[g,y]=P.useState(""),E=localStorage.getItem("studentId");P.useEffect(()=>{if(!E)return;const V=en(Nt,"comments");return In(V,G=>{const z=G.docs.map(Y=>({id:Y.id,...Y.data()})).filter(Y=>Y.studentId===E);e(z.sort((Y,B)=>(B.createdAt||"").localeCompare(Y.createdAt||"")))})},[E]),P.useEffect(()=>{if(!E)return;const V=en(Nt,"answer");return In(V,G=>{const z=G.docs.map(Y=>({id:Y.id,...Y.data()})).filter(Y=>Y.studentId===E);s(z.sort((Y,B)=>(B.createdAt||"").localeCompare(Y.createdAt||"")))})},[E]);const S=async V=>{var Y;const G=(Y=o[V])==null?void 0:Y.trim();if(!G)return alert(" !");if(!E)return alert("  .    .");const N=await Ma(Te(Nt,"students",E)),z=N.exists()?N.data().name:"";await wE(en(Nt,"answer"),{studentId:E,studentName:z,comment:G,date:new Date().toISOString().slice(0,10),createdAt:new Date().toISOString(),parentId:V}),c(B=>({...B,[V]:""})),alert(" !")},x=async V=>{window.confirm("   ?")&&await Tw(Te(Nt,"answer",V))},D=async V=>{if(!g.trim())return alert("  !");await RE(Te(Nt,"answer",V),{comment:g}),m(null),y("")};return T.jsxs("div",{className:"container",style:{textAlign:"center",marginTop:"40px"},children:[T.jsx("h2",{style:{fontSize:"20px",marginBottom:"16px"},children:"  "}),T.jsx("h3",{style:{fontSize:"15px",marginBottom:"16px"},children:"**    ! **"}),T.jsxs("ul",{style:{listStyle:"none",padding:0,textAlign:"left"},children:[r.filter(V=>{var G;return!((G=V.comment)!=null&&G.startsWith(":"))}).map(V=>{var N;const G=i.filter(z=>z.parentId===V.id);return T.jsxs("li",{style:{marginBottom:16,borderBottom:"1px solid #eee",paddingBottom:8},children:[T.jsxs("div",{children:[V.comment," ",T.jsxs("span",{style:{color:"#888",fontSize:"12px"},children:["(",V.date,")"]})]}),T.jsxs("div",{style:{fontSize:"12px",color:"#aaa"},children:[": ",(N=V.createdAt)==null?void 0:N.slice(0,19).replace("T"," ")]}),G.map(z=>T.jsx("div",{style:{marginTop:4,marginLeft:10,background:"#f8f8f8",padding:"4px 8px",borderRadius:4},children:f===z.id?T.jsxs(T.Fragment,{children:[T.jsx("input",{value:g,onChange:Y=>y(Y.target.value),style:{width:"60%",padding:4}}),T.jsx("button",{onClick:()=>D(z.id),style:{marginLeft:8},children:""}),T.jsx("button",{onClick:()=>m(null),style:{marginLeft:4},children:""})]}):T.jsxs(T.Fragment,{children:[T.jsxs("div",{style:{fontSize:"13px",color:"#333"},children:[" ",z.comment]}),T.jsxs("div",{style:{marginTop:4},children:[T.jsx("button",{onClick:()=>{m(z.id),y(z.comment||"")},style:{marginRight:6},children:""}),T.jsx("button",{onClick:()=>x(z.id),children:""})]})]})},z.id)),T.jsxs("div",{style:{marginTop:8},children:[T.jsx("input",{placeholder:" ",value:o[V.id]||"",onChange:z=>c(Y=>({...Y,[V.id]:z.target.value})),style:{width:"70%",padding:4}}),T.jsx("button",{onClick:()=>S(V.id),style:{marginLeft:8,padding:"4px 12px"},children:""})]})]},V.id)}),r.filter(V=>{var G;return!((G=V.comment)!=null&&G.startsWith(":"))}).length===0&&T.jsx("li",{style:{color:"#888"},children:"  ."})]})]})}function Ow(){const[r,e]=P.useState("comments");return T.jsxs("div",{className:"container",style:{textAlign:"center",marginTop:"40px"},children:[T.jsx("h1",{style:{fontSize:"24px",marginBottom:"20px"},children:"    "}),T.jsxs("div",{style:{marginBottom:"16px"},children:[T.jsx("button",{onClick:()=>e("comments"),style:{padding:"8px 16px",marginRight:"8px",backgroundColor:r==="comments"?"#007bff":"#f0f0f0",color:r==="comments"?"#fff":"#333",border:"none",borderRadius:"4px",cursor:"pointer"},children:""}),T.jsx("button",{onClick:()=>e("books"),style:{padding:"8px 16px",marginRight:"8px",backgroundColor:r==="books"?"#007bff":"#f0f0f0",color:r==="books"?"#fff":"#333",border:"none",borderRadius:"4px",cursor:"pointer"},children:""})]}),r==="comments"&&T.jsx(Mw,{}),T.jsx("div",{className:"page-books",children:r==="books"&&T.jsx(Nw,{})}),r==="points"&&T.jsx(PointsPage,{})]})}function jw(){var ri,lr;const[r,e]=P.useState("elementary"),[i,s]=P.useState(""),[o,c]=P.useState(""),[f,m]=P.useState(null),[g,y]=P.useState([]),[E,S]=P.useState([]),[x,D]=P.useState({}),[V,G]=P.useState({}),[N,z]=P.useState({}),[Y,B]=P.useState([]),[ct,ot]=P.useState([]),[pt,O]=P.useState(null),R=[{id:"opt1",label:"() +  1( 1) 13 + 13 = 26"},{id:"opt2",label:"() +  2( 2) 13 + 25 = 38"},{id:"opt3",label:"() : 15"}],w=R.reduce((nt,ft)=>(nt[ft.id]=ft.label,nt),{}),[j,k]=P.useState(""),[U,C]=P.useState(null),Yt=["","","","",""],[It,W]=P.useState([]),[$,lt]=P.useState(null),mt=P.useMemo(()=>({elementary:{:["230"],:["3","4"],:["2","3","4"],:["3","4"],:["3","4"]},middle:{:["330","5","630"],:["5","630"],:["5","630"],:["5","630"],:["5","630"]}}),[]),M={elementary:"",middle:"",middleClinic:"  ",operation:" "},J=r==="elementary"||r==="middle"?mt[r]:null;P.useEffect(()=>{const nt=localStorage.getItem("studentId");nt&&(s(nt),Ma(Te(Nt,"students",nt)).then(ft=>{const vt=ft.data();vt!=null&&vt.name&&c(String(vt.name))}).catch(()=>{}))},[]),P.useEffect(()=>{if(r==="operation"||r==="middleClinic"){D({}),G({}),z({});return}const nt=qd(en(Nt,"enrollments"),Hd("group","==",r)),ft=In(nt,vt=>{const Mt={},ue={},be={};vt.forEach(ie=>{const Xt=ie.data(),Zt=`${Xt.day}|${Xt.time}`;Xt.status==="waitlist"?be[Zt]=(be[Zt]||0)+1:Xt.status==="reserve"?ue[Zt]=(ue[Zt]||0)+1:Mt[Zt]=(Mt[Zt]||0)+1}),D(Mt),G(ue),z(be)});return()=>ft()},[r]),P.useEffect(()=>{if(!o.trim()){B([]),ot([]),y([]),S([]),O(null);return}const nt=Te(Nt,"enrollments_by_student",o.trim()),ft=In(nt,vt=>{var Mt,ue;if(vt.exists()){const be=vt.data(),ie=Array.isArray(be.applied)?be.applied:[],Xt=Array.isArray(be.waitlist)?be.waitlist:[];B(ie),ot(Xt),O(((ue=(Mt=be.updatedAt)==null?void 0:Mt.toDate)==null?void 0:ue.call(Mt))||null),y(ie.map(({day:Zt,time:de,status:Bt})=>({day:Zt,time:de,status:Bt}))),S(Xt.map(({day:Zt,time:de})=>({day:Zt,time:de})))}else B([]),ot([]),y([]),S([]),O(null)});return()=>ft()},[o]),P.useEffect(()=>{if(!i){C(null),k("");return}const nt=Te(Nt,"operation_survey",i),ft=In(nt,vt=>{if(vt.exists()){const Mt=vt.data();C(Mt),k(Mt.choice||"")}else C(null),k("")});return()=>ft()},[i]),P.useEffect(()=>{if(!i){lt(null),W([]);return}const nt=Te(Nt,"middle_clinic_days",i),ft=In(nt,vt=>{if(vt.exists()){const Mt=vt.data(),ue=Array.isArray(Mt.days)?Mt.days:[];lt(Mt),W(ue)}else lt(null),W([])});return()=>ft()},[i]);const ut=(nt,ft)=>`${nt}|${ft}`,it=(nt,ft,vt)=>nt.some(Mt=>Mt.day===ft&&Mt.time===vt),dt=(nt,ft)=>{const vt=[["",""],["",""],["",""]];if(it(g,nt,ft)){y(g.filter(Mt=>!(Mt.day===nt&&Mt.time===ft)));return}if(g.length===0){y([{day:nt,time:ft}]);return}if(g.length===1){const Mt=g[0];if(Mt.day===nt){y([{day:nt,time:ft}]);return}const ue=[Mt.day,nt].sort().join("");if(!vt.some(ie=>ie.slice().sort().join("")===ue)){alert(" '/', '/', '/'    .");return}y([Mt,{day:nt,time:ft}]);return}if(g.length>=2){const Mt=g.findIndex(ue=>ue.day===nt);if(Mt!==-1){const ue=[...g];ue[Mt]={day:nt,time:ft},y(ue);return}alert("   '/', '/', '/'     .");return}},Ct=(nt,ft)=>{if(it(g,nt,ft)){y(g.filter(vt=>!(vt.day===nt&&vt.time===ft)));return}if(g.length>=2){alert("    2   .");return}y([...g,{day:nt,time:ft}])},St=nt=>{if(It.includes(nt)){W(It.filter(ft=>ft!==nt));return}if(It.length>=1){alert("    1   .");return}W([nt])},fe=()=>{if(r==="elementary"||r==="middle"){alert(`       ,
 ''    .`);return}},Kt=()=>{if(r==="operation"||r==="middleClinic"||!f)return;const{day:nt,time:ft}=f;if(it(E,nt,ft)){S(E.filter(vt=>!(vt.day===nt&&vt.time===ft)));return}it(g,nt,ft)&&y(g.filter(vt=>!(vt.day===nt&&vt.time===ft))),S([...E,{day:nt,time:ft}])},Vn=(nt,ft)=>y(g.filter(vt=>!(vt.day===nt&&vt.time===ft))),ii=(nt,ft)=>S(E.filter(vt=>!(vt.day===nt&&vt.time===ft))),Qn=async()=>{if(r==="operation"||r==="middleClinic")return;if(!o.trim()){alert("   .     .");return}if(g.length===0&&E.length===0){alert("  .");return}let nt=[...g],ft=[...E];if(r==="elementary"){if(g.map(de=>de.day).length!==2){alert("  2  . (/, /, /   )");return}const Xt=[],Zt=[...ft];g.forEach(({day:de,time:Bt})=>{const Ot=ut(de,Bt),Oe=x[Ot]||0;let we;Oe<6?we="applied":we="reserve",Xt.push({day:de,time:Bt,status:we})}),nt=Xt,ft=Zt}else if(r==="middle"){const ie=[],Xt=[...ft];g.forEach(({day:Zt,time:de})=>{const Bt=ut(Zt,de),Ot=x[Bt]||0;let Oe;Ot<6?Oe="applied":Oe="reserve",ie.push({day:Zt,time:de,status:Oe})}),nt=ie,ft=Xt}const vt=gd(Nt),Mt=Te(Nt,"enrollments_by_student",o.trim());vt.set(Mt,{studentName:o.trim(),applied:nt.map(({day:ie,time:Xt,status:Zt})=>({day:ie,time:Xt,group:r,status:Zt==="reserve"?"reserve":"applied",label:Zt==="reserve"?"()":""})),waitlist:ft.map(({day:ie,time:Xt})=>({day:ie,time:Xt,group:r,status:"waitlist",label:""})),updatedAt:Da()});const ue=qd(en(Nt,"enrollments"),Hd("studentName","==",o.trim()));(await Bs(ue)).forEach(ie=>vt.delete(ie.ref)),nt.forEach(({day:ie,time:Xt,status:Zt})=>{const de=Zt==="reserve"?"reserve":"applied",Bt=`${o.trim()}|${r}|${ie}|${Xt}|${de}`,Ot=Te(Nt,"enrollments",Bt);vt.set(Ot,{studentName:o.trim(),group:r,day:ie,time:Xt,status:de,createdAt:Da()})}),ft.forEach(({day:ie,time:Xt})=>{const Zt=`${o.trim()}|${r}|${ie}|${Xt}|waitlist`,de=Te(Nt,"enrollments",Zt);vt.set(de,{studentName:o.trim(),group:r,day:ie,time:Xt,status:"waitlist",createdAt:Da()})}),await vt.commit(),y(nt),S(ft),alert(".")},Ri=async()=>{if(!i||!o.trim()){alert("   .     .");return}if(!j){alert("    .");return}const nt=gd(Nt),ft=Te(Nt,"operation_survey",i);nt.set(ft,{studentId:i,studentName:o.trim(),choice:j,updatedAt:Da()}),await nt.commit(),alert("   .")},wi=async()=>{if(!i||!o.trim()){alert("   .     .");return}if(!It.length){alert("    .");return}const nt=gd(Nt),ft=Te(Nt,"middle_clinic_days",i);nt.set(ft,{studentId:i,studentName:o.trim(),days:It,updatedAt:Da()}),await nt.commit(),alert("    .")};return T.jsxs("div",{style:{padding:16},children:[T.jsx("h2",{style:{marginBottom:12},children:""}),T.jsxs("div",{style:{marginBottom:16,padding:12,borderRadius:8,border:"1px solid #e5e7eb",background:"#f9fafb",fontSize:13,lineHeight:1.5,color:"#374151"},children:[T.jsxs("p",{style:{marginBottom:6},children:["     , ",T.jsx("b",{children:"2026 3  "})," ."]}),T.jsxs("p",{style:{marginBottom:6},children:[T.jsx("b",{children:""})," ",T.jsx("b",{children:"/, /, /"}),"      . (  2  ,  ",T.jsx("b",{children:""}),"   .)"]}),T.jsxs("p",{style:{marginBottom:8},children:["    ",T.jsx("b",{children:"   6"})," ,              ."]}),T.jsx("hr",{style:{border:"none",borderTop:"1px dashed #e5e7eb",margin:"8px 0"}}),T.jsx("p",{style:{marginBottom:6},children:T.jsx("b",{children:"     ( ) "})}),T.jsxs("p",{style:{marginBottom:6},children:[" ",T.jsx("b",{children:" "}),"        ."]}),T.jsxs("p",{style:{marginBottom:6},children:["  ,          "," ",T.jsx("b",{children:"  ( ) "})," .    ",T.jsx("b",{children:"  "})," ,",T.jsx("b",{children:"     "}),"  ."]}),T.jsxs("p",{style:{marginBottom:8},children:["( )   "," ",T.jsx("b",{children:"  "})," ",T.jsx("b",{children:"    "}),"   ."]}),T.jsx("p",{style:{marginBottom:6},children:T.jsx("b",{children:"     "})}),T.jsxs("p",{style:{marginBottom:6},children:["  ",T.jsx("b",{children:"  "}),",      ",T.jsx("b",{children:" "}),"         ."]}),T.jsx("p",{style:{marginBottom:0},children:"     ."})]}),T.jsx("div",{style:{display:"flex",gap:8,marginBottom:12},children:["elementary","middle","middleClinic","operation"].map(nt=>{const ft=r===nt;return T.jsx("button",{onClick:()=>{e(nt),m(null)},style:{padding:"8px 14px",borderRadius:8,border:`1px solid ${ft?"#0d6efd":"#ddd"}`,background:ft?"#0d6efd":"#fff",color:ft?"#fff":"#333",fontWeight:600,cursor:"pointer"},children:M[nt]},nt)})}),r==="operation"?T.jsxs("div",{style:{border:"1px solid #e5e7eb",borderRadius:8,padding:12,background:"#fdfdfd"},children:[T.jsx("h3",{style:{marginBottom:10,fontSize:16},children:" "}),T.jsx("p",{style:{fontSize:13,color:"#4b5563",marginBottom:6},children:"      ."}),T.jsxs("p",{style:{fontSize:13,color:"#4b5563",marginBottom:10},children:[" ",T.jsx("b",{children:" "}),", ",T.jsx("b",{children:"  3"})," .   ",T.jsx("b",{children:"50 "}),", ",T.jsx("b",{children:"3  / 4 "}),"  "," ",T.jsx("b",{children:"  8"}),"."]}),T.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8,marginBottom:12},children:R.map(nt=>T.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,padding:"8px 10px",borderRadius:8,border:j===nt.id?"1px solid #0d6efd":"1px solid #e5e7eb",background:j===nt.id?"#e7f1ff":"#ffffff",cursor:"pointer",fontSize:13,color:"#111827"},children:[T.jsx("input",{type:"radio",name:"operation_choice",value:nt.id,checked:j===nt.id,onChange:()=>k(nt.id)}),T.jsx("span",{children:nt.label})]},nt.id))}),T.jsx("button",{onClick:Ri,style:{padding:"8px 12px",borderRadius:8,border:"1px solid #0d6efd",background:"#0d6efd",color:"#fff",fontWeight:700,cursor:"pointer",marginBottom:12},children:"  "}),T.jsxs("div",{style:{padding:10,borderRadius:8,border:"1px solid #e5e7eb",background:"#f9fafb",fontSize:13},children:[T.jsxs("div",{style:{fontWeight:700,marginBottom:4},children:["   ",o?`: ${o}`:""]}),U?T.jsxs(T.Fragment,{children:[T.jsxs("div",{style:{marginBottom:4},children:[":"," ",T.jsx("b",{children:w[U.choice]||"   "})]}),((ri=U.updatedAt)==null?void 0:ri.toDate)&&T.jsxs("div",{style:{fontSize:12,color:"#6b7280"},children:[":"," ",U.updatedAt.toDate().toLocaleString()]})]}):T.jsx("div",{style:{color:"#6b7280"},children:"    ."})]})]}):r==="middleClinic"?T.jsxs("div",{style:{border:"1px solid #e5e7eb",borderRadius:8,padding:12,background:"#fdfdfd"},children:[T.jsx("h3",{style:{marginBottom:10,fontSize:16},children:"  "}),T.jsxs("p",{style:{fontSize:13,color:"#4b5563",marginBottom:6},children:["   , ",T.jsx("b",{children:"   "}),"  ."]}),T.jsxs("p",{style:{fontSize:13,color:"#4b5563",marginBottom:10},children:["  ",T.jsx("b",{children:"  , / "}),"  ,",T.jsx("b",{children:"   1"}),"   ."]}),T.jsx("div",{style:{display:"flex",gap:8,flexWrap:"wrap",marginBottom:12},children:Yt.map(nt=>{const ft=It.includes(nt);return T.jsx("button",{onClick:()=>St(nt),style:{padding:"8px 10px",borderRadius:999,border:ft?"1px solid #0d6efd":"1px solid #e5e7eb",background:ft?"#e7f1ff":"#ffffff",cursor:"pointer",fontSize:13,minWidth:48},children:nt},nt)})}),T.jsx("button",{onClick:wi,style:{padding:"8px 12px",borderRadius:8,border:"1px solid #0d6efd",background:"#0d6efd",color:"#fff",fontWeight:700,cursor:"pointer",marginBottom:12},children:"  "}),T.jsxs("div",{style:{padding:10,borderRadius:8,border:"1px solid #e5e7eb",background:"#f9fafb",fontSize:13},children:[T.jsxs("div",{style:{fontWeight:700,marginBottom:4},children:["    ",o?`: ${o}`:""]}),$&&Array.isArray($.days)&&$.days.length?T.jsxs(T.Fragment,{children:[T.jsxs("div",{style:{marginBottom:4},children:[" : ",T.jsx("b",{children:$.days.join(", ")})]}),((lr=$.updatedAt)==null?void 0:lr.toDate)&&T.jsxs("div",{style:{fontSize:12,color:"#6b7280"},children:[": ",$.updatedAt.toDate().toLocaleString()]})]}):T.jsx("div",{style:{color:"#6b7280"},children:"     ."})]})]}):T.jsxs(T.Fragment,{children:[T.jsx("div",{style:{overflowX:"auto"},children:T.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",minWidth:560,border:"1px solid #e5e7eb"},children:[T.jsx("thead",{children:T.jsxs("tr",{style:{background:"#f8fafc"},children:[T.jsx("th",{style:{textAlign:"left",padding:"10px 12px",borderBottom:"1px solid #e5e7eb",fontWeight:700,width:90,whiteSpace:"nowrap"},children:""}),T.jsx("th",{style:{textAlign:"left",padding:"10px 12px",borderBottom:"1px solid #e5e7eb",fontWeight:700},children:" ( / )"})]})}),T.jsx("tbody",{children:J&&Object.entries(J).map(([nt,ft])=>T.jsxs("tr",{children:[T.jsx("td",{style:{padding:"10px 12px",borderBottom:"1px solid #f1f59",fontWeight:600,whiteSpace:"nowrap"},children:nt}),T.jsx("td",{style:{padding:"10px 12px",borderBottom:"1px solid #f1f5f9"},children:T.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:ft.map(vt=>{const Mt=ut(nt,vt),ue=x[Mt]||0,be=V[Mt]||0,ie=N[Mt]||0,Xt=ue,Zt=ie+be,de=f&&f.day===nt&&f.time===vt,Bt=it(g,nt,vt),Ot=it(E,nt,vt);return T.jsxs("button",{onClick:()=>{m({day:nt,time:vt}),r==="elementary"?dt(nt,vt):r==="middle"&&Ct(nt,vt)},style:{padding:"8px 10px",borderRadius:8,border:`1px solid ${Bt||Ot||de?"#0d6efd":"#d1d5db"}`,background:Bt?"#e7f1ff":Ot?"#f1f1f1":de?"#f3f4ff":"#fff",color:"#111827",fontWeight:600,cursor:"pointer",whiteSpace:"nowrap"},title:`${nt} ${vt}`,children:[vt,T.jsxs("span",{style:{color:"#6b7280",fontWeight:500,marginLeft:6},children:["( ",Xt," /  ",Zt,")"]}),Bt&&T.jsx("span",{style:{marginLeft:6,fontSize:12,color:"#0d6efd"},children:" "}),Ot&&T.jsx("span",{style:{marginLeft:6,fontSize:12,color:"#6c757d"},children:" "})]},`${nt}-${vt}`)})})})]},nt))})]})}),T.jsxs("div",{style:{marginTop:12,display:"flex",gap:8,alignItems:"center",flexWrap:"wrap"},children:[T.jsx("div",{style:{minWidth:220,color:"#374151"},children:f?T.jsxs("span",{children:[" : ",T.jsx("b",{children:f.day})," ",T.jsx("b",{children:f.time})]}):T.jsx("span",{style:{color:"#6b7280"},children:"   "})}),T.jsx("button",{disabled:!f,onClick:fe,style:{padding:"8px 12px",borderRadius:8,border:"1px solid #0d6efd",background:f?"#0d6efd":"#e5e7eb",color:f?"#fff":"#9ca3af",fontWeight:700,cursor:f?"pointer":"not-allowed"},children:" ( 2)"}),T.jsx("button",{disabled:!f,onClick:Kt,style:{padding:"8px 12px",borderRadius:8,border:"1px solid #6c757d",background:f?"#6c757d":"#e5e7eb",color:f?"#fff":"#9ca3af",fontWeight:700,cursor:f?"pointer":"not-allowed"},children:" ()"}),T.jsx("button",{onClick:Qn,style:{padding:"8px 12px",borderRadius:8,border:"1px solid #0d6efd",background:"#0d6efd",color:"#fff",fontWeight:700,cursor:"pointer"},children:""})]}),T.jsxs("div",{style:{marginTop:16,display:"grid",gap:12,gridTemplateColumns:"1fr 1fr"},children:[T.jsxs("div",{children:[T.jsx("div",{style:{fontWeight:700,marginBottom:6},children:" ( 2)"}),g.length===0?T.jsx("div",{style:{color:"#6b7280"},children:""}):T.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:g.map(({day:nt,time:ft,status:vt})=>T.jsxs("span",{style:{padding:"6px 10px",borderRadius:999,border:`1px solid ${vt==="reserve"?"#6c757d":"#0d6efd"}`,background:vt==="reserve"?"#f1f1f1":"#e7f1ff",display:"inline-flex",alignItems:"center",gap:8},title:vt==="reserve"?"()":"",children:[nt," ",ft,vt==="reserve"?" ()":"",T.jsx("button",{onClick:()=>Vn(nt,ft),title:"",style:{border:"none",background:"transparent",cursor:"pointer",fontWeight:700,color:vt==="reserve"?"#6c757d":"#0d6efd"},children:""})]},`ap-${nt}-${ft}`))})]}),T.jsxs("div",{children:[T.jsx("div",{style:{fontWeight:700,marginBottom:6},children:" ()"}),E.length===0?T.jsx("div",{style:{color:"#6b7280"},children:""}):T.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:E.map(({day:nt,time:ft})=>T.jsxs("span",{style:{padding:"6px 10px",borderRadius:999,border:"1px solid #6c757d",background:"#f1f1f1",display:"inline-flex",alignItems:"center",gap:8},children:[nt," ",ft,T.jsx("button",{onClick:()=>ii(nt,ft),title:"",style:{border:"none",background:"transparent",cursor:"pointer",fontWeight:700,color:"#6c757d"},children:""})]},`wt-${nt}-${ft}`))})]})]}),T.jsxs("div",{style:{marginTop:20,padding:12,border:"1px solid #e5e7eb",borderRadius:8},children:[T.jsxs("div",{style:{fontWeight:700,marginBottom:8},children:["  ",o?`: ${o}`:""]}),o?T.jsxs(T.Fragment,{children:[T.jsxs("div",{style:{marginBottom:4},children:[T.jsx("b",{children:":"})," ",Y.length?Y.map(nt=>{const ft=nt.group==="elementary"?"":"",vt=nt.status==="reserve"||(nt==null?void 0:nt.label)==="()"?" ()":"";return`${ft} ${nt.day} ${nt.time}${vt}`}).join(", "):T.jsx("span",{style:{color:"#6b7280"},children:""})]}),T.jsxs("div",{children:[T.jsx("b",{children:":"})," ",ct.length?ct.map(nt=>`${nt.group==="elementary"?"":""} ${nt.day} ${nt.time}`).join(", "):T.jsx("span",{style:{color:"#6b7280"},children:""})]}),pt&&T.jsxs("div",{style:{marginTop:6,fontSize:12,color:"#6b7280"},children:[": ",pt.toLocaleString()]})]}):T.jsx("div",{style:{color:"#6b7280"},children:"   "})]})]})]})}function Uw(){const[r,e]=P.useState("elementary"),i={elementary:"",middle:""},o=P.useMemo(()=>({elementary:{:["230"],:["3","4"],:["2","3","4"],:["3","4"],:["3","4"]},middle:{:["330","5","630"],:["5","630"],:["5","630"],:["5","630"],:["5","630"]}}),[])[r],[c,f]=P.useState({}),[m,g]=P.useState({});P.useEffect(()=>{const $=qd(en(Nt,"enrollments"),Hd("group","==",r)),lt=In($,mt=>{const M={},J={};mt.forEach(ut=>{const it=ut.data(),dt=`${it.day}|${it.time}`;it.status==="waitlist"?J[dt]=(J[dt]||0)+1:M[dt]=(M[dt]||0)+1}),f(M),g(J)});return()=>lt()},[r]);const[y,E]=P.useState(null),[S,x]=P.useState([]),[D,V]=P.useState([]),G=($,lt)=>`${$}|${lt}`,N=($,lt,mt)=>$.some(M=>M.day===lt&&M.time===mt),z=()=>{if(!y)return;const{day:$,time:lt}=y,mt=G($,lt),M=c[mt]||0;if(N(S,$,lt)){x(S.filter(dt=>!(dt.day===$&&dt.time===lt)));return}let J="reserve",ut="   .   . ";if(M>=6&&M<8?(J="reserve",ut=" 6 .      ."):M>=8&&(J="waitlist",ut="   .  ."),J==="waitlist"){alert(ut),Y();return}if(S.length>=2){alert("  2 .");return}const it=S.findIndex(dt=>dt.day===$);if(it!==-1){const dt=[...S];dt[it]={day:$,time:lt,status:J},x(dt)}else x([...S,{day:$,time:lt,status:J}]);N(D,$,lt)&&V(D.filter(dt=>!(dt.day===$&&dt.time===lt))),alert(ut)},Y=()=>{if(!y)return;const{day:$,time:lt}=y;if(N(D,$,lt)){V(D.filter(mt=>!(mt.day===$&&mt.time===lt)));return}N(S,$,lt)&&x(S.filter(mt=>!(mt.day===$&&mt.time===lt))),V([...D,{day:$,time:lt}])},B=($,lt)=>x(S.filter(mt=>!(mt.day===$&&mt.time===lt))),ct=($,lt)=>V(D.filter(mt=>!(mt.day===$&&mt.time===lt))),[ot,pt]=P.useState(""),[O,R]=P.useState(""),[w,j]=P.useState(""),[k,U]=P.useState(""),C=$=>$.replace(/[^0-9]/g,""),Yt=$=>$.replace(/[^0-9]/g,"").slice(0,6),It=async()=>{U("");const $=ot.trim(),lt=C(O),mt=Yt(w);if(!$||mt.length!==6||lt.length<7){U("/6/    .");return}const M=Te(Nt,"newstudent",$),J=await Ma(M);if(!J.exists()){U("   . []   ."),x([]),V([]);return}const ut=J.data()||{},it=(ut.birth6||"").toString()===mt,dt=C(ut.parentPhone||"")===lt;if(!it||!dt){U("   /  ."),x([]),V([]);return}const Ct=Array.isArray(ut.applied)?ut.applied:[],St=Array.isArray(ut.waitlist)?ut.waitlist:[];x(Ct.map(({day:fe,time:Kt})=>({day:fe,time:Kt}))),V(St.map(({day:fe,time:Kt})=>({day:fe,time:Kt}))),U(" .")},W=async()=>{const $=ot.trim(),lt=C(O),mt=Yt(w);if(!$){alert("   .");return}if(mt.length!==6){alert(" 6  .");return}if(lt.length<7){alert("    .");return}if(S.length===0&&D.length===0&&!confirm("/  .   ?"))return;const M=Te(Nt,"newstudent",$);await xE(M,{studentName:$,parentPhone:lt,birth6:mt,applied:S.map(({day:J,time:ut,status:it})=>({day:J,time:ut,group:r,status:it,label:it==="reserve"?"()":""})),waitlist:D.map(({day:J,time:ut})=>({day:J,time:ut,group:r,status:"waitlist",label:""})),updatedAt:Da()},{merge:!0}),alert("."),U(" .")};return T.jsxs("div",{style:{padding:16},children:[T.jsx("h2",{style:{marginBottom:12},children:"  ( /)"}),T.jsxs("div",{style:{padding:12,border:"1px solid #e5e7eb",borderRadius:8,marginBottom:12},children:[T.jsxs("div",{style:{display:"grid",gap:8,gridTemplateColumns:"1fr 1fr 1fr"},children:[T.jsxs("div",{children:[T.jsx("div",{style:{fontSize:12,color:"#6b7280"},children:" "}),T.jsx("input",{value:ot,onChange:$=>pt($.target.value),placeholder:": ",style:{width:"100%",padding:8,border:"1px solid #d1d5db",borderRadius:8}})]}),T.jsxs("div",{children:[T.jsx("div",{style:{fontSize:12,color:"#6b7280"},children:" "}),T.jsx("input",{value:O,onChange:$=>R($.target.value),placeholder:": 01012345678(-)",style:{width:"100%",padding:8,border:"1px solid #d1d5db",borderRadius:8}})]}),T.jsxs("div",{children:[T.jsx("div",{style:{fontSize:12,color:"#6b7280"},children:" 6"}),T.jsx("input",{value:w,onChange:$=>j($.target.value.replace(/[^0-9]/g,"").slice(0,6)),placeholder:": 170806",inputMode:"numeric",maxLength:6,style:{width:"100%",padding:8,border:"1px solid #d1d5db",borderRadius:8}})]})]}),T.jsxs("div",{style:{marginTop:10,display:"flex",gap:8},children:[T.jsx("button",{onClick:It,style:{padding:"8px 12px",borderRadius:8,border:"1px solid #6c757d",background:"#6c757d",color:"#fff",fontWeight:700,cursor:"pointer"},children:""}),T.jsx("button",{onClick:W,style:{padding:"8px 12px",borderRadius:8,border:"1px solid #0d6efd",background:"#0d6efd",color:"#fff",fontWeight:700,cursor:"pointer"},children:""})]}),k&&T.jsx("div",{style:{marginTop:8,color:"#374151"},children:k})]}),T.jsx("div",{style:{display:"flex",gap:8,marginBottom:12},children:["elementary","middle"].map($=>{const lt=$===r;return T.jsx("button",{onClick:()=>{e($),E(null)},style:{padding:"8px 14px",borderRadius:8,border:`1px solid ${lt?"#0d6efd":"#ddd"}`,background:lt?"#0d6efd":"#fff",color:lt?"#fff":"#333",fontWeight:600,cursor:"pointer"},children:i[$]},$)})}),T.jsx("div",{style:{overflowX:"auto"},children:T.jsxs("table",{style:{width:"100%",minWidth:560,borderCollapse:"collapse",border:"1px solid #e5e7eb"},children:[T.jsx("thead",{children:T.jsxs("tr",{style:{background:"#f8fafc"},children:[T.jsx("th",{style:{textAlign:"left",padding:"10px 12px",borderBottom:"1px solid #e5e7eb",width:90},children:""}),T.jsx("th",{style:{textAlign:"left",padding:"10px 12px",borderBottom:"1px solid #e5e7eb"},children:" ( / )"})]})}),T.jsx("tbody",{children:Object.entries(o).map(([$,lt])=>T.jsxs("tr",{children:[T.jsx("td",{style:{padding:"10px 12px",borderBottom:"1px solid #f1f5f9",fontWeight:600},children:$}),T.jsx("td",{style:{padding:"10px 12px",borderBottom:"1px solid #f1f5f9"},children:T.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:lt.map(mt=>{const M=G($,mt),J=c[M]||0,ut=m[M]||0,it=y&&y.day===$&&y.time===mt,dt=N(S,$,mt),Ct=N(D,$,mt);return T.jsxs("button",{onClick:()=>E(it?null:{day:$,time:mt}),style:{padding:"8px 10px",borderRadius:8,border:`1px solid ${it?"#0d6efd":"#d1d5db"}`,background:it?"#e7f1ff":"#fff",fontWeight:600,whiteSpace:"nowrap",cursor:"pointer"},title:`${$} ${mt}`,children:[mt,T.jsxs("span",{style:{color:"#6b7280",marginLeft:6},children:["( ",J," /  ",ut,")"]}),dt&&T.jsx("span",{style:{marginLeft:6,fontSize:12,color:"#0d6efd"},children:" "}),Ct&&T.jsx("span",{style:{marginLeft:6,fontSize:12,color:"#6c757d"},children:" "})]},`${$}-${mt}`)})})})]},$))})]})}),T.jsxs("div",{style:{marginTop:12,display:"flex",gap:8,alignItems:"center",flexWrap:"wrap"},children:[T.jsx("div",{style:{minWidth:220,color:"#374151"},children:y?T.jsxs("span",{children:[": ",T.jsx("b",{children:y.day})," ",T.jsx("b",{children:y.time})]}):T.jsx("span",{style:{color:"#6b7280"},children:"   "})}),T.jsx("button",{disabled:!y,onClick:z,style:{padding:"8px 12px",borderRadius:8,border:"1px solid #0d6efd",background:y?"#0d6efd":"#e5e7eb",color:y?"#fff":"#9ca3af",fontWeight:700,cursor:y?"pointer":"not-allowed"},children:" ( 2)"}),T.jsx("button",{disabled:!y,onClick:Y,style:{padding:"8px 12px",borderRadius:8,border:"1px solid #6c757d",background:y?"#6c757d":"#e5e7eb",color:y?"##fff":"#9ca3af",fontWeight:700,cursor:y?"pointer":"not-allowed"},children:" ()"})]}),T.jsxs("div",{style:{marginTop:16,display:"grid",gap:12,gridTemplateColumns:"1fr 1fr"},children:[T.jsxs("div",{children:[T.jsx("div",{style:{fontWeight:700,marginBottom:6},children:" ( 2)"}),S.length===0?T.jsx("div",{style:{color:"#6b7280"},children:""}):T.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:S.map(({day:$,time:lt,status:mt})=>T.jsxs("span",{style:{padding:"6px 10px",borderRadius:999,border:`1px solid ${mt==="reserve"?"#6c757d":"#0d6efd"}`,background:mt==="reserve"?"#f1f1f1":"#e7f1ff",display:"inline-flex",gap:8},title:mt==="reserve"?"()":"",children:[$," ",lt,mt==="reserve"?" ()":"",T.jsx("button",{onClick:()=>B($,lt),style:{border:"none",background:"transparent",cursor:"pointer",color:mt==="reserve"?"#6c757d":"#0d6efd",fontWeight:700},children:""})]},`ap-${$}-${lt}`))})]}),T.jsxs("div",{children:[T.jsx("div",{style:{fontWeight:700,marginBottom:6},children:" ()"}),D.length===0?T.jsx("div",{style:{color:"#6b7280"},children:""}):T.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:D.map(({day:$,time:lt})=>T.jsxs("span",{style:{padding:"6px 10px",borderRadius:999,border:"1px solid #6c757d",background:"#f1f1f1",display:"inline-flex",gap:8},children:[$," ",lt,T.jsx("button",{onClick:()=>ct($,lt),style:{border:"none",background:"transparent",cursor:"pointer",color:"#6c757d",fontWeight:700},children:""})]},`wt-${$}-${lt}`))})]})]})]})}class Lw extends ib.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,i){console.error("ErrorBoundary caught:",e,i)}render(){return this.state.hasError?T.jsx("div",{style:{padding:16},children:" . (F5),       ."}):this.props.children}}const Sv=r=>{if(!r)return null;if(typeof r.toDate=="function")return r.toDate();const e=new Date(r);return isNaN(e)?null:e};function Pw(){return T.jsx(x1,{children:T.jsx(Lw,{children:T.jsx(kw,{})})})}function kw(){const[r,e]=P.useState(!!localStorage.getItem("studentId")),[i,s]=P.useState(!1),[o,c]=P.useState(""),f=sr(),[m,g]=P.useState(!1);P.useEffect(()=>{const E=()=>{e(!!localStorage.getItem("studentId"))};return window.addEventListener("storage",E),()=>{window.removeEventListener("storage",E)}},[]),P.useEffect(()=>{e(!!localStorage.getItem("studentId"))},[f]),P.useEffect(()=>{const E=localStorage.getItem("studentId");if(!E)return;(async()=>{const x=new Date,D=new Date;D.setDate(x.getDate()-3);const V=await Bs(en(Nt,"comments")),G=await Bs(en(Nt,"books")),N=V.docs.some(Y=>{const B=Y.data();return B.studentId===E&&(Sv(B.createdAt||B.completedDate)??new Date(0))>=D}),z=G.docs.some(Y=>{const B=Y.data();return B.studentId===E&&(Sv(B.createdAt||B.completedDate)??new Date(0))>=D});g(N||z)})()},[]),P.useEffect(()=>{let E;const S=()=>{clearTimeout(E),E=setTimeout(()=>{localStorage.clear(),e(!1),window.location.hash="#/login",alert("1     .")},36e5)};if(r){const x=["mousemove","keydown","click","scroll","touchstart"];return x.forEach(D=>window.addEventListener(D,S)),S(),()=>{clearTimeout(E),x.forEach(D=>window.removeEventListener(D,S))}}},[r]);async function y(){const E=localStorage.getItem("studentId");if(!E||o.length!==4){alert("PIN 4   .");return}try{await RE(Te(Nt,"students",E),{pin:o}),alert("PIN  ."),s(!1),c("")}catch(S){console.error(S),alert("PIN    .")}}return T.jsxs("div",{className:"app-shell page",children:[r&&T.jsxs("nav",{className:"nav",children:[T.jsxs("div",{className:"nav-links",style:{justifyContent:"center"},children:[["/attendance","/payment","/notices","/myclass","/enroll"].map(E=>T.jsx(Lv,{to:E,style:({isActive:S})=>({margin:"0 0",padding:"6px 12px",borderRadius:6,textDecoration:"none",fontWeight:S?"bold":"normal",color:S?"#fff":"#333",backgroundColor:S?"#007bff":"#f5f5f7",position:"relative",display:"inline-flex",alignItems:"center",whiteSpace:"nowrap"}),children:{"/attendance":"","/payment":"","/notices":"","/myclass":T.jsxs(T.Fragment,{children:["",m&&T.jsx("span",{className:"pulse wiggle",style:{position:"absolute",top:-8,right:-12,backgroundColor:"red",color:"white",borderRadius:"12px",padding:"2px 6px",fontSize:"10px",fontWeight:"bold",fontFamily:"'Segoe UI','Apple SD Gothic Neo',sans-serif"},children:" "})]}),"/enroll":""}[E]},E)),T.jsx("button",{onClick:()=>s(!0),style:{padding:"6px 12px",border:"none",borderRadius:6,backgroundColor:"#f0f0f0",cursor:"pointer"},children:"PIN "}),T.jsx("button",{onClick:()=>{localStorage.clear(),e(!1),window.location.hash="#/login"},style:{padding:"6px 12px",border:"none",borderRadius:6,backgroundColor:"#f0f0f0",cursor:"pointer"},children:""})]}),i&&T.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center"},children:T.jsxs("div",{className:"modal",style:{background:"#fff",padding:20,borderRadius:8},children:[T.jsx("h2",{children:"PIN "}),T.jsx("input",{type:"text",maxLength:4,value:o,onChange:E=>c(E.target.value.replace(/\D/g,"")),placeholder:" PIN (4)",style:{width:"100%",padding:8,margin:"12px 0"}}),T.jsxs("div",{style:{textAlign:"right"},children:[T.jsx("button",{onClick:()=>s(!1),style:{marginRight:8},children:""}),T.jsx("button",{onClick:y,children:""})]})]})})]}),T.jsxs(e1,{children:[T.jsx(Jn,{index:!0,element:r?T.jsx(Ji,{to:"notices",replace:!0}):T.jsx(Ji,{to:"login",replace:!0})}),T.jsx(Jn,{path:"login",element:T.jsx(xw,{onLoginSuccess:()=>e(!0)})}),T.jsx(Jn,{path:"new-enroll",element:T.jsx(Uw,{})}),T.jsx(Jn,{path:"attendance",element:r?T.jsx(Rw,{}):T.jsx(Ji,{to:"login",replace:!0})}),T.jsx(Jn,{path:"payment",element:r?T.jsx(ww,{}):T.jsx(Ji,{to:"login",replace:!0})}),T.jsx(Jn,{path:"notices",element:r?T.jsx(Iw,{}):T.jsx(Ji,{to:"login",replace:!0})}),T.jsx(Jn,{path:"notices/:id",element:r?T.jsx(Vw,{}):T.jsx(Ji,{to:"login",replace:!0})}),T.jsx(Jn,{path:"myclass",element:r?T.jsx(Ow,{}):T.jsx(Ji,{to:"login",replace:!0})}),T.jsx(Jn,{path:"enroll",element:r?T.jsx(jw,{}):T.jsx(Ji,{to:"login",replace:!0})}),T.jsx(Jn,{path:"*",element:T.jsx(Ji,{to:"/",replace:!0})})]})]})}cb.createRoot(document.getElementById("root")).render(T.jsx(P.StrictMode,{children:T.jsx(Pw,{})}));
