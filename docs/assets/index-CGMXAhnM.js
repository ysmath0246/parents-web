(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function gS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var jd={exports:{}},So={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h_;function pS(){if(h_)return So;h_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,l,u){var h=null;if(u!==void 0&&(h=""+u),l.key!==void 0&&(h=""+l.key),"key"in l){u={};for(var m in l)m!=="key"&&(u[m]=l[m])}else u=l;return l=u.ref,{$$typeof:r,type:i,key:h,ref:l!==void 0?l:null,props:u}}return So.Fragment=t,So.jsx=n,So.jsxs=n,So}var d_;function yS(){return d_||(d_=1,jd.exports=pS()),jd.exports}var I=yS(),zd={exports:{}},It={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m_;function vS(){if(m_)return It;m_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.iterator;function b(P){return P===null||typeof P!="object"?null:(P=T&&P[T]||P["@@iterator"],typeof P=="function"?P:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,k={};function V(P,J,ot){this.props=P,this.context=J,this.refs=k,this.updater=ot||R}V.prototype.isReactComponent={},V.prototype.setState=function(P,J){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,J,"setState")},V.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function H(){}H.prototype=V.prototype;function rt(P,J,ot){this.props=P,this.context=J,this.refs=k,this.updater=ot||R}var Z=rt.prototype=new H;Z.constructor=rt,D(Z,V.prototype),Z.isPureReactComponent=!0;var ut=Array.isArray,ct={H:null,A:null,T:null,S:null,V:null},it=Object.prototype.hasOwnProperty;function M(P,J,ot,at,pt,Ct){return ot=Ct.ref,{$$typeof:r,type:P,key:J,ref:ot!==void 0?ot:null,props:Ct}}function A(P,J){return M(P.type,J,void 0,void 0,void 0,P.props)}function x(P){return typeof P=="object"&&P!==null&&P.$$typeof===r}function N(P){var J={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ot){return J[ot]})}var U=/\/+/g;function j(P,J){return typeof P=="object"&&P!==null&&P.key!=null?N(""+P.key):J.toString(36)}function C(){}function mt(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(C,C):(P.status="pending",P.then(function(J){P.status==="pending"&&(P.status="fulfilled",P.value=J)},function(J){P.status==="pending"&&(P.status="rejected",P.reason=J)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function Dt(P,J,ot,at,pt){var Ct=typeof P;(Ct==="undefined"||Ct==="boolean")&&(P=null);var _t=!1;if(P===null)_t=!0;else switch(Ct){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(P.$$typeof){case r:case t:_t=!0;break;case v:return _t=P._init,Dt(_t(P._payload),J,ot,at,pt)}}if(_t)return pt=pt(P),_t=at===""?"."+j(P,0):at,ut(pt)?(ot="",_t!=null&&(ot=_t.replace(U,"$&/")+"/"),Dt(pt,J,ot,"",function(Ne){return Ne})):pt!=null&&(x(pt)&&(pt=A(pt,ot+(pt.key==null||P&&P.key===pt.key?"":(""+pt.key).replace(U,"$&/")+"/")+_t)),J.push(pt)),1;_t=0;var ce=at===""?".":at+":";if(ut(P))for(var Ft=0;Ft<P.length;Ft++)at=P[Ft],Ct=ce+j(at,Ft),_t+=Dt(at,J,ot,Ct,pt);else if(Ft=b(P),typeof Ft=="function")for(P=Ft.call(P),Ft=0;!(at=P.next()).done;)at=at.value,Ct=ce+j(at,Ft++),_t+=Dt(at,J,ot,Ct,pt);else if(Ct==="object"){if(typeof P.then=="function")return Dt(mt(P),J,ot,at,pt);throw J=String(P),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return _t}function Q(P,J,ot){if(P==null)return P;var at=[],pt=0;return Dt(P,at,"","",function(Ct){return J.call(ot,Ct,pt++)}),at}function st(P){if(P._status===-1){var J=P._result;J=J(),J.then(function(ot){(P._status===0||P._status===-1)&&(P._status=1,P._result=ot)},function(ot){(P._status===0||P._status===-1)&&(P._status=2,P._result=ot)}),P._status===-1&&(P._status=0,P._result=J)}if(P._status===1)return P._result.default;throw P._result}var gt=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function xt(){}return It.Children={map:Q,forEach:function(P,J,ot){Q(P,function(){J.apply(this,arguments)},ot)},count:function(P){var J=0;return Q(P,function(){J++}),J},toArray:function(P){return Q(P,function(J){return J})||[]},only:function(P){if(!x(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},It.Component=V,It.Fragment=n,It.Profiler=l,It.PureComponent=rt,It.StrictMode=i,It.Suspense=p,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ct,It.__COMPILER_RUNTIME={__proto__:null,c:function(P){return ct.H.useMemoCache(P)}},It.cache=function(P){return function(){return P.apply(null,arguments)}},It.cloneElement=function(P,J,ot){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var at=D({},P.props),pt=P.key,Ct=void 0;if(J!=null)for(_t in J.ref!==void 0&&(Ct=void 0),J.key!==void 0&&(pt=""+J.key),J)!it.call(J,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&J.ref===void 0||(at[_t]=J[_t]);var _t=arguments.length-2;if(_t===1)at.children=ot;else if(1<_t){for(var ce=Array(_t),Ft=0;Ft<_t;Ft++)ce[Ft]=arguments[Ft+2];at.children=ce}return M(P.type,pt,void 0,void 0,Ct,at)},It.createContext=function(P){return P={$$typeof:h,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:u,_context:P},P},It.createElement=function(P,J,ot){var at,pt={},Ct=null;if(J!=null)for(at in J.key!==void 0&&(Ct=""+J.key),J)it.call(J,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(pt[at]=J[at]);var _t=arguments.length-2;if(_t===1)pt.children=ot;else if(1<_t){for(var ce=Array(_t),Ft=0;Ft<_t;Ft++)ce[Ft]=arguments[Ft+2];pt.children=ce}if(P&&P.defaultProps)for(at in _t=P.defaultProps,_t)pt[at]===void 0&&(pt[at]=_t[at]);return M(P,Ct,void 0,void 0,null,pt)},It.createRef=function(){return{current:null}},It.forwardRef=function(P){return{$$typeof:m,render:P}},It.isValidElement=x,It.lazy=function(P){return{$$typeof:v,_payload:{_status:-1,_result:P},_init:st}},It.memo=function(P,J){return{$$typeof:g,type:P,compare:J===void 0?null:J}},It.startTransition=function(P){var J=ct.T,ot={};ct.T=ot;try{var at=P(),pt=ct.S;pt!==null&&pt(ot,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(xt,gt)}catch(Ct){gt(Ct)}finally{ct.T=J}},It.unstable_useCacheRefresh=function(){return ct.H.useCacheRefresh()},It.use=function(P){return ct.H.use(P)},It.useActionState=function(P,J,ot){return ct.H.useActionState(P,J,ot)},It.useCallback=function(P,J){return ct.H.useCallback(P,J)},It.useContext=function(P){return ct.H.useContext(P)},It.useDebugValue=function(){},It.useDeferredValue=function(P,J){return ct.H.useDeferredValue(P,J)},It.useEffect=function(P,J,ot){var at=ct.H;if(typeof ot=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return at.useEffect(P,J)},It.useId=function(){return ct.H.useId()},It.useImperativeHandle=function(P,J,ot){return ct.H.useImperativeHandle(P,J,ot)},It.useInsertionEffect=function(P,J){return ct.H.useInsertionEffect(P,J)},It.useLayoutEffect=function(P,J){return ct.H.useLayoutEffect(P,J)},It.useMemo=function(P,J){return ct.H.useMemo(P,J)},It.useOptimistic=function(P,J){return ct.H.useOptimistic(P,J)},It.useReducer=function(P,J,ot){return ct.H.useReducer(P,J,ot)},It.useRef=function(P){return ct.H.useRef(P)},It.useState=function(P){return ct.H.useState(P)},It.useSyncExternalStore=function(P,J,ot){return ct.H.useSyncExternalStore(P,J,ot)},It.useTransition=function(){return ct.H.useTransition()},It.version="19.1.0",It}var g_;function Km(){return g_||(g_=1,zd.exports=vS()),zd.exports}var B=Km(),Bd={exports:{}},Ao={},qd={exports:{}},Hd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_;function _S(){return p_||(p_=1,function(r){function t(Q,st){var gt=Q.length;Q.push(st);t:for(;0<gt;){var xt=gt-1>>>1,P=Q[xt];if(0<l(P,st))Q[xt]=st,Q[gt]=P,gt=xt;else break t}}function n(Q){return Q.length===0?null:Q[0]}function i(Q){if(Q.length===0)return null;var st=Q[0],gt=Q.pop();if(gt!==st){Q[0]=gt;t:for(var xt=0,P=Q.length,J=P>>>1;xt<J;){var ot=2*(xt+1)-1,at=Q[ot],pt=ot+1,Ct=Q[pt];if(0>l(at,gt))pt<P&&0>l(Ct,at)?(Q[xt]=Ct,Q[pt]=gt,xt=pt):(Q[xt]=at,Q[ot]=gt,xt=ot);else if(pt<P&&0>l(Ct,gt))Q[xt]=Ct,Q[pt]=gt,xt=pt;else break t}}return st}function l(Q,st){var gt=Q.sortIndex-st.sortIndex;return gt!==0?gt:Q.id-st.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var p=[],g=[],v=1,T=null,b=3,R=!1,D=!1,k=!1,V=!1,H=typeof setTimeout=="function"?setTimeout:null,rt=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function ut(Q){for(var st=n(g);st!==null;){if(st.callback===null)i(g);else if(st.startTime<=Q)i(g),st.sortIndex=st.expirationTime,t(p,st);else break;st=n(g)}}function ct(Q){if(k=!1,ut(Q),!D)if(n(p)!==null)D=!0,it||(it=!0,j());else{var st=n(g);st!==null&&Dt(ct,st.startTime-Q)}}var it=!1,M=-1,A=5,x=-1;function N(){return V?!0:!(r.unstable_now()-x<A)}function U(){if(V=!1,it){var Q=r.unstable_now();x=Q;var st=!0;try{t:{D=!1,k&&(k=!1,rt(M),M=-1),R=!0;var gt=b;try{e:{for(ut(Q),T=n(p);T!==null&&!(T.expirationTime>Q&&N());){var xt=T.callback;if(typeof xt=="function"){T.callback=null,b=T.priorityLevel;var P=xt(T.expirationTime<=Q);if(Q=r.unstable_now(),typeof P=="function"){T.callback=P,ut(Q),st=!0;break e}T===n(p)&&i(p),ut(Q)}else i(p);T=n(p)}if(T!==null)st=!0;else{var J=n(g);J!==null&&Dt(ct,J.startTime-Q),st=!1}}break t}finally{T=null,b=gt,R=!1}st=void 0}}finally{st?j():it=!1}}}var j;if(typeof Z=="function")j=function(){Z(U)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,mt=C.port2;C.port1.onmessage=U,j=function(){mt.postMessage(null)}}else j=function(){H(U,0)};function Dt(Q,st){M=H(function(){Q(r.unstable_now())},st)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function(Q){switch(b){case 1:case 2:case 3:var st=3;break;default:st=b}var gt=b;b=st;try{return Q()}finally{b=gt}},r.unstable_requestPaint=function(){V=!0},r.unstable_runWithPriority=function(Q,st){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var gt=b;b=Q;try{return st()}finally{b=gt}},r.unstable_scheduleCallback=function(Q,st,gt){var xt=r.unstable_now();switch(typeof gt=="object"&&gt!==null?(gt=gt.delay,gt=typeof gt=="number"&&0<gt?xt+gt:xt):gt=xt,Q){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=gt+P,Q={id:v++,callback:st,priorityLevel:Q,startTime:gt,expirationTime:P,sortIndex:-1},gt>xt?(Q.sortIndex=gt,t(g,Q),n(p)===null&&Q===n(g)&&(k?(rt(M),M=-1):k=!0,Dt(ct,gt-xt))):(Q.sortIndex=P,t(p,Q),D||R||(D=!0,it||(it=!0,j()))),Q},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(Q){var st=b;return function(){var gt=b;b=st;try{return Q.apply(this,arguments)}finally{b=gt}}}}(Hd)),Hd}var y_;function ES(){return y_||(y_=1,qd.exports=_S()),qd.exports}var Fd={exports:{}},on={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v_;function TS(){if(v_)return on;v_=1;var r=Km();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,g,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:T==null?null:""+T,children:p,containerInfo:g,implementation:v}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,on.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,v)},on.flushSync=function(p){var g=h.T,v=i.p;try{if(h.T=null,i.p=2,p)return p()}finally{h.T=g,i.p=v,i.d.f()}},on.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(p,g))},on.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},on.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,T=m(v,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,R=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?i.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:b,fetchPriority:R}):v==="script"&&i.d.X(p,{crossOrigin:T,integrity:b,fetchPriority:R,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},on.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);i.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(p)},on.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,T=m(v,g.crossOrigin);i.d.L(p,v,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},on.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);i.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(p)},on.requestFormReset=function(p){i.d.r(p)},on.unstable_batchedUpdates=function(p,g){return p(g)},on.useFormState=function(p,g,v){return h.H.useFormState(p,g,v)},on.useFormStatus=function(){return h.H.useHostTransitionStatus()},on.version="19.1.0",on}var __;function bS(){if(__)return Fd.exports;__=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Fd.exports=TS(),Fd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E_;function wS(){if(E_)return Ao;E_=1;var r=ES(),t=Km(),n=bS();function i(e){var a="https://react.dev/errors/"+e;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)a+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var a=e,s=e;if(e.alternate)for(;a.return;)a=a.return;else{e=a;do a=e,(a.flags&4098)!==0&&(s=a.return),e=a.return;while(e)}return a.tag===3?s:null}function h(e){if(e.tag===13){var a=e.memoizedState;if(a===null&&(e=e.alternate,e!==null&&(a=e.memoizedState)),a!==null)return a.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(i(188))}function p(e){var a=e.alternate;if(!a){if(a=u(e),a===null)throw Error(i(188));return a!==e?null:e}for(var s=e,o=a;;){var f=s.return;if(f===null)break;var d=f.alternate;if(d===null){if(o=f.return,o!==null){s=o;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===s)return m(f),e;if(d===o)return m(f),a;d=d.sibling}throw Error(i(188))}if(s.return!==o.return)s=f,o=d;else{for(var E=!1,w=f.child;w;){if(w===s){E=!0,s=f,o=d;break}if(w===o){E=!0,o=f,s=d;break}w=w.sibling}if(!E){for(w=d.child;w;){if(w===s){E=!0,s=d,o=f;break}if(w===o){E=!0,o=d,s=f;break}w=w.sibling}if(!E)throw Error(i(189))}}if(s.alternate!==o)throw Error(i(190))}if(s.tag!==3)throw Error(i(188));return s.stateNode.current===s?e:a}function g(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e;for(e=e.child;e!==null;){if(a=g(e),a!==null)return a;e=e.sibling}return null}var v=Object.assign,T=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),rt=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),ut=Symbol.for("react.forward_ref"),ct=Symbol.for("react.suspense"),it=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function j(e){return e===null||typeof e!="object"?null:(e=U&&e[U]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function mt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case D:return"Fragment";case V:return"Profiler";case k:return"StrictMode";case ct:return"Suspense";case it:return"SuspenseList";case x:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case R:return"Portal";case Z:return(e.displayName||"Context")+".Provider";case rt:return(e._context.displayName||"Context")+".Consumer";case ut:var a=e.render;return e=e.displayName,e||(e=a.displayName||a.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case M:return a=e.displayName||null,a!==null?a:mt(e.type)||"Memo";case A:a=e._payload,e=e._init;try{return mt(e(a))}catch{}}return null}var Dt=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt={pending:!1,data:null,method:null,action:null},xt=[],P=-1;function J(e){return{current:e}}function ot(e){0>P||(e.current=xt[P],xt[P]=null,P--)}function at(e,a){P++,xt[P]=e.current,e.current=a}var pt=J(null),Ct=J(null),_t=J(null),ce=J(null);function Ft(e,a){switch(at(_t,a),at(Ct,e),at(pt,null),a.nodeType){case 9:case 11:e=(e=a.documentElement)&&(e=e.namespaceURI)?zv(e):0;break;default:if(e=a.tagName,a=a.namespaceURI)a=zv(a),e=Bv(a,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ot(pt),at(pt,e)}function Ne(){ot(pt),ot(Ct),ot(_t)}function kn(e){e.memoizedState!==null&&at(ce,e);var a=pt.current,s=Bv(a,e.type);a!==s&&(at(Ct,e),at(pt,s))}function An(e){Ct.current===e&&(ot(pt),ot(Ct)),ce.current===e&&(ot(ce),_o._currentValue=gt)}var Ln=Object.prototype.hasOwnProperty,tr=r.unstable_scheduleCallback,ae=r.unstable_cancelCallback,er=r.unstable_shouldYield,Ge=r.unstable_requestPaint,Qe=r.unstable_now,ss=r.unstable_getCurrentPriorityLevel,wa=r.unstable_ImmediatePriority,Sa=r.unstable_UserBlockingPriority,zr=r.unstable_NormalPriority,Sl=r.unstable_LowPriority,Br=r.unstable_IdlePriority,pi=r.log,ls=r.unstable_setDisableYieldValue,fe=null,Qt=null;function dn(e){if(typeof pi=="function"&&ls(e),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(fe,e)}catch{}}var Ae=Math.clz32?Math.clz32:qr,yi=Math.log,os=Math.LN2;function qr(e){return e>>>=0,e===0?32:31-(yi(e)/os|0)|0}var Un=256,yr=4194304;function Rn(e){var a=e&42;if(a!==0)return a;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Hr(e,a,s){var o=e.pendingLanes;if(o===0)return 0;var f=0,d=e.suspendedLanes,E=e.pingedLanes;e=e.warmLanes;var w=o&134217727;return w!==0?(o=w&~d,o!==0?f=Rn(o):(E&=w,E!==0?f=Rn(E):s||(s=w&~e,s!==0&&(f=Rn(s))))):(w=o&~d,w!==0?f=Rn(w):E!==0?f=Rn(E):s||(s=o&~e,s!==0&&(f=Rn(s)))),f===0?0:a!==0&&a!==f&&(a&d)===0&&(d=f&-f,s=a&-a,d>=s||d===32&&(s&4194048)!==0)?a:f}function vr(e,a){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&a)===0}function Fr(e,a){switch(e){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vi(){var e=Un;return Un<<=1,(Un&4194048)===0&&(Un=256),e}function Aa(){var e=yr;return yr<<=1,(yr&62914560)===0&&(yr=4194304),e}function nr(e){for(var a=[],s=0;31>s;s++)a.push(e);return a}function jn(e,a){e.pendingLanes|=a,a!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Re(e,a,s,o,f,d){var E=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var w=e.entanglements,O=e.expirationTimes,Y=e.hiddenUpdates;for(s=E&~s;0<s;){var X=31-Ae(s),tt=1<<X;w[X]=0,O[X]=-1;var G=Y[X];if(G!==null)for(Y[X]=null,X=0;X<G.length;X++){var K=G[X];K!==null&&(K.lane&=-536870913)}s&=~tt}o!==0&&oe(e,o,0),d!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=d&~(E&~a))}function oe(e,a,s){e.pendingLanes|=a,e.suspendedLanes&=~a;var o=31-Ae(a);e.entangledLanes|=a,e.entanglements[o]=e.entanglements[o]|1073741824|s&4194090}function _r(e,a){var s=e.entangledLanes|=a;for(e=e.entanglements;s;){var o=31-Ae(s),f=1<<o;f&a|e[o]&a&&(e[o]|=a),s&=~f}}function Yt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ke(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Er(){var e=st.p;return e!==0?e:(e=window.event,e===void 0?32:s_(e.type))}function Ra(e,a){var s=st.p;try{return st.p=e,a()}finally{st.p=s}}var ie=Math.random().toString(36).slice(2),_e="__reactFiber$"+ie,he="__reactProps$"+ie,$e="__reactContainer$"+ie,Yr="__reactEvents$"+ie,_i="__reactListeners$"+ie,zn="__reactHandles$"+ie,us="__reactResources$"+ie,rr="__reactMarker$"+ie;function ar(e){delete e[_e],delete e[he],delete e[Yr],delete e[_i],delete e[zn]}function ir(e){var a=e[_e];if(a)return a;for(var s=e.parentNode;s;){if(a=s[$e]||s[_e]){if(s=a.alternate,a.child!==null||s!==null&&s.child!==null)for(e=Yv(e);e!==null;){if(s=e[_e])return s;e=Yv(e)}return a}e=s,s=e.parentNode}return null}function Bn(e){if(e=e[_e]||e[$e]){var a=e.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return e}return null}function St(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e.stateNode;throw Error(i(33))}function Vt(e){var a=e[us];return a||(a=e[us]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ot(e){e[rr]=!0}var Xe=new Set,je={};function mn(e,a){sr(e,a),sr(e+"Capture",a)}function sr(e,a){for(je[e]=a,e=0;e<a.length;e++)Xe.add(a[e])}var cs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cu={},Ei={};function fu(e){return Ln.call(Ei,e)?!0:Ln.call(cu,e)?!1:cs.test(e)?Ei[e]=!0:(cu[e]=!0,!1)}function Da(e,a,s){if(fu(a))if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(a);return;case"boolean":var o=a.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(a);return}}e.setAttribute(a,""+s)}}function Tr(e,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttribute(a,""+s)}}function We(e,a,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(a,s,""+o)}}var Ti,hu;function Gr(e){if(Ti===void 0)try{throw Error()}catch(s){var a=s.stack.trim().match(/\n( *(at )?)/);Ti=a&&a[1]||"",hu=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ti+e+hu}var fs=!1;function hs(e,a){if(!e||fs)return"";fs=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(a){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(K){var G=K}Reflect.construct(e,[],tt)}else{try{tt.call()}catch(K){G=K}e.call(tt.prototype)}}else{try{throw Error()}catch(K){G=K}(tt=e())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(K){if(K&&G&&typeof K.stack=="string")return[K.stack,G.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),E=d[0],w=d[1];if(E&&w){var O=E.split(`
`),Y=w.split(`
`);for(f=o=0;o<O.length&&!O[o].includes("DetermineComponentFrameRoot");)o++;for(;f<Y.length&&!Y[f].includes("DetermineComponentFrameRoot");)f++;if(o===O.length||f===Y.length)for(o=O.length-1,f=Y.length-1;1<=o&&0<=f&&O[o]!==Y[f];)f--;for(;1<=o&&0<=f;o--,f--)if(O[o]!==Y[f]){if(o!==1||f!==1)do if(o--,f--,0>f||O[o]!==Y[f]){var X=`
`+O[o].replace(" at new "," at ");return e.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",e.displayName)),X}while(1<=o&&0<=f);break}}}finally{fs=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Gr(s):""}function Al(e){switch(e.tag){case 26:case 27:case 5:return Gr(e.type);case 16:return Gr("Lazy");case 13:return Gr("Suspense");case 19:return Gr("SuspenseList");case 0:case 15:return hs(e.type,!1);case 11:return hs(e.type.render,!1);case 1:return hs(e.type,!0);case 31:return Gr("Activity");default:return""}}function ds(e){try{var a="";do a+=Al(e),e=e.return;while(e);return a}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function gn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Rl(e){var a=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Hf(e){var a=Rl(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,a),o=""+e[a];if(!e.hasOwnProperty(a)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,d=s.set;return Object.defineProperty(e,a,{configurable:!0,get:function(){return f.call(this)},set:function(E){o=""+E,d.call(this,E)}}),Object.defineProperty(e,a,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(E){o=""+E},stopTracking:function(){e._valueTracker=null,delete e[a]}}}}function ms(e){e._valueTracker||(e._valueTracker=Hf(e))}function Dl(e){if(!e)return!1;var a=e._valueTracker;if(!a)return!0;var s=a.getValue(),o="";return e&&(o=Rl(e)?e.checked?"true":"false":e.value),e=o,e!==s?(a.setValue(e),!0):!1}function bi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ff=/[\n"\\]/g;function De(e){return e.replace(Ff,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Dn(e,a,s,o,f,d,E,w){e.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.type=E:e.removeAttribute("type"),a!=null?E==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+gn(a)):e.value!==""+gn(a)&&(e.value=""+gn(a)):E!=="submit"&&E!=="reset"||e.removeAttribute("value"),a!=null?xa(e,E,gn(a)):s!=null?xa(e,E,gn(s)):o!=null&&e.removeAttribute("value"),f==null&&d!=null&&(e.defaultChecked=!!d),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.name=""+gn(w):e.removeAttribute("name")}function wi(e,a,s,o,f,d,E,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),a!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||a!=null))return;s=s!=null?""+gn(s):"",a=a!=null?""+gn(a):s,w||a===e.value||(e.value=a),e.defaultValue=a}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=w?e.checked:!!o,e.defaultChecked=!!o,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(e.name=E)}function xa(e,a,s){a==="number"&&bi(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Qr(e,a,s,o){if(e=e.options,a){a={};for(var f=0;f<s.length;f++)a["$"+s[f]]=!0;for(s=0;s<e.length;s++)f=a.hasOwnProperty("$"+e[s].value),e[s].selected!==f&&(e[s].selected=f),f&&o&&(e[s].defaultSelected=!0)}else{for(s=""+gn(s),a=null,f=0;f<e.length;f++){if(e[f].value===s){e[f].selected=!0,o&&(e[f].defaultSelected=!0);return}a!==null||e[f].disabled||(a=e[f])}a!==null&&(a.selected=!0)}}function te(e,a,s){if(a!=null&&(a=""+gn(a),a!==e.value&&(e.value=a),s==null)){e.defaultValue!==a&&(e.defaultValue=a);return}e.defaultValue=s!=null?""+gn(s):""}function Si(e,a,s,o){if(a==null){if(o!=null){if(s!=null)throw Error(i(92));if(Dt(o)){if(1<o.length)throw Error(i(93));o=o[0]}s=o}s==null&&(s=""),a=s}s=gn(a),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o)}function qn(e,a){if(a){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=a;return}}e.textContent=a}var Ai=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function du(e,a,s){var o=a.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="":o?e.setProperty(a,s):typeof s!="number"||s===0||Ai.has(a)?a==="float"?e.cssFloat=s:e[a]=(""+s).trim():e[a]=s+"px"}function xl(e,a,s){if(a!=null&&typeof a!="object")throw Error(i(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||a!=null&&a.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var f in a)o=a[f],a.hasOwnProperty(f)&&s[f]!==o&&du(e,f,o)}else for(var d in a)a.hasOwnProperty(d)&&du(e,d,a[d])}function Cl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function gs(e){return Gf.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Kr=null;function Hn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $r=null,Xr=null;function Ol(e){var a=Bn(e);if(a&&(e=a.stateNode)){var s=e[he]||null;t:switch(e=a.stateNode,a.type){case"input":if(Dn(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),a=s.name,s.type==="radio"&&a!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+De(""+a)+'"][type="radio"]'),a=0;a<s.length;a++){var o=s[a];if(o!==e&&o.form===e.form){var f=o[he]||null;if(!f)throw Error(i(90));Dn(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(a=0;a<s.length;a++)o=s[a],o.form===e.form&&Dl(o)}break t;case"textarea":te(e,s.value,s.defaultValue);break t;case"select":a=s.value,a!=null&&Qr(e,!!s.multiple,a,!1)}}}var br=!1;function mu(e,a,s){if(br)return e(a,s);br=!0;try{var o=e(a);return o}finally{if(br=!1,($r!==null||Xr!==null)&&(lc(),$r&&(a=$r,e=Xr,Xr=$r=null,Ol(a),e)))for(a=0;a<e.length;a++)Ol(e[a])}}function Ri(e,a){var s=e.stateNode;if(s===null)return null;var o=s[he]||null;if(o===null)return null;s=o[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(i(231,a,typeof s));return s}var lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fn=!1;if(lr)try{var Di={};Object.defineProperty(Di,"passive",{get:function(){Fn=!0}}),window.addEventListener("test",Di,Di),window.removeEventListener("test",Di,Di)}catch{Fn=!1}var wr=null,Ca=null,Wr=null;function Il(){if(Wr)return Wr;var e,a=Ca,s=a.length,o,f="value"in wr?wr.value:wr.textContent,d=f.length;for(e=0;e<s&&a[e]===f[e];e++);var E=s-e;for(o=1;o<=E&&a[s-o]===f[d-o];o++);return Wr=f.slice(e,1<o?1-o:void 0)}function Sr(e){var a=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&a===13&&(e=13)):e=a,e===10&&(e=13),32<=e||e===13?e:0}function Ar(){return!0}function Nl(){return!1}function ze(e){function a(s,o,f,d,E){this._reactName=s,this._targetInst=f,this.type=o,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(s=e[w],this[w]=s?s(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ar:Nl,this.isPropagationStopped=Nl,this}return v(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ar)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ar)},persist:function(){},isPersistent:Ar}),a}var $t={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ps=ze($t),xi=v({},$t,{view:0,detail:0}),gu=ze(xi),ys,vs,Rr,Ci=v({},xi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ni,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Rr&&(Rr&&e.type==="mousemove"?(ys=e.screenX-Rr.screenX,vs=e.screenY-Rr.screenY):vs=ys=0,Rr=e),ys)},movementY:function(e){return"movementY"in e?e.movementY:vs}}),Yn=ze(Ci),pu=v({},Ci,{dataTransfer:0}),Qf=ze(pu),Oi=v({},xi,{relatedTarget:0}),_s=ze(Oi),Ml=v({},$t,{animationName:0,elapsedTime:0,pseudoElement:0}),Es=ze(Ml),yu=v({},$t,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ts=ze(yu),Kf=v({},$t,{data:0}),Vl=ze(Kf),Ii={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pl(e){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(e):(e=_u[e])?!!a[e]:!1}function Ni(){return Pl}var Eu=v({},xi,{key:function(e){if(e.key){var a=Ii[e.key]||e.key;if(a!=="Unidentified")return a}return e.type==="keypress"?(e=Sr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ni,charCode:function(e){return e.type==="keypress"?Sr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Sr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bs=ze(Eu),Tu=v({},Ci,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kl=ze(Tu),Zr=v({},xi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ni}),bu=ze(Zr),wu=v({},$t,{propertyName:0,elapsedTime:0,pseudoElement:0}),Su=ze(wu),Au=v({},Ci,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ws=ze(Au),pn=v({},$t,{newState:0,oldState:0}),Ru=ze(pn),Du=[9,13,27,32],Dr=lr&&"CompositionEvent"in window,c=null;lr&&"documentMode"in document&&(c=document.documentMode);var y=lr&&"TextEvent"in window&&!c,_=lr&&(!Dr||c&&8<c&&11>=c),S=" ",q=!1;function $(e,a){switch(e){case"keyup":return Du.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var jt=!1;function Me(e,a){switch(e){case"compositionend":return lt(a);case"keypress":return a.which!==32?null:(q=!0,S);case"textInput":return e=a.data,e===S&&q?null:e;default:return null}}function zt(e,a){if(jt)return e==="compositionend"||!Dr&&$(e,a)?(e=Il(),Wr=Ca=wr=null,jt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return _&&a.locale!=="ko"?null:a.data;default:return null}}var Be={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ve(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a==="input"?!!Be[e.type]:a==="textarea"}function Jr(e,a,s,o){$r?Xr?Xr.push(o):Xr=[o]:$r=o,a=dc(a,"onChange"),0<a.length&&(s=new ps("onChange","change",null,s,o),e.push({event:s,listeners:a}))}var Ze=null,xr=null;function Ll(e){Pv(e,0)}function xu(e){var a=St(e);if(Dl(a))return e}function np(e,a){if(e==="change")return a}var rp=!1;if(lr){var $f;if(lr){var Xf="oninput"in document;if(!Xf){var ap=document.createElement("div");ap.setAttribute("oninput","return;"),Xf=typeof ap.oninput=="function"}$f=Xf}else $f=!1;rp=$f&&(!document.documentMode||9<document.documentMode)}function ip(){Ze&&(Ze.detachEvent("onpropertychange",sp),xr=Ze=null)}function sp(e){if(e.propertyName==="value"&&xu(xr)){var a=[];Jr(a,xr,e,Hn(e)),mu(Ll,a)}}function Yb(e,a,s){e==="focusin"?(ip(),Ze=a,xr=s,Ze.attachEvent("onpropertychange",sp)):e==="focusout"&&ip()}function Gb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xu(xr)}function Qb(e,a){if(e==="click")return xu(a)}function Kb(e,a){if(e==="input"||e==="change")return xu(a)}function $b(e,a){return e===a&&(e!==0||1/e===1/a)||e!==e&&a!==a}var xn=typeof Object.is=="function"?Object.is:$b;function Ul(e,a){if(xn(e,a))return!0;if(typeof e!="object"||e===null||typeof a!="object"||a===null)return!1;var s=Object.keys(e),o=Object.keys(a);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var f=s[o];if(!Ln.call(a,f)||!xn(e[f],a[f]))return!1}return!0}function lp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function op(e,a){var s=lp(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=a&&o>=a)return{node:s,offset:a-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=lp(s)}}function up(e,a){return e&&a?e===a?!0:e&&e.nodeType===3?!1:a&&a.nodeType===3?up(e,a.parentNode):"contains"in e?e.contains(a):e.compareDocumentPosition?!!(e.compareDocumentPosition(a)&16):!1:!1}function cp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var a=bi(e.document);a instanceof e.HTMLIFrameElement;){try{var s=typeof a.contentWindow.location.href=="string"}catch{s=!1}if(s)e=a.contentWindow;else break;a=bi(e.document)}return a}function Wf(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a&&(a==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||a==="textarea"||e.contentEditable==="true")}var Xb=lr&&"documentMode"in document&&11>=document.documentMode,Ss=null,Zf=null,jl=null,Jf=!1;function fp(e,a,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Jf||Ss==null||Ss!==bi(o)||(o=Ss,"selectionStart"in o&&Wf(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),jl&&Ul(jl,o)||(jl=o,o=dc(Zf,"onSelect"),0<o.length&&(a=new ps("onSelect","select",null,a,s),e.push({event:a,listeners:o}),a.target=Ss)))}function Mi(e,a){var s={};return s[e.toLowerCase()]=a.toLowerCase(),s["Webkit"+e]="webkit"+a,s["Moz"+e]="moz"+a,s}var As={animationend:Mi("Animation","AnimationEnd"),animationiteration:Mi("Animation","AnimationIteration"),animationstart:Mi("Animation","AnimationStart"),transitionrun:Mi("Transition","TransitionRun"),transitionstart:Mi("Transition","TransitionStart"),transitioncancel:Mi("Transition","TransitionCancel"),transitionend:Mi("Transition","TransitionEnd")},th={},hp={};lr&&(hp=document.createElement("div").style,"AnimationEvent"in window||(delete As.animationend.animation,delete As.animationiteration.animation,delete As.animationstart.animation),"TransitionEvent"in window||delete As.transitionend.transition);function Vi(e){if(th[e])return th[e];if(!As[e])return e;var a=As[e],s;for(s in a)if(a.hasOwnProperty(s)&&s in hp)return th[e]=a[s];return e}var dp=Vi("animationend"),mp=Vi("animationiteration"),gp=Vi("animationstart"),Wb=Vi("transitionrun"),Zb=Vi("transitionstart"),Jb=Vi("transitioncancel"),pp=Vi("transitionend"),yp=new Map,eh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");eh.push("scrollEnd");function or(e,a){yp.set(e,a),mn(a,[e])}var vp=new WeakMap;function Gn(e,a){if(typeof e=="object"&&e!==null){var s=vp.get(e);return s!==void 0?s:(a={value:e,source:a,stack:ds(a)},vp.set(e,a),a)}return{value:e,source:a,stack:ds(a)}}var Qn=[],Rs=0,nh=0;function Cu(){for(var e=Rs,a=nh=Rs=0;a<e;){var s=Qn[a];Qn[a++]=null;var o=Qn[a];Qn[a++]=null;var f=Qn[a];Qn[a++]=null;var d=Qn[a];if(Qn[a++]=null,o!==null&&f!==null){var E=o.pending;E===null?f.next=f:(f.next=E.next,E.next=f),o.pending=f}d!==0&&_p(s,f,d)}}function Ou(e,a,s,o){Qn[Rs++]=e,Qn[Rs++]=a,Qn[Rs++]=s,Qn[Rs++]=o,nh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function rh(e,a,s,o){return Ou(e,a,s,o),Iu(e)}function Ds(e,a){return Ou(e,null,null,a),Iu(e)}function _p(e,a,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var f=!1,d=e.return;d!==null;)d.childLanes|=s,o=d.alternate,o!==null&&(o.childLanes|=s),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(f=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,f&&a!==null&&(f=31-Ae(s),e=d.hiddenUpdates,o=e[f],o===null?e[f]=[a]:o.push(a),a.lane=s|536870912),d):null}function Iu(e){if(50<co)throw co=0,ud=null,Error(i(185));for(var a=e.return;a!==null;)e=a,a=e.return;return e.tag===3?e.stateNode:null}var xs={};function tw(e,a,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(e,a,s,o){return new tw(e,a,s,o)}function ah(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ta(e,a){var s=e.alternate;return s===null?(s=Cn(e.tag,a,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=a,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,a=e.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Ep(e,a){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=a,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,a=s.dependencies,e.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),e}function Nu(e,a,s,o,f,d){var E=0;if(o=e,typeof e=="function")ah(e)&&(E=1);else if(typeof e=="string")E=nS(e,s,pt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case x:return e=Cn(31,s,a,f),e.elementType=x,e.lanes=d,e;case D:return Pi(s.children,f,d,a);case k:E=8,f|=24;break;case V:return e=Cn(12,s,a,f|2),e.elementType=V,e.lanes=d,e;case ct:return e=Cn(13,s,a,f),e.elementType=ct,e.lanes=d,e;case it:return e=Cn(19,s,a,f),e.elementType=it,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case H:case Z:E=10;break t;case rt:E=9;break t;case ut:E=11;break t;case M:E=14;break t;case A:E=16,o=null;break t}E=29,s=Error(i(130,e===null?"null":typeof e,"")),o=null}return a=Cn(E,s,a,f),a.elementType=e,a.type=o,a.lanes=d,a}function Pi(e,a,s,o){return e=Cn(7,e,o,a),e.lanes=s,e}function ih(e,a,s){return e=Cn(6,e,null,a),e.lanes=s,e}function sh(e,a,s){return a=Cn(4,e.children!==null?e.children:[],e.key,a),a.lanes=s,a.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},a}var Cs=[],Os=0,Mu=null,Vu=0,Kn=[],$n=0,ki=null,ea=1,na="";function Li(e,a){Cs[Os++]=Vu,Cs[Os++]=Mu,Mu=e,Vu=a}function Tp(e,a,s){Kn[$n++]=ea,Kn[$n++]=na,Kn[$n++]=ki,ki=e;var o=ea;e=na;var f=32-Ae(o)-1;o&=~(1<<f),s+=1;var d=32-Ae(a)+f;if(30<d){var E=f-f%5;d=(o&(1<<E)-1).toString(32),o>>=E,f-=E,ea=1<<32-Ae(a)+f|s<<f|o,na=d+e}else ea=1<<d|s<<f|o,na=e}function lh(e){e.return!==null&&(Li(e,1),Tp(e,1,0))}function oh(e){for(;e===Mu;)Mu=Cs[--Os],Cs[Os]=null,Vu=Cs[--Os],Cs[Os]=null;for(;e===ki;)ki=Kn[--$n],Kn[$n]=null,na=Kn[--$n],Kn[$n]=null,ea=Kn[--$n],Kn[$n]=null}var yn=null,Ee=null,Kt=!1,Ui=null,Cr=!1,uh=Error(i(519));function ji(e){var a=Error(i(418,""));throw ql(Gn(a,e)),uh}function bp(e){var a=e.stateNode,s=e.type,o=e.memoizedProps;switch(a[_e]=e,a[he]=o,s){case"dialog":Lt("cancel",a),Lt("close",a);break;case"iframe":case"object":case"embed":Lt("load",a);break;case"video":case"audio":for(s=0;s<ho.length;s++)Lt(ho[s],a);break;case"source":Lt("error",a);break;case"img":case"image":case"link":Lt("error",a),Lt("load",a);break;case"details":Lt("toggle",a);break;case"input":Lt("invalid",a),wi(a,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),ms(a);break;case"select":Lt("invalid",a);break;case"textarea":Lt("invalid",a),Si(a,o.value,o.defaultValue,o.children),ms(a)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||a.textContent===""+s||o.suppressHydrationWarning===!0||jv(a.textContent,s)?(o.popover!=null&&(Lt("beforetoggle",a),Lt("toggle",a)),o.onScroll!=null&&Lt("scroll",a),o.onScrollEnd!=null&&Lt("scrollend",a),o.onClick!=null&&(a.onclick=mc),a=!0):a=!1,a||ji(e)}function wp(e){for(yn=e.return;yn;)switch(yn.tag){case 5:case 13:Cr=!1;return;case 27:case 3:Cr=!0;return;default:yn=yn.return}}function zl(e){if(e!==yn)return!1;if(!Kt)return wp(e),Kt=!0,!1;var a=e.tag,s;if((s=a!==3&&a!==27)&&((s=a===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Ad(e.type,e.memoizedProps)),s=!s),s&&Ee&&ji(e),wp(e),a===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));t:{for(e=e.nextSibling,a=0;e;){if(e.nodeType===8)if(s=e.data,s==="/$"){if(a===0){Ee=cr(e.nextSibling);break t}a--}else s!=="$"&&s!=="$!"&&s!=="$?"||a++;e=e.nextSibling}Ee=null}}else a===27?(a=Ee,Ya(e.type)?(e=Cd,Cd=null,Ee=e):Ee=a):Ee=yn?cr(e.stateNode.nextSibling):null;return!0}function Bl(){Ee=yn=null,Kt=!1}function Sp(){var e=Ui;return e!==null&&(En===null?En=e:En.push.apply(En,e),Ui=null),e}function ql(e){Ui===null?Ui=[e]:Ui.push(e)}var ch=J(null),zi=null,ra=null;function Oa(e,a,s){at(ch,a._currentValue),a._currentValue=s}function aa(e){e._currentValue=ch.current,ot(ch)}function fh(e,a,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&a)!==a?(e.childLanes|=a,o!==null&&(o.childLanes|=a)):o!==null&&(o.childLanes&a)!==a&&(o.childLanes|=a),e===s)break;e=e.return}}function hh(e,a,s,o){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var d=f.dependencies;if(d!==null){var E=f.child;d=d.firstContext;t:for(;d!==null;){var w=d;d=f;for(var O=0;O<a.length;O++)if(w.context===a[O]){d.lanes|=s,w=d.alternate,w!==null&&(w.lanes|=s),fh(d.return,s,e),o||(E=null);break t}d=w.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(i(341));E.lanes|=s,d=E.alternate,d!==null&&(d.lanes|=s),fh(E,s,e),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===e){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function Hl(e,a,s,o){e=null;for(var f=a,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var w=f.type;xn(f.pendingProps.value,E.value)||(e!==null?e.push(w):e=[w])}}else if(f===ce.current){if(E=f.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(_o):e=[_o])}f=f.return}e!==null&&hh(a,e,s,o),a.flags|=262144}function Pu(e){for(e=e.firstContext;e!==null;){if(!xn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Bi(e){zi=e,ra=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ln(e){return Ap(zi,e)}function ku(e,a){return zi===null&&Bi(e),Ap(e,a)}function Ap(e,a){var s=a._currentValue;if(a={context:a,memoizedValue:s,next:null},ra===null){if(e===null)throw Error(i(308));ra=a,e.dependencies={lanes:0,firstContext:a},e.flags|=524288}else ra=ra.next=a;return s}var ew=typeof AbortController<"u"?AbortController:function(){var e=[],a=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){a.aborted=!0,e.forEach(function(s){return s()})}},nw=r.unstable_scheduleCallback,rw=r.unstable_NormalPriority,Pe={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function dh(){return{controller:new ew,data:new Map,refCount:0}}function Fl(e){e.refCount--,e.refCount===0&&nw(rw,function(){e.controller.abort()})}var Yl=null,mh=0,Is=0,Ns=null;function aw(e,a){if(Yl===null){var s=Yl=[];mh=0,Is=pd(),Ns={status:"pending",value:void 0,then:function(o){s.push(o)}}}return mh++,a.then(Rp,Rp),a}function Rp(){if(--mh===0&&Yl!==null){Ns!==null&&(Ns.status="fulfilled");var e=Yl;Yl=null,Is=0,Ns=null;for(var a=0;a<e.length;a++)(0,e[a])()}}function iw(e,a){var s=[],o={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return e.then(function(){o.status="fulfilled",o.value=a;for(var f=0;f<s.length;f++)(0,s[f])(a)},function(f){for(o.status="rejected",o.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),o}var Dp=Q.S;Q.S=function(e,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&aw(e,a),Dp!==null&&Dp(e,a)};var qi=J(null);function gh(){var e=qi.current;return e!==null?e:le.pooledCache}function Lu(e,a){a===null?at(qi,qi.current):at(qi,a.pool)}function xp(){var e=gh();return e===null?null:{parent:Pe._currentValue,pool:e}}var Gl=Error(i(460)),Cp=Error(i(474)),Uu=Error(i(542)),ph={then:function(){}};function Op(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ju(){}function Ip(e,a,s){switch(s=e[s],s===void 0?e.push(a):s!==a&&(a.then(ju,ju),a=s),a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,Mp(e),e;default:if(typeof a.status=="string")a.then(ju,ju);else{if(e=le,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=a,e.status="pending",e.then(function(o){if(a.status==="pending"){var f=a;f.status="fulfilled",f.value=o}},function(o){if(a.status==="pending"){var f=a;f.status="rejected",f.reason=o}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,Mp(e),e}throw Ql=a,Gl}}var Ql=null;function Np(){if(Ql===null)throw Error(i(459));var e=Ql;return Ql=null,e}function Mp(e){if(e===Gl||e===Uu)throw Error(i(483))}var Ia=!1;function yh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vh(e,a){e=e.updateQueue,a.updateQueue===e&&(a.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Na(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ma(e,a,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Wt&2)!==0){var f=o.pending;return f===null?a.next=a:(a.next=f.next,f.next=a),o.pending=a,a=Iu(e),_p(e,null,s),a}return Ou(e,o,a,s),Iu(e)}function Kl(e,a,s){if(a=a.updateQueue,a!==null&&(a=a.shared,(s&4194048)!==0)){var o=a.lanes;o&=e.pendingLanes,s|=o,a.lanes=s,_r(e,s)}}function _h(e,a){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var f=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var E={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?f=d=E:d=d.next=E,s=s.next}while(s!==null);d===null?f=d=a:d=d.next=a}else f=d=a;s={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=a:e.next=a,s.lastBaseUpdate=a}var Eh=!1;function $l(){if(Eh){var e=Ns;if(e!==null)throw e}}function Xl(e,a,s,o){Eh=!1;var f=e.updateQueue;Ia=!1;var d=f.firstBaseUpdate,E=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var O=w,Y=O.next;O.next=null,E===null?d=Y:E.next=Y,E=O;var X=e.alternate;X!==null&&(X=X.updateQueue,w=X.lastBaseUpdate,w!==E&&(w===null?X.firstBaseUpdate=Y:w.next=Y,X.lastBaseUpdate=O))}if(d!==null){var tt=f.baseState;E=0,X=Y=O=null,w=d;do{var G=w.lane&-536870913,K=G!==w.lane;if(K?(Bt&G)===G:(o&G)===G){G!==0&&G===Is&&(Eh=!0),X!==null&&(X=X.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var bt=e,Et=w;G=a;var re=s;switch(Et.tag){case 1:if(bt=Et.payload,typeof bt=="function"){tt=bt.call(re,tt,G);break t}tt=bt;break t;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=Et.payload,G=typeof bt=="function"?bt.call(re,tt,G):bt,G==null)break t;tt=v({},tt,G);break t;case 2:Ia=!0}}G=w.callback,G!==null&&(e.flags|=64,K&&(e.flags|=8192),K=f.callbacks,K===null?f.callbacks=[G]:K.push(G))}else K={lane:G,tag:w.tag,payload:w.payload,callback:w.callback,next:null},X===null?(Y=X=K,O=tt):X=X.next=K,E|=G;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;K=w,w=K.next,K.next=null,f.lastBaseUpdate=K,f.shared.pending=null}}while(!0);X===null&&(O=tt),f.baseState=O,f.firstBaseUpdate=Y,f.lastBaseUpdate=X,d===null&&(f.shared.lanes=0),Ba|=E,e.lanes=E,e.memoizedState=tt}}function Vp(e,a){if(typeof e!="function")throw Error(i(191,e));e.call(a)}function Pp(e,a){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Vp(s[e],a)}var Ms=J(null),zu=J(0);function kp(e,a){e=fa,at(zu,e),at(Ms,a),fa=e|a.baseLanes}function Th(){at(zu,fa),at(Ms,Ms.current)}function bh(){fa=zu.current,ot(Ms),ot(zu)}var Va=0,Nt=null,ee=null,xe=null,Bu=!1,Vs=!1,Hi=!1,qu=0,Wl=0,Ps=null,sw=0;function be(){throw Error(i(321))}function wh(e,a){if(a===null)return!1;for(var s=0;s<a.length&&s<e.length;s++)if(!xn(e[s],a[s]))return!1;return!0}function Sh(e,a,s,o,f,d){return Va=d,Nt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Q.H=e===null||e.memoizedState===null?_y:Ey,Hi=!1,d=s(o,f),Hi=!1,Vs&&(d=Up(a,s,o,f)),Lp(e),d}function Lp(e){Q.H=Ku;var a=ee!==null&&ee.next!==null;if(Va=0,xe=ee=Nt=null,Bu=!1,Wl=0,Ps=null,a)throw Error(i(300));e===null||qe||(e=e.dependencies,e!==null&&Pu(e)&&(qe=!0))}function Up(e,a,s,o){Nt=e;var f=0;do{if(Vs&&(Ps=null),Wl=0,Vs=!1,25<=f)throw Error(i(301));if(f+=1,xe=ee=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=dw,d=a(s,o)}while(Vs);return d}function lw(){var e=Q.H,a=e.useState()[0];return a=typeof a.then=="function"?Zl(a):a,e=e.useState()[0],(ee!==null?ee.memoizedState:null)!==e&&(Nt.flags|=1024),a}function Ah(){var e=qu!==0;return qu=0,e}function Rh(e,a,s){a.updateQueue=e.updateQueue,a.flags&=-2053,e.lanes&=~s}function Dh(e){if(Bu){for(e=e.memoizedState;e!==null;){var a=e.queue;a!==null&&(a.pending=null),e=e.next}Bu=!1}Va=0,xe=ee=Nt=null,Vs=!1,Wl=qu=0,Ps=null}function vn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xe===null?Nt.memoizedState=xe=e:xe=xe.next=e,xe}function Ce(){if(ee===null){var e=Nt.alternate;e=e!==null?e.memoizedState:null}else e=ee.next;var a=xe===null?Nt.memoizedState:xe.next;if(a!==null)xe=a,ee=e;else{if(e===null)throw Nt.alternate===null?Error(i(467)):Error(i(310));ee=e,e={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},xe===null?Nt.memoizedState=xe=e:xe=xe.next=e}return xe}function xh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zl(e){var a=Wl;return Wl+=1,Ps===null&&(Ps=[]),e=Ip(Ps,e,a),a=Nt,(xe===null?a.memoizedState:xe.next)===null&&(a=a.alternate,Q.H=a===null||a.memoizedState===null?_y:Ey),e}function Hu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Zl(e);if(e.$$typeof===Z)return ln(e)}throw Error(i(438,String(e)))}function Ch(e){var a=null,s=Nt.updateQueue;if(s!==null&&(a=s.memoCache),a==null){var o=Nt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(a={data:o.data.map(function(f){return f.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),s===null&&(s=xh(),Nt.updateQueue=s),s.memoCache=a,s=a.data[a.index],s===void 0)for(s=a.data[a.index]=Array(e),o=0;o<e;o++)s[o]=N;return a.index++,s}function ia(e,a){return typeof a=="function"?a(e):a}function Fu(e){var a=Ce();return Oh(a,ee,e)}function Oh(e,a,s){var o=e.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var f=e.baseQueue,d=o.pending;if(d!==null){if(f!==null){var E=f.next;f.next=d.next,d.next=E}a.baseQueue=f=d,o.pending=null}if(d=e.baseState,f===null)e.memoizedState=d;else{a=f.next;var w=E=null,O=null,Y=a,X=!1;do{var tt=Y.lane&-536870913;if(tt!==Y.lane?(Bt&tt)===tt:(Va&tt)===tt){var G=Y.revertLane;if(G===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),tt===Is&&(X=!0);else if((Va&G)===G){Y=Y.next,G===Is&&(X=!0);continue}else tt={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},O===null?(w=O=tt,E=d):O=O.next=tt,Nt.lanes|=G,Ba|=G;tt=Y.action,Hi&&s(d,tt),d=Y.hasEagerState?Y.eagerState:s(d,tt)}else G={lane:tt,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},O===null?(w=O=G,E=d):O=O.next=G,Nt.lanes|=tt,Ba|=tt;Y=Y.next}while(Y!==null&&Y!==a);if(O===null?E=d:O.next=w,!xn(d,e.memoizedState)&&(qe=!0,X&&(s=Ns,s!==null)))throw s;e.memoizedState=d,e.baseState=E,e.baseQueue=O,o.lastRenderedState=d}return f===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Ih(e){var a=Ce(),s=a.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=e;var o=s.dispatch,f=s.pending,d=a.memoizedState;if(f!==null){s.pending=null;var E=f=f.next;do d=e(d,E.action),E=E.next;while(E!==f);xn(d,a.memoizedState)||(qe=!0),a.memoizedState=d,a.baseQueue===null&&(a.baseState=d),s.lastRenderedState=d}return[d,o]}function jp(e,a,s){var o=Nt,f=Ce(),d=Kt;if(d){if(s===void 0)throw Error(i(407));s=s()}else s=a();var E=!xn((ee||f).memoizedState,s);E&&(f.memoizedState=s,qe=!0),f=f.queue;var w=qp.bind(null,o,f,e);if(Jl(2048,8,w,[e]),f.getSnapshot!==a||E||xe!==null&&xe.memoizedState.tag&1){if(o.flags|=2048,ks(9,Yu(),Bp.bind(null,o,f,s,a),null),le===null)throw Error(i(349));d||(Va&124)!==0||zp(o,a,s)}return s}function zp(e,a,s){e.flags|=16384,e={getSnapshot:a,value:s},a=Nt.updateQueue,a===null?(a=xh(),Nt.updateQueue=a,a.stores=[e]):(s=a.stores,s===null?a.stores=[e]:s.push(e))}function Bp(e,a,s,o){a.value=s,a.getSnapshot=o,Hp(a)&&Fp(e)}function qp(e,a,s){return s(function(){Hp(a)&&Fp(e)})}function Hp(e){var a=e.getSnapshot;e=e.value;try{var s=a();return!xn(e,s)}catch{return!0}}function Fp(e){var a=Ds(e,2);a!==null&&Vn(a,e,2)}function Nh(e){var a=vn();if(typeof e=="function"){var s=e;if(e=s(),Hi){dn(!0);try{s()}finally{dn(!1)}}}return a.memoizedState=a.baseState=e,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:e},a}function Yp(e,a,s,o){return e.baseState=s,Oh(e,ee,typeof o=="function"?o:ia)}function ow(e,a,s,o,f){if(Qu(e))throw Error(i(485));if(e=a.action,e!==null){var d={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};Q.T!==null?s(!0):d.isTransition=!1,o(d),s=a.pending,s===null?(d.next=a.pending=d,Gp(a,d)):(d.next=s.next,a.pending=s.next=d)}}function Gp(e,a){var s=a.action,o=a.payload,f=e.state;if(a.isTransition){var d=Q.T,E={};Q.T=E;try{var w=s(f,o),O=Q.S;O!==null&&O(E,w),Qp(e,a,w)}catch(Y){Mh(e,a,Y)}finally{Q.T=d}}else try{d=s(f,o),Qp(e,a,d)}catch(Y){Mh(e,a,Y)}}function Qp(e,a,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Kp(e,a,o)},function(o){return Mh(e,a,o)}):Kp(e,a,s)}function Kp(e,a,s){a.status="fulfilled",a.value=s,$p(a),e.state=s,a=e.pending,a!==null&&(s=a.next,s===a?e.pending=null:(s=s.next,a.next=s,Gp(e,s)))}function Mh(e,a,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do a.status="rejected",a.reason=s,$p(a),a=a.next;while(a!==o)}e.action=null}function $p(e){e=e.listeners;for(var a=0;a<e.length;a++)(0,e[a])()}function Xp(e,a){return a}function Wp(e,a){if(Kt){var s=le.formState;if(s!==null){t:{var o=Nt;if(Kt){if(Ee){e:{for(var f=Ee,d=Cr;f.nodeType!==8;){if(!d){f=null;break e}if(f=cr(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){Ee=cr(f.nextSibling),o=f.data==="F!";break t}}ji(o)}o=!1}o&&(a=s[0])}}return s=vn(),s.memoizedState=s.baseState=a,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xp,lastRenderedState:a},s.queue=o,s=py.bind(null,Nt,o),o.dispatch=s,o=Nh(!1),d=Uh.bind(null,Nt,!1,o.queue),o=vn(),f={state:a,dispatch:null,action:e,pending:null},o.queue=f,s=ow.bind(null,Nt,f,d,s),f.dispatch=s,o.memoizedState=e,[a,s,!1]}function Zp(e){var a=Ce();return Jp(a,ee,e)}function Jp(e,a,s){if(a=Oh(e,a,Xp)[0],e=Fu(ia)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var o=Zl(a)}catch(E){throw E===Gl?Uu:E}else o=a;a=Ce();var f=a.queue,d=f.dispatch;return s!==a.memoizedState&&(Nt.flags|=2048,ks(9,Yu(),uw.bind(null,f,s),null)),[o,d,e]}function uw(e,a){e.action=a}function ty(e){var a=Ce(),s=ee;if(s!==null)return Jp(a,s,e);Ce(),a=a.memoizedState,s=Ce();var o=s.queue.dispatch;return s.memoizedState=e,[a,o,!1]}function ks(e,a,s,o){return e={tag:e,create:s,deps:o,inst:a,next:null},a=Nt.updateQueue,a===null&&(a=xh(),Nt.updateQueue=a),s=a.lastEffect,s===null?a.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,a.lastEffect=e),e}function Yu(){return{destroy:void 0,resource:void 0}}function ey(){return Ce().memoizedState}function Gu(e,a,s,o){var f=vn();o=o===void 0?null:o,Nt.flags|=e,f.memoizedState=ks(1|a,Yu(),s,o)}function Jl(e,a,s,o){var f=Ce();o=o===void 0?null:o;var d=f.memoizedState.inst;ee!==null&&o!==null&&wh(o,ee.memoizedState.deps)?f.memoizedState=ks(a,d,s,o):(Nt.flags|=e,f.memoizedState=ks(1|a,d,s,o))}function ny(e,a){Gu(8390656,8,e,a)}function ry(e,a){Jl(2048,8,e,a)}function ay(e,a){return Jl(4,2,e,a)}function iy(e,a){return Jl(4,4,e,a)}function sy(e,a){if(typeof a=="function"){e=e();var s=a(e);return function(){typeof s=="function"?s():a(null)}}if(a!=null)return e=e(),a.current=e,function(){a.current=null}}function ly(e,a,s){s=s!=null?s.concat([e]):null,Jl(4,4,sy.bind(null,a,e),s)}function Vh(){}function oy(e,a){var s=Ce();a=a===void 0?null:a;var o=s.memoizedState;return a!==null&&wh(a,o[1])?o[0]:(s.memoizedState=[e,a],e)}function uy(e,a){var s=Ce();a=a===void 0?null:a;var o=s.memoizedState;if(a!==null&&wh(a,o[1]))return o[0];if(o=e(),Hi){dn(!0);try{e()}finally{dn(!1)}}return s.memoizedState=[o,a],o}function Ph(e,a,s){return s===void 0||(Va&1073741824)!==0?e.memoizedState=a:(e.memoizedState=s,e=hv(),Nt.lanes|=e,Ba|=e,s)}function cy(e,a,s,o){return xn(s,a)?s:Ms.current!==null?(e=Ph(e,s,o),xn(e,a)||(qe=!0),e):(Va&42)===0?(qe=!0,e.memoizedState=s):(e=hv(),Nt.lanes|=e,Ba|=e,a)}function fy(e,a,s,o,f){var d=st.p;st.p=d!==0&&8>d?d:8;var E=Q.T,w={};Q.T=w,Uh(e,!1,a,s);try{var O=f(),Y=Q.S;if(Y!==null&&Y(w,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var X=iw(O,o);to(e,a,X,Mn(e))}else to(e,a,o,Mn(e))}catch(tt){to(e,a,{then:function(){},status:"rejected",reason:tt},Mn())}finally{st.p=d,Q.T=E}}function cw(){}function kh(e,a,s,o){if(e.tag!==5)throw Error(i(476));var f=hy(e).queue;fy(e,f,a,gt,s===null?cw:function(){return dy(e),s(o)})}function hy(e){var a=e.memoizedState;if(a!==null)return a;a={memoizedState:gt,baseState:gt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:gt},next:null};var s={};return a.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:s},next:null},e.memoizedState=a,e=e.alternate,e!==null&&(e.memoizedState=a),a}function dy(e){var a=hy(e).next.queue;to(e,a,{},Mn())}function Lh(){return ln(_o)}function my(){return Ce().memoizedState}function gy(){return Ce().memoizedState}function fw(e){for(var a=e.return;a!==null;){switch(a.tag){case 24:case 3:var s=Mn();e=Na(s);var o=Ma(a,e,s);o!==null&&(Vn(o,a,s),Kl(o,a,s)),a={cache:dh()},e.payload=a;return}a=a.return}}function hw(e,a,s){var o=Mn();s={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Qu(e)?yy(a,s):(s=rh(e,a,s,o),s!==null&&(Vn(s,e,o),vy(s,a,o)))}function py(e,a,s){var o=Mn();to(e,a,s,o)}function to(e,a,s,o){var f={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Qu(e))yy(a,f);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=a.lastRenderedReducer,d!==null))try{var E=a.lastRenderedState,w=d(E,s);if(f.hasEagerState=!0,f.eagerState=w,xn(w,E))return Ou(e,a,f,0),le===null&&Cu(),!1}catch{}finally{}if(s=rh(e,a,f,o),s!==null)return Vn(s,e,o),vy(s,a,o),!0}return!1}function Uh(e,a,s,o){if(o={lane:2,revertLane:pd(),action:o,hasEagerState:!1,eagerState:null,next:null},Qu(e)){if(a)throw Error(i(479))}else a=rh(e,s,o,2),a!==null&&Vn(a,e,2)}function Qu(e){var a=e.alternate;return e===Nt||a!==null&&a===Nt}function yy(e,a){Vs=Bu=!0;var s=e.pending;s===null?a.next=a:(a.next=s.next,s.next=a),e.pending=a}function vy(e,a,s){if((s&4194048)!==0){var o=a.lanes;o&=e.pendingLanes,s|=o,a.lanes=s,_r(e,s)}}var Ku={readContext:ln,use:Hu,useCallback:be,useContext:be,useEffect:be,useImperativeHandle:be,useLayoutEffect:be,useInsertionEffect:be,useMemo:be,useReducer:be,useRef:be,useState:be,useDebugValue:be,useDeferredValue:be,useTransition:be,useSyncExternalStore:be,useId:be,useHostTransitionStatus:be,useFormState:be,useActionState:be,useOptimistic:be,useMemoCache:be,useCacheRefresh:be},_y={readContext:ln,use:Hu,useCallback:function(e,a){return vn().memoizedState=[e,a===void 0?null:a],e},useContext:ln,useEffect:ny,useImperativeHandle:function(e,a,s){s=s!=null?s.concat([e]):null,Gu(4194308,4,sy.bind(null,a,e),s)},useLayoutEffect:function(e,a){return Gu(4194308,4,e,a)},useInsertionEffect:function(e,a){Gu(4,2,e,a)},useMemo:function(e,a){var s=vn();a=a===void 0?null:a;var o=e();if(Hi){dn(!0);try{e()}finally{dn(!1)}}return s.memoizedState=[o,a],o},useReducer:function(e,a,s){var o=vn();if(s!==void 0){var f=s(a);if(Hi){dn(!0);try{s(a)}finally{dn(!1)}}}else f=a;return o.memoizedState=o.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},o.queue=e,e=e.dispatch=hw.bind(null,Nt,e),[o.memoizedState,e]},useRef:function(e){var a=vn();return e={current:e},a.memoizedState=e},useState:function(e){e=Nh(e);var a=e.queue,s=py.bind(null,Nt,a);return a.dispatch=s,[e.memoizedState,s]},useDebugValue:Vh,useDeferredValue:function(e,a){var s=vn();return Ph(s,e,a)},useTransition:function(){var e=Nh(!1);return e=fy.bind(null,Nt,e.queue,!0,!1),vn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,a,s){var o=Nt,f=vn();if(Kt){if(s===void 0)throw Error(i(407));s=s()}else{if(s=a(),le===null)throw Error(i(349));(Bt&124)!==0||zp(o,a,s)}f.memoizedState=s;var d={value:s,getSnapshot:a};return f.queue=d,ny(qp.bind(null,o,d,e),[e]),o.flags|=2048,ks(9,Yu(),Bp.bind(null,o,d,s,a),null),s},useId:function(){var e=vn(),a=le.identifierPrefix;if(Kt){var s=na,o=ea;s=(o&~(1<<32-Ae(o)-1)).toString(32)+s,a="«"+a+"R"+s,s=qu++,0<s&&(a+="H"+s.toString(32)),a+="»"}else s=sw++,a="«"+a+"r"+s.toString(32)+"»";return e.memoizedState=a},useHostTransitionStatus:Lh,useFormState:Wp,useActionState:Wp,useOptimistic:function(e){var a=vn();a.memoizedState=a.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=s,a=Uh.bind(null,Nt,!0,s),s.dispatch=a,[e,a]},useMemoCache:Ch,useCacheRefresh:function(){return vn().memoizedState=fw.bind(null,Nt)}},Ey={readContext:ln,use:Hu,useCallback:oy,useContext:ln,useEffect:ry,useImperativeHandle:ly,useInsertionEffect:ay,useLayoutEffect:iy,useMemo:uy,useReducer:Fu,useRef:ey,useState:function(){return Fu(ia)},useDebugValue:Vh,useDeferredValue:function(e,a){var s=Ce();return cy(s,ee.memoizedState,e,a)},useTransition:function(){var e=Fu(ia)[0],a=Ce().memoizedState;return[typeof e=="boolean"?e:Zl(e),a]},useSyncExternalStore:jp,useId:my,useHostTransitionStatus:Lh,useFormState:Zp,useActionState:Zp,useOptimistic:function(e,a){var s=Ce();return Yp(s,ee,e,a)},useMemoCache:Ch,useCacheRefresh:gy},dw={readContext:ln,use:Hu,useCallback:oy,useContext:ln,useEffect:ry,useImperativeHandle:ly,useInsertionEffect:ay,useLayoutEffect:iy,useMemo:uy,useReducer:Ih,useRef:ey,useState:function(){return Ih(ia)},useDebugValue:Vh,useDeferredValue:function(e,a){var s=Ce();return ee===null?Ph(s,e,a):cy(s,ee.memoizedState,e,a)},useTransition:function(){var e=Ih(ia)[0],a=Ce().memoizedState;return[typeof e=="boolean"?e:Zl(e),a]},useSyncExternalStore:jp,useId:my,useHostTransitionStatus:Lh,useFormState:ty,useActionState:ty,useOptimistic:function(e,a){var s=Ce();return ee!==null?Yp(s,ee,e,a):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Ch,useCacheRefresh:gy},Ls=null,eo=0;function $u(e){var a=eo;return eo+=1,Ls===null&&(Ls=[]),Ip(Ls,e,a)}function no(e,a){a=a.props.ref,e.ref=a!==void 0?a:null}function Xu(e,a){throw a.$$typeof===T?Error(i(525)):(e=Object.prototype.toString.call(a),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":e)))}function Ty(e){var a=e._init;return a(e._payload)}function by(e){function a(z,L){if(e){var F=z.deletions;F===null?(z.deletions=[L],z.flags|=16):F.push(L)}}function s(z,L){if(!e)return null;for(;L!==null;)a(z,L),L=L.sibling;return null}function o(z){for(var L=new Map;z!==null;)z.key!==null?L.set(z.key,z):L.set(z.index,z),z=z.sibling;return L}function f(z,L){return z=ta(z,L),z.index=0,z.sibling=null,z}function d(z,L,F){return z.index=F,e?(F=z.alternate,F!==null?(F=F.index,F<L?(z.flags|=67108866,L):F):(z.flags|=67108866,L)):(z.flags|=1048576,L)}function E(z){return e&&z.alternate===null&&(z.flags|=67108866),z}function w(z,L,F,W){return L===null||L.tag!==6?(L=ih(F,z.mode,W),L.return=z,L):(L=f(L,F),L.return=z,L)}function O(z,L,F,W){var dt=F.type;return dt===D?X(z,L,F.props.children,W,F.key):L!==null&&(L.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===A&&Ty(dt)===L.type)?(L=f(L,F.props),no(L,F),L.return=z,L):(L=Nu(F.type,F.key,F.props,null,z.mode,W),no(L,F),L.return=z,L)}function Y(z,L,F,W){return L===null||L.tag!==4||L.stateNode.containerInfo!==F.containerInfo||L.stateNode.implementation!==F.implementation?(L=sh(F,z.mode,W),L.return=z,L):(L=f(L,F.children||[]),L.return=z,L)}function X(z,L,F,W,dt){return L===null||L.tag!==7?(L=Pi(F,z.mode,W,dt),L.return=z,L):(L=f(L,F),L.return=z,L)}function tt(z,L,F){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=ih(""+L,z.mode,F),L.return=z,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case b:return F=Nu(L.type,L.key,L.props,null,z.mode,F),no(F,L),F.return=z,F;case R:return L=sh(L,z.mode,F),L.return=z,L;case A:var W=L._init;return L=W(L._payload),tt(z,L,F)}if(Dt(L)||j(L))return L=Pi(L,z.mode,F,null),L.return=z,L;if(typeof L.then=="function")return tt(z,$u(L),F);if(L.$$typeof===Z)return tt(z,ku(z,L),F);Xu(z,L)}return null}function G(z,L,F,W){var dt=L!==null?L.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return dt!==null?null:w(z,L,""+F,W);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case b:return F.key===dt?O(z,L,F,W):null;case R:return F.key===dt?Y(z,L,F,W):null;case A:return dt=F._init,F=dt(F._payload),G(z,L,F,W)}if(Dt(F)||j(F))return dt!==null?null:X(z,L,F,W,null);if(typeof F.then=="function")return G(z,L,$u(F),W);if(F.$$typeof===Z)return G(z,L,ku(z,F),W);Xu(z,F)}return null}function K(z,L,F,W,dt){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return z=z.get(F)||null,w(L,z,""+W,dt);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case b:return z=z.get(W.key===null?F:W.key)||null,O(L,z,W,dt);case R:return z=z.get(W.key===null?F:W.key)||null,Y(L,z,W,dt);case A:var Pt=W._init;return W=Pt(W._payload),K(z,L,F,W,dt)}if(Dt(W)||j(W))return z=z.get(F)||null,X(L,z,W,dt,null);if(typeof W.then=="function")return K(z,L,F,$u(W),dt);if(W.$$typeof===Z)return K(z,L,F,ku(L,W),dt);Xu(L,W)}return null}function bt(z,L,F,W){for(var dt=null,Pt=null,yt=L,Tt=L=0,Fe=null;yt!==null&&Tt<F.length;Tt++){yt.index>Tt?(Fe=yt,yt=null):Fe=yt.sibling;var Gt=G(z,yt,F[Tt],W);if(Gt===null){yt===null&&(yt=Fe);break}e&&yt&&Gt.alternate===null&&a(z,yt),L=d(Gt,L,Tt),Pt===null?dt=Gt:Pt.sibling=Gt,Pt=Gt,yt=Fe}if(Tt===F.length)return s(z,yt),Kt&&Li(z,Tt),dt;if(yt===null){for(;Tt<F.length;Tt++)yt=tt(z,F[Tt],W),yt!==null&&(L=d(yt,L,Tt),Pt===null?dt=yt:Pt.sibling=yt,Pt=yt);return Kt&&Li(z,Tt),dt}for(yt=o(yt);Tt<F.length;Tt++)Fe=K(yt,z,Tt,F[Tt],W),Fe!==null&&(e&&Fe.alternate!==null&&yt.delete(Fe.key===null?Tt:Fe.key),L=d(Fe,L,Tt),Pt===null?dt=Fe:Pt.sibling=Fe,Pt=Fe);return e&&yt.forEach(function(Xa){return a(z,Xa)}),Kt&&Li(z,Tt),dt}function Et(z,L,F,W){if(F==null)throw Error(i(151));for(var dt=null,Pt=null,yt=L,Tt=L=0,Fe=null,Gt=F.next();yt!==null&&!Gt.done;Tt++,Gt=F.next()){yt.index>Tt?(Fe=yt,yt=null):Fe=yt.sibling;var Xa=G(z,yt,Gt.value,W);if(Xa===null){yt===null&&(yt=Fe);break}e&&yt&&Xa.alternate===null&&a(z,yt),L=d(Xa,L,Tt),Pt===null?dt=Xa:Pt.sibling=Xa,Pt=Xa,yt=Fe}if(Gt.done)return s(z,yt),Kt&&Li(z,Tt),dt;if(yt===null){for(;!Gt.done;Tt++,Gt=F.next())Gt=tt(z,Gt.value,W),Gt!==null&&(L=d(Gt,L,Tt),Pt===null?dt=Gt:Pt.sibling=Gt,Pt=Gt);return Kt&&Li(z,Tt),dt}for(yt=o(yt);!Gt.done;Tt++,Gt=F.next())Gt=K(yt,z,Tt,Gt.value,W),Gt!==null&&(e&&Gt.alternate!==null&&yt.delete(Gt.key===null?Tt:Gt.key),L=d(Gt,L,Tt),Pt===null?dt=Gt:Pt.sibling=Gt,Pt=Gt);return e&&yt.forEach(function(mS){return a(z,mS)}),Kt&&Li(z,Tt),dt}function re(z,L,F,W){if(typeof F=="object"&&F!==null&&F.type===D&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case b:t:{for(var dt=F.key;L!==null;){if(L.key===dt){if(dt=F.type,dt===D){if(L.tag===7){s(z,L.sibling),W=f(L,F.props.children),W.return=z,z=W;break t}}else if(L.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===A&&Ty(dt)===L.type){s(z,L.sibling),W=f(L,F.props),no(W,F),W.return=z,z=W;break t}s(z,L);break}else a(z,L);L=L.sibling}F.type===D?(W=Pi(F.props.children,z.mode,W,F.key),W.return=z,z=W):(W=Nu(F.type,F.key,F.props,null,z.mode,W),no(W,F),W.return=z,z=W)}return E(z);case R:t:{for(dt=F.key;L!==null;){if(L.key===dt)if(L.tag===4&&L.stateNode.containerInfo===F.containerInfo&&L.stateNode.implementation===F.implementation){s(z,L.sibling),W=f(L,F.children||[]),W.return=z,z=W;break t}else{s(z,L);break}else a(z,L);L=L.sibling}W=sh(F,z.mode,W),W.return=z,z=W}return E(z);case A:return dt=F._init,F=dt(F._payload),re(z,L,F,W)}if(Dt(F))return bt(z,L,F,W);if(j(F)){if(dt=j(F),typeof dt!="function")throw Error(i(150));return F=dt.call(F),Et(z,L,F,W)}if(typeof F.then=="function")return re(z,L,$u(F),W);if(F.$$typeof===Z)return re(z,L,ku(z,F),W);Xu(z,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,L!==null&&L.tag===6?(s(z,L.sibling),W=f(L,F),W.return=z,z=W):(s(z,L),W=ih(F,z.mode,W),W.return=z,z=W),E(z)):s(z,L)}return function(z,L,F,W){try{eo=0;var dt=re(z,L,F,W);return Ls=null,dt}catch(yt){if(yt===Gl||yt===Uu)throw yt;var Pt=Cn(29,yt,null,z.mode);return Pt.lanes=W,Pt.return=z,Pt}finally{}}}var Us=by(!0),wy=by(!1),Xn=J(null),Or=null;function Pa(e){var a=e.alternate;at(ke,ke.current&1),at(Xn,e),Or===null&&(a===null||Ms.current!==null||a.memoizedState!==null)&&(Or=e)}function Sy(e){if(e.tag===22){if(at(ke,ke.current),at(Xn,e),Or===null){var a=e.alternate;a!==null&&a.memoizedState!==null&&(Or=e)}}else ka()}function ka(){at(ke,ke.current),at(Xn,Xn.current)}function sa(e){ot(Xn),Or===e&&(Or=null),ot(ke)}var ke=J(0);function Wu(e){for(var a=e;a!==null;){if(a.tag===13){var s=a.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||xd(s)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function jh(e,a,s,o){a=e.memoizedState,s=s(o,a),s=s==null?a:v({},a,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var zh={enqueueSetState:function(e,a,s){e=e._reactInternals;var o=Mn(),f=Na(o);f.payload=a,s!=null&&(f.callback=s),a=Ma(e,f,o),a!==null&&(Vn(a,e,o),Kl(a,e,o))},enqueueReplaceState:function(e,a,s){e=e._reactInternals;var o=Mn(),f=Na(o);f.tag=1,f.payload=a,s!=null&&(f.callback=s),a=Ma(e,f,o),a!==null&&(Vn(a,e,o),Kl(a,e,o))},enqueueForceUpdate:function(e,a){e=e._reactInternals;var s=Mn(),o=Na(s);o.tag=2,a!=null&&(o.callback=a),a=Ma(e,o,s),a!==null&&(Vn(a,e,s),Kl(a,e,s))}};function Ay(e,a,s,o,f,d,E){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,E):a.prototype&&a.prototype.isPureReactComponent?!Ul(s,o)||!Ul(f,d):!0}function Ry(e,a,s,o){e=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(s,o),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(s,o),a.state!==e&&zh.enqueueReplaceState(a,a.state,null)}function Fi(e,a){var s=a;if("ref"in a){s={};for(var o in a)o!=="ref"&&(s[o]=a[o])}if(e=e.defaultProps){s===a&&(s=v({},s));for(var f in e)s[f]===void 0&&(s[f]=e[f])}return s}var Zu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Dy(e){Zu(e)}function xy(e){console.error(e)}function Cy(e){Zu(e)}function Ju(e,a){try{var s=e.onUncaughtError;s(a.value,{componentStack:a.stack})}catch(o){setTimeout(function(){throw o})}}function Oy(e,a,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Bh(e,a,s){return s=Na(s),s.tag=3,s.payload={element:null},s.callback=function(){Ju(e,a)},s}function Iy(e){return e=Na(e),e.tag=3,e}function Ny(e,a,s,o){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var d=o.value;e.payload=function(){return f(d)},e.callback=function(){Oy(a,s,o)}}var E=s.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(e.callback=function(){Oy(a,s,o),typeof f!="function"&&(qa===null?qa=new Set([this]):qa.add(this));var w=o.stack;this.componentDidCatch(o.value,{componentStack:w!==null?w:""})})}function mw(e,a,s,o,f){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(a=s.alternate,a!==null&&Hl(a,s,f,!0),s=Xn.current,s!==null){switch(s.tag){case 13:return Or===null?fd():s.alternate===null&&Te===0&&(Te=3),s.flags&=-257,s.flags|=65536,s.lanes=f,o===ph?s.flags|=16384:(a=s.updateQueue,a===null?s.updateQueue=new Set([o]):a.add(o),dd(e,o,f)),!1;case 22:return s.flags|=65536,o===ph?s.flags|=16384:(a=s.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=a):(s=a.retryQueue,s===null?a.retryQueue=new Set([o]):s.add(o)),dd(e,o,f)),!1}throw Error(i(435,s.tag))}return dd(e,o,f),fd(),!1}if(Kt)return a=Xn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=f,o!==uh&&(e=Error(i(422),{cause:o}),ql(Gn(e,s)))):(o!==uh&&(a=Error(i(423),{cause:o}),ql(Gn(a,s))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,o=Gn(o,s),f=Bh(e.stateNode,o,f),_h(e,f),Te!==4&&(Te=2)),!1;var d=Error(i(520),{cause:o});if(d=Gn(d,s),uo===null?uo=[d]:uo.push(d),Te!==4&&(Te=2),a===null)return!0;o=Gn(o,s),s=a;do{switch(s.tag){case 3:return s.flags|=65536,e=f&-f,s.lanes|=e,e=Bh(s.stateNode,o,e),_h(s,e),!1;case 1:if(a=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(qa===null||!qa.has(d))))return s.flags|=65536,f&=-f,s.lanes|=f,f=Iy(f),Ny(f,e,s,o),_h(s,f),!1}s=s.return}while(s!==null);return!1}var My=Error(i(461)),qe=!1;function Je(e,a,s,o){a.child=e===null?wy(a,null,s,o):Us(a,e.child,s,o)}function Vy(e,a,s,o,f){s=s.render;var d=a.ref;if("ref"in o){var E={};for(var w in o)w!=="ref"&&(E[w]=o[w])}else E=o;return Bi(a),o=Sh(e,a,s,E,d,f),w=Ah(),e!==null&&!qe?(Rh(e,a,f),la(e,a,f)):(Kt&&w&&lh(a),a.flags|=1,Je(e,a,o,f),a.child)}function Py(e,a,s,o,f){if(e===null){var d=s.type;return typeof d=="function"&&!ah(d)&&d.defaultProps===void 0&&s.compare===null?(a.tag=15,a.type=d,ky(e,a,d,o,f)):(e=Nu(s.type,null,o,a,a.mode,f),e.ref=a.ref,e.return=a,a.child=e)}if(d=e.child,!$h(e,f)){var E=d.memoizedProps;if(s=s.compare,s=s!==null?s:Ul,s(E,o)&&e.ref===a.ref)return la(e,a,f)}return a.flags|=1,e=ta(d,o),e.ref=a.ref,e.return=a,a.child=e}function ky(e,a,s,o,f){if(e!==null){var d=e.memoizedProps;if(Ul(d,o)&&e.ref===a.ref)if(qe=!1,a.pendingProps=o=d,$h(e,f))(e.flags&131072)!==0&&(qe=!0);else return a.lanes=e.lanes,la(e,a,f)}return qh(e,a,s,o,f)}function Ly(e,a,s){var o=a.pendingProps,f=o.children,d=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((a.flags&128)!==0){if(o=d!==null?d.baseLanes|s:s,e!==null){for(f=a.child=e.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;a.childLanes=d&~o}else a.childLanes=0,a.child=null;return Uy(e,a,o,s)}if((s&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},e!==null&&Lu(a,d!==null?d.cachePool:null),d!==null?kp(a,d):Th(),Sy(a);else return a.lanes=a.childLanes=536870912,Uy(e,a,d!==null?d.baseLanes|s:s,s)}else d!==null?(Lu(a,d.cachePool),kp(a,d),ka(),a.memoizedState=null):(e!==null&&Lu(a,null),Th(),ka());return Je(e,a,f,s),a.child}function Uy(e,a,s,o){var f=gh();return f=f===null?null:{parent:Pe._currentValue,pool:f},a.memoizedState={baseLanes:s,cachePool:f},e!==null&&Lu(a,null),Th(),Sy(a),e!==null&&Hl(e,a,o,!0),null}function tc(e,a){var s=a.ref;if(s===null)e!==null&&e.ref!==null&&(a.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(i(284));(e===null||e.ref!==s)&&(a.flags|=4194816)}}function qh(e,a,s,o,f){return Bi(a),s=Sh(e,a,s,o,void 0,f),o=Ah(),e!==null&&!qe?(Rh(e,a,f),la(e,a,f)):(Kt&&o&&lh(a),a.flags|=1,Je(e,a,s,f),a.child)}function jy(e,a,s,o,f,d){return Bi(a),a.updateQueue=null,s=Up(a,o,s,f),Lp(e),o=Ah(),e!==null&&!qe?(Rh(e,a,d),la(e,a,d)):(Kt&&o&&lh(a),a.flags|=1,Je(e,a,s,d),a.child)}function zy(e,a,s,o,f){if(Bi(a),a.stateNode===null){var d=xs,E=s.contextType;typeof E=="object"&&E!==null&&(d=ln(E)),d=new s(o,d),a.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=zh,a.stateNode=d,d._reactInternals=a,d=a.stateNode,d.props=o,d.state=a.memoizedState,d.refs={},yh(a),E=s.contextType,d.context=typeof E=="object"&&E!==null?ln(E):xs,d.state=a.memoizedState,E=s.getDerivedStateFromProps,typeof E=="function"&&(jh(a,s,E,o),d.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&zh.enqueueReplaceState(d,d.state,null),Xl(a,o,d,f),$l(),d.state=a.memoizedState),typeof d.componentDidMount=="function"&&(a.flags|=4194308),o=!0}else if(e===null){d=a.stateNode;var w=a.memoizedProps,O=Fi(s,w);d.props=O;var Y=d.context,X=s.contextType;E=xs,typeof X=="object"&&X!==null&&(E=ln(X));var tt=s.getDerivedStateFromProps;X=typeof tt=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=a.pendingProps!==w,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||Y!==E)&&Ry(a,d,o,E),Ia=!1;var G=a.memoizedState;d.state=G,Xl(a,o,d,f),$l(),Y=a.memoizedState,w||G!==Y||Ia?(typeof tt=="function"&&(jh(a,s,tt,o),Y=a.memoizedState),(O=Ia||Ay(a,s,O,o,G,Y,E))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(a.flags|=4194308)):(typeof d.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=o,a.memoizedState=Y),d.props=o,d.state=Y,d.context=E,o=O):(typeof d.componentDidMount=="function"&&(a.flags|=4194308),o=!1)}else{d=a.stateNode,vh(e,a),E=a.memoizedProps,X=Fi(s,E),d.props=X,tt=a.pendingProps,G=d.context,Y=s.contextType,O=xs,typeof Y=="object"&&Y!==null&&(O=ln(Y)),w=s.getDerivedStateFromProps,(Y=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==tt||G!==O)&&Ry(a,d,o,O),Ia=!1,G=a.memoizedState,d.state=G,Xl(a,o,d,f),$l();var K=a.memoizedState;E!==tt||G!==K||Ia||e!==null&&e.dependencies!==null&&Pu(e.dependencies)?(typeof w=="function"&&(jh(a,s,w,o),K=a.memoizedState),(X=Ia||Ay(a,s,X,o,G,K,O)||e!==null&&e.dependencies!==null&&Pu(e.dependencies))?(Y||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,K,O),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,K,O)),typeof d.componentDidUpdate=="function"&&(a.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===e.memoizedProps&&G===e.memoizedState||(a.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&G===e.memoizedState||(a.flags|=1024),a.memoizedProps=o,a.memoizedState=K),d.props=o,d.state=K,d.context=O,o=X):(typeof d.componentDidUpdate!="function"||E===e.memoizedProps&&G===e.memoizedState||(a.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&G===e.memoizedState||(a.flags|=1024),o=!1)}return d=o,tc(e,a),o=(a.flags&128)!==0,d||o?(d=a.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:d.render(),a.flags|=1,e!==null&&o?(a.child=Us(a,e.child,null,f),a.child=Us(a,null,s,f)):Je(e,a,s,f),a.memoizedState=d.state,e=a.child):e=la(e,a,f),e}function By(e,a,s,o){return Bl(),a.flags|=256,Je(e,a,s,o),a.child}var Hh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fh(e){return{baseLanes:e,cachePool:xp()}}function Yh(e,a,s){return e=e!==null?e.childLanes&~s:0,a&&(e|=Wn),e}function qy(e,a,s){var o=a.pendingProps,f=!1,d=(a.flags&128)!==0,E;if((E=d)||(E=e!==null&&e.memoizedState===null?!1:(ke.current&2)!==0),E&&(f=!0,a.flags&=-129),E=(a.flags&32)!==0,a.flags&=-33,e===null){if(Kt){if(f?Pa(a):ka(),Kt){var w=Ee,O;if(O=w){t:{for(O=w,w=Cr;O.nodeType!==8;){if(!w){w=null;break t}if(O=cr(O.nextSibling),O===null){w=null;break t}}w=O}w!==null?(a.memoizedState={dehydrated:w,treeContext:ki!==null?{id:ea,overflow:na}:null,retryLane:536870912,hydrationErrors:null},O=Cn(18,null,null,0),O.stateNode=w,O.return=a,a.child=O,yn=a,Ee=null,O=!0):O=!1}O||ji(a)}if(w=a.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return xd(w)?a.lanes=32:a.lanes=536870912,null;sa(a)}return w=o.children,o=o.fallback,f?(ka(),f=a.mode,w=ec({mode:"hidden",children:w},f),o=Pi(o,f,s,null),w.return=a,o.return=a,w.sibling=o,a.child=w,f=a.child,f.memoizedState=Fh(s),f.childLanes=Yh(e,E,s),a.memoizedState=Hh,o):(Pa(a),Gh(a,w))}if(O=e.memoizedState,O!==null&&(w=O.dehydrated,w!==null)){if(d)a.flags&256?(Pa(a),a.flags&=-257,a=Qh(e,a,s)):a.memoizedState!==null?(ka(),a.child=e.child,a.flags|=128,a=null):(ka(),f=o.fallback,w=a.mode,o=ec({mode:"visible",children:o.children},w),f=Pi(f,w,s,null),f.flags|=2,o.return=a,f.return=a,o.sibling=f,a.child=o,Us(a,e.child,null,s),o=a.child,o.memoizedState=Fh(s),o.childLanes=Yh(e,E,s),a.memoizedState=Hh,a=f);else if(Pa(a),xd(w)){if(E=w.nextSibling&&w.nextSibling.dataset,E)var Y=E.dgst;E=Y,o=Error(i(419)),o.stack="",o.digest=E,ql({value:o,source:null,stack:null}),a=Qh(e,a,s)}else if(qe||Hl(e,a,s,!1),E=(s&e.childLanes)!==0,qe||E){if(E=le,E!==null&&(o=s&-s,o=(o&42)!==0?1:Yt(o),o=(o&(E.suspendedLanes|s))!==0?0:o,o!==0&&o!==O.retryLane))throw O.retryLane=o,Ds(e,o),Vn(E,e,o),My;w.data==="$?"||fd(),a=Qh(e,a,s)}else w.data==="$?"?(a.flags|=192,a.child=e.child,a=null):(e=O.treeContext,Ee=cr(w.nextSibling),yn=a,Kt=!0,Ui=null,Cr=!1,e!==null&&(Kn[$n++]=ea,Kn[$n++]=na,Kn[$n++]=ki,ea=e.id,na=e.overflow,ki=a),a=Gh(a,o.children),a.flags|=4096);return a}return f?(ka(),f=o.fallback,w=a.mode,O=e.child,Y=O.sibling,o=ta(O,{mode:"hidden",children:o.children}),o.subtreeFlags=O.subtreeFlags&65011712,Y!==null?f=ta(Y,f):(f=Pi(f,w,s,null),f.flags|=2),f.return=a,o.return=a,o.sibling=f,a.child=o,o=f,f=a.child,w=e.child.memoizedState,w===null?w=Fh(s):(O=w.cachePool,O!==null?(Y=Pe._currentValue,O=O.parent!==Y?{parent:Y,pool:Y}:O):O=xp(),w={baseLanes:w.baseLanes|s,cachePool:O}),f.memoizedState=w,f.childLanes=Yh(e,E,s),a.memoizedState=Hh,o):(Pa(a),s=e.child,e=s.sibling,s=ta(s,{mode:"visible",children:o.children}),s.return=a,s.sibling=null,e!==null&&(E=a.deletions,E===null?(a.deletions=[e],a.flags|=16):E.push(e)),a.child=s,a.memoizedState=null,s)}function Gh(e,a){return a=ec({mode:"visible",children:a},e.mode),a.return=e,e.child=a}function ec(e,a){return e=Cn(22,e,null,a),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Qh(e,a,s){return Us(a,e.child,null,s),e=Gh(a,a.pendingProps.children),e.flags|=2,a.memoizedState=null,e}function Hy(e,a,s){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a),fh(e.return,a,s)}function Kh(e,a,s,o,f){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:f}:(d.isBackwards=a,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=s,d.tailMode=f)}function Fy(e,a,s){var o=a.pendingProps,f=o.revealOrder,d=o.tail;if(Je(e,a,o.children,s),o=ke.current,(o&2)!==0)o=o&1|2,a.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=a.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hy(e,s,a);else if(e.tag===19)Hy(e,s,a);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===a)break t;for(;e.sibling===null;){if(e.return===null||e.return===a)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(at(ke,o),f){case"forwards":for(s=a.child,f=null;s!==null;)e=s.alternate,e!==null&&Wu(e)===null&&(f=s),s=s.sibling;s=f,s===null?(f=a.child,a.child=null):(f=s.sibling,s.sibling=null),Kh(a,!1,f,s,d);break;case"backwards":for(s=null,f=a.child,a.child=null;f!==null;){if(e=f.alternate,e!==null&&Wu(e)===null){a.child=f;break}e=f.sibling,f.sibling=s,s=f,f=e}Kh(a,!0,s,null,d);break;case"together":Kh(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function la(e,a,s){if(e!==null&&(a.dependencies=e.dependencies),Ba|=a.lanes,(s&a.childLanes)===0)if(e!==null){if(Hl(e,a,s,!1),(s&a.childLanes)===0)return null}else return null;if(e!==null&&a.child!==e.child)throw Error(i(153));if(a.child!==null){for(e=a.child,s=ta(e,e.pendingProps),a.child=s,s.return=a;e.sibling!==null;)e=e.sibling,s=s.sibling=ta(e,e.pendingProps),s.return=a;s.sibling=null}return a.child}function $h(e,a){return(e.lanes&a)!==0?!0:(e=e.dependencies,!!(e!==null&&Pu(e)))}function gw(e,a,s){switch(a.tag){case 3:Ft(a,a.stateNode.containerInfo),Oa(a,Pe,e.memoizedState.cache),Bl();break;case 27:case 5:kn(a);break;case 4:Ft(a,a.stateNode.containerInfo);break;case 10:Oa(a,a.type,a.memoizedProps.value);break;case 13:var o=a.memoizedState;if(o!==null)return o.dehydrated!==null?(Pa(a),a.flags|=128,null):(s&a.child.childLanes)!==0?qy(e,a,s):(Pa(a),e=la(e,a,s),e!==null?e.sibling:null);Pa(a);break;case 19:var f=(e.flags&128)!==0;if(o=(s&a.childLanes)!==0,o||(Hl(e,a,s,!1),o=(s&a.childLanes)!==0),f){if(o)return Fy(e,a,s);a.flags|=128}if(f=a.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),at(ke,ke.current),o)break;return null;case 22:case 23:return a.lanes=0,Ly(e,a,s);case 24:Oa(a,Pe,e.memoizedState.cache)}return la(e,a,s)}function Yy(e,a,s){if(e!==null)if(e.memoizedProps!==a.pendingProps)qe=!0;else{if(!$h(e,s)&&(a.flags&128)===0)return qe=!1,gw(e,a,s);qe=(e.flags&131072)!==0}else qe=!1,Kt&&(a.flags&1048576)!==0&&Tp(a,Vu,a.index);switch(a.lanes=0,a.tag){case 16:t:{e=a.pendingProps;var o=a.elementType,f=o._init;if(o=f(o._payload),a.type=o,typeof o=="function")ah(o)?(e=Fi(o,e),a.tag=1,a=zy(null,a,o,e,s)):(a.tag=0,a=qh(null,a,o,e,s));else{if(o!=null){if(f=o.$$typeof,f===ut){a.tag=11,a=Vy(null,a,o,e,s);break t}else if(f===M){a.tag=14,a=Py(null,a,o,e,s);break t}}throw a=mt(o)||o,Error(i(306,a,""))}}return a;case 0:return qh(e,a,a.type,a.pendingProps,s);case 1:return o=a.type,f=Fi(o,a.pendingProps),zy(e,a,o,f,s);case 3:t:{if(Ft(a,a.stateNode.containerInfo),e===null)throw Error(i(387));o=a.pendingProps;var d=a.memoizedState;f=d.element,vh(e,a),Xl(a,o,null,s);var E=a.memoizedState;if(o=E.cache,Oa(a,Pe,o),o!==d.cache&&hh(a,[Pe],s,!0),$l(),o=E.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:E.cache},a.updateQueue.baseState=d,a.memoizedState=d,a.flags&256){a=By(e,a,o,s);break t}else if(o!==f){f=Gn(Error(i(424)),a),ql(f),a=By(e,a,o,s);break t}else{switch(e=a.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ee=cr(e.firstChild),yn=a,Kt=!0,Ui=null,Cr=!0,s=wy(a,null,o,s),a.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Bl(),o===f){a=la(e,a,s);break t}Je(e,a,o,s)}a=a.child}return a;case 26:return tc(e,a),e===null?(s=$v(a.type,null,a.pendingProps,null))?a.memoizedState=s:Kt||(s=a.type,e=a.pendingProps,o=gc(_t.current).createElement(s),o[_e]=a,o[he]=e,en(o,s,e),Ot(o),a.stateNode=o):a.memoizedState=$v(a.type,e.memoizedProps,a.pendingProps,e.memoizedState),null;case 27:return kn(a),e===null&&Kt&&(o=a.stateNode=Gv(a.type,a.pendingProps,_t.current),yn=a,Cr=!0,f=Ee,Ya(a.type)?(Cd=f,Ee=cr(o.firstChild)):Ee=f),Je(e,a,a.pendingProps.children,s),tc(e,a),e===null&&(a.flags|=4194304),a.child;case 5:return e===null&&Kt&&((f=o=Ee)&&(o=Hw(o,a.type,a.pendingProps,Cr),o!==null?(a.stateNode=o,yn=a,Ee=cr(o.firstChild),Cr=!1,f=!0):f=!1),f||ji(a)),kn(a),f=a.type,d=a.pendingProps,E=e!==null?e.memoizedProps:null,o=d.children,Ad(f,d)?o=null:E!==null&&Ad(f,E)&&(a.flags|=32),a.memoizedState!==null&&(f=Sh(e,a,lw,null,null,s),_o._currentValue=f),tc(e,a),Je(e,a,o,s),a.child;case 6:return e===null&&Kt&&((e=s=Ee)&&(s=Fw(s,a.pendingProps,Cr),s!==null?(a.stateNode=s,yn=a,Ee=null,e=!0):e=!1),e||ji(a)),null;case 13:return qy(e,a,s);case 4:return Ft(a,a.stateNode.containerInfo),o=a.pendingProps,e===null?a.child=Us(a,null,o,s):Je(e,a,o,s),a.child;case 11:return Vy(e,a,a.type,a.pendingProps,s);case 7:return Je(e,a,a.pendingProps,s),a.child;case 8:return Je(e,a,a.pendingProps.children,s),a.child;case 12:return Je(e,a,a.pendingProps.children,s),a.child;case 10:return o=a.pendingProps,Oa(a,a.type,o.value),Je(e,a,o.children,s),a.child;case 9:return f=a.type._context,o=a.pendingProps.children,Bi(a),f=ln(f),o=o(f),a.flags|=1,Je(e,a,o,s),a.child;case 14:return Py(e,a,a.type,a.pendingProps,s);case 15:return ky(e,a,a.type,a.pendingProps,s);case 19:return Fy(e,a,s);case 31:return o=a.pendingProps,s=a.mode,o={mode:o.mode,children:o.children},e===null?(s=ec(o,s),s.ref=a.ref,a.child=s,s.return=a,a=s):(s=ta(e.child,o),s.ref=a.ref,a.child=s,s.return=a,a=s),a;case 22:return Ly(e,a,s);case 24:return Bi(a),o=ln(Pe),e===null?(f=gh(),f===null&&(f=le,d=dh(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=s),f=d),a.memoizedState={parent:o,cache:f},yh(a),Oa(a,Pe,f)):((e.lanes&s)!==0&&(vh(e,a),Xl(a,null,null,s),$l()),f=e.memoizedState,d=a.memoizedState,f.parent!==o?(f={parent:o,cache:o},a.memoizedState=f,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=f),Oa(a,Pe,o)):(o=d.cache,Oa(a,Pe,o),o!==f.cache&&hh(a,[Pe],s,!0))),Je(e,a,a.pendingProps.children,s),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function oa(e){e.flags|=4}function Gy(e,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!t_(a)){if(a=Xn.current,a!==null&&((Bt&4194048)===Bt?Or!==null:(Bt&62914560)!==Bt&&(Bt&536870912)===0||a!==Or))throw Ql=ph,Cp;e.flags|=8192}}function nc(e,a){a!==null&&(e.flags|=4),e.flags&16384&&(a=e.tag!==22?Aa():536870912,e.lanes|=a,qs|=a)}function ro(e,a){if(!Kt)switch(e.tailMode){case"hidden":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?a||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ye(e){var a=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(a)for(var f=e.child;f!==null;)s|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)s|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=o,e.childLanes=s,a}function pw(e,a,s){var o=a.pendingProps;switch(oh(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ye(a),null;case 1:return ye(a),null;case 3:return s=a.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),aa(Pe),Ne(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(zl(a)?oa(a):e===null||e.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Sp())),ye(a),null;case 26:return s=a.memoizedState,e===null?(oa(a),s!==null?(ye(a),Gy(a,s)):(ye(a),a.flags&=-16777217)):s?s!==e.memoizedState?(oa(a),ye(a),Gy(a,s)):(ye(a),a.flags&=-16777217):(e.memoizedProps!==o&&oa(a),ye(a),a.flags&=-16777217),null;case 27:An(a),s=_t.current;var f=a.type;if(e!==null&&a.stateNode!=null)e.memoizedProps!==o&&oa(a);else{if(!o){if(a.stateNode===null)throw Error(i(166));return ye(a),null}e=pt.current,zl(a)?bp(a):(e=Gv(f,o,s),a.stateNode=e,oa(a))}return ye(a),null;case 5:if(An(a),s=a.type,e!==null&&a.stateNode!=null)e.memoizedProps!==o&&oa(a);else{if(!o){if(a.stateNode===null)throw Error(i(166));return ye(a),null}if(e=pt.current,zl(a))bp(a);else{switch(f=gc(_t.current),e){case 1:e=f.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:e=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":e=f.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":e=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?f.createElement("select",{is:o.is}):f.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?f.createElement(s,{is:o.is}):f.createElement(s)}}e[_e]=a,e[he]=o;t:for(f=a.child;f!==null;){if(f.tag===5||f.tag===6)e.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===a)break t;for(;f.sibling===null;){if(f.return===null||f.return===a)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}a.stateNode=e;t:switch(en(e,s,o),s){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&oa(a)}}return ye(a),a.flags&=-16777217,null;case 6:if(e&&a.stateNode!=null)e.memoizedProps!==o&&oa(a);else{if(typeof o!="string"&&a.stateNode===null)throw Error(i(166));if(e=_t.current,zl(a)){if(e=a.stateNode,s=a.memoizedProps,o=null,f=yn,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}e[_e]=a,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||jv(e.nodeValue,s)),e||ji(a)}else e=gc(e).createTextNode(o),e[_e]=a,a.stateNode=e}return ye(a),null;case 13:if(o=a.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=zl(a),o!==null&&o.dehydrated!==null){if(e===null){if(!f)throw Error(i(318));if(f=a.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[_e]=a}else Bl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ye(a),f=!1}else f=Sp(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return a.flags&256?(sa(a),a):(sa(a),null)}if(sa(a),(a.flags&128)!==0)return a.lanes=s,a;if(s=o!==null,e=e!==null&&e.memoizedState!==null,s){o=a.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==f&&(o.flags|=2048)}return s!==e&&s&&(a.child.flags|=8192),nc(a,a.updateQueue),ye(a),null;case 4:return Ne(),e===null&&Ed(a.stateNode.containerInfo),ye(a),null;case 10:return aa(a.type),ye(a),null;case 19:if(ot(ke),f=a.memoizedState,f===null)return ye(a),null;if(o=(a.flags&128)!==0,d=f.rendering,d===null)if(o)ro(f,!1);else{if(Te!==0||e!==null&&(e.flags&128)!==0)for(e=a.child;e!==null;){if(d=Wu(e),d!==null){for(a.flags|=128,ro(f,!1),e=d.updateQueue,a.updateQueue=e,nc(a,e),a.subtreeFlags=0,e=s,s=a.child;s!==null;)Ep(s,e),s=s.sibling;return at(ke,ke.current&1|2),a.child}e=e.sibling}f.tail!==null&&Qe()>ic&&(a.flags|=128,o=!0,ro(f,!1),a.lanes=4194304)}else{if(!o)if(e=Wu(d),e!==null){if(a.flags|=128,o=!0,e=e.updateQueue,a.updateQueue=e,nc(a,e),ro(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!Kt)return ye(a),null}else 2*Qe()-f.renderingStartTime>ic&&s!==536870912&&(a.flags|=128,o=!0,ro(f,!1),a.lanes=4194304);f.isBackwards?(d.sibling=a.child,a.child=d):(e=f.last,e!==null?e.sibling=d:a.child=d,f.last=d)}return f.tail!==null?(a=f.tail,f.rendering=a,f.tail=a.sibling,f.renderingStartTime=Qe(),a.sibling=null,e=ke.current,at(ke,o?e&1|2:e&1),a):(ye(a),null);case 22:case 23:return sa(a),bh(),o=a.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(a.flags|=8192):o&&(a.flags|=8192),o?(s&536870912)!==0&&(a.flags&128)===0&&(ye(a),a.subtreeFlags&6&&(a.flags|=8192)):ye(a),s=a.updateQueue,s!==null&&nc(a,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(o=a.memoizedState.cachePool.pool),o!==s&&(a.flags|=2048),e!==null&&ot(qi),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),a.memoizedState.cache!==s&&(a.flags|=2048),aa(Pe),ye(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function yw(e,a){switch(oh(a),a.tag){case 1:return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 3:return aa(Pe),Ne(),e=a.flags,(e&65536)!==0&&(e&128)===0?(a.flags=e&-65537|128,a):null;case 26:case 27:case 5:return An(a),null;case 13:if(sa(a),e=a.memoizedState,e!==null&&e.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Bl()}return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 19:return ot(ke),null;case 4:return Ne(),null;case 10:return aa(a.type),null;case 22:case 23:return sa(a),bh(),e!==null&&ot(qi),e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 24:return aa(Pe),null;case 25:return null;default:return null}}function Qy(e,a){switch(oh(a),a.tag){case 3:aa(Pe),Ne();break;case 26:case 27:case 5:An(a);break;case 4:Ne();break;case 13:sa(a);break;case 19:ot(ke);break;case 10:aa(a.type);break;case 22:case 23:sa(a),bh(),e!==null&&ot(qi);break;case 24:aa(Pe)}}function ao(e,a){try{var s=a.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var f=o.next;s=f;do{if((s.tag&e)===e){o=void 0;var d=s.create,E=s.inst;o=d(),E.destroy=o}s=s.next}while(s!==f)}}catch(w){se(a,a.return,w)}}function La(e,a,s){try{var o=a.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var d=f.next;o=d;do{if((o.tag&e)===e){var E=o.inst,w=E.destroy;if(w!==void 0){E.destroy=void 0,f=a;var O=s,Y=w;try{Y()}catch(X){se(f,O,X)}}}o=o.next}while(o!==d)}}catch(X){se(a,a.return,X)}}function Ky(e){var a=e.updateQueue;if(a!==null){var s=e.stateNode;try{Pp(a,s)}catch(o){se(e,e.return,o)}}}function $y(e,a,s){s.props=Fi(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){se(e,a,o)}}function io(e,a){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(f){se(e,a,f)}}function Ir(e,a){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(f){se(e,a,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){se(e,a,f)}else s.current=null}function Xy(e){var a=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(f){se(e,e.return,f)}}function Xh(e,a,s){try{var o=e.stateNode;Uw(o,e.type,s,a),o[he]=a}catch(f){se(e,e.return,f)}}function Wy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ya(e.type)||e.tag===4}function Wh(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Wy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ya(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zh(e,a,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,a?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,a):(a=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,a.appendChild(e),s=s._reactRootContainer,s!=null||a.onclick!==null||(a.onclick=mc));else if(o!==4&&(o===27&&Ya(e.type)&&(s=e.stateNode,a=null),e=e.child,e!==null))for(Zh(e,a,s),e=e.sibling;e!==null;)Zh(e,a,s),e=e.sibling}function rc(e,a,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,a?s.insertBefore(e,a):s.appendChild(e);else if(o!==4&&(o===27&&Ya(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(rc(e,a,s),e=e.sibling;e!==null;)rc(e,a,s),e=e.sibling}function Zy(e){var a=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,f=a.attributes;f.length;)a.removeAttributeNode(f[0]);en(a,o,s),a[_e]=e,a[he]=s}catch(d){se(e,e.return,d)}}var ua=!1,we=!1,Jh=!1,Jy=typeof WeakSet=="function"?WeakSet:Set,He=null;function vw(e,a){if(e=e.containerInfo,wd=Tc,e=cp(e),Wf(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var f=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break t}var E=0,w=-1,O=-1,Y=0,X=0,tt=e,G=null;e:for(;;){for(var K;tt!==s||f!==0&&tt.nodeType!==3||(w=E+f),tt!==d||o!==0&&tt.nodeType!==3||(O=E+o),tt.nodeType===3&&(E+=tt.nodeValue.length),(K=tt.firstChild)!==null;)G=tt,tt=K;for(;;){if(tt===e)break e;if(G===s&&++Y===f&&(w=E),G===d&&++X===o&&(O=E),(K=tt.nextSibling)!==null)break;tt=G,G=tt.parentNode}tt=K}s=w===-1||O===-1?null:{start:w,end:O}}else s=null}s=s||{start:0,end:0}}else s=null;for(Sd={focusedElem:e,selectionRange:s},Tc=!1,He=a;He!==null;)if(a=He,e=a.child,(a.subtreeFlags&1024)!==0&&e!==null)e.return=a,He=e;else for(;He!==null;){switch(a=He,d=a.alternate,e=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,s=a,f=d.memoizedProps,d=d.memoizedState,o=s.stateNode;try{var bt=Fi(s.type,f,s.elementType===s.type);e=o.getSnapshotBeforeUpdate(bt,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(Et){se(s,s.return,Et)}}break;case 3:if((e&1024)!==0){if(e=a.stateNode.containerInfo,s=e.nodeType,s===9)Dd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Dd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=a.sibling,e!==null){e.return=a.return,He=e;break}He=a.return}}function tv(e,a,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Ua(e,s),o&4&&ao(5,s);break;case 1:if(Ua(e,s),o&4)if(e=s.stateNode,a===null)try{e.componentDidMount()}catch(E){se(s,s.return,E)}else{var f=Fi(s.type,a.memoizedProps);a=a.memoizedState;try{e.componentDidUpdate(f,a,e.__reactInternalSnapshotBeforeUpdate)}catch(E){se(s,s.return,E)}}o&64&&Ky(s),o&512&&io(s,s.return);break;case 3:if(Ua(e,s),o&64&&(e=s.updateQueue,e!==null)){if(a=null,s.child!==null)switch(s.child.tag){case 27:case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}try{Pp(e,a)}catch(E){se(s,s.return,E)}}break;case 27:a===null&&o&4&&Zy(s);case 26:case 5:Ua(e,s),a===null&&o&4&&Xy(s),o&512&&io(s,s.return);break;case 12:Ua(e,s);break;case 13:Ua(e,s),o&4&&rv(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=Dw.bind(null,s),Yw(e,s))));break;case 22:if(o=s.memoizedState!==null||ua,!o){a=a!==null&&a.memoizedState!==null||we,f=ua;var d=we;ua=o,(we=a)&&!d?ja(e,s,(s.subtreeFlags&8772)!==0):Ua(e,s),ua=f,we=d}break;case 30:break;default:Ua(e,s)}}function ev(e){var a=e.alternate;a!==null&&(e.alternate=null,ev(a)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(a=e.stateNode,a!==null&&ar(a)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var de=null,_n=!1;function ca(e,a,s){for(s=s.child;s!==null;)nv(e,a,s),s=s.sibling}function nv(e,a,s){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(fe,s)}catch{}switch(s.tag){case 26:we||Ir(s,a),ca(e,a,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:we||Ir(s,a);var o=de,f=_n;Ya(s.type)&&(de=s.stateNode,_n=!1),ca(e,a,s),go(s.stateNode),de=o,_n=f;break;case 5:we||Ir(s,a);case 6:if(o=de,f=_n,de=null,ca(e,a,s),de=o,_n=f,de!==null)if(_n)try{(de.nodeType===9?de.body:de.nodeName==="HTML"?de.ownerDocument.body:de).removeChild(s.stateNode)}catch(d){se(s,a,d)}else try{de.removeChild(s.stateNode)}catch(d){se(s,a,d)}break;case 18:de!==null&&(_n?(e=de,Fv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),wo(e)):Fv(de,s.stateNode));break;case 4:o=de,f=_n,de=s.stateNode.containerInfo,_n=!0,ca(e,a,s),de=o,_n=f;break;case 0:case 11:case 14:case 15:we||La(2,s,a),we||La(4,s,a),ca(e,a,s);break;case 1:we||(Ir(s,a),o=s.stateNode,typeof o.componentWillUnmount=="function"&&$y(s,a,o)),ca(e,a,s);break;case 21:ca(e,a,s);break;case 22:we=(o=we)||s.memoizedState!==null,ca(e,a,s),we=o;break;default:ca(e,a,s)}}function rv(e,a){if(a.memoizedState===null&&(e=a.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{wo(e)}catch(s){se(a,a.return,s)}}function _w(e){switch(e.tag){case 13:case 19:var a=e.stateNode;return a===null&&(a=e.stateNode=new Jy),a;case 22:return e=e.stateNode,a=e._retryCache,a===null&&(a=e._retryCache=new Jy),a;default:throw Error(i(435,e.tag))}}function td(e,a){var s=_w(e);a.forEach(function(o){var f=xw.bind(null,e,o);s.has(o)||(s.add(o),o.then(f,f))})}function On(e,a){var s=a.deletions;if(s!==null)for(var o=0;o<s.length;o++){var f=s[o],d=e,E=a,w=E;t:for(;w!==null;){switch(w.tag){case 27:if(Ya(w.type)){de=w.stateNode,_n=!1;break t}break;case 5:de=w.stateNode,_n=!1;break t;case 3:case 4:de=w.stateNode.containerInfo,_n=!0;break t}w=w.return}if(de===null)throw Error(i(160));nv(d,E,f),de=null,_n=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)av(a,e),a=a.sibling}var ur=null;function av(e,a){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:On(a,e),In(e),o&4&&(La(3,e,e.return),ao(3,e),La(5,e,e.return));break;case 1:On(a,e),In(e),o&512&&(we||s===null||Ir(s,s.return)),o&64&&ua&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var f=ur;if(On(a,e),In(e),o&512&&(we||s===null||Ir(s,s.return)),o&4){var d=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,f=f.ownerDocument||f;e:switch(o){case"title":d=f.getElementsByTagName("title")[0],(!d||d[rr]||d[_e]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(o),f.head.insertBefore(d,f.querySelector("head > title"))),en(d,o,s),d[_e]=e,Ot(d),o=d;break t;case"link":var E=Zv("link","href",f).get(o+(s.href||""));if(E){for(var w=0;w<E.length;w++)if(d=E[w],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){E.splice(w,1);break e}}d=f.createElement(o),en(d,o,s),f.head.appendChild(d);break;case"meta":if(E=Zv("meta","content",f).get(o+(s.content||""))){for(w=0;w<E.length;w++)if(d=E[w],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){E.splice(w,1);break e}}d=f.createElement(o),en(d,o,s),f.head.appendChild(d);break;default:throw Error(i(468,o))}d[_e]=e,Ot(d),o=d}e.stateNode=o}else Jv(f,e.type,e.stateNode);else e.stateNode=Wv(f,o,e.memoizedProps);else d!==o?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,o===null?Jv(f,e.type,e.stateNode):Wv(f,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Xh(e,e.memoizedProps,s.memoizedProps)}break;case 27:On(a,e),In(e),o&512&&(we||s===null||Ir(s,s.return)),s!==null&&o&4&&Xh(e,e.memoizedProps,s.memoizedProps);break;case 5:if(On(a,e),In(e),o&512&&(we||s===null||Ir(s,s.return)),e.flags&32){f=e.stateNode;try{qn(f,"")}catch(K){se(e,e.return,K)}}o&4&&e.stateNode!=null&&(f=e.memoizedProps,Xh(e,f,s!==null?s.memoizedProps:f)),o&1024&&(Jh=!0);break;case 6:if(On(a,e),In(e),o&4){if(e.stateNode===null)throw Error(i(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(K){se(e,e.return,K)}}break;case 3:if(vc=null,f=ur,ur=pc(a.containerInfo),On(a,e),ur=f,In(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{wo(a.containerInfo)}catch(K){se(e,e.return,K)}Jh&&(Jh=!1,iv(e));break;case 4:o=ur,ur=pc(e.stateNode.containerInfo),On(a,e),In(e),ur=o;break;case 12:On(a,e),In(e);break;case 13:On(a,e),In(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(sd=Qe()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,td(e,o)));break;case 22:f=e.memoizedState!==null;var O=s!==null&&s.memoizedState!==null,Y=ua,X=we;if(ua=Y||f,we=X||O,On(a,e),we=X,ua=Y,In(e),o&8192)t:for(a=e.stateNode,a._visibility=f?a._visibility&-2:a._visibility|1,f&&(s===null||O||ua||we||Yi(e)),s=null,a=e;;){if(a.tag===5||a.tag===26){if(s===null){O=s=a;try{if(d=O.stateNode,f)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{w=O.stateNode;var tt=O.memoizedProps.style,G=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;w.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(K){se(O,O.return,K)}}}else if(a.tag===6){if(s===null){O=a;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(K){se(O,O.return,K)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===e)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break t;for(;a.sibling===null;){if(a.return===null||a.return===e)break t;s===a&&(s=null),a=a.return}s===a&&(s=null),a.sibling.return=a.return,a=a.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,td(e,s))));break;case 19:On(a,e),In(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,td(e,o)));break;case 30:break;case 21:break;default:On(a,e),In(e)}}function In(e){var a=e.flags;if(a&2){try{for(var s,o=e.return;o!==null;){if(Wy(o)){s=o;break}o=o.return}if(s==null)throw Error(i(160));switch(s.tag){case 27:var f=s.stateNode,d=Wh(e);rc(e,d,f);break;case 5:var E=s.stateNode;s.flags&32&&(qn(E,""),s.flags&=-33);var w=Wh(e);rc(e,w,E);break;case 3:case 4:var O=s.stateNode.containerInfo,Y=Wh(e);Zh(e,Y,O);break;default:throw Error(i(161))}}catch(X){se(e,e.return,X)}e.flags&=-3}a&4096&&(e.flags&=-4097)}function iv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var a=e;iv(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),e=e.sibling}}function Ua(e,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)tv(e,a.alternate,a),a=a.sibling}function Yi(e){for(e=e.child;e!==null;){var a=e;switch(a.tag){case 0:case 11:case 14:case 15:La(4,a,a.return),Yi(a);break;case 1:Ir(a,a.return);var s=a.stateNode;typeof s.componentWillUnmount=="function"&&$y(a,a.return,s),Yi(a);break;case 27:go(a.stateNode);case 26:case 5:Ir(a,a.return),Yi(a);break;case 22:a.memoizedState===null&&Yi(a);break;case 30:Yi(a);break;default:Yi(a)}e=e.sibling}}function ja(e,a,s){for(s=s&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var o=a.alternate,f=e,d=a,E=d.flags;switch(d.tag){case 0:case 11:case 15:ja(f,d,s),ao(4,d);break;case 1:if(ja(f,d,s),o=d,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Y){se(o,o.return,Y)}if(o=d,f=o.updateQueue,f!==null){var w=o.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)Vp(O[f],w)}catch(Y){se(o,o.return,Y)}}s&&E&64&&Ky(d),io(d,d.return);break;case 27:Zy(d);case 26:case 5:ja(f,d,s),s&&o===null&&E&4&&Xy(d),io(d,d.return);break;case 12:ja(f,d,s);break;case 13:ja(f,d,s),s&&E&4&&rv(f,d);break;case 22:d.memoizedState===null&&ja(f,d,s),io(d,d.return);break;case 30:break;default:ja(f,d,s)}a=a.sibling}}function ed(e,a){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(e=a.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Fl(s))}function nd(e,a){e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&Fl(e))}function Nr(e,a,s,o){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)sv(e,a,s,o),a=a.sibling}function sv(e,a,s,o){var f=a.flags;switch(a.tag){case 0:case 11:case 15:Nr(e,a,s,o),f&2048&&ao(9,a);break;case 1:Nr(e,a,s,o);break;case 3:Nr(e,a,s,o),f&2048&&(e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&Fl(e)));break;case 12:if(f&2048){Nr(e,a,s,o),e=a.stateNode;try{var d=a.memoizedProps,E=d.id,w=d.onPostCommit;typeof w=="function"&&w(E,a.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(O){se(a,a.return,O)}}else Nr(e,a,s,o);break;case 13:Nr(e,a,s,o);break;case 23:break;case 22:d=a.stateNode,E=a.alternate,a.memoizedState!==null?d._visibility&2?Nr(e,a,s,o):so(e,a):d._visibility&2?Nr(e,a,s,o):(d._visibility|=2,js(e,a,s,o,(a.subtreeFlags&10256)!==0)),f&2048&&ed(E,a);break;case 24:Nr(e,a,s,o),f&2048&&nd(a.alternate,a);break;default:Nr(e,a,s,o)}}function js(e,a,s,o,f){for(f=f&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var d=e,E=a,w=s,O=o,Y=E.flags;switch(E.tag){case 0:case 11:case 15:js(d,E,w,O,f),ao(8,E);break;case 23:break;case 22:var X=E.stateNode;E.memoizedState!==null?X._visibility&2?js(d,E,w,O,f):so(d,E):(X._visibility|=2,js(d,E,w,O,f)),f&&Y&2048&&ed(E.alternate,E);break;case 24:js(d,E,w,O,f),f&&Y&2048&&nd(E.alternate,E);break;default:js(d,E,w,O,f)}a=a.sibling}}function so(e,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var s=e,o=a,f=o.flags;switch(o.tag){case 22:so(s,o),f&2048&&ed(o.alternate,o);break;case 24:so(s,o),f&2048&&nd(o.alternate,o);break;default:so(s,o)}a=a.sibling}}var lo=8192;function zs(e){if(e.subtreeFlags&lo)for(e=e.child;e!==null;)lv(e),e=e.sibling}function lv(e){switch(e.tag){case 26:zs(e),e.flags&lo&&e.memoizedState!==null&&aS(ur,e.memoizedState,e.memoizedProps);break;case 5:zs(e);break;case 3:case 4:var a=ur;ur=pc(e.stateNode.containerInfo),zs(e),ur=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=lo,lo=16777216,zs(e),lo=a):zs(e));break;default:zs(e)}}function ov(e){var a=e.alternate;if(a!==null&&(e=a.child,e!==null)){a.child=null;do a=e.sibling,e.sibling=null,e=a;while(e!==null)}}function oo(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var o=a[s];He=o,cv(o,e)}ov(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)uv(e),e=e.sibling}function uv(e){switch(e.tag){case 0:case 11:case 15:oo(e),e.flags&2048&&La(9,e,e.return);break;case 3:oo(e);break;case 12:oo(e);break;case 22:var a=e.stateNode;e.memoizedState!==null&&a._visibility&2&&(e.return===null||e.return.tag!==13)?(a._visibility&=-3,ac(e)):oo(e);break;default:oo(e)}}function ac(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var o=a[s];He=o,cv(o,e)}ov(e)}for(e=e.child;e!==null;){switch(a=e,a.tag){case 0:case 11:case 15:La(8,a,a.return),ac(a);break;case 22:s=a.stateNode,s._visibility&2&&(s._visibility&=-3,ac(a));break;default:ac(a)}e=e.sibling}}function cv(e,a){for(;He!==null;){var s=He;switch(s.tag){case 0:case 11:case 15:La(8,s,a);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Fl(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,He=o;else t:for(s=e;He!==null;){o=He;var f=o.sibling,d=o.return;if(ev(o),o===s){He=null;break t}if(f!==null){f.return=d,He=f;break t}He=d}}}var Ew={getCacheForType:function(e){var a=ln(Pe),s=a.data.get(e);return s===void 0&&(s=e(),a.data.set(e,s)),s}},Tw=typeof WeakMap=="function"?WeakMap:Map,Wt=0,le=null,kt=null,Bt=0,Zt=0,Nn=null,za=!1,Bs=!1,rd=!1,fa=0,Te=0,Ba=0,Gi=0,ad=0,Wn=0,qs=0,uo=null,En=null,id=!1,sd=0,ic=1/0,sc=null,qa=null,tn=0,Ha=null,Hs=null,Fs=0,ld=0,od=null,fv=null,co=0,ud=null;function Mn(){if((Wt&2)!==0&&Bt!==0)return Bt&-Bt;if(Q.T!==null){var e=Is;return e!==0?e:pd()}return Er()}function hv(){Wn===0&&(Wn=(Bt&536870912)===0||Kt?vi():536870912);var e=Xn.current;return e!==null&&(e.flags|=32),Wn}function Vn(e,a,s){(e===le&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)&&(Ys(e,0),Fa(e,Bt,Wn,!1)),jn(e,s),((Wt&2)===0||e!==le)&&(e===le&&((Wt&2)===0&&(Gi|=s),Te===4&&Fa(e,Bt,Wn,!1)),Mr(e))}function dv(e,a,s){if((Wt&6)!==0)throw Error(i(327));var o=!s&&(a&124)===0&&(a&e.expiredLanes)===0||vr(e,a),f=o?Sw(e,a):hd(e,a,!0),d=o;do{if(f===0){Bs&&!o&&Fa(e,a,0,!1);break}else{if(s=e.current.alternate,d&&!bw(s)){f=hd(e,a,!1),d=!1;continue}if(f===2){if(d=a,e.errorRecoveryDisabledLanes&d)var E=0;else E=e.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){a=E;t:{var w=e;f=uo;var O=w.current.memoizedState.isDehydrated;if(O&&(Ys(w,E).flags|=256),E=hd(w,E,!1),E!==2){if(rd&&!O){w.errorRecoveryDisabledLanes|=d,Gi|=d,f=4;break t}d=En,En=f,d!==null&&(En===null?En=d:En.push.apply(En,d))}f=E}if(d=!1,f!==2)continue}}if(f===1){Ys(e,0),Fa(e,a,0,!0);break}t:{switch(o=e,d=f,d){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Fa(o,a,Wn,!za);break t;case 2:En=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(f=sd+300-Qe(),10<f)){if(Fa(o,a,Wn,!za),Hr(o,0,!0)!==0)break t;o.timeoutHandle=qv(mv.bind(null,o,s,En,sc,id,a,Wn,Gi,qs,za,d,2,-0,0),f);break t}mv(o,s,En,sc,id,a,Wn,Gi,qs,za,d,0,-0,0)}}break}while(!0);Mr(e)}function mv(e,a,s,o,f,d,E,w,O,Y,X,tt,G,K){if(e.timeoutHandle=-1,tt=a.subtreeFlags,(tt&8192||(tt&16785408)===16785408)&&(vo={stylesheets:null,count:0,unsuspend:rS},lv(a),tt=iS(),tt!==null)){e.cancelPendingCommit=tt(Tv.bind(null,e,a,d,s,o,f,E,w,O,X,1,G,K)),Fa(e,d,E,!Y);return}Tv(e,a,d,s,o,f,E,w,O)}function bw(e){for(var a=e;;){var s=a.tag;if((s===0||s===11||s===15)&&a.flags&16384&&(s=a.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var f=s[o],d=f.getSnapshot;f=f.value;try{if(!xn(d(),f))return!1}catch{return!1}}if(s=a.child,a.subtreeFlags&16384&&s!==null)s.return=a,a=s;else{if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Fa(e,a,s,o){a&=~ad,a&=~Gi,e.suspendedLanes|=a,e.pingedLanes&=~a,o&&(e.warmLanes|=a),o=e.expirationTimes;for(var f=a;0<f;){var d=31-Ae(f),E=1<<d;o[d]=-1,f&=~E}s!==0&&oe(e,s,a)}function lc(){return(Wt&6)===0?(fo(0),!1):!0}function cd(){if(kt!==null){if(Zt===0)var e=kt.return;else e=kt,ra=zi=null,Dh(e),Ls=null,eo=0,e=kt;for(;e!==null;)Qy(e.alternate,e),e=e.return;kt=null}}function Ys(e,a){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,zw(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),cd(),le=e,kt=s=ta(e.current,null),Bt=a,Zt=0,Nn=null,za=!1,Bs=vr(e,a),rd=!1,qs=Wn=ad=Gi=Ba=Te=0,En=uo=null,id=!1,(a&8)!==0&&(a|=a&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=a;0<o;){var f=31-Ae(o),d=1<<f;a|=e[f],o&=~d}return fa=a,Cu(),s}function gv(e,a){Nt=null,Q.H=Ku,a===Gl||a===Uu?(a=Np(),Zt=3):a===Cp?(a=Np(),Zt=4):Zt=a===My?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Nn=a,kt===null&&(Te=1,Ju(e,Gn(a,e.current)))}function pv(){var e=Q.H;return Q.H=Ku,e===null?Ku:e}function yv(){var e=Q.A;return Q.A=Ew,e}function fd(){Te=4,za||(Bt&4194048)!==Bt&&Xn.current!==null||(Bs=!0),(Ba&134217727)===0&&(Gi&134217727)===0||le===null||Fa(le,Bt,Wn,!1)}function hd(e,a,s){var o=Wt;Wt|=2;var f=pv(),d=yv();(le!==e||Bt!==a)&&(sc=null,Ys(e,a)),a=!1;var E=Te;t:do try{if(Zt!==0&&kt!==null){var w=kt,O=Nn;switch(Zt){case 8:cd(),E=6;break t;case 3:case 2:case 9:case 6:Xn.current===null&&(a=!0);var Y=Zt;if(Zt=0,Nn=null,Gs(e,w,O,Y),s&&Bs){E=0;break t}break;default:Y=Zt,Zt=0,Nn=null,Gs(e,w,O,Y)}}ww(),E=Te;break}catch(X){gv(e,X)}while(!0);return a&&e.shellSuspendCounter++,ra=zi=null,Wt=o,Q.H=f,Q.A=d,kt===null&&(le=null,Bt=0,Cu()),E}function ww(){for(;kt!==null;)vv(kt)}function Sw(e,a){var s=Wt;Wt|=2;var o=pv(),f=yv();le!==e||Bt!==a?(sc=null,ic=Qe()+500,Ys(e,a)):Bs=vr(e,a);t:do try{if(Zt!==0&&kt!==null){a=kt;var d=Nn;e:switch(Zt){case 1:Zt=0,Nn=null,Gs(e,a,d,1);break;case 2:case 9:if(Op(d)){Zt=0,Nn=null,_v(a);break}a=function(){Zt!==2&&Zt!==9||le!==e||(Zt=7),Mr(e)},d.then(a,a);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:Op(d)?(Zt=0,Nn=null,_v(a)):(Zt=0,Nn=null,Gs(e,a,d,7));break;case 5:var E=null;switch(kt.tag){case 26:E=kt.memoizedState;case 5:case 27:var w=kt;if(!E||t_(E)){Zt=0,Nn=null;var O=w.sibling;if(O!==null)kt=O;else{var Y=w.return;Y!==null?(kt=Y,oc(Y)):kt=null}break e}}Zt=0,Nn=null,Gs(e,a,d,5);break;case 6:Zt=0,Nn=null,Gs(e,a,d,6);break;case 8:cd(),Te=6;break t;default:throw Error(i(462))}}Aw();break}catch(X){gv(e,X)}while(!0);return ra=zi=null,Q.H=o,Q.A=f,Wt=s,kt!==null?0:(le=null,Bt=0,Cu(),Te)}function Aw(){for(;kt!==null&&!er();)vv(kt)}function vv(e){var a=Yy(e.alternate,e,fa);e.memoizedProps=e.pendingProps,a===null?oc(e):kt=a}function _v(e){var a=e,s=a.alternate;switch(a.tag){case 15:case 0:a=jy(s,a,a.pendingProps,a.type,void 0,Bt);break;case 11:a=jy(s,a,a.pendingProps,a.type.render,a.ref,Bt);break;case 5:Dh(a);default:Qy(s,a),a=kt=Ep(a,fa),a=Yy(s,a,fa)}e.memoizedProps=e.pendingProps,a===null?oc(e):kt=a}function Gs(e,a,s,o){ra=zi=null,Dh(a),Ls=null,eo=0;var f=a.return;try{if(mw(e,f,a,s,Bt)){Te=1,Ju(e,Gn(s,e.current)),kt=null;return}}catch(d){if(f!==null)throw kt=f,d;Te=1,Ju(e,Gn(s,e.current)),kt=null;return}a.flags&32768?(Kt||o===1?e=!0:Bs||(Bt&536870912)!==0?e=!1:(za=e=!0,(o===2||o===9||o===3||o===6)&&(o=Xn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Ev(a,e)):oc(a)}function oc(e){var a=e;do{if((a.flags&32768)!==0){Ev(a,za);return}e=a.return;var s=pw(a.alternate,a,fa);if(s!==null){kt=s;return}if(a=a.sibling,a!==null){kt=a;return}kt=a=e}while(a!==null);Te===0&&(Te=5)}function Ev(e,a){do{var s=yw(e.alternate,e);if(s!==null){s.flags&=32767,kt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!a&&(e=e.sibling,e!==null)){kt=e;return}kt=e=s}while(e!==null);Te=6,kt=null}function Tv(e,a,s,o,f,d,E,w,O){e.cancelPendingCommit=null;do uc();while(tn!==0);if((Wt&6)!==0)throw Error(i(327));if(a!==null){if(a===e.current)throw Error(i(177));if(d=a.lanes|a.childLanes,d|=nh,Re(e,s,d,E,w,O),e===le&&(kt=le=null,Bt=0),Hs=a,Ha=e,Fs=s,ld=d,od=f,fv=o,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Cw(zr,function(){return Rv(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||o){o=Q.T,Q.T=null,f=st.p,st.p=2,E=Wt,Wt|=4;try{vw(e,a,s)}finally{Wt=E,st.p=f,Q.T=o}}tn=1,bv(),wv(),Sv()}}function bv(){if(tn===1){tn=0;var e=Ha,a=Hs,s=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||s){s=Q.T,Q.T=null;var o=st.p;st.p=2;var f=Wt;Wt|=4;try{av(a,e);var d=Sd,E=cp(e.containerInfo),w=d.focusedElem,O=d.selectionRange;if(E!==w&&w&&w.ownerDocument&&up(w.ownerDocument.documentElement,w)){if(O!==null&&Wf(w)){var Y=O.start,X=O.end;if(X===void 0&&(X=Y),"selectionStart"in w)w.selectionStart=Y,w.selectionEnd=Math.min(X,w.value.length);else{var tt=w.ownerDocument||document,G=tt&&tt.defaultView||window;if(G.getSelection){var K=G.getSelection(),bt=w.textContent.length,Et=Math.min(O.start,bt),re=O.end===void 0?Et:Math.min(O.end,bt);!K.extend&&Et>re&&(E=re,re=Et,Et=E);var z=op(w,Et),L=op(w,re);if(z&&L&&(K.rangeCount!==1||K.anchorNode!==z.node||K.anchorOffset!==z.offset||K.focusNode!==L.node||K.focusOffset!==L.offset)){var F=tt.createRange();F.setStart(z.node,z.offset),K.removeAllRanges(),Et>re?(K.addRange(F),K.extend(L.node,L.offset)):(F.setEnd(L.node,L.offset),K.addRange(F))}}}}for(tt=[],K=w;K=K.parentNode;)K.nodeType===1&&tt.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<tt.length;w++){var W=tt[w];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Tc=!!wd,Sd=wd=null}finally{Wt=f,st.p=o,Q.T=s}}e.current=a,tn=2}}function wv(){if(tn===2){tn=0;var e=Ha,a=Hs,s=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||s){s=Q.T,Q.T=null;var o=st.p;st.p=2;var f=Wt;Wt|=4;try{tv(e,a.alternate,a)}finally{Wt=f,st.p=o,Q.T=s}}tn=3}}function Sv(){if(tn===4||tn===3){tn=0,Ge();var e=Ha,a=Hs,s=Fs,o=fv;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?tn=5:(tn=0,Hs=Ha=null,Av(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(qa=null),Ke(s),a=a.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(fe,a,void 0,(a.current.flags&128)===128)}catch{}if(o!==null){a=Q.T,f=st.p,st.p=2,Q.T=null;try{for(var d=e.onRecoverableError,E=0;E<o.length;E++){var w=o[E];d(w.value,{componentStack:w.stack})}}finally{Q.T=a,st.p=f}}(Fs&3)!==0&&uc(),Mr(e),f=e.pendingLanes,(s&4194090)!==0&&(f&42)!==0?e===ud?co++:(co=0,ud=e):co=0,fo(0)}}function Av(e,a){(e.pooledCacheLanes&=a)===0&&(a=e.pooledCache,a!=null&&(e.pooledCache=null,Fl(a)))}function uc(e){return bv(),wv(),Sv(),Rv()}function Rv(){if(tn!==5)return!1;var e=Ha,a=ld;ld=0;var s=Ke(Fs),o=Q.T,f=st.p;try{st.p=32>s?32:s,Q.T=null,s=od,od=null;var d=Ha,E=Fs;if(tn=0,Hs=Ha=null,Fs=0,(Wt&6)!==0)throw Error(i(331));var w=Wt;if(Wt|=4,uv(d.current),sv(d,d.current,E,s),Wt=w,fo(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(fe,d)}catch{}return!0}finally{st.p=f,Q.T=o,Av(e,a)}}function Dv(e,a,s){a=Gn(s,a),a=Bh(e.stateNode,a,2),e=Ma(e,a,2),e!==null&&(jn(e,2),Mr(e))}function se(e,a,s){if(e.tag===3)Dv(e,e,s);else for(;a!==null;){if(a.tag===3){Dv(a,e,s);break}else if(a.tag===1){var o=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(qa===null||!qa.has(o))){e=Gn(s,e),s=Iy(2),o=Ma(a,s,2),o!==null&&(Ny(s,o,a,e),jn(o,2),Mr(o));break}}a=a.return}}function dd(e,a,s){var o=e.pingCache;if(o===null){o=e.pingCache=new Tw;var f=new Set;o.set(a,f)}else f=o.get(a),f===void 0&&(f=new Set,o.set(a,f));f.has(s)||(rd=!0,f.add(s),e=Rw.bind(null,e,a,s),a.then(e,e))}function Rw(e,a,s){var o=e.pingCache;o!==null&&o.delete(a),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,le===e&&(Bt&s)===s&&(Te===4||Te===3&&(Bt&62914560)===Bt&&300>Qe()-sd?(Wt&2)===0&&Ys(e,0):ad|=s,qs===Bt&&(qs=0)),Mr(e)}function xv(e,a){a===0&&(a=Aa()),e=Ds(e,a),e!==null&&(jn(e,a),Mr(e))}function Dw(e){var a=e.memoizedState,s=0;a!==null&&(s=a.retryLane),xv(e,s)}function xw(e,a){var s=0;switch(e.tag){case 13:var o=e.stateNode,f=e.memoizedState;f!==null&&(s=f.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(i(314))}o!==null&&o.delete(a),xv(e,s)}function Cw(e,a){return tr(e,a)}var cc=null,Qs=null,md=!1,fc=!1,gd=!1,Qi=0;function Mr(e){e!==Qs&&e.next===null&&(Qs===null?cc=Qs=e:Qs=Qs.next=e),fc=!0,md||(md=!0,Iw())}function fo(e,a){if(!gd&&fc){gd=!0;do for(var s=!1,o=cc;o!==null;){if(e!==0){var f=o.pendingLanes;if(f===0)var d=0;else{var E=o.suspendedLanes,w=o.pingedLanes;d=(1<<31-Ae(42|e)+1)-1,d&=f&~(E&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,Nv(o,d))}else d=Bt,d=Hr(o,o===le?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||vr(o,d)||(s=!0,Nv(o,d));o=o.next}while(s);gd=!1}}function Ow(){Cv()}function Cv(){fc=md=!1;var e=0;Qi!==0&&(jw()&&(e=Qi),Qi=0);for(var a=Qe(),s=null,o=cc;o!==null;){var f=o.next,d=Ov(o,a);d===0?(o.next=null,s===null?cc=f:s.next=f,f===null&&(Qs=s)):(s=o,(e!==0||(d&3)!==0)&&(fc=!0)),o=f}fo(e)}function Ov(e,a){for(var s=e.suspendedLanes,o=e.pingedLanes,f=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var E=31-Ae(d),w=1<<E,O=f[E];O===-1?((w&s)===0||(w&o)!==0)&&(f[E]=Fr(w,a)):O<=a&&(e.expiredLanes|=w),d&=~w}if(a=le,s=Bt,s=Hr(e,e===a?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===a&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ae(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||vr(e,s)){if(a=s&-s,a===e.callbackPriority)return a;switch(o!==null&&ae(o),Ke(s)){case 2:case 8:s=Sa;break;case 32:s=zr;break;case 268435456:s=Br;break;default:s=zr}return o=Iv.bind(null,e),s=tr(s,o),e.callbackPriority=a,e.callbackNode=s,a}return o!==null&&o!==null&&ae(o),e.callbackPriority=2,e.callbackNode=null,2}function Iv(e,a){if(tn!==0&&tn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(uc()&&e.callbackNode!==s)return null;var o=Bt;return o=Hr(e,e===le?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(dv(e,o,a),Ov(e,Qe()),e.callbackNode!=null&&e.callbackNode===s?Iv.bind(null,e):null)}function Nv(e,a){if(uc())return null;dv(e,a,!0)}function Iw(){Bw(function(){(Wt&6)!==0?tr(wa,Ow):Cv()})}function pd(){return Qi===0&&(Qi=vi()),Qi}function Mv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:gs(""+e)}function Vv(e,a){var s=a.ownerDocument.createElement("input");return s.name=a.name,s.value=a.value,e.id&&s.setAttribute("form",e.id),a.parentNode.insertBefore(s,a),e=new FormData(e),s.parentNode.removeChild(s),e}function Nw(e,a,s,o,f){if(a==="submit"&&s&&s.stateNode===f){var d=Mv((f[he]||null).action),E=o.submitter;E&&(a=(a=E[he]||null)?Mv(a.formAction):E.getAttribute("formAction"),a!==null&&(d=a,E=null));var w=new ps("action","action",null,o,f);e.push({event:w,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Qi!==0){var O=E?Vv(f,E):new FormData(f);kh(s,{pending:!0,data:O,method:f.method,action:d},null,O)}}else typeof d=="function"&&(w.preventDefault(),O=E?Vv(f,E):new FormData(f),kh(s,{pending:!0,data:O,method:f.method,action:d},d,O))},currentTarget:f}]})}}for(var yd=0;yd<eh.length;yd++){var vd=eh[yd],Mw=vd.toLowerCase(),Vw=vd[0].toUpperCase()+vd.slice(1);or(Mw,"on"+Vw)}or(dp,"onAnimationEnd"),or(mp,"onAnimationIteration"),or(gp,"onAnimationStart"),or("dblclick","onDoubleClick"),or("focusin","onFocus"),or("focusout","onBlur"),or(Wb,"onTransitionRun"),or(Zb,"onTransitionStart"),or(Jb,"onTransitionCancel"),or(pp,"onTransitionEnd"),sr("onMouseEnter",["mouseout","mouseover"]),sr("onMouseLeave",["mouseout","mouseover"]),sr("onPointerEnter",["pointerout","pointerover"]),sr("onPointerLeave",["pointerout","pointerover"]),mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ho="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ho));function Pv(e,a){a=(a&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],f=o.event;o=o.listeners;t:{var d=void 0;if(a)for(var E=o.length-1;0<=E;E--){var w=o[E],O=w.instance,Y=w.currentTarget;if(w=w.listener,O!==d&&f.isPropagationStopped())break t;d=w,f.currentTarget=Y;try{d(f)}catch(X){Zu(X)}f.currentTarget=null,d=O}else for(E=0;E<o.length;E++){if(w=o[E],O=w.instance,Y=w.currentTarget,w=w.listener,O!==d&&f.isPropagationStopped())break t;d=w,f.currentTarget=Y;try{d(f)}catch(X){Zu(X)}f.currentTarget=null,d=O}}}}function Lt(e,a){var s=a[Yr];s===void 0&&(s=a[Yr]=new Set);var o=e+"__bubble";s.has(o)||(kv(a,e,2,!1),s.add(o))}function _d(e,a,s){var o=0;a&&(o|=4),kv(s,e,o,a)}var hc="_reactListening"+Math.random().toString(36).slice(2);function Ed(e){if(!e[hc]){e[hc]=!0,Xe.forEach(function(s){s!=="selectionchange"&&(Pw.has(s)||_d(s,!1,e),_d(s,!0,e))});var a=e.nodeType===9?e:e.ownerDocument;a===null||a[hc]||(a[hc]=!0,_d("selectionchange",!1,a))}}function kv(e,a,s,o){switch(s_(a)){case 2:var f=oS;break;case 8:f=uS;break;default:f=Vd}s=f.bind(null,a,s,e),f=void 0,!Fn||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(f=!0),o?f!==void 0?e.addEventListener(a,s,{capture:!0,passive:f}):e.addEventListener(a,s,!0):f!==void 0?e.addEventListener(a,s,{passive:f}):e.addEventListener(a,s,!1)}function Td(e,a,s,o,f){var d=o;if((a&1)===0&&(a&2)===0&&o!==null)t:for(;;){if(o===null)return;var E=o.tag;if(E===3||E===4){var w=o.stateNode.containerInfo;if(w===f)break;if(E===4)for(E=o.return;E!==null;){var O=E.tag;if((O===3||O===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;w!==null;){if(E=ir(w),E===null)return;if(O=E.tag,O===5||O===6||O===26||O===27){o=d=E;continue t}w=w.parentNode}}o=o.return}mu(function(){var Y=d,X=Hn(s),tt=[];t:{var G=yp.get(e);if(G!==void 0){var K=ps,bt=e;switch(e){case"keypress":if(Sr(s)===0)break t;case"keydown":case"keyup":K=bs;break;case"focusin":bt="focus",K=_s;break;case"focusout":bt="blur",K=_s;break;case"beforeblur":case"afterblur":K=_s;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Qf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=bu;break;case dp:case mp:case gp:K=Es;break;case pp:K=Su;break;case"scroll":case"scrollend":K=gu;break;case"wheel":K=ws;break;case"copy":case"cut":case"paste":K=Ts;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=kl;break;case"toggle":case"beforetoggle":K=Ru}var Et=(a&4)!==0,re=!Et&&(e==="scroll"||e==="scrollend"),z=Et?G!==null?G+"Capture":null:G;Et=[];for(var L=Y,F;L!==null;){var W=L;if(F=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||F===null||z===null||(W=Ri(L,z),W!=null&&Et.push(mo(L,W,F))),re)break;L=L.return}0<Et.length&&(G=new K(G,bt,null,s,X),tt.push({event:G,listeners:Et}))}}if((a&7)===0){t:{if(G=e==="mouseover"||e==="pointerover",K=e==="mouseout"||e==="pointerout",G&&s!==Kr&&(bt=s.relatedTarget||s.fromElement)&&(ir(bt)||bt[$e]))break t;if((K||G)&&(G=X.window===X?X:(G=X.ownerDocument)?G.defaultView||G.parentWindow:window,K?(bt=s.relatedTarget||s.toElement,K=Y,bt=bt?ir(bt):null,bt!==null&&(re=u(bt),Et=bt.tag,bt!==re||Et!==5&&Et!==27&&Et!==6)&&(bt=null)):(K=null,bt=Y),K!==bt)){if(Et=Yn,W="onMouseLeave",z="onMouseEnter",L="mouse",(e==="pointerout"||e==="pointerover")&&(Et=kl,W="onPointerLeave",z="onPointerEnter",L="pointer"),re=K==null?G:St(K),F=bt==null?G:St(bt),G=new Et(W,L+"leave",K,s,X),G.target=re,G.relatedTarget=F,W=null,ir(X)===Y&&(Et=new Et(z,L+"enter",bt,s,X),Et.target=F,Et.relatedTarget=re,W=Et),re=W,K&&bt)e:{for(Et=K,z=bt,L=0,F=Et;F;F=Ks(F))L++;for(F=0,W=z;W;W=Ks(W))F++;for(;0<L-F;)Et=Ks(Et),L--;for(;0<F-L;)z=Ks(z),F--;for(;L--;){if(Et===z||z!==null&&Et===z.alternate)break e;Et=Ks(Et),z=Ks(z)}Et=null}else Et=null;K!==null&&Lv(tt,G,K,Et,!1),bt!==null&&re!==null&&Lv(tt,re,bt,Et,!0)}}t:{if(G=Y?St(Y):window,K=G.nodeName&&G.nodeName.toLowerCase(),K==="select"||K==="input"&&G.type==="file")var dt=np;else if(Ve(G))if(rp)dt=Kb;else{dt=Gb;var Pt=Yb}else K=G.nodeName,!K||K.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?Y&&Cl(Y.elementType)&&(dt=np):dt=Qb;if(dt&&(dt=dt(e,Y))){Jr(tt,dt,s,X);break t}Pt&&Pt(e,G,Y),e==="focusout"&&Y&&G.type==="number"&&Y.memoizedProps.value!=null&&xa(G,"number",G.value)}switch(Pt=Y?St(Y):window,e){case"focusin":(Ve(Pt)||Pt.contentEditable==="true")&&(Ss=Pt,Zf=Y,jl=null);break;case"focusout":jl=Zf=Ss=null;break;case"mousedown":Jf=!0;break;case"contextmenu":case"mouseup":case"dragend":Jf=!1,fp(tt,s,X);break;case"selectionchange":if(Xb)break;case"keydown":case"keyup":fp(tt,s,X)}var yt;if(Dr)t:{switch(e){case"compositionstart":var Tt="onCompositionStart";break t;case"compositionend":Tt="onCompositionEnd";break t;case"compositionupdate":Tt="onCompositionUpdate";break t}Tt=void 0}else jt?$(e,s)&&(Tt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Tt="onCompositionStart");Tt&&(_&&s.locale!=="ko"&&(jt||Tt!=="onCompositionStart"?Tt==="onCompositionEnd"&&jt&&(yt=Il()):(wr=X,Ca="value"in wr?wr.value:wr.textContent,jt=!0)),Pt=dc(Y,Tt),0<Pt.length&&(Tt=new Vl(Tt,e,null,s,X),tt.push({event:Tt,listeners:Pt}),yt?Tt.data=yt:(yt=lt(s),yt!==null&&(Tt.data=yt)))),(yt=y?Me(e,s):zt(e,s))&&(Tt=dc(Y,"onBeforeInput"),0<Tt.length&&(Pt=new Vl("onBeforeInput","beforeinput",null,s,X),tt.push({event:Pt,listeners:Tt}),Pt.data=yt)),Nw(tt,e,Y,s,X)}Pv(tt,a)})}function mo(e,a,s){return{instance:e,listener:a,currentTarget:s}}function dc(e,a){for(var s=a+"Capture",o=[];e!==null;){var f=e,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Ri(e,s),f!=null&&o.unshift(mo(e,f,d)),f=Ri(e,a),f!=null&&o.push(mo(e,f,d))),e.tag===3)return o;e=e.return}return[]}function Ks(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Lv(e,a,s,o,f){for(var d=a._reactName,E=[];s!==null&&s!==o;){var w=s,O=w.alternate,Y=w.stateNode;if(w=w.tag,O!==null&&O===o)break;w!==5&&w!==26&&w!==27||Y===null||(O=Y,f?(Y=Ri(s,d),Y!=null&&E.unshift(mo(s,Y,O))):f||(Y=Ri(s,d),Y!=null&&E.push(mo(s,Y,O)))),s=s.return}E.length!==0&&e.push({event:a,listeners:E})}var kw=/\r\n?/g,Lw=/\u0000|\uFFFD/g;function Uv(e){return(typeof e=="string"?e:""+e).replace(kw,`
`).replace(Lw,"")}function jv(e,a){return a=Uv(a),Uv(e)===a}function mc(){}function ne(e,a,s,o,f,d){switch(s){case"children":typeof o=="string"?a==="body"||a==="textarea"&&o===""||qn(e,o):(typeof o=="number"||typeof o=="bigint")&&a!=="body"&&qn(e,""+o);break;case"className":Tr(e,"class",o);break;case"tabIndex":Tr(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Tr(e,s,o);break;case"style":xl(e,o,d);break;case"data":if(a!=="object"){Tr(e,"data",o);break}case"src":case"href":if(o===""&&(a!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=gs(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(a!=="input"&&ne(e,a,"name",f.name,f,null),ne(e,a,"formEncType",f.formEncType,f,null),ne(e,a,"formMethod",f.formMethod,f,null),ne(e,a,"formTarget",f.formTarget,f,null)):(ne(e,a,"encType",f.encType,f,null),ne(e,a,"method",f.method,f,null),ne(e,a,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=gs(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=mc);break;case"onScroll":o!=null&&Lt("scroll",e);break;case"onScrollEnd":o!=null&&Lt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(s=o.__html,s!=null){if(f.children!=null)throw Error(i(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=gs(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Lt("beforetoggle",e),Lt("toggle",e),Da(e,"popover",o);break;case"xlinkActuate":We(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":We(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":We(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":We(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":We(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":We(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":We(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":We(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":We(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Da(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Yf.get(s)||s,Da(e,s,o))}}function bd(e,a,s,o,f,d){switch(s){case"style":xl(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(s=o.__html,s!=null){if(f.children!=null)throw Error(i(60));e.innerHTML=s}}break;case"children":typeof o=="string"?qn(e,o):(typeof o=="number"||typeof o=="bigint")&&qn(e,""+o);break;case"onScroll":o!=null&&Lt("scroll",e);break;case"onScrollEnd":o!=null&&Lt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=mc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!je.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),a=s.slice(2,f?s.length-7:void 0),d=e[he]||null,d=d!=null?d[s]:null,typeof d=="function"&&e.removeEventListener(a,d,f),typeof o=="function")){typeof d!="function"&&d!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(a,o,f);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):Da(e,s,o)}}}function en(e,a,s){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lt("error",e),Lt("load",e);var o=!1,f=!1,d;for(d in s)if(s.hasOwnProperty(d)){var E=s[d];if(E!=null)switch(d){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ne(e,a,d,E,s,null)}}f&&ne(e,a,"srcSet",s.srcSet,s,null),o&&ne(e,a,"src",s.src,s,null);return;case"input":Lt("invalid",e);var w=d=E=f=null,O=null,Y=null;for(o in s)if(s.hasOwnProperty(o)){var X=s[o];if(X!=null)switch(o){case"name":f=X;break;case"type":E=X;break;case"checked":O=X;break;case"defaultChecked":Y=X;break;case"value":d=X;break;case"defaultValue":w=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,a));break;default:ne(e,a,o,X,s,null)}}wi(e,d,w,O,Y,E,f,!1),ms(e);return;case"select":Lt("invalid",e),o=E=d=null;for(f in s)if(s.hasOwnProperty(f)&&(w=s[f],w!=null))switch(f){case"value":d=w;break;case"defaultValue":E=w;break;case"multiple":o=w;default:ne(e,a,f,w,s,null)}a=d,s=E,e.multiple=!!o,a!=null?Qr(e,!!o,a,!1):s!=null&&Qr(e,!!o,s,!0);return;case"textarea":Lt("invalid",e),d=f=o=null;for(E in s)if(s.hasOwnProperty(E)&&(w=s[E],w!=null))switch(E){case"value":o=w;break;case"defaultValue":f=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:ne(e,a,E,w,s,null)}Si(e,o,f,d),ms(e);return;case"option":for(O in s)if(s.hasOwnProperty(O)&&(o=s[O],o!=null))switch(O){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ne(e,a,O,o,s,null)}return;case"dialog":Lt("beforetoggle",e),Lt("toggle",e),Lt("cancel",e),Lt("close",e);break;case"iframe":case"object":Lt("load",e);break;case"video":case"audio":for(o=0;o<ho.length;o++)Lt(ho[o],e);break;case"image":Lt("error",e),Lt("load",e);break;case"details":Lt("toggle",e);break;case"embed":case"source":case"link":Lt("error",e),Lt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in s)if(s.hasOwnProperty(Y)&&(o=s[Y],o!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ne(e,a,Y,o,s,null)}return;default:if(Cl(a)){for(X in s)s.hasOwnProperty(X)&&(o=s[X],o!==void 0&&bd(e,a,X,o,s,void 0));return}}for(w in s)s.hasOwnProperty(w)&&(o=s[w],o!=null&&ne(e,a,w,o,s,null))}function Uw(e,a,s,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,E=null,w=null,O=null,Y=null,X=null;for(K in s){var tt=s[K];if(s.hasOwnProperty(K)&&tt!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":O=tt;default:o.hasOwnProperty(K)||ne(e,a,K,null,o,tt)}}for(var G in o){var K=o[G];if(tt=s[G],o.hasOwnProperty(G)&&(K!=null||tt!=null))switch(G){case"type":d=K;break;case"name":f=K;break;case"checked":Y=K;break;case"defaultChecked":X=K;break;case"value":E=K;break;case"defaultValue":w=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,a));break;default:K!==tt&&ne(e,a,G,K,o,tt)}}Dn(e,E,w,O,Y,X,d,f);return;case"select":K=E=w=G=null;for(d in s)if(O=s[d],s.hasOwnProperty(d)&&O!=null)switch(d){case"value":break;case"multiple":K=O;default:o.hasOwnProperty(d)||ne(e,a,d,null,o,O)}for(f in o)if(d=o[f],O=s[f],o.hasOwnProperty(f)&&(d!=null||O!=null))switch(f){case"value":G=d;break;case"defaultValue":w=d;break;case"multiple":E=d;default:d!==O&&ne(e,a,f,d,o,O)}a=w,s=E,o=K,G!=null?Qr(e,!!s,G,!1):!!o!=!!s&&(a!=null?Qr(e,!!s,a,!0):Qr(e,!!s,s?[]:"",!1));return;case"textarea":K=G=null;for(w in s)if(f=s[w],s.hasOwnProperty(w)&&f!=null&&!o.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:ne(e,a,w,null,o,f)}for(E in o)if(f=o[E],d=s[E],o.hasOwnProperty(E)&&(f!=null||d!=null))switch(E){case"value":G=f;break;case"defaultValue":K=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==d&&ne(e,a,E,f,o,d)}te(e,G,K);return;case"option":for(var bt in s)if(G=s[bt],s.hasOwnProperty(bt)&&G!=null&&!o.hasOwnProperty(bt))switch(bt){case"selected":e.selected=!1;break;default:ne(e,a,bt,null,o,G)}for(O in o)if(G=o[O],K=s[O],o.hasOwnProperty(O)&&G!==K&&(G!=null||K!=null))switch(O){case"selected":e.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:ne(e,a,O,G,o,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in s)G=s[Et],s.hasOwnProperty(Et)&&G!=null&&!o.hasOwnProperty(Et)&&ne(e,a,Et,null,o,G);for(Y in o)if(G=o[Y],K=s[Y],o.hasOwnProperty(Y)&&G!==K&&(G!=null||K!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,a));break;default:ne(e,a,Y,G,o,K)}return;default:if(Cl(a)){for(var re in s)G=s[re],s.hasOwnProperty(re)&&G!==void 0&&!o.hasOwnProperty(re)&&bd(e,a,re,void 0,o,G);for(X in o)G=o[X],K=s[X],!o.hasOwnProperty(X)||G===K||G===void 0&&K===void 0||bd(e,a,X,G,o,K);return}}for(var z in s)G=s[z],s.hasOwnProperty(z)&&G!=null&&!o.hasOwnProperty(z)&&ne(e,a,z,null,o,G);for(tt in o)G=o[tt],K=s[tt],!o.hasOwnProperty(tt)||G===K||G==null&&K==null||ne(e,a,tt,G,o,K)}var wd=null,Sd=null;function gc(e){return e.nodeType===9?e:e.ownerDocument}function zv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Bv(e,a){if(e===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&a==="foreignObject"?0:e}function Ad(e,a){return e==="textarea"||e==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Rd=null;function jw(){var e=window.event;return e&&e.type==="popstate"?e===Rd?!1:(Rd=e,!0):(Rd=null,!1)}var qv=typeof setTimeout=="function"?setTimeout:void 0,zw=typeof clearTimeout=="function"?clearTimeout:void 0,Hv=typeof Promise=="function"?Promise:void 0,Bw=typeof queueMicrotask=="function"?queueMicrotask:typeof Hv<"u"?function(e){return Hv.resolve(null).then(e).catch(qw)}:qv;function qw(e){setTimeout(function(){throw e})}function Ya(e){return e==="head"}function Fv(e,a){var s=a,o=0,f=0;do{var d=s.nextSibling;if(e.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(0<o&&8>o){s=o;var E=e.ownerDocument;if(s&1&&go(E.documentElement),s&2&&go(E.body),s&4)for(s=E.head,go(s),E=s.firstChild;E;){var w=E.nextSibling,O=E.nodeName;E[rr]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&E.rel.toLowerCase()==="stylesheet"||s.removeChild(E),E=w}}if(f===0){e.removeChild(d),wo(a);return}f--}else s==="$"||s==="$?"||s==="$!"?f++:o=s.charCodeAt(0)-48;else o=0;s=d}while(s);wo(a)}function Dd(e){var a=e.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var s=a;switch(a=a.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Dd(s),ar(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function Hw(e,a,s,o){for(;e.nodeType===1;){var f=s;if(e.nodeName.toLowerCase()!==a.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[rr])switch(a){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(a==="input"&&e.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=cr(e.nextSibling),e===null)break}return null}function Fw(e,a,s){if(a==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=cr(e.nextSibling),e===null))return null;return e}function xd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Yw(e,a){var s=e.ownerDocument;if(e.data!=="$?"||s.readyState==="complete")a();else{var o=function(){a(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function cr(e){for(;e!=null;e=e.nextSibling){var a=e.nodeType;if(a===1||a===3)break;if(a===8){if(a=e.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return e}var Cd=null;function Yv(e){e=e.previousSibling;for(var a=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(a===0)return e;a--}else s==="/$"&&a++}e=e.previousSibling}return null}function Gv(e,a,s){switch(a=gc(s),e){case"html":if(e=a.documentElement,!e)throw Error(i(452));return e;case"head":if(e=a.head,!e)throw Error(i(453));return e;case"body":if(e=a.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function go(e){for(var a=e.attributes;a.length;)e.removeAttributeNode(a[0]);ar(e)}var Zn=new Map,Qv=new Set;function pc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ha=st.d;st.d={f:Gw,r:Qw,D:Kw,C:$w,L:Xw,m:Ww,X:Jw,S:Zw,M:tS};function Gw(){var e=ha.f(),a=lc();return e||a}function Qw(e){var a=Bn(e);a!==null&&a.tag===5&&a.type==="form"?dy(a):ha.r(e)}var $s=typeof document>"u"?null:document;function Kv(e,a,s){var o=$s;if(o&&typeof a=="string"&&a){var f=De(a);f='link[rel="'+e+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),Qv.has(f)||(Qv.add(f),e={rel:e,crossOrigin:s,href:a},o.querySelector(f)===null&&(a=o.createElement("link"),en(a,"link",e),Ot(a),o.head.appendChild(a)))}}function Kw(e){ha.D(e),Kv("dns-prefetch",e,null)}function $w(e,a){ha.C(e,a),Kv("preconnect",e,a)}function Xw(e,a,s){ha.L(e,a,s);var o=$s;if(o&&e&&a){var f='link[rel="preload"][as="'+De(a)+'"]';a==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+De(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+De(s.imageSizes)+'"]')):f+='[href="'+De(e)+'"]';var d=f;switch(a){case"style":d=Xs(e);break;case"script":d=Ws(e)}Zn.has(d)||(e=v({rel:"preload",href:a==="image"&&s&&s.imageSrcSet?void 0:e,as:a},s),Zn.set(d,e),o.querySelector(f)!==null||a==="style"&&o.querySelector(po(d))||a==="script"&&o.querySelector(yo(d))||(a=o.createElement("link"),en(a,"link",e),Ot(a),o.head.appendChild(a)))}}function Ww(e,a){ha.m(e,a);var s=$s;if(s&&e){var o=a&&typeof a.as=="string"?a.as:"script",f='link[rel="modulepreload"][as="'+De(o)+'"][href="'+De(e)+'"]',d=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ws(e)}if(!Zn.has(d)&&(e=v({rel:"modulepreload",href:e},a),Zn.set(d,e),s.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(yo(d)))return}o=s.createElement("link"),en(o,"link",e),Ot(o),s.head.appendChild(o)}}}function Zw(e,a,s){ha.S(e,a,s);var o=$s;if(o&&e){var f=Vt(o).hoistableStyles,d=Xs(e);a=a||"default";var E=f.get(d);if(!E){var w={loading:0,preload:null};if(E=o.querySelector(po(d)))w.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":a},s),(s=Zn.get(d))&&Od(e,s);var O=E=o.createElement("link");Ot(O),en(O,"link",e),O._p=new Promise(function(Y,X){O.onload=Y,O.onerror=X}),O.addEventListener("load",function(){w.loading|=1}),O.addEventListener("error",function(){w.loading|=2}),w.loading|=4,yc(E,a,o)}E={type:"stylesheet",instance:E,count:1,state:w},f.set(d,E)}}}function Jw(e,a){ha.X(e,a);var s=$s;if(s&&e){var o=Vt(s).hoistableScripts,f=Ws(e),d=o.get(f);d||(d=s.querySelector(yo(f)),d||(e=v({src:e,async:!0},a),(a=Zn.get(f))&&Id(e,a),d=s.createElement("script"),Ot(d),en(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(f,d))}}function tS(e,a){ha.M(e,a);var s=$s;if(s&&e){var o=Vt(s).hoistableScripts,f=Ws(e),d=o.get(f);d||(d=s.querySelector(yo(f)),d||(e=v({src:e,async:!0,type:"module"},a),(a=Zn.get(f))&&Id(e,a),d=s.createElement("script"),Ot(d),en(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(f,d))}}function $v(e,a,s,o){var f=(f=_t.current)?pc(f):null;if(!f)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(a=Xs(s.href),s=Vt(f).hoistableStyles,o=s.get(a),o||(o={type:"style",instance:null,count:0,state:null},s.set(a,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Xs(s.href);var d=Vt(f).hoistableStyles,E=d.get(e);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,E),(d=f.querySelector(po(e)))&&!d._p&&(E.instance=d,E.state.loading=5),Zn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Zn.set(e,s),d||eS(f,e,s,E.state))),a&&o===null)throw Error(i(528,""));return E}if(a&&o!==null)throw Error(i(529,""));return null;case"script":return a=s.async,s=s.src,typeof s=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Ws(s),s=Vt(f).hoistableScripts,o=s.get(a),o||(o={type:"script",instance:null,count:0,state:null},s.set(a,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Xs(e){return'href="'+De(e)+'"'}function po(e){return'link[rel="stylesheet"]['+e+"]"}function Xv(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function eS(e,a,s,o){e.querySelector('link[rel="preload"][as="style"]['+a+"]")?o.loading=1:(a=e.createElement("link"),o.preload=a,a.addEventListener("load",function(){return o.loading|=1}),a.addEventListener("error",function(){return o.loading|=2}),en(a,"link",s),Ot(a),e.head.appendChild(a))}function Ws(e){return'[src="'+De(e)+'"]'}function yo(e){return"script[async]"+e}function Wv(e,a,s){if(a.count++,a.instance===null)switch(a.type){case"style":var o=e.querySelector('style[data-href~="'+De(s.href)+'"]');if(o)return a.instance=o,Ot(o),o;var f=v({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ot(o),en(o,"style",f),yc(o,s.precedence,e),a.instance=o;case"stylesheet":f=Xs(s.href);var d=e.querySelector(po(f));if(d)return a.state.loading|=4,a.instance=d,Ot(d),d;o=Xv(s),(f=Zn.get(f))&&Od(o,f),d=(e.ownerDocument||e).createElement("link"),Ot(d);var E=d;return E._p=new Promise(function(w,O){E.onload=w,E.onerror=O}),en(d,"link",o),a.state.loading|=4,yc(d,s.precedence,e),a.instance=d;case"script":return d=Ws(s.src),(f=e.querySelector(yo(d)))?(a.instance=f,Ot(f),f):(o=s,(f=Zn.get(d))&&(o=v({},s),Id(o,f)),e=e.ownerDocument||e,f=e.createElement("script"),Ot(f),en(f,"link",o),e.head.appendChild(f),a.instance=f);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(o=a.instance,a.state.loading|=4,yc(o,s.precedence,e));return a.instance}function yc(e,a,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,d=f,E=0;E<o.length;E++){var w=o[E];if(w.dataset.precedence===a)d=w;else if(d!==f)break}d?d.parentNode.insertBefore(e,d.nextSibling):(a=s.nodeType===9?s.head:s,a.insertBefore(e,a.firstChild))}function Od(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.title==null&&(e.title=a.title)}function Id(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.integrity==null&&(e.integrity=a.integrity)}var vc=null;function Zv(e,a,s){if(vc===null){var o=new Map,f=vc=new Map;f.set(s,o)}else f=vc,o=f.get(s),o||(o=new Map,f.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),f=0;f<s.length;f++){var d=s[f];if(!(d[rr]||d[_e]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(a)||"";E=e+E;var w=o.get(E);w?w.push(d):o.set(E,[d])}}return o}function Jv(e,a,s){e=e.ownerDocument||e,e.head.insertBefore(s,a==="title"?e.querySelector("head > title"):null)}function nS(e,a,s){if(s===1||a.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return e=a.disabled,typeof a.precedence=="string"&&e==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function t_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var vo=null;function rS(){}function aS(e,a,s){if(vo===null)throw Error(i(475));var o=vo;if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Xs(s.href),d=e.querySelector(po(f));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=_c.bind(o),e.then(o,o)),a.state.loading|=4,a.instance=d,Ot(d);return}d=e.ownerDocument||e,s=Xv(s),(f=Zn.get(f))&&Od(s,f),d=d.createElement("link"),Ot(d);var E=d;E._p=new Promise(function(w,O){E.onload=w,E.onerror=O}),en(d,"link",s),a.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(a,e),(e=a.state.preload)&&(a.state.loading&3)===0&&(o.count++,a=_c.bind(o),e.addEventListener("load",a),e.addEventListener("error",a))}}function iS(){if(vo===null)throw Error(i(475));var e=vo;return e.stylesheets&&e.count===0&&Nd(e,e.stylesheets),0<e.count?function(a){var s=setTimeout(function(){if(e.stylesheets&&Nd(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(s)}}:null}function _c(){if(this.count--,this.count===0){if(this.stylesheets)Nd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ec=null;function Nd(e,a){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ec=new Map,a.forEach(sS,e),Ec=null,_c.call(e))}function sS(e,a){if(!(a.state.loading&4)){var s=Ec.get(e);if(s)var o=s.get(null);else{s=new Map,Ec.set(e,s);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var E=f[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(s.set(E.dataset.precedence,E),o=E)}o&&s.set(null,o)}f=a.instance,E=f.getAttribute("data-precedence"),d=s.get(E)||o,d===o&&s.set(null,f),s.set(E,f),this.count++,o=_c.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),d?d.parentNode.insertBefore(f,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),a.state.loading|=4}}var _o={$$typeof:Z,Provider:null,Consumer:null,_currentValue:gt,_currentValue2:gt,_threadCount:0};function lS(e,a,s,o,f,d,E,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=nr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nr(0),this.hiddenUpdates=nr(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function e_(e,a,s,o,f,d,E,w,O,Y,X,tt){return e=new lS(e,a,s,E,w,O,Y,tt),a=1,d===!0&&(a|=24),d=Cn(3,null,null,a),e.current=d,d.stateNode=e,a=dh(),a.refCount++,e.pooledCache=a,a.refCount++,d.memoizedState={element:o,isDehydrated:s,cache:a},yh(d),e}function n_(e){return e?(e=xs,e):xs}function r_(e,a,s,o,f,d){f=n_(f),o.context===null?o.context=f:o.pendingContext=f,o=Na(a),o.payload={element:s},d=d===void 0?null:d,d!==null&&(o.callback=d),s=Ma(e,o,a),s!==null&&(Vn(s,e,a),Kl(s,e,a))}function a_(e,a){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<a?s:a}}function Md(e,a){a_(e,a),(e=e.alternate)&&a_(e,a)}function i_(e){if(e.tag===13){var a=Ds(e,67108864);a!==null&&Vn(a,e,67108864),Md(e,67108864)}}var Tc=!0;function oS(e,a,s,o){var f=Q.T;Q.T=null;var d=st.p;try{st.p=2,Vd(e,a,s,o)}finally{st.p=d,Q.T=f}}function uS(e,a,s,o){var f=Q.T;Q.T=null;var d=st.p;try{st.p=8,Vd(e,a,s,o)}finally{st.p=d,Q.T=f}}function Vd(e,a,s,o){if(Tc){var f=Pd(o);if(f===null)Td(e,a,o,bc,s),l_(e,o);else if(fS(f,e,a,s,o))o.stopPropagation();else if(l_(e,o),a&4&&-1<cS.indexOf(e)){for(;f!==null;){var d=Bn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=Rn(d.pendingLanes);if(E!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;E;){var O=1<<31-Ae(E);w.entanglements[1]|=O,E&=~O}Mr(d),(Wt&6)===0&&(ic=Qe()+500,fo(0))}}break;case 13:w=Ds(d,2),w!==null&&Vn(w,d,2),lc(),Md(d,2)}if(d=Pd(o),d===null&&Td(e,a,o,bc,s),d===f)break;f=d}f!==null&&o.stopPropagation()}else Td(e,a,o,null,s)}}function Pd(e){return e=Hn(e),kd(e)}var bc=null;function kd(e){if(bc=null,e=ir(e),e!==null){var a=u(e);if(a===null)e=null;else{var s=a.tag;if(s===13){if(e=h(a),e!==null)return e;e=null}else if(s===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;e=null}else a!==e&&(e=null)}}return bc=e,null}function s_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ss()){case wa:return 2;case Sa:return 8;case zr:case Sl:return 32;case Br:return 268435456;default:return 32}default:return 32}}var Ld=!1,Ga=null,Qa=null,Ka=null,Eo=new Map,To=new Map,$a=[],cS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function l_(e,a){switch(e){case"focusin":case"focusout":Ga=null;break;case"dragenter":case"dragleave":Qa=null;break;case"mouseover":case"mouseout":Ka=null;break;case"pointerover":case"pointerout":Eo.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":To.delete(a.pointerId)}}function bo(e,a,s,o,f,d){return e===null||e.nativeEvent!==d?(e={blockedOn:a,domEventName:s,eventSystemFlags:o,nativeEvent:d,targetContainers:[f]},a!==null&&(a=Bn(a),a!==null&&i_(a)),e):(e.eventSystemFlags|=o,a=e.targetContainers,f!==null&&a.indexOf(f)===-1&&a.push(f),e)}function fS(e,a,s,o,f){switch(a){case"focusin":return Ga=bo(Ga,e,a,s,o,f),!0;case"dragenter":return Qa=bo(Qa,e,a,s,o,f),!0;case"mouseover":return Ka=bo(Ka,e,a,s,o,f),!0;case"pointerover":var d=f.pointerId;return Eo.set(d,bo(Eo.get(d)||null,e,a,s,o,f)),!0;case"gotpointercapture":return d=f.pointerId,To.set(d,bo(To.get(d)||null,e,a,s,o,f)),!0}return!1}function o_(e){var a=ir(e.target);if(a!==null){var s=u(a);if(s!==null){if(a=s.tag,a===13){if(a=h(s),a!==null){e.blockedOn=a,Ra(e.priority,function(){if(s.tag===13){var o=Mn();o=Yt(o);var f=Ds(s,o);f!==null&&Vn(f,s,o),Md(s,o)}});return}}else if(a===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wc(e){if(e.blockedOn!==null)return!1;for(var a=e.targetContainers;0<a.length;){var s=Pd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Kr=o,s.target.dispatchEvent(o),Kr=null}else return a=Bn(s),a!==null&&i_(a),e.blockedOn=s,!1;a.shift()}return!0}function u_(e,a,s){wc(e)&&s.delete(a)}function hS(){Ld=!1,Ga!==null&&wc(Ga)&&(Ga=null),Qa!==null&&wc(Qa)&&(Qa=null),Ka!==null&&wc(Ka)&&(Ka=null),Eo.forEach(u_),To.forEach(u_)}function Sc(e,a){e.blockedOn===a&&(e.blockedOn=null,Ld||(Ld=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,hS)))}var Ac=null;function c_(e){Ac!==e&&(Ac=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ac===e&&(Ac=null);for(var a=0;a<e.length;a+=3){var s=e[a],o=e[a+1],f=e[a+2];if(typeof o!="function"){if(kd(o||s)===null)continue;break}var d=Bn(s);d!==null&&(e.splice(a,3),a-=3,kh(d,{pending:!0,data:f,method:s.method,action:o},o,f))}}))}function wo(e){function a(O){return Sc(O,e)}Ga!==null&&Sc(Ga,e),Qa!==null&&Sc(Qa,e),Ka!==null&&Sc(Ka,e),Eo.forEach(a),To.forEach(a);for(var s=0;s<$a.length;s++){var o=$a[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<$a.length&&(s=$a[0],s.blockedOn===null);)o_(s),s.blockedOn===null&&$a.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var f=s[o],d=s[o+1],E=f[he]||null;if(typeof d=="function")E||c_(s);else if(E){var w=null;if(d&&d.hasAttribute("formAction")){if(f=d,E=d[he]||null)w=E.formAction;else if(kd(f)!==null)continue}else w=E.action;typeof w=="function"?s[o+1]=w:(s.splice(o,3),o-=3),c_(s)}}}function Ud(e){this._internalRoot=e}Rc.prototype.render=Ud.prototype.render=function(e){var a=this._internalRoot;if(a===null)throw Error(i(409));var s=a.current,o=Mn();r_(s,o,e,a,null,null)},Rc.prototype.unmount=Ud.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var a=e.containerInfo;r_(e.current,2,null,e,null,null),lc(),a[$e]=null}};function Rc(e){this._internalRoot=e}Rc.prototype.unstable_scheduleHydration=function(e){if(e){var a=Er();e={blockedOn:null,target:e,priority:a};for(var s=0;s<$a.length&&a!==0&&a<$a[s].priority;s++);$a.splice(s,0,e),s===0&&o_(e)}};var f_=t.version;if(f_!=="19.1.0")throw Error(i(527,f_,"19.1.0"));st.findDOMNode=function(e){var a=e._reactInternals;if(a===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=p(a),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var dS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dc.isDisabled&&Dc.supportsFiber)try{fe=Dc.inject(dS),Qt=Dc}catch{}}return Ao.createRoot=function(e,a){if(!l(e))throw Error(i(299));var s=!1,o="",f=Dy,d=xy,E=Cy,w=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(d=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(w=a.unstable_transitionCallbacks)),a=e_(e,1,!1,null,null,s,o,f,d,E,w,null),e[$e]=a.current,Ed(e),new Ud(a)},Ao.hydrateRoot=function(e,a,s){if(!l(e))throw Error(i(299));var o=!1,f="",d=Dy,E=xy,w=Cy,O=null,Y=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(E=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(O=s.unstable_transitionCallbacks),s.formState!==void 0&&(Y=s.formState)),a=e_(e,1,!0,a,s??null,o,f,d,E,w,O,Y),a.context=n_(null),s=a.current,o=Mn(),o=Yt(o),f=Na(o),f.callback=null,Ma(s,f,o),s=o,a.current.lanes=s,jn(a,s),Mr(a),e[$e]=a.current,Ed(e),new Rc(a)},Ao.version="19.1.0",Ao}var T_;function SS(){if(T_)return Bd.exports;T_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Bd.exports=wS(),Bd.exports}var AS=SS(),Ro={},b_;function RS(){if(b_)return Ro;b_=1,Object.defineProperty(Ro,"__esModule",{value:!0}),Ro.parse=h,Ro.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,u=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function h(b,R){const D=new u,k=b.length;if(k<2)return D;const V=(R==null?void 0:R.decode)||v;let H=0;do{const rt=b.indexOf("=",H);if(rt===-1)break;const Z=b.indexOf(";",H),ut=Z===-1?k:Z;if(rt>ut){H=b.lastIndexOf(";",rt-1)+1;continue}const ct=m(b,H,rt),it=p(b,rt,ct),M=b.slice(ct,it);if(D[M]===void 0){let A=m(b,rt+1,ut),x=p(b,ut,A);const N=V(b.slice(A,x));D[M]=N}H=ut+1}while(H<k);return D}function m(b,R,D){do{const k=b.charCodeAt(R);if(k!==32&&k!==9)return R}while(++R<D);return D}function p(b,R,D){for(;R>D;){const k=b.charCodeAt(--R);if(k!==32&&k!==9)return R+1}return D}function g(b,R,D){const k=(D==null?void 0:D.encode)||encodeURIComponent;if(!r.test(b))throw new TypeError(`argument name is invalid: ${b}`);const V=k(R);if(!t.test(V))throw new TypeError(`argument val is invalid: ${R}`);let H=b+"="+V;if(!D)return H;if(D.maxAge!==void 0){if(!Number.isInteger(D.maxAge))throw new TypeError(`option maxAge is invalid: ${D.maxAge}`);H+="; Max-Age="+D.maxAge}if(D.domain){if(!n.test(D.domain))throw new TypeError(`option domain is invalid: ${D.domain}`);H+="; Domain="+D.domain}if(D.path){if(!i.test(D.path))throw new TypeError(`option path is invalid: ${D.path}`);H+="; Path="+D.path}if(D.expires){if(!T(D.expires)||!Number.isFinite(D.expires.valueOf()))throw new TypeError(`option expires is invalid: ${D.expires}`);H+="; Expires="+D.expires.toUTCString()}if(D.httpOnly&&(H+="; HttpOnly"),D.secure&&(H+="; Secure"),D.partitioned&&(H+="; Partitioned"),D.priority)switch(typeof D.priority=="string"?D.priority.toLowerCase():void 0){case"low":H+="; Priority=Low";break;case"medium":H+="; Priority=Medium";break;case"high":H+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${D.priority}`)}if(D.sameSite)switch(typeof D.sameSite=="string"?D.sameSite.toLowerCase():D.sameSite){case!0:case"strict":H+="; SameSite=Strict";break;case"lax":H+="; SameSite=Lax";break;case"none":H+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${D.sameSite}`)}return H}function v(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function T(b){return l.call(b)==="[object Date]"}return Ro}RS();/**
 * react-router v7.5.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var w_="popstate";function DS(r={}){function t(i,l){let{pathname:u,search:h,hash:m}=i.location;return um("",{pathname:u,search:h,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(i,l){return typeof l=="string"?l:zo(l)}return CS(t,n,null,r)}function ge(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function hr(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function xS(){return Math.random().toString(36).substring(2,10)}function S_(r,t){return{usr:r.state,key:r.key,idx:t}}function um(r,t,n=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?ml(t):t,state:n,key:t&&t.key||i||xS()}}function zo({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function ml(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let i=r.indexOf("?");i>=0&&(t.search=r.substring(i),r=r.substring(0,i)),r&&(t.pathname=r)}return t}function CS(r,t,n,i={}){let{window:l=document.defaultView,v5Compat:u=!1}=i,h=l.history,m="POP",p=null,g=v();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function v(){return(h.state||{idx:null}).idx}function T(){m="POP";let V=v(),H=V==null?null:V-g;g=V,p&&p({action:m,location:k.location,delta:H})}function b(V,H){m="PUSH";let rt=um(k.location,V,H);g=v()+1;let Z=S_(rt,g),ut=k.createHref(rt);try{h.pushState(Z,"",ut)}catch(ct){if(ct instanceof DOMException&&ct.name==="DataCloneError")throw ct;l.location.assign(ut)}u&&p&&p({action:m,location:k.location,delta:1})}function R(V,H){m="REPLACE";let rt=um(k.location,V,H);g=v();let Z=S_(rt,g),ut=k.createHref(rt);h.replaceState(Z,"",ut),u&&p&&p({action:m,location:k.location,delta:0})}function D(V){let H=l.location.origin!=="null"?l.location.origin:l.location.href,rt=typeof V=="string"?V:zo(V);return rt=rt.replace(/ $/,"%20"),ge(H,`No window.location.(origin|href) available to create URL for href: ${rt}`),new URL(rt,H)}let k={get action(){return m},get location(){return r(l,h)},listen(V){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(w_,T),p=V,()=>{l.removeEventListener(w_,T),p=null}},createHref(V){return t(l,V)},createURL:D,encodeLocation(V){let H=D(V);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:b,replace:R,go(V){return h.go(V)}};return k}function fE(r,t,n="/"){return OS(r,t,n,!1)}function OS(r,t,n,i){let l=typeof t=="string"?ml(t):t,u=pa(l.pathname||"/",n);if(u==null)return null;let h=hE(r);IS(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=qS(u);m=zS(h[p],g,i)}return m}function hE(r,t=[],n=[],i=""){let l=(u,h,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(ge(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let g=ma([i,p.relativePath]),v=n.concat(p);u.children&&u.children.length>0&&(ge(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),hE(u.children,t,v,g)),!(u.path==null&&!u.index)&&t.push({path:g,score:US(g,u.index),routesMeta:v})};return r.forEach((u,h)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))l(u,h);else for(let p of dE(u.path))l(u,h,p)}),t}function dE(r){let t=r.split("/");if(t.length===0)return[];let[n,...i]=t,l=n.endsWith("?"),u=n.replace(/\?$/,"");if(i.length===0)return l?[u,""]:[u];let h=dE(i.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),l&&m.push(...h),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function IS(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:jS(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var NS=/^:[\w-]+$/,MS=3,VS=2,PS=1,kS=10,LS=-2,A_=r=>r==="*";function US(r,t){let n=r.split("/"),i=n.length;return n.some(A_)&&(i+=LS),t&&(i+=VS),n.filter(l=>!A_(l)).reduce((l,u)=>l+(NS.test(u)?MS:u===""?PS:kS),i)}function jS(r,t){return r.length===t.length&&r.slice(0,-1).every((i,l)=>i===t[l])?r[r.length-1]-t[t.length-1]:0}function zS(r,t,n=!1){let{routesMeta:i}=r,l={},u="/",h=[];for(let m=0;m<i.length;++m){let p=i[m],g=m===i.length-1,v=u==="/"?t:t.slice(u.length)||"/",T=Gc({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),b=p.route;if(!T&&g&&n&&!i[i.length-1].route.index&&(T=Gc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!T)return null;Object.assign(l,T.params),h.push({params:l,pathname:ma([u,T.pathname]),pathnameBase:GS(ma([u,T.pathnameBase])),route:b}),T.pathnameBase!=="/"&&(u=ma([u,T.pathnameBase]))}return h}function Gc(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,i]=BS(r.path,r.caseSensitive,r.end),l=t.match(n);if(!l)return null;let u=l[0],h=u.replace(/(.)\/+$/,"$1"),m=l.slice(1);return{params:i.reduce((g,{paramName:v,isOptional:T},b)=>{if(v==="*"){let D=m[b]||"";h=u.slice(0,u.length-D.length).replace(/(.)\/+$/,"$1")}const R=m[b];return T&&!R?g[v]=void 0:g[v]=(R||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:r}}function BS(r,t=!1,n=!0){hr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],l="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(i.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(i.push({paramName:"*"}),l+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":r!==""&&r!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),i]}function qS(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return hr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function pa(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=r.charAt(n);return i&&i!=="/"?null:r.slice(n)||"/"}function HS(r,t="/"){let{pathname:n,search:i="",hash:l=""}=typeof r=="string"?ml(r):r;return{pathname:n?n.startsWith("/")?n:FS(n,t):t,search:QS(i),hash:KS(l)}}function FS(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function Yd(r,t,n,i){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function YS(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function $m(r){let t=YS(r);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function Xm(r,t,n,i=!1){let l;typeof r=="string"?l=ml(r):(l={...r},ge(!l.pathname||!l.pathname.includes("?"),Yd("?","pathname","search",l)),ge(!l.pathname||!l.pathname.includes("#"),Yd("#","pathname","hash",l)),ge(!l.search||!l.search.includes("#"),Yd("#","search","hash",l)));let u=r===""||l.pathname==="",h=u?"/":l.pathname,m;if(h==null)m=n;else{let T=t.length-1;if(!i&&h.startsWith("..")){let b=h.split("/");for(;b[0]==="..";)b.shift(),T-=1;l.pathname=b.join("/")}m=T>=0?t[T]:"/"}let p=HS(l,m),g=h&&h!=="/"&&h.endsWith("/"),v=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var ma=r=>r.join("/").replace(/\/\/+/g,"/"),GS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),QS=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,KS=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function $S(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var mE=["POST","PUT","PATCH","DELETE"];new Set(mE);var XS=["GET",...mE];new Set(XS);var gl=B.createContext(null);gl.displayName="DataRouter";var df=B.createContext(null);df.displayName="DataRouterState";var gE=B.createContext({isTransitioning:!1});gE.displayName="ViewTransition";var WS=B.createContext(new Map);WS.displayName="Fetchers";var ZS=B.createContext(null);ZS.displayName="Await";var mr=B.createContext(null);mr.displayName="Navigation";var Zo=B.createContext(null);Zo.displayName="Location";var gr=B.createContext({outlet:null,matches:[],isDataRoute:!1});gr.displayName="Route";var Wm=B.createContext(null);Wm.displayName="RouteError";function JS(r,{relative:t}={}){ge(pl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=B.useContext(mr),{hash:l,pathname:u,search:h}=Jo(r,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:ma([n,u])),i.createHref({pathname:m,search:h,hash:l})}function pl(){return B.useContext(Zo)!=null}function Ta(){return ge(pl(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(Zo).location}var pE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function yE(r){B.useContext(mr).static||B.useLayoutEffect(r)}function Zm(){let{isDataRoute:r}=B.useContext(gr);return r?dA():tA()}function tA(){ge(pl(),"useNavigate() may be used only in the context of a <Router> component.");let r=B.useContext(gl),{basename:t,navigator:n}=B.useContext(mr),{matches:i}=B.useContext(gr),{pathname:l}=Ta(),u=JSON.stringify($m(i)),h=B.useRef(!1);return yE(()=>{h.current=!0}),B.useCallback((p,g={})=>{if(hr(h.current,pE),!h.current)return;if(typeof p=="number"){n.go(p);return}let v=Xm(p,JSON.parse(u),l,g.relative==="path");r==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:ma([t,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[t,n,u,l,r])}B.createContext(null);function eA(){let{matches:r}=B.useContext(gr),t=r[r.length-1];return t?t.params:{}}function Jo(r,{relative:t}={}){let{matches:n}=B.useContext(gr),{pathname:i}=Ta(),l=JSON.stringify($m(n));return B.useMemo(()=>Xm(r,JSON.parse(l),i,t==="path"),[r,l,i,t])}function nA(r,t){return vE(r,t)}function vE(r,t,n,i){var rt;ge(pl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l,static:u}=B.useContext(mr),{matches:h}=B.useContext(gr),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",v=m?m.pathnameBase:"/",T=m&&m.route;{let Z=T&&T.path||"";_E(g,!T||Z.endsWith("*")||Z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Z}"> to <Route path="${Z==="/"?"*":`${Z}/*`}">.`)}let b=Ta(),R;if(t){let Z=typeof t=="string"?ml(t):t;ge(v==="/"||((rt=Z.pathname)==null?void 0:rt.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${Z.pathname}" was given in the \`location\` prop.`),R=Z}else R=b;let D=R.pathname||"/",k=D;if(v!=="/"){let Z=v.replace(/^\//,"").split("/");k="/"+D.replace(/^\//,"").split("/").slice(Z.length).join("/")}let V=!u&&n&&n.matches&&n.matches.length>0?n.matches:fE(r,{pathname:k});hr(T||V!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),hr(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=lA(V&&V.map(Z=>Object.assign({},Z,{params:Object.assign({},p,Z.params),pathname:ma([v,l.encodeLocation?l.encodeLocation(Z.pathname).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?v:ma([v,l.encodeLocation?l.encodeLocation(Z.pathnameBase).pathname:Z.pathnameBase])})),h,n,i);return t&&H?B.createElement(Zo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},H):H}function rA(){let r=hA(),t=$S(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=B.createElement(B.Fragment,null,B.createElement("p",null,"💿 Hey developer 👋"),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:u},"ErrorBoundary")," or"," ",B.createElement("code",{style:u},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},t),n?B.createElement("pre",{style:l},n):null,h)}var aA=B.createElement(rA,null),iA=class extends B.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?B.createElement(gr.Provider,{value:this.props.routeContext},B.createElement(Wm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function sA({routeContext:r,match:t,children:n}){let i=B.useContext(gl);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),B.createElement(gr.Provider,{value:r},n)}function lA(r,t=[],n=null,i=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let l=r,u=n==null?void 0:n.errors;if(u!=null){let p=l.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);ge(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let h=!1,m=-1;if(n)for(let p=0;p<l.length;p++){let g=l[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:v,errors:T}=n,b=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!T||T[g.route.id]===void 0);if(g.route.lazy||b){h=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((p,g,v)=>{let T,b=!1,R=null,D=null;n&&(T=u&&g.route.id?u[g.route.id]:void 0,R=g.route.errorElement||aA,h&&(m<0&&v===0?(_E("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,D=null):m===v&&(b=!0,D=g.route.hydrateFallbackElement||null)));let k=t.concat(l.slice(0,v+1)),V=()=>{let H;return T?H=R:b?H=D:g.route.Component?H=B.createElement(g.route.Component,null):g.route.element?H=g.route.element:H=p,B.createElement(sA,{match:g,routeContext:{outlet:p,matches:k,isDataRoute:n!=null},children:H})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?B.createElement(iA,{location:n.location,revalidation:n.revalidation,component:R,error:T,children:V(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):V()},null)}function Jm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oA(r){let t=B.useContext(gl);return ge(t,Jm(r)),t}function uA(r){let t=B.useContext(df);return ge(t,Jm(r)),t}function cA(r){let t=B.useContext(gr);return ge(t,Jm(r)),t}function tg(r){let t=cA(r),n=t.matches[t.matches.length-1];return ge(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function fA(){return tg("useRouteId")}function hA(){var i;let r=B.useContext(Wm),t=uA("useRouteError"),n=tg("useRouteError");return r!==void 0?r:(i=t.errors)==null?void 0:i[n]}function dA(){let{router:r}=oA("useNavigate"),t=tg("useNavigate"),n=B.useRef(!1);return yE(()=>{n.current=!0}),B.useCallback(async(l,u={})=>{hr(n.current,pE),n.current&&(typeof l=="number"?r.navigate(l):await r.navigate(l,{fromRouteId:t,...u}))},[r,t])}var R_={};function _E(r,t,n){!t&&!R_[r]&&(R_[r]=!0,hr(!1,n))}B.memo(mA);function mA({routes:r,future:t,state:n}){return vE(r,void 0,n,t)}function Wa({to:r,replace:t,state:n,relative:i}){ge(pl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=B.useContext(mr);hr(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=B.useContext(gr),{pathname:h}=Ta(),m=Zm(),p=Xm(r,$m(u),h,i==="path"),g=JSON.stringify(p);return B.useEffect(()=>{m(JSON.parse(g),{replace:t,state:n,relative:i})},[m,g,i,t,n]),null}function da(r){ge(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function gA({basename:r="/",children:t=null,location:n,navigationType:i="POP",navigator:l,static:u=!1}){ge(!pl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),m=B.useMemo(()=>({basename:h,navigator:l,static:u,future:{}}),[h,l,u]);typeof n=="string"&&(n=ml(n));let{pathname:p="/",search:g="",hash:v="",state:T=null,key:b="default"}=n,R=B.useMemo(()=>{let D=pa(p,h);return D==null?null:{location:{pathname:D,search:g,hash:v,state:T,key:b},navigationType:i}},[h,p,g,v,T,b,i]);return hr(R!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:B.createElement(mr.Provider,{value:m},B.createElement(Zo.Provider,{children:t,value:R}))}function pA({children:r,location:t}){return nA(cm(r),t)}function cm(r,t=[]){let n=[];return B.Children.forEach(r,(i,l)=>{if(!B.isValidElement(i))return;let u=[...t,l];if(i.type===B.Fragment){n.push.apply(n,cm(i.props.children,u));return}ge(i.type===da,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ge(!i.props.index||!i.props.children,"An index route cannot have child routes.");let h={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(h.children=cm(i.props.children,u)),n.push(h)}),n}var Lc="get",Uc="application/x-www-form-urlencoded";function mf(r){return r!=null&&typeof r.tagName=="string"}function yA(r){return mf(r)&&r.tagName.toLowerCase()==="button"}function vA(r){return mf(r)&&r.tagName.toLowerCase()==="form"}function _A(r){return mf(r)&&r.tagName.toLowerCase()==="input"}function EA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function TA(r,t){return r.button===0&&(!t||t==="_self")&&!EA(r)}var xc=null;function bA(){if(xc===null)try{new FormData(document.createElement("form"),0),xc=!1}catch{xc=!0}return xc}var wA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Gd(r){return r!=null&&!wA.has(r)?(hr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Uc}"`),null):r}function SA(r,t){let n,i,l,u,h;if(vA(r)){let m=r.getAttribute("action");i=m?pa(m,t):null,n=r.getAttribute("method")||Lc,l=Gd(r.getAttribute("enctype"))||Uc,u=new FormData(r)}else if(yA(r)||_A(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(i=p?pa(p,t):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Lc,l=Gd(r.getAttribute("formenctype"))||Gd(m.getAttribute("enctype"))||Uc,u=new FormData(m,r),!bA()){let{name:g,type:v,value:T}=r;if(v==="image"){let b=g?`${g}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else g&&u.append(g,T)}}else{if(mf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Lc,i=null,l=Uc,h=r}return u&&l==="text/plain"&&(h=u,u=void 0),{action:i,method:n.toLowerCase(),encType:l,formData:u,body:h}}function eg(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}async function AA(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function RA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function DA(r,t,n){let i=await Promise.all(r.map(async l=>{let u=t.routes[l.route.id];if(u){let h=await AA(u,n);return h.links?h.links():[]}return[]}));return IA(i.flat(1).filter(RA).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function D_(r,t,n,i,l,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var v;return n[g].pathname!==p.pathname||((v=n[g].route.path)==null?void 0:v.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?t.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?t.filter((p,g)=>{var T;let v=i.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((T=n[0])==null?void 0:T.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function xA(r,t,{includeHydrateFallback:n}={}){return CA(r.map(i=>{let l=t.routes[i.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function CA(r){return[...new Set(r)]}function OA(r){let t={},n=Object.keys(r).sort();for(let i of n)t[i]=r[i];return t}function IA(r,t){let n=new Set;return new Set(t),r.reduce((i,l)=>{let u=JSON.stringify(OA(l));return n.has(u)||(n.add(u),i.push({key:u,link:l})),i},[])}var NA=new Set([100,101,204,205]);function MA(r,t){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":t&&pa(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function EE(){let r=B.useContext(gl);return eg(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function VA(){let r=B.useContext(df);return eg(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var ng=B.createContext(void 0);ng.displayName="FrameworkContext";function TE(){let r=B.useContext(ng);return eg(r,"You must render this element inside a <HydratedRouter> element"),r}function PA(r,t){let n=B.useContext(ng),[i,l]=B.useState(!1),[u,h]=B.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:T}=t,b=B.useRef(null);B.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let k=H=>{H.forEach(rt=>{h(rt.isIntersecting)})},V=new IntersectionObserver(k,{threshold:.5});return b.current&&V.observe(b.current),()=>{V.disconnect()}}},[r]),B.useEffect(()=>{if(i){let k=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(k)}}},[i]);let R=()=>{l(!0)},D=()=>{l(!1),h(!1)};return n?r!=="intent"?[u,b,{}]:[u,b,{onFocus:Do(m,R),onBlur:Do(p,D),onMouseEnter:Do(g,R),onMouseLeave:Do(v,D),onTouchStart:Do(T,R)}]:[!1,b,{}]}function Do(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function kA({page:r,...t}){let{router:n}=EE(),i=B.useMemo(()=>fE(n.routes,r,n.basename),[n.routes,r,n.basename]);return i?B.createElement(UA,{page:r,matches:i,...t}):null}function LA(r){let{manifest:t,routeModules:n}=TE(),[i,l]=B.useState([]);return B.useEffect(()=>{let u=!1;return DA(r,t,n).then(h=>{u||l(h)}),()=>{u=!0}},[r,t,n]),i}function UA({page:r,matches:t,...n}){let i=Ta(),{manifest:l,routeModules:u}=TE(),{basename:h}=EE(),{loaderData:m,matches:p}=VA(),g=B.useMemo(()=>D_(r,t,p,l,i,"data"),[r,t,p,l,i]),v=B.useMemo(()=>D_(r,t,p,l,i,"assets"),[r,t,p,l,i]),T=B.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let D=new Set,k=!1;if(t.forEach(H=>{var Z;let rt=l.routes[H.route.id];!rt||!rt.hasLoader||(!g.some(ut=>ut.route.id===H.route.id)&&H.route.id in m&&((Z=u[H.route.id])!=null&&Z.shouldRevalidate)||rt.hasClientLoader?k=!0:D.add(H.route.id))}),D.size===0)return[];let V=MA(r,h);return k&&D.size>0&&V.searchParams.set("_routes",t.filter(H=>D.has(H.route.id)).map(H=>H.route.id).join(",")),[V.pathname+V.search]},[h,m,i,l,g,t,r,u]),b=B.useMemo(()=>xA(v,l),[v,l]),R=LA(v);return B.createElement(B.Fragment,null,T.map(D=>B.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),b.map(D=>B.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),R.map(({key:D,link:k})=>B.createElement("link",{key:D,...k})))}function jA(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var bE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{bE&&(window.__reactRouterVersion="7.5.1")}catch{}function zA({basename:r,children:t,window:n}){let i=B.useRef();i.current==null&&(i.current=DS({window:n,v5Compat:!0}));let l=i.current,[u,h]=B.useState({action:l.action,location:l.location}),m=B.useCallback(p=>{B.startTransition(()=>h(p))},[h]);return B.useLayoutEffect(()=>l.listen(m),[l,m]),B.createElement(gA,{basename:r,children:t,location:u.location,navigationType:u.action,navigator:l})}var wE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rg=B.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:l,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:v,viewTransition:T,...b},R){let{basename:D}=B.useContext(mr),k=typeof g=="string"&&wE.test(g),V,H=!1;if(typeof g=="string"&&k&&(V=g,bE))try{let x=new URL(window.location.href),N=g.startsWith("//")?new URL(x.protocol+g):new URL(g),U=pa(N.pathname,D);N.origin===x.origin&&U!=null?g=U+N.search+N.hash:H=!0}catch{hr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let rt=JS(g,{relative:l}),[Z,ut,ct]=PA(i,b),it=HA(g,{replace:h,state:m,target:p,preventScrollReset:v,relative:l,viewTransition:T});function M(x){t&&t(x),x.defaultPrevented||it(x)}let A=B.createElement("a",{...b,...ct,href:V||rt,onClick:H||u?t:M,ref:jA(R,ut),target:p,"data-discover":!k&&n==="render"?"true":void 0});return Z&&!k?B.createElement(B.Fragment,null,A,B.createElement(kA,{page:rt})):A});rg.displayName="Link";var SE=B.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:l=!1,style:u,to:h,viewTransition:m,children:p,...g},v){let T=Jo(h,{relative:g.relative}),b=Ta(),R=B.useContext(df),{navigator:D,basename:k}=B.useContext(mr),V=R!=null&&KA(T)&&m===!0,H=D.encodeLocation?D.encodeLocation(T).pathname:T.pathname,rt=b.pathname,Z=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;n||(rt=rt.toLowerCase(),Z=Z?Z.toLowerCase():null,H=H.toLowerCase()),Z&&k&&(Z=pa(Z,k)||Z);const ut=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let ct=rt===H||!l&&rt.startsWith(H)&&rt.charAt(ut)==="/",it=Z!=null&&(Z===H||!l&&Z.startsWith(H)&&Z.charAt(H.length)==="/"),M={isActive:ct,isPending:it,isTransitioning:V},A=ct?t:void 0,x;typeof i=="function"?x=i(M):x=[i,ct?"active":null,it?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let N=typeof u=="function"?u(M):u;return B.createElement(rg,{...g,"aria-current":A,className:x,ref:v,style:N,to:h,viewTransition:m},typeof p=="function"?p(M):p)});SE.displayName="NavLink";var BA=B.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:l,state:u,method:h=Lc,action:m,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:T,...b},R)=>{let D=GA(),k=QA(m,{relative:g}),V=h.toLowerCase()==="get"?"get":"post",H=typeof m=="string"&&wE.test(m),rt=Z=>{if(p&&p(Z),Z.defaultPrevented)return;Z.preventDefault();let ut=Z.nativeEvent.submitter,ct=(ut==null?void 0:ut.getAttribute("formmethod"))||h;D(ut||Z.currentTarget,{fetcherKey:t,method:ct,navigate:n,replace:l,state:u,relative:g,preventScrollReset:v,viewTransition:T})};return B.createElement("form",{ref:R,method:V,action:k,onSubmit:i?p:rt,...b,"data-discover":!H&&r==="render"?"true":void 0})});BA.displayName="Form";function qA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AE(r){let t=B.useContext(gl);return ge(t,qA(r)),t}function HA(r,{target:t,replace:n,state:i,preventScrollReset:l,relative:u,viewTransition:h}={}){let m=Zm(),p=Ta(),g=Jo(r,{relative:u});return B.useCallback(v=>{if(TA(v,t)){v.preventDefault();let T=n!==void 0?n:zo(p)===zo(g);m(r,{replace:T,state:i,preventScrollReset:l,relative:u,viewTransition:h})}},[p,m,g,n,i,t,r,l,u,h])}var FA=0,YA=()=>`__${String(++FA)}__`;function GA(){let{router:r}=AE("useSubmit"),{basename:t}=B.useContext(mr),n=fA();return B.useCallback(async(i,l={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=SA(i,t);if(l.navigate===!1){let v=l.fetcherKey||YA();await r.fetch(v,n,l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||h,formEncType:l.encType||m,flushSync:l.flushSync})}else await r.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||h,formEncType:l.encType||m,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,t,n])}function QA(r,{relative:t}={}){let{basename:n}=B.useContext(mr),i=B.useContext(gr);ge(i,"useFormAction must be used inside a RouteContext");let[l]=i.matches.slice(-1),u={...Jo(r||".",{relative:t})},h=Ta();if(r==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(v=>v==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let v=m.toString();u.search=v?`?${v}`:""}}return(!r||r===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ma([n,u.pathname])),zo(u)}function KA(r,t={}){let n=B.useContext(gE);ge(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=AE("useViewTransitionState"),l=Jo(r,{relative:t.relative});if(!n.isTransitioning)return!1;let u=pa(n.currentLocation.pathname,i)||n.currentLocation.pathname,h=pa(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Gc(l.pathname,h)!=null||Gc(l.pathname,u)!=null}new TextEncoder;[...NA];const $A=()=>{};var x_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE=function(r){const t=[];let n=0;for(let i=0;i<r.length;i++){let l=r.charCodeAt(i);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++i)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},XA=function(r){const t=[];let n=0,i=0;for(;n<r.length;){const l=r[n++];if(l<128)t[i++]=String.fromCharCode(l);else if(l>191&&l<224){const u=r[n++];t[i++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=r[n++],h=r[n++],m=r[n++],p=((l&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;t[i++]=String.fromCharCode(55296+(p>>10)),t[i++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],h=r[n++];t[i++]=String.fromCharCode((l&15)<<12|(u&63)<<6|h&63)}}return t.join("")},DE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let l=0;l<r.length;l+=3){const u=r[l],h=l+1<r.length,m=h?r[l+1]:0,p=l+2<r.length,g=p?r[l+2]:0,v=u>>2,T=(u&3)<<4|m>>4;let b=(m&15)<<2|g>>6,R=g&63;p||(R=64,h||(b=64)),i.push(n[v],n[T],n[b],n[R])}return i.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(RE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):XA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let l=0;l<r.length;){const u=n[r.charAt(l++)],m=l<r.length?n[r.charAt(l)]:0;++l;const g=l<r.length?n[r.charAt(l)]:64;++l;const T=l<r.length?n[r.charAt(l)]:64;if(++l,u==null||m==null||g==null||T==null)throw new WA;const b=u<<2|m>>4;if(i.push(b),g!==64){const R=m<<4&240|g>>2;if(i.push(R),T!==64){const D=g<<6&192|T;i.push(D)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class WA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ZA=function(r){const t=RE(r);return DE.encodeByteArray(t,!0)},Qc=function(r){return ZA(r).replace(/\./g,"")},JA=function(r){try{return DE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1=()=>t1().__FIREBASE_DEFAULTS__,n1=()=>{if(typeof process>"u"||typeof x_>"u")return;const r=x_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},r1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&JA(r[1]);return t&&JSON.parse(t)},ag=()=>{try{return $A()||e1()||n1()||r1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},a1=r=>{var t,n;return(n=(t=ag())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},i1=r=>{const t=a1(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},xE=()=>{var r;return(r=ag())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",l=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Qc(JSON.stringify(n)),Qc(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function u1(){var r;const t=(r=ag())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function c1(){return!u1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function f1(){try{return typeof indexedDB=="object"}catch{return!1}}function h1(){return new Promise((r,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(i);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(i),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var u;t(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1="FirebaseError";class yl extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=d1,Object.setPrototypeOf(this,yl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,CE.prototype.create)}}class CE{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},l=`${this.service}/${t}`,u=this.errors[t],h=u?m1(u,i):"Error",m=`${this.serviceName}: ${h} (${l}).`;return new yl(l,m,i)}}function m1(r,t){return r.replace(g1,(n,i)=>{const l=t[i];return l!=null?String(l):`<${i}?>`})}const g1=/\{\$([^}]+)}/g;function Kc(r,t){if(r===t)return!0;const n=Object.keys(r),i=Object.keys(t);for(const l of n){if(!i.includes(l))return!1;const u=r[l],h=t[l];if(C_(u)&&C_(h)){if(!Kc(u,h))return!1}else if(u!==h)return!1}for(const l of i)if(!n.includes(l))return!1;return!0}function C_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(r){return r&&r._delegate?r._delegate:r}class Bo{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new s1;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&i.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(v1(t))try{this.getOrInitializeService({instanceIdentifier:Ki})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});i.resolve(u)}catch{}}}}clearInstance(t=Ki){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ki){return this.instances.has(t)}getOptions(t=Ki){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);i===m&&h.resolve(l)}return l}onInit(t,n){var i;const l=this.normalizeInstanceIdentifier(n),u=(i=this.onInitCallbacks.get(l))!==null&&i!==void 0?i:new Set;u.add(t),this.onInitCallbacks.set(l,u);const h=this.instances.get(l);return h&&t(h,l),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const l of i)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:y1(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Ki){return this.component?this.component.multipleInstances?t:Ki:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function y1(r){return r===Ki?void 0:r}function v1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new p1(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ht||(Ht={}));const E1={debug:Ht.DEBUG,verbose:Ht.VERBOSE,info:Ht.INFO,warn:Ht.WARN,error:Ht.ERROR,silent:Ht.SILENT},T1=Ht.INFO,b1={[Ht.DEBUG]:"log",[Ht.VERBOSE]:"log",[Ht.INFO]:"info",[Ht.WARN]:"warn",[Ht.ERROR]:"error"},w1=(r,t,...n)=>{if(t<r.logLevel)return;const i=new Date().toISOString(),l=b1[t];if(l)console[l](`[${i}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class OE{constructor(t){this.name=t,this._logLevel=T1,this._logHandler=w1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ht))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?E1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ht.DEBUG,...t),this._logHandler(this,Ht.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ht.VERBOSE,...t),this._logHandler(this,Ht.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ht.INFO,...t),this._logHandler(this,Ht.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ht.WARN,...t),this._logHandler(this,Ht.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ht.ERROR,...t),this._logHandler(this,Ht.ERROR,...t)}}const S1=(r,t)=>t.some(n=>r instanceof n);let O_,I_;function A1(){return O_||(O_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function R1(){return I_||(I_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const IE=new WeakMap,fm=new WeakMap,NE=new WeakMap,Qd=new WeakMap,ig=new WeakMap;function D1(r){const t=new Promise((n,i)=>{const l=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(ti(r.result)),l()},h=()=>{i(r.error),l()};r.addEventListener("success",u),r.addEventListener("error",h)});return t.then(n=>{n instanceof IDBCursor&&IE.set(n,r)}).catch(()=>{}),ig.set(t,r),t}function x1(r){if(fm.has(r))return;const t=new Promise((n,i)=>{const l=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),l()},h=()=>{i(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});fm.set(r,t)}let hm={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return fm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||NE.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ti(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function C1(r){hm=r(hm)}function O1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=r.call(Kd(this),t,...n);return NE.set(i,t.sort?t.sort():[t]),ti(i)}:R1().includes(r)?function(...t){return r.apply(Kd(this),t),ti(IE.get(this))}:function(...t){return ti(r.apply(Kd(this),t))}}function I1(r){return typeof r=="function"?O1(r):(r instanceof IDBTransaction&&x1(r),S1(r,A1())?new Proxy(r,hm):r)}function ti(r){if(r instanceof IDBRequest)return D1(r);if(Qd.has(r))return Qd.get(r);const t=I1(r);return t!==r&&(Qd.set(r,t),ig.set(t,r)),t}const Kd=r=>ig.get(r);function N1(r,t,{blocked:n,upgrade:i,blocking:l,terminated:u}={}){const h=indexedDB.open(r,t),m=ti(h);return i&&h.addEventListener("upgradeneeded",p=>{i(ti(h.result),p.oldVersion,p.newVersion,ti(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",g=>l(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const M1=["get","getKey","getAll","getAllKeys","count"],V1=["put","add","delete","clear"],$d=new Map;function N_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if($d.get(t))return $d.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,l=V1.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(l||M1.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,l?"readwrite":"readonly");let g=p.store;return i&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),l&&p.done]))[0]};return $d.set(t,u),u}C1(r=>({...r,get:(t,n,i)=>N_(t,n)||r.get(t,n,i),has:(t,n)=>!!N_(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(k1(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function k1(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const dm="@firebase/app",M_="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=new OE("@firebase/app"),L1="@firebase/app-compat",U1="@firebase/analytics-compat",j1="@firebase/analytics",z1="@firebase/app-check-compat",B1="@firebase/app-check",q1="@firebase/auth",H1="@firebase/auth-compat",F1="@firebase/database",Y1="@firebase/data-connect",G1="@firebase/database-compat",Q1="@firebase/functions",K1="@firebase/functions-compat",$1="@firebase/installations",X1="@firebase/installations-compat",W1="@firebase/messaging",Z1="@firebase/messaging-compat",J1="@firebase/performance",tR="@firebase/performance-compat",eR="@firebase/remote-config",nR="@firebase/remote-config-compat",rR="@firebase/storage",aR="@firebase/storage-compat",iR="@firebase/firestore",sR="@firebase/vertexai",lR="@firebase/firestore-compat",oR="firebase",uR="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm="[DEFAULT]",cR={[dm]:"fire-core",[L1]:"fire-core-compat",[j1]:"fire-analytics",[U1]:"fire-analytics-compat",[B1]:"fire-app-check",[z1]:"fire-app-check-compat",[q1]:"fire-auth",[H1]:"fire-auth-compat",[F1]:"fire-rtdb",[Y1]:"fire-data-connect",[G1]:"fire-rtdb-compat",[Q1]:"fire-fn",[K1]:"fire-fn-compat",[$1]:"fire-iid",[X1]:"fire-iid-compat",[W1]:"fire-fcm",[Z1]:"fire-fcm-compat",[J1]:"fire-perf",[tR]:"fire-perf-compat",[eR]:"fire-rc",[nR]:"fire-rc-compat",[rR]:"fire-gcs",[aR]:"fire-gcs-compat",[iR]:"fire-fst",[lR]:"fire-fst-compat",[sR]:"fire-vertex","fire-js":"fire-js",[oR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c=new Map,fR=new Map,gm=new Map;function V_(r,t){try{r.container.addComponent(t)}catch(n){ya.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Xc(r){const t=r.name;if(gm.has(t))return ya.debug(`There were multiple attempts to register component ${t}.`),!1;gm.set(t,r);for(const n of $c.values())V_(n,r);for(const n of fR.values())V_(n,r);return!0}function hR(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function dR(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ei=new CE("app","Firebase",mR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Bo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ei.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR=uR;function ME(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const i=Object.assign({name:mm,automaticDataCollectionEnabled:!1},t),l=i.name;if(typeof l!="string"||!l)throw ei.create("bad-app-name",{appName:String(l)});if(n||(n=xE()),!n)throw ei.create("no-options");const u=$c.get(l);if(u){if(Kc(n,u.options)&&Kc(i,u.config))return u;throw ei.create("duplicate-app",{appName:l})}const h=new _1(l);for(const p of gm.values())h.addComponent(p);const m=new gR(n,i,h);return $c.set(l,m),m}function yR(r=mm){const t=$c.get(r);if(!t&&r===mm&&xE())return ME();if(!t)throw ei.create("no-app",{appName:r});return t}function il(r,t,n){var i;let l=(i=cR[r])!==null&&i!==void 0?i:r;n&&(l+=`-${n}`);const u=l.match(/\s|\//),h=t.match(/\s|\//);if(u||h){const m=[`Unable to register library "${l}" with version "${t}":`];u&&m.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ya.warn(m.join(" "));return}Xc(new Bo(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR="firebase-heartbeat-database",_R=1,qo="firebase-heartbeat-store";let Xd=null;function VE(){return Xd||(Xd=N1(vR,_R,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(qo)}catch(n){console.warn(n)}}}}).catch(r=>{throw ei.create("idb-open",{originalErrorMessage:r.message})})),Xd}async function ER(r){try{const n=(await VE()).transaction(qo),i=await n.objectStore(qo).get(PE(r));return await n.done,i}catch(t){if(t instanceof yl)ya.warn(t.message);else{const n=ei.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ya.warn(n.message)}}}async function P_(r,t){try{const i=(await VE()).transaction(qo,"readwrite");await i.objectStore(qo).put(t,PE(r)),await i.done}catch(n){if(n instanceof yl)ya.warn(n.message);else{const i=ei.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ya.warn(i.message)}}}function PE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=1024,bR=30;class wR{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new AR(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=k_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>bR){const h=RR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ya.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=k_(),{heartbeatsToSend:i,unsentEntries:l}=SR(this._heartbeatsCache.heartbeats),u=Qc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return ya.warn(n),""}}}function k_(){return new Date().toISOString().substring(0,10)}function SR(r,t=TR){const n=[];let i=r.slice();for(const l of r){const u=n.find(h=>h.agent===l.agent);if(u){if(u.dates.push(l.date),L_(n)>t){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),L_(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class AR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return f1()?h1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ER(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return P_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return P_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function L_(r){return Qc(JSON.stringify({version:2,heartbeats:r})).length}function RR(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let i=1;i<r.length;i++)r[i].date<n&&(n=r[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(r){Xc(new Bo("platform-logger",t=>new P1(t),"PRIVATE")),Xc(new Bo("heartbeat",t=>new wR(t),"PRIVATE")),il(dm,M_,r),il(dm,M_,"esm2017"),il("fire-js","")}DR("");var xR="firebase",CR="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */il(xR,CR,"app");var U_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ni,kE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(M,A){function x(){}x.prototype=A.prototype,M.D=A.prototype,M.prototype=new x,M.prototype.constructor=M,M.C=function(N,U,j){for(var C=Array(arguments.length-2),mt=2;mt<arguments.length;mt++)C[mt-2]=arguments[mt];return A.prototype[U].apply(N,C)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(M,A,x){x||(x=0);var N=Array(16);if(typeof A=="string")for(var U=0;16>U;++U)N[U]=A.charCodeAt(x++)|A.charCodeAt(x++)<<8|A.charCodeAt(x++)<<16|A.charCodeAt(x++)<<24;else for(U=0;16>U;++U)N[U]=A[x++]|A[x++]<<8|A[x++]<<16|A[x++]<<24;A=M.g[0],x=M.g[1],U=M.g[2];var j=M.g[3],C=A+(j^x&(U^j))+N[0]+3614090360&4294967295;A=x+(C<<7&4294967295|C>>>25),C=j+(U^A&(x^U))+N[1]+3905402710&4294967295,j=A+(C<<12&4294967295|C>>>20),C=U+(x^j&(A^x))+N[2]+606105819&4294967295,U=j+(C<<17&4294967295|C>>>15),C=x+(A^U&(j^A))+N[3]+3250441966&4294967295,x=U+(C<<22&4294967295|C>>>10),C=A+(j^x&(U^j))+N[4]+4118548399&4294967295,A=x+(C<<7&4294967295|C>>>25),C=j+(U^A&(x^U))+N[5]+1200080426&4294967295,j=A+(C<<12&4294967295|C>>>20),C=U+(x^j&(A^x))+N[6]+2821735955&4294967295,U=j+(C<<17&4294967295|C>>>15),C=x+(A^U&(j^A))+N[7]+4249261313&4294967295,x=U+(C<<22&4294967295|C>>>10),C=A+(j^x&(U^j))+N[8]+1770035416&4294967295,A=x+(C<<7&4294967295|C>>>25),C=j+(U^A&(x^U))+N[9]+2336552879&4294967295,j=A+(C<<12&4294967295|C>>>20),C=U+(x^j&(A^x))+N[10]+4294925233&4294967295,U=j+(C<<17&4294967295|C>>>15),C=x+(A^U&(j^A))+N[11]+2304563134&4294967295,x=U+(C<<22&4294967295|C>>>10),C=A+(j^x&(U^j))+N[12]+1804603682&4294967295,A=x+(C<<7&4294967295|C>>>25),C=j+(U^A&(x^U))+N[13]+4254626195&4294967295,j=A+(C<<12&4294967295|C>>>20),C=U+(x^j&(A^x))+N[14]+2792965006&4294967295,U=j+(C<<17&4294967295|C>>>15),C=x+(A^U&(j^A))+N[15]+1236535329&4294967295,x=U+(C<<22&4294967295|C>>>10),C=A+(U^j&(x^U))+N[1]+4129170786&4294967295,A=x+(C<<5&4294967295|C>>>27),C=j+(x^U&(A^x))+N[6]+3225465664&4294967295,j=A+(C<<9&4294967295|C>>>23),C=U+(A^x&(j^A))+N[11]+643717713&4294967295,U=j+(C<<14&4294967295|C>>>18),C=x+(j^A&(U^j))+N[0]+3921069994&4294967295,x=U+(C<<20&4294967295|C>>>12),C=A+(U^j&(x^U))+N[5]+3593408605&4294967295,A=x+(C<<5&4294967295|C>>>27),C=j+(x^U&(A^x))+N[10]+38016083&4294967295,j=A+(C<<9&4294967295|C>>>23),C=U+(A^x&(j^A))+N[15]+3634488961&4294967295,U=j+(C<<14&4294967295|C>>>18),C=x+(j^A&(U^j))+N[4]+3889429448&4294967295,x=U+(C<<20&4294967295|C>>>12),C=A+(U^j&(x^U))+N[9]+568446438&4294967295,A=x+(C<<5&4294967295|C>>>27),C=j+(x^U&(A^x))+N[14]+3275163606&4294967295,j=A+(C<<9&4294967295|C>>>23),C=U+(A^x&(j^A))+N[3]+4107603335&4294967295,U=j+(C<<14&4294967295|C>>>18),C=x+(j^A&(U^j))+N[8]+1163531501&4294967295,x=U+(C<<20&4294967295|C>>>12),C=A+(U^j&(x^U))+N[13]+2850285829&4294967295,A=x+(C<<5&4294967295|C>>>27),C=j+(x^U&(A^x))+N[2]+4243563512&4294967295,j=A+(C<<9&4294967295|C>>>23),C=U+(A^x&(j^A))+N[7]+1735328473&4294967295,U=j+(C<<14&4294967295|C>>>18),C=x+(j^A&(U^j))+N[12]+2368359562&4294967295,x=U+(C<<20&4294967295|C>>>12),C=A+(x^U^j)+N[5]+4294588738&4294967295,A=x+(C<<4&4294967295|C>>>28),C=j+(A^x^U)+N[8]+2272392833&4294967295,j=A+(C<<11&4294967295|C>>>21),C=U+(j^A^x)+N[11]+1839030562&4294967295,U=j+(C<<16&4294967295|C>>>16),C=x+(U^j^A)+N[14]+4259657740&4294967295,x=U+(C<<23&4294967295|C>>>9),C=A+(x^U^j)+N[1]+2763975236&4294967295,A=x+(C<<4&4294967295|C>>>28),C=j+(A^x^U)+N[4]+1272893353&4294967295,j=A+(C<<11&4294967295|C>>>21),C=U+(j^A^x)+N[7]+4139469664&4294967295,U=j+(C<<16&4294967295|C>>>16),C=x+(U^j^A)+N[10]+3200236656&4294967295,x=U+(C<<23&4294967295|C>>>9),C=A+(x^U^j)+N[13]+681279174&4294967295,A=x+(C<<4&4294967295|C>>>28),C=j+(A^x^U)+N[0]+3936430074&4294967295,j=A+(C<<11&4294967295|C>>>21),C=U+(j^A^x)+N[3]+3572445317&4294967295,U=j+(C<<16&4294967295|C>>>16),C=x+(U^j^A)+N[6]+76029189&4294967295,x=U+(C<<23&4294967295|C>>>9),C=A+(x^U^j)+N[9]+3654602809&4294967295,A=x+(C<<4&4294967295|C>>>28),C=j+(A^x^U)+N[12]+3873151461&4294967295,j=A+(C<<11&4294967295|C>>>21),C=U+(j^A^x)+N[15]+530742520&4294967295,U=j+(C<<16&4294967295|C>>>16),C=x+(U^j^A)+N[2]+3299628645&4294967295,x=U+(C<<23&4294967295|C>>>9),C=A+(U^(x|~j))+N[0]+4096336452&4294967295,A=x+(C<<6&4294967295|C>>>26),C=j+(x^(A|~U))+N[7]+1126891415&4294967295,j=A+(C<<10&4294967295|C>>>22),C=U+(A^(j|~x))+N[14]+2878612391&4294967295,U=j+(C<<15&4294967295|C>>>17),C=x+(j^(U|~A))+N[5]+4237533241&4294967295,x=U+(C<<21&4294967295|C>>>11),C=A+(U^(x|~j))+N[12]+1700485571&4294967295,A=x+(C<<6&4294967295|C>>>26),C=j+(x^(A|~U))+N[3]+2399980690&4294967295,j=A+(C<<10&4294967295|C>>>22),C=U+(A^(j|~x))+N[10]+4293915773&4294967295,U=j+(C<<15&4294967295|C>>>17),C=x+(j^(U|~A))+N[1]+2240044497&4294967295,x=U+(C<<21&4294967295|C>>>11),C=A+(U^(x|~j))+N[8]+1873313359&4294967295,A=x+(C<<6&4294967295|C>>>26),C=j+(x^(A|~U))+N[15]+4264355552&4294967295,j=A+(C<<10&4294967295|C>>>22),C=U+(A^(j|~x))+N[6]+2734768916&4294967295,U=j+(C<<15&4294967295|C>>>17),C=x+(j^(U|~A))+N[13]+1309151649&4294967295,x=U+(C<<21&4294967295|C>>>11),C=A+(U^(x|~j))+N[4]+4149444226&4294967295,A=x+(C<<6&4294967295|C>>>26),C=j+(x^(A|~U))+N[11]+3174756917&4294967295,j=A+(C<<10&4294967295|C>>>22),C=U+(A^(j|~x))+N[2]+718787259&4294967295,U=j+(C<<15&4294967295|C>>>17),C=x+(j^(U|~A))+N[9]+3951481745&4294967295,M.g[0]=M.g[0]+A&4294967295,M.g[1]=M.g[1]+(U+(C<<21&4294967295|C>>>11))&4294967295,M.g[2]=M.g[2]+U&4294967295,M.g[3]=M.g[3]+j&4294967295}i.prototype.u=function(M,A){A===void 0&&(A=M.length);for(var x=A-this.blockSize,N=this.B,U=this.h,j=0;j<A;){if(U==0)for(;j<=x;)l(this,M,j),j+=this.blockSize;if(typeof M=="string"){for(;j<A;)if(N[U++]=M.charCodeAt(j++),U==this.blockSize){l(this,N),U=0;break}}else for(;j<A;)if(N[U++]=M[j++],U==this.blockSize){l(this,N),U=0;break}}this.h=U,this.o+=A},i.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var A=1;A<M.length-8;++A)M[A]=0;var x=8*this.o;for(A=M.length-8;A<M.length;++A)M[A]=x&255,x/=256;for(this.u(M),M=Array(16),A=x=0;4>A;++A)for(var N=0;32>N;N+=8)M[x++]=this.g[A]>>>N&255;return M};function u(M,A){var x=m;return Object.prototype.hasOwnProperty.call(x,M)?x[M]:x[M]=A(M)}function h(M,A){this.h=A;for(var x=[],N=!0,U=M.length-1;0<=U;U--){var j=M[U]|0;N&&j==A||(x[U]=j,N=!1)}this.g=x}var m={};function p(M){return-128<=M&&128>M?u(M,function(A){return new h([A|0],0>A?-1:0)}):new h([M|0],0>M?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return T;if(0>M)return V(g(-M));for(var A=[],x=1,N=0;M>=x;N++)A[N]=M/x|0,x*=4294967296;return new h(A,0)}function v(M,A){if(M.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(M.charAt(0)=="-")return V(v(M.substring(1),A));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=g(Math.pow(A,8)),N=T,U=0;U<M.length;U+=8){var j=Math.min(8,M.length-U),C=parseInt(M.substring(U,U+j),A);8>j?(j=g(Math.pow(A,j)),N=N.j(j).add(g(C))):(N=N.j(x),N=N.add(g(C)))}return N}var T=p(0),b=p(1),R=p(16777216);r=h.prototype,r.m=function(){if(k(this))return-V(this).m();for(var M=0,A=1,x=0;x<this.g.length;x++){var N=this.i(x);M+=(0<=N?N:4294967296+N)*A,A*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(D(this))return"0";if(k(this))return"-"+V(this).toString(M);for(var A=g(Math.pow(M,6)),x=this,N="";;){var U=ut(x,A).g;x=H(x,U.j(A));var j=((0<x.g.length?x.g[0]:x.h)>>>0).toString(M);if(x=U,D(x))return j+N;for(;6>j.length;)j="0"+j;N=j+N}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function D(M){if(M.h!=0)return!1;for(var A=0;A<M.g.length;A++)if(M.g[A]!=0)return!1;return!0}function k(M){return M.h==-1}r.l=function(M){return M=H(this,M),k(M)?-1:D(M)?0:1};function V(M){for(var A=M.g.length,x=[],N=0;N<A;N++)x[N]=~M.g[N];return new h(x,~M.h).add(b)}r.abs=function(){return k(this)?V(this):this},r.add=function(M){for(var A=Math.max(this.g.length,M.g.length),x=[],N=0,U=0;U<=A;U++){var j=N+(this.i(U)&65535)+(M.i(U)&65535),C=(j>>>16)+(this.i(U)>>>16)+(M.i(U)>>>16);N=C>>>16,j&=65535,C&=65535,x[U]=C<<16|j}return new h(x,x[x.length-1]&-2147483648?-1:0)};function H(M,A){return M.add(V(A))}r.j=function(M){if(D(this)||D(M))return T;if(k(this))return k(M)?V(this).j(V(M)):V(V(this).j(M));if(k(M))return V(this.j(V(M)));if(0>this.l(R)&&0>M.l(R))return g(this.m()*M.m());for(var A=this.g.length+M.g.length,x=[],N=0;N<2*A;N++)x[N]=0;for(N=0;N<this.g.length;N++)for(var U=0;U<M.g.length;U++){var j=this.i(N)>>>16,C=this.i(N)&65535,mt=M.i(U)>>>16,Dt=M.i(U)&65535;x[2*N+2*U]+=C*Dt,rt(x,2*N+2*U),x[2*N+2*U+1]+=j*Dt,rt(x,2*N+2*U+1),x[2*N+2*U+1]+=C*mt,rt(x,2*N+2*U+1),x[2*N+2*U+2]+=j*mt,rt(x,2*N+2*U+2)}for(N=0;N<A;N++)x[N]=x[2*N+1]<<16|x[2*N];for(N=A;N<2*A;N++)x[N]=0;return new h(x,0)};function rt(M,A){for(;(M[A]&65535)!=M[A];)M[A+1]+=M[A]>>>16,M[A]&=65535,A++}function Z(M,A){this.g=M,this.h=A}function ut(M,A){if(D(A))throw Error("division by zero");if(D(M))return new Z(T,T);if(k(M))return A=ut(V(M),A),new Z(V(A.g),V(A.h));if(k(A))return A=ut(M,V(A)),new Z(V(A.g),A.h);if(30<M.g.length){if(k(M)||k(A))throw Error("slowDivide_ only works with positive integers.");for(var x=b,N=A;0>=N.l(M);)x=ct(x),N=ct(N);var U=it(x,1),j=it(N,1);for(N=it(N,2),x=it(x,2);!D(N);){var C=j.add(N);0>=C.l(M)&&(U=U.add(x),j=C),N=it(N,1),x=it(x,1)}return A=H(M,U.j(A)),new Z(U,A)}for(U=T;0<=M.l(A);){for(x=Math.max(1,Math.floor(M.m()/A.m())),N=Math.ceil(Math.log(x)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),j=g(x),C=j.j(A);k(C)||0<C.l(M);)x-=N,j=g(x),C=j.j(A);D(j)&&(j=b),U=U.add(j),M=H(M,C)}return new Z(U,M)}r.A=function(M){return ut(this,M).h},r.and=function(M){for(var A=Math.max(this.g.length,M.g.length),x=[],N=0;N<A;N++)x[N]=this.i(N)&M.i(N);return new h(x,this.h&M.h)},r.or=function(M){for(var A=Math.max(this.g.length,M.g.length),x=[],N=0;N<A;N++)x[N]=this.i(N)|M.i(N);return new h(x,this.h|M.h)},r.xor=function(M){for(var A=Math.max(this.g.length,M.g.length),x=[],N=0;N<A;N++)x[N]=this.i(N)^M.i(N);return new h(x,this.h^M.h)};function ct(M){for(var A=M.g.length+1,x=[],N=0;N<A;N++)x[N]=M.i(N)<<1|M.i(N-1)>>>31;return new h(x,M.h)}function it(M,A){var x=A>>5;A%=32;for(var N=M.g.length-x,U=[],j=0;j<N;j++)U[j]=0<A?M.i(j+x)>>>A|M.i(j+x+1)<<32-A:M.i(j+x);return new h(U,M.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,kE=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=v,ni=h}).apply(typeof U_<"u"?U_:typeof self<"u"?self:typeof window<"u"?window:{});var Cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var LE,Oo,UE,jc,pm,jE,zE,BE;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cc=="object"&&Cc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=n(this);function l(c,y){if(y)t:{var _=i;c=c.split(".");for(var S=0;S<c.length-1;S++){var q=c[S];if(!(q in _))break t;_=_[q]}c=c[c.length-1],S=_[c],y=y(S),y!=S&&y!=null&&t(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,S=!1,q={next:function(){if(!S&&_<c.length){var $=_++;return{value:y($,c[$]),done:!1}}return S=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}l("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,_){return c.call.apply(c.bind,arguments)}function T(c,y,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,S),c.apply(y,q)}}return function(){return c.apply(y,arguments)}}function b(c,y,_){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:T,b.apply(null,arguments)}function R(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function D(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,q,$){for(var lt=Array(arguments.length-2),jt=2;jt<arguments.length;jt++)lt[jt-2]=arguments[jt];return y.prototype[q].apply(S,lt)}}function k(c){const y=c.length;if(0<y){const _=Array(y);for(let S=0;S<y;S++)_[S]=c[S];return _}return[]}function V(c,y){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(p(S)){const q=c.length||0,$=S.length||0;c.length=q+$;for(let lt=0;lt<$;lt++)c[q+lt]=S[lt]}else c.push(S)}}class H{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function rt(c){return/^[\s\xa0]*$/.test(c)}function Z(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ut(c){return ut[" "](c),c}ut[" "]=function(){};var ct=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function it(c,y,_){for(const S in c)y.call(_,c[S],S,c)}function M(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function A(c){const y={};for(const _ in c)y[_]=c[_];return y}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,y){let _,S;for(let q=1;q<arguments.length;q++){S=arguments[q];for(_ in S)c[_]=S[_];for(let $=0;$<x.length;$++)_=x[$],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function U(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function j(c){m.setTimeout(()=>{throw c},0)}function C(){var c=xt;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class mt{constructor(){this.h=this.g=null}add(y,_){const S=Dt.get();S.set(y,_),this.h?this.h.next=S:this.g=S,this.h=S}}var Dt=new H(()=>new Q,c=>c.reset());class Q{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let st,gt=!1,xt=new mt,P=()=>{const c=m.Promise.resolve(void 0);st=()=>{c.then(J)}};var J=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(_){j(_)}var y=Dt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}gt=!1};function ot(){this.s=this.s,this.C=this.C}ot.prototype.s=!1,ot.prototype.ma=function(){this.s||(this.s=!0,this.N())},ot.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function at(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}at.prototype.h=function(){this.defaultPrevented=!0};var pt=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function Ct(c,y){if(at.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ct){t:{try{ut(y.nodeName);var q=!0;break t}catch{}q=!1}q||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:_t[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ct.aa.h.call(this)}}D(Ct,at);var _t={2:"touch",3:"pen",4:"mouse"};Ct.prototype.h=function(){Ct.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),Ft=0;function Ne(c,y,_,S,q){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!S,this.ha=q,this.key=++Ft,this.da=this.fa=!1}function kn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function An(c){this.src=c,this.g={},this.h=0}An.prototype.add=function(c,y,_,S,q){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var lt=tr(c,y,S,q);return-1<lt?(y=c[lt],_||(y.fa=!1)):(y=new Ne(y,this.src,$,!!S,q),y.fa=_,c.push(y)),y};function Ln(c,y){var _=y.type;if(_ in c.g){var S=c.g[_],q=Array.prototype.indexOf.call(S,y,void 0),$;($=0<=q)&&Array.prototype.splice.call(S,q,1),$&&(kn(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function tr(c,y,_,S){for(var q=0;q<c.length;++q){var $=c[q];if(!$.da&&$.listener==y&&$.capture==!!_&&$.ha==S)return q}return-1}var ae="closure_lm_"+(1e6*Math.random()|0),er={};function Ge(c,y,_,S,q){if(Array.isArray(y)){for(var $=0;$<y.length;$++)Ge(c,y[$],_,S,q);return null}return _=ls(_),c&&c[ce]?c.K(y,_,g(S)?!!S.capture:!1,q):Qe(c,y,_,!1,S,q)}function Qe(c,y,_,S,q,$){if(!y)throw Error("Invalid event type");var lt=g(q)?!!q.capture:!!q,jt=Br(c);if(jt||(c[ae]=jt=new An(c)),_=jt.add(y,_,S,lt,$),_.proxy)return _;if(S=ss(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)pt||(q=lt),q===void 0&&(q=!1),c.addEventListener(y.toString(),S,q);else if(c.attachEvent)c.attachEvent(zr(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ss(){function c(_){return y.call(c.src,c.listener,_)}const y=Sl;return c}function wa(c,y,_,S,q){if(Array.isArray(y))for(var $=0;$<y.length;$++)wa(c,y[$],_,S,q);else S=g(S)?!!S.capture:!!S,_=ls(_),c&&c[ce]?(c=c.i,y=String(y).toString(),y in c.g&&($=c.g[y],_=tr($,_,S,q),-1<_&&(kn($[_]),Array.prototype.splice.call($,_,1),$.length==0&&(delete c.g[y],c.h--)))):c&&(c=Br(c))&&(y=c.g[y.toString()],c=-1,y&&(c=tr(y,_,S,q)),(_=-1<c?y[c]:null)&&Sa(_))}function Sa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ce])Ln(y.i,c);else{var _=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(_,S,c.capture):y.detachEvent?y.detachEvent(zr(_),S):y.addListener&&y.removeListener&&y.removeListener(S),(_=Br(y))?(Ln(_,c),_.h==0&&(_.src=null,y[ae]=null)):kn(c)}}}function zr(c){return c in er?er[c]:er[c]="on"+c}function Sl(c,y){if(c.da)c=!0;else{y=new Ct(y,this);var _=c.listener,S=c.ha||c.src;c.fa&&Sa(c),c=_.call(S,y)}return c}function Br(c){return c=c[ae],c instanceof An?c:null}var pi="__closure_events_fn_"+(1e9*Math.random()>>>0);function ls(c){return typeof c=="function"?c:(c[pi]||(c[pi]=function(y){return c.handleEvent(y)}),c[pi])}function fe(){ot.call(this),this.i=new An(this),this.M=this,this.F=null}D(fe,ot),fe.prototype[ce]=!0,fe.prototype.removeEventListener=function(c,y,_,S){wa(this,c,y,_,S)};function Qt(c,y){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new at(y,c);else if(y instanceof at)y.target=y.target||c;else{var q=y;y=new at(S,c),N(y,q)}if(q=!0,_)for(var $=_.length-1;0<=$;$--){var lt=y.g=_[$];q=dn(lt,S,!0,y)&&q}if(lt=y.g=c,q=dn(lt,S,!0,y)&&q,q=dn(lt,S,!1,y)&&q,_)for($=0;$<_.length;$++)lt=y.g=_[$],q=dn(lt,S,!1,y)&&q}fe.prototype.N=function(){if(fe.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],S=0;S<_.length;S++)kn(_[S]);delete c.g[y],c.h--}}this.F=null},fe.prototype.K=function(c,y,_,S){return this.i.add(String(c),y,!1,_,S)},fe.prototype.L=function(c,y,_,S){return this.i.add(String(c),y,!0,_,S)};function dn(c,y,_,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var q=!0,$=0;$<y.length;++$){var lt=y[$];if(lt&&!lt.da&&lt.capture==_){var jt=lt.listener,Me=lt.ha||lt.src;lt.fa&&Ln(c.i,lt),q=jt.call(Me,S)!==!1&&q}}return q&&!S.defaultPrevented}function Ae(c,y,_){if(typeof c=="function")_&&(c=b(c,_));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function yi(c){c.g=Ae(()=>{c.g=null,c.i&&(c.i=!1,yi(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class os extends ot{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:yi(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qr(c){ot.call(this),this.h=c,this.g={}}D(qr,ot);var Un=[];function yr(c){it(c.g,function(y,_){this.g.hasOwnProperty(_)&&Sa(y)},c),c.g={}}qr.prototype.N=function(){qr.aa.N.call(this),yr(this)},qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rn=m.JSON.stringify,Hr=m.JSON.parse,vr=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Fr(){}Fr.prototype.h=null;function vi(c){return c.h||(c.h=c.i())}function Aa(){}var nr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jn(){at.call(this,"d")}D(jn,at);function Re(){at.call(this,"c")}D(Re,at);var oe={},_r=null;function Yt(){return _r=_r||new fe}oe.La="serverreachability";function Ke(c){at.call(this,oe.La,c)}D(Ke,at);function Er(c){const y=Yt();Qt(y,new Ke(y))}oe.STAT_EVENT="statevent";function Ra(c,y){at.call(this,oe.STAT_EVENT,c),this.stat=y}D(Ra,at);function ie(c){const y=Yt();Qt(y,new Ra(y,c))}oe.Ma="timingevent";function _e(c,y){at.call(this,oe.Ma,c),this.size=y}D(_e,at);function he(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function $e(){this.g=!0}$e.prototype.xa=function(){this.g=!1};function Yr(c,y,_,S,q,$){c.info(function(){if(c.g)if($)for(var lt="",jt=$.split("&"),Me=0;Me<jt.length;Me++){var zt=jt[Me].split("=");if(1<zt.length){var Be=zt[0];zt=zt[1];var Ve=Be.split("_");lt=2<=Ve.length&&Ve[1]=="type"?lt+(Be+"="+zt+"&"):lt+(Be+"=redacted&")}}else lt=null;else lt=$;return"XMLHTTP REQ ("+S+") [attempt "+q+"]: "+y+`
`+_+`
`+lt})}function _i(c,y,_,S,q,$,lt){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+q+"]: "+y+`
`+_+`
`+$+" "+lt})}function zn(c,y,_,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+rr(c,_)+(S?" "+S:"")})}function us(c,y){c.info(function(){return"TIMEOUT: "+y})}$e.prototype.info=function(){};function rr(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var q=S[1];if(Array.isArray(q)&&!(1>q.length)){var $=q[0];if($!="noop"&&$!="stop"&&$!="close")for(var lt=1;lt<q.length;lt++)q[lt]=""}}}}return Rn(_)}catch{return y}}var ar={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ir={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Bn;function St(){}D(St,Fr),St.prototype.g=function(){return new XMLHttpRequest},St.prototype.i=function(){return{}},Bn=new St;function Vt(c,y,_,S){this.j=c,this.i=y,this.l=_,this.R=S||1,this.U=new qr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ot}function Ot(){this.i=null,this.g="",this.h=!1}var Xe={},je={};function mn(c,y,_){c.L=1,c.v=Si(Dn(y)),c.m=_,c.P=!0,sr(c,null)}function sr(c,y){c.F=Date.now(),Ei(c),c.A=Dn(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Ol(_.i,"t",S),c.C=0,_=c.j.J,c.h=new Ot,c.g=Su(c.j,_?y:null,!c.m),0<c.O&&(c.M=new os(b(c.Y,c,c.g),c.O)),y=c.U,_=c.g,S=c.ca;var q="readystatechange";Array.isArray(q)||(q&&(Un[0]=q.toString()),q=Un);for(var $=0;$<q.length;$++){var lt=Ge(_,q[$],S||y.handleEvent,!1,y.h||y);if(!lt)break;y.g[lt.key]=lt}y=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Er(),Yr(c.i,c.u,c.A,c.l,c.R,c.m)}Vt.prototype.ca=function(c){c=c.target;const y=this.M;y&&Yn(c)==3?y.j():this.Y(c)},Vt.prototype.Y=function(c){try{if(c==this.g)t:{const Ve=Yn(this.g);var y=this.g.Ba();const Jr=this.g.Z();if(!(3>Ve)&&(Ve!=3||this.g&&(this.h.h||this.g.oa()||pu(this.g)))){this.J||Ve!=4||y==7||(y==8||0>=Jr?Er(3):Er(2)),Da(this);var _=this.g.Z();this.X=_;e:if(cs(this)){var S=pu(this.g);c="";var q=S.length,$=Yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){We(this),Tr(this);var lt="";break e}this.h.i=new m.TextDecoder}for(y=0;y<q;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!($&&y==q-1)});S.length=0,this.h.g+=c,this.C=0,lt=this.h.g}else lt=this.g.oa();if(this.o=_==200,_i(this.i,this.u,this.A,this.l,this.R,Ve,_),this.o){if(this.T&&!this.K){e:{if(this.g){var jt,Me=this.g;if((jt=Me.g?Me.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rt(jt)){var zt=jt;break e}}zt=null}if(_=zt)zn(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ti(this,_);else{this.o=!1,this.s=3,ie(12),We(this),Tr(this);break t}}if(this.P){_=!0;let Ze;for(;!this.J&&this.C<lt.length;)if(Ze=cu(this,lt),Ze==je){Ve==4&&(this.s=4,ie(14),_=!1),zn(this.i,this.l,null,"[Incomplete Response]");break}else if(Ze==Xe){this.s=4,ie(15),zn(this.i,this.l,lt,"[Invalid Chunk]"),_=!1;break}else zn(this.i,this.l,Ze,null),Ti(this,Ze);if(cs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||lt.length!=0||this.h.h||(this.s=1,ie(16),_=!1),this.o=this.o&&_,!_)zn(this.i,this.l,lt,"[Invalid Chunked Response]"),We(this),Tr(this);else if(0<lt.length&&!this.W){this.W=!0;var Be=this.j;Be.g==this&&Be.ba&&!Be.M&&(Be.j.info("Great, no buffering proxy detected. Bytes received: "+lt.length),Ni(Be),Be.M=!0,ie(11))}}else zn(this.i,this.l,lt,null),Ti(this,lt);Ve==4&&We(this),this.o&&!this.J&&(Ve==4?Tu(this.j,this):(this.o=!1,Ei(this)))}else Qf(this.g),_==400&&0<lt.indexOf("Unknown SID")?(this.s=3,ie(12)):(this.s=0,ie(13)),We(this),Tr(this)}}}catch{}finally{}};function cs(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function cu(c,y){var _=c.C,S=y.indexOf(`
`,_);return S==-1?je:(_=Number(y.substring(_,S)),isNaN(_)?Xe:(S+=1,S+_>y.length?je:(y=y.slice(S,S+_),c.C=S+_,y)))}Vt.prototype.cancel=function(){this.J=!0,We(this)};function Ei(c){c.S=Date.now()+c.I,fu(c,c.I)}function fu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=he(b(c.ba,c),y)}function Da(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Vt.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(us(this.i,this.A),this.L!=2&&(Er(),ie(17)),We(this),this.s=2,Tr(this)):fu(this,this.S-c)};function Tr(c){c.j.G==0||c.J||Tu(c.j,c)}function We(c){Da(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,yr(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Ti(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Al(_.h,c))){if(!c.K&&Al(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var q=S;if(q[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)bs(_),Es(_);else break t;Pl(_),ie(18)}}else _.za=q[1],0<_.za-_.T&&37500>q[2]&&_.F&&_.v==0&&!_.C&&(_.C=he(b(_.Za,_),6e3));if(1>=hs(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Zr(_,11)}else if((c.K||_.g==c)&&bs(_),!rt(y))for(q=_.Da.g.parse(y),y=0;y<q.length;y++){let zt=q[y];if(_.T=zt[0],zt=zt[1],_.G==2)if(zt[0]=="c"){_.K=zt[1],_.ia=zt[2];const Be=zt[3];Be!=null&&(_.la=Be,_.j.info("VER="+_.la));const Ve=zt[4];Ve!=null&&(_.Aa=Ve,_.j.info("SVER="+_.Aa));const Jr=zt[5];Jr!=null&&typeof Jr=="number"&&0<Jr&&(S=1.5*Jr,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const Ze=c.g;if(Ze){const xr=Ze.g?Ze.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xr){var $=S.h;$.g||xr.indexOf("spdy")==-1&&xr.indexOf("quic")==-1&&xr.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(ds($,$.h),$.h=null))}if(S.D){const Ll=Ze.g?Ze.g.getResponseHeader("X-HTTP-Session-Id"):null;Ll&&(S.ya=Ll,te(S.I,S.D,Ll))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var lt=c;if(S.qa=wu(S,S.J?S.ia:null,S.W),lt.K){gn(S.h,lt);var jt=lt,Me=S.L;Me&&(jt.I=Me),jt.B&&(Da(jt),Ei(jt)),S.g=lt}else _u(S);0<_.i.length&&Ts(_)}else zt[0]!="stop"&&zt[0]!="close"||Zr(_,7);else _.G==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?Zr(_,7):Ml(_):zt[0]!="noop"&&_.l&&_.l.ta(zt),_.v=0)}}Er(4)}catch{}}var hu=class{constructor(c,y){this.g=c,this.map=y}};function Gr(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fs(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function hs(c){return c.h?1:c.g?c.g.size:0}function Al(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ds(c,y){c.g?c.g.add(y):c.h=y}function gn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Gr.prototype.cancel=function(){if(this.i=Rl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Rl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return k(c.i)}function Hf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,S=0;S<_;S++)y.push(c[S]);return y}y=[],_=0;for(S in c)y[_++]=c[S];return y}function ms(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const S in c)y[_++]=S;return y}}}function Dl(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=ms(c),S=Hf(c),q=S.length,$=0;$<q;$++)y.call(void 0,S[$],_&&_[$],c)}var bi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ff(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),q=null;if(0<=S){var $=c[_].substring(0,S);q=c[_].substring(S+1)}else $=c[_];y($,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function De(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof De){this.h=c.h,wi(this,c.j),this.o=c.o,this.g=c.g,xa(this,c.s),this.l=c.l;var y=c.i,_=new Kr;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Qr(this,_),this.m=c.m}else c&&(y=String(c).match(bi))?(this.h=!1,wi(this,y[1]||"",!0),this.o=qn(y[2]||""),this.g=qn(y[3]||"",!0),xa(this,y[4]),this.l=qn(y[5]||"",!0),Qr(this,y[6]||"",!0),this.m=qn(y[7]||"")):(this.h=!1,this.i=new Kr(null,this.h))}De.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Ai(y,xl,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ai(y,xl,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Ai(_,_.charAt(0)=="/"?Yf:Cl,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Ai(_,gs)),c.join("")};function Dn(c){return new De(c)}function wi(c,y,_){c.j=_?qn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function xa(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Qr(c,y,_){y instanceof Kr?(c.i=y,mu(c.i,c.h)):(_||(y=Ai(y,Gf)),c.i=new Kr(y,c.h))}function te(c,y,_){c.i.set(y,_)}function Si(c){return te(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function qn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ai(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,du),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function du(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var xl=/[#\/\?@]/g,Cl=/[#\?:]/g,Yf=/[#\?]/g,Gf=/[#\?@]/g,gs=/#/g;function Kr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Hn(c){c.g||(c.g=new Map,c.h=0,c.i&&Ff(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=Kr.prototype,r.add=function(c,y){Hn(this),this.i=null,c=br(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function $r(c,y){Hn(c),y=br(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Xr(c,y){return Hn(c),y=br(c,y),c.g.has(y)}r.forEach=function(c,y){Hn(this),this.g.forEach(function(_,S){_.forEach(function(q){c.call(y,q,S,this)},this)},this)},r.na=function(){Hn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let S=0;S<y.length;S++){const q=c[S];for(let $=0;$<q.length;$++)_.push(y[S])}return _},r.V=function(c){Hn(this);let y=[];if(typeof c=="string")Xr(this,c)&&(y=y.concat(this.g.get(br(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return Hn(this),this.i=null,c=br(this,c),Xr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Ol(c,y,_){$r(c,y),0<_.length&&(c.i=null,c.g.set(br(c,y),k(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var S=y[_];const $=encodeURIComponent(String(S)),lt=this.V(S);for(S=0;S<lt.length;S++){var q=$;lt[S]!==""&&(q+="="+encodeURIComponent(String(lt[S]))),c.push(q)}}return this.i=c.join("&")};function br(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function mu(c,y){y&&!c.j&&(Hn(c),c.i=null,c.g.forEach(function(_,S){var q=S.toLowerCase();S!=q&&($r(this,S),Ol(this,q,_))},c)),c.j=y}function Ri(c,y){const _=new $e;if(m.Image){const S=new Image;S.onload=R(Fn,_,"TestLoadImage: loaded",!0,y,S),S.onerror=R(Fn,_,"TestLoadImage: error",!1,y,S),S.onabort=R(Fn,_,"TestLoadImage: abort",!1,y,S),S.ontimeout=R(Fn,_,"TestLoadImage: timeout",!1,y,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function lr(c,y){const _=new $e,S=new AbortController,q=setTimeout(()=>{S.abort(),Fn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then($=>{clearTimeout(q),$.ok?Fn(_,"TestPingServer: ok",!0,y):Fn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),Fn(_,"TestPingServer: error",!1,y)})}function Fn(c,y,_,S,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),S(_)}catch{}}function Di(){this.g=new vr}function wr(c,y,_){const S=_||"";try{Dl(c,function(q,$){let lt=q;g(q)&&(lt=Rn(q)),y.push(S+$+"="+encodeURIComponent(lt))})}catch(q){throw y.push(S+"type="+encodeURIComponent("_badmap")),q}}function Ca(c){this.l=c.Ub||null,this.j=c.eb||!1}D(Ca,Fr),Ca.prototype.g=function(){return new Wr(this.l,this.j)},Ca.prototype.i=function(c){return function(){return c}}({});function Wr(c,y){fe.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(Wr,fe),r=Wr.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Ar(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Sr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ar(this)),this.g&&(this.readyState=3,Ar(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Il(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Il(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Sr(this):Ar(this),this.readyState==3&&Il(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Sr(this))},r.Qa=function(c){this.g&&(this.response=c,Sr(this))},r.ga=function(){this.g&&Sr(this)};function Sr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ar(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function Ar(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Wr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Nl(c){let y="";return it(c,function(_,S){y+=S,y+=":",y+=_,y+=`\r
`}),y}function ze(c,y,_){t:{for(S in _){var S=!1;break t}S=!0}S||(_=Nl(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):te(c,y,_))}function $t(c){fe.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D($t,fe);var ps=/^https?$/i,xi=["POST","PUT"];r=$t.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Bn.g(),this.v=this.o?vi(this.o):vi(Bn),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch($){gu(this,$);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var q in S)_.set(q,S[q]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const $ of S.keys())_.set($,S.get($));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find($=>$.toLowerCase()=="content-type"),q=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(xi,y,void 0))||S||q||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,lt]of _)this.g.setRequestHeader($,lt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ci(this),this.u=!0,this.g.send(c),this.u=!1}catch($){gu(this,$)}};function gu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ys(c),Rr(c)}function ys(c){c.A||(c.A=!0,Qt(c,"complete"),Qt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Qt(this,"complete"),Qt(this,"abort"),Rr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Rr(this,!0)),$t.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?vs(this):this.bb())},r.bb=function(){vs(this)};function vs(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Yn(c)!=4||c.Z()!=2)){if(c.u&&Yn(c)==4)Ae(c.Ea,0,c);else if(Qt(c,"readystatechange"),Yn(c)==4){c.h=!1;try{const lt=c.Z();t:switch(lt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var _;if(!(_=y)){var S;if(S=lt===0){var q=String(c.D).match(bi)[1]||null;!q&&m.self&&m.self.location&&(q=m.self.location.protocol.slice(0,-1)),S=!ps.test(q?q.toLowerCase():"")}_=S}if(_)Qt(c,"complete"),Qt(c,"success");else{c.m=6;try{var $=2<Yn(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",ys(c)}}finally{Rr(c)}}}}function Rr(c,y){if(c.g){Ci(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Qt(c,"ready");try{_.onreadystatechange=S}catch{}}}function Ci(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Yn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Yn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Hr(y)}};function pu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Qf(c){const y={};c=(c.g&&2<=Yn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(rt(c[S]))continue;var _=U(c[S]);const q=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const $=y[q]||[];y[q]=$,$.push(_)}M(y,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oi(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function _s(c){this.Aa=0,this.i=[],this.j=new $e,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Oi("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Oi("baseRetryDelayMs",5e3,c),this.cb=Oi("retryDelaySeedMs",1e4,c),this.Wa=Oi("forwardChannelMaxRetries",2,c),this.wa=Oi("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Gr(c&&c.concurrentRequestLimit),this.Da=new Di,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=_s.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,S){ie(0),this.W=c,this.H=y||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=wu(this,null,this.W),Ts(this)};function Ml(c){if(yu(c),c.G==3){var y=c.U++,_=Dn(c.I);if(te(_,"SID",c.K),te(_,"RID",y),te(_,"TYPE","terminate"),Ii(c,_),y=new Vt(c,c.j,y),y.L=2,y.v=Si(Dn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Su(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ei(y)}bu(c)}function Es(c){c.g&&(Ni(c),c.g.cancel(),c.g=null)}function yu(c){Es(c),c.u&&(m.clearTimeout(c.u),c.u=null),bs(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ts(c){if(!fs(c.h)&&!c.s){c.s=!0;var y=c.Ga;st||P(),gt||(st(),gt=!0),xt.add(y,c),c.B=0}}function Kf(c,y){return hs(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=he(b(c.Ga,c,y),kl(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const q=new Vt(this,this.j,c);let $=this.o;if(this.S&&($?($=A($),N($,this.S)):$=this.S),this.m!==null||this.O||(q.H=$,$=null),this.P)t:{for(var y=0,_=0;_<this.i.length;_++){e:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=_;break t}if(y===4096||_===this.i.length-1){y=_+1;break t}}y=1e3}else y=1e3;y=vu(this,q,y),_=Dn(this.I),te(_,"RID",c),te(_,"CVER",22),this.D&&te(_,"X-HTTP-Session-Id",this.D),Ii(this,_),$&&(this.O?y="headers="+encodeURIComponent(String(Nl($)))+"&"+y:this.m&&ze(_,this.m,$)),ds(this.h,q),this.Ua&&te(_,"TYPE","init"),this.P?(te(_,"$req",y),te(_,"SID","null"),q.T=!0,mn(q,_,null)):mn(q,_,y),this.G=2}}else this.G==3&&(c?Vl(this,c):this.i.length==0||fs(this.h)||Vl(this))};function Vl(c,y){var _;y?_=y.l:_=c.U++;const S=Dn(c.I);te(S,"SID",c.K),te(S,"RID",_),te(S,"AID",c.T),Ii(c,S),c.m&&c.o&&ze(S,c.m,c.o),_=new Vt(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=vu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ds(c.h,_),mn(_,S,y)}function Ii(c,y){c.H&&it(c.H,function(_,S){te(y,S,_)}),c.l&&Dl({},function(_,S){te(y,S,_)})}function vu(c,y,_){_=Math.min(c.i.length,_);var S=c.l?b(c.l.Na,c.l,c):null;t:{var q=c.i;let $=-1;for(;;){const lt=["count="+_];$==-1?0<_?($=q[0].g,lt.push("ofs="+$)):$=0:lt.push("ofs="+$);let jt=!0;for(let Me=0;Me<_;Me++){let zt=q[Me].g;const Be=q[Me].map;if(zt-=$,0>zt)$=Math.max(0,q[Me].g-100),jt=!1;else try{wr(Be,lt,"req"+zt+"_")}catch{S&&S(Be)}}if(jt){S=lt.join("&");break t}}}return c=c.i.splice(0,_),y.D=c,S}function _u(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;st||P(),gt||(st(),gt=!0),xt.add(y,c),c.v=0}}function Pl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=he(b(c.Fa,c),kl(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Eu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=he(b(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ie(10),Es(this),Eu(this))};function Ni(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Eu(c){c.g=new Vt(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Dn(c.qa);te(y,"RID","rpc"),te(y,"SID",c.K),te(y,"AID",c.T),te(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&te(y,"TO",c.ja),te(y,"TYPE","xmlhttp"),Ii(c,y),c.m&&c.o&&ze(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Si(Dn(y)),_.m=null,_.P=!0,sr(_,c)}r.Za=function(){this.C!=null&&(this.C=null,Es(this),Pl(this),ie(19))};function bs(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Tu(c,y){var _=null;if(c.g==y){bs(c),Ni(c),c.g=null;var S=2}else if(Al(c.h,y))_=y.D,gn(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var q=c.B;S=Yt(),Qt(S,new _e(S,_)),Ts(c)}else _u(c);else if(q=y.s,q==3||q==0&&0<y.X||!(S==1&&Kf(c,y)||S==2&&Pl(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),q){case 1:Zr(c,5);break;case 4:Zr(c,10);break;case 3:Zr(c,6);break;default:Zr(c,2)}}}function kl(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Zr(c,y){if(c.j.info("Error code "+y),y==2){var _=b(c.fb,c),S=c.Xa;const q=!S;S=new De(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||wi(S,"https"),Si(S),q?Ri(S.toString(),_):lr(S.toString(),_)}else ie(2);c.G=0,c.l&&c.l.sa(y),bu(c),yu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ie(2)):(this.j.info("Failed to ping google.com"),ie(1))};function bu(c){if(c.G=0,c.ka=[],c.l){const y=Rl(c.h);(y.length!=0||c.i.length!=0)&&(V(c.ka,y),V(c.ka,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.ra()}}function wu(c,y,_){var S=_ instanceof De?Dn(_):new De(_);if(S.g!="")y&&(S.g=y+"."+S.g),xa(S,S.s);else{var q=m.location;S=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;var $=new De(null);S&&wi($,S),y&&($.g=y),q&&xa($,q),_&&($.l=_),S=$}return _=c.D,y=c.ya,_&&y&&te(S,_,y),te(S,"VER",c.la),Ii(c,S),S}function Su(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new $t(new Ca({eb:_})):new $t(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}r=Au.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ws(){}ws.prototype.g=function(c,y){return new pn(c,y)};function pn(c,y){fe.call(this),this.g=new _s(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!rt(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!rt(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Dr(this)}D(pn,fe),pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){Ml(this.g)},pn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Rn(c),c=_);y.i.push(new hu(y.Ya++,c)),y.G==3&&Ts(y)},pn.prototype.N=function(){this.g.l=null,delete this.j,Ml(this.g),delete this.g,pn.aa.N.call(this)};function Ru(c){jn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const _ in y){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}D(Ru,jn);function Du(){Re.call(this),this.status=1}D(Du,Re);function Dr(c){this.g=c}D(Dr,Au),Dr.prototype.ua=function(){Qt(this.g,"a")},Dr.prototype.ta=function(c){Qt(this.g,new Ru(c))},Dr.prototype.sa=function(c){Qt(this.g,new Du)},Dr.prototype.ra=function(){Qt(this.g,"b")},ws.prototype.createWebChannel=ws.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,BE=function(){return new ws},zE=function(){return Yt()},jE=oe,pm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ar.NO_ERROR=0,ar.TIMEOUT=8,ar.HTTP_ERROR=6,jc=ar,ir.COMPLETE="complete",UE=ir,Aa.EventType=nr,nr.OPEN="a",nr.CLOSE="b",nr.ERROR="c",nr.MESSAGE="d",fe.prototype.listen=fe.prototype.K,Oo=Aa,$t.prototype.listenOnce=$t.prototype.L,$t.prototype.getLastError=$t.prototype.Ka,$t.prototype.getLastErrorCode=$t.prototype.Ba,$t.prototype.getStatus=$t.prototype.Z,$t.prototype.getResponseJson=$t.prototype.Oa,$t.prototype.getResponseText=$t.prototype.oa,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Ha,LE=$t}).apply(typeof Cc<"u"?Cc:typeof self<"u"?self:typeof window<"u"?window:{});const j_="@firebase/firestore",z_="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vl="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=new OE("@firebase/firestore");function Js(){return Ji.logLevel}function ft(r,...t){if(Ji.logLevel<=Ht.DEBUG){const n=t.map(sg);Ji.debug(`Firestore (${vl}): ${r}`,...n)}}function va(r,...t){if(Ji.logLevel<=Ht.ERROR){const n=t.map(sg);Ji.error(`Firestore (${vl}): ${r}`,...n)}}function ll(r,...t){if(Ji.logLevel<=Ht.WARN){const n=t.map(sg);Ji.warn(`Firestore (${vl}): ${r}`,...n)}}function sg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(r="Unexpected state"){const t=`FIRESTORE (${vl}) INTERNAL ASSERTION FAILED: `+r;throw va(t),new Error(t)}function Xt(r,t){r||wt()}function Rt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends yl{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class OR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(cn.UNAUTHENTICATED))}shutdown(){}}class IR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class NR{constructor(t){this.t=t,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Xt(this.o===void 0);let i=this.i;const l=p=>this.i!==i?(i=this.i,n(p)):Promise.resolve();let u=new ga;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ga,t.enqueueRetryable(()=>l(this.currentUser))};const h=()=>{const p=u;t.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},m=p=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ga)}},0),h()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Xt(typeof i.accessToken=="string"),new qE(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Xt(t===null||typeof t=="string"),new cn(t)}}class MR{constructor(t,n,i){this.l=t,this.h=n,this.P=i,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class VR{constructor(t,n,i){this.l=t,this.h=n,this.P=i}getToken(){return Promise.resolve(new MR(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class B_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PR{constructor(t,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,dR(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,n){Xt(this.o===void 0);const i=u=>{u.error!=null&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,ft("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>i(u))};const l=u=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>l(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?l(u):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new B_(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Xt(typeof n.token=="string"),this.R=n.token,new B_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<r;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const l=kR(40);for(let u=0;u<l.length;++u)i.length<20&&l[u]<n&&(i+=t.charAt(l[u]%62))}return i}}function Mt(r,t){return r<t?-1:r>t?1:0}function ym(r,t){let n=0;for(;n<r.length&&n<t.length;){const i=r.codePointAt(n),l=t.codePointAt(n);if(i!==l){if(i<128&&l<128)return Mt(i,l);{const u=HE(),h=LR(u.encode(q_(r,n)),u.encode(q_(t,n)));return h!==0?h:Mt(i,l)}}n+=i>65535?2:1}return Mt(r.length,t.length)}function q_(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function LR(r,t){for(let n=0;n<r.length&&n<t.length;++n)if(r[n]!==t[n])return Mt(r[n],t[n]);return Mt(r.length,t.length)}function ol(r,t,n){return r.length===t.length&&r.every((i,l)=>n(i,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_=-62135596800,F_=1e6;class Le{static now(){return Le.fromMillis(Date.now())}static fromDate(t){return Le.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*F_);return new Le(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ht(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ht(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<H_)throw new ht(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ht(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/F_}_compareTo(t){return this.seconds===t.seconds?Mt(this.nanoseconds,t.nanoseconds):Mt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-H_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new Le(0,0))}static max(){return new At(new Le(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="__name__";class Pr{constructor(t,n,i){n===void 0?n=0:n>t.length&&wt(),i===void 0?i=t.length-n:i>t.length-n&&wt(),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return Pr.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Pr?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let l=0;l<i;l++){const u=Pr.compareSegments(t.get(l),n.get(l));if(u!==0)return u}return Mt(t.length,n.length)}static compareSegments(t,n){const i=Pr.isNumericId(t),l=Pr.isNumericId(n);return i&&!l?-1:!i&&l?1:i&&l?Pr.extractNumericId(t).compare(Pr.extractNumericId(n)):ym(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ni.fromString(t.substring(4,t.length-2))}}class ue extends Pr{construct(t,n,i){return new ue(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new ht(nt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(l=>l.length>0))}return new ue(n)}static emptyPath(){return new ue([])}}const UR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends Pr{construct(t,n,i){return new rn(t,n,i)}static isValidIdentifier(t){return UR.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Y_}static keyField(){return new rn([Y_])}static fromServerFormat(t){const n=[];let i="",l=0;const u=()=>{if(i.length===0)throw new ht(nt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let h=!1;for(;l<t.length;){const m=t[l];if(m==="\\"){if(l+1===t.length)throw new ht(nt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ht(nt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=p,l+=2}else m==="`"?(h=!h,l++):m!=="."||h?(i+=m,l++):(u(),l++)}if(u(),h)throw new ht(nt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new rn(n)}static emptyPath(){return new rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(t){this.path=t}static fromPath(t){return new vt(ue.fromString(t))}static fromName(t){return new vt(ue.fromString(t).popFirst(5))}static empty(){return new vt(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ue.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ue.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new ue(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=-1;function jR(r,t){const n=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,l=At.fromTimestamp(i===1e9?new Le(n+1,0):new Le(n,i));return new ii(l,vt.empty(),t)}function zR(r){return new ii(r.readTime,r.key,Ho)}class ii{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new ii(At.min(),vt.empty(),Ho)}static max(){return new ii(At.max(),vt.empty(),Ho)}}function BR(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=vt.comparator(r.documentKey,t.documentKey),n!==0?n:Mt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _l(r){if(r.code!==nt.FAILED_PRECONDITION||r.message!==qR)throw r;ft("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&wt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new et((i,l)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(i,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(i,l)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof et?n:et.resolve(n)}catch(n){return et.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):et.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):et.reject(n)}static resolve(t){return new et((n,i)=>{n(t)})}static reject(t){return new et((n,i)=>{i(t)})}static waitFor(t){return new et((n,i)=>{let l=0,u=0,h=!1;t.forEach(m=>{++l,m.next(()=>{++u,h&&u===l&&n()},p=>i(p))}),h=!0,u===l&&n()})}static or(t){let n=et.resolve(!1);for(const i of t)n=n.next(l=>l?et.resolve(l):i());return n}static forEach(t,n){const i=[];return t.forEach((l,u)=>{i.push(n.call(this,l,u))}),this.waitFor(i)}static mapArray(t,n){return new et((i,l)=>{const u=t.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(t[g]).next(v=>{h[g]=v,++m,m===u&&i(h)},v=>l(v))}})}static doWhile(t,n){return new et((i,l)=>{const u=()=>{t()===!0?n().next(()=>{u()},l):i()};u()})}}function FR(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function El(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.oe(i),this._e=i=>n.writeSequenceNumber(i))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}gf.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg=-1;function pf(r){return r==null}function Wc(r){return r===0&&1/r==-1/0}function YR(r){return typeof r=="number"&&Number.isInteger(r)&&!Wc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE="";function GR(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=G_(t)),t=QR(r.get(n),t);return G_(t)}function QR(r,t){let n=t;const i=r.length;for(let l=0;l<i;l++){const u=r.charAt(l);switch(u){case"\0":n+="";break;case YE:n+="";break;default:n+=u}}return n}function G_(r){return r+YE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function hi(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function GE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(t,n){this.comparator=t,this.root=n||nn.EMPTY}insert(t,n){return new ve(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(t){return new ve(this.comparator,this.root.remove(t,this.comparator).copy(null,null,nn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const l=this.comparator(t,i.key);if(l===0)return n+i.left.size;l<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Oc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Oc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Oc(this.root,t,this.comparator,!0)}}class Oc{constructor(t,n,i,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?i(t.key,n):1,n&&l&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class nn{constructor(t,n,i,l,u){this.key=t,this.value=n,this.color=i??nn.RED,this.left=l??nn.EMPTY,this.right=u??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,l,u){return new nn(t??this.key,n??this.value,i??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let l=this;const u=i(t,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(t,n,i),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,i)),l.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return nn.EMPTY;i=l.right.min(),l=l.copy(i.key,i.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw wt();const t=this.left.check();if(t!==this.right.check())throw wt();return t+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw wt()}get value(){throw wt()}get color(){throw wt()}get left(){throw wt()}get right(){throw wt()}copy(t,n,i,l,u){return this}insert(t,n,i){return new nn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(t){this.comparator=t,this.data=new ve(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const l=i.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new K_(this.data.getIterator())}getIteratorFrom(t){return new K_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof Ue)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=i.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Ue(this.comparator);return n.data=t,n}}class K_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(t){this.fields=t,t.sort(rn.comparator)}static empty(){return new Pn([])}unionWith(t){let n=new Ue(rn.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new Pn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ol(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new QE("Invalid base64 string: "+u):u}}(t);return new sn(n)}static fromUint8Array(t){const n=function(l){let u="";for(let h=0;h<l.length;++h)u+=String.fromCharCode(l[h]);return u}(t);return new sn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let l=0;l<n.length;l++)i[l]=n.charCodeAt(l);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Mt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const KR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function si(r){if(Xt(!!r),typeof r=="string"){let t=0;const n=KR.exec(r);if(Xt(!!n),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Se(r.seconds),nanos:Se(r.nanos)}}function Se(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function li(r){return typeof r=="string"?sn.fromBase64String(r):sn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="server_timestamp",$E="__type__",XE="__previous_value__",WE="__local_write_time__";function og(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[$E])===null||n===void 0?void 0:n.stringValue)===KE}function yf(r){const t=r.mapValue.fields[XE];return og(t)?yf(t):t}function Fo(r){const t=si(r.mapValue.fields[WE].timestampValue);return new Le(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(t,n,i,l,u,h,m,p,g){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=l,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g}}const Zc="(default)";class Yo{constructor(t,n){this.projectId=t,this.database=n||Zc}static empty(){return new Yo("","")}get isDefaultDatabase(){return this.database===Zc}isEqual(t){return t instanceof Yo&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="__type__",XR="__max__",Ic={mapValue:{}},JE="__vector__",Jc="value";function oi(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?og(r)?4:ZR(r)?9007199254740991:WR(r)?10:11:wt()}function jr(r,t){if(r===t)return!0;const n=oi(r);if(n!==oi(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Fo(r).isEqual(Fo(t));case 3:return function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const h=si(l.timestampValue),m=si(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(l,u){return li(l.bytesValue).isEqual(li(u.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(l,u){return Se(l.geoPointValue.latitude)===Se(u.geoPointValue.latitude)&&Se(l.geoPointValue.longitude)===Se(u.geoPointValue.longitude)}(r,t);case 2:return function(l,u){if("integerValue"in l&&"integerValue"in u)return Se(l.integerValue)===Se(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const h=Se(l.doubleValue),m=Se(u.doubleValue);return h===m?Wc(h)===Wc(m):isNaN(h)&&isNaN(m)}return!1}(r,t);case 9:return ol(r.arrayValue.values||[],t.arrayValue.values||[],jr);case 10:case 11:return function(l,u){const h=l.mapValue.fields||{},m=u.mapValue.fields||{};if(Q_(h)!==Q_(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!jr(h[p],m[p])))return!1;return!0}(r,t);default:return wt()}}function Go(r,t){return(r.values||[]).find(n=>jr(n,t))!==void 0}function ul(r,t){if(r===t)return 0;const n=oi(r),i=oi(t);if(n!==i)return Mt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Mt(r.booleanValue,t.booleanValue);case 2:return function(u,h){const m=Se(u.integerValue||u.doubleValue),p=Se(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,t);case 3:return $_(r.timestampValue,t.timestampValue);case 4:return $_(Fo(r),Fo(t));case 5:return ym(r.stringValue,t.stringValue);case 6:return function(u,h){const m=li(u),p=li(h);return m.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=Mt(m[g],p[g]);if(v!==0)return v}return Mt(m.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(u,h){const m=Mt(Se(u.latitude),Se(h.latitude));return m!==0?m:Mt(Se(u.longitude),Se(h.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return X_(r.arrayValue,t.arrayValue);case 10:return function(u,h){var m,p,g,v;const T=u.fields||{},b=h.fields||{},R=(m=T[Jc])===null||m===void 0?void 0:m.arrayValue,D=(p=b[Jc])===null||p===void 0?void 0:p.arrayValue,k=Mt(((g=R==null?void 0:R.values)===null||g===void 0?void 0:g.length)||0,((v=D==null?void 0:D.values)===null||v===void 0?void 0:v.length)||0);return k!==0?k:X_(R,D)}(r.mapValue,t.mapValue);case 11:return function(u,h){if(u===Ic.mapValue&&h===Ic.mapValue)return 0;if(u===Ic.mapValue)return 1;if(h===Ic.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let T=0;T<p.length&&T<v.length;++T){const b=ym(p[T],v[T]);if(b!==0)return b;const R=ul(m[p[T]],g[v[T]]);if(R!==0)return R}return Mt(p.length,v.length)}(r.mapValue,t.mapValue);default:throw wt()}}function $_(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Mt(r,t);const n=si(r),i=si(t),l=Mt(n.seconds,i.seconds);return l!==0?l:Mt(n.nanos,i.nanos)}function X_(r,t){const n=r.values||[],i=t.values||[];for(let l=0;l<n.length&&l<i.length;++l){const u=ul(n[l],i[l]);if(u)return u}return Mt(n.length,i.length)}function cl(r){return vm(r)}function vm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const i=si(n);return`time(${i.seconds},${i.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return li(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return vt.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let i="[",l=!0;for(const u of n.values||[])l?l=!1:i+=",",i+=vm(u);return i+"]"}(r.arrayValue):"mapValue"in r?function(n){const i=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const h of i)u?u=!1:l+=",",l+=`${h}:${vm(n.fields[h])}`;return l+"}"}(r.mapValue):wt()}function zc(r){switch(oi(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=yf(r);return t?16+zc(t):16;case 5:return 2*r.stringValue.length;case 6:return li(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((l,u)=>l+zc(u),0)}(r.arrayValue);case 10:case 11:return function(i){let l=0;return hi(i.fields,(u,h)=>{l+=u.length+zc(h)}),l}(r.mapValue);default:throw wt()}}function W_(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function _m(r){return!!r&&"integerValue"in r}function ug(r){return!!r&&"arrayValue"in r}function Z_(r){return!!r&&"nullValue"in r}function J_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Bc(r){return!!r&&"mapValue"in r}function WR(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[ZE])===null||n===void 0?void 0:n.stringValue)===JE}function ko(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return hi(r.mapValue.fields,(n,i)=>t.mapValue.fields[n]=ko(i)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ko(r.arrayValue.values[n]);return t}return Object.assign({},r)}function ZR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===XR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(t){this.value=t}static empty(){return new bn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!Bc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=ko(n)}setAll(t){let n=rn.emptyPath(),i={},l=[];t.forEach((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,i,l),i={},l=[],n=m.popLast()}h?i[m.lastSegment()]=ko(h):l.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,i,l)}delete(t){const n=this.field(t.popLast());Bc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return jr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let l=n.mapValue.fields[t.get(i)];Bc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,i){hi(n,(l,u)=>t[l]=u);for(const l of i)delete t[l]}clone(){return new bn(ko(this.value))}}function tT(r){const t=[];return hi(r.fields,(n,i)=>{const l=new rn([n]);if(Bc(i)){const u=tT(i.mapValue).fields;if(u.length===0)t.push(l);else for(const h of u)t.push(l.child(h))}else t.push(l)}),new Pn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(t,n,i,l,u,h,m){this.key=t,this.documentType=n,this.version=i,this.readTime=l,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(t){return new fn(t,0,At.min(),At.min(),At.min(),bn.empty(),0)}static newFoundDocument(t,n,i,l){return new fn(t,1,n,At.min(),i,l,0)}static newNoDocument(t,n){return new fn(t,2,n,At.min(),At.min(),bn.empty(),0)}static newUnknownDocument(t,n){return new fn(t,3,n,At.min(),At.min(),bn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof fn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(t,n){this.position=t,this.inclusive=n}}function t0(r,t,n){let i=0;for(let l=0;l<r.position.length;l++){const u=t[l],h=r.position[l];if(u.field.isKeyField()?i=vt.comparator(vt.fromName(h.referenceValue),n.key):i=ul(h,n.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return i}function e0(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!jr(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(t,n="asc"){this.field=t,this.dir=n}}function JR(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{}class Ie extends eT{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new eD(t,n,i):n==="array-contains"?new aD(t,i):n==="in"?new iD(t,i):n==="not-in"?new sD(t,i):n==="array-contains-any"?new lD(t,i):new Ie(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new nD(t,i):new rD(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ul(n,this.value)):n!==null&&oi(this.value)===oi(n)&&this.matchesComparison(ul(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return wt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class dr extends eT{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new dr(t,n)}matches(t){return nT(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function nT(r){return r.op==="and"}function rT(r){return tD(r)&&nT(r)}function tD(r){for(const t of r.filters)if(t instanceof dr)return!1;return!0}function Em(r){if(r instanceof Ie)return r.field.canonicalString()+r.op.toString()+cl(r.value);if(rT(r))return r.filters.map(t=>Em(t)).join(",");{const t=r.filters.map(n=>Em(n)).join(",");return`${r.op}(${t})`}}function aT(r,t){return r instanceof Ie?function(i,l){return l instanceof Ie&&i.op===l.op&&i.field.isEqual(l.field)&&jr(i.value,l.value)}(r,t):r instanceof dr?function(i,l){return l instanceof dr&&i.op===l.op&&i.filters.length===l.filters.length?i.filters.reduce((u,h,m)=>u&&aT(h,l.filters[m]),!0):!1}(r,t):void wt()}function iT(r){return r instanceof Ie?function(n){return`${n.field.canonicalString()} ${n.op} ${cl(n.value)}`}(r):r instanceof dr?function(n){return n.op.toString()+" {"+n.getFilters().map(iT).join(" ,")+"}"}(r):"Filter"}class eD extends Ie{constructor(t,n,i){super(t,n,i),this.key=vt.fromName(i.referenceValue)}matches(t){const n=vt.comparator(t.key,this.key);return this.matchesComparison(n)}}class nD extends Ie{constructor(t,n){super(t,"in",n),this.keys=sT("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class rD extends Ie{constructor(t,n){super(t,"not-in",n),this.keys=sT("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function sT(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>vt.fromName(i.referenceValue))}class aD extends Ie{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return ug(n)&&Go(n.arrayValue,this.value)}}class iD extends Ie{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Go(this.value.arrayValue,n)}}class sD extends Ie{constructor(t,n){super(t,"not-in",n)}matches(t){if(Go(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Go(this.value.arrayValue,n)}}class lD extends Ie{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!ug(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Go(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(t,n=null,i=[],l=[],u=null,h=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=l,this.limit=u,this.startAt=h,this.endAt=m,this.le=null}}function n0(r,t=null,n=[],i=[],l=null,u=null,h=null){return new oD(r,t,n,i,l,u,h)}function cg(r){const t=Rt(r);if(t.le===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>Em(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(u){return u.field.canonicalString()+u.dir}(i)).join(","),pf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>cl(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>cl(i)).join(",")),t.le=n}return t.le}function fg(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!JR(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!aT(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!e0(r.startAt,t.startAt)&&e0(r.endAt,t.endAt)}function Tm(r){return vt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(t,n=null,i=[],l=[],u=null,h="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=l,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function uD(r,t,n,i,l,u,h,m){return new tu(r,t,n,i,l,u,h,m)}function vf(r){return new tu(r)}function r0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function lT(r){return r.collectionGroup!==null}function Lo(r){const t=Rt(r);if(t.he===null){t.he=[];const n=new Set;for(const u of t.explicitOrderBy)t.he.push(u),n.add(u.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Ue(rn.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.he.push(new ef(u,i))}),n.has(rn.keyField().canonicalString())||t.he.push(new ef(rn.keyField(),i))}return t.he}function kr(r){const t=Rt(r);return t.Pe||(t.Pe=cD(t,Lo(r))),t.Pe}function cD(r,t){if(r.limitType==="F")return n0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(l=>{const u=l.dir==="desc"?"asc":"desc";return new ef(l.field,u)});const n=r.endAt?new tf(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new tf(r.startAt.position,r.startAt.inclusive):null;return n0(r.path,r.collectionGroup,t,r.filters,r.limit,n,i)}}function bm(r,t){const n=r.filters.concat([t]);return new tu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function wm(r,t,n){return new tu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function _f(r,t){return fg(kr(r),kr(t))&&r.limitType===t.limitType}function oT(r){return`${cg(kr(r))}|lt:${r.limitType}`}function tl(r){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(l=>iT(l)).join(", ")}]`),pf(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(l=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(l)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(l=>cl(l)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(l=>cl(l)).join(",")),`Target(${i})`}(kr(r))}; limitType=${r.limitType})`}function Ef(r,t){return t.isFoundDocument()&&function(i,l){const u=l.key.path;return i.collectionGroup!==null?l.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(u):vt.isDocumentKey(i.path)?i.path.isEqual(u):i.path.isImmediateParentOf(u)}(r,t)&&function(i,l){for(const u of Lo(i))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0}(r,t)&&function(i,l){for(const u of i.filters)if(!u.matches(l))return!1;return!0}(r,t)&&function(i,l){return!(i.startAt&&!function(h,m,p){const g=t0(h,m,p);return h.inclusive?g<=0:g<0}(i.startAt,Lo(i),l)||i.endAt&&!function(h,m,p){const g=t0(h,m,p);return h.inclusive?g>=0:g>0}(i.endAt,Lo(i),l))}(r,t)}function fD(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function uT(r){return(t,n)=>{let i=!1;for(const l of Lo(r)){const u=hD(l,t,n);if(u!==0)return u;i=i||l.field.isKeyField()}return 0}}function hD(r,t,n){const i=r.field.isKeyField()?vt.comparator(t.key,n.key):function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?ul(p,g):wt()}(r.field,t,n);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return wt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[l,u]of i)if(this.equalsFn(l,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),l=this.inner[i];if(l===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],t))return void(l[u]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],t))return i.length===1?delete this.inner[n]:i.splice(l,1),this.innerSize--,!0;return!1}forEach(t){hi(this.inner,(n,i)=>{for(const[l,u]of i)t(l,u)})}isEmpty(){return GE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD=new ve(vt.comparator);function _a(){return dD}const cT=new ve(vt.comparator);function Io(...r){let t=cT;for(const n of r)t=t.insert(n.key,n);return t}function fT(r){let t=cT;return r.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function Xi(){return Uo()}function hT(){return Uo()}function Uo(){return new es(r=>r.toString(),(r,t)=>r.isEqual(t))}const mD=new ve(vt.comparator),gD=new Ue(vt.comparator);function Ut(...r){let t=gD;for(const n of r)t=t.add(n);return t}const pD=new Ue(Mt);function yD(){return pD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wc(t)?"-0":t}}function dT(r){return{integerValue:""+r}}function vD(r,t){return YR(t)?dT(t):hg(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(){this._=void 0}}function _D(r,t,n){return r instanceof nf?function(l,u){const h={fields:{[$E]:{stringValue:KE},[WE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&og(u)&&(u=yf(u)),u&&(h.fields[XE]=u),{mapValue:h}}(n,t):r instanceof Qo?gT(r,t):r instanceof Ko?pT(r,t):function(l,u){const h=mT(l,u),m=a0(h)+a0(l.Ie);return _m(h)&&_m(l.Ie)?dT(m):hg(l.serializer,m)}(r,t)}function ED(r,t,n){return r instanceof Qo?gT(r,t):r instanceof Ko?pT(r,t):n}function mT(r,t){return r instanceof rf?function(i){return _m(i)||function(u){return!!u&&"doubleValue"in u}(i)}(t)?t:{integerValue:0}:null}class nf extends Tf{}class Qo extends Tf{constructor(t){super(),this.elements=t}}function gT(r,t){const n=yT(t);for(const i of r.elements)n.some(l=>jr(l,i))||n.push(i);return{arrayValue:{values:n}}}class Ko extends Tf{constructor(t){super(),this.elements=t}}function pT(r,t){let n=yT(t);for(const i of r.elements)n=n.filter(l=>!jr(l,i));return{arrayValue:{values:n}}}class rf extends Tf{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function a0(r){return Se(r.integerValue||r.doubleValue)}function yT(r){return ug(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function TD(r,t){return r.field.isEqual(t.field)&&function(i,l){return i instanceof Qo&&l instanceof Qo||i instanceof Ko&&l instanceof Ko?ol(i.elements,l.elements,jr):i instanceof rf&&l instanceof rf?jr(i.Ie,l.Ie):i instanceof nf&&l instanceof nf}(r.transform,t.transform)}class bD{constructor(t,n){this.version=t,this.transformResults=n}}class Jn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Jn}static exists(t){return new Jn(void 0,t)}static updateTime(t){return new Jn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function qc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class bf{}function vT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new dg(r.key,Jn.none()):new eu(r.key,r.data,Jn.none());{const n=r.data,i=bn.empty();let l=new Ue(rn.comparator);for(let u of t.fields)if(!l.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?i.delete(u):i.set(u,h),l=l.add(u)}return new di(r.key,i,new Pn(l.toArray()),Jn.none())}}function wD(r,t,n){r instanceof eu?function(l,u,h){const m=l.value.clone(),p=s0(l.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(r,t,n):r instanceof di?function(l,u,h){if(!qc(l.precondition,u))return void u.convertToUnknownDocument(h.version);const m=s0(l.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(_T(l)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(r,t,n):function(l,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,t,n)}function jo(r,t,n,i){return r instanceof eu?function(u,h,m,p){if(!qc(u.precondition,h))return m;const g=u.value.clone(),v=l0(u.fieldTransforms,p,h);return g.setAll(v),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(r,t,n,i):r instanceof di?function(u,h,m,p){if(!qc(u.precondition,h))return m;const g=l0(u.fieldTransforms,p,h),v=h.data;return v.setAll(_T(u)),v.setAll(g),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(T=>T.field))}(r,t,n,i):function(u,h,m){return qc(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(r,t,n)}function SD(r,t){let n=null;for(const i of r.fieldTransforms){const l=t.data.field(i.field),u=mT(i.transform,l||null);u!=null&&(n===null&&(n=bn.empty()),n.set(i.field,u))}return n||null}function i0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(i,l){return i===void 0&&l===void 0||!(!i||!l)&&ol(i,l,(u,h)=>TD(u,h))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class eu extends bf{constructor(t,n,i,l=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class di extends bf{constructor(t,n,i,l,u=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function _T(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=r.data.field(n);t.set(n,i)}}),t}function s0(r,t,n){const i=new Map;Xt(r.length===n.length);for(let l=0;l<n.length;l++){const u=r[l],h=u.transform,m=t.data.field(u.field);i.set(u.field,ED(h,m,n[l]))}return i}function l0(r,t,n){const i=new Map;for(const l of r){const u=l.transform,h=n.data.field(l.field);i.set(l.field,_D(u,h,t))}return i}class dg extends bf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AD extends bf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(t,n,i,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=l}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(t.key)&&wD(u,t,i[l])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=jo(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=jo(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=hT();return this.mutations.forEach(l=>{const u=t.get(l.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(l.key)?null:m;const p=vT(h,m);p!==null&&i.set(l.key,p),h.isValidDocument()||h.convertToNoDocument(At.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Ut())}isEqual(t){return this.batchId===t.batchId&&ol(this.mutations,t.mutations,(n,i)=>i0(n,i))&&ol(this.baseMutations,t.baseMutations,(n,i)=>i0(n,i))}}class mg{constructor(t,n,i,l){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=l}static from(t,n,i){Xt(t.mutations.length===i.length);let l=function(){return mD}();const u=t.mutations;for(let h=0;h<u.length;h++)l=l.insert(u[h].key,i[h].version);return new mg(t,n,i,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe,qt;function CD(r){switch(r){case nt.OK:return wt();case nt.CANCELLED:case nt.UNKNOWN:case nt.DEADLINE_EXCEEDED:case nt.RESOURCE_EXHAUSTED:case nt.INTERNAL:case nt.UNAVAILABLE:case nt.UNAUTHENTICATED:return!1;case nt.INVALID_ARGUMENT:case nt.NOT_FOUND:case nt.ALREADY_EXISTS:case nt.PERMISSION_DENIED:case nt.FAILED_PRECONDITION:case nt.ABORTED:case nt.OUT_OF_RANGE:case nt.UNIMPLEMENTED:case nt.DATA_LOSS:return!0;default:return wt()}}function ET(r){if(r===void 0)return va("GRPC error has no .code"),nt.UNKNOWN;switch(r){case Oe.OK:return nt.OK;case Oe.CANCELLED:return nt.CANCELLED;case Oe.UNKNOWN:return nt.UNKNOWN;case Oe.DEADLINE_EXCEEDED:return nt.DEADLINE_EXCEEDED;case Oe.RESOURCE_EXHAUSTED:return nt.RESOURCE_EXHAUSTED;case Oe.INTERNAL:return nt.INTERNAL;case Oe.UNAVAILABLE:return nt.UNAVAILABLE;case Oe.UNAUTHENTICATED:return nt.UNAUTHENTICATED;case Oe.INVALID_ARGUMENT:return nt.INVALID_ARGUMENT;case Oe.NOT_FOUND:return nt.NOT_FOUND;case Oe.ALREADY_EXISTS:return nt.ALREADY_EXISTS;case Oe.PERMISSION_DENIED:return nt.PERMISSION_DENIED;case Oe.FAILED_PRECONDITION:return nt.FAILED_PRECONDITION;case Oe.ABORTED:return nt.ABORTED;case Oe.OUT_OF_RANGE:return nt.OUT_OF_RANGE;case Oe.UNIMPLEMENTED:return nt.UNIMPLEMENTED;case Oe.DATA_LOSS:return nt.DATA_LOSS;default:return wt()}}(qt=Oe||(Oe={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD=new ni([4294967295,4294967295],0);function o0(r){const t=HE().encode(r),n=new kE;return n.update(t),new Uint8Array(n.digest())}function u0(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),l=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new ni([n,i],0),new ni([l,u],0)]}class gg{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new No(`Invalid padding: ${n}`);if(i<0)throw new No(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new No(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new No(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*t.length-n,this.de=ni.fromNumber(this.Ee)}Ae(t,n,i){let l=t.add(n.multiply(ni.fromNumber(i)));return l.compare(OD)===1&&(l=new ni([l.getBits(0),l.getBits(1)],0)),l.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const n=o0(t),[i,l]=u0(n);for(let u=0;u<this.hashCount;u++){const h=this.Ae(i,l,u);if(!this.Re(h))return!1}return!0}static create(t,n,i){const l=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),h=new gg(u,l,n);return i.forEach(m=>h.insert(m)),h}insert(t){if(this.Ee===0)return;const n=o0(t),[i,l]=u0(n);for(let u=0;u<this.hashCount;u++){const h=this.Ae(i,l,u);this.Ve(h)}}Ve(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class No extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(t,n,i,l,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const l=new Map;return l.set(t,nu.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new wf(At.min(),l,new ve(Mt),_a(),Ut())}}class nu{constructor(t,n,i,l,u){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new nu(i,n,Ut(),Ut(),Ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(t,n,i,l){this.me=t,this.removedTargetIds=n,this.key=i,this.fe=l}}class TT{constructor(t,n){this.targetId=t,this.ge=n}}class bT{constructor(t,n,i=sn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=l}}class c0{constructor(){this.pe=0,this.ye=f0(),this.we=sn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=Ut(),n=Ut(),i=Ut();return this.ye.forEach((l,u)=>{switch(u){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:i=i.add(l);break;default:wt()}}),new nu(this.we,this.Se,t,n,i)}Me(){this.be=!1,this.ye=f0()}xe(t,n){this.be=!0,this.ye=this.ye.insert(t,n)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,Xt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class ID{constructor(t){this.ke=t,this.qe=new Map,this.Qe=_a(),this.$e=Nc(),this.Ue=Nc(),this.Ke=new ve(Mt)}We(t){for(const n of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(n,t.fe):this.ze(n,t.key,t.fe);for(const n of t.removedTargetIds)this.ze(n,t.key,t.fe)}je(t){this.forEachTarget(t,n=>{const i=this.He(n);switch(t.state){case 0:this.Je(n)&&i.Ce(t.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(t.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(n);break;case 3:this.Je(n)&&(i.Le(),i.Ce(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),i.Ce(t.resumeToken));break;default:wt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.qe.forEach((i,l)=>{this.Je(l)&&n(l)})}Ze(t){const n=t.targetId,i=t.ge.count,l=this.Xe(n);if(l){const u=l.target;if(Tm(u))if(i===0){const h=new vt(u.path);this.ze(n,h,fn.newNoDocument(h,At.min()))}else Xt(i===1);else{const h=this.et(n);if(h!==i){const m=this.tt(t),p=m?this.nt(m,t,h):1;if(p!==0){this.Ye(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,g)}}}}}tt(t){const n=t.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:l=0},hashCount:u=0}=n;let h,m;try{h=li(i).toUint8Array()}catch(p){if(p instanceof QE)return ll("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new gg(h,l,u)}catch(p){return ll(p instanceof No?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(t,n,i){return n.ge.count===i-this.st(t,n.targetId)?0:2}st(t,n){const i=this.ke.getRemoteKeysForTarget(n);let l=0;return i.forEach(u=>{const h=this.ke.it(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.ze(n,u,null),l++)}),l}ot(t){const n=new Map;this.qe.forEach((u,h)=>{const m=this.Xe(h);if(m){if(u.current&&Tm(m.target)){const p=new vt(m.target.path);this._t(p).has(h)||this.ut(h,p)||this.ze(h,p,fn.newNoDocument(p,t))}u.ve&&(n.set(h,u.Fe()),u.Me())}});let i=Ut();this.Ue.forEach((u,h)=>{let m=!0;h.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(i=i.add(u))}),this.Qe.forEach((u,h)=>h.setReadTime(t));const l=new wf(t,n,this.Ke,this.Qe,i);return this.Qe=_a(),this.$e=Nc(),this.Ue=Nc(),this.Ke=new ve(Mt),l}Ge(t,n){if(!this.Je(t))return;const i=this.ut(t,n.key)?2:0;this.He(t).xe(n.key,i),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(t))}ze(t,n,i){if(!this.Je(t))return;const l=this.He(t);this.ut(t,n)?l.xe(n,1):l.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(t)),this.Ue=this.Ue.insert(n,this.ct(n).add(t)),i&&(this.Qe=this.Qe.insert(n,i))}removeTarget(t){this.qe.delete(t)}et(t){const n=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let n=this.qe.get(t);return n||(n=new c0,this.qe.set(t,n)),n}ct(t){let n=this.Ue.get(t);return n||(n=new Ue(Mt),this.Ue=this.Ue.insert(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new Ue(Mt),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||ft("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.qe.get(t);return n&&n.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new c0),this.ke.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ut(t,n){return this.ke.getRemoteKeysForTarget(t).has(n)}}function Nc(){return new ve(vt.comparator)}function f0(){return new ve(vt.comparator)}const ND={asc:"ASCENDING",desc:"DESCENDING"},MD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VD={and:"AND",or:"OR"};class PD{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Sm(r,t){return r.useProto3Json||pf(t)?t:{value:t}}function af(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function wT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function kD(r,t){return af(r,t.toTimestamp())}function Lr(r){return Xt(!!r),At.fromTimestamp(function(n){const i=si(n);return new Le(i.seconds,i.nanos)}(r))}function pg(r,t){return Am(r,t).canonicalString()}function Am(r,t){const n=function(l){return new ue(["projects",l.projectId,"databases",l.database])}(r).child("documents");return t===void 0?n:n.child(t)}function ST(r){const t=ue.fromString(r);return Xt(CT(t)),t}function Rm(r,t){return pg(r.databaseId,t.path)}function Wd(r,t){const n=ST(t);if(n.get(1)!==r.databaseId.projectId)throw new ht(nt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ht(nt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new vt(RT(n))}function AT(r,t){return pg(r.databaseId,t)}function LD(r){const t=ST(r);return t.length===4?ue.emptyPath():RT(t)}function Dm(r){return new ue(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function RT(r){return Xt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function h0(r,t,n){return{name:Rm(r,t),fields:n.value.mapValue.fields}}function UD(r,t){let n;if("targetChange"in t){t.targetChange;const i=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:wt()}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],u=function(g,v){return g.useProto3Json?(Xt(v===void 0||typeof v=="string"),sn.fromBase64String(v||"")):(Xt(v===void 0||v instanceof Buffer||v instanceof Uint8Array),sn.fromUint8Array(v||new Uint8Array))}(r,t.targetChange.resumeToken),h=t.targetChange.cause,m=h&&function(g){const v=g.code===void 0?nt.UNKNOWN:ET(g.code);return new ht(v,g.message||"")}(h);n=new bT(i,l,u,m||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const l=Wd(r,i.document.name),u=Lr(i.document.updateTime),h=i.document.createTime?Lr(i.document.createTime):At.min(),m=new bn({mapValue:{fields:i.document.fields}}),p=fn.newFoundDocument(l,u,h,m),g=i.targetIds||[],v=i.removedTargetIds||[];n=new Hc(g,v,p.key,p)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const l=Wd(r,i.document),u=i.readTime?Lr(i.readTime):At.min(),h=fn.newNoDocument(l,u),m=i.removedTargetIds||[];n=new Hc([],m,h.key,h)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const l=Wd(r,i.document),u=i.removedTargetIds||[];n=new Hc([],u,l,null)}else{if(!("filter"in t))return wt();{t.filter;const i=t.filter;i.targetId;const{count:l=0,unchangedNames:u}=i,h=new xD(l,u),m=i.targetId;n=new TT(m,h)}}return n}function jD(r,t){let n;if(t instanceof eu)n={update:h0(r,t.key,t.value)};else if(t instanceof dg)n={delete:Rm(r,t.key)};else if(t instanceof di)n={update:h0(r,t.key,t.data),updateMask:KD(t.fieldMask)};else{if(!(t instanceof AD))return wt();n={verify:Rm(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(u,h){const m=h.transform;if(m instanceof nf)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Qo)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Ko)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof rf)return{fieldPath:h.field.canonicalString(),increment:m.Ie};throw wt()}(0,i))),t.precondition.isNone||(n.currentDocument=function(l,u){return u.updateTime!==void 0?{updateTime:kD(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:wt()}(r,t.precondition)),n}function zD(r,t){return r&&r.length>0?(Xt(t!==void 0),r.map(n=>function(l,u){let h=l.updateTime?Lr(l.updateTime):Lr(u);return h.isEqual(At.min())&&(h=Lr(u)),new bD(h,l.transformResults||[])}(n,t))):[]}function BD(r,t){return{documents:[AT(r,t.path)]}}function qD(r,t){const n={structuredQuery:{}},i=t.path;let l;t.collectionGroup!==null?(l=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=AT(r,l);const u=function(g){if(g.length!==0)return xT(dr.create(g,"and"))}(t.filters);u&&(n.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(v=>function(b){return{field:el(b.field),direction:YD(b.dir)}}(v))}(t.orderBy);h&&(n.structuredQuery.orderBy=h);const m=Sm(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{ht:n,parent:l}}function HD(r){let t=LD(r.parent);const n=r.structuredQuery,i=n.from?n.from.length:0;let l=null;if(i>0){Xt(i===1);const v=n.from[0];v.allDescendants?l=v.collectionId:t=t.child(v.collectionId)}let u=[];n.where&&(u=function(T){const b=DT(T);return b instanceof dr&&rT(b)?b.getFilters():[b]}(n.where));let h=[];n.orderBy&&(h=function(T){return T.map(b=>function(D){return new ef(nl(D.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(b))}(n.orderBy));let m=null;n.limit&&(m=function(T){let b;return b=typeof T=="object"?T.value:T,pf(b)?null:b}(n.limit));let p=null;n.startAt&&(p=function(T){const b=!!T.before,R=T.values||[];return new tf(R,b)}(n.startAt));let g=null;return n.endAt&&(g=function(T){const b=!T.before,R=T.values||[];return new tf(R,b)}(n.endAt)),uD(t,l,h,u,m,"F",p,g)}function FD(r,t){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function DT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=nl(n.unaryFilter.field);return Ie.create(i,"==",{doubleValue:NaN});case"IS_NULL":const l=nl(n.unaryFilter.field);return Ie.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=nl(n.unaryFilter.field);return Ie.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=nl(n.unaryFilter.field);return Ie.create(h,"!=",{nullValue:"NULL_VALUE"});default:return wt()}}(r):r.fieldFilter!==void 0?function(n){return Ie.create(nl(n.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return wt()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return dr.create(n.compositeFilter.filters.map(i=>DT(i)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return wt()}}(n.compositeFilter.op))}(r):wt()}function YD(r){return ND[r]}function GD(r){return MD[r]}function QD(r){return VD[r]}function el(r){return{fieldPath:r.canonicalString()}}function nl(r){return rn.fromServerFormat(r.fieldPath)}function xT(r){return r instanceof Ie?function(n){if(n.op==="=="){if(J_(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NAN"}};if(Z_(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(J_(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NOT_NAN"}};if(Z_(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:el(n.field),op:GD(n.op),value:n.value}}}(r):r instanceof dr?function(n){const i=n.getFilters().map(l=>xT(l));return i.length===1?i[0]:{compositeFilter:{op:QD(n.op),filters:i}}}(r):wt()}function KD(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function CT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(t,n,i,l,u=At.min(),h=At.min(),m=sn.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new Ja(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(t){this.Tt=t}}function XD(r){const t=HD({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?wm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(){this.Tn=new ZD}addToCollectionParentIndex(t,n){return this.Tn.add(n),et.resolve()}getCollectionParents(t,n){return et.resolve(this.Tn.getEntries(n))}addFieldIndex(t,n){return et.resolve()}deleteFieldIndex(t,n){return et.resolve()}deleteAllFieldIndexes(t){return et.resolve()}createTargetIndexes(t,n){return et.resolve()}getDocumentsMatchingTarget(t,n){return et.resolve(null)}getIndexType(t,n){return et.resolve(0)}getFieldIndexes(t,n){return et.resolve([])}getNextCollectionGroupToUpdate(t){return et.resolve(null)}getMinOffset(t,n){return et.resolve(ii.min())}getMinOffsetFromCollectionGroup(t,n){return et.resolve(ii.min())}updateCollectionGroup(t,n,i){return et.resolve()}updateIndexEntries(t,n){return et.resolve()}}class ZD{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),l=this.index[n]||new Ue(ue.comparator),u=!l.has(i);return this.index[n]=l.add(i),u}has(t){const n=t.lastSegment(),i=t.popLast(),l=this.index[n];return l&&l.has(i)}getEntries(t){return(this.index[t]||new Ue(ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},OT=41943040;class Tn{static withCacheSize(t){return new Tn(t,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(OT,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new fl(0)}static Kn(){return new fl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0="LruGarbageCollector",JD=1048576;function g0([r,t],[n,i]){const l=Mt(r,n);return l===0?Mt(t,i):l}class tx{constructor(t){this.Hn=t,this.buffer=new Ue(g0),this.Jn=0}Yn(){return++this.Jn}Zn(t){const n=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();g0(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ex{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){ft(m0,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){El(n)?ft(m0,"Ignoring IndexedDB error during garbage collection: ",n):await _l(n)}await this.er(3e5)})}}class nx{constructor(t,n){this.tr=t,this.params=n}calculateTargetCount(t,n){return this.tr.nr(t).next(i=>Math.floor(n/100*i))}nthSequenceNumber(t,n){if(n===0)return et.resolve(gf.ae);const i=new tx(n);return this.tr.forEachTarget(t,l=>i.Zn(l.sequenceNumber)).next(()=>this.tr.rr(t,l=>i.Zn(l))).next(()=>i.maxValue)}removeTargets(t,n,i){return this.tr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.tr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ft("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(d0)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),d0):this.ir(t,n))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,n){let i,l,u,h,m,p,g;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),l=this.params.maximumSequenceNumbersToCollect):l=T,h=Date.now(),this.nthSequenceNumber(t,l))).next(T=>(i=T,m=Date.now(),this.removeTargets(t,i,n))).next(T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(t,i))).next(T=>(g=Date.now(),Js()<=Ht.DEBUG&&ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${l} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:T})))}}function rx(r,t){return new nx(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(){this.changes=new es(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,fn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?et.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(t,n,i,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=l}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(l=>(i=l,this.remoteDocumentCache.getEntry(t,n))).next(l=>(i!==null&&jo(i.mutation,l,Pn.empty(),Le.now()),l))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,Ut()).next(()=>i))}getLocalViewOfDocuments(t,n,i=Ut()){const l=Xi();return this.populateOverlays(t,l,n).next(()=>this.computeViews(t,n,l,i).next(u=>{let h=Io();return u.forEach((m,p)=>{h=h.insert(m,p.overlayedDocument)}),h}))}getOverlayedDocuments(t,n){const i=Xi();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,Ut()))}populateOverlays(t,n,i){const l=[];return i.forEach(u=>{n.has(u)||l.push(u)}),this.documentOverlayCache.getOverlays(t,l).next(u=>{u.forEach((h,m)=>{n.set(h,m)})})}computeViews(t,n,i,l){let u=_a();const h=Uo(),m=function(){return Uo()}();return n.forEach((p,g)=>{const v=i.get(g.key);l.has(g.key)&&(v===void 0||v.mutation instanceof di)?u=u.insert(g.key,g):v!==void 0?(h.set(g.key,v.mutation.getFieldMask()),jo(v.mutation,g,v.mutation.getFieldMask(),Le.now())):h.set(g.key,Pn.empty())}),this.recalculateAndSaveOverlays(t,u).next(p=>(p.forEach((g,v)=>h.set(g,v)),n.forEach((g,v)=>{var T;return m.set(g,new ix(v,(T=h.get(g))!==null&&T!==void 0?T:null))}),m))}recalculateAndSaveOverlays(t,n){const i=Uo();let l=new ve((h,m)=>h-m),u=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(h=>{for(const m of h)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let v=i.get(p)||Pn.empty();v=m.applyToLocalView(g,v),i.set(p,v);const T=(l.get(m.batchId)||Ut()).add(p);l=l.insert(m.batchId,T)})}).next(()=>{const h=[],m=l.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,T=hT();v.forEach(b=>{if(!u.has(b)){const R=vT(n.get(b),i.get(b));R!==null&&T.set(b,R),u=u.add(b)}}),h.push(this.documentOverlayCache.saveOverlays(t,g,T))}return et.waitFor(h)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,l){return function(h){return vt.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):lT(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,l):this.getDocumentsMatchingCollectionQuery(t,n,i,l)}getNextDocuments(t,n,i,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,l).next(u=>{const h=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,l-u.size):et.resolve(Xi());let m=Ho,p=u;return h.next(g=>et.forEach(g,(v,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(v)?et.resolve():this.remoteDocumentCache.getEntry(t,v).next(b=>{p=p.insert(v,b)}))).next(()=>this.populateOverlays(t,g,u)).next(()=>this.computeViews(t,p,g,Ut())).next(v=>({batchId:m,changes:fT(v)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new vt(n)).next(i=>{let l=Io();return i.isFoundDocument()&&(l=l.insert(i.key,i)),l})}getDocumentsMatchingCollectionGroupQuery(t,n,i,l){const u=n.collectionGroup;let h=Io();return this.indexManager.getCollectionParents(t,u).next(m=>et.forEach(m,p=>{const g=function(T,b){return new tu(b,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,i,l).next(v=>{v.forEach((T,b)=>{h=h.insert(T,b)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(t,n,i,l){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,u,l))).next(h=>{u.forEach((p,g)=>{const v=g.getKey();h.get(v)===null&&(h=h.insert(v,fn.newInvalidDocument(v)))});let m=Io();return h.forEach((p,g)=>{const v=u.get(p);v!==void 0&&jo(v.mutation,g,Pn.empty(),Le.now()),Ef(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,n){return et.resolve(this.dr.get(n))}saveBundleMetadata(t,n){return this.dr.set(n.id,function(l){return{id:l.id,version:l.version,createTime:Lr(l.createTime)}}(n)),et.resolve()}getNamedQuery(t,n){return et.resolve(this.Ar.get(n))}saveNamedQuery(t,n){return this.Ar.set(n.name,function(l){return{name:l.name,query:XD(l.bundledQuery),readTime:Lr(l.readTime)}}(n)),et.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(){this.overlays=new ve(vt.comparator),this.Rr=new Map}getOverlay(t,n){return et.resolve(this.overlays.get(n))}getOverlays(t,n){const i=Xi();return et.forEach(n,l=>this.getOverlay(t,l).next(u=>{u!==null&&i.set(l,u)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((l,u)=>{this.Et(t,n,u)}),et.resolve()}removeOverlaysForBatchId(t,n,i){const l=this.Rr.get(i);return l!==void 0&&(l.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(i)),et.resolve()}getOverlaysForCollection(t,n,i){const l=Xi(),u=n.length+1,h=new vt(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>i&&l.set(p.getKey(),p)}return et.resolve(l)}getOverlaysForCollectionGroup(t,n,i,l){let u=new ve((g,v)=>g-v);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>i){let v=u.get(g.largestBatchId);v===null&&(v=Xi(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=Xi(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,v)=>m.set(g,v)),!(m.size()>=l)););return et.resolve(m)}Et(t,n,i){const l=this.overlays.get(i.key);if(l!==null){const h=this.Rr.get(l.largestBatchId).delete(i.key);this.Rr.set(l.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new DD(n,i));let u=this.Rr.get(n);u===void 0&&(u=Ut(),this.Rr.set(n,u)),this.Rr.set(n,u.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(t){return et.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,et.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(){this.Vr=new Ue(Ye.mr),this.gr=new Ue(Ye.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,n){const i=new Ye(t,n);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.wr(new Ye(t,n))}Sr(t,n){t.forEach(i=>this.removeReference(i,n))}br(t){const n=new vt(new ue([])),i=new Ye(n,t),l=new Ye(n,t+1),u=[];return this.gr.forEachInRange([i,l],h=>{this.wr(h),u.push(h.key)}),u}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const n=new vt(new ue([])),i=new Ye(n,t),l=new Ye(n,t+1);let u=Ut();return this.gr.forEachInRange([i,l],h=>{u=u.add(h.key)}),u}containsKey(t){const n=new Ye(t,0),i=this.Vr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class Ye{constructor(t,n){this.key=t,this.Cr=n}static mr(t,n){return vt.comparator(t.key,n.key)||Mt(t.Cr,n.Cr)}static pr(t,n){return Mt(t.Cr,n.Cr)||vt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Ue(Ye.mr)}checkEmpty(t){return et.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,l){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new RD(u,n,i,l);this.mutationQueue.push(h);for(const m of l)this.Mr=this.Mr.add(new Ye(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return et.resolve(h)}lookupMutationBatch(t,n){return et.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,l=this.Nr(i),u=l<0?0:l;return et.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(this.mutationQueue.length===0?lg:this.Fr-1)}getAllMutationBatches(t){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new Ye(n,0),l=new Ye(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([i,l],h=>{const m=this.Or(h.Cr);u.push(m)}),et.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new Ue(Mt);return n.forEach(l=>{const u=new Ye(l,0),h=new Ye(l,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,h],m=>{i=i.add(m.Cr)})}),et.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,l=i.length+1;let u=i;vt.isDocumentKey(u)||(u=u.child(""));const h=new Ye(new vt(u),0);let m=new Ue(Mt);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!i.isPrefixOf(g)&&(g.length===l&&(m=m.add(p.Cr)),!0)},h),et.resolve(this.Br(m))}Br(t){const n=[];return t.forEach(i=>{const l=this.Or(i);l!==null&&n.push(l)}),n}removeMutationBatch(t,n){Xt(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return et.forEach(n.mutations,l=>{const u=new Ye(l.key,n.batchId);return i=i.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Mr=i})}qn(t){}containsKey(t,n){const i=new Ye(n,0),l=this.Mr.firstAfterOrEqual(i);return et.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,et.resolve()}Lr(t,n){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const n=this.Nr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(t){this.kr=t,this.docs=function(){return new ve(vt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,l=this.docs.get(i),u=l?l.size:0,h=this.kr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return et.resolve(i?i.document.mutableCopy():fn.newInvalidDocument(n))}getEntries(t,n){let i=_a();return n.forEach(l=>{const u=this.docs.get(l);i=i.insert(l,u?u.document.mutableCopy():fn.newInvalidDocument(l))}),et.resolve(i)}getDocumentsMatchingQuery(t,n,i,l){let u=_a();const h=n.path,m=new vt(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||BR(zR(v),i)<=0||(l.has(v.key)||Ef(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return et.resolve(u)}getAllFromCollectionGroup(t,n,i,l){wt()}qr(t,n){return et.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new hx(this)}getSize(t){return et.resolve(this.size)}}class hx extends ax{constructor(t){super(),this.Ir=t}applyChanges(t){const n=[];return this.changes.forEach((i,l)=>{l.isValidDocument()?n.push(this.Ir.addEntry(t,l)):this.Ir.removeEntry(i)}),et.waitFor(n)}getFromCache(t,n){return this.Ir.getEntry(t,n)}getAllFromCache(t,n){return this.Ir.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(t){this.persistence=t,this.Qr=new es(n=>cg(n),fg),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.$r=0,this.Ur=new yg,this.targetCount=0,this.Kr=fl.Un()}forEachTarget(t,n){return this.Qr.forEach((i,l)=>n(l)),et.resolve()}getLastRemoteSnapshotVersion(t){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return et.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.$r&&(this.$r=n),et.resolve()}zn(t){this.Qr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Kr=new fl(n),this.highestTargetId=n),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,n){return this.zn(n),this.targetCount+=1,et.resolve()}updateTargetData(t,n){return this.zn(n),et.resolve()}removeTargetData(t,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,et.resolve()}removeTargets(t,n,i){let l=0;const u=[];return this.Qr.forEach((h,m)=>{m.sequenceNumber<=n&&i.get(m.targetId)===null&&(this.Qr.delete(h),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),l++)}),et.waitFor(u).next(()=>l)}getTargetCount(t){return et.resolve(this.targetCount)}getTargetData(t,n){const i=this.Qr.get(n)||null;return et.resolve(i)}addMatchingKeys(t,n,i){return this.Ur.yr(n,i),et.resolve()}removeMatchingKeys(t,n,i){this.Ur.Sr(n,i);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach(h=>{u.push(l.markPotentiallyOrphaned(t,h))}),et.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.Ur.br(n),et.resolve()}getMatchingKeysForTargetId(t,n){const i=this.Ur.vr(n);return et.resolve(i)}containsKey(t,n){return et.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(t,n){this.Wr={},this.overlays={},this.Gr=new gf(0),this.zr=!1,this.zr=!0,this.jr=new ux,this.referenceDelegate=t(this),this.Hr=new dx(this),this.indexManager=new WD,this.remoteDocumentCache=function(l){return new fx(l)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new $D(n),this.Yr=new lx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new ox,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.Wr[t.toKey()];return i||(i=new cx(n,this.referenceDelegate),this.Wr[t.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,n,i){ft("MemoryPersistence","Starting transaction:",t);const l=new mx(this.Gr.next());return this.referenceDelegate.Zr(),i(l).next(u=>this.referenceDelegate.Xr(l).next(()=>u)).toPromise().then(u=>(l.raiseOnCommittedEvent(),u))}ei(t,n){return et.or(Object.values(this.Wr).map(i=>()=>i.containsKey(t,n)))}}class mx extends HR{constructor(t){super(),this.currentSequenceNumber=t}}class vg{constructor(t){this.persistence=t,this.ti=new yg,this.ni=null}static ri(t){return new vg(t)}get ii(){if(this.ni)return this.ni;throw wt()}addReference(t,n,i){return this.ti.addReference(i,n),this.ii.delete(i.toString()),et.resolve()}removeReference(t,n,i){return this.ti.removeReference(i,n),this.ii.add(i.toString()),et.resolve()}markPotentiallyOrphaned(t,n){return this.ii.add(n.toString()),et.resolve()}removeTarget(t,n){this.ti.br(n.targetId).forEach(l=>this.ii.add(l.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(l=>{l.forEach(u=>this.ii.add(u.toString()))}).next(()=>i.removeTargetData(t,n))}Zr(){this.ni=new Set}Xr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.ii,i=>{const l=vt.fromPath(i);return this.si(t,l).next(u=>{u||n.removeEntry(l,At.min())})}).next(()=>(this.ni=null,n.apply(t)))}updateLimboDocument(t,n){return this.si(t,n).next(i=>{i?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(t){return 0}si(t,n){return et.or([()=>et.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.ei(t,n)])}}class sf{constructor(t,n){this.persistence=t,this.oi=new es(i=>GR(i.path),(i,l)=>i.isEqual(l)),this.garbageCollector=rx(this,n)}static ri(t,n){return new sf(t,n)}Zr(){}Xr(t){return et.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}nr(t){const n=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>n.next(l=>i+l))}sr(t){let n=0;return this.rr(t,i=>{n++}).next(()=>n)}rr(t,n){return et.forEach(this.oi,(i,l)=>this.ar(t,i,l).next(u=>u?et.resolve():n(l)))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.qr(t,h=>this.ar(t,h,n).next(m=>{m||(i++,u.removeEntry(h,At.min()))})).next(()=>u.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,n){return this.oi.set(n,t.currentSequenceNumber),et.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.oi.set(i,t.currentSequenceNumber),et.resolve()}removeReference(t,n,i){return this.oi.set(i,t.currentSequenceNumber),et.resolve()}updateLimboDocument(t,n){return this.oi.set(n,t.currentSequenceNumber),et.resolve()}Jr(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=zc(t.data.value)),n}ar(t,n,i){return et.or([()=>this.persistence.ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.oi.get(n);return et.resolve(l!==void 0&&l>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(t,n,i,l){this.targetId=t,this.fromCache=n,this.Hi=i,this.Ji=l}static Yi(t,n){let i=Ut(),l=Ut();for(const u of n.docChanges)switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new _g(t,n.fromCache,i,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return c1()?8:FR(o1())>0?6:4}()}initialize(t,n){this.ns=t,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(t,n,i,l){const u={result:null};return this.rs(t,n).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ss(t,n,l,i).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new gx;return this._s(t,n,h).next(m=>{if(u.result=m,this.Xi)return this.us(t,n,h,m.size)})}).next(()=>u.result)}us(t,n,i,l){return i.documentReadCount<this.es?(Js()<=Ht.DEBUG&&ft("QueryEngine","SDK will not create cache indexes for query:",tl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),et.resolve()):(Js()<=Ht.DEBUG&&ft("QueryEngine","Query:",tl(n),"scans",i.documentReadCount,"local documents and returns",l,"documents as results."),i.documentReadCount>this.ts*l?(Js()<=Ht.DEBUG&&ft("QueryEngine","The SDK decides to create cache indexes for query:",tl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,kr(n))):et.resolve())}rs(t,n){if(r0(n))return et.resolve(null);let i=kr(n);return this.indexManager.getIndexType(t,i).next(l=>l===0?null:(n.limit!==null&&l===1&&(n=wm(n,null,"F"),i=kr(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(u=>{const h=Ut(...u);return this.ns.getDocuments(t,h).next(m=>this.indexManager.getMinOffset(t,i).next(p=>{const g=this.cs(n,m);return this.ls(n,g,h,p.readTime)?this.rs(t,wm(n,null,"F")):this.hs(t,g,n,p)}))})))}ss(t,n,i,l){return r0(n)||l.isEqual(At.min())?et.resolve(null):this.ns.getDocuments(t,i).next(u=>{const h=this.cs(n,u);return this.ls(n,h,i,l)?et.resolve(null):(Js()<=Ht.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),tl(n)),this.hs(t,h,n,jR(l,Ho)).next(m=>m))})}cs(t,n){let i=new Ue(uT(t));return n.forEach((l,u)=>{Ef(t,u)&&(i=i.add(u))}),i}ls(t,n,i,l){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}_s(t,n,i){return Js()<=Ht.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",tl(n)),this.ns.getDocumentsMatchingQuery(t,n,ii.min(),i)}hs(t,n,i,l){return this.ns.getDocumentsMatchingQuery(t,i,l).next(u=>(n.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eg="LocalStore",yx=3e8;class vx{constructor(t,n,i,l){this.persistence=t,this.Ps=n,this.serializer=l,this.Ts=new ve(Mt),this.Is=new es(u=>cg(u),fg),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(i)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new sx(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ts))}}function _x(r,t,n,i){return new vx(r,t,n,i)}async function NT(r,t){const n=Rt(r);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let l;return n.mutationQueue.getAllMutationBatches(i).next(u=>(l=u,n.As(t),n.mutationQueue.getAllMutationBatches(i))).next(u=>{const h=[],m=[];let p=Ut();for(const g of l){h.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return n.localDocuments.getDocuments(i,p).next(g=>({Rs:g,removedBatchIds:h,addedBatchIds:m}))})})}function Ex(r,t){const n=Rt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const l=t.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,g,v){const T=g.batch,b=T.keys();let R=et.resolve();return b.forEach(D=>{R=R.next(()=>v.getEntry(p,D)).next(k=>{const V=g.docVersions.get(D);Xt(V!==null),k.version.compareTo(V)<0&&(T.applyToRemoteDocument(k,g),k.isValidDocument()&&(k.setReadTime(g.commitVersion),v.addEntry(k)))})}),R.next(()=>m.mutationQueue.removeMutationBatch(p,T))}(n,i,t,u).next(()=>u.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,l,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(m){let p=Ut();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(t))).next(()=>n.localDocuments.getDocuments(i,l))})}function MT(r){const t=Rt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Hr.getLastRemoteSnapshotVersion(n))}function Tx(r,t){const n=Rt(r),i=t.snapshotVersion;let l=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=n.ds.newChangeBuffer({trackRemovals:!0});l=n.Ts;const m=[];t.targetChanges.forEach((v,T)=>{const b=l.get(T);if(!b)return;m.push(n.Hr.removeMatchingKeys(u,v.removedDocuments,T).next(()=>n.Hr.addMatchingKeys(u,v.addedDocuments,T)));let R=b.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(T)!==null?R=R.withResumeToken(sn.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):v.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(v.resumeToken,i)),l=l.insert(T,R),function(k,V,H){return k.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=yx?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(b,R,v)&&m.push(n.Hr.updateTargetData(u,R))});let p=_a(),g=Ut();if(t.documentUpdates.forEach(v=>{t.resolvedLimboDocuments.has(v)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))}),m.push(bx(u,h,t.documentUpdates).next(v=>{p=v.Vs,g=v.fs})),!i.isEqual(At.min())){const v=n.Hr.getLastRemoteSnapshotVersion(u).next(T=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,i));m.push(v)}return et.waitFor(m).next(()=>h.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ts=l,u))}function bx(r,t,n){let i=Ut(),l=Ut();return n.forEach(u=>i=i.add(u)),t.getEntries(r,i).next(u=>{let h=_a();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(l=l.add(m)),p.isNoDocument()&&p.version.isEqual(At.min())?(t.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),h=h.insert(m,p)):ft(Eg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Vs:h,fs:l}})}function wx(r,t){const n=Rt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=lg),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function Sx(r,t){const n=Rt(r);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let l;return n.Hr.getTargetData(i,t).next(u=>u?(l=u,et.resolve(l)):n.Hr.allocateTargetId(i).next(h=>(l=new Ja(t,h,"TargetPurposeListen",i.currentSequenceNumber),n.Hr.addTargetData(i,l).next(()=>l))))}).then(i=>{const l=n.Ts.get(i.targetId);return(l===null||i.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(i.targetId,i),n.Is.set(t,i.targetId)),i})}async function xm(r,t,n){const i=Rt(r),l=i.Ts.get(t),u=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",u,h=>i.persistence.referenceDelegate.removeTarget(h,l))}catch(h){if(!El(h))throw h;ft(Eg,`Failed to update sequence numbers for target ${t}: ${h}`)}i.Ts=i.Ts.remove(t),i.Is.delete(l.target)}function p0(r,t,n){const i=Rt(r);let l=At.min(),u=Ut();return i.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,v){const T=Rt(p),b=T.Is.get(v);return b!==void 0?et.resolve(T.Ts.get(b)):T.Hr.getTargetData(g,v)}(i,h,kr(t)).next(m=>{if(m)return l=m.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(h,m.targetId).next(p=>{u=p})}).next(()=>i.Ps.getDocumentsMatchingQuery(h,t,n?l:At.min(),n?u:Ut())).next(m=>(Ax(i,fD(t),m),{documents:m,gs:u})))}function Ax(r,t,n){let i=r.Es.get(t)||At.min();n.forEach((l,u)=>{u.readTime.compareTo(i)>0&&(i=u.readTime)}),r.Es.set(t,i)}class y0{constructor(){this.activeTargetIds=yD()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Rx{constructor(){this.ho=new y0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,n,i){this.Po[t]=n}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new y0,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0="ConnectivityMonitor";class _0{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ft(v0,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){ft(v0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mc=null;function Cm(){return Mc===null?Mc=function(){return 268435456+Math.round(2147483648*Math.random())}():Mc++,"0x"+Mc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd="RestConnection",xx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Cx{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo=`projects/${i}/databases/${l}`,this.wo=this.databaseId.database===Zc?`project_id=${i}`:`project_id=${i}&database_id=${l}`}So(t,n,i,l,u){const h=Cm(),m=this.bo(t,n.toUriEncodedString());ft(Zd,`Sending RPC '${t}' ${h}:`,m,i);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,l,u),this.vo(t,m,p,i).then(g=>(ft(Zd,`Received RPC '${t}' ${h}: `,g),g),g=>{throw ll(Zd,`RPC '${t}' ${h} failed with error: `,g,"url: ",m,"request:",i),g})}Co(t,n,i,l,u,h){return this.So(t,n,i,l,u)}Do(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vl}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,u)=>t[u]=l),i&&i.headers.forEach((l,u)=>t[u]=l)}bo(t,n){const i=xx[t];return`${this.po}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un="WebChannelConnection";class Ix extends Cx{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,n,i,l){const u=Cm();return new Promise((h,m)=>{const p=new LE;p.setWithCredentials(!0),p.listenOnce(UE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case jc.NO_ERROR:const v=p.getResponseJson();ft(un,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(v)),h(v);break;case jc.TIMEOUT:ft(un,`RPC '${t}' ${u} timed out`),m(new ht(nt.DEADLINE_EXCEEDED,"Request time out"));break;case jc.HTTP_ERROR:const T=p.getStatus();if(ft(un,`RPC '${t}' ${u} failed with status:`,T,"response text:",p.getResponseText()),T>0){let b=p.getResponseJson();Array.isArray(b)&&(b=b[0]);const R=b==null?void 0:b.error;if(R&&R.status&&R.message){const D=function(V){const H=V.toLowerCase().replace(/_/g,"-");return Object.values(nt).indexOf(H)>=0?H:nt.UNKNOWN}(R.status);m(new ht(D,R.message))}else m(new ht(nt.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ht(nt.UNAVAILABLE,"Connection failed."));break;default:wt()}}finally{ft(un,`RPC '${t}' ${u} completed.`)}});const g=JSON.stringify(l);ft(un,`RPC '${t}' ${u} sending request:`,l),p.send(n,"POST",g,i,15)})}Wo(t,n,i){const l=Cm(),u=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=BE(),m=zE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,i),p.encodeInitMessageHeaders=!0;const v=u.join("");ft(un,`Creating RPC '${t}' stream ${l}: ${v}`,p);const T=h.createWebChannel(v,p);let b=!1,R=!1;const D=new Ox({Fo:V=>{R?ft(un,`Not sending because RPC '${t}' stream ${l} is closed:`,V):(b||(ft(un,`Opening RPC '${t}' stream ${l} transport.`),T.open(),b=!0),ft(un,`RPC '${t}' stream ${l} sending:`,V),T.send(V))},Mo:()=>T.close()}),k=(V,H,rt)=>{V.listen(H,Z=>{try{rt(Z)}catch(ut){setTimeout(()=>{throw ut},0)}})};return k(T,Oo.EventType.OPEN,()=>{R||(ft(un,`RPC '${t}' stream ${l} transport opened.`),D.Qo())}),k(T,Oo.EventType.CLOSE,()=>{R||(R=!0,ft(un,`RPC '${t}' stream ${l} transport closed`),D.Uo())}),k(T,Oo.EventType.ERROR,V=>{R||(R=!0,ll(un,`RPC '${t}' stream ${l} transport errored:`,V),D.Uo(new ht(nt.UNAVAILABLE,"The operation could not be completed")))}),k(T,Oo.EventType.MESSAGE,V=>{var H;if(!R){const rt=V.data[0];Xt(!!rt);const Z=rt,ut=(Z==null?void 0:Z.error)||((H=Z[0])===null||H===void 0?void 0:H.error);if(ut){ft(un,`RPC '${t}' stream ${l} received error:`,ut);const ct=ut.status;let it=function(x){const N=Oe[x];if(N!==void 0)return ET(N)}(ct),M=ut.message;it===void 0&&(it=nt.INTERNAL,M="Unknown error status: "+ct+" with message "+ut.message),R=!0,D.Uo(new ht(it,M)),T.close()}else ft(un,`RPC '${t}' stream ${l} received:`,rt),D.Ko(rt)}}),k(m,jE.STAT_EVENT,V=>{V.stat===pm.PROXY?ft(un,`RPC '${t}' stream ${l} detected buffering proxy`):V.stat===pm.NOPROXY&&ft(un,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{D.$o()},0),D}}function Jd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(r){return new PD(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(t,n,i=1e3,l=1.5,u=6e4){this.Ti=t,this.timerId=n,this.Go=i,this.zo=l,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const n=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),l=Math.max(0,n-i);l>0&&ft("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,l,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0="PersistentStream";class PT{constructor(t,n,i,l,u,h,m,p){this.Ti=t,this.n_=i,this.r_=l,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new VT(t,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():n&&n.code===nt.RESOURCE_EXHAUSTED?(va(n.toString()),va("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===nt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,l])=>{this.i_===n&&this.V_(i,l)},i=>{t(()=>{const l=new ht(nt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(l)})})}V_(t,n){const i=this.R_(this.i_);this.stream=this.f_(t,n),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(l=>{i(()=>this.m_(l))}),this.stream.onMessage(l=>{i(()=>++this.__==1?this.g_(l):this.onNext(l))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return ft(E0,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return n=>{this.Ti.enqueueAndForget(()=>this.i_===t?n():(ft(E0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Nx extends PT{constructor(t,n,i,l,u,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,l,h),this.serializer=u}f_(t,n){return this.connection.Wo("Listen",t,n)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const n=UD(this.serializer,t),i=function(u){if(!("targetChange"in u))return At.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?At.min():h.readTime?Lr(h.readTime):At.min()}(t);return this.listener.p_(n,i)}y_(t){const n={};n.database=Dm(this.serializer),n.addTarget=function(u,h){let m;const p=h.target;if(m=Tm(p)?{documents:BD(u,p)}:{query:qD(u,p).ht},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=wT(u,h.resumeToken);const g=Sm(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(At.min())>0){m.readTime=af(u,h.snapshotVersion.toTimestamp());const g=Sm(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,t);const i=FD(this.serializer,t);i&&(n.labels=i),this.I_(n)}w_(t){const n={};n.database=Dm(this.serializer),n.removeTarget=t,this.I_(n)}}class Mx extends PT{constructor(t,n,i,l,u,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,l,h),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,n){return this.connection.Wo("Write",t,n)}g_(t){return Xt(!!t.streamToken),this.lastStreamToken=t.streamToken,Xt(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){Xt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const n=zD(t.writeResults,t.commitTime),i=Lr(t.commitTime);return this.listener.v_(i,n)}C_(){const t={};t.database=Dm(this.serializer),this.I_(t)}b_(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>jD(this.serializer,i))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{}class Px extends Vx{constructor(t,n,i,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=l,this.F_=!1}M_(){if(this.F_)throw new ht(nt.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,i,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.So(t,Am(n,i),l,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ht(nt.UNKNOWN,u.toString())})}Co(t,n,i,l,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Co(t,Am(n,i),l,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ht(nt.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class kx{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(va(n),this.N_=!1):ft("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts="RemoteStore";class Lx{constructor(t,n,i,l,u){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(h=>{i.enqueueAndForget(async()=>{ns(this)&&(ft(ts,"Restarting streams for network reachability change."),await async function(p){const g=Rt(p);g.W_.add(4),await ru(g),g.j_.set("Unknown"),g.W_.delete(4),await Af(g)}(this))})}),this.j_=new kx(i,l)}}async function Af(r){if(ns(r))for(const t of r.G_)await t(!0)}async function ru(r){for(const t of r.G_)await t(!1)}function kT(r,t){const n=Rt(r);n.K_.has(t.targetId)||(n.K_.set(t.targetId,t),Sg(n)?wg(n):Tl(n).c_()&&bg(n,t))}function Tg(r,t){const n=Rt(r),i=Tl(n);n.K_.delete(t),i.c_()&&LT(n,t),n.K_.size===0&&(i.c_()?i.P_():ns(n)&&n.j_.set("Unknown"))}function bg(r,t){if(r.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Tl(r).y_(t)}function LT(r,t){r.H_.Ne(t),Tl(r).w_(t)}function wg(r){r.H_=new ID({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>r.K_.get(t)||null,it:()=>r.datastore.serializer.databaseId}),Tl(r).start(),r.j_.B_()}function Sg(r){return ns(r)&&!Tl(r).u_()&&r.K_.size>0}function ns(r){return Rt(r).W_.size===0}function UT(r){r.H_=void 0}async function Ux(r){r.j_.set("Online")}async function jx(r){r.K_.forEach((t,n)=>{bg(r,t)})}async function zx(r,t){UT(r),Sg(r)?(r.j_.q_(t),wg(r)):r.j_.set("Unknown")}async function Bx(r,t,n){if(r.j_.set("Online"),t instanceof bT&&t.state===2&&t.cause)try{await async function(l,u){const h=u.cause;for(const m of u.targetIds)l.K_.has(m)&&(await l.remoteSyncer.rejectListen(m,h),l.K_.delete(m),l.H_.removeTarget(m))}(r,t)}catch(i){ft(ts,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await lf(r,i)}else if(t instanceof Hc?r.H_.We(t):t instanceof TT?r.H_.Ze(t):r.H_.je(t),!n.isEqual(At.min()))try{const i=await MT(r.localStore);n.compareTo(i)>=0&&await function(u,h){const m=u.H_.ot(h);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.K_.get(g);v&&u.K_.set(g,v.withResumeToken(p.resumeToken,h))}}),m.targetMismatches.forEach((p,g)=>{const v=u.K_.get(p);if(!v)return;u.K_.set(p,v.withResumeToken(sn.EMPTY_BYTE_STRING,v.snapshotVersion)),LT(u,p);const T=new Ja(v.target,p,g,v.sequenceNumber);bg(u,T)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(i){ft(ts,"Failed to raise snapshot:",i),await lf(r,i)}}async function lf(r,t,n){if(!El(t))throw t;r.W_.add(1),await ru(r),r.j_.set("Offline"),n||(n=()=>MT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ft(ts,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await Af(r)})}function jT(r,t){return t().catch(n=>lf(r,n,t))}async function Rf(r){const t=Rt(r),n=ui(t);let i=t.U_.length>0?t.U_[t.U_.length-1].batchId:lg;for(;qx(t);)try{const l=await wx(t.localStore,i);if(l===null){t.U_.length===0&&n.P_();break}i=l.batchId,Hx(t,l)}catch(l){await lf(t,l)}zT(t)&&BT(t)}function qx(r){return ns(r)&&r.U_.length<10}function Hx(r,t){r.U_.push(t);const n=ui(r);n.c_()&&n.S_&&n.b_(t.mutations)}function zT(r){return ns(r)&&!ui(r).u_()&&r.U_.length>0}function BT(r){ui(r).start()}async function Fx(r){ui(r).C_()}async function Yx(r){const t=ui(r);for(const n of r.U_)t.b_(n.mutations)}async function Gx(r,t,n){const i=r.U_.shift(),l=mg.from(i,t,n);await jT(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),await Rf(r)}async function Qx(r,t){t&&ui(r).S_&&await async function(i,l){if(function(h){return CD(h)&&h!==nt.ABORTED}(l.code)){const u=i.U_.shift();ui(i).h_(),await jT(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,l)),await Rf(i)}}(r,t),zT(r)&&BT(r)}async function T0(r,t){const n=Rt(r);n.asyncQueue.verifyOperationInProgress(),ft(ts,"RemoteStore received new credentials");const i=ns(n);n.W_.add(3),await ru(n),i&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await Af(n)}async function Kx(r,t){const n=Rt(r);t?(n.W_.delete(2),await Af(n)):t||(n.W_.add(2),await ru(n),n.j_.set("Unknown"))}function Tl(r){return r.J_||(r.J_=function(n,i,l){const u=Rt(n);return u.M_(),new Nx(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(r.datastore,r.asyncQueue,{xo:Ux.bind(null,r),No:jx.bind(null,r),Lo:zx.bind(null,r),p_:Bx.bind(null,r)}),r.G_.push(async t=>{t?(r.J_.h_(),Sg(r)?wg(r):r.j_.set("Unknown")):(await r.J_.stop(),UT(r))})),r.J_}function ui(r){return r.Y_||(r.Y_=function(n,i,l){const u=Rt(n);return u.M_(),new Mx(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:Fx.bind(null,r),Lo:Qx.bind(null,r),D_:Yx.bind(null,r),v_:Gx.bind(null,r)}),r.G_.push(async t=>{t?(r.Y_.h_(),await Rf(r)):(await r.Y_.stop(),r.U_.length>0&&(ft(ts,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(t,n,i,l,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=l,this.removalCallback=u,this.deferred=new ga,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,l,u){const h=Date.now()+i,m=new Ag(t,n,h,l,u);return m.start(i),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(nt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rg(r,t){if(va("AsyncQueue",`${t}: ${r}`),El(r))return new ht(nt.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{static emptySet(t){return new sl(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||vt.comparator(n.key,i.key):(n,i)=>vt.comparator(n.key,i.key),this.keyedMap=Io(),this.sortedSet=new ve(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof sl)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=i.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new sl;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(){this.Z_=new ve(vt.comparator)}track(t){const n=t.doc.key,i=this.Z_.get(n);i?t.type!==0&&i.type===3?this.Z_=this.Z_.insert(n,t):t.type===3&&i.type!==1?this.Z_=this.Z_.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.Z_=this.Z_.remove(n):t.type===1&&i.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):wt():this.Z_=this.Z_.insert(n,t)}X_(){const t=[];return this.Z_.inorderTraversal((n,i)=>{t.push(i)}),t}}class hl{constructor(t,n,i,l,u,h,m,p,g){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=l,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,n,i,l,u){const h=[];return n.forEach(m=>{h.push({type:0,doc:m})}),new hl(t,n,sl.emptySet(n),h,i,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&_f(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==i[l].type||!n[l].doc.isEqual(i[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class Xx{constructor(){this.queries=w0(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,i){const l=Rt(n),u=l.queries;l.queries=w0(),u.forEach((h,m)=>{for(const p of m.ta)p.onError(i)})})(this,new ht(nt.ABORTED,"Firestore shutting down"))}}function w0(){return new es(r=>oT(r),_f)}async function Dg(r,t){const n=Rt(r);let i=3;const l=t.query;let u=n.queries.get(l);u?!u.na()&&t.ra()&&(i=2):(u=new $x,i=t.ra()?0:1);try{switch(i){case 0:u.ea=await n.onListen(l,!0);break;case 1:u.ea=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(h){const m=Rg(h,`Initialization of query '${tl(t.query)}' failed`);return void t.onError(m)}n.queries.set(l,u),u.ta.push(t),t.sa(n.onlineState),u.ea&&t.oa(u.ea)&&Cg(n)}async function xg(r,t){const n=Rt(r),i=t.query;let l=3;const u=n.queries.get(i);if(u){const h=u.ta.indexOf(t);h>=0&&(u.ta.splice(h,1),u.ta.length===0?l=t.ra()?0:1:!u.na()&&t.ra()&&(l=2))}switch(l){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function Wx(r,t){const n=Rt(r);let i=!1;for(const l of t){const u=l.query,h=n.queries.get(u);if(h){for(const m of h.ta)m.oa(l)&&(i=!0);h.ea=l}}i&&Cg(n)}function Zx(r,t,n){const i=Rt(r),l=i.queries.get(t);if(l)for(const u of l.ta)u.onError(n);i.queries.delete(t)}function Cg(r){r.ia.forEach(t=>{t.next()})}var Om,S0;(S0=Om||(Om={}))._a="default",S0.Cache="cache";class Og{constructor(t,n,i){this.query=t,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(t){if(!this.options.includeMetadataChanges){const i=[];for(const l of t.docChanges)l.type!==3&&i.push(l);t=new hl(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ua?this.la(t)&&(this.aa.next(t),n=!0):this.ha(t,this.onlineState)&&(this.Pa(t),n=!0),this.ca=t,n}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),n=!0),n}ha(t,n){if(!t.fromCache||!this.ra())return!0;const i=n!=="Offline";return(!this.options.Ta||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}la(t){if(t.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(t){t=hl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==Om.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(t){this.key=t}}class HT{constructor(t){this.key=t}}class Jx{constructor(t,n){this.query=t,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ut(),this.mutatedKeys=Ut(),this.ya=uT(t),this.wa=new sl(this.ya)}get Sa(){return this.fa}ba(t,n){const i=n?n.Da:new b0,l=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,h=l,m=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,g=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((v,T)=>{const b=l.get(v),R=Ef(this.query,T)?T:null,D=!!b&&this.mutatedKeys.has(b.key),k=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let V=!1;b&&R?b.data.isEqual(R.data)?D!==k&&(i.track({type:3,doc:R}),V=!0):this.va(b,R)||(i.track({type:2,doc:R}),V=!0,(p&&this.ya(R,p)>0||g&&this.ya(R,g)<0)&&(m=!0)):!b&&R?(i.track({type:0,doc:R}),V=!0):b&&!R&&(i.track({type:1,doc:b}),V=!0,(p||g)&&(m=!0)),V&&(R?(h=h.add(R),u=k?u.add(v):u.delete(v)):(h=h.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),u=u.delete(v.key),i.track({type:1,doc:v})}return{wa:h,Da:i,ls:m,mutatedKeys:u}}va(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,l){const u=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const h=t.Da.X_();h.sort((v,T)=>function(R,D){const k=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt()}};return k(R)-k(D)}(v.type,T.type)||this.ya(v.doc,T.doc)),this.Ca(i),l=l!=null&&l;const m=n&&!l?this.Fa():[],p=this.pa.size===0&&this.current&&!l?1:0,g=p!==this.ga;return this.ga=p,h.length!==0||g?{snapshot:new hl(this.query,t.wa,u,h,t.mutatedKeys,p===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new b0,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Ut(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const n=[];return t.forEach(i=>{this.pa.has(i)||n.push(new HT(i))}),this.pa.forEach(i=>{t.has(i)||n.push(new qT(i))}),n}Oa(t){this.fa=t.gs,this.pa=Ut();const n=this.ba(t.documents);return this.applyChanges(n,!0)}Na(){return hl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Ig="SyncEngine";class tC{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class eC{constructor(t){this.key=t,this.Ba=!1}}class nC{constructor(t,n,i,l,u,h){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new es(m=>oT(m),_f),this.qa=new Map,this.Qa=new Set,this.$a=new ve(vt.comparator),this.Ua=new Map,this.Ka=new yg,this.Wa={},this.Ga=new Map,this.za=fl.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function rC(r,t,n=!0){const i=$T(r);let l;const u=i.ka.get(t);return u?(i.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.Na()):l=await FT(i,t,n,!0),l}async function aC(r,t){const n=$T(r);await FT(n,t,!0,!1)}async function FT(r,t,n,i){const l=await Sx(r.localStore,kr(t)),u=l.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let m;return i&&(m=await iC(r,t,u,h==="current",l.resumeToken)),r.isPrimaryClient&&n&&kT(r.remoteStore,l),m}async function iC(r,t,n,i,l){r.Ha=(T,b,R)=>async function(k,V,H,rt){let Z=V.view.ba(H);Z.ls&&(Z=await p0(k.localStore,V.query,!1).then(({documents:M})=>V.view.ba(M,Z)));const ut=rt&&rt.targetChanges.get(V.targetId),ct=rt&&rt.targetMismatches.get(V.targetId)!=null,it=V.view.applyChanges(Z,k.isPrimaryClient,ut,ct);return R0(k,V.targetId,it.Ma),it.snapshot}(r,T,b,R);const u=await p0(r.localStore,t,!0),h=new Jx(t,u.gs),m=h.ba(u.documents),p=nu.createSynthesizedTargetChangeForCurrentChange(n,i&&r.onlineState!=="Offline",l),g=h.applyChanges(m,r.isPrimaryClient,p);R0(r,n,g.Ma);const v=new tC(t,n,h);return r.ka.set(t,v),r.qa.has(n)?r.qa.get(n).push(t):r.qa.set(n,[t]),g.snapshot}async function sC(r,t,n){const i=Rt(r),l=i.ka.get(t),u=i.qa.get(l.targetId);if(u.length>1)return i.qa.set(l.targetId,u.filter(h=>!_f(h,t))),void i.ka.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(l.targetId),i.sharedClientState.isActiveQueryTarget(l.targetId)||await xm(i.localStore,l.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(l.targetId),n&&Tg(i.remoteStore,l.targetId),Im(i,l.targetId)}).catch(_l)):(Im(i,l.targetId),await xm(i.localStore,l.targetId,!0))}async function lC(r,t){const n=Rt(r),i=n.ka.get(t),l=n.qa.get(i.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Tg(n.remoteStore,i.targetId))}async function oC(r,t,n){const i=gC(r);try{const l=await function(h,m){const p=Rt(h),g=Le.now(),v=m.reduce((R,D)=>R.add(D.key),Ut());let T,b;return p.persistence.runTransaction("Locally write mutations","readwrite",R=>{let D=_a(),k=Ut();return p.ds.getEntries(R,v).next(V=>{D=V,D.forEach((H,rt)=>{rt.isValidDocument()||(k=k.add(H))})}).next(()=>p.localDocuments.getOverlayedDocuments(R,D)).next(V=>{T=V;const H=[];for(const rt of m){const Z=SD(rt,T.get(rt.key).overlayedDocument);Z!=null&&H.push(new di(rt.key,Z,tT(Z.value.mapValue),Jn.exists(!0)))}return p.mutationQueue.addMutationBatch(R,g,H,m)}).next(V=>{b=V;const H=V.applyToLocalDocumentSet(T,k);return p.documentOverlayCache.saveOverlays(R,V.batchId,H)})}).then(()=>({batchId:b.batchId,changes:fT(T)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(l.batchId),function(h,m,p){let g=h.Wa[h.currentUser.toKey()];g||(g=new ve(Mt)),g=g.insert(m,p),h.Wa[h.currentUser.toKey()]=g}(i,l.batchId,n),await au(i,l.changes),await Rf(i.remoteStore)}catch(l){const u=Rg(l,"Failed to persist write");n.reject(u)}}async function YT(r,t){const n=Rt(r);try{const i=await Tx(n.localStore,t);t.targetChanges.forEach((l,u)=>{const h=n.Ua.get(u);h&&(Xt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?h.Ba=!0:l.modifiedDocuments.size>0?Xt(h.Ba):l.removedDocuments.size>0&&(Xt(h.Ba),h.Ba=!1))}),await au(n,i,t)}catch(i){await _l(i)}}function A0(r,t,n){const i=Rt(r);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const l=[];i.ka.forEach((u,h)=>{const m=h.view.sa(t);m.snapshot&&l.push(m.snapshot)}),function(h,m){const p=Rt(h);p.onlineState=m;let g=!1;p.queries.forEach((v,T)=>{for(const b of T.ta)b.sa(m)&&(g=!0)}),g&&Cg(p)}(i.eventManager,t),l.length&&i.La.p_(l),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function uC(r,t,n){const i=Rt(r);i.sharedClientState.updateQueryState(t,"rejected",n);const l=i.Ua.get(t),u=l&&l.key;if(u){let h=new ve(vt.comparator);h=h.insert(u,fn.newNoDocument(u,At.min()));const m=Ut().add(u),p=new wf(At.min(),new Map,new ve(Mt),h,m);await YT(i,p),i.$a=i.$a.remove(u),i.Ua.delete(t),Ng(i)}else await xm(i.localStore,t,!1).then(()=>Im(i,t,n)).catch(_l)}async function cC(r,t){const n=Rt(r),i=t.batch.batchId;try{const l=await Ex(n.localStore,t);QT(n,i,null),GT(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await au(n,l)}catch(l){await _l(l)}}async function fC(r,t,n){const i=Rt(r);try{const l=await function(h,m){const p=Rt(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next(T=>(Xt(T!==null),v=T.keys(),p.mutationQueue.removeMutationBatch(g,T))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>p.localDocuments.getDocuments(g,v))})}(i.localStore,t);QT(i,t,n),GT(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await au(i,l)}catch(l){await _l(l)}}function GT(r,t){(r.Ga.get(t)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(t)}function QT(r,t,n){const i=Rt(r);let l=i.Wa[i.currentUser.toKey()];if(l){const u=l.get(t);u&&(n?u.reject(n):u.resolve(),l=l.remove(t)),i.Wa[i.currentUser.toKey()]=l}}function Im(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const i of r.qa.get(t))r.ka.delete(i),n&&r.La.Ja(i,n);r.qa.delete(t),r.isPrimaryClient&&r.Ka.br(t).forEach(i=>{r.Ka.containsKey(i)||KT(r,i)})}function KT(r,t){r.Qa.delete(t.path.canonicalString());const n=r.$a.get(t);n!==null&&(Tg(r.remoteStore,n),r.$a=r.$a.remove(t),r.Ua.delete(n),Ng(r))}function R0(r,t,n){for(const i of n)i instanceof qT?(r.Ka.addReference(i.key,t),hC(r,i)):i instanceof HT?(ft(Ig,"Document no longer in limbo: "+i.key),r.Ka.removeReference(i.key,t),r.Ka.containsKey(i.key)||KT(r,i.key)):wt()}function hC(r,t){const n=t.key,i=n.path.canonicalString();r.$a.get(n)||r.Qa.has(i)||(ft(Ig,"New document in limbo: "+n),r.Qa.add(i),Ng(r))}function Ng(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const t=r.Qa.values().next().value;r.Qa.delete(t);const n=new vt(ue.fromString(t)),i=r.za.next();r.Ua.set(i,new eC(n)),r.$a=r.$a.insert(n,i),kT(r.remoteStore,new Ja(kr(vf(n.path)),i,"TargetPurposeLimboResolution",gf.ae))}}async function au(r,t,n){const i=Rt(r),l=[],u=[],h=[];i.ka.isEmpty()||(i.ka.forEach((m,p)=>{h.push(i.Ha(p,t,n).then(g=>{var v;if((g||n)&&i.isPrimaryClient){const T=g?!g.fromCache:(v=n==null?void 0:n.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){l.push(g);const T=_g.Yi(p.targetId,g);u.push(T)}}))}),await Promise.all(h),i.La.p_(l),await async function(p,g){const v=Rt(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>et.forEach(g,b=>et.forEach(b.Hi,R=>v.persistence.referenceDelegate.addReference(T,b.targetId,R)).next(()=>et.forEach(b.Ji,R=>v.persistence.referenceDelegate.removeReference(T,b.targetId,R)))))}catch(T){if(!El(T))throw T;ft(Eg,"Failed to update sequence numbers: "+T)}for(const T of g){const b=T.targetId;if(!T.fromCache){const R=v.Ts.get(b),D=R.snapshotVersion,k=R.withLastLimboFreeSnapshotVersion(D);v.Ts=v.Ts.insert(b,k)}}}(i.localStore,u))}async function dC(r,t){const n=Rt(r);if(!n.currentUser.isEqual(t)){ft(Ig,"User change. New user:",t.toKey());const i=await NT(n.localStore,t);n.currentUser=t,function(u,h){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new ht(nt.CANCELLED,h))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await au(n,i.Rs)}}function mC(r,t){const n=Rt(r),i=n.Ua.get(t);if(i&&i.Ba)return Ut().add(i.key);{let l=Ut();const u=n.qa.get(t);if(!u)return l;for(const h of u){const m=n.ka.get(h);l=l.unionWith(m.view.Sa)}return l}}function $T(r){const t=Rt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=YT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=mC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=uC.bind(null,t),t.La.p_=Wx.bind(null,t.eventManager),t.La.Ja=Zx.bind(null,t.eventManager),t}function gC(r){const t=Rt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=cC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=fC.bind(null,t),t}class of{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Sf(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,n){return null}nu(t,n){return null}eu(t){return _x(this.persistence,new px,t.initialUser,this.serializer)}Xa(t){return new IT(vg.ri,this.serializer)}Za(t){return new Rx}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}of.provider={build:()=>new of};class pC extends of{constructor(t){super(),this.cacheSizeBytes=t}tu(t,n){Xt(this.persistence.referenceDelegate instanceof sf);const i=this.persistence.referenceDelegate.garbageCollector;return new ex(i,t.asyncQueue,n)}Xa(t){const n=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new IT(i=>sf.ri(i,n),this.serializer)}}class Nm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>A0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=dC.bind(null,this.syncEngine),await Kx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Xx}()}createDatastore(t){const n=Sf(t.databaseInfo.databaseId),i=function(u){return new Ix(u)}(t.databaseInfo);return function(u,h,m,p){return new Px(u,h,m,p)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,l,u,h,m){return new Lx(i,l,u,h,m)}(this.localStore,this.datastore,t.asyncQueue,n=>A0(this.syncEngine,n,0),function(){return _0.D()?new _0:new Dx}())}createSyncEngine(t,n){return function(l,u,h,m,p,g,v){const T=new nC(l,u,h,m,p,g);return v&&(T.ja=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(l){const u=Rt(l);ft(ts,"RemoteStore shutting down."),u.W_.add(5),await ru(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Nm.provider={build:()=>new Nm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):va("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci="FirestoreClient";class yC{constructor(t,n,i,l,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=l,this.user=cn.UNAUTHENTICATED,this.clientId=FE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(i,async h=>{ft(ci,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(i,h=>(ft(ci,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ga;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=Rg(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function tm(r,t){r.asyncQueue.verifyOperationInProgress(),ft(ci,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let i=n.initialUser;r.setCredentialChangeListener(async l=>{i.isEqual(l)||(await NT(t.localStore,l),i=l)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function D0(r,t){r.asyncQueue.verifyOperationInProgress();const n=await vC(r);ft(ci,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(i=>T0(t.remoteStore,i)),r.setAppCheckTokenChangeListener((i,l)=>T0(t.remoteStore,l)),r._onlineComponents=t}async function vC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ft(ci,"Using user provided OfflineComponentProvider");try{await tm(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(l){return l.name==="FirebaseError"?l.code===nt.FAILED_PRECONDITION||l.code===nt.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(n))throw n;ll("Error using user provided cache. Falling back to memory cache: "+n),await tm(r,new of)}}else ft(ci,"Using default OfflineComponentProvider"),await tm(r,new pC(void 0));return r._offlineComponents}async function XT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ft(ci,"Using user provided OnlineComponentProvider"),await D0(r,r._uninitializedComponentsProvider._online)):(ft(ci,"Using default OnlineComponentProvider"),await D0(r,new Nm))),r._onlineComponents}function _C(r){return XT(r).then(t=>t.syncEngine)}async function uf(r){const t=await XT(r),n=t.eventManager;return n.onListen=rC.bind(null,t.syncEngine),n.onUnlisten=sC.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=aC.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=lC.bind(null,t.syncEngine),n}function EC(r,t,n={}){const i=new ga;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const v=new Mg({next:b=>{v.su(),h.enqueueAndForget(()=>xg(u,T));const R=b.docs.has(m);!R&&b.fromCache?g.reject(new ht(nt.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&b.fromCache&&p&&p.source==="server"?g.reject(new ht(nt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),T=new Og(vf(m.path),v,{includeMetadataChanges:!0,Ta:!0});return Dg(u,T)}(await uf(r),r.asyncQueue,t,n,i)),i.promise}function TC(r,t,n={}){const i=new ga;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const v=new Mg({next:b=>{v.su(),h.enqueueAndForget(()=>xg(u,T)),b.fromCache&&p.source==="server"?g.reject(new ht(nt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(b)},error:b=>g.reject(b)}),T=new Og(m,v,{includeMetadataChanges:!0,Ta:!0});return Dg(u,T)}(await uf(r),r.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(r,t,n){if(!n)throw new ht(nt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function bC(r,t,n,i){if(t===!0&&i===!0)throw new ht(nt.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function C0(r){if(!vt.isDocumentKey(r))throw new ht(nt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function O0(r){if(vt.isDocumentKey(r))throw new ht(nt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Df(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":wt()}function wn(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ht(nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Df(r);throw new ht(nt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="firestore.googleapis.com",I0=!0;class N0{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new ht(nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=JT,this.ssl=I0}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:I0;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=OT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<JD)throw new ht(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}bC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WT((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ht(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ht(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ht(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,l){return i.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class xf{constructor(t,n,i,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new N0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ht(nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new N0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new OR;switch(i.type){case"firstParty":return new VR(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ht(nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=x0.get(n);i&&(ft("ComponentProvider","Removing Datastore"),x0.delete(n),i.terminate())}(this),Promise.resolve()}}function wC(r,t,n,i={}){var l;const u=(r=wn(r,xf))._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),m=`${t}:${n}`;u.host!==JT&&u.host!==m&&ll("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:i});if(!Kc(p,h)&&(r._setSettings(p),i.mockUserToken)){let g,v;if(typeof i.mockUserToken=="string")g=i.mockUserToken,v=cn.MOCK_USER;else{g=l1(i.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new ht(nt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new cn(T)}r._authCredentials=new IR(new qE(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new rs(this.firestore,t,this._query)}}class hn{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ri(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new hn(this.firestore,t,this._key)}}class ri extends rs{constructor(t,n,i){super(t,n,vf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new hn(this.firestore,null,new vt(t))}withConverter(t){return new ri(this.firestore,t,this._path)}}function Sn(r,t,...n){if(r=Ur(r),ZT("collection","path",t),r instanceof xf){const i=ue.fromString(t,...n);return O0(i),new ri(r,null,i)}{if(!(r instanceof hn||r instanceof ri))throw new ht(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(ue.fromString(t,...n));return O0(i),new ri(r.firestore,null,i)}}function fr(r,t,...n){if(r=Ur(r),arguments.length===1&&(t=FE.newId()),ZT("doc","path",t),r instanceof xf){const i=ue.fromString(t,...n);return C0(i),new hn(r,null,new vt(i))}{if(!(r instanceof hn||r instanceof ri))throw new ht(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(ue.fromString(t,...n));return C0(i),new hn(r.firestore,r instanceof ri?r.converter:null,new vt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="AsyncQueue";class V0{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new VT(this,"async_queue_retry"),this.Su=()=>{const i=Jd();i&&ft(M0,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=t;const n=Jd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const n=Jd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const n=new ga;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!El(t))throw t;ft(M0,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const n=this.bu.then(()=>(this.pu=!0,t().catch(i=>{this.gu=i,this.pu=!1;const l=function(h){let m=h.message||"";return h.stack&&(m=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),m}(i);throw va("INTERNAL UNHANDLED ERROR: ",l),i}).then(i=>(this.pu=!1,i))));return this.bu=n,n}enqueueAfterDelay(t,n,i){this.Du(),this.wu.indexOf(t)>-1&&(n=0);const l=Ag.createAndSchedule(this,t,n,i,u=>this.Fu(u));return this.fu.push(l),l}Du(){this.gu&&wt()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const n of this.fu)if(n.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const n=this.fu.indexOf(t);this.fu.splice(n,1)}}function P0(r){return function(n,i){if(typeof n!="object"||n===null)return!1;const l=n;for(const u of i)if(u in l&&typeof l[u]=="function")return!0;return!1}(r,["next","error","complete"])}class Ea extends xf{constructor(t,n,i,l){super(t,n,i,l),this.type="firestore",this._queue=new V0,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new V0(t),this._firestoreClient=void 0,await t}}}function SC(r,t){const n=typeof r=="object"?r:yR(),i=typeof r=="string"?r:Zc,l=hR(n,"firestore").getImmediate({identifier:i});if(!l._initialized){const u=i1("firestore");u&&wC(l,...u)}return l}function Cf(r){if(r._terminated)throw new ht(nt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||AC(r),r._firestoreClient}function AC(r){var t,n,i;const l=r._freezeSettings(),u=function(m,p,g,v){return new $R(m,p,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,WT(v.experimentalLongPollingOptions),v.useFetchStreams)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((n=l.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=l.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new yC(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(t){this._byteString=t}static fromBase64String(t){try{return new dl(sn.fromBase64String(t))}catch(n){throw new ht(nt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new dl(sn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ht(nt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ht(nt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ht(nt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Mt(this._lat,t._lat)||Mt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,l){if(i.length!==l.length)return!1;for(let u=0;u<i.length;++u)if(i[u]!==l[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=/^__.*__$/;class DC{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new di(t,this.data,this.fieldMask,n,this.fieldTransforms):new eu(t,this.data,n,this.fieldTransforms)}}class tb{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return new di(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function eb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wt()}}class Lg{constructor(t,n,i,l,u,h){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=l,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new Lg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.ku({path:i,Qu:!1});return l.$u(t),l}Uu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.ku({path:i,Qu:!1});return l.Bu(),l}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return cf(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(eb(this.Lu)&&RC.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class xC{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||Sf(t)}ju(t,n,i,l=!1){return new Lg({Lu:t,methodName:n,zu:i,path:rn.emptyPath(),Qu:!1,Gu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function If(r){const t=r._freezeSettings(),n=Sf(r._databaseId);return new xC(r._databaseId,!!t.ignoreUndefinedProperties,n)}function nb(r,t,n,i,l,u={}){const h=r.ju(u.merge||u.mergeFields?2:0,t,n,l);Ug("Data must be an object, but it was:",h,i);const m=rb(i,h);let p,g;if(u.merge)p=new Pn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const v=[];for(const T of u.mergeFields){const b=Mm(t,T,n);if(!h.contains(b))throw new ht(nt.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);ib(v,b)||v.push(b)}p=new Pn(v),g=h.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,g=h.fieldTransforms;return new DC(new bn(m),p,g)}class Nf extends Vg{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Nf}}function CC(r,t,n,i){const l=r.ju(1,t,n);Ug("Data must be an object, but it was:",l,i);const u=[],h=bn.empty();hi(i,(p,g)=>{const v=jg(t,p,n);g=Ur(g);const T=l.Uu(v);if(g instanceof Nf)u.push(v);else{const b=iu(g,T);b!=null&&(u.push(v),h.set(v,b))}});const m=new Pn(u);return new tb(h,m,l.fieldTransforms)}function OC(r,t,n,i,l,u){const h=r.ju(1,t,n),m=[Mm(t,i,n)],p=[l];if(u.length%2!=0)throw new ht(nt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)m.push(Mm(t,u[b])),p.push(u[b+1]);const g=[],v=bn.empty();for(let b=m.length-1;b>=0;--b)if(!ib(g,m[b])){const R=m[b];let D=p[b];D=Ur(D);const k=h.Uu(R);if(D instanceof Nf)g.push(R);else{const V=iu(D,k);V!=null&&(g.push(R),v.set(R,V))}}const T=new Pn(g);return new tb(v,T,h.fieldTransforms)}function IC(r,t,n,i=!1){return iu(n,r.ju(i?4:3,t))}function iu(r,t){if(ab(r=Ur(r)))return Ug("Unsupported field value:",t,r),rb(r,t);if(r instanceof Vg)return function(i,l){if(!eb(l.Lu))throw l.Wu(`${i._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Wu(`${i._methodName}() is not currently supported inside arrays`);const u=i._toFieldTransform(l);u&&l.fieldTransforms.push(u)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(i,l){const u=[];let h=0;for(const m of i){let p=iu(m,l.Ku(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(r,t)}return function(i,l){if((i=Ur(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return vD(l.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const u=Le.fromDate(i);return{timestampValue:af(l.serializer,u)}}if(i instanceof Le){const u=new Le(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:af(l.serializer,u)}}if(i instanceof Pg)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof dl)return{bytesValue:wT(l.serializer,i._byteString)};if(i instanceof hn){const u=l.databaseId,h=i.firestore._databaseId;if(!h.isEqual(u))throw l.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:pg(i.firestore._databaseId||l.databaseId,i._key.path)}}if(i instanceof kg)return function(h,m){return{mapValue:{fields:{[ZE]:{stringValue:JE},[Jc]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw m.Wu("VectorValues must only contain numeric values.");return hg(m.serializer,g)})}}}}}}(i,l);throw l.Wu(`Unsupported field value: ${Df(i)}`)}(r,t)}function rb(r,t){const n={};return GE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):hi(r,(i,l)=>{const u=iu(l,t.qu(i));u!=null&&(n[i]=u)}),{mapValue:{fields:n}}}function ab(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Le||r instanceof Pg||r instanceof dl||r instanceof hn||r instanceof Vg||r instanceof kg)}function Ug(r,t,n){if(!ab(n)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(n)){const i=Df(n);throw i==="an object"?t.Wu(r+" a custom object"):t.Wu(r+" "+i)}}function Mm(r,t,n){if((t=Ur(t))instanceof Of)return t._internalPath;if(typeof t=="string")return jg(r,t);throw cf("Field path arguments must be of type string or ",r,!1,void 0,n)}const NC=new RegExp("[~\\*/\\[\\]]");function jg(r,t,n){if(t.search(NC)>=0)throw cf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Of(...t.split("."))._internalPath}catch{throw cf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function cf(r,t,n,i,l){const u=i&&!i.isEmpty(),h=l!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${i}`),h&&(p+=` in document ${l}`),p+=")"),new ht(nt.INVALID_ARGUMENT,m+r+p)}function ib(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(t,n,i,l,u){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new MC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(zg("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class MC extends sb{data(){return super.data()}}function zg(r,t){return typeof t=="string"?jg(r,t):t instanceof Of?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ht(nt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bg{}class VC extends Bg{}function PC(r,t,...n){let i=[];t instanceof Bg&&i.push(t),i=i.concat(n),function(u){const h=u.filter(p=>p instanceof qg).length,m=u.filter(p=>p instanceof Mf).length;if(h>1||h>0&&m>0)throw new ht(nt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const l of i)r=l._apply(r);return r}class Mf extends VC{constructor(t,n,i){super(),this._field=t,this._op=n,this._value=i,this.type="where"}static _create(t,n,i){return new Mf(t,n,i)}_apply(t){const n=this._parse(t);return ob(t._query,n),new rs(t.firestore,t.converter,bm(t._query,n))}_parse(t){const n=If(t.firestore);return function(u,h,m,p,g,v,T){let b;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ht(nt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){L0(T,v);const D=[];for(const k of T)D.push(k0(p,u,k));b={arrayValue:{values:D}}}else b=k0(p,u,T)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||L0(T,v),b=IC(m,h,T,v==="in"||v==="not-in");return Ie.create(g,v,b)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function kC(r,t,n){const i=t,l=zg("where",r);return Mf._create(l,i,n)}class qg extends Bg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new qg(t,n)}_parse(t){const n=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:dr.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(l,u){let h=l;const m=u.getFlattenedFilters();for(const p of m)ob(h,p),h=bm(h,p)}(t._query,n),new rs(t.firestore,t.converter,bm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function k0(r,t,n){if(typeof(n=Ur(n))=="string"){if(n==="")throw new ht(nt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lT(t)&&n.indexOf("/")!==-1)throw new ht(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(ue.fromString(n));if(!vt.isDocumentKey(i))throw new ht(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return W_(r,new vt(i))}if(n instanceof hn)return W_(r,n._key);throw new ht(nt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Df(n)}.`)}function L0(r,t){if(!Array.isArray(r)||r.length===0)throw new ht(nt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function ob(r,t){const n=function(l,u){for(const h of l)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new ht(nt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ht(nt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class LC{convertValue(t,n="none"){switch(oi(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Se(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(li(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw wt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return hi(t,(l,u)=>{i[l]=this.convertValue(u,n)}),i}convertVectorValue(t){var n,i,l;const u=(l=(i=(n=t.fields)===null||n===void 0?void 0:n[Jc].arrayValue)===null||i===void 0?void 0:i.values)===null||l===void 0?void 0:l.map(h=>Se(h.doubleValue));return new kg(u)}convertGeoPoint(t){return new Pg(Se(t.latitude),Se(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=yf(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Fo(t));default:return null}}convertTimestamp(t){const n=si(t);return new Le(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=ue.fromString(t);Xt(CT(i));const l=new Yo(i.get(1),i.get(3)),u=new vt(i.popFirst(5));return l.isEqual(n)||va(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(r,t,n){let i;return i=r?n&&(n.merge||n.mergeFields)?r.toFirestore(t,n):r.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class cb extends sb{constructor(t,n,i,l,u,h){super(t,n,i,l,h),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Fc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(zg("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Fc extends cb{data(t={}){return super.data(t)}}class fb{constructor(t,n,i,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new Mo(l.hasPendingWrites,l.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new Fc(this._firestore,this._userDataWriter,i.key,i,new Mo(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ht(nt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,u){if(l._snapshot.oldDocs.isEmpty()){let h=0;return l._snapshot.docChanges.map(m=>{const p=new Fc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new Mo(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new Fc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new Mo(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);let g=-1,v=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),v=h.indexOf(m.doc.key)),{type:UC(m.type),doc:p,oldIndex:g,newIndex:v}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function UC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(r){r=wn(r,hn);const t=wn(r.firestore,Ea);return EC(Cf(t),r._key).then(n=>mb(t,r,n))}class Fg extends LC{constructor(t){super(),this.firestore=t}convertBytes(t){return new dl(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new hn(this.firestore,null,n)}}function ai(r){r=wn(r,rs);const t=wn(r.firestore,Ea),n=Cf(t),i=new Fg(t);return lb(r._query),TC(n,r._query).then(l=>new fb(t,i,r,l))}function jC(r,t,n){r=wn(r,hn);const i=wn(r.firestore,Ea),l=ub(r.converter,t,n);return Vf(i,[nb(If(i),"setDoc",r._key,l,r.converter!==null,n).toMutation(r._key,Jn.none())])}function hb(r,t,n,...i){r=wn(r,hn);const l=wn(r.firestore,Ea),u=If(l);let h;return h=typeof(t=Ur(t))=="string"||t instanceof Of?OC(u,"updateDoc",r._key,t,n,i):CC(u,"updateDoc",r._key,t),Vf(l,[h.toMutation(r._key,Jn.exists(!0))])}function zC(r){return Vf(wn(r.firestore,Ea),[new dg(r._key,Jn.none())])}function db(r,t){const n=wn(r.firestore,Ea),i=fr(r),l=ub(r.converter,t);return Vf(n,[nb(If(r.firestore),"addDoc",i._key,l,r.converter!==null,{}).toMutation(i._key,Jn.exists(!1))]).then(()=>i)}function Wi(r,...t){var n,i,l;r=Ur(r);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof t[h]!="object"||P0(t[h])||(u=t[h],h++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(P0(t[h])){const T=t[h];t[h]=(n=T.next)===null||n===void 0?void 0:n.bind(T),t[h+1]=(i=T.error)===null||i===void 0?void 0:i.bind(T),t[h+2]=(l=T.complete)===null||l===void 0?void 0:l.bind(T)}let p,g,v;if(r instanceof hn)g=wn(r.firestore,Ea),v=vf(r._key.path),p={next:T=>{t[h]&&t[h](mb(g,r,T))},error:t[h+1],complete:t[h+2]};else{const T=wn(r,rs);g=wn(T.firestore,Ea),v=T._query;const b=new Fg(g);p={next:R=>{t[h]&&t[h](new fb(g,b,T,R))},error:t[h+1],complete:t[h+2]},lb(r._query)}return function(b,R,D,k){const V=new Mg(k),H=new Og(R,V,D);return b.asyncQueue.enqueueAndForget(async()=>Dg(await uf(b),H)),()=>{V.su(),b.asyncQueue.enqueueAndForget(async()=>xg(await uf(b),H))}}(Cf(g),v,m,p)}function Vf(r,t){return function(i,l){const u=new ga;return i.asyncQueue.enqueueAndForget(async()=>oC(await _C(i),l,u)),u.promise}(Cf(r),t)}function mb(r,t,n){const i=n.docs.get(t._key),l=new Fg(r);return new cb(r,l,t._key,i,new Mo(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(l){vl=l})(pR),Xc(new Bo("firestore",(i,{instanceIdentifier:l,options:u})=>{const h=i.getProvider("app").getImmediate(),m=new Ea(new NR(i.getProvider("auth-internal")),new PR(h,i.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ht(nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yo(g.options.projectId,v)}(h,l),h);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),il(j_,z_,t),il(j_,z_,"esm2017")})();const BC={apiKey:"AIzaSyA…",authDomain:"myattendanceproject-45c1b.firebaseapp.com",projectId:"myattendanceproject-45c1b",storageBucket:"myattendanceproject-45c1b.appspot.com",messagingSenderId:"347137303283",appId:"1:347137303283:web:9369753f976dffcf65cd86"},qC=ME(BC),me=SC(qC);function HC({onLoginSuccess:r}){const[t,n]=B.useState(""),[i,l]=B.useState(""),[u,h]=B.useState(""),[m,p]=B.useState(!0),g=Zm();B.useEffect(()=>{const T=localStorage.getItem("lastBirthId"),b=localStorage.getItem("lastPin");T&&n(T),b&&l(b)},[]);const v=async()=>{if(h(""),t.trim().length!==6||i.trim().length!==4){h("생년월일 6자리와 전화번호 뒤 4자리를 입력해주세요.");return}try{const T=PC(Sn(me,"students"),kC("birth",">=","")),R=(await ai(T)).docs.find(D=>{var ct,it;const k=D.data(),V=(ct=k.birth)==null?void 0:ct.replace(/[^0-9]/g,""),H=(it=k.parentPhone)==null?void 0:it.replace(/[^0-9]/g,""),rt=(V==null?void 0:V.slice(-6))===t.trim(),ut=(H?H.slice(-4):null)===i.trim();return rt&&ut});if(R){const D=R.data(),k=R.id;localStorage.setItem("studentId",k),localStorage.setItem("studentName",D.name),m?(localStorage.setItem("lastBirthId",t),localStorage.setItem("lastPin",i)):(localStorage.removeItem("lastBirthId"),localStorage.removeItem("lastPin")),await db(Sn(me,"parentLogins"),{studentName:D.name,loginTime:new Date().toISOString()}),r&&r(),g("/attendance")}else h("아이디 또는 비밀번호가 일치하지 않습니다.")}catch{h("로그인 중 오류가 발생했습니다.")}};return I.jsxs("div",{className:"container",style:{textAlign:"center"},children:[I.jsx("h1",{style:{fontSize:"24px"},children:"학부모 로그인"}),I.jsx("input",{style:{width:"100%",padding:8,margin:"8px 0"},value:t,onChange:T=>{const b=T.target.value.replace(/\D/g,"");n(b),m&&localStorage.setItem("lastBirthId",b)},placeholder:"자녀 생년월일 6자리 (예: 170806)",maxLength:6}),I.jsx("input",{style:{width:"100%",padding:8,margin:"8px 0"},value:i,onChange:T=>{const b=T.target.value.replace(/\D/g,"");l(b),m&&localStorage.setItem("lastPin",b)},placeholder:"전화번호 뒤 4자리",maxLength:4,type:"password"}),I.jsx("div",{style:{margin:"8px 0",textAlign:"left"},children:I.jsxs("label",{children:[I.jsx("input",{type:"checkbox",checked:m,onChange:T=>p(T.target.checked),style:{marginRight:8}}),"자동입력 기억하기"]})}),I.jsx("button",{style:{width:"100%",padding:8,margin:"8px 0"},onClick:v,children:"로그인"}),u&&I.jsx("p",{style:{color:"red"},children:u})]})}function gb(r){var t,n,i="";if(typeof r=="string"||typeof r=="number")i+=r;else if(typeof r=="object")if(Array.isArray(r)){var l=r.length;for(t=0;t<l;t++)r[t]&&(n=gb(r[t]))&&(i&&(i+=" "),i+=n)}else for(n in r)r[n]&&(i&&(i+=" "),i+=n);return i}function Pf(){for(var r,t,n=0,i="",l=arguments.length;n<l;n++)(r=arguments[n])&&(t=gb(r))&&(i&&(i+=" "),i+=t);return i}var em,U0;function FC(){if(U0)return em;U0=1;const r=(p,g,v,T)=>{if(v==="length"||v==="prototype"||v==="arguments"||v==="caller")return;const b=Object.getOwnPropertyDescriptor(p,v),R=Object.getOwnPropertyDescriptor(g,v);!t(b,R)&&T||Object.defineProperty(p,v,R)},t=function(p,g){return p===void 0||p.configurable||p.writable===g.writable&&p.enumerable===g.enumerable&&p.configurable===g.configurable&&(p.writable||p.value===g.value)},n=(p,g)=>{const v=Object.getPrototypeOf(g);v!==Object.getPrototypeOf(p)&&Object.setPrototypeOf(p,v)},i=(p,g)=>`/* Wrapped ${p}*/
${g}`,l=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),u=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),h=(p,g,v)=>{const T=v===""?"":`with ${v.trim()}() `,b=i.bind(null,T,g.toString());Object.defineProperty(b,"name",u),Object.defineProperty(p,"toString",{...l,value:b})};return em=(p,g,{ignoreNonConfigurable:v=!1}={})=>{const{name:T}=p;for(const b of Reflect.ownKeys(g))r(p,g,b,v);return n(p,g),h(p,g,T),p},em}var Vo={exports:{}},nm,j0;function YC(){return j0||(j0=1,nm=()=>{const r={};return r.promise=new Promise((t,n)=>{r.resolve=t,r.reject=n}),r}),nm}var Vc=Vo.exports,z0;function GC(){return z0||(z0=1,function(r,t){var n=Vc&&Vc.__awaiter||function(h,m,p,g){return new(p||(p=Promise))(function(v,T){function b(k){try{D(g.next(k))}catch(V){T(V)}}function R(k){try{D(g.throw(k))}catch(V){T(V)}}function D(k){k.done?v(k.value):new p(function(V){V(k.value)}).then(b,R)}D((g=g.apply(h,m||[])).next())})},i=Vc&&Vc.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(t,"__esModule",{value:!0});const l=i(YC());function u(h,m="maxAge"){let p,g,v;const T=()=>n(this,void 0,void 0,function*(){if(p!==void 0)return;const D=k=>n(this,void 0,void 0,function*(){v=l.default();const V=k[1][m]-Date.now();if(V<=0){h.delete(k[0]),v.resolve();return}return p=k[0],g=setTimeout(()=>{h.delete(k[0]),v&&v.resolve()},V),typeof g.unref=="function"&&g.unref(),v.promise});try{for(const k of h)yield D(k)}catch{}p=void 0}),b=()=>{p=void 0,g!==void 0&&(clearTimeout(g),g=void 0),v!==void 0&&(v.reject(void 0),v=void 0)},R=h.set.bind(h);return h.set=(D,k)=>{h.has(D)&&h.delete(D);const V=R(D,k);return p&&p===D&&b(),T(),V},T(),h}t.default=u,r.exports=u,r.exports.default=u}(Vo,Vo.exports)),Vo.exports}var rm,B0;function QC(){if(B0)return rm;B0=1;const r=FC(),t=GC(),n=new WeakMap,i=new WeakMap,l=(u,{cacheKey:h,cache:m=new Map,maxAge:p}={})=>{typeof p=="number"&&t(m);const g=function(...v){const T=h?h(v):v[0],b=m.get(T);if(b)return b.data;const R=u.apply(this,v);return m.set(T,{data:R,maxAge:p?Date.now()+p:Number.POSITIVE_INFINITY}),R};return r(g,u,{ignoreNonConfigurable:!0}),i.set(g,m),g};return l.decorator=(u={})=>(h,m,p)=>{const g=h[m];if(typeof g!="function")throw new TypeError("The decorated value must be a function");delete p.value,delete p.writable,p.get=function(){if(!n.has(this)){const v=l(g,u);return n.set(this,v),v}return n.get(this)}},l.clear=u=>{const h=i.get(u);if(!h)throw new TypeError("Can't clear a function that was not memoized!");if(typeof h.clear!="function")throw new TypeError("The cache Map can't be cleared!");h.clear()},rm=l,rm}var KC=QC();const pb=gS(KC);function $C(r){return typeof r=="string"}function XC(r,t,n){return n.indexOf(r)===t}function WC(r){return r.toLowerCase()===r}function q0(r){return r.indexOf(",")===-1?r:r.split(",")}function Vm(r){if(!r)return r;if(r==="C"||r==="posix"||r==="POSIX")return"en-US";if(r.indexOf(".")!==-1){var t=r.split(".")[0],n=t===void 0?"":t;return Vm(n)}if(r.indexOf("@")!==-1){var i=r.split("@")[0],n=i===void 0?"":i;return Vm(n)}if(r.indexOf("-")===-1||!WC(r))return r;var l=r.split("-"),u=l[0],h=l[1],m=h===void 0?"":h;return"".concat(u,"-").concat(m.toUpperCase())}function ZC(r){var t=r===void 0?{}:r,n=t.useFallbackLocale,i=n===void 0?!0:n,l=t.fallbackLocale,u=l===void 0?"en-US":l,h=[];if(typeof navigator<"u"){for(var m=navigator.languages||[],p=[],g=0,v=m;g<v.length;g++){var T=v[g];p=p.concat(q0(T))}var b=navigator.language,R=b&&q0(b);h=h.concat(p,R)}return i&&h.push(u),h.filter($C).map(Vm).filter(XC)}var JC=pb(ZC,{cacheKey:JSON.stringify});function t2(r){return JC(r)[0]||null}var yb=pb(t2,{cacheKey:JSON.stringify});function ba(r,t,n){return function(l,u){u===void 0&&(u=n);var h=r(l)+u;return t(h)}}function su(r){return function(n){return new Date(r(n).getTime()-1)}}function lu(r,t){return function(i){return[r(i),t(i)]}}function pe(r){if(r instanceof Date)return r.getFullYear();if(typeof r=="number")return r;var t=parseInt(r,10);if(typeof r=="string"&&!isNaN(t))return t;throw new Error("Failed to get year from date: ".concat(r,"."))}function mi(r){if(r instanceof Date)return r.getMonth();throw new Error("Failed to get month from date: ".concat(r,"."))}function kf(r){if(r instanceof Date)return r.getDate();throw new Error("Failed to get year from date: ".concat(r,"."))}function bl(r){var t=pe(r),n=t+(-t+1)%100,i=new Date;return i.setFullYear(n,0,1),i.setHours(0,0,0,0),i}var e2=ba(pe,bl,-100),vb=ba(pe,bl,100),Yg=su(vb),n2=ba(pe,Yg,-100),_b=lu(bl,Yg);function gi(r){var t=pe(r),n=t+(-t+1)%10,i=new Date;return i.setFullYear(n,0,1),i.setHours(0,0,0,0),i}var Eb=ba(pe,gi,-10),Gg=ba(pe,gi,10),Lf=su(Gg),Tb=ba(pe,Lf,-10),bb=lu(gi,Lf);function wl(r){var t=pe(r),n=new Date;return n.setFullYear(t,0,1),n.setHours(0,0,0,0),n}var wb=ba(pe,wl,-1),Qg=ba(pe,wl,1),Uf=su(Qg),Sb=ba(pe,Uf,-1),r2=lu(wl,Uf);function Kg(r,t){return function(i,l){l===void 0&&(l=t);var u=pe(i),h=mi(i)+l,m=new Date;return m.setFullYear(u,h,1),m.setHours(0,0,0,0),r(m)}}function as(r){var t=pe(r),n=mi(r),i=new Date;return i.setFullYear(t,n,1),i.setHours(0,0,0,0),i}var Ab=Kg(as,-1),$g=Kg(as,1),ou=su($g),Rb=Kg(ou,-1),a2=lu(as,ou);function i2(r,t){return function(i,l){l===void 0&&(l=t);var u=pe(i),h=mi(i),m=kf(i)+l,p=new Date;return p.setFullYear(u,h,m),p.setHours(0,0,0,0),r(p)}}function uu(r){var t=pe(r),n=mi(r),i=kf(r),l=new Date;return l.setFullYear(t,n,i),l.setHours(0,0,0,0),l}var s2=i2(uu,1),Xg=su(s2),l2=lu(uu,Xg);function Db(r){return kf(ou(r))}var an={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},o2={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},Wg=[0,1,2,3,4,5,6],am=new Map;function u2(r){return function(n,i){var l=n||yb();am.has(l)||am.set(l,new Map);var u=am.get(l);return u.has(r)||u.set(r,new Intl.DateTimeFormat(l||void 0,r).format),u.get(r)(i)}}function c2(r){var t=new Date(r);return new Date(t.setHours(12))}function is(r){return function(t,n){return u2(r)(t,c2(n))}}var f2={day:"numeric"},h2={day:"numeric",month:"long",year:"numeric"},d2={month:"long"},m2={month:"long",year:"numeric"},g2={weekday:"short"},p2={weekday:"long"},y2={year:"numeric"},v2=is(f2),_2=is(h2),E2=is(d2),xb=is(m2),T2=is(g2),b2=is(p2),jf=is(y2),w2=Wg[0],S2=Wg[5],H0=Wg[6];function $o(r,t){t===void 0&&(t=an.ISO_8601);var n=r.getDay();switch(t){case an.ISO_8601:return(n+6)%7;case an.ISLAMIC:return(n+1)%7;case an.HEBREW:case an.GREGORY:return n;default:throw new Error("Unsupported calendar type.")}}function A2(r){var t=bl(r);return pe(t)}function R2(r){var t=gi(r);return pe(t)}function Pm(r,t){t===void 0&&(t=an.ISO_8601);var n=pe(r),i=mi(r),l=r.getDate()-$o(r,t);return new Date(n,i,l)}function D2(r,t){t===void 0&&(t=an.ISO_8601);var n=t===an.GREGORY?an.GREGORY:an.ISO_8601,i=Pm(r,t),l=pe(r)+1,u,h;do u=new Date(l,0,n===an.ISO_8601?4:1),h=Pm(u,t),l-=1;while(r<h);return Math.round((i.getTime()-h.getTime())/(864e5*7))+1}function Zi(r,t){switch(r){case"century":return bl(t);case"decade":return gi(t);case"year":return wl(t);case"month":return as(t);case"day":return uu(t);default:throw new Error("Invalid rangeType: ".concat(r))}}function x2(r,t){switch(r){case"century":return e2(t);case"decade":return Eb(t);case"year":return wb(t);case"month":return Ab(t);default:throw new Error("Invalid rangeType: ".concat(r))}}function Cb(r,t){switch(r){case"century":return vb(t);case"decade":return Gg(t);case"year":return Qg(t);case"month":return $g(t);default:throw new Error("Invalid rangeType: ".concat(r))}}function C2(r,t){switch(r){case"decade":return Eb(t,-100);case"year":return wb(t,-10);case"month":return Ab(t,-12);default:throw new Error("Invalid rangeType: ".concat(r))}}function O2(r,t){switch(r){case"decade":return Gg(t,100);case"year":return Qg(t,10);case"month":return $g(t,12);default:throw new Error("Invalid rangeType: ".concat(r))}}function Ob(r,t){switch(r){case"century":return Yg(t);case"decade":return Lf(t);case"year":return Uf(t);case"month":return ou(t);case"day":return Xg(t);default:throw new Error("Invalid rangeType: ".concat(r))}}function I2(r,t){switch(r){case"century":return n2(t);case"decade":return Tb(t);case"year":return Sb(t);case"month":return Rb(t);default:throw new Error("Invalid rangeType: ".concat(r))}}function N2(r,t){switch(r){case"decade":return Tb(t,-100);case"year":return Sb(t,-10);case"month":return Rb(t,-12);default:throw new Error("Invalid rangeType: ".concat(r))}}function F0(r,t){switch(r){case"century":return _b(t);case"decade":return bb(t);case"year":return r2(t);case"month":return a2(t);case"day":return l2(t);default:throw new Error("Invalid rangeType: ".concat(r))}}function M2(r,t,n){var i=[t,n].sort(function(l,u){return l.getTime()-u.getTime()});return[Zi(r,i[0]),Ob(r,i[1])]}function Ib(r,t,n){return n.map(function(i){return(t||jf)(r,i)}).join(" – ")}function V2(r,t,n){return Ib(r,t,_b(n))}function Nb(r,t,n){return Ib(r,t,bb(n))}function P2(r){return r.getDay()===new Date().getDay()}function Mb(r,t){t===void 0&&(t=an.ISO_8601);var n=r.getDay();switch(t){case an.ISLAMIC:case an.HEBREW:return n===S2||n===H0;case an.ISO_8601:case an.GREGORY:return n===H0||n===w2;default:throw new Error("Unsupported calendar type.")}}var Vr="react-calendar__navigation";function k2(r){var t=r.activeStartDate,n=r.drillUp,i=r.formatMonthYear,l=i===void 0?xb:i,u=r.formatYear,h=u===void 0?jf:u,m=r.locale,p=r.maxDate,g=r.minDate,v=r.navigationAriaLabel,T=v===void 0?"":v,b=r.navigationAriaLive,R=r.navigationLabel,D=r.next2AriaLabel,k=D===void 0?"":D,V=r.next2Label,H=V===void 0?"»":V,rt=r.nextAriaLabel,Z=rt===void 0?"":rt,ut=r.nextLabel,ct=ut===void 0?"›":ut,it=r.prev2AriaLabel,M=it===void 0?"":it,A=r.prev2Label,x=A===void 0?"«":A,N=r.prevAriaLabel,U=N===void 0?"":N,j=r.prevLabel,C=j===void 0?"‹":j,mt=r.setActiveStartDate,Dt=r.showDoubleView,Q=r.view,st=r.views,gt=st.indexOf(Q)>0,xt=Q!=="century",P=x2(Q,t),J=xt?C2(Q,t):void 0,ot=Cb(Q,t),at=xt?O2(Q,t):void 0,pt=function(){if(P.getFullYear()<0)return!0;var ae=I2(Q,t);return g&&g>=ae}(),Ct=xt&&function(){if(J.getFullYear()<0)return!0;var ae=N2(Q,t);return g&&g>=ae}(),_t=p&&p<ot,ce=xt&&p&&p<at;function Ft(){mt(P,"prev")}function Ne(){mt(J,"prev2")}function kn(){mt(ot,"next")}function An(){mt(at,"next2")}function Ln(ae){var er=function(){switch(Q){case"century":return V2(m,h,ae);case"decade":return Nb(m,h,ae);case"year":return h(m,ae);case"month":return l(m,ae);default:throw new Error("Invalid view: ".concat(Q,"."))}}();return R?R({date:ae,label:er,locale:m||yb()||void 0,view:Q}):er}function tr(){var ae="".concat(Vr,"__label");return I.jsxs("button",{"aria-label":T,"aria-live":b,className:ae,disabled:!gt,onClick:n,style:{flexGrow:1},type:"button",children:[I.jsx("span",{className:"".concat(ae,"__labelText ").concat(ae,"__labelText--from"),children:Ln(t)}),Dt?I.jsxs(I.Fragment,{children:[I.jsx("span",{className:"".concat(ae,"__divider"),children:" – "}),I.jsx("span",{className:"".concat(ae,"__labelText ").concat(ae,"__labelText--to"),children:Ln(ot)})]}):null]})}return I.jsxs("div",{className:Vr,children:[x!==null&&xt?I.jsx("button",{"aria-label":M,className:"".concat(Vr,"__arrow ").concat(Vr,"__prev2-button"),disabled:Ct,onClick:Ne,type:"button",children:x}):null,C!==null&&I.jsx("button",{"aria-label":U,className:"".concat(Vr,"__arrow ").concat(Vr,"__prev-button"),disabled:pt,onClick:Ft,type:"button",children:C}),tr(),ct!==null&&I.jsx("button",{"aria-label":Z,className:"".concat(Vr,"__arrow ").concat(Vr,"__next-button"),disabled:_t,onClick:kn,type:"button",children:ct}),H!==null&&xt?I.jsx("button",{"aria-label":k,className:"".concat(Vr,"__arrow ").concat(Vr,"__next2-button"),disabled:ce,onClick:An,type:"button",children:H}):null]})}var rl=function(){return rl=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},rl.apply(this,arguments)},L2=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]]);return n};function Y0(r){return"".concat(r,"%")}function Zg(r){var t=r.children,n=r.className,i=r.count,l=r.direction,u=r.offset,h=r.style,m=r.wrap,p=L2(r,["children","className","count","direction","offset","style","wrap"]);return I.jsx("div",rl({className:n,style:rl({display:"flex",flexDirection:l,flexWrap:m?"wrap":"nowrap"},h)},p,{children:B.Children.map(t,function(g,v){var T=u&&v===0?Y0(100*u/i):null;return B.cloneElement(g,rl(rl({},g.props),{style:{flexBasis:Y0(100/i),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:T,marginInlineStart:T,marginInlineEnd:0}}))})}))}function U2(r,t,n){return t&&t>r?t:n&&n<r?n:r}function Xo(r,t){return t[0]<=r&&t[1]>=r}function j2(r,t){return r[0]<=t[0]&&r[1]>=t[1]}function Vb(r,t){return Xo(r[0],t)||Xo(r[1],t)}function G0(r,t,n){var i=Vb(t,r),l=[];if(i){l.push(n);var u=Xo(r[0],t),h=Xo(r[1],t);u&&l.push("".concat(n,"Start")),h&&l.push("".concat(n,"End")),u&&h&&l.push("".concat(n,"BothEnds"))}return l}function z2(r){return Array.isArray(r)?r[0]!==null&&r[1]!==null:r!==null}function B2(r){if(!r)throw new Error("args is required");var t=r.value,n=r.date,i=r.hover,l="react-calendar__tile",u=[l];if(!n)return u;var h=new Date,m=function(){if(Array.isArray(n))return n;var R=r.dateType;if(!R)throw new Error("dateType is required when date is not an array of two dates");return F0(R,n)}();if(Xo(h,m)&&u.push("".concat(l,"--now")),!t||!z2(t))return u;var p=function(){if(Array.isArray(t))return t;var R=r.valueType;if(!R)throw new Error("valueType is required when value is not an array of two dates");return F0(R,t)}();j2(p,m)?u.push("".concat(l,"--active")):Vb(p,m)&&u.push("".concat(l,"--hasActive"));var g=G0(p,m,"".concat(l,"--range"));u.push.apply(u,g);var v=Array.isArray(t)?t:[t];if(i&&v.length===1){var T=i>p[0]?[p[0],i]:[i,p[0]],b=G0(T,m,"".concat(l,"--hover"));u.push.apply(u,b)}return u}function zf(r){for(var t=r.className,n=r.count,i=n===void 0?3:n,l=r.dateTransform,u=r.dateType,h=r.end,m=r.hover,p=r.offset,g=r.renderTile,v=r.start,T=r.step,b=T===void 0?1:T,R=r.value,D=r.valueType,k=[],V=v;V<=h;V+=b){var H=l(V);k.push(g({classes:B2({date:H,dateType:u,hover:m,value:R,valueType:D}),date:H}))}return I.jsx(Zg,{className:t,count:i,offset:p,wrap:!0,children:k})}function Bf(r){var t=r.activeStartDate,n=r.children,i=r.classes,l=r.date,u=r.formatAbbr,h=r.locale,m=r.maxDate,p=r.maxDateTransform,g=r.minDate,v=r.minDateTransform,T=r.onClick,b=r.onMouseOver,R=r.style,D=r.tileClassName,k=r.tileContent,V=r.tileDisabled,H=r.view,rt=B.useMemo(function(){var ut={activeStartDate:t,date:l,view:H};return typeof D=="function"?D(ut):D},[t,l,D,H]),Z=B.useMemo(function(){var ut={activeStartDate:t,date:l,view:H};return typeof k=="function"?k(ut):k},[t,l,k,H]);return I.jsxs("button",{className:Pf(i,rt),disabled:g&&v(g)>l||m&&p(m)<l||(V==null?void 0:V({activeStartDate:t,date:l,view:H})),onClick:T?function(ut){return T(l,ut)}:void 0,onFocus:b?function(){return b(l)}:void 0,onMouseOver:b?function(){return b(l)}:void 0,style:R,type:"button",children:[u?I.jsx("abbr",{"aria-label":u(h,l),children:n}):n,Z]})}var km=function(){return km=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},km.apply(this,arguments)},q2=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]]);return n},Q0="react-calendar__century-view__decades__decade";function H2(r){var t=r.classes,n=t===void 0?[]:t,i=r.currentCentury,l=r.formatYear,u=l===void 0?jf:l,h=q2(r,["classes","currentCentury","formatYear"]),m=h.date,p=h.locale,g=[];return n&&g.push.apply(g,n),g.push(Q0),bl(m).getFullYear()!==i&&g.push("".concat(Q0,"--neighboringCentury")),I.jsx(Bf,km({},h,{classes:g,maxDateTransform:Lf,minDateTransform:gi,view:"century",children:Nb(p,u,m)}))}var Lm=function(){return Lm=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},Lm.apply(this,arguments)},K0=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]]);return n};function F2(r){var t=r.activeStartDate,n=r.hover,i=r.showNeighboringCentury,l=r.value,u=r.valueType,h=K0(r,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),m=A2(t),p=m+(i?119:99);return I.jsx(zf,{className:"react-calendar__century-view__decades",dateTransform:gi,dateType:"decade",end:p,hover:n,renderTile:function(g){var v=g.date,T=K0(g,["date"]);return I.jsx(H2,Lm({},h,T,{activeStartDate:t,currentCentury:m,date:v}),v.getTime())},start:m,step:10,value:l,valueType:u})}var Um=function(){return Um=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},Um.apply(this,arguments)};function Y2(r){function t(){return I.jsx(F2,Um({},r))}return I.jsx("div",{className:"react-calendar__century-view",children:t()})}var jm=function(){return jm=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},jm.apply(this,arguments)},G2=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]]);return n},$0="react-calendar__decade-view__years__year";function Q2(r){var t=r.classes,n=t===void 0?[]:t,i=r.currentDecade,l=r.formatYear,u=l===void 0?jf:l,h=G2(r,["classes","currentDecade","formatYear"]),m=h.date,p=h.locale,g=[];return n&&g.push.apply(g,n),g.push($0),gi(m).getFullYear()!==i&&g.push("".concat($0,"--neighboringDecade")),I.jsx(Bf,jm({},h,{classes:g,maxDateTransform:Uf,minDateTransform:wl,view:"decade",children:u(p,m)}))}var zm=function(){return zm=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},zm.apply(this,arguments)},X0=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]]);return n};function K2(r){var t=r.activeStartDate,n=r.hover,i=r.showNeighboringDecade,l=r.value,u=r.valueType,h=X0(r,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),m=R2(t),p=m+(i?11:9);return I.jsx(zf,{className:"react-calendar__decade-view__years",dateTransform:wl,dateType:"year",end:p,hover:n,renderTile:function(g){var v=g.date,T=X0(g,["date"]);return I.jsx(Q2,zm({},h,T,{activeStartDate:t,currentDecade:m,date:v}),v.getTime())},start:m,value:l,valueType:u})}var Bm=function(){return Bm=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},Bm.apply(this,arguments)};function $2(r){function t(){return I.jsx(K2,Bm({},r))}return I.jsx("div",{className:"react-calendar__decade-view",children:t()})}var qm=function(){return qm=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},qm.apply(this,arguments)},X2=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]]);return n},W0=function(r,t,n){if(n||arguments.length===2)for(var i=0,l=t.length,u;i<l;i++)(u||!(i in t))&&(u||(u=Array.prototype.slice.call(t,0,i)),u[i]=t[i]);return r.concat(u||Array.prototype.slice.call(t))},W2="react-calendar__year-view__months__month";function Z2(r){var t=r.classes,n=t===void 0?[]:t,i=r.formatMonth,l=i===void 0?E2:i,u=r.formatMonthYear,h=u===void 0?xb:u,m=X2(r,["classes","formatMonth","formatMonthYear"]),p=m.date,g=m.locale;return I.jsx(Bf,qm({},m,{classes:W0(W0([],n,!0),[W2],!1),formatAbbr:h,maxDateTransform:ou,minDateTransform:as,view:"year",children:l(g,p)}))}var Hm=function(){return Hm=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},Hm.apply(this,arguments)},Z0=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]]);return n};function J2(r){var t=r.activeStartDate,n=r.hover,i=r.value,l=r.valueType,u=Z0(r,["activeStartDate","hover","value","valueType"]),h=0,m=11,p=pe(t);return I.jsx(zf,{className:"react-calendar__year-view__months",dateTransform:function(g){var v=new Date;return v.setFullYear(p,g,1),as(v)},dateType:"month",end:m,hover:n,renderTile:function(g){var v=g.date,T=Z0(g,["date"]);return I.jsx(Z2,Hm({},u,T,{activeStartDate:t,date:v}),v.getTime())},start:h,value:i,valueType:l})}var Fm=function(){return Fm=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},Fm.apply(this,arguments)};function tO(r){function t(){return I.jsx(J2,Fm({},r))}return I.jsx("div",{className:"react-calendar__year-view",children:t()})}var Ym=function(){return Ym=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},Ym.apply(this,arguments)},eO=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]]);return n},im="react-calendar__month-view__days__day";function nO(r){var t=r.calendarType,n=r.classes,i=n===void 0?[]:n,l=r.currentMonthIndex,u=r.formatDay,h=u===void 0?v2:u,m=r.formatLongDate,p=m===void 0?_2:m,g=eO(r,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),v=g.date,T=g.locale,b=[];return i&&b.push.apply(b,i),b.push(im),Mb(v,t)&&b.push("".concat(im,"--weekend")),v.getMonth()!==l&&b.push("".concat(im,"--neighboringMonth")),I.jsx(Bf,Ym({},g,{classes:b,formatAbbr:p,maxDateTransform:Xg,minDateTransform:uu,view:"month",children:h(T,v)}))}var Gm=function(){return Gm=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},Gm.apply(this,arguments)},J0=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]]);return n};function rO(r){var t=r.activeStartDate,n=r.calendarType,i=r.hover,l=r.showFixedNumberOfWeeks,u=r.showNeighboringMonth,h=r.value,m=r.valueType,p=J0(r,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),g=pe(t),v=mi(t),T=l||u,b=$o(t,n),R=T?0:b,D=(T?-b:0)+1,k=function(){if(l)return D+6*7-1;var V=Db(t);if(u){var H=new Date;H.setFullYear(g,v,V),H.setHours(0,0,0,0);var rt=7-$o(H,n)-1;return V+rt}return V}();return I.jsx(zf,{className:"react-calendar__month-view__days",count:7,dateTransform:function(V){var H=new Date;return H.setFullYear(g,v,V),uu(H)},dateType:"day",hover:i,end:k,renderTile:function(V){var H=V.date,rt=J0(V,["date"]);return I.jsx(nO,Gm({},p,rt,{activeStartDate:t,calendarType:n,currentMonthIndex:v,date:H}),H.getTime())},offset:R,start:D,value:h,valueType:m})}var Pb="react-calendar__month-view__weekdays",sm="".concat(Pb,"__weekday");function aO(r){for(var t=r.calendarType,n=r.formatShortWeekday,i=n===void 0?T2:n,l=r.formatWeekday,u=l===void 0?b2:l,h=r.locale,m=r.onMouseLeave,p=new Date,g=as(p),v=pe(g),T=mi(g),b=[],R=1;R<=7;R+=1){var D=new Date(v,T,R-$o(g,t)),k=u(h,D);b.push(I.jsx("div",{className:Pf(sm,P2(D)&&"".concat(sm,"--current"),Mb(D,t)&&"".concat(sm,"--weekend")),children:I.jsx("abbr",{"aria-label":k,title:k,children:i(h,D).replace(".","")})},R))}return I.jsx(Zg,{className:Pb,count:7,onFocus:m,onMouseOver:m,children:b})}var ff=function(){return ff=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},ff.apply(this,arguments)},tE=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]]);return n},eE="react-calendar__tile";function iO(r){var t=r.onClickWeekNumber,n=r.weekNumber,i=I.jsx("span",{children:n});if(t){var l=r.date,u=r.onClickWeekNumber,h=r.weekNumber,m=tE(r,["date","onClickWeekNumber","weekNumber"]);return I.jsx("button",ff({},m,{className:eE,onClick:function(p){return u(h,l,p)},type:"button",children:i}))}else{r.date,r.onClickWeekNumber,r.weekNumber;var m=tE(r,["date","onClickWeekNumber","weekNumber"]);return I.jsx("div",ff({},m,{className:eE,children:i}))}}function sO(r){var t=r.activeStartDate,n=r.calendarType,i=r.onClickWeekNumber,l=r.onMouseLeave,u=r.showFixedNumberOfWeeks,h=function(){if(u)return 6;var g=Db(t),v=$o(t,n),T=g-(7-v);return 1+Math.ceil(T/7)}(),m=function(){for(var g=pe(t),v=mi(t),T=kf(t),b=[],R=0;R<h;R+=1)b.push(Pm(new Date(g,v,T+R*7),n));return b}(),p=m.map(function(g){return D2(g,n)});return I.jsx(Zg,{className:"react-calendar__month-view__weekNumbers",count:h,direction:"column",onFocus:l,onMouseOver:l,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:p.map(function(g,v){var T=m[v];if(!T)throw new Error("date is not defined");return I.jsx(iO,{date:T,onClickWeekNumber:i,weekNumber:g},g)})})}var Qm=function(){return Qm=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},Qm.apply(this,arguments)},lO=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]]);return n};function oO(r){if(r)for(var t=0,n=Object.entries(o2);t<n.length;t++){var i=n[t],l=i[0],u=i[1];if(u.includes(r))return l}return an.ISO_8601}function uO(r){var t=r.activeStartDate,n=r.locale,i=r.onMouseLeave,l=r.showFixedNumberOfWeeks,u=r.calendarType,h=u===void 0?oO(n):u,m=r.formatShortWeekday,p=r.formatWeekday,g=r.onClickWeekNumber,v=r.showWeekNumbers,T=lO(r,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function b(){return I.jsx(aO,{calendarType:h,formatShortWeekday:m,formatWeekday:p,locale:n,onMouseLeave:i})}function R(){return v?I.jsx(sO,{activeStartDate:t,calendarType:h,onClickWeekNumber:g,onMouseLeave:i,showFixedNumberOfWeeks:l}):null}function D(){return I.jsx(rO,Qm({calendarType:h},T))}var k="react-calendar__month-view";return I.jsx("div",{className:Pf(k,v?"".concat(k,"--weekNumbers"):""),children:I.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[R(),I.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[b(),D()]})]})})}var al=function(){return al=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},al.apply(this,arguments)},Pc="react-calendar",Yc=["century","decade","year","month"],cO=["decade","year","month","day"],Jg=new Date;Jg.setFullYear(1,0,1);Jg.setHours(0,0,0,0);var fO=new Date(864e13);function Po(r){return r instanceof Date?r:new Date(r)}function kb(r,t){return Yc.slice(Yc.indexOf(r),Yc.indexOf(t)+1)}function hO(r,t,n){var i=kb(t,n);return i.indexOf(r)!==-1}function tp(r,t,n){return r&&hO(r,t,n)?r:n}function Lb(r){var t=Yc.indexOf(r);return cO[t]}function dO(r,t){var n=Array.isArray(r)?r[t]:r;if(!n)return null;var i=Po(n);if(Number.isNaN(i.getTime()))throw new Error("Invalid date: ".concat(r));return i}function Ub(r,t){var n=r.value,i=r.minDate,l=r.maxDate,u=r.maxDetail,h=dO(n,t);if(!h)return null;var m=Lb(u),p=function(){switch(t){case 0:return Zi(m,h);case 1:return Ob(m,h);default:throw new Error("Invalid index value: ".concat(t))}}();return U2(p,i,l)}var ep=function(r){return Ub(r,0)},jb=function(r){return Ub(r,1)},mO=function(r){return[ep,jb].map(function(t){return t(r)})};function zb(r){var t=r.maxDate,n=r.maxDetail,i=r.minDate,l=r.minDetail,u=r.value,h=r.view,m=tp(h,l,n),p=ep({value:u,minDate:i,maxDate:t,maxDetail:n})||new Date;return Zi(m,p)}function gO(r){var t=r.activeStartDate,n=r.defaultActiveStartDate,i=r.defaultValue,l=r.defaultView,u=r.maxDate,h=r.maxDetail,m=r.minDate,p=r.minDetail,g=r.value,v=r.view,T=tp(v,p,h),b=t||n;return b?Zi(T,b):zb({maxDate:u,maxDetail:h,minDate:m,minDetail:p,value:g||i,view:v||l})}function lm(r){return r&&(!Array.isArray(r)||r.length===1)}function kc(r,t){return r instanceof Date&&t instanceof Date&&r.getTime()===t.getTime()}var pO=B.forwardRef(function(t,n){var i=t.activeStartDate,l=t.allowPartialRange,u=t.calendarType,h=t.className,m=t.defaultActiveStartDate,p=t.defaultValue,g=t.defaultView,v=t.formatDay,T=t.formatLongDate,b=t.formatMonth,R=t.formatMonthYear,D=t.formatShortWeekday,k=t.formatWeekday,V=t.formatYear,H=t.goToRangeStartOnSelect,rt=H===void 0?!0:H,Z=t.inputRef,ut=t.locale,ct=t.maxDate,it=ct===void 0?fO:ct,M=t.maxDetail,A=M===void 0?"month":M,x=t.minDate,N=x===void 0?Jg:x,U=t.minDetail,j=U===void 0?"century":U,C=t.navigationAriaLabel,mt=t.navigationAriaLive,Dt=t.navigationLabel,Q=t.next2AriaLabel,st=t.next2Label,gt=t.nextAriaLabel,xt=t.nextLabel,P=t.onActiveStartDateChange,J=t.onChange,ot=t.onClickDay,at=t.onClickDecade,pt=t.onClickMonth,Ct=t.onClickWeekNumber,_t=t.onClickYear,ce=t.onDrillDown,Ft=t.onDrillUp,Ne=t.onViewChange,kn=t.prev2AriaLabel,An=t.prev2Label,Ln=t.prevAriaLabel,tr=t.prevLabel,ae=t.returnValue,er=ae===void 0?"start":ae,Ge=t.selectRange,Qe=t.showDoubleView,ss=t.showFixedNumberOfWeeks,wa=t.showNavigation,Sa=wa===void 0?!0:wa,zr=t.showNeighboringCentury,Sl=t.showNeighboringDecade,Br=t.showNeighboringMonth,pi=Br===void 0?!0:Br,ls=t.showWeekNumbers,fe=t.tileClassName,Qt=t.tileContent,dn=t.tileDisabled,Ae=t.value,yi=t.view,os=B.useState(m),qr=os[0],Un=os[1],yr=B.useState(null),Rn=yr[0],Hr=yr[1],vr=B.useState(Array.isArray(p)?p.map(function(St){return St!==null?Po(St):null}):p!=null?Po(p):null),Fr=vr[0],vi=vr[1],Aa=B.useState(g),nr=Aa[0],jn=Aa[1],Re=i||qr||gO({activeStartDate:i,defaultActiveStartDate:m,defaultValue:p,defaultView:g,maxDate:it,maxDetail:A,minDate:N,minDetail:j,value:Ae,view:yi}),oe=function(){var St=function(){return Ge&&lm(Fr)?Fr:Ae!==void 0?Ae:Fr}();return St?Array.isArray(St)?St.map(function(Vt){return Vt!==null?Po(Vt):null}):St!==null?Po(St):null:null}(),_r=Lb(A),Yt=tp(yi||nr,j,A),Ke=kb(j,A),Er=Ge?Rn:null,Ra=Ke.indexOf(Yt)<Ke.length-1,ie=Ke.indexOf(Yt)>0,_e=B.useCallback(function(St){var Vt=function(){switch(er){case"start":return ep;case"end":return jb;case"range":return mO;default:throw new Error("Invalid returnValue.")}}();return Vt({maxDate:it,maxDetail:A,minDate:N,value:St})},[it,A,N,er]),he=B.useCallback(function(St,Vt){Un(St);var Ot={action:Vt,activeStartDate:St,value:oe,view:Yt};P&&!kc(Re,St)&&P(Ot)},[Re,P,oe,Yt]),$e=B.useCallback(function(St,Vt){var Ot=function(){switch(Yt){case"century":return at;case"decade":return _t;case"year":return pt;case"month":return ot;default:throw new Error("Invalid view: ".concat(Yt,"."))}}();Ot&&Ot(St,Vt)},[ot,at,pt,_t,Yt]),Yr=B.useCallback(function(St,Vt){if(Ra){$e(St,Vt);var Ot=Ke[Ke.indexOf(Yt)+1];if(!Ot)throw new Error("Attempted to drill down from the lowest view.");Un(St),jn(Ot);var Xe={action:"drillDown",activeStartDate:St,value:oe,view:Ot};P&&!kc(Re,St)&&P(Xe),Ne&&Yt!==Ot&&Ne(Xe),ce&&ce(Xe)}},[Re,Ra,P,$e,ce,Ne,oe,Yt,Ke]),_i=B.useCallback(function(){if(ie){var St=Ke[Ke.indexOf(Yt)-1];if(!St)throw new Error("Attempted to drill up from the highest view.");var Vt=Zi(St,Re);Un(Vt),jn(St);var Ot={action:"drillUp",activeStartDate:Vt,value:oe,view:St};P&&!kc(Re,Vt)&&P(Ot),Ne&&Yt!==St&&Ne(Ot),Ft&&Ft(Ot)}},[Re,ie,P,Ft,Ne,oe,Yt,Ke]),zn=B.useCallback(function(St,Vt){var Ot=oe;$e(St,Vt);var Xe=Ge&&!lm(Ot),je;if(Ge)if(Xe)je=Zi(_r,St);else{if(!Ot)throw new Error("previousValue is required");if(Array.isArray(Ot))throw new Error("previousValue must not be an array");je=M2(_r,Ot,St)}else je=_e(St);var mn=!Ge||Xe||rt?zb({maxDate:it,maxDetail:A,minDate:N,minDetail:j,value:je,view:Yt}):null;Vt.persist(),Un(mn),vi(je);var sr={action:"onChange",activeStartDate:mn,value:je,view:Yt};if(P&&!kc(Re,mn)&&P(sr),J)if(Ge){var cs=lm(je);if(!cs)J(je||null,Vt);else if(l){if(Array.isArray(je))throw new Error("value must not be an array");J([je||null,null],Vt)}}else J(je||null,Vt)},[Re,l,_e,rt,it,A,N,j,P,J,$e,Ge,oe,_r,Yt]);function us(St){Hr(St)}function rr(){Hr(null)}B.useImperativeHandle(n,function(){return{activeStartDate:Re,drillDown:Yr,drillUp:_i,onChange:zn,setActiveStartDate:he,value:oe,view:Yt}},[Re,Yr,_i,zn,he,oe,Yt]);function ar(St){var Vt=St?Cb(Yt,Re):Zi(Yt,Re),Ot=Ra?Yr:zn,Xe={activeStartDate:Vt,hover:Er,locale:ut,maxDate:it,minDate:N,onClick:Ot,onMouseOver:Ge?us:void 0,tileClassName:fe,tileContent:Qt,tileDisabled:dn,value:oe,valueType:_r};switch(Yt){case"century":return I.jsx(Y2,al({formatYear:V,showNeighboringCentury:zr},Xe));case"decade":return I.jsx($2,al({formatYear:V,showNeighboringDecade:Sl},Xe));case"year":return I.jsx(tO,al({formatMonth:b,formatMonthYear:R},Xe));case"month":return I.jsx(uO,al({calendarType:u,formatDay:v,formatLongDate:T,formatShortWeekday:D,formatWeekday:k,onClickWeekNumber:Ct,onMouseLeave:Ge?rr:void 0,showFixedNumberOfWeeks:typeof ss<"u"?ss:Qe,showNeighboringMonth:pi,showWeekNumbers:ls},Xe));default:throw new Error("Invalid view: ".concat(Yt,"."))}}function ir(){return Sa?I.jsx(k2,{activeStartDate:Re,drillUp:_i,formatMonthYear:R,formatYear:V,locale:ut,maxDate:it,minDate:N,navigationAriaLabel:C,navigationAriaLive:mt,navigationLabel:Dt,next2AriaLabel:Q,next2Label:st,nextAriaLabel:gt,nextLabel:xt,prev2AriaLabel:kn,prev2Label:An,prevAriaLabel:Ln,prevLabel:tr,setActiveStartDate:he,showDoubleView:Qe,view:Yt,views:Ke}):null}var Bn=Array.isArray(oe)?oe:[oe];return I.jsxs("div",{className:Pf(Pc,Ge&&Bn.length===1&&"".concat(Pc,"--selectRange"),Qe&&"".concat(Pc,"--doubleView"),h),ref:Z,children:[ir(),I.jsxs("div",{className:"".concat(Pc,"__viewContainer"),onBlur:Ge?rr:void 0,onMouseLeave:Ge?rr:void 0,children:[ar(),Qe?ar(!0):null]})]})});const Bb=6048e5,yO=864e5,nE=Symbol.for("constructDateFrom");function fi(r,t){return typeof r=="function"?r(t):r&&typeof r=="object"&&nE in r?r[nE](t):r instanceof Date?new r.constructor(t):new Date(t)}function pr(r,t){return fi(t||r,r)}let vO={};function qf(){return vO}function Wo(r,t){var m,p,g,v;const n=qf(),i=(t==null?void 0:t.weekStartsOn)??((p=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:p.weekStartsOn)??n.weekStartsOn??((v=(g=n.locale)==null?void 0:g.options)==null?void 0:v.weekStartsOn)??0,l=pr(r,t==null?void 0:t.in),u=l.getDay(),h=(u<i?7:0)+u-i;return l.setDate(l.getDate()-h),l.setHours(0,0,0,0),l}function hf(r,t){return Wo(r,{...t,weekStartsOn:1})}function qb(r,t){const n=pr(r,t==null?void 0:t.in),i=n.getFullYear(),l=fi(n,0);l.setFullYear(i+1,0,4),l.setHours(0,0,0,0);const u=hf(l),h=fi(n,0);h.setFullYear(i,0,4),h.setHours(0,0,0,0);const m=hf(h);return n.getTime()>=u.getTime()?i+1:n.getTime()>=m.getTime()?i:i-1}function rE(r){const t=pr(r),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+r-+n}function _O(r,...t){const n=fi.bind(null,t.find(i=>typeof i=="object"));return t.map(n)}function aE(r,t){const n=pr(r,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function EO(r,t,n){const[i,l]=_O(n==null?void 0:n.in,r,t),u=aE(i),h=aE(l),m=+u-rE(u),p=+h-rE(h);return Math.round((m-p)/yO)}function TO(r,t){const n=qb(r,t),i=fi(r,0);return i.setFullYear(n,0,4),i.setHours(0,0,0,0),hf(i)}function bO(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function wO(r){return!(!bO(r)&&typeof r!="number"||isNaN(+pr(r)))}function SO(r,t){const n=pr(r,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const AO={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},RO=(r,t,n)=>{let i;const l=AO[r];return typeof l=="string"?i=l:t===1?i=l.one:i=l.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function om(r){return(t={})=>{const n=t.width?String(t.width):r.defaultWidth;return r.formats[n]||r.formats[r.defaultWidth]}}const DO={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},xO={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},CO={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},OO={date:om({formats:DO,defaultWidth:"full"}),time:om({formats:xO,defaultWidth:"full"}),dateTime:om({formats:CO,defaultWidth:"full"})},IO={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},NO=(r,t,n,i)=>IO[r];function xo(r){return(t,n)=>{const i=n!=null&&n.context?String(n.context):"standalone";let l;if(i==="formatting"&&r.formattingValues){const h=r.defaultFormattingWidth||r.defaultWidth,m=n!=null&&n.width?String(n.width):h;l=r.formattingValues[m]||r.formattingValues[h]}else{const h=r.defaultWidth,m=n!=null&&n.width?String(n.width):r.defaultWidth;l=r.values[m]||r.values[h]}const u=r.argumentCallback?r.argumentCallback(t):t;return l[u]}}const MO={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},VO={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},PO={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},kO={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},LO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},UO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},jO=(r,t)=>{const n=Number(r),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},zO={ordinalNumber:jO,era:xo({values:MO,defaultWidth:"wide"}),quarter:xo({values:VO,defaultWidth:"wide",argumentCallback:r=>r-1}),month:xo({values:PO,defaultWidth:"wide"}),day:xo({values:kO,defaultWidth:"wide"}),dayPeriod:xo({values:LO,defaultWidth:"wide",formattingValues:UO,defaultFormattingWidth:"wide"})};function Co(r){return(t,n={})=>{const i=n.width,l=i&&r.matchPatterns[i]||r.matchPatterns[r.defaultMatchWidth],u=t.match(l);if(!u)return null;const h=u[0],m=i&&r.parsePatterns[i]||r.parsePatterns[r.defaultParseWidth],p=Array.isArray(m)?qO(m,T=>T.test(h)):BO(m,T=>T.test(h));let g;g=r.valueCallback?r.valueCallback(p):p,g=n.valueCallback?n.valueCallback(g):g;const v=t.slice(h.length);return{value:g,rest:v}}}function BO(r,t){for(const n in r)if(Object.prototype.hasOwnProperty.call(r,n)&&t(r[n]))return n}function qO(r,t){for(let n=0;n<r.length;n++)if(t(r[n]))return n}function HO(r){return(t,n={})=>{const i=t.match(r.matchPattern);if(!i)return null;const l=i[0],u=t.match(r.parsePattern);if(!u)return null;let h=r.valueCallback?r.valueCallback(u[0]):u[0];h=n.valueCallback?n.valueCallback(h):h;const m=t.slice(l.length);return{value:h,rest:m}}}const FO=/^(\d+)(th|st|nd|rd)?/i,YO=/\d+/i,GO={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},QO={any:[/^b/i,/^(a|c)/i]},KO={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},$O={any:[/1/i,/2/i,/3/i,/4/i]},XO={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},WO={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ZO={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},JO={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},tI={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},eI={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},nI={ordinalNumber:HO({matchPattern:FO,parsePattern:YO,valueCallback:r=>parseInt(r,10)}),era:Co({matchPatterns:GO,defaultMatchWidth:"wide",parsePatterns:QO,defaultParseWidth:"any"}),quarter:Co({matchPatterns:KO,defaultMatchWidth:"wide",parsePatterns:$O,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Co({matchPatterns:XO,defaultMatchWidth:"wide",parsePatterns:WO,defaultParseWidth:"any"}),day:Co({matchPatterns:ZO,defaultMatchWidth:"wide",parsePatterns:JO,defaultParseWidth:"any"}),dayPeriod:Co({matchPatterns:tI,defaultMatchWidth:"any",parsePatterns:eI,defaultParseWidth:"any"})},rI={code:"en-US",formatDistance:RO,formatLong:OO,formatRelative:NO,localize:zO,match:nI,options:{weekStartsOn:0,firstWeekContainsDate:1}};function aI(r,t){const n=pr(r,t==null?void 0:t.in);return EO(n,SO(n))+1}function iI(r,t){const n=pr(r,t==null?void 0:t.in),i=+hf(n)-+TO(n);return Math.round(i/Bb)+1}function Hb(r,t){var v,T,b,R;const n=pr(r,t==null?void 0:t.in),i=n.getFullYear(),l=qf(),u=(t==null?void 0:t.firstWeekContainsDate)??((T=(v=t==null?void 0:t.locale)==null?void 0:v.options)==null?void 0:T.firstWeekContainsDate)??l.firstWeekContainsDate??((R=(b=l.locale)==null?void 0:b.options)==null?void 0:R.firstWeekContainsDate)??1,h=fi((t==null?void 0:t.in)||r,0);h.setFullYear(i+1,0,u),h.setHours(0,0,0,0);const m=Wo(h,t),p=fi((t==null?void 0:t.in)||r,0);p.setFullYear(i,0,u),p.setHours(0,0,0,0);const g=Wo(p,t);return+n>=+m?i+1:+n>=+g?i:i-1}function sI(r,t){var m,p,g,v;const n=qf(),i=(t==null?void 0:t.firstWeekContainsDate)??((p=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??n.firstWeekContainsDate??((v=(g=n.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??1,l=Hb(r,t),u=fi((t==null?void 0:t.in)||r,0);return u.setFullYear(l,0,i),u.setHours(0,0,0,0),Wo(u,t)}function lI(r,t){const n=pr(r,t==null?void 0:t.in),i=+Wo(n,t)-+sI(n,t);return Math.round(i/Bb)+1}function Jt(r,t){const n=r<0?"-":"",i=Math.abs(r).toString().padStart(t,"0");return n+i}const Za={y(r,t){const n=r.getFullYear(),i=n>0?n:1-n;return Jt(t==="yy"?i%100:i,t.length)},M(r,t){const n=r.getMonth();return t==="M"?String(n+1):Jt(n+1,2)},d(r,t){return Jt(r.getDate(),t.length)},a(r,t){const n=r.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(r,t){return Jt(r.getHours()%12||12,t.length)},H(r,t){return Jt(r.getHours(),t.length)},m(r,t){return Jt(r.getMinutes(),t.length)},s(r,t){return Jt(r.getSeconds(),t.length)},S(r,t){const n=t.length,i=r.getMilliseconds(),l=Math.trunc(i*Math.pow(10,n-3));return Jt(l,t.length)}},Zs={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},iE={G:function(r,t,n){const i=r.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(r,t,n){if(t==="yo"){const i=r.getFullYear(),l=i>0?i:1-i;return n.ordinalNumber(l,{unit:"year"})}return Za.y(r,t)},Y:function(r,t,n,i){const l=Hb(r,i),u=l>0?l:1-l;if(t==="YY"){const h=u%100;return Jt(h,2)}return t==="Yo"?n.ordinalNumber(u,{unit:"year"}):Jt(u,t.length)},R:function(r,t){const n=qb(r);return Jt(n,t.length)},u:function(r,t){const n=r.getFullYear();return Jt(n,t.length)},Q:function(r,t,n){const i=Math.ceil((r.getMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return Jt(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(r,t,n){const i=Math.ceil((r.getMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return Jt(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(r,t,n){const i=r.getMonth();switch(t){case"M":case"MM":return Za.M(r,t);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(r,t,n){const i=r.getMonth();switch(t){case"L":return String(i+1);case"LL":return Jt(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(r,t,n,i){const l=lI(r,i);return t==="wo"?n.ordinalNumber(l,{unit:"week"}):Jt(l,t.length)},I:function(r,t,n){const i=iI(r);return t==="Io"?n.ordinalNumber(i,{unit:"week"}):Jt(i,t.length)},d:function(r,t,n){return t==="do"?n.ordinalNumber(r.getDate(),{unit:"date"}):Za.d(r,t)},D:function(r,t,n){const i=aI(r);return t==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):Jt(i,t.length)},E:function(r,t,n){const i=r.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(r,t,n,i){const l=r.getDay(),u=(l-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(u);case"ee":return Jt(u,2);case"eo":return n.ordinalNumber(u,{unit:"day"});case"eee":return n.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(l,{width:"short",context:"formatting"});case"eeee":default:return n.day(l,{width:"wide",context:"formatting"})}},c:function(r,t,n,i){const l=r.getDay(),u=(l-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(u);case"cc":return Jt(u,t.length);case"co":return n.ordinalNumber(u,{unit:"day"});case"ccc":return n.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(l,{width:"narrow",context:"standalone"});case"cccccc":return n.day(l,{width:"short",context:"standalone"});case"cccc":default:return n.day(l,{width:"wide",context:"standalone"})}},i:function(r,t,n){const i=r.getDay(),l=i===0?7:i;switch(t){case"i":return String(l);case"ii":return Jt(l,t.length);case"io":return n.ordinalNumber(l,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(r,t,n){const l=r.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(r,t,n){const i=r.getHours();let l;switch(i===12?l=Zs.noon:i===0?l=Zs.midnight:l=i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(r,t,n){const i=r.getHours();let l;switch(i>=17?l=Zs.evening:i>=12?l=Zs.afternoon:i>=4?l=Zs.morning:l=Zs.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(r,t,n){if(t==="ho"){let i=r.getHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return Za.h(r,t)},H:function(r,t,n){return t==="Ho"?n.ordinalNumber(r.getHours(),{unit:"hour"}):Za.H(r,t)},K:function(r,t,n){const i=r.getHours()%12;return t==="Ko"?n.ordinalNumber(i,{unit:"hour"}):Jt(i,t.length)},k:function(r,t,n){let i=r.getHours();return i===0&&(i=24),t==="ko"?n.ordinalNumber(i,{unit:"hour"}):Jt(i,t.length)},m:function(r,t,n){return t==="mo"?n.ordinalNumber(r.getMinutes(),{unit:"minute"}):Za.m(r,t)},s:function(r,t,n){return t==="so"?n.ordinalNumber(r.getSeconds(),{unit:"second"}):Za.s(r,t)},S:function(r,t){return Za.S(r,t)},X:function(r,t,n){const i=r.getTimezoneOffset();if(i===0)return"Z";switch(t){case"X":return lE(i);case"XXXX":case"XX":return $i(i);case"XXXXX":case"XXX":default:return $i(i,":")}},x:function(r,t,n){const i=r.getTimezoneOffset();switch(t){case"x":return lE(i);case"xxxx":case"xx":return $i(i);case"xxxxx":case"xxx":default:return $i(i,":")}},O:function(r,t,n){const i=r.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+sE(i,":");case"OOOO":default:return"GMT"+$i(i,":")}},z:function(r,t,n){const i=r.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+sE(i,":");case"zzzz":default:return"GMT"+$i(i,":")}},t:function(r,t,n){const i=Math.trunc(+r/1e3);return Jt(i,t.length)},T:function(r,t,n){return Jt(+r,t.length)}};function sE(r,t=""){const n=r>0?"-":"+",i=Math.abs(r),l=Math.trunc(i/60),u=i%60;return u===0?n+String(l):n+String(l)+t+Jt(u,2)}function lE(r,t){return r%60===0?(r>0?"-":"+")+Jt(Math.abs(r)/60,2):$i(r,t)}function $i(r,t=""){const n=r>0?"-":"+",i=Math.abs(r),l=Jt(Math.trunc(i/60),2),u=Jt(i%60,2);return n+l+t+u}const oE=(r,t)=>{switch(r){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Fb=(r,t)=>{switch(r){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},oI=(r,t)=>{const n=r.match(/(P+)(p+)?/)||[],i=n[1],l=n[2];if(!l)return oE(r,t);let u;switch(i){case"P":u=t.dateTime({width:"short"});break;case"PP":u=t.dateTime({width:"medium"});break;case"PPP":u=t.dateTime({width:"long"});break;case"PPPP":default:u=t.dateTime({width:"full"});break}return u.replace("{{date}}",oE(i,t)).replace("{{time}}",Fb(l,t))},uI={p:Fb,P:oI},cI=/^D+$/,fI=/^Y+$/,hI=["D","DD","YY","YYYY"];function dI(r){return cI.test(r)}function mI(r){return fI.test(r)}function gI(r,t,n){const i=pI(r,t,n);if(console.warn(i),hI.includes(r))throw new RangeError(i)}function pI(r,t,n){const i=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${t}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const yI=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,vI=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,_I=/^'([^]*?)'?$/,EI=/''/g,TI=/[a-zA-Z]/;function uE(r,t,n){var v,T,b,R;const i=qf(),l=i.locale??rI,u=i.firstWeekContainsDate??((T=(v=i.locale)==null?void 0:v.options)==null?void 0:T.firstWeekContainsDate)??1,h=i.weekStartsOn??((R=(b=i.locale)==null?void 0:b.options)==null?void 0:R.weekStartsOn)??0,m=pr(r,n==null?void 0:n.in);if(!wO(m))throw new RangeError("Invalid time value");let p=t.match(vI).map(D=>{const k=D[0];if(k==="p"||k==="P"){const V=uI[k];return V(D,l.formatLong)}return D}).join("").match(yI).map(D=>{if(D==="''")return{isToken:!1,value:"'"};const k=D[0];if(k==="'")return{isToken:!1,value:bI(D)};if(iE[k])return{isToken:!0,value:D};if(k.match(TI))throw new RangeError("Format string contains an unescaped latin alphabet character `"+k+"`");return{isToken:!1,value:D}});l.localize.preprocessor&&(p=l.localize.preprocessor(m,p));const g={firstWeekContainsDate:u,weekStartsOn:h,locale:l};return p.map(D=>{if(!D.isToken)return D.value;const k=D.value;(mI(k)||dI(k))&&gI(k,t,String(r));const V=iE[k[0]];return V(m,k,l.localize,g)}).join("")}function bI(r){const t=r.match(_I);return t?t[1].replace(EI,"'"):r}function cE(r,t,n,i=[]){const l={일:0,월:1,화:2,수:3,목:4,금:5,토:6};let u=[],h=new Date(r);for(;u.length<n;){const m=Object.keys(l).find(g=>l[g]===h.getDay()),p=h.toISOString().slice(0,10);t.includes(m)&&!i.includes(p)&&u.push({date:p,session:u.length+1}),h.setDate(h.getDate()+1)}return u}function wI(){const r=localStorage.getItem("studentId"),[t,n]=B.useState(null),[i,l]=B.useState({}),[u,h]=B.useState([]),[m,p]=B.useState([]),[g,v]=B.useState([]);return B.useEffect(()=>{if(!r)return;const T=Wi(fr(me,"students",r),b=>{if(b.exists()){const R=b.data();n({id:b.id,...R})}});return(async()=>{const b=await ai(Sn(me,"attendance")),R={};b.docs.forEach(D=>{R[D.id]=D.data()}),l(R)})(),(async()=>{const b=await ai(Sn(me,"makeups"));h(b.docs.map(R=>({id:R.id,...R.data()})))})(),(async()=>{const b=await ai(Sn(me,"holidays"));p(b.docs.map(R=>R.data().date))})(),()=>T()},[r]),B.useEffect(()=>{(async()=>{if(!t)return;const b=t.schedules.map(mt=>mt.day),R=b.length*4,D=R*10,k=[...m];let V=cE(t.startDate,b,D*2,k);const H=new Date(t.startDate).getDay();b.includes(H)&&(!V.length||V[0].date!==t.startDate)?(console.log(`✅ 첫날(${t.startDate})이 요일에 맞아서 추가됨`),V.unshift({date:t.startDate})):console.log(`ℹ️ 첫날(${t.startDate})은 이미 포함됨 or 요일 안 맞음`);const ut=V.filter(mt=>!k.includes(mt.date)).map((mt,Dt)=>{var xt;const Q=(xt=i==null?void 0:i[mt.date])==null?void 0:xt[t.name];let st=(Q==null?void 0:Q.status)||"미정",gt=(Q==null?void 0:Q.time)||"";return{date:mt.date,status:st,time:gt,originalIndex:Dt}}),ct=u.filter(mt=>mt.name===t.name),it=ct.filter(mt=>mt.type==="이월"),M=ct.filter(mt=>mt.type==="보강"),A=[];for(const mt of it){const Dt=ut.find(Q=>Q.date===mt.sourceDate);Dt&&(Dt.status="이월"),mt.date&&A.push({date:mt.date,status:"미정",time:"",originalIndex:-1})}for(const mt of M)mt.date&&!ut.find(Dt=>Dt.date===mt.date&&Dt.status==="보강")&&A.push({date:mt.date,status:"보강",time:"",originalIndex:-1});let x=[...ut,...A].sort((mt,Dt)=>mt.date.localeCompare(Dt.date));const N=new Set(x.map(mt=>mt.date+"-"+mt.originalIndex));let U=x.length>0?x.at(-1).date:t.startDate;for(;!(x.filter(Q=>Q.status!=="이월").length>=D);){const Dt=cE(U,b,1,k).find(Q=>{const st=Q.date+"-"+Q.originalIndex;return!N.has(st)});if(!Dt)break;U=Dt.date,N.add(Dt.date+"-"+Dt.originalIndex),x.push({date:Dt.date,status:"미정",time:"",originalIndex:Dt.originalIndex})}const j=[];let C=1;for(let mt of x)j.push({...mt,session:mt.status==="이월"?"X":C++}),C>R&&(C=1);v(j)})()},[t,i,u,m]),t?I.jsxs("div",{className:"container",style:{textAlign:"center",fontSize:"18px"},children:[I.jsx("h1",{style:{fontSize:"24px"},children:"📅 출석 확인 "}),I.jsx(pO,{style:{display:"block",margin:"0 auto"},tileContent:({date:T,view:b})=>{if(b!=="month")return null;const R=uE(T,"yyyy-MM-dd"),D=g.find(rt=>rt.date===R);let k="";(D==null?void 0:D.status)==="보강"?k="yellowgreen":(D==null?void 0:D.status)==="이월"?k="skyblue":["출석","onTime"].includes(D==null?void 0:D.status)?k="green":["지각","tardy"].includes(D==null?void 0:D.status)?k="#ff9800":(D==null?void 0:D.status)==="결석"?k="#f44336":m.includes(R)&&(k="red");const V=new Date,H=T.toDateString()===V.toDateString();return D?I.jsxs("div",{style:{background:k||(H?"yellow":""),color:"black",borderRadius:4,padding:2,fontSize:12,textAlign:"center"},children:[I.jsx("div",{children:`${D.session}회차`}),D.time&&I.jsx("div",{style:{fontSize:10},children:D.time})]}):H?I.jsx("div",{style:{background:"yellow",borderRadius:4,padding:2,fontSize:12,textAlign:"center"}}):null},onClickDay:T=>{const b=uE(T,"yyyy-MM-dd"),R=g.find(D=>D.date===b);alert(R?`📅 ${b} → ${R.session}회차 (${R.status})`:`📅 ${b} → 출석 기록 없음`)}}),I.jsxs("p",{style:{marginTop:12,fontSize:14},children:["• 색상 설명:",I.jsx("br",{}),"출석(초록), 지각(주황), 결석(빨강), 보강(연두), 이월(하늘), 오늘(노랑)"]})]}):I.jsx("p",{children:"로딩 중…"})}function SI(){var Z,ut,ct;const r=localStorage.getItem("studentId"),t=B.useRef(!1),[n,i]=B.useState(null),[l,u]=B.useState([]),[h,m]=B.useState(0),[p,g]=B.useState({}),[v,T]=B.useState({}),b=["계좌이체","결제선생","카드"];B.useEffect(()=>{if(!r)return;const it=Wi(fr(me,"students",r),M=>{M.exists()&&i({id:M.id,...M.data()})});return()=>it()},[r]),B.useEffect(()=>{if(!r)return;const it=Wi(Sn(me,"payments"),M=>{const A={};M.docs.forEach(x=>{const N=x.data();N.studentId===r&&(A[N.routineNumber]=N.paymentMethod)}),g(A)});return()=>it()},[r]),B.useEffect(()=>{if(!r)return;const it=Wi(Sn(me,"payment_completed"),M=>{const A={};M.docs.forEach(x=>{const N=x.data();N.studentId===r&&(A[String(N.routineNumber)]=N.paymentComplete)}),T(A)});return()=>it()},[r]),B.useEffect(()=>{if(!r)return;const it=Wi(fr(me,"routines",r),M=>{if(!M.exists())return;const A=M.data().lessons||[];if(u(A),!t.current){t.current=!0;const x=new Date().toISOString().slice(0,10),N={};A.forEach(C=>{const mt=C.routineNumber||1;N[mt]||(N[mt]=[]),N[mt].push(C)});const j=Object.values(N).sort((C,mt)=>C[0].routineNumber-mt[0].routineNumber).findIndex(C=>C.some(mt=>mt.date===x));m(j>=0?j:0)}});return()=>it()},[r]);const R=async(it,M)=>{g(A=>({...A,[M]:it})),await jC(fr(me,"payments",`${r}_routine_${M}`),{studentId:r,routineNumber:M,paymentMethod:it,paymentComplete:!1,updatedAt:new Date().toISOString()},{merge:!0})};if(!n)return I.jsx("p",{children:"로딩 중…"});const D={};l.forEach(it=>{const M=it.routineNumber||1;D[M]||(D[M]=[]),D[M].push(it)});const k=Object.values(D).sort((it,M)=>it[0].routineNumber-M[0].routineNumber),V=k[h]||[],H=((Z=V[0])==null?void 0:Z.routineNumber)??h+1,rt=(ct=(ut=k[h+1])==null?void 0:ut[0])==null?void 0:ct.date;return I.jsxs("div",{className:"container-wide",style:{textAlign:"center"},children:[I.jsxs("h1",{style:{fontSize:20,marginBottom:16},children:["👀 ",n.name,"님의 수업 루틴 ",H,"회차"]}),I.jsx("p",{style:{fontSize:18,marginBottom:16},children:v[H]?"✅ 결제완료 되었습니다.":"⚠️ 아직 결제전입니다. 수업시작일 전에 결제 부탁드립니다."}),I.jsx("p",{style:{fontSize:16,marginBottom:32},children:rt?I.jsxs(I.Fragment,{children:["➡️ 다음수업시작일: ",rt,I.jsx("br",{}),"다음 루틴 결제방법은 다음을 누르고 선택해주세요."]}):"다음 루틴 시작일 정보를 불러오지 못했습니다."}),I.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:8,marginBottom:24},children:[I.jsx("h3",{style:{margin:0,fontSize:16,fontWeight:"bold"},children:"결제방법선택"}),b.map(it=>I.jsx("button",{onClick:()=>R(it,H),style:{padding:"4px 8px",background:it==="계좌이체"?"#4caf50":it==="결제선생"?"#2196f3":"#f44336",color:"white",borderRadius:4,minWidth:80},children:it},it))]}),I.jsxs("p",{style:{fontSize:16,marginBottom:16},children:["✅ 현재 선택된 결제방법: ",p[H]||"없음",p[H]==="카드"&&I.jsx("span",{style:{display:"block",marginTop:8,fontSize:14,color:"#555"},children:"➡️ 마지막 수업일이나 다음 수업시작일 전에 보내주세요"}),p[H]==="결제선생"&&I.jsx("span",{style:{display:"block",marginTop:8,fontSize:14,color:"#555"},children:"➡️ 다음수업시작일 5일 전 보내드리겠습니다."}),p[H]==="계좌이체"&&I.jsx("span",{style:{display:"block",marginTop:8,fontSize:14,color:"#555"},children:"➡️ 3333-31-6107963 카카오뱅크 *교재비계좌와 다릅니다"})]}),I.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:24},children:[I.jsx("button",{onClick:()=>m(it=>Math.max(it-1,0)),disabled:h===0,style:{padding:"8px 16px",background:h===0?"#ccc":"#1565c0",color:"white",border:"none",borderRadius:4,cursor:h===0?"default":"pointer"},children:"이전"}),I.jsx("button",{onClick:()=>m(it=>Math.min(it+1,k.length-1)),disabled:h>=k.length-1,style:{padding:"8px 16px",background:h>=k.length-1?"#ccc":"#1565c0",color:"white",border:"none",borderRadius:4,cursor:h>=k.length-1?"default":"pointer"},children:"다음"})]}),I.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[I.jsx("thead",{children:I.jsxs("tr",{children:[I.jsx("th",{style:{border:"1px solid #ccc",padding:8},children:"회차"}),I.jsx("th",{style:{border:"1px solid #ccc",padding:8},children:"날짜"}),I.jsx("th",{style:{border:"1px solid #ccc",padding:8},children:"상태"}),I.jsx("th",{style:{border:"1px solid #ccc",padding:8},children:"시간"})]})}),I.jsxs("tbody",{children:[V.map((it,M)=>I.jsxs("tr",{children:[I.jsx("td",{style:{border:"1px solid #ccc",padding:8,textAlign:"center"},children:it.session}),I.jsx("td",{style:{border:"1px solid #ccc",padding:8,textAlign:"center"},children:it.makeupDate?I.jsxs("span",{children:[I.jsx("s",{children:it.date})," ➔ ",it.makeupDate]}):it.date}),I.jsx("td",{style:{border:"1px solid #ccc",padding:8,textAlign:"center"},children:it.status}),I.jsx("td",{style:{border:"1px solid #ccc",padding:8,textAlign:"center"},children:it.time||"-"})]},M)),V.length===0&&I.jsx("tr",{children:I.jsx("td",{colSpan:4,style:{padding:16,textAlign:"center",color:"#888"},children:"루틴 정보가 없습니다."})})]})]})]})}function AI(){const[r,t]=B.useState([]),[n,i]=B.useState(null),[l,u]=B.useState({}),[h,m]=B.useState([]);B.useEffect(()=>{(async()=>{const g=await ai(Sn(me,"notices"));t(g.docs.map(v=>({id:v.id,title:v.data().title,date:v.data().date})))})(),(async()=>{const g=await ai(Sn(me,"holidays")),v=new Date,T=V=>`${V.getFullYear()}-${String(V.getMonth()+1).padStart(2,"0")}`,b=T(v),R=T(new Date(v.getFullYear(),v.getMonth()-1,1)),D=T(new Date(v.getFullYear(),v.getMonth()+1,1)),k=[R,b,D];m(g.docs.map(V=>({id:V.id,...V.data()})).filter(V=>k.some(H=>V.date.startsWith(H))).sort((V,H)=>V.date.localeCompare(H.date)))})()},[]);const p=async g=>{if(n===g){i(null);return}if(!l[g]){const v=await Hg(fr(me,"notices",g));v.exists()&&u(T=>({...T,[g]:v.data().content}))}i(g)};return I.jsxs("div",{className:"container",children:[I.jsxs("div",{style:{background:"#f9f9f9",padding:"12px",borderRadius:"8px",marginBottom:"16px"},children:[I.jsx("h2",{style:{fontSize:"18px",marginBottom:"8px"},children:"📅 이번 달 휴일"}),h.length>0?I.jsx("ul",{style:{listStyle:"none",padding:0},children:h.map(g=>I.jsxs("li",{style:{marginBottom:"4px"},children:[g.name," — ",I.jsx("span",{style:{color:"red"},children:g.date})]},g.id))}):I.jsx("p",{children:"이번 달 휴일이 없습니다."})]}),I.jsx("h1",{style:{fontSize:"24px"},children:"📣 공지사항 📣"}),I.jsxs("ul",{style:{listStyle:"none",padding:0},children:[r.map(g=>I.jsxs("li",{style:{margin:"8px 0",borderBottom:"1px solid #ccc",paddingBottom:8},children:[I.jsxs("div",{onClick:()=>p(g.id),style:{cursor:"pointer",fontWeight:"bold"},children:[g.title," (",g.date,")"]}),n===g.id&&I.jsx("div",{style:{marginTop:8},children:l[g.id]?I.jsx("div",{dangerouslySetInnerHTML:{__html:l[g.id]}}):"불러오는 중..."})]},g.id)),r.length===0&&I.jsx("p",{children:"등록된 공지사항이 없습니다."})]})]})}function RI(){const{id:r}=eA(),[t,n]=B.useState(null);return B.useEffect(()=>{(async()=>{const i=await Hg(fr(me,"notices",r));i.exists()&&n({id:i.id,...i.data()})})()},[r]),t?I.jsxs("div",{className:"container",children:[I.jsx("h1",{children:t.title}),I.jsxs("p",{children:[I.jsx("strong",{children:"날짜:"})," ",t.date]}),I.jsx("div",{style:{whiteSpace:"pre-wrap",marginTop:12},children:t.content}),I.jsx("p",{style:{marginTop:24},children:I.jsx(rg,{to:"/notices",children:"← 목록으로 돌아가기"})})]}):I.jsx("p",{children:"공지사항을 불러오는 중…"})}function DI(){console.log("📚 바뀜 감지!");const[r,t]=B.useState([]),[n,i]=B.useState(""),l=localStorage.getItem("studentId");B.useEffect(()=>{const m=Sn(me,"books");return Wi(m,p=>{const v=p.docs.map(T=>({id:T.id,...T.data()})).filter(T=>T.studentId===l);t(v)})},[l]);const u=B.useMemo(()=>n?[...r].sort((p,g)=>n==="grade"?p.grade-g.grade:n==="title"?p.title.localeCompare(g.title):n==="completedDate"?p.completedDate.localeCompare(g.completedDate):0):r,[r,n]),h=()=>{const m=["번호","이름","학년","책 제목","완료일"],p=u.map((R,D)=>[D+1,R.name,R.grade,R.title,R.completedDate]);let g=m.join(",")+`
`;p.forEach(R=>{g+=R.join(",")+`
`});const v=new Blob([g],{type:"text/csv;charset=utf-8;"}),T=URL.createObjectURL(v),b=document.createElement("a");b.href=T,b.download=`문제집목록_${new Date().toISOString().slice(0,10)}.csv`,b.click(),URL.revokeObjectURL(T)};return I.jsxs("div",{className:"container",children:[I.jsxs("h1",{style:{fontSize:"24px",marginBottom:"20px"},children:["📚 문제집 관리 (총 갯수: ",r.length,")"]}),I.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px"},children:[I.jsx("button",{onClick:h,style:{padding:"8px 16px",backgroundColor:"#007bff",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"},children:"엑셀 다운로드"}),I.jsx("button",{onClick:()=>i("grade"),style:{padding:"8px 12px",marginLeft:"4px",backgroundColor:"#28a745",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"},children:"학년 정렬"}),I.jsx("button",{onClick:()=>i("title"),style:{padding:"8px 12px",backgroundColor:"#17a2b8",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"},children:"문제집 정렬"}),I.jsx("button",{onClick:()=>i("completedDate"),style:{padding:"8px 12px",backgroundColor:"#ffc107",color:"#000",border:"none",borderRadius:"4px",cursor:"pointer"},children:"완료일 정렬"})]}),I.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"20px"},children:[I.jsx("thead",{children:I.jsxs("tr",{children:[I.jsx("th",{style:{border:"1px solid #ccc",padding:"8px"},children:"번호"}),I.jsx("th",{style:{border:"1px solid #ccc",padding:"8px"},children:"이름"}),I.jsx("th",{style:{border:"1px solid #ccc",padding:"8px"},children:"학년"}),I.jsx("th",{style:{border:"1px solid #ccc",padding:"8px"},children:"책 제목"}),I.jsx("th",{style:{border:"1px solid #ccc",padding:"8px"},children:"완료일"})]})}),I.jsx("tbody",{children:u.length>0?u.map((m,p)=>I.jsxs("tr",{children:[I.jsx("td",{style:{border:"1px solid #ccc",padding:"8px"},children:p+1}),I.jsx("td",{style:{border:"1px solid #ccc",padding:"8px"},children:m.name}),I.jsx("td",{style:{border:"1px solid #ccc",padding:"8px"},children:m.grade}),I.jsx("td",{style:{border:"1px solid #ccc",padding:"8px"},children:m.title}),I.jsx("td",{style:{border:"1px solid #ccc",padding:"8px"},children:m.completedDate})]},m.id)):I.jsx("tr",{children:I.jsx("td",{colSpan:"5",style:{border:"1px solid #ccc",padding:"8px",textAlign:"center"},children:"등록된 데이터가 없습니다."})})})]})]})}function xI(){const[r,t]=B.useState([]),[n,i]=B.useState({}),[l,u]=B.useState(null),[h,m]=B.useState(""),p=localStorage.getItem("studentId");B.useEffect(()=>{const b=Sn(me,"comments");return Wi(b,R=>{const k=R.docs.map(V=>({id:V.id,...V.data()})).filter(V=>V.studentId===p);t(k.sort((V,H)=>(H.createdAt||"").localeCompare(V.createdAt||"")))})},[p]);const g=async b=>{var V;const R=(V=n[b])==null?void 0:V.trim();if(!R)return alert("답변을 입력해주세요!");const D=await Hg(fr(me,"students",p)),k=D.exists()?D.data().name:"이름없음";await db(Sn(me,"comments"),{studentId:p,name:k,comment:`답변:${R}`,date:new Date().toISOString().slice(0,10),createdAt:new Date().toISOString(),parentId:b}),i(H=>({...H,[b]:""})),alert("답변이 저장되었습니다!")},v=async b=>{window.confirm("정말 이 답변을 삭제하시겠습니까?")&&await zC(fr(me,"comments",b))},T=async b=>{if(!h.trim())return alert("수정할 답변을 입력하세요!");await hb(fr(me,"comments",b),{comment:`답변:${h}`}),u(null),m("")};return I.jsxs("div",{className:"container",style:{textAlign:"center",marginTop:"40px"},children:[I.jsx("h2",{style:{fontSize:"20px",marginBottom:"16px"},children:"📝 저장된 코멘트"}),I.jsx("h3",{style:{fontSize:"15px",marginBottom:"16px"},children:"** 한달에 한번정도 코멘트 나갑니다! ** "}),I.jsxs("ul",{style:{listStyle:"none",padding:0,textAlign:"left"},children:[r.filter(b=>!b.comment.startsWith("답변:")).map(b=>{var D;const R=r.filter(k=>k.parentId===b.id);return I.jsxs("li",{style:{marginBottom:16,borderBottom:"1px solid #eee",paddingBottom:8},children:[I.jsxs("div",{children:[b.comment," ",I.jsxs("span",{style:{color:"#888",fontSize:"12px"},children:["(",b.date,")"]})]}),I.jsxs("div",{style:{fontSize:"12px",color:"#aaa"},children:["저장시간: ",(D=b.createdAt)==null?void 0:D.slice(0,19).replace("T"," ")]}),R.map(k=>I.jsx("div",{style:{marginTop:4,marginLeft:10,background:"#f8f8f8",padding:"4px 8px",borderRadius:4},children:l===k.id?I.jsxs(I.Fragment,{children:[I.jsx("input",{value:h,onChange:V=>m(V.target.value),style:{width:"60%",padding:4}}),I.jsx("button",{onClick:()=>T(k.id),style:{marginLeft:8},children:"저장"}),I.jsx("button",{onClick:()=>u(null),style:{marginLeft:4},children:"취소"})]}):I.jsxs(I.Fragment,{children:[I.jsxs("div",{style:{fontSize:"13px",color:"#333"},children:["💬 ",k.comment.replace("답변:","")]}),I.jsxs("div",{style:{marginTop:4},children:[I.jsx("button",{onClick:()=>{u(k.id),m(k.comment.replace("답변:",""))},style:{marginRight:6},children:"수정"}),I.jsx("button",{onClick:()=>v(k.id),children:"삭제"})]})]})},k.id)),I.jsxs("div",{style:{marginTop:8},children:[I.jsx("input",{placeholder:"답변 입력",value:n[b.id]||"",onChange:k=>i(V=>({...V,[b.id]:k.target.value})),style:{width:"70%",padding:4}}),I.jsx("button",{onClick:()=>g(b.id),style:{marginLeft:8,padding:"4px 12px"},children:"저장"})]})]},b.id)}),r.filter(b=>!b.comment.startsWith("답변:")).length===0&&I.jsx("li",{style:{color:"#888"},children:"등록된 코멘트가 없습니다."})]})]})}function CI(){const[r,t]=B.useState("comments");return I.jsxs("div",{className:"container",style:{textAlign:"center",marginTop:"40px"},children:[I.jsx("h1",{style:{fontSize:"24px",marginBottom:"20px"},children:"📚 내 아이 수업 현황"}),I.jsxs("div",{style:{marginBottom:"16px"},children:[I.jsx("button",{onClick:()=>t("comments"),style:{padding:"8px 16px",marginRight:"8px",backgroundColor:r==="comments"?"#007bff":"#f0f0f0",color:r==="comments"?"#fff":"#333",border:"none",borderRadius:"4px",cursor:"pointer"},children:"코멘트"}),I.jsx("button",{onClick:()=>t("books"),style:{padding:"8px 16px",marginRight:"8px",backgroundColor:r==="books"?"#007bff":"#f0f0f0",color:r==="books"?"#fff":"#333",border:"none",borderRadius:"4px",cursor:"pointer"},children:"문제집"})]}),r==="comments"&&I.jsx(xI,{}),I.jsx("div",{className:"page-books",children:r==="books"&&I.jsx(DI,{})}),r==="points"&&I.jsx(PointsPage,{})]})}function OI(){return I.jsx(II,{})}function II(){const[r,t]=B.useState(!!localStorage.getItem("studentId")),[n,i]=B.useState(!1),[l,u]=B.useState(""),h=Ta();B.useEffect(()=>{const v=()=>{t(!!localStorage.getItem("studentId"))};return window.addEventListener("storage",v),()=>{window.removeEventListener("storage",v)}},[]),B.useEffect(()=>{t(!!localStorage.getItem("studentId"))},[h]),B.useEffect(()=>{const v=localStorage.getItem("studentId");if(!v)return;(async()=>{const b=new Date,R=new Date;R.setDate(b.getDate()-3);const D=await ai(Sn(me,"comments")),k=await ai(Sn(me,"books")),V=D.docs.some(rt=>{const Z=rt.data();return Z.studentId===v&&new Date(Z.createdAt||Z.date)>=R}),H=k.docs.some(rt=>{const Z=rt.data();return Z.studentId===v&&new Date(Z.createdAt||Z.completedDate)>=R});g(V||H)})()},[]),B.useEffect(()=>{let v;const T=()=>{clearTimeout(v),v=setTimeout(()=>{localStorage.clear(),t(!1),window.location.hash="#/login",alert("1시간 동안 활동이 없어 자동 로그아웃되었습니다.")},36e5)};if(r){const b=["mousemove","keydown","click","scroll","touchstart"];return b.forEach(R=>window.addEventListener(R,T)),T(),()=>{clearTimeout(v),b.forEach(R=>window.removeEventListener(R,T))}}},[r]);async function m(){const v=localStorage.getItem("studentId");if(!v||l.length!==4){alert("PIN은 4자리 숫자로 입력해야 합니다.");return}try{await hb(fr(me,"students",v),{pin:l}),alert("PIN이 성공적으로 변경되었습니다."),i(!1),u("")}catch(T){console.error(T),alert("PIN 변경 중 오류가 발생했습니다.")}}const[p,g]=B.useState(!1);return I.jsxs("div",{children:[r&&I.jsxs("nav",{style:{position:"sticky",top:0,backgroundColor:"#fff",padding:"8px 0",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",zIndex:1e3,textAlign:"center"},children:[["/attendance","/payment","/notices","/myclass"].map(v=>I.jsx(SE,{to:v,style:({isActive:T})=>({margin:"0 8px",padding:"6px 12px",borderRadius:4,textDecoration:"none",fontWeight:T?"bold":"normal",color:T?"#fff":"#333",backgroundColor:T?"#007bff":"transparent",position:"relative",display:"inline-block"}),children:{"/attendance":"출석","/payment":"결제","/notices":"공지사항","/myclass":I.jsxs(I.Fragment,{children:["내아이수업현황",p&&I.jsx("span",{className:"pulse wiggle",style:{position:"absolute",top:-8,right:-12,backgroundColor:"red",color:"white",borderRadius:"12px",padding:"2px 6px",fontSize:"10px",fontWeight:"bold",fontFamily:"'Segoe UI', 'Apple SD Gothic Neo', sans-serif"},children:"🔥 새글"})]})}[v]},v)),I.jsx("button",{onClick:()=>i(!0),style:{marginLeft:20,padding:"6px 12px",border:"none",borderRadius:4,backgroundColor:"#f0f0f0",cursor:"pointer"},children:"PIN 변경"}),I.jsx("button",{onClick:()=>{localStorage.clear(),t(!1),window.location.hash="#/login"},style:{marginLeft:8,padding:"6px 12px",border:"none",borderRadius:4,backgroundColor:"#f0f0f0",cursor:"pointer"},children:"로그아웃"}),n&&I.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center"},children:I.jsxs("div",{style:{background:"#fff",padding:20,borderRadius:8,width:300},children:[I.jsx("h2",{children:"PIN 변경"}),I.jsx("input",{type:"text",maxLength:4,value:l,onChange:v=>u(v.target.value.replace(/\D/g,"")),placeholder:"새 PIN (4자리)",style:{width:"100%",padding:8,margin:"12px 0"}}),I.jsxs("div",{style:{textAlign:"right"},children:[I.jsx("button",{onClick:()=>i(!1),style:{marginRight:8},children:"취소"}),I.jsx("button",{onClick:m,children:"변경"})]})]})})]}),I.jsxs(pA,{children:[I.jsx(da,{index:!0,element:r?I.jsx(Wa,{to:"notices",replace:!0}):I.jsx(Wa,{to:"login",replace:!0})}),I.jsx(da,{path:"login",element:I.jsx(HC,{onLoginSuccess:()=>t(!0)})}),I.jsx(da,{path:"attendance",element:r?I.jsx(wI,{}):I.jsx(Wa,{to:"login",replace:!0})}),I.jsx(da,{path:"payment",element:r?I.jsx(SI,{}):I.jsx(Wa,{to:"login",replace:!0})}),I.jsx(da,{path:"notices",element:r?I.jsx(AI,{}):I.jsx(Wa,{to:"login",replace:!0})}),I.jsx(da,{path:"notices/:id",element:r?I.jsx(RI,{}):I.jsx(Wa,{to:"login",replace:!0})}),I.jsx(da,{path:"myclass",element:r?I.jsx(CI,{}):I.jsx(Wa,{to:"login",replace:!0})}),I.jsx(da,{path:"*",element:I.jsx(Wa,{to:"",replace:!0})})]})]})}AS.createRoot(document.getElementById("root")).render(I.jsx(B.StrictMode,{children:I.jsx(zA,{basename:"/parents-web",children:I.jsx(OI,{})})}));
